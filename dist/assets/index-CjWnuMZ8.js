(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))d(h);new MutationObserver(h=>{for(const f of h)if(f.type==="childList")for(const b of f.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&d(b)}).observe(document,{childList:!0,subtree:!0});function o(h){const f={};return h.integrity&&(f.integrity=h.integrity),h.referrerPolicy&&(f.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?f.credentials="include":h.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function d(h){if(h.ep)return;h.ep=!0;const f=o(h);fetch(h.href,f)}})();function Jg(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Jc={exports:{}},ai={};var ff;function Kg(){if(ff)return ai;ff=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(d,h,f){var b=null;if(f!==void 0&&(b=""+f),h.key!==void 0&&(b=""+h.key),"key"in h){f={};for(var v in h)v!=="key"&&(f[v]=h[v])}else f=h;return h=f.ref,{$$typeof:l,type:d,key:b,ref:h!==void 0?h:null,props:f}}return ai.Fragment=r,ai.jsx=o,ai.jsxs=o,ai}var pf;function eb(){return pf||(pf=1,Jc.exports=Kg()),Jc.exports}var e=eb(),Kc={exports:{}},_e={};var xf;function tb(){if(xf)return _e;xf=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),b=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),j=Symbol.iterator;function C(O){return O===null||typeof O!="object"?null:(O=j&&O[j]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,_={};function k(O,Z,oe){this.props=O,this.context=Z,this.refs=_,this.updater=oe||N}k.prototype.isReactComponent={},k.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function F(){}F.prototype=k.prototype;function L(O,Z,oe){this.props=O,this.context=Z,this.refs=_,this.updater=oe||N}var E=L.prototype=new F;E.constructor=L,M(E,k.prototype),E.isPureReactComponent=!0;var w=Array.isArray;function A(){}var q={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function B(O,Z,oe){var K=oe.ref;return{$$typeof:l,type:O,key:Z,ref:K!==void 0?K:null,props:oe}}function ee(O,Z){return B(O.type,Z,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===l}function S(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return Z[oe]})}var $=/\/+/g;function D(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?S(""+O.key):Z.toString(36)}function J(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(A,A):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Z,oe,K,V){var U=typeof O;(U==="undefined"||U==="boolean")&&(O=null);var P=!1;if(O===null)P=!0;else switch(U){case"bigint":case"string":case"number":P=!0;break;case"object":switch(O.$$typeof){case l:case r:P=!0;break;case y:return P=O._init,H(P(O._payload),Z,oe,K,V)}}if(P)return V=V(O),P=K===""?"."+D(O,0):K,w(V)?(oe="",P!=null&&(oe=P.replace($,"$&/")+"/"),H(V,Z,oe,"",function(Ne){return Ne})):V!=null&&(I(V)&&(V=ee(V,oe+(V.key==null||O&&O.key===V.key?"":(""+V.key).replace($,"$&/")+"/")+P)),Z.push(V)),1;P=0;var ce=K===""?".":K+":";if(w(O))for(var me=0;me<O.length;me++)K=O[me],U=ce+D(K,me),P+=H(K,Z,oe,U,V);else if(me=C(O),typeof me=="function")for(O=me.call(O),me=0;!(K=O.next()).done;)K=K.value,U=ce+D(K,me++),P+=H(K,Z,oe,U,V);else if(U==="object"){if(typeof O.then=="function")return H(J(O),Z,oe,K,V);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return P}function W(O,Z,oe){if(O==null)return O;var K=[],V=0;return H(O,K,"","",function(U){return Z.call(oe,U,V++)}),K}function ie(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var je=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},te={map:W,forEach:function(O,Z,oe){W(O,function(){Z.apply(this,arguments)},oe)},count:function(O){var Z=0;return W(O,function(){Z++}),Z},toArray:function(O){return W(O,function(Z){return Z})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return _e.Activity=p,_e.Children=te,_e.Component=k,_e.Fragment=o,_e.Profiler=h,_e.PureComponent=L,_e.StrictMode=d,_e.Suspense=x,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,_e.__COMPILER_RUNTIME={__proto__:null,c:function(O){return q.H.useMemoCache(O)}},_e.cache=function(O){return function(){return O.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(O,Z,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var K=M({},O.props),V=O.key;if(Z!=null)for(U in Z.key!==void 0&&(V=""+Z.key),Z)!G.call(Z,U)||U==="key"||U==="__self"||U==="__source"||U==="ref"&&Z.ref===void 0||(K[U]=Z[U]);var U=arguments.length-2;if(U===1)K.children=oe;else if(1<U){for(var P=Array(U),ce=0;ce<U;ce++)P[ce]=arguments[ce+2];K.children=P}return B(O.type,V,K)},_e.createContext=function(O){return O={$$typeof:b,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:f,_context:O},O},_e.createElement=function(O,Z,oe){var K,V={},U=null;if(Z!=null)for(K in Z.key!==void 0&&(U=""+Z.key),Z)G.call(Z,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(V[K]=Z[K]);var P=arguments.length-2;if(P===1)V.children=oe;else if(1<P){for(var ce=Array(P),me=0;me<P;me++)ce[me]=arguments[me+2];V.children=ce}if(O&&O.defaultProps)for(K in P=O.defaultProps,P)V[K]===void 0&&(V[K]=P[K]);return B(O,U,V)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(O){return{$$typeof:v,render:O}},_e.isValidElement=I,_e.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:ie}},_e.memo=function(O,Z){return{$$typeof:g,type:O,compare:Z===void 0?null:Z}},_e.startTransition=function(O){var Z=q.T,oe={};q.T=oe;try{var K=O(),V=q.S;V!==null&&V(oe,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(A,je)}catch(U){je(U)}finally{Z!==null&&oe.types!==null&&(Z.types=oe.types),q.T=Z}},_e.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},_e.use=function(O){return q.H.use(O)},_e.useActionState=function(O,Z,oe){return q.H.useActionState(O,Z,oe)},_e.useCallback=function(O,Z){return q.H.useCallback(O,Z)},_e.useContext=function(O){return q.H.useContext(O)},_e.useDebugValue=function(){},_e.useDeferredValue=function(O,Z){return q.H.useDeferredValue(O,Z)},_e.useEffect=function(O,Z){return q.H.useEffect(O,Z)},_e.useEffectEvent=function(O){return q.H.useEffectEvent(O)},_e.useId=function(){return q.H.useId()},_e.useImperativeHandle=function(O,Z,oe){return q.H.useImperativeHandle(O,Z,oe)},_e.useInsertionEffect=function(O,Z){return q.H.useInsertionEffect(O,Z)},_e.useLayoutEffect=function(O,Z){return q.H.useLayoutEffect(O,Z)},_e.useMemo=function(O,Z){return q.H.useMemo(O,Z)},_e.useOptimistic=function(O,Z){return q.H.useOptimistic(O,Z)},_e.useReducer=function(O,Z,oe){return q.H.useReducer(O,Z,oe)},_e.useRef=function(O){return q.H.useRef(O)},_e.useState=function(O){return q.H.useState(O)},_e.useSyncExternalStore=function(O,Z,oe){return q.H.useSyncExternalStore(O,Z,oe)},_e.useTransition=function(){return q.H.useTransition()},_e.version="19.2.4",_e}var gf;function Nd(){return gf||(gf=1,Kc.exports=tb()),Kc.exports}var u=Nd();const js=Jg(u);var ed={exports:{}},si={},td={exports:{}},ad={};var bf;function ab(){return bf||(bf=1,(function(l){function r(H,W){var ie=H.length;H.push(W);e:for(;0<ie;){var je=ie-1>>>1,te=H[je];if(0<h(te,W))H[je]=W,H[ie]=te,ie=je;else break e}}function o(H){return H.length===0?null:H[0]}function d(H){if(H.length===0)return null;var W=H[0],ie=H.pop();if(ie!==W){H[0]=ie;e:for(var je=0,te=H.length,O=te>>>1;je<O;){var Z=2*(je+1)-1,oe=H[Z],K=Z+1,V=H[K];if(0>h(oe,ie))K<te&&0>h(V,oe)?(H[je]=V,H[K]=ie,je=K):(H[je]=oe,H[Z]=ie,je=Z);else if(K<te&&0>h(V,ie))H[je]=V,H[K]=ie,je=K;else break e}}return W}function h(H,W){var ie=H.sortIndex-W.sortIndex;return ie!==0?ie:H.id-W.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var b=Date,v=b.now();l.unstable_now=function(){return b.now()-v}}var x=[],g=[],y=1,p=null,j=3,C=!1,N=!1,M=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function E(H){for(var W=o(g);W!==null;){if(W.callback===null)d(g);else if(W.startTime<=H)d(g),W.sortIndex=W.expirationTime,r(x,W);else break;W=o(g)}}function w(H){if(M=!1,E(H),!N)if(o(x)!==null)N=!0,A||(A=!0,S());else{var W=o(g);W!==null&&J(w,W.startTime-H)}}var A=!1,q=-1,G=5,B=-1;function ee(){return _?!0:!(l.unstable_now()-B<G)}function I(){if(_=!1,A){var H=l.unstable_now();B=H;var W=!0;try{e:{N=!1,M&&(M=!1,F(q),q=-1),C=!0;var ie=j;try{t:{for(E(H),p=o(x);p!==null&&!(p.expirationTime>H&&ee());){var je=p.callback;if(typeof je=="function"){p.callback=null,j=p.priorityLevel;var te=je(p.expirationTime<=H);if(H=l.unstable_now(),typeof te=="function"){p.callback=te,E(H),W=!0;break t}p===o(x)&&d(x),E(H)}else d(x);p=o(x)}if(p!==null)W=!0;else{var O=o(g);O!==null&&J(w,O.startTime-H),W=!1}}break e}finally{p=null,j=ie,C=!1}W=void 0}}finally{W?S():A=!1}}}var S;if(typeof L=="function")S=function(){L(I)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,D=$.port2;$.port1.onmessage=I,S=function(){D.postMessage(null)}}else S=function(){k(I,0)};function J(H,W){q=k(function(){H(l.unstable_now())},W)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(H){H.callback=null},l.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<H?Math.floor(1e3/H):5},l.unstable_getCurrentPriorityLevel=function(){return j},l.unstable_next=function(H){switch(j){case 1:case 2:case 3:var W=3;break;default:W=j}var ie=j;j=W;try{return H()}finally{j=ie}},l.unstable_requestPaint=function(){_=!0},l.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=j;j=H;try{return W()}finally{j=ie}},l.unstable_scheduleCallback=function(H,W,ie){var je=l.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?je+ie:je):ie=je,H){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ie+te,H={id:y++,callback:W,priorityLevel:H,startTime:ie,expirationTime:te,sortIndex:-1},ie>je?(H.sortIndex=ie,r(g,H),o(x)===null&&H===o(g)&&(M?(F(q),q=-1):M=!0,J(w,ie-je))):(H.sortIndex=te,r(x,H),N||C||(N=!0,A||(A=!0,S()))),H},l.unstable_shouldYield=ee,l.unstable_wrapCallback=function(H){var W=j;return function(){var ie=j;j=W;try{return H.apply(this,arguments)}finally{j=ie}}}})(ad)),ad}var yf;function sb(){return yf||(yf=1,td.exports=ab()),td.exports}var sd={exports:{}},zt={};var jf;function nb(){if(jf)return zt;jf=1;var l=Nd();function r(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var d={d:{f:o,r:function(){throw Error(r(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},h=Symbol.for("react.portal");function f(x,g,y){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:p==null?null:""+p,children:x,containerInfo:g,implementation:y}}var b=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(x,g){if(x==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,zt.createPortal=function(x,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(r(299));return f(x,g,null,y)},zt.flushSync=function(x){var g=b.T,y=d.p;try{if(b.T=null,d.p=2,x)return x()}finally{b.T=g,d.p=y,d.d.f()}},zt.preconnect=function(x,g){typeof x=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,d.d.C(x,g))},zt.prefetchDNS=function(x){typeof x=="string"&&d.d.D(x)},zt.preinit=function(x,g){if(typeof x=="string"&&g&&typeof g.as=="string"){var y=g.as,p=v(y,g.crossOrigin),j=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?d.d.S(x,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:p,integrity:j,fetchPriority:C}):y==="script"&&d.d.X(x,{crossOrigin:p,integrity:j,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},zt.preinitModule=function(x,g){if(typeof x=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=v(g.as,g.crossOrigin);d.d.M(x,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&d.d.M(x)},zt.preload=function(x,g){if(typeof x=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,p=v(y,g.crossOrigin);d.d.L(x,y,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},zt.preloadModule=function(x,g){if(typeof x=="string")if(g){var y=v(g.as,g.crossOrigin);d.d.m(x,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else d.d.m(x)},zt.requestFormReset=function(x){d.d.r(x)},zt.unstable_batchedUpdates=function(x,g){return x(g)},zt.useFormState=function(x,g,y){return b.H.useFormState(x,g,y)},zt.useFormStatus=function(){return b.H.useHostTransitionStatus()},zt.version="19.2.4",zt}var vf;function ap(){if(vf)return sd.exports;vf=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),sd.exports=nb(),sd.exports}var Nf;function lb(){if(Nf)return si;Nf=1;var l=sb(),r=Nd(),o=ap();function d(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function b(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function v(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function x(t){if(f(t)!==t)throw Error(d(188))}function g(t){var a=t.alternate;if(!a){if(a=f(t),a===null)throw Error(d(188));return a!==t?null:t}for(var s=t,n=a;;){var i=s.return;if(i===null)break;var c=i.alternate;if(c===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===c.child){for(c=i.child;c;){if(c===s)return x(i),t;if(c===n)return x(i),a;c=c.sibling}throw Error(d(188))}if(s.return!==n.return)s=i,n=c;else{for(var m=!1,T=i.child;T;){if(T===s){m=!0,s=i,n=c;break}if(T===n){m=!0,n=i,s=c;break}T=T.sibling}if(!m){for(T=c.child;T;){if(T===s){m=!0,s=c,n=i;break}if(T===n){m=!0,n=c,s=i;break}T=T.sibling}if(!m)throw Error(d(189))}}if(s.alternate!==n)throw Error(d(190))}if(s.tag!==3)throw Error(d(188));return s.stateNode.current===s?t:a}function y(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=y(t),a!==null)return a;t=t.sibling}return null}var p=Object.assign,j=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),L=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function S(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var $=Symbol.for("react.client.reference");function D(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===$?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case k:return"Profiler";case _:return"StrictMode";case w:return"Suspense";case A:return"SuspenseList";case B:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case L:return t.displayName||"Context";case F:return(t._context.displayName||"Context")+".Consumer";case E:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return a=t.displayName||null,a!==null?a:D(t.type)||"Memo";case G:a=t._payload,t=t._init;try{return D(t(a))}catch{}}return null}var J=Array.isArray,H=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},je=[],te=-1;function O(t){return{current:t}}function Z(t){0>te||(t.current=je[te],je[te]=null,te--)}function oe(t,a){te++,je[te]=t.current,t.current=a}var K=O(null),V=O(null),U=O(null),P=O(null);function ce(t,a){switch(oe(U,a),oe(V,t),oe(K,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?Om(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=Om(a),t=Um(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(K),oe(K,t)}function me(){Z(K),Z(V),Z(U)}function Ne(t){t.memoizedState!==null&&oe(P,t);var a=K.current,s=Um(a,t.type);a!==s&&(oe(V,t),oe(K,s))}function we(t){V.current===t&&(Z(K),Z(V)),P.current===t&&(Z(P),Jl._currentValue=ie)}var Ce,Me;function Re(t){if(Ce===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Ce=a&&a[1]||"",Me=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+t+Me}var st=!1;function Ke(t,a){if(!t||st)return"";st=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(a){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ue){var re=ue}Reflect.construct(t,[],pe)}else{try{pe.call()}catch(ue){re=ue}t.call(pe.prototype)}}else{try{throw Error()}catch(ue){re=ue}(pe=t())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ue){if(ue&&re&&typeof ue.stack=="string")return[ue.stack,re.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=n.DetermineComponentFrameRoot(),m=c[0],T=c[1];if(m&&T){var Y=m.split(`
`),le=T.split(`
`);for(i=n=0;n<Y.length&&!Y[n].includes("DetermineComponentFrameRoot");)n++;for(;i<le.length&&!le[i].includes("DetermineComponentFrameRoot");)i++;if(n===Y.length||i===le.length)for(n=Y.length-1,i=le.length-1;1<=n&&0<=i&&Y[n]!==le[i];)i--;for(;1<=n&&0<=i;n--,i--)if(Y[n]!==le[i]){if(n!==1||i!==1)do if(n--,i--,0>i||Y[n]!==le[i]){var he=`
`+Y[n].replace(" at new "," at ");return t.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",t.displayName)),he}while(1<=n&&0<=i);break}}}finally{st=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Re(s):""}function mt(t,a){switch(t.tag){case 26:case 27:case 5:return Re(t.type);case 16:return Re("Lazy");case 13:return t.child!==a&&a!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return Ke(t.type,!1);case 11:return Ke(t.type.render,!1);case 1:return Ke(t.type,!0);case 31:return Re("Activity");default:return""}}function vt(t){try{var a="",s=null;do a+=mt(t,s),s=t,t=t.return;while(t);return a}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Be=Object.prototype.hasOwnProperty,ft=l.unstable_scheduleCallback,Gt=l.unstable_cancelCallback,Ut=l.unstable_shouldYield,ta=l.unstable_requestPaint,At=l.unstable_now,hl=l.unstable_getCurrentPriorityLevel,Ya=l.unstable_ImmediatePriority,Va=l.unstable_UserBlockingPriority,pt=l.unstable_NormalPriority,ws=l.unstable_LowPriority,Ra=l.unstable_IdlePriority,Ss=l.log,ml=l.unstable_setDisableYieldValue,Dt=null,Tt=null;function ma(t){if(typeof Ss=="function"&&ml(t),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Dt,t)}catch{}}var Nt=Math.clz32?Math.clz32:Cs,an=Math.log,ks=Math.LN2;function Cs(t){return t>>>=0,t===0?32:31-(an(t)/ks|0)|0}var Qa=256,Oa=262144,Xa=4194304;function Lt(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xt(t,a,s){var n=t.pendingLanes;if(n===0)return 0;var i=0,c=t.suspendedLanes,m=t.pingedLanes;t=t.warmLanes;var T=n&134217727;return T!==0?(n=T&~c,n!==0?i=Lt(n):(m&=T,m!==0?i=Lt(m):s||(s=T&~t,s!==0&&(i=Lt(s))))):(T=n&~c,T!==0?i=Lt(T):m!==0?i=Lt(m):s||(s=n&~t,s!==0&&(i=Lt(s)))),i===0?0:a!==0&&a!==i&&(a&c)===0&&(c=i&-i,s=a&-a,c>=s||c===32&&(s&4194048)!==0)?a:i}function Ca(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function sn(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aa(){var t=Xa;return Xa<<=1,(Xa&62914560)===0&&(Xa=4194304),t}function fa(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function It(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ft(t,a,s,n,i,c){var m=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,Y=t.expirationTimes,le=t.hiddenUpdates;for(s=m&~s;0<s;){var he=31-Nt(s),pe=1<<he;T[he]=0,Y[he]=-1;var re=le[he];if(re!==null)for(le[he]=null,he=0;he<re.length;he++){var ue=re[he];ue!==null&&(ue.lane&=-536870913)}s&=~pe}n!==0&&Ua(t,n,0),c!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=c&~(m&~a))}function Ua(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var n=31-Nt(a);t.entangledLanes|=a,t.entanglements[n]=t.entanglements[n]|1073741824|s&261930}function Ea(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var n=31-Nt(s),i=1<<n;i&a|t[n]&a&&(t[n]|=a),s&=~i}}function As(t,a){var s=a&-a;return s=(s&42)!==0?1:aa(s),(s&(t.suspendedLanes|a))!==0?0:s}function aa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function pa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Le(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:rf(t.type))}function Za(t,a){var s=W.p;try{return W.p=t,a()}finally{W.p=s}}var Pt=Math.random().toString(36).slice(2),ut="__reactFiber$"+Pt,ht="__reactProps$"+Pt,lt="__reactContainer$"+Pt,Ta="__reactEvents$"+Pt,nn="__reactListeners$"+Pt,Sn="__reactHandles$"+Pt,sa="__reactResources$"+Pt,Ja="__reactMarker$"+Pt;function Ka(t){delete t[ut],delete t[ht],delete t[Ta],delete t[nn],delete t[Sn]}function za(t){var a=t[ut];if(a)return a;for(var s=t.parentNode;s;){if(a=s[lt]||s[ut]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=qm(t);t!==null;){if(s=t[ut])return s;t=qm(t)}return a}t=s,s=t.parentNode}return null}function R(t){if(t=t[ut]||t[lt]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function ae(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(d(33))}function Q(t){var a=t[sa];return a||(a=t[sa]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function de(t){t[Ja]=!0}var be=new Set,ve={};function Ae(t,a){Ge(t,a),Ge(t+"Capture",a)}function Ge(t,a){for(ve[t]=a,t=0;t<a.length;t++)be.add(a[t])}var $t=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wt={},xi={};function Yr(t){return Be.call(xi,t)?!0:Be.call(Wt,t)?!1:$t.test(t)?xi[t]=!0:(Wt[t]=!0,!1)}function ln(t,a,s){if(Yr(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var n=a.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function kn(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function La(t,a,s,n){if(n===null)t.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+n)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function z(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ye(t,a,s){var n=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,c=n.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return i.call(this)},set:function(m){s=""+m,c.call(this,m)}}),Object.defineProperty(t,a,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Ee(t){if(!t._valueTracker){var a=z(t)?"checked":"value";t._valueTracker=ye(t,a,""+t[a])}}function Ve(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),n="";return t&&(n=z(t)?t.checked?"true":"false":t.value),t=n,t!==s?(a.setValue(t),!0):!1}function He(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ze=/[\n"\\]/g;function Qe(t){return t.replace(ze,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function it(t,a,s,n,i,c,m,T){t.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.type=m:t.removeAttribute("type"),a!=null?m==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Yt(a)):t.value!==""+Yt(a)&&(t.value=""+Yt(a)):m!=="submit"&&m!=="reset"||t.removeAttribute("value"),a!=null?Vt(t,m,Yt(a)):s!=null?Vt(t,m,Yt(s)):n!=null&&t.removeAttribute("value"),i==null&&c!=null&&(t.defaultChecked=!!c),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Yt(T):t.removeAttribute("name")}function Ht(t,a,s,n,i,c,m,T){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(t.type=c),a!=null||s!=null){if(!(c!=="submit"&&c!=="reset"||a!=null)){Ee(t);return}s=s!=null?""+Yt(s):"",a=a!=null?""+Yt(a):s,T||a===t.value||(t.value=a),t.defaultValue=a}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=T?t.checked:!!n,t.defaultChecked=!!n,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.name=m),Ee(t)}function Vt(t,a,s){a==="number"&&He(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function na(t,a,s,n){if(t=t.options,a){a={};for(var i=0;i<s.length;i++)a["$"+s[i]]=!0;for(s=0;s<t.length;s++)i=a.hasOwnProperty("$"+t[s].value),t[s].selected!==i&&(t[s].selected=i),i&&n&&(t[s].defaultSelected=!0)}else{for(s=""+Yt(s),a=null,i=0;i<t.length;i++){if(t[i].value===s){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}a!==null||t[i].disabled||(a=t[i])}a!==null&&(a.selected=!0)}}function es(t,a,s){if(a!=null&&(a=""+Yt(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+Yt(s):""}function gi(t,a,s,n){if(a==null){if(n!=null){if(s!=null)throw Error(d(92));if(J(n)){if(1<n.length)throw Error(d(93));n=n[0]}s=n}s==null&&(s=""),a=s}s=Yt(a),t.defaultValue=s,n=t.textContent,n===s&&n!==""&&n!==null&&(t.value=n),Ee(t)}function Ia(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var bi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yi(t,a,s){var n=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?n?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":n?t.setProperty(a,s):typeof s!="number"||s===0||bi.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function fl(t,a,s){if(a!=null&&typeof a!="object")throw Error(d(62));if(t=t.style,s!=null){for(var n in s)!s.hasOwnProperty(n)||a!=null&&a.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var i in a)n=a[i],a.hasOwnProperty(i)&&s[i]!==n&&yi(t,i,n)}else for(var c in a)a.hasOwnProperty(c)&&yi(t,c,a[c])}function Cn(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ji=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vi(t){return Qp.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ts(){}var Vr=null;function Qr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var An=null,En=null;function Rd(t){var a=R(t);if(a&&(t=a.stateNode)){var s=t[ht]||null;e:switch(t=a.stateNode,a.type){case"input":if(it(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Qe(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var n=s[a];if(n!==t&&n.form===t.form){var i=n[ht]||null;if(!i)throw Error(d(90));it(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(a=0;a<s.length;a++)n=s[a],n.form===t.form&&Ve(n)}break e;case"textarea":es(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&na(t,!!s.multiple,a,!1)}}}var Xr=!1;function Od(t,a,s){if(Xr)return t(a,s);Xr=!0;try{var n=t(a);return n}finally{if(Xr=!1,(An!==null||En!==null)&&(or(),An&&(a=An,t=En,En=An=null,Rd(a),t)))for(a=0;a<t.length;a++)Rd(t[a])}}function pl(t,a){var s=t.stateNode;if(s===null)return null;var n=s[ht]||null;if(n===null)return null;s=n[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(d(231,a,typeof s));return s}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zr=!1;if(as)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){Zr=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{Zr=!1}var Es=null,Jr=null,Ni=null;function Ud(){if(Ni)return Ni;var t,a=Jr,s=a.length,n,i="value"in Es?Es.value:Es.textContent,c=i.length;for(t=0;t<s&&a[t]===i[t];t++);var m=s-t;for(n=1;n<=m&&a[s-n]===i[c-n];n++);return Ni=i.slice(t,1<n?1-n:void 0)}function wi(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Si(){return!0}function zd(){return!1}function Qt(t){function a(s,n,i,c,m){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(c):c[T]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Si:zd,this.isPropagationStopped=zd,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),a}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=Qt(rn),gl=p({},rn,{view:0,detail:0}),Xp=Qt(gl),Kr,eo,bl,Ci=p({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ao,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bl&&(bl&&t.type==="mousemove"?(Kr=t.screenX-bl.screenX,eo=t.screenY-bl.screenY):eo=Kr=0,bl=t),Kr)},movementY:function(t){return"movementY"in t?t.movementY:eo}}),Id=Qt(Ci),Zp=p({},Ci,{dataTransfer:0}),Jp=Qt(Zp),Kp=p({},gl,{relatedTarget:0}),to=Qt(Kp),ex=p({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),tx=Qt(ex),ax=p({},rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sx=Qt(ax),nx=p({},rn,{data:0}),Fd=Qt(nx),lx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ix={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ox(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=rx[t])?!!a[t]:!1}function ao(){return ox}var cx=p({},gl,{key:function(t){if(t.key){var a=lx[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=wi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ix[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ao,charCode:function(t){return t.type==="keypress"?wi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dx=Qt(cx),ux=p({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pd=Qt(ux),hx=p({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ao}),mx=Qt(hx),fx=p({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),px=Qt(fx),xx=p({},Ci,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gx=Qt(xx),bx=p({},rn,{newState:0,oldState:0}),yx=Qt(bx),jx=[9,13,27,32],so=as&&"CompositionEvent"in window,yl=null;as&&"documentMode"in document&&(yl=document.documentMode);var vx=as&&"TextEvent"in window&&!yl,$d=as&&(!so||yl&&8<yl&&11>=yl),Hd=" ",qd=!1;function Gd(t,a){switch(t){case"keyup":return jx.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tn=!1;function Nx(t,a){switch(t){case"compositionend":return Wd(a);case"keypress":return a.which!==32?null:(qd=!0,Hd);case"textInput":return t=a.data,t===Hd&&qd?null:t;default:return null}}function wx(t,a){if(Tn)return t==="compositionend"||!so&&Gd(t,a)?(t=Ud(),Ni=Jr=Es=null,Tn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return $d&&a.locale!=="ko"?null:a.data;default:return null}}var Sx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yd(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Sx[t.type]:a==="textarea"}function Vd(t,a,s,n){An?En?En.push(n):En=[n]:An=n,a=pr(a,"onChange"),0<a.length&&(s=new ki("onChange","change",null,s,n),t.push({event:s,listeners:a}))}var jl=null,vl=null;function kx(t){Lm(t,0)}function Ai(t){var a=ae(t);if(Ve(a))return t}function Qd(t,a){if(t==="change")return a}var Xd=!1;if(as){var no;if(as){var lo="oninput"in document;if(!lo){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),lo=typeof Zd.oninput=="function"}no=lo}else no=!1;Xd=no&&(!document.documentMode||9<document.documentMode)}function Jd(){jl&&(jl.detachEvent("onpropertychange",Kd),vl=jl=null)}function Kd(t){if(t.propertyName==="value"&&Ai(vl)){var a=[];Vd(a,vl,t,Qr(t)),Od(kx,a)}}function Cx(t,a,s){t==="focusin"?(Jd(),jl=a,vl=s,jl.attachEvent("onpropertychange",Kd)):t==="focusout"&&Jd()}function Ax(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ai(vl)}function Ex(t,a){if(t==="click")return Ai(a)}function Tx(t,a){if(t==="input"||t==="change")return Ai(a)}function Lx(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var la=typeof Object.is=="function"?Object.is:Lx;function Nl(t,a){if(la(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),n=Object.keys(a);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!Be.call(a,i)||!la(t[i],a[i]))return!1}return!0}function eu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tu(t,a){var s=eu(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=a&&n>=a)return{node:s,offset:a-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=eu(s)}}function au(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?au(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function su(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=He(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=He(t.document)}return a}function io(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var Mx=as&&"documentMode"in document&&11>=document.documentMode,Ln=null,ro=null,wl=null,oo=!1;function nu(t,a,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;oo||Ln==null||Ln!==He(n)||(n=Ln,"selectionStart"in n&&io(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wl&&Nl(wl,n)||(wl=n,n=pr(ro,"onSelect"),0<n.length&&(a=new ki("onSelect","select",null,a,s),t.push({event:a,listeners:n}),a.target=Ln)))}function on(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var Mn={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionrun:on("Transition","TransitionRun"),transitionstart:on("Transition","TransitionStart"),transitioncancel:on("Transition","TransitionCancel"),transitionend:on("Transition","TransitionEnd")},co={},lu={};as&&(lu=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function cn(t){if(co[t])return co[t];if(!Mn[t])return t;var a=Mn[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in lu)return co[t]=a[s];return t}var iu=cn("animationend"),ru=cn("animationiteration"),ou=cn("animationstart"),Dx=cn("transitionrun"),Bx=cn("transitionstart"),_x=cn("transitioncancel"),cu=cn("transitionend"),du=new Map,uo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uo.push("scrollEnd");function Ma(t,a){du.set(t,a),Ae(a,[t])}var Ei=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xa=[],Dn=0,ho=0;function Ti(){for(var t=Dn,a=ho=Dn=0;a<t;){var s=xa[a];xa[a++]=null;var n=xa[a];xa[a++]=null;var i=xa[a];xa[a++]=null;var c=xa[a];if(xa[a++]=null,n!==null&&i!==null){var m=n.pending;m===null?i.next=i:(i.next=m.next,m.next=i),n.pending=i}c!==0&&uu(s,i,c)}}function Li(t,a,s,n){xa[Dn++]=t,xa[Dn++]=a,xa[Dn++]=s,xa[Dn++]=n,ho|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function mo(t,a,s,n){return Li(t,a,s,n),Mi(t)}function dn(t,a){return Li(t,null,null,a),Mi(t)}function uu(t,a,s){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s);for(var i=!1,c=t.return;c!==null;)c.childLanes|=s,n=c.alternate,n!==null&&(n.childLanes|=s),c.tag===22&&(t=c.stateNode,t===null||t._visibility&1||(i=!0)),t=c,c=c.return;return t.tag===3?(c=t.stateNode,i&&a!==null&&(i=31-Nt(s),t=c.hiddenUpdates,n=t[i],n===null?t[i]=[a]:n.push(a),a.lane=s|536870912),c):null}function Mi(t){if(50<Gl)throw Gl=0,Nc=null,Error(d(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Bn={};function Rx(t,a,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(t,a,s,n){return new Rx(t,a,s,n)}function fo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ss(t,a){var s=t.alternate;return s===null?(s=ia(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function hu(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Di(t,a,s,n,i,c){var m=0;if(n=t,typeof t=="function")fo(t)&&(m=1);else if(typeof t=="string")m=Fg(t,s,K.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case B:return t=ia(31,s,a,i),t.elementType=B,t.lanes=c,t;case M:return un(s.children,i,c,a);case _:m=8,i|=24;break;case k:return t=ia(12,s,a,i|2),t.elementType=k,t.lanes=c,t;case w:return t=ia(13,s,a,i),t.elementType=w,t.lanes=c,t;case A:return t=ia(19,s,a,i),t.elementType=A,t.lanes=c,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L:m=10;break e;case F:m=9;break e;case E:m=11;break e;case q:m=14;break e;case G:m=16,n=null;break e}m=29,s=Error(d(130,t===null?"null":typeof t,"")),n=null}return a=ia(m,s,a,i),a.elementType=t,a.type=n,a.lanes=c,a}function un(t,a,s,n){return t=ia(7,t,n,a),t.lanes=s,t}function po(t,a,s){return t=ia(6,t,null,a),t.lanes=s,t}function mu(t){var a=ia(18,null,null,0);return a.stateNode=t,a}function xo(t,a,s){return a=ia(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var fu=new WeakMap;function ga(t,a){if(typeof t=="object"&&t!==null){var s=fu.get(t);return s!==void 0?s:(a={value:t,source:a,stack:vt(a)},fu.set(t,a),a)}return{value:t,source:a,stack:vt(a)}}var _n=[],Rn=0,Bi=null,Sl=0,ba=[],ya=0,Ts=null,Fa=1,Pa="";function ns(t,a){_n[Rn++]=Sl,_n[Rn++]=Bi,Bi=t,Sl=a}function pu(t,a,s){ba[ya++]=Fa,ba[ya++]=Pa,ba[ya++]=Ts,Ts=t;var n=Fa;t=Pa;var i=32-Nt(n)-1;n&=~(1<<i),s+=1;var c=32-Nt(a)+i;if(30<c){var m=i-i%5;c=(n&(1<<m)-1).toString(32),n>>=m,i-=m,Fa=1<<32-Nt(a)+i|s<<i|n,Pa=c+t}else Fa=1<<c|s<<i|n,Pa=t}function go(t){t.return!==null&&(ns(t,1),pu(t,1,0))}function bo(t){for(;t===Bi;)Bi=_n[--Rn],_n[Rn]=null,Sl=_n[--Rn],_n[Rn]=null;for(;t===Ts;)Ts=ba[--ya],ba[ya]=null,Pa=ba[--ya],ba[ya]=null,Fa=ba[--ya],ba[ya]=null}function xu(t,a){ba[ya++]=Fa,ba[ya++]=Pa,ba[ya++]=Ts,Fa=a.id,Pa=a.overflow,Ts=t}var Bt=null,rt=null,qe=!1,Ls=null,ja=!1,yo=Error(d(519));function Ms(t){var a=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(ga(a,t)),yo}function gu(t){var a=t.stateNode,s=t.type,n=t.memoizedProps;switch(a[ut]=t,a[ht]=n,s){case"dialog":Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":case"embed":Fe("load",a);break;case"video":case"audio":for(s=0;s<Yl.length;s++)Fe(Yl[s],a);break;case"source":Fe("error",a);break;case"img":case"image":case"link":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"input":Fe("invalid",a),Ht(a,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Fe("invalid",a);break;case"textarea":Fe("invalid",a),gi(a,n.value,n.defaultValue,n.children)}s=n.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||n.suppressHydrationWarning===!0||_m(a.textContent,s)?(n.popover!=null&&(Fe("beforetoggle",a),Fe("toggle",a)),n.onScroll!=null&&Fe("scroll",a),n.onScrollEnd!=null&&Fe("scrollend",a),n.onClick!=null&&(a.onclick=ts),a=!0):a=!1,a||Ms(t,!0)}function bu(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:ja=!1;return;case 27:case 3:ja=!0;return;default:Bt=Bt.return}}function On(t){if(t!==Bt)return!1;if(!qe)return bu(t),qe=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Uc(t.type,t.memoizedProps)),s=!s),s&&rt&&Ms(t),bu(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));rt=Hm(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));rt=Hm(t)}else a===27?(a=rt,Gs(t.type)?(t=$c,$c=null,rt=t):rt=a):rt=Bt?Na(t.stateNode.nextSibling):null;return!0}function hn(){rt=Bt=null,qe=!1}function jo(){var t=Ls;return t!==null&&(Kt===null?Kt=t:Kt.push.apply(Kt,t),Ls=null),t}function kl(t){Ls===null?Ls=[t]:Ls.push(t)}var vo=O(null),mn=null,ls=null;function Ds(t,a,s){oe(vo,a._currentValue),a._currentValue=s}function is(t){t._currentValue=vo.current,Z(vo)}function No(t,a,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,n!==null&&(n.childLanes|=a)):n!==null&&(n.childLanes&a)!==a&&(n.childLanes|=a),t===s)break;t=t.return}}function wo(t,a,s,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){var m=i.child;c=c.firstContext;e:for(;c!==null;){var T=c;c=i;for(var Y=0;Y<a.length;Y++)if(T.context===a[Y]){c.lanes|=s,T=c.alternate,T!==null&&(T.lanes|=s),No(c.return,s,t),n||(m=null);break e}c=T.next}}else if(i.tag===18){if(m=i.return,m===null)throw Error(d(341));m.lanes|=s,c=m.alternate,c!==null&&(c.lanes|=s),No(m,s,t),m=null}else m=i.child;if(m!==null)m.return=i;else for(m=i;m!==null;){if(m===t){m=null;break}if(i=m.sibling,i!==null){i.return=m.return,m=i;break}m=m.return}i=m}}function Un(t,a,s,n){t=null;for(var i=a,c=!1;i!==null;){if(!c){if((i.flags&524288)!==0)c=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var m=i.alternate;if(m===null)throw Error(d(387));if(m=m.memoizedProps,m!==null){var T=i.type;la(i.pendingProps.value,m.value)||(t!==null?t.push(T):t=[T])}}else if(i===P.current){if(m=i.alternate,m===null)throw Error(d(387));m.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Jl):t=[Jl])}i=i.return}t!==null&&wo(a,t,s,n),a.flags|=262144}function _i(t){for(t=t.firstContext;t!==null;){if(!la(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fn(t){mn=t,ls=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _t(t){return yu(mn,t)}function Ri(t,a){return mn===null&&fn(t),yu(t,a)}function yu(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},ls===null){if(t===null)throw Error(d(308));ls=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else ls=ls.next=a;return s}var Ox=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,n){t.push(n)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},Ux=l.unstable_scheduleCallback,zx=l.unstable_NormalPriority,wt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function So(){return{controller:new Ox,data:new Map,refCount:0}}function Cl(t){t.refCount--,t.refCount===0&&Ux(zx,function(){t.controller.abort()})}var Al=null,ko=0,zn=0,In=null;function Ix(t,a){if(Al===null){var s=Al=[];ko=0,zn=Ec(),In={status:"pending",value:void 0,then:function(n){s.push(n)}}}return ko++,a.then(ju,ju),a}function ju(){if(--ko===0&&Al!==null){In!==null&&(In.status="fulfilled");var t=Al;Al=null,zn=0,In=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function Fx(t,a){var s=[],n={status:"pending",value:null,reason:null,then:function(i){s.push(i)}};return t.then(function(){n.status="fulfilled",n.value=a;for(var i=0;i<s.length;i++)(0,s[i])(a)},function(i){for(n.status="rejected",n.reason=i,i=0;i<s.length;i++)(0,s[i])(void 0)}),n}var vu=H.S;H.S=function(t,a){nm=At(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Ix(t,a),vu!==null&&vu(t,a)};var pn=O(null);function Co(){var t=pn.current;return t!==null?t:nt.pooledCache}function Oi(t,a){a===null?oe(pn,pn.current):oe(pn,a.pool)}function Nu(){var t=Co();return t===null?null:{parent:wt._currentValue,pool:t}}var Fn=Error(d(460)),Ao=Error(d(474)),Ui=Error(d(542)),zi={then:function(){}};function wu(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Su(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(ts,ts),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Cu(t),t;default:if(typeof a.status=="string")a.then(ts,ts);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(d(482));t=a,t.status="pending",t.then(function(n){if(a.status==="pending"){var i=a;i.status="fulfilled",i.value=n}},function(n){if(a.status==="pending"){var i=a;i.status="rejected",i.reason=n}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Cu(t),t}throw gn=a,Fn}}function xn(t){try{var a=t._init;return a(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(gn=s,Fn):s}}var gn=null;function ku(){if(gn===null)throw Error(d(459));var t=gn;return gn=null,t}function Cu(t){if(t===Fn||t===Ui)throw Error(d(483))}var Pn=null,El=0;function Ii(t){var a=El;return El+=1,Pn===null&&(Pn=[]),Su(Pn,t,a)}function Tl(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Fi(t,a){throw a.$$typeof===j?Error(d(525)):(t=Object.prototype.toString.call(a),Error(d(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Au(t){function a(se,X){if(t){var ne=se.deletions;ne===null?(se.deletions=[X],se.flags|=16):ne.push(X)}}function s(se,X){if(!t)return null;for(;X!==null;)a(se,X),X=X.sibling;return null}function n(se){for(var X=new Map;se!==null;)se.key!==null?X.set(se.key,se):X.set(se.index,se),se=se.sibling;return X}function i(se,X){return se=ss(se,X),se.index=0,se.sibling=null,se}function c(se,X,ne){return se.index=ne,t?(ne=se.alternate,ne!==null?(ne=ne.index,ne<X?(se.flags|=67108866,X):ne):(se.flags|=67108866,X)):(se.flags|=1048576,X)}function m(se){return t&&se.alternate===null&&(se.flags|=67108866),se}function T(se,X,ne,fe){return X===null||X.tag!==6?(X=po(ne,se.mode,fe),X.return=se,X):(X=i(X,ne),X.return=se,X)}function Y(se,X,ne,fe){var Te=ne.type;return Te===M?he(se,X,ne.props.children,fe,ne.key):X!==null&&(X.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===G&&xn(Te)===X.type)?(X=i(X,ne.props),Tl(X,ne),X.return=se,X):(X=Di(ne.type,ne.key,ne.props,null,se.mode,fe),Tl(X,ne),X.return=se,X)}function le(se,X,ne,fe){return X===null||X.tag!==4||X.stateNode.containerInfo!==ne.containerInfo||X.stateNode.implementation!==ne.implementation?(X=xo(ne,se.mode,fe),X.return=se,X):(X=i(X,ne.children||[]),X.return=se,X)}function he(se,X,ne,fe,Te){return X===null||X.tag!==7?(X=un(ne,se.mode,fe,Te),X.return=se,X):(X=i(X,ne),X.return=se,X)}function pe(se,X,ne){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=po(""+X,se.mode,ne),X.return=se,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case C:return ne=Di(X.type,X.key,X.props,null,se.mode,ne),Tl(ne,X),ne.return=se,ne;case N:return X=xo(X,se.mode,ne),X.return=se,X;case G:return X=xn(X),pe(se,X,ne)}if(J(X)||S(X))return X=un(X,se.mode,ne,null),X.return=se,X;if(typeof X.then=="function")return pe(se,Ii(X),ne);if(X.$$typeof===L)return pe(se,Ri(se,X),ne);Fi(se,X)}return null}function re(se,X,ne,fe){var Te=X!==null?X.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Te!==null?null:T(se,X,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case C:return ne.key===Te?Y(se,X,ne,fe):null;case N:return ne.key===Te?le(se,X,ne,fe):null;case G:return ne=xn(ne),re(se,X,ne,fe)}if(J(ne)||S(ne))return Te!==null?null:he(se,X,ne,fe,null);if(typeof ne.then=="function")return re(se,X,Ii(ne),fe);if(ne.$$typeof===L)return re(se,X,Ri(se,ne),fe);Fi(se,ne)}return null}function ue(se,X,ne,fe,Te){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return se=se.get(ne)||null,T(X,se,""+fe,Te);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case C:return se=se.get(fe.key===null?ne:fe.key)||null,Y(X,se,fe,Te);case N:return se=se.get(fe.key===null?ne:fe.key)||null,le(X,se,fe,Te);case G:return fe=xn(fe),ue(se,X,ne,fe,Te)}if(J(fe)||S(fe))return se=se.get(ne)||null,he(X,se,fe,Te,null);if(typeof fe.then=="function")return ue(se,X,ne,Ii(fe),Te);if(fe.$$typeof===L)return ue(se,X,ne,Ri(X,fe),Te);Fi(X,fe)}return null}function Se(se,X,ne,fe){for(var Te=null,We=null,ke=X,Ue=X=0,$e=null;ke!==null&&Ue<ne.length;Ue++){ke.index>Ue?($e=ke,ke=null):$e=ke.sibling;var Ye=re(se,ke,ne[Ue],fe);if(Ye===null){ke===null&&(ke=$e);break}t&&ke&&Ye.alternate===null&&a(se,ke),X=c(Ye,X,Ue),We===null?Te=Ye:We.sibling=Ye,We=Ye,ke=$e}if(Ue===ne.length)return s(se,ke),qe&&ns(se,Ue),Te;if(ke===null){for(;Ue<ne.length;Ue++)ke=pe(se,ne[Ue],fe),ke!==null&&(X=c(ke,X,Ue),We===null?Te=ke:We.sibling=ke,We=ke);return qe&&ns(se,Ue),Te}for(ke=n(ke);Ue<ne.length;Ue++)$e=ue(ke,se,Ue,ne[Ue],fe),$e!==null&&(t&&$e.alternate!==null&&ke.delete($e.key===null?Ue:$e.key),X=c($e,X,Ue),We===null?Te=$e:We.sibling=$e,We=$e);return t&&ke.forEach(function(Xs){return a(se,Xs)}),qe&&ns(se,Ue),Te}function De(se,X,ne,fe){if(ne==null)throw Error(d(151));for(var Te=null,We=null,ke=X,Ue=X=0,$e=null,Ye=ne.next();ke!==null&&!Ye.done;Ue++,Ye=ne.next()){ke.index>Ue?($e=ke,ke=null):$e=ke.sibling;var Xs=re(se,ke,Ye.value,fe);if(Xs===null){ke===null&&(ke=$e);break}t&&ke&&Xs.alternate===null&&a(se,ke),X=c(Xs,X,Ue),We===null?Te=Xs:We.sibling=Xs,We=Xs,ke=$e}if(Ye.done)return s(se,ke),qe&&ns(se,Ue),Te;if(ke===null){for(;!Ye.done;Ue++,Ye=ne.next())Ye=pe(se,Ye.value,fe),Ye!==null&&(X=c(Ye,X,Ue),We===null?Te=Ye:We.sibling=Ye,We=Ye);return qe&&ns(se,Ue),Te}for(ke=n(ke);!Ye.done;Ue++,Ye=ne.next())Ye=ue(ke,se,Ue,Ye.value,fe),Ye!==null&&(t&&Ye.alternate!==null&&ke.delete(Ye.key===null?Ue:Ye.key),X=c(Ye,X,Ue),We===null?Te=Ye:We.sibling=Ye,We=Ye);return t&&ke.forEach(function(Zg){return a(se,Zg)}),qe&&ns(se,Ue),Te}function at(se,X,ne,fe){if(typeof ne=="object"&&ne!==null&&ne.type===M&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case C:e:{for(var Te=ne.key;X!==null;){if(X.key===Te){if(Te=ne.type,Te===M){if(X.tag===7){s(se,X.sibling),fe=i(X,ne.props.children),fe.return=se,se=fe;break e}}else if(X.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===G&&xn(Te)===X.type){s(se,X.sibling),fe=i(X,ne.props),Tl(fe,ne),fe.return=se,se=fe;break e}s(se,X);break}else a(se,X);X=X.sibling}ne.type===M?(fe=un(ne.props.children,se.mode,fe,ne.key),fe.return=se,se=fe):(fe=Di(ne.type,ne.key,ne.props,null,se.mode,fe),Tl(fe,ne),fe.return=se,se=fe)}return m(se);case N:e:{for(Te=ne.key;X!==null;){if(X.key===Te)if(X.tag===4&&X.stateNode.containerInfo===ne.containerInfo&&X.stateNode.implementation===ne.implementation){s(se,X.sibling),fe=i(X,ne.children||[]),fe.return=se,se=fe;break e}else{s(se,X);break}else a(se,X);X=X.sibling}fe=xo(ne,se.mode,fe),fe.return=se,se=fe}return m(se);case G:return ne=xn(ne),at(se,X,ne,fe)}if(J(ne))return Se(se,X,ne,fe);if(S(ne)){if(Te=S(ne),typeof Te!="function")throw Error(d(150));return ne=Te.call(ne),De(se,X,ne,fe)}if(typeof ne.then=="function")return at(se,X,Ii(ne),fe);if(ne.$$typeof===L)return at(se,X,Ri(se,ne),fe);Fi(se,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,X!==null&&X.tag===6?(s(se,X.sibling),fe=i(X,ne),fe.return=se,se=fe):(s(se,X),fe=po(ne,se.mode,fe),fe.return=se,se=fe),m(se)):s(se,X)}return function(se,X,ne,fe){try{El=0;var Te=at(se,X,ne,fe);return Pn=null,Te}catch(ke){if(ke===Fn||ke===Ui)throw ke;var We=ia(29,ke,null,se.mode);return We.lanes=fe,We.return=se,We}}}var bn=Au(!0),Eu=Au(!1),Bs=!1;function Eo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function To(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _s(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(t,a,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(Xe&2)!==0){var i=n.pending;return i===null?a.next=a:(a.next=i.next,i.next=a),n.pending=a,a=Mi(t),uu(t,null,s),a}return Li(t,n,a,s),Mi(t)}function Ll(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var n=a.lanes;n&=t.pendingLanes,s|=n,a.lanes=s,Ea(t,s)}}function Lo(t,a){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,c=null;if(s=s.firstBaseUpdate,s!==null){do{var m={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};c===null?i=c=m:c=c.next=m,s=s.next}while(s!==null);c===null?i=c=a:c=c.next=a}else i=c=a;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:c,shared:n.shared,callbacks:n.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var Mo=!1;function Ml(){if(Mo){var t=In;if(t!==null)throw t}}function Dl(t,a,s,n){Mo=!1;var i=t.updateQueue;Bs=!1;var c=i.firstBaseUpdate,m=i.lastBaseUpdate,T=i.shared.pending;if(T!==null){i.shared.pending=null;var Y=T,le=Y.next;Y.next=null,m===null?c=le:m.next=le,m=Y;var he=t.alternate;he!==null&&(he=he.updateQueue,T=he.lastBaseUpdate,T!==m&&(T===null?he.firstBaseUpdate=le:T.next=le,he.lastBaseUpdate=Y))}if(c!==null){var pe=i.baseState;m=0,he=le=Y=null,T=c;do{var re=T.lane&-536870913,ue=re!==T.lane;if(ue?(Pe&re)===re:(n&re)===re){re!==0&&re===zn&&(Mo=!0),he!==null&&(he=he.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=t,De=T;re=a;var at=s;switch(De.tag){case 1:if(Se=De.payload,typeof Se=="function"){pe=Se.call(at,pe,re);break e}pe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=De.payload,re=typeof Se=="function"?Se.call(at,pe,re):Se,re==null)break e;pe=p({},pe,re);break e;case 2:Bs=!0}}re=T.callback,re!==null&&(t.flags|=64,ue&&(t.flags|=8192),ue=i.callbacks,ue===null?i.callbacks=[re]:ue.push(re))}else ue={lane:re,tag:T.tag,payload:T.payload,callback:T.callback,next:null},he===null?(le=he=ue,Y=pe):he=he.next=ue,m|=re;if(T=T.next,T===null){if(T=i.shared.pending,T===null)break;ue=T,T=ue.next,ue.next=null,i.lastBaseUpdate=ue,i.shared.pending=null}}while(!0);he===null&&(Y=pe),i.baseState=Y,i.firstBaseUpdate=le,i.lastBaseUpdate=he,c===null&&(i.shared.lanes=0),Fs|=m,t.lanes=m,t.memoizedState=pe}}function Tu(t,a){if(typeof t!="function")throw Error(d(191,t));t.call(a)}function Lu(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Tu(s[t],a)}var $n=O(null),Pi=O(0);function Mu(t,a){t=ps,oe(Pi,t),oe($n,a),ps=t|a.baseLanes}function Do(){oe(Pi,ps),oe($n,$n.current)}function Bo(){ps=Pi.current,Z($n),Z(Pi)}var ra=O(null),va=null;function Os(t){var a=t.alternate;oe(yt,yt.current&1),oe(ra,t),va===null&&(a===null||$n.current!==null||a.memoizedState!==null)&&(va=t)}function _o(t){oe(yt,yt.current),oe(ra,t),va===null&&(va=t)}function Du(t){t.tag===22?(oe(yt,yt.current),oe(ra,t),va===null&&(va=t)):Us()}function Us(){oe(yt,yt.current),oe(ra,ra.current)}function oa(t){Z(ra),va===t&&(va=null),Z(yt)}var yt=O(0);function $i(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Fc(s)||Pc(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var rs=0,Oe=null,et=null,St=null,Hi=!1,Hn=!1,yn=!1,qi=0,Bl=0,qn=null,Px=0;function gt(){throw Error(d(321))}function Ro(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!la(t[s],a[s]))return!1;return!0}function Oo(t,a,s,n,i,c){return rs=c,Oe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=t===null||t.memoizedState===null?ph:Zo,yn=!1,c=s(n,i),yn=!1,Hn&&(c=_u(a,s,n,i)),Bu(t),c}function Bu(t){H.H=Ol;var a=et!==null&&et.next!==null;if(rs=0,St=et=Oe=null,Hi=!1,Bl=0,qn=null,a)throw Error(d(300));t===null||kt||(t=t.dependencies,t!==null&&_i(t)&&(kt=!0))}function _u(t,a,s,n){Oe=t;var i=0;do{if(Hn&&(qn=null),Bl=0,Hn=!1,25<=i)throw Error(d(301));if(i+=1,St=et=null,t.updateQueue!=null){var c=t.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}H.H=xh,c=a(s,n)}while(Hn);return c}function $x(){var t=H.H,a=t.useState()[0];return a=typeof a.then=="function"?_l(a):a,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Oe.flags|=1024),a}function Uo(){var t=qi!==0;return qi=0,t}function zo(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function Io(t){if(Hi){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Hi=!1}rs=0,St=et=Oe=null,Hn=!1,Bl=qi=0,qn=null}function qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Oe.memoizedState=St=t:St=St.next=t,St}function jt(){if(et===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var a=St===null?Oe.memoizedState:St.next;if(a!==null)St=a,et=t;else{if(t===null)throw Oe.alternate===null?Error(d(467)):Error(d(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},St===null?Oe.memoizedState=St=t:St=St.next=t}return St}function Gi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var a=Bl;return Bl+=1,qn===null&&(qn=[]),t=Su(qn,t,a),a=Oe,(St===null?a.memoizedState:St.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?ph:Zo),t}function Wi(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===L)return _t(t)}throw Error(d(438,String(t)))}function Fo(t){var a=null,s=Oe.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var n=Oe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(a={data:n.data.map(function(i){return i.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Gi(),Oe.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),n=0;n<t;n++)s[n]=ee;return a.index++,s}function os(t,a){return typeof a=="function"?a(t):a}function Yi(t){var a=jt();return Po(a,et,t)}function Po(t,a,s){var n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=s;var i=t.baseQueue,c=n.pending;if(c!==null){if(i!==null){var m=i.next;i.next=c.next,c.next=m}a.baseQueue=i=c,n.pending=null}if(c=t.baseState,i===null)t.memoizedState=c;else{a=i.next;var T=m=null,Y=null,le=a,he=!1;do{var pe=le.lane&-536870913;if(pe!==le.lane?(Pe&pe)===pe:(rs&pe)===pe){var re=le.revertLane;if(re===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),pe===zn&&(he=!0);else if((rs&re)===re){le=le.next,re===zn&&(he=!0);continue}else pe={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Y===null?(T=Y=pe,m=c):Y=Y.next=pe,Oe.lanes|=re,Fs|=re;pe=le.action,yn&&s(c,pe),c=le.hasEagerState?le.eagerState:s(c,pe)}else re={lane:pe,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Y===null?(T=Y=re,m=c):Y=Y.next=re,Oe.lanes|=pe,Fs|=pe;le=le.next}while(le!==null&&le!==a);if(Y===null?m=c:Y.next=T,!la(c,t.memoizedState)&&(kt=!0,he&&(s=In,s!==null)))throw s;t.memoizedState=c,t.baseState=m,t.baseQueue=Y,n.lastRenderedState=c}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function $o(t){var a=jt(),s=a.queue;if(s===null)throw Error(d(311));s.lastRenderedReducer=t;var n=s.dispatch,i=s.pending,c=a.memoizedState;if(i!==null){s.pending=null;var m=i=i.next;do c=t(c,m.action),m=m.next;while(m!==i);la(c,a.memoizedState)||(kt=!0),a.memoizedState=c,a.baseQueue===null&&(a.baseState=c),s.lastRenderedState=c}return[c,n]}function Ru(t,a,s){var n=Oe,i=jt(),c=qe;if(c){if(s===void 0)throw Error(d(407));s=s()}else s=a();var m=!la((et||i).memoizedState,s);if(m&&(i.memoizedState=s,kt=!0),i=i.queue,Go(zu.bind(null,n,i,t),[t]),i.getSnapshot!==a||m||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,Gn(9,{destroy:void 0},Uu.bind(null,n,i,s,a),null),nt===null)throw Error(d(349));c||(rs&127)!==0||Ou(n,a,s)}return s}function Ou(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=Oe.updateQueue,a===null?(a=Gi(),Oe.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function Uu(t,a,s,n){a.value=s,a.getSnapshot=n,Iu(a)&&Fu(t)}function zu(t,a,s){return s(function(){Iu(a)&&Fu(t)})}function Iu(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!la(t,s)}catch{return!0}}function Fu(t){var a=dn(t,2);a!==null&&ea(a,t,2)}function Ho(t){var a=qt();if(typeof t=="function"){var s=t;if(t=s(),yn){ma(!0);try{s()}finally{ma(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},a}function Pu(t,a,s,n){return t.baseState=s,Po(t,et,typeof n=="function"?n:os)}function Hx(t,a,s,n,i){if(Xi(t))throw Error(d(485));if(t=a.action,t!==null){var c={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){c.listeners.push(m)}};H.T!==null?s(!0):c.isTransition=!1,n(c),s=a.pending,s===null?(c.next=a.pending=c,$u(a,c)):(c.next=s.next,a.pending=s.next=c)}}function $u(t,a){var s=a.action,n=a.payload,i=t.state;if(a.isTransition){var c=H.T,m={};H.T=m;try{var T=s(i,n),Y=H.S;Y!==null&&Y(m,T),Hu(t,a,T)}catch(le){qo(t,a,le)}finally{c!==null&&m.types!==null&&(c.types=m.types),H.T=c}}else try{c=s(i,n),Hu(t,a,c)}catch(le){qo(t,a,le)}}function Hu(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(n){qu(t,a,n)},function(n){return qo(t,a,n)}):qu(t,a,s)}function qu(t,a,s){a.status="fulfilled",a.value=s,Gu(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,$u(t,s)))}function qo(t,a,s){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do a.status="rejected",a.reason=s,Gu(a),a=a.next;while(a!==n)}t.action=null}function Gu(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Wu(t,a){return a}function Yu(t,a){if(qe){var s=nt.formState;if(s!==null){e:{var n=Oe;if(qe){if(rt){t:{for(var i=rt,c=ja;i.nodeType!==8;){if(!c){i=null;break t}if(i=Na(i.nextSibling),i===null){i=null;break t}}c=i.data,i=c==="F!"||c==="F"?i:null}if(i){rt=Na(i.nextSibling),n=i.data==="F!";break e}}Ms(n)}n=!1}n&&(a=s[0])}}return s=qt(),s.memoizedState=s.baseState=a,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wu,lastRenderedState:a},s.queue=n,s=hh.bind(null,Oe,n),n.dispatch=s,n=Ho(!1),c=Xo.bind(null,Oe,!1,n.queue),n=qt(),i={state:a,dispatch:null,action:t,pending:null},n.queue=i,s=Hx.bind(null,Oe,i,c,s),i.dispatch=s,n.memoizedState=t,[a,s,!1]}function Vu(t){var a=jt();return Qu(a,et,t)}function Qu(t,a,s){if(a=Po(t,a,Wu)[0],t=Yi(os)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var n=_l(a)}catch(m){throw m===Fn?Ui:m}else n=a;a=jt();var i=a.queue,c=i.dispatch;return s!==a.memoizedState&&(Oe.flags|=2048,Gn(9,{destroy:void 0},qx.bind(null,i,s),null)),[n,c,t]}function qx(t,a){t.action=a}function Xu(t){var a=jt(),s=et;if(s!==null)return Qu(a,s,t);jt(),a=a.memoizedState,s=jt();var n=s.queue.dispatch;return s.memoizedState=t,[a,n,!1]}function Gn(t,a,s,n){return t={tag:t,create:s,deps:n,inst:a,next:null},a=Oe.updateQueue,a===null&&(a=Gi(),Oe.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,a.lastEffect=t),t}function Zu(){return jt().memoizedState}function Vi(t,a,s,n){var i=qt();Oe.flags|=t,i.memoizedState=Gn(1|a,{destroy:void 0},s,n===void 0?null:n)}function Qi(t,a,s,n){var i=jt();n=n===void 0?null:n;var c=i.memoizedState.inst;et!==null&&n!==null&&Ro(n,et.memoizedState.deps)?i.memoizedState=Gn(a,c,s,n):(Oe.flags|=t,i.memoizedState=Gn(1|a,c,s,n))}function Ju(t,a){Vi(8390656,8,t,a)}function Go(t,a){Qi(2048,8,t,a)}function Gx(t){Oe.flags|=4;var a=Oe.updateQueue;if(a===null)a=Gi(),Oe.updateQueue=a,a.events=[t];else{var s=a.events;s===null?a.events=[t]:s.push(t)}}function Ku(t){var a=jt().memoizedState;return Gx({ref:a,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(d(440));return a.impl.apply(void 0,arguments)}}function eh(t,a){return Qi(4,2,t,a)}function th(t,a){return Qi(4,4,t,a)}function ah(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function sh(t,a,s){s=s!=null?s.concat([t]):null,Qi(4,4,ah.bind(null,a,t),s)}function Wo(){}function nh(t,a){var s=jt();a=a===void 0?null:a;var n=s.memoizedState;return a!==null&&Ro(a,n[1])?n[0]:(s.memoizedState=[t,a],t)}function lh(t,a){var s=jt();a=a===void 0?null:a;var n=s.memoizedState;if(a!==null&&Ro(a,n[1]))return n[0];if(n=t(),yn){ma(!0);try{t()}finally{ma(!1)}}return s.memoizedState=[n,a],n}function Yo(t,a,s){return s===void 0||(rs&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=a:(t.memoizedState=s,t=im(),Oe.lanes|=t,Fs|=t,s)}function ih(t,a,s,n){return la(s,a)?s:$n.current!==null?(t=Yo(t,s,n),la(t,a)||(kt=!0),t):(rs&42)===0||(rs&1073741824)!==0&&(Pe&261930)===0?(kt=!0,t.memoizedState=s):(t=im(),Oe.lanes|=t,Fs|=t,a)}function rh(t,a,s,n,i){var c=W.p;W.p=c!==0&&8>c?c:8;var m=H.T,T={};H.T=T,Xo(t,!1,a,s);try{var Y=i(),le=H.S;if(le!==null&&le(T,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var he=Fx(Y,n);Rl(t,a,he,ua(t))}else Rl(t,a,n,ua(t))}catch(pe){Rl(t,a,{then:function(){},status:"rejected",reason:pe},ua())}finally{W.p=c,m!==null&&T.types!==null&&(m.types=T.types),H.T=m}}function Wx(){}function Vo(t,a,s,n){if(t.tag!==5)throw Error(d(476));var i=oh(t).queue;rh(t,i,a,ie,s===null?Wx:function(){return ch(t),s(n)})}function oh(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:ie},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function ch(t){var a=oh(t);a.next===null&&(a=t.alternate.memoizedState),Rl(t,a.next.queue,{},ua())}function Qo(){return _t(Jl)}function dh(){return jt().memoizedState}function uh(){return jt().memoizedState}function Yx(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=ua();t=_s(s);var n=Rs(a,t,s);n!==null&&(ea(n,a,s),Ll(n,a,s)),a={cache:So()},t.payload=a;return}a=a.return}}function Vx(t,a,s){var n=ua();s={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Xi(t)?mh(a,s):(s=mo(t,a,s,n),s!==null&&(ea(s,t,n),fh(s,a,n)))}function hh(t,a,s){var n=ua();Rl(t,a,s,n)}function Rl(t,a,s,n){var i={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Xi(t))mh(a,i);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=a.lastRenderedReducer,c!==null))try{var m=a.lastRenderedState,T=c(m,s);if(i.hasEagerState=!0,i.eagerState=T,la(T,m))return Li(t,a,i,0),nt===null&&Ti(),!1}catch{}if(s=mo(t,a,i,n),s!==null)return ea(s,t,n),fh(s,a,n),!0}return!1}function Xo(t,a,s,n){if(n={lane:2,revertLane:Ec(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Xi(t)){if(a)throw Error(d(479))}else a=mo(t,s,n,2),a!==null&&ea(a,t,2)}function Xi(t){var a=t.alternate;return t===Oe||a!==null&&a===Oe}function mh(t,a){Hn=Hi=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function fh(t,a,s){if((s&4194048)!==0){var n=a.lanes;n&=t.pendingLanes,s|=n,a.lanes=s,Ea(t,s)}}var Ol={readContext:_t,use:Wi,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};Ol.useEffectEvent=gt;var ph={readContext:_t,use:Wi,useCallback:function(t,a){return qt().memoizedState=[t,a===void 0?null:a],t},useContext:_t,useEffect:Ju,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,Vi(4194308,4,ah.bind(null,a,t),s)},useLayoutEffect:function(t,a){return Vi(4194308,4,t,a)},useInsertionEffect:function(t,a){Vi(4,2,t,a)},useMemo:function(t,a){var s=qt();a=a===void 0?null:a;var n=t();if(yn){ma(!0);try{t()}finally{ma(!1)}}return s.memoizedState=[n,a],n},useReducer:function(t,a,s){var n=qt();if(s!==void 0){var i=s(a);if(yn){ma(!0);try{s(a)}finally{ma(!1)}}}else i=a;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=Vx.bind(null,Oe,t),[n.memoizedState,t]},useRef:function(t){var a=qt();return t={current:t},a.memoizedState=t},useState:function(t){t=Ho(t);var a=t.queue,s=hh.bind(null,Oe,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:Wo,useDeferredValue:function(t,a){var s=qt();return Yo(s,t,a)},useTransition:function(){var t=Ho(!1);return t=rh.bind(null,Oe,t.queue,!0,!1),qt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var n=Oe,i=qt();if(qe){if(s===void 0)throw Error(d(407));s=s()}else{if(s=a(),nt===null)throw Error(d(349));(Pe&127)!==0||Ou(n,a,s)}i.memoizedState=s;var c={value:s,getSnapshot:a};return i.queue=c,Ju(zu.bind(null,n,c,t),[t]),n.flags|=2048,Gn(9,{destroy:void 0},Uu.bind(null,n,c,s,a),null),s},useId:function(){var t=qt(),a=nt.identifierPrefix;if(qe){var s=Pa,n=Fa;s=(n&~(1<<32-Nt(n)-1)).toString(32)+s,a="_"+a+"R_"+s,s=qi++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=Px++,a="_"+a+"r_"+s.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:Qo,useFormState:Yu,useActionState:Yu,useOptimistic:function(t){var a=qt();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Xo.bind(null,Oe,!0,s),s.dispatch=a,[t,a]},useMemoCache:Fo,useCacheRefresh:function(){return qt().memoizedState=Yx.bind(null,Oe)},useEffectEvent:function(t){var a=qt(),s={impl:t};return a.memoizedState=s,function(){if((Xe&2)!==0)throw Error(d(440));return s.impl.apply(void 0,arguments)}}},Zo={readContext:_t,use:Wi,useCallback:nh,useContext:_t,useEffect:Go,useImperativeHandle:sh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:lh,useReducer:Yi,useRef:Zu,useState:function(){return Yi(os)},useDebugValue:Wo,useDeferredValue:function(t,a){var s=jt();return ih(s,et.memoizedState,t,a)},useTransition:function(){var t=Yi(os)[0],a=jt().memoizedState;return[typeof t=="boolean"?t:_l(t),a]},useSyncExternalStore:Ru,useId:dh,useHostTransitionStatus:Qo,useFormState:Vu,useActionState:Vu,useOptimistic:function(t,a){var s=jt();return Pu(s,et,t,a)},useMemoCache:Fo,useCacheRefresh:uh};Zo.useEffectEvent=Ku;var xh={readContext:_t,use:Wi,useCallback:nh,useContext:_t,useEffect:Go,useImperativeHandle:sh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:lh,useReducer:$o,useRef:Zu,useState:function(){return $o(os)},useDebugValue:Wo,useDeferredValue:function(t,a){var s=jt();return et===null?Yo(s,t,a):ih(s,et.memoizedState,t,a)},useTransition:function(){var t=$o(os)[0],a=jt().memoizedState;return[typeof t=="boolean"?t:_l(t),a]},useSyncExternalStore:Ru,useId:dh,useHostTransitionStatus:Qo,useFormState:Xu,useActionState:Xu,useOptimistic:function(t,a){var s=jt();return et!==null?Pu(s,et,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Fo,useCacheRefresh:uh};xh.useEffectEvent=Ku;function Jo(t,a,s,n){a=t.memoizedState,s=s(n,a),s=s==null?a:p({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ko={enqueueSetState:function(t,a,s){t=t._reactInternals;var n=ua(),i=_s(n);i.payload=a,s!=null&&(i.callback=s),a=Rs(t,i,n),a!==null&&(ea(a,t,n),Ll(a,t,n))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var n=ua(),i=_s(n);i.tag=1,i.payload=a,s!=null&&(i.callback=s),a=Rs(t,i,n),a!==null&&(ea(a,t,n),Ll(a,t,n))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=ua(),n=_s(s);n.tag=2,a!=null&&(n.callback=a),a=Rs(t,n,s),a!==null&&(ea(a,t,s),Ll(a,t,s))}};function gh(t,a,s,n,i,c,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,c,m):a.prototype&&a.prototype.isPureReactComponent?!Nl(s,n)||!Nl(i,c):!0}function bh(t,a,s,n){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,n),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,n),a.state!==t&&Ko.enqueueReplaceState(a,a.state,null)}function jn(t,a){var s=a;if("ref"in a){s={};for(var n in a)n!=="ref"&&(s[n]=a[n])}if(t=t.defaultProps){s===a&&(s=p({},s));for(var i in t)s[i]===void 0&&(s[i]=t[i])}return s}function yh(t){Ei(t)}function jh(t){console.error(t)}function vh(t){Ei(t)}function Zi(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(n){setTimeout(function(){throw n})}}function Nh(t,a,s){try{var n=t.onCaughtError;n(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function ec(t,a,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){Zi(t,a)},s}function wh(t){return t=_s(t),t.tag=3,t}function Sh(t,a,s,n){var i=s.type.getDerivedStateFromError;if(typeof i=="function"){var c=n.value;t.payload=function(){return i(c)},t.callback=function(){Nh(a,s,n)}}var m=s.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(t.callback=function(){Nh(a,s,n),typeof i!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var T=n.stack;this.componentDidCatch(n.value,{componentStack:T!==null?T:""})})}function Qx(t,a,s,n,i){if(s.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(a=s.alternate,a!==null&&Un(a,s,i,!0),s=ra.current,s!==null){switch(s.tag){case 31:case 13:return va===null?cr():s.alternate===null&&bt===0&&(bt=3),s.flags&=-257,s.flags|=65536,s.lanes=i,n===zi?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([n]):a.add(n),kc(t,n,i)),!1;case 22:return s.flags|=65536,n===zi?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([n])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([n]):s.add(n)),kc(t,n,i)),!1}throw Error(d(435,s.tag))}return kc(t,n,i),cr(),!1}if(qe)return a=ra.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=i,n!==yo&&(t=Error(d(422),{cause:n}),kl(ga(t,s)))):(n!==yo&&(a=Error(d(423),{cause:n}),kl(ga(a,s))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=ga(n,s),i=ec(t.stateNode,n,i),Lo(t,i),bt!==4&&(bt=2)),!1;var c=Error(d(520),{cause:n});if(c=ga(c,s),ql===null?ql=[c]:ql.push(c),bt!==4&&(bt=2),a===null)return!0;n=ga(n,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=i&-i,s.lanes|=t,t=ec(s.stateNode,n,t),Lo(s,t),!1;case 1:if(a=s.type,c=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Ps===null||!Ps.has(c))))return s.flags|=65536,i&=-i,s.lanes|=i,i=wh(i),Sh(i,t,s,n),Lo(s,i),!1}s=s.return}while(s!==null);return!1}var tc=Error(d(461)),kt=!1;function Rt(t,a,s,n){a.child=t===null?Eu(a,null,s,n):bn(a,t.child,s,n)}function kh(t,a,s,n,i){s=s.render;var c=a.ref;if("ref"in n){var m={};for(var T in n)T!=="ref"&&(m[T]=n[T])}else m=n;return fn(a),n=Oo(t,a,s,m,c,i),T=Uo(),t!==null&&!kt?(zo(t,a,i),cs(t,a,i)):(qe&&T&&go(a),a.flags|=1,Rt(t,a,n,i),a.child)}function Ch(t,a,s,n,i){if(t===null){var c=s.type;return typeof c=="function"&&!fo(c)&&c.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=c,Ah(t,a,c,n,i)):(t=Di(s.type,null,n,a,a.mode,i),t.ref=a.ref,t.return=a,a.child=t)}if(c=t.child,!cc(t,i)){var m=c.memoizedProps;if(s=s.compare,s=s!==null?s:Nl,s(m,n)&&t.ref===a.ref)return cs(t,a,i)}return a.flags|=1,t=ss(c,n),t.ref=a.ref,t.return=a,a.child=t}function Ah(t,a,s,n,i){if(t!==null){var c=t.memoizedProps;if(Nl(c,n)&&t.ref===a.ref)if(kt=!1,a.pendingProps=n=c,cc(t,i))(t.flags&131072)!==0&&(kt=!0);else return a.lanes=t.lanes,cs(t,a,i)}return ac(t,a,s,n,i)}function Eh(t,a,s,n){var i=n.children,c=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((a.flags&128)!==0){if(c=c!==null?c.baseLanes|s:s,t!==null){for(n=a.child=t.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~c}else n=0,a.child=null;return Th(t,a,c,s,n)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Oi(a,c!==null?c.cachePool:null),c!==null?Mu(a,c):Do(),Du(a);else return n=a.lanes=536870912,Th(t,a,c!==null?c.baseLanes|s:s,s,n)}else c!==null?(Oi(a,c.cachePool),Mu(a,c),Us(),a.memoizedState=null):(t!==null&&Oi(a,null),Do(),Us());return Rt(t,a,i,s),a.child}function Ul(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Th(t,a,s,n,i){var c=Co();return c=c===null?null:{parent:wt._currentValue,pool:c},a.memoizedState={baseLanes:s,cachePool:c},t!==null&&Oi(a,null),Do(),Du(a),t!==null&&Un(t,a,n,!0),a.childLanes=i,null}function Ji(t,a){return a=er({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function Lh(t,a,s){return bn(a,t.child,null,s),t=Ji(a,a.pendingProps),t.flags|=2,oa(a),a.memoizedState=null,t}function Xx(t,a,s){var n=a.pendingProps,i=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(qe){if(n.mode==="hidden")return t=Ji(a,n),a.lanes=536870912,Ul(null,t);if(_o(a),(t=rt)?(t=$m(t,ja),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Ts!==null?{id:Fa,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},s=mu(t),s.return=a,a.child=s,Bt=a,rt=null)):t=null,t===null)throw Ms(a);return a.lanes=536870912,null}return Ji(a,n)}var c=t.memoizedState;if(c!==null){var m=c.dehydrated;if(_o(a),i)if(a.flags&256)a.flags&=-257,a=Lh(t,a,s);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(d(558));else if(kt||Un(t,a,s,!1),i=(s&t.childLanes)!==0,kt||i){if(n=nt,n!==null&&(m=As(n,s),m!==0&&m!==c.retryLane))throw c.retryLane=m,dn(t,m),ea(n,t,m),tc;cr(),a=Lh(t,a,s)}else t=c.treeContext,rt=Na(m.nextSibling),Bt=a,qe=!0,Ls=null,ja=!1,t!==null&&xu(a,t),a=Ji(a,n),a.flags|=4096;return a}return t=ss(t.child,{mode:n.mode,children:n.children}),t.ref=a.ref,a.child=t,t.return=a,t}function Ki(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(d(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function ac(t,a,s,n,i){return fn(a),s=Oo(t,a,s,n,void 0,i),n=Uo(),t!==null&&!kt?(zo(t,a,i),cs(t,a,i)):(qe&&n&&go(a),a.flags|=1,Rt(t,a,s,i),a.child)}function Mh(t,a,s,n,i,c){return fn(a),a.updateQueue=null,s=_u(a,n,s,i),Bu(t),n=Uo(),t!==null&&!kt?(zo(t,a,c),cs(t,a,c)):(qe&&n&&go(a),a.flags|=1,Rt(t,a,s,c),a.child)}function Dh(t,a,s,n,i){if(fn(a),a.stateNode===null){var c=Bn,m=s.contextType;typeof m=="object"&&m!==null&&(c=_t(m)),c=new s(n,c),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Ko,a.stateNode=c,c._reactInternals=a,c=a.stateNode,c.props=n,c.state=a.memoizedState,c.refs={},Eo(a),m=s.contextType,c.context=typeof m=="object"&&m!==null?_t(m):Bn,c.state=a.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Jo(a,s,m,n),c.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(m=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),m!==c.state&&Ko.enqueueReplaceState(c,c.state,null),Dl(a,n,c,i),Ml(),c.state=a.memoizedState),typeof c.componentDidMount=="function"&&(a.flags|=4194308),n=!0}else if(t===null){c=a.stateNode;var T=a.memoizedProps,Y=jn(s,T);c.props=Y;var le=c.context,he=s.contextType;m=Bn,typeof he=="object"&&he!==null&&(m=_t(he));var pe=s.getDerivedStateFromProps;he=typeof pe=="function"||typeof c.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,he||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(T||le!==m)&&bh(a,c,n,m),Bs=!1;var re=a.memoizedState;c.state=re,Dl(a,n,c,i),Ml(),le=a.memoizedState,T||re!==le||Bs?(typeof pe=="function"&&(Jo(a,s,pe,n),le=a.memoizedState),(Y=Bs||gh(a,s,Y,n,re,le,m))?(he||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(a.flags|=4194308)):(typeof c.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=n,a.memoizedState=le),c.props=n,c.state=le,c.context=m,n=Y):(typeof c.componentDidMount=="function"&&(a.flags|=4194308),n=!1)}else{c=a.stateNode,To(t,a),m=a.memoizedProps,he=jn(s,m),c.props=he,pe=a.pendingProps,re=c.context,le=s.contextType,Y=Bn,typeof le=="object"&&le!==null&&(Y=_t(le)),T=s.getDerivedStateFromProps,(le=typeof T=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==pe||re!==Y)&&bh(a,c,n,Y),Bs=!1,re=a.memoizedState,c.state=re,Dl(a,n,c,i),Ml();var ue=a.memoizedState;m!==pe||re!==ue||Bs||t!==null&&t.dependencies!==null&&_i(t.dependencies)?(typeof T=="function"&&(Jo(a,s,T,n),ue=a.memoizedState),(he=Bs||gh(a,s,he,n,re,ue,Y)||t!==null&&t.dependencies!==null&&_i(t.dependencies))?(le||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,ue,Y),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,ue,Y)),typeof c.componentDidUpdate=="function"&&(a.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===t.memoizedProps&&re===t.memoizedState||(a.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&re===t.memoizedState||(a.flags|=1024),a.memoizedProps=n,a.memoizedState=ue),c.props=n,c.state=ue,c.context=Y,n=he):(typeof c.componentDidUpdate!="function"||m===t.memoizedProps&&re===t.memoizedState||(a.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&re===t.memoizedState||(a.flags|=1024),n=!1)}return c=n,Ki(t,a),n=(a.flags&128)!==0,c||n?(c=a.stateNode,s=n&&typeof s.getDerivedStateFromError!="function"?null:c.render(),a.flags|=1,t!==null&&n?(a.child=bn(a,t.child,null,i),a.child=bn(a,null,s,i)):Rt(t,a,s,i),a.memoizedState=c.state,t=a.child):t=cs(t,a,i),t}function Bh(t,a,s,n){return hn(),a.flags|=256,Rt(t,a,s,n),a.child}var sc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nc(t){return{baseLanes:t,cachePool:Nu()}}function lc(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=da),t}function _h(t,a,s){var n=a.pendingProps,i=!1,c=(a.flags&128)!==0,m;if((m=c)||(m=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),m&&(i=!0,a.flags&=-129),m=(a.flags&32)!==0,a.flags&=-33,t===null){if(qe){if(i?Os(a):Us(),(t=rt)?(t=$m(t,ja),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Ts!==null?{id:Fa,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},s=mu(t),s.return=a,a.child=s,Bt=a,rt=null)):t=null,t===null)throw Ms(a);return Pc(t)?a.lanes=32:a.lanes=536870912,null}var T=n.children;return n=n.fallback,i?(Us(),i=a.mode,T=er({mode:"hidden",children:T},i),n=un(n,i,s,null),T.return=a,n.return=a,T.sibling=n,a.child=T,n=a.child,n.memoizedState=nc(s),n.childLanes=lc(t,m,s),a.memoizedState=sc,Ul(null,n)):(Os(a),ic(a,T))}var Y=t.memoizedState;if(Y!==null&&(T=Y.dehydrated,T!==null)){if(c)a.flags&256?(Os(a),a.flags&=-257,a=rc(t,a,s)):a.memoizedState!==null?(Us(),a.child=t.child,a.flags|=128,a=null):(Us(),T=n.fallback,i=a.mode,n=er({mode:"visible",children:n.children},i),T=un(T,i,s,null),T.flags|=2,n.return=a,T.return=a,n.sibling=T,a.child=n,bn(a,t.child,null,s),n=a.child,n.memoizedState=nc(s),n.childLanes=lc(t,m,s),a.memoizedState=sc,a=Ul(null,n));else if(Os(a),Pc(T)){if(m=T.nextSibling&&T.nextSibling.dataset,m)var le=m.dgst;m=le,n=Error(d(419)),n.stack="",n.digest=m,kl({value:n,source:null,stack:null}),a=rc(t,a,s)}else if(kt||Un(t,a,s,!1),m=(s&t.childLanes)!==0,kt||m){if(m=nt,m!==null&&(n=As(m,s),n!==0&&n!==Y.retryLane))throw Y.retryLane=n,dn(t,n),ea(m,t,n),tc;Fc(T)||cr(),a=rc(t,a,s)}else Fc(T)?(a.flags|=192,a.child=t.child,a=null):(t=Y.treeContext,rt=Na(T.nextSibling),Bt=a,qe=!0,Ls=null,ja=!1,t!==null&&xu(a,t),a=ic(a,n.children),a.flags|=4096);return a}return i?(Us(),T=n.fallback,i=a.mode,Y=t.child,le=Y.sibling,n=ss(Y,{mode:"hidden",children:n.children}),n.subtreeFlags=Y.subtreeFlags&65011712,le!==null?T=ss(le,T):(T=un(T,i,s,null),T.flags|=2),T.return=a,n.return=a,n.sibling=T,a.child=n,Ul(null,n),n=a.child,T=t.child.memoizedState,T===null?T=nc(s):(i=T.cachePool,i!==null?(Y=wt._currentValue,i=i.parent!==Y?{parent:Y,pool:Y}:i):i=Nu(),T={baseLanes:T.baseLanes|s,cachePool:i}),n.memoizedState=T,n.childLanes=lc(t,m,s),a.memoizedState=sc,Ul(t.child,n)):(Os(a),s=t.child,t=s.sibling,s=ss(s,{mode:"visible",children:n.children}),s.return=a,s.sibling=null,t!==null&&(m=a.deletions,m===null?(a.deletions=[t],a.flags|=16):m.push(t)),a.child=s,a.memoizedState=null,s)}function ic(t,a){return a=er({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function er(t,a){return t=ia(22,t,null,a),t.lanes=0,t}function rc(t,a,s){return bn(a,t.child,null,s),t=ic(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Rh(t,a,s){t.lanes|=a;var n=t.alternate;n!==null&&(n.lanes|=a),No(t.return,a,s)}function oc(t,a,s,n,i,c){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i,treeForkCount:c}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=n,m.tail=s,m.tailMode=i,m.treeForkCount=c)}function Oh(t,a,s){var n=a.pendingProps,i=n.revealOrder,c=n.tail;n=n.children;var m=yt.current,T=(m&2)!==0;if(T?(m=m&1|2,a.flags|=128):m&=1,oe(yt,m),Rt(t,a,n,s),n=qe?Sl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rh(t,s,a);else if(t.tag===19)Rh(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(s=a.child,i=null;s!==null;)t=s.alternate,t!==null&&$i(t)===null&&(i=s),s=s.sibling;s=i,s===null?(i=a.child,a.child=null):(i=s.sibling,s.sibling=null),oc(a,!1,i,s,c,n);break;case"backwards":case"unstable_legacy-backwards":for(s=null,i=a.child,a.child=null;i!==null;){if(t=i.alternate,t!==null&&$i(t)===null){a.child=i;break}t=i.sibling,i.sibling=s,s=i,i=t}oc(a,!0,s,null,c,n);break;case"together":oc(a,!1,null,null,void 0,n);break;default:a.memoizedState=null}return a.child}function cs(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),Fs|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(Un(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(d(153));if(a.child!==null){for(t=a.child,s=ss(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=ss(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function cc(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&_i(t)))}function Zx(t,a,s){switch(a.tag){case 3:ce(a,a.stateNode.containerInfo),Ds(a,wt,t.memoizedState.cache),hn();break;case 27:case 5:Ne(a);break;case 4:ce(a,a.stateNode.containerInfo);break;case 10:Ds(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,_o(a),null;break;case 13:var n=a.memoizedState;if(n!==null)return n.dehydrated!==null?(Os(a),a.flags|=128,null):(s&a.child.childLanes)!==0?_h(t,a,s):(Os(a),t=cs(t,a,s),t!==null?t.sibling:null);Os(a);break;case 19:var i=(t.flags&128)!==0;if(n=(s&a.childLanes)!==0,n||(Un(t,a,s,!1),n=(s&a.childLanes)!==0),i){if(n)return Oh(t,a,s);a.flags|=128}if(i=a.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(yt,yt.current),n)break;return null;case 22:return a.lanes=0,Eh(t,a,s,a.pendingProps);case 24:Ds(a,wt,t.memoizedState.cache)}return cs(t,a,s)}function Uh(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)kt=!0;else{if(!cc(t,s)&&(a.flags&128)===0)return kt=!1,Zx(t,a,s);kt=(t.flags&131072)!==0}else kt=!1,qe&&(a.flags&1048576)!==0&&pu(a,Sl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var n=a.pendingProps;if(t=xn(a.elementType),a.type=t,typeof t=="function")fo(t)?(n=jn(t,n),a.tag=1,a=Dh(null,a,t,n,s)):(a.tag=0,a=ac(null,a,t,n,s));else{if(t!=null){var i=t.$$typeof;if(i===E){a.tag=11,a=kh(null,a,t,n,s);break e}else if(i===q){a.tag=14,a=Ch(null,a,t,n,s);break e}}throw a=D(t)||t,Error(d(306,a,""))}}return a;case 0:return ac(t,a,a.type,a.pendingProps,s);case 1:return n=a.type,i=jn(n,a.pendingProps),Dh(t,a,n,i,s);case 3:e:{if(ce(a,a.stateNode.containerInfo),t===null)throw Error(d(387));n=a.pendingProps;var c=a.memoizedState;i=c.element,To(t,a),Dl(a,n,null,s);var m=a.memoizedState;if(n=m.cache,Ds(a,wt,n),n!==c.cache&&wo(a,[wt],s,!0),Ml(),n=m.element,c.isDehydrated)if(c={element:n,isDehydrated:!1,cache:m.cache},a.updateQueue.baseState=c,a.memoizedState=c,a.flags&256){a=Bh(t,a,n,s);break e}else if(n!==i){i=ga(Error(d(424)),a),kl(i),a=Bh(t,a,n,s);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=Na(t.firstChild),Bt=a,qe=!0,Ls=null,ja=!0,s=Eu(a,null,n,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(hn(),n===i){a=cs(t,a,s);break e}Rt(t,a,n,s)}a=a.child}return a;case 26:return Ki(t,a),t===null?(s=Vm(a.type,null,a.pendingProps,null))?a.memoizedState=s:qe||(s=a.type,t=a.pendingProps,n=xr(U.current).createElement(s),n[ut]=a,n[ht]=t,Ot(n,s,t),de(n),a.stateNode=n):a.memoizedState=Vm(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Ne(a),t===null&&qe&&(n=a.stateNode=Gm(a.type,a.pendingProps,U.current),Bt=a,ja=!0,i=rt,Gs(a.type)?($c=i,rt=Na(n.firstChild)):rt=i),Rt(t,a,a.pendingProps.children,s),Ki(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&qe&&((i=n=rt)&&(n=Ag(n,a.type,a.pendingProps,ja),n!==null?(a.stateNode=n,Bt=a,rt=Na(n.firstChild),ja=!1,i=!0):i=!1),i||Ms(a)),Ne(a),i=a.type,c=a.pendingProps,m=t!==null?t.memoizedProps:null,n=c.children,Uc(i,c)?n=null:m!==null&&Uc(i,m)&&(a.flags|=32),a.memoizedState!==null&&(i=Oo(t,a,$x,null,null,s),Jl._currentValue=i),Ki(t,a),Rt(t,a,n,s),a.child;case 6:return t===null&&qe&&((t=s=rt)&&(s=Eg(s,a.pendingProps,ja),s!==null?(a.stateNode=s,Bt=a,rt=null,t=!0):t=!1),t||Ms(a)),null;case 13:return _h(t,a,s);case 4:return ce(a,a.stateNode.containerInfo),n=a.pendingProps,t===null?a.child=bn(a,null,n,s):Rt(t,a,n,s),a.child;case 11:return kh(t,a,a.type,a.pendingProps,s);case 7:return Rt(t,a,a.pendingProps,s),a.child;case 8:return Rt(t,a,a.pendingProps.children,s),a.child;case 12:return Rt(t,a,a.pendingProps.children,s),a.child;case 10:return n=a.pendingProps,Ds(a,a.type,n.value),Rt(t,a,n.children,s),a.child;case 9:return i=a.type._context,n=a.pendingProps.children,fn(a),i=_t(i),n=n(i),a.flags|=1,Rt(t,a,n,s),a.child;case 14:return Ch(t,a,a.type,a.pendingProps,s);case 15:return Ah(t,a,a.type,a.pendingProps,s);case 19:return Oh(t,a,s);case 31:return Xx(t,a,s);case 22:return Eh(t,a,s,a.pendingProps);case 24:return fn(a),n=_t(wt),t===null?(i=Co(),i===null&&(i=nt,c=So(),i.pooledCache=c,c.refCount++,c!==null&&(i.pooledCacheLanes|=s),i=c),a.memoizedState={parent:n,cache:i},Eo(a),Ds(a,wt,i)):((t.lanes&s)!==0&&(To(t,a),Dl(a,null,null,s),Ml()),i=t.memoizedState,c=a.memoizedState,i.parent!==n?(i={parent:n,cache:n},a.memoizedState=i,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=i),Ds(a,wt,n)):(n=c.cache,Ds(a,wt,n),n!==i.cache&&wo(a,[wt],s,!0))),Rt(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(d(156,a.tag))}function ds(t){t.flags|=4}function dc(t,a,s,n,i){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(dm())t.flags|=8192;else throw gn=zi,Ao}else t.flags&=-16777217}function zh(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Km(a))if(dm())t.flags|=8192;else throw gn=zi,Ao}function tr(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Aa():536870912,t.lanes|=a,Qn|=a)}function zl(t,a){if(!qe)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ot(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(a)for(var i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=s,a}function Jx(t,a,s){var n=a.pendingProps;switch(bo(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(a),null;case 1:return ot(a),null;case 3:return s=a.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),a.memoizedState.cache!==n&&(a.flags|=2048),is(wt),me(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(On(a)?ds(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,jo())),ot(a),null;case 26:var i=a.type,c=a.memoizedState;return t===null?(ds(a),c!==null?(ot(a),zh(a,c)):(ot(a),dc(a,i,null,n,s))):c?c!==t.memoizedState?(ds(a),ot(a),zh(a,c)):(ot(a),a.flags&=-16777217):(t=t.memoizedProps,t!==n&&ds(a),ot(a),dc(a,i,t,n,s)),null;case 27:if(we(a),s=U.current,i=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==n&&ds(a);else{if(!n){if(a.stateNode===null)throw Error(d(166));return ot(a),null}t=K.current,On(a)?gu(a):(t=Gm(i,n,s),a.stateNode=t,ds(a))}return ot(a),null;case 5:if(we(a),i=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==n&&ds(a);else{if(!n){if(a.stateNode===null)throw Error(d(166));return ot(a),null}if(c=K.current,On(a))gu(a);else{var m=xr(U.current);switch(c){case 1:c=m.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:c=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":c=m.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":c=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":c=m.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof n.is=="string"?m.createElement("select",{is:n.is}):m.createElement("select"),n.multiple?c.multiple=!0:n.size&&(c.size=n.size);break;default:c=typeof n.is=="string"?m.createElement(i,{is:n.is}):m.createElement(i)}}c[ut]=a,c[ht]=n;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=c;e:switch(Ot(c,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ds(a)}}return ot(a),dc(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,s),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==n&&ds(a);else{if(typeof n!="string"&&a.stateNode===null)throw Error(d(166));if(t=U.current,On(a)){if(t=a.stateNode,s=a.memoizedProps,n=null,i=Bt,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}t[ut]=a,t=!!(t.nodeValue===s||n!==null&&n.suppressHydrationWarning===!0||_m(t.nodeValue,s)),t||Ms(a,!0)}else t=xr(t).createTextNode(n),t[ut]=a,a.stateNode=t}return ot(a),null;case 31:if(s=a.memoizedState,t===null||t.memoizedState!==null){if(n=On(a),s!==null){if(t===null){if(!n)throw Error(d(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(557));t[ut]=a}else hn(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),t=!1}else s=jo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return a.flags&256?(oa(a),a):(oa(a),null);if((a.flags&128)!==0)throw Error(d(558))}return ot(a),null;case 13:if(n=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=On(a),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(d(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));i[ut]=a}else hn(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),i=!1}else i=jo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return a.flags&256?(oa(a),a):(oa(a),null)}return oa(a),(a.flags&128)!==0?(a.lanes=s,a):(s=n!==null,t=t!==null&&t.memoizedState!==null,s&&(n=a.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==i&&(n.flags|=2048)),s!==t&&s&&(a.child.flags|=8192),tr(a,a.updateQueue),ot(a),null);case 4:return me(),t===null&&Dc(a.stateNode.containerInfo),ot(a),null;case 10:return is(a.type),ot(a),null;case 19:if(Z(yt),n=a.memoizedState,n===null)return ot(a),null;if(i=(a.flags&128)!==0,c=n.rendering,c===null)if(i)zl(n,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(c=$i(t),c!==null){for(a.flags|=128,zl(n,!1),t=c.updateQueue,a.updateQueue=t,tr(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)hu(s,t),s=s.sibling;return oe(yt,yt.current&1|2),qe&&ns(a,n.treeForkCount),a.child}t=t.sibling}n.tail!==null&&At()>ir&&(a.flags|=128,i=!0,zl(n,!1),a.lanes=4194304)}else{if(!i)if(t=$i(c),t!==null){if(a.flags|=128,i=!0,t=t.updateQueue,a.updateQueue=t,tr(a,t),zl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!c.alternate&&!qe)return ot(a),null}else 2*At()-n.renderingStartTime>ir&&s!==536870912&&(a.flags|=128,i=!0,zl(n,!1),a.lanes=4194304);n.isBackwards?(c.sibling=a.child,a.child=c):(t=n.last,t!==null?t.sibling=c:a.child=c,n.last=c)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=At(),t.sibling=null,s=yt.current,oe(yt,i?s&1|2:s&1),qe&&ns(a,n.treeForkCount),t):(ot(a),null);case 22:case 23:return oa(a),Bo(),n=a.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(a.flags|=8192):n&&(a.flags|=8192),n?(s&536870912)!==0&&(a.flags&128)===0&&(ot(a),a.subtreeFlags&6&&(a.flags|=8192)):ot(a),s=a.updateQueue,s!==null&&tr(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==s&&(a.flags|=2048),t!==null&&Z(pn),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),is(wt),ot(a),null;case 25:return null;case 30:return null}throw Error(d(156,a.tag))}function Kx(t,a){switch(bo(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return is(wt),me(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return we(a),null;case 31:if(a.memoizedState!==null){if(oa(a),a.alternate===null)throw Error(d(340));hn()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(oa(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(d(340));hn()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return Z(yt),null;case 4:return me(),null;case 10:return is(a.type),null;case 22:case 23:return oa(a),Bo(),t!==null&&Z(pn),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return is(wt),null;case 25:return null;default:return null}}function Ih(t,a){switch(bo(a),a.tag){case 3:is(wt),me();break;case 26:case 27:case 5:we(a);break;case 4:me();break;case 31:a.memoizedState!==null&&oa(a);break;case 13:oa(a);break;case 19:Z(yt);break;case 10:is(a.type);break;case 22:case 23:oa(a),Bo(),t!==null&&Z(pn);break;case 24:is(wt)}}function Il(t,a){try{var s=a.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var i=n.next;s=i;do{if((s.tag&t)===t){n=void 0;var c=s.create,m=s.inst;n=c(),m.destroy=n}s=s.next}while(s!==i)}}catch(T){Je(a,a.return,T)}}function zs(t,a,s){try{var n=a.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var c=i.next;n=c;do{if((n.tag&t)===t){var m=n.inst,T=m.destroy;if(T!==void 0){m.destroy=void 0,i=a;var Y=s,le=T;try{le()}catch(he){Je(i,Y,he)}}}n=n.next}while(n!==c)}}catch(he){Je(a,a.return,he)}}function Fh(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{Lu(a,s)}catch(n){Je(t,t.return,n)}}}function Ph(t,a,s){s.props=jn(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(n){Je(t,a,n)}}function Fl(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof s=="function"?t.refCleanup=s(n):s.current=n}}catch(i){Je(t,a,i)}}function $a(t,a){var s=t.ref,n=t.refCleanup;if(s!==null)if(typeof n=="function")try{n()}catch(i){Je(t,a,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(i){Je(t,a,i)}else s.current=null}function $h(t){var a=t.type,s=t.memoizedProps,n=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break e;case"img":s.src?n.src=s.src:s.srcSet&&(n.srcset=s.srcSet)}}catch(i){Je(t,t.return,i)}}function uc(t,a,s){try{var n=t.stateNode;vg(n,t.type,s,a),n[ht]=a}catch(i){Je(t,t.return,i)}}function Hh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gs(t.type)||t.tag===4}function hc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mc(t,a,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=ts));else if(n!==4&&(n===27&&Gs(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(mc(t,a,s),t=t.sibling;t!==null;)mc(t,a,s),t=t.sibling}function ar(t,a,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(n!==4&&(n===27&&Gs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(ar(t,a,s),t=t.sibling;t!==null;)ar(t,a,s),t=t.sibling}function qh(t){var a=t.stateNode,s=t.memoizedProps;try{for(var n=t.type,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Ot(a,n,s),a[ut]=t,a[ht]=s}catch(c){Je(t,t.return,c)}}var us=!1,Ct=!1,fc=!1,Gh=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function eg(t,a){if(t=t.containerInfo,Rc=wr,t=su(t),io(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,c=n.focusNode;n=n.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var m=0,T=-1,Y=-1,le=0,he=0,pe=t,re=null;t:for(;;){for(var ue;pe!==s||i!==0&&pe.nodeType!==3||(T=m+i),pe!==c||n!==0&&pe.nodeType!==3||(Y=m+n),pe.nodeType===3&&(m+=pe.nodeValue.length),(ue=pe.firstChild)!==null;)re=pe,pe=ue;for(;;){if(pe===t)break t;if(re===s&&++le===i&&(T=m),re===c&&++he===n&&(Y=m),(ue=pe.nextSibling)!==null)break;pe=re,re=pe.parentNode}pe=ue}s=T===-1||Y===-1?null:{start:T,end:Y}}else s=null}s=s||{start:0,end:0}}else s=null;for(Oc={focusedElem:t,selectionRange:s},wr=!1,Mt=a;Mt!==null;)if(a=Mt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Mt=t;else for(;Mt!==null;){switch(a=Mt,c=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)i=t[s],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&c!==null){t=void 0,s=a,i=c.memoizedProps,c=c.memoizedState,n=s.stateNode;try{var Se=jn(s.type,i);t=n.getSnapshotBeforeUpdate(Se,c),n.__reactInternalSnapshotBeforeUpdate=t}catch(De){Je(s,s.return,De)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)Ic(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ic(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(d(163))}if(t=a.sibling,t!==null){t.return=a.return,Mt=t;break}Mt=a.return}}function Wh(t,a,s){var n=s.flags;switch(s.tag){case 0:case 11:case 15:ms(t,s),n&4&&Il(5,s);break;case 1:if(ms(t,s),n&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(m){Je(s,s.return,m)}else{var i=jn(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(i,a,t.__reactInternalSnapshotBeforeUpdate)}catch(m){Je(s,s.return,m)}}n&64&&Fh(s),n&512&&Fl(s,s.return);break;case 3:if(ms(t,s),n&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Lu(t,a)}catch(m){Je(s,s.return,m)}}break;case 27:a===null&&n&4&&qh(s);case 26:case 5:ms(t,s),a===null&&n&4&&$h(s),n&512&&Fl(s,s.return);break;case 12:ms(t,s);break;case 31:ms(t,s),n&4&&Qh(t,s);break;case 13:ms(t,s),n&4&&Xh(t,s),n&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=cg.bind(null,s),Tg(t,s))));break;case 22:if(n=s.memoizedState!==null||us,!n){a=a!==null&&a.memoizedState!==null||Ct,i=us;var c=Ct;us=n,(Ct=a)&&!c?fs(t,s,(s.subtreeFlags&8772)!==0):ms(t,s),us=i,Ct=c}break;case 30:break;default:ms(t,s)}}function Yh(t){var a=t.alternate;a!==null&&(t.alternate=null,Yh(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Ka(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,Xt=!1;function hs(t,a,s){for(s=s.child;s!==null;)Vh(t,a,s),s=s.sibling}function Vh(t,a,s){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Dt,s)}catch{}switch(s.tag){case 26:Ct||$a(s,a),hs(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ct||$a(s,a);var n=ct,i=Xt;Gs(s.type)&&(ct=s.stateNode,Xt=!1),hs(t,a,s),Ql(s.stateNode),ct=n,Xt=i;break;case 5:Ct||$a(s,a);case 6:if(n=ct,i=Xt,ct=null,hs(t,a,s),ct=n,Xt=i,ct!==null)if(Xt)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(s.stateNode)}catch(c){Je(s,a,c)}else try{ct.removeChild(s.stateNode)}catch(c){Je(s,a,c)}break;case 18:ct!==null&&(Xt?(t=ct,Fm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),sl(t)):Fm(ct,s.stateNode));break;case 4:n=ct,i=Xt,ct=s.stateNode.containerInfo,Xt=!0,hs(t,a,s),ct=n,Xt=i;break;case 0:case 11:case 14:case 15:zs(2,s,a),Ct||zs(4,s,a),hs(t,a,s);break;case 1:Ct||($a(s,a),n=s.stateNode,typeof n.componentWillUnmount=="function"&&Ph(s,a,n)),hs(t,a,s);break;case 21:hs(t,a,s);break;case 22:Ct=(n=Ct)||s.memoizedState!==null,hs(t,a,s),Ct=n;break;default:hs(t,a,s)}}function Qh(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(s){Je(a,a.return,s)}}}function Xh(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(s){Je(a,a.return,s)}}function tg(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new Gh),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new Gh),a;default:throw Error(d(435,t.tag))}}function sr(t,a){var s=tg(t);a.forEach(function(n){if(!s.has(n)){s.add(n);var i=dg.bind(null,t,n);n.then(i,i)}})}function Zt(t,a){var s=a.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n],c=t,m=a,T=m;e:for(;T!==null;){switch(T.tag){case 27:if(Gs(T.type)){ct=T.stateNode,Xt=!1;break e}break;case 5:ct=T.stateNode,Xt=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,Xt=!0;break e}T=T.return}if(ct===null)throw Error(d(160));Vh(c,m,i),ct=null,Xt=!1,c=i.alternate,c!==null&&(c.return=null),i.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Zh(a,t),a=a.sibling}var Da=null;function Zh(t,a){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Zt(a,t),Jt(t),n&4&&(zs(3,t,t.return),Il(3,t),zs(5,t,t.return));break;case 1:Zt(a,t),Jt(t),n&512&&(Ct||s===null||$a(s,s.return)),n&64&&us&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?n:s.concat(n))));break;case 26:var i=Da;if(Zt(a,t),Jt(t),n&512&&(Ct||s===null||$a(s,s.return)),n&4){var c=s!==null?s.memoizedState:null;if(n=t.memoizedState,s===null)if(n===null)if(t.stateNode===null){e:{n=t.type,s=t.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":c=i.getElementsByTagName("title")[0],(!c||c[Ja]||c[ut]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=i.createElement(n),i.head.insertBefore(c,i.querySelector("head > title"))),Ot(c,n,s),c[ut]=t,de(c),n=c;break e;case"link":var m=Zm("link","href",i).get(n+(s.href||""));if(m){for(var T=0;T<m.length;T++)if(c=m[T],c.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&c.getAttribute("rel")===(s.rel==null?null:s.rel)&&c.getAttribute("title")===(s.title==null?null:s.title)&&c.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){m.splice(T,1);break t}}c=i.createElement(n),Ot(c,n,s),i.head.appendChild(c);break;case"meta":if(m=Zm("meta","content",i).get(n+(s.content||""))){for(T=0;T<m.length;T++)if(c=m[T],c.getAttribute("content")===(s.content==null?null:""+s.content)&&c.getAttribute("name")===(s.name==null?null:s.name)&&c.getAttribute("property")===(s.property==null?null:s.property)&&c.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&c.getAttribute("charset")===(s.charSet==null?null:s.charSet)){m.splice(T,1);break t}}c=i.createElement(n),Ot(c,n,s),i.head.appendChild(c);break;default:throw Error(d(468,n))}c[ut]=t,de(c),n=c}t.stateNode=n}else Jm(i,t.type,t.stateNode);else t.stateNode=Xm(i,n,t.memoizedProps);else c!==n?(c===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):c.count--,n===null?Jm(i,t.type,t.stateNode):Xm(i,n,t.memoizedProps)):n===null&&t.stateNode!==null&&uc(t,t.memoizedProps,s.memoizedProps)}break;case 27:Zt(a,t),Jt(t),n&512&&(Ct||s===null||$a(s,s.return)),s!==null&&n&4&&uc(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Zt(a,t),Jt(t),n&512&&(Ct||s===null||$a(s,s.return)),t.flags&32){i=t.stateNode;try{Ia(i,"")}catch(Se){Je(t,t.return,Se)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,uc(t,i,s!==null?s.memoizedProps:i)),n&1024&&(fc=!0);break;case 6:if(Zt(a,t),Jt(t),n&4){if(t.stateNode===null)throw Error(d(162));n=t.memoizedProps,s=t.stateNode;try{s.nodeValue=n}catch(Se){Je(t,t.return,Se)}}break;case 3:if(yr=null,i=Da,Da=gr(a.containerInfo),Zt(a,t),Da=i,Jt(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{sl(a.containerInfo)}catch(Se){Je(t,t.return,Se)}fc&&(fc=!1,Jh(t));break;case 4:n=Da,Da=gr(t.stateNode.containerInfo),Zt(a,t),Jt(t),Da=n;break;case 12:Zt(a,t),Jt(t);break;case 31:Zt(a,t),Jt(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,sr(t,n)));break;case 13:Zt(a,t),Jt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(lr=At()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,sr(t,n)));break;case 22:i=t.memoizedState!==null;var Y=s!==null&&s.memoizedState!==null,le=us,he=Ct;if(us=le||i,Ct=he||Y,Zt(a,t),Ct=he,us=le,Jt(t),n&8192)e:for(a=t.stateNode,a._visibility=i?a._visibility&-2:a._visibility|1,i&&(s===null||Y||us||Ct||vn(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){Y=s=a;try{if(c=Y.stateNode,i)m=c.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{T=Y.stateNode;var pe=Y.memoizedProps.style,re=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;T.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Se){Je(Y,Y.return,Se)}}}else if(a.tag===6){if(s===null){Y=a;try{Y.stateNode.nodeValue=i?"":Y.memoizedProps}catch(Se){Je(Y,Y.return,Se)}}}else if(a.tag===18){if(s===null){Y=a;try{var ue=Y.stateNode;i?Pm(ue,!0):Pm(Y.stateNode,!1)}catch(Se){Je(Y,Y.return,Se)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}n&4&&(n=t.updateQueue,n!==null&&(s=n.retryQueue,s!==null&&(n.retryQueue=null,sr(t,s))));break;case 19:Zt(a,t),Jt(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,sr(t,n)));break;case 30:break;case 21:break;default:Zt(a,t),Jt(t)}}function Jt(t){var a=t.flags;if(a&2){try{for(var s,n=t.return;n!==null;){if(Hh(n)){s=n;break}n=n.return}if(s==null)throw Error(d(160));switch(s.tag){case 27:var i=s.stateNode,c=hc(t);ar(t,c,i);break;case 5:var m=s.stateNode;s.flags&32&&(Ia(m,""),s.flags&=-33);var T=hc(t);ar(t,T,m);break;case 3:case 4:var Y=s.stateNode.containerInfo,le=hc(t);mc(t,le,Y);break;default:throw Error(d(161))}}catch(he){Je(t,t.return,he)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Jh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Jh(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function ms(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Wh(t,a.alternate,a),a=a.sibling}function vn(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:zs(4,a,a.return),vn(a);break;case 1:$a(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Ph(a,a.return,s),vn(a);break;case 27:Ql(a.stateNode);case 26:case 5:$a(a,a.return),vn(a);break;case 22:a.memoizedState===null&&vn(a);break;case 30:vn(a);break;default:vn(a)}t=t.sibling}}function fs(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var n=a.alternate,i=t,c=a,m=c.flags;switch(c.tag){case 0:case 11:case 15:fs(i,c,s),Il(4,c);break;case 1:if(fs(i,c,s),n=c,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(le){Je(n,n.return,le)}if(n=c,i=n.updateQueue,i!==null){var T=n.stateNode;try{var Y=i.shared.hiddenCallbacks;if(Y!==null)for(i.shared.hiddenCallbacks=null,i=0;i<Y.length;i++)Tu(Y[i],T)}catch(le){Je(n,n.return,le)}}s&&m&64&&Fh(c),Fl(c,c.return);break;case 27:qh(c);case 26:case 5:fs(i,c,s),s&&n===null&&m&4&&$h(c),Fl(c,c.return);break;case 12:fs(i,c,s);break;case 31:fs(i,c,s),s&&m&4&&Qh(i,c);break;case 13:fs(i,c,s),s&&m&4&&Xh(i,c);break;case 22:c.memoizedState===null&&fs(i,c,s),Fl(c,c.return);break;case 30:break;default:fs(i,c,s)}a=a.sibling}}function pc(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Cl(s))}function xc(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Cl(t))}function Ba(t,a,s,n){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Kh(t,a,s,n),a=a.sibling}function Kh(t,a,s,n){var i=a.flags;switch(a.tag){case 0:case 11:case 15:Ba(t,a,s,n),i&2048&&Il(9,a);break;case 1:Ba(t,a,s,n);break;case 3:Ba(t,a,s,n),i&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Cl(t)));break;case 12:if(i&2048){Ba(t,a,s,n),t=a.stateNode;try{var c=a.memoizedProps,m=c.id,T=c.onPostCommit;typeof T=="function"&&T(m,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Y){Je(a,a.return,Y)}}else Ba(t,a,s,n);break;case 31:Ba(t,a,s,n);break;case 13:Ba(t,a,s,n);break;case 23:break;case 22:c=a.stateNode,m=a.alternate,a.memoizedState!==null?c._visibility&2?Ba(t,a,s,n):Pl(t,a):c._visibility&2?Ba(t,a,s,n):(c._visibility|=2,Wn(t,a,s,n,(a.subtreeFlags&10256)!==0||!1)),i&2048&&pc(m,a);break;case 24:Ba(t,a,s,n),i&2048&&xc(a.alternate,a);break;default:Ba(t,a,s,n)}}function Wn(t,a,s,n,i){for(i=i&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var c=t,m=a,T=s,Y=n,le=m.flags;switch(m.tag){case 0:case 11:case 15:Wn(c,m,T,Y,i),Il(8,m);break;case 23:break;case 22:var he=m.stateNode;m.memoizedState!==null?he._visibility&2?Wn(c,m,T,Y,i):Pl(c,m):(he._visibility|=2,Wn(c,m,T,Y,i)),i&&le&2048&&pc(m.alternate,m);break;case 24:Wn(c,m,T,Y,i),i&&le&2048&&xc(m.alternate,m);break;default:Wn(c,m,T,Y,i)}a=a.sibling}}function Pl(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,n=a,i=n.flags;switch(n.tag){case 22:Pl(s,n),i&2048&&pc(n.alternate,n);break;case 24:Pl(s,n),i&2048&&xc(n.alternate,n);break;default:Pl(s,n)}a=a.sibling}}var $l=8192;function Yn(t,a,s){if(t.subtreeFlags&$l)for(t=t.child;t!==null;)em(t,a,s),t=t.sibling}function em(t,a,s){switch(t.tag){case 26:Yn(t,a,s),t.flags&$l&&t.memoizedState!==null&&Pg(s,Da,t.memoizedState,t.memoizedProps);break;case 5:Yn(t,a,s);break;case 3:case 4:var n=Da;Da=gr(t.stateNode.containerInfo),Yn(t,a,s),Da=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=$l,$l=16777216,Yn(t,a,s),$l=n):Yn(t,a,s));break;default:Yn(t,a,s)}}function tm(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Hl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];Mt=n,sm(n,t)}tm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)am(t),t=t.sibling}function am(t){switch(t.tag){case 0:case 11:case 15:Hl(t),t.flags&2048&&zs(9,t,t.return);break;case 3:Hl(t);break;case 12:Hl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,nr(t)):Hl(t);break;default:Hl(t)}}function nr(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];Mt=n,sm(n,t)}tm(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:zs(8,a,a.return),nr(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,nr(a));break;default:nr(a)}t=t.sibling}}function sm(t,a){for(;Mt!==null;){var s=Mt;switch(s.tag){case 0:case 11:case 15:zs(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var n=s.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Cl(s.memoizedState.cache)}if(n=s.child,n!==null)n.return=s,Mt=n;else e:for(s=t;Mt!==null;){n=Mt;var i=n.sibling,c=n.return;if(Yh(n),n===s){Mt=null;break e}if(i!==null){i.return=c,Mt=i;break e}Mt=c}}}var ag={getCacheForType:function(t){var a=_t(wt),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s},cacheSignal:function(){return _t(wt).controller.signal}},sg=typeof WeakMap=="function"?WeakMap:Map,Xe=0,nt=null,Ie=null,Pe=0,Ze=0,ca=null,Is=!1,Vn=!1,gc=!1,ps=0,bt=0,Fs=0,Nn=0,bc=0,da=0,Qn=0,ql=null,Kt=null,yc=!1,lr=0,nm=0,ir=1/0,rr=null,Ps=null,Et=0,$s=null,Xn=null,xs=0,jc=0,vc=null,lm=null,Gl=0,Nc=null;function ua(){return(Xe&2)!==0&&Pe!==0?Pe&-Pe:H.T!==null?Ec():Le()}function im(){if(da===0)if((Pe&536870912)===0||qe){var t=Oa;Oa<<=1,(Oa&3932160)===0&&(Oa=262144),da=t}else da=536870912;return t=ra.current,t!==null&&(t.flags|=32),da}function ea(t,a,s){(t===nt&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Zn(t,0),Hs(t,Pe,da,!1)),It(t,s),((Xe&2)===0||t!==nt)&&(t===nt&&((Xe&2)===0&&(Nn|=s),bt===4&&Hs(t,Pe,da,!1)),Ha(t))}function rm(t,a,s){if((Xe&6)!==0)throw Error(d(327));var n=!s&&(a&127)===0&&(a&t.expiredLanes)===0||Ca(t,a),i=n?ig(t,a):Sc(t,a,!0),c=n;do{if(i===0){Vn&&!n&&Hs(t,a,0,!1);break}else{if(s=t.current.alternate,c&&!ng(s)){i=Sc(t,a,!1),c=!1;continue}if(i===2){if(c=a,t.errorRecoveryDisabledLanes&c)var m=0;else m=t.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){a=m;e:{var T=t;i=ql;var Y=T.current.memoizedState.isDehydrated;if(Y&&(Zn(T,m).flags|=256),m=Sc(T,m,!1),m!==2){if(gc&&!Y){T.errorRecoveryDisabledLanes|=c,Nn|=c,i=4;break e}c=Kt,Kt=i,c!==null&&(Kt===null?Kt=c:Kt.push.apply(Kt,c))}i=m}if(c=!1,i!==2)continue}}if(i===1){Zn(t,0),Hs(t,a,0,!0);break}e:{switch(n=t,c=i,c){case 0:case 1:throw Error(d(345));case 4:if((a&4194048)!==a)break;case 6:Hs(n,a,da,!Is);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(d(329))}if((a&62914560)===a&&(i=lr+300-At(),10<i)){if(Hs(n,a,da,!Is),xt(n,0,!0)!==0)break e;xs=a,n.timeoutHandle=zm(om.bind(null,n,s,Kt,rr,yc,a,da,Nn,Qn,Is,c,"Throttled",-0,0),i);break e}om(n,s,Kt,rr,yc,a,da,Nn,Qn,Is,c,null,-0,0)}}break}while(!0);Ha(t)}function om(t,a,s,n,i,c,m,T,Y,le,he,pe,re,ue){if(t.timeoutHandle=-1,pe=a.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ts},em(a,c,pe);var Se=(c&62914560)===c?lr-At():(c&4194048)===c?nm-At():0;if(Se=$g(pe,Se),Se!==null){xs=c,t.cancelPendingCommit=Se(xm.bind(null,t,a,c,s,n,i,m,T,Y,he,pe,null,re,ue)),Hs(t,c,m,!le);return}}xm(t,a,c,s,n,i,m,T,Y)}function ng(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var n=0;n<s.length;n++){var i=s[n],c=i.getSnapshot;i=i.value;try{if(!la(c(),i))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Hs(t,a,s,n){a&=~bc,a&=~Nn,t.suspendedLanes|=a,t.pingedLanes&=~a,n&&(t.warmLanes|=a),n=t.expirationTimes;for(var i=a;0<i;){var c=31-Nt(i),m=1<<c;n[c]=-1,i&=~m}s!==0&&Ua(t,s,a)}function or(){return(Xe&6)===0?(Wl(0),!1):!0}function wc(){if(Ie!==null){if(Ze===0)var t=Ie.return;else t=Ie,ls=mn=null,Io(t),Pn=null,El=0,t=Ie;for(;t!==null;)Ih(t.alternate,t),t=t.return;Ie=null}}function Zn(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Sg(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),xs=0,wc(),nt=t,Ie=s=ss(t.current,null),Pe=a,Ze=0,ca=null,Is=!1,Vn=Ca(t,a),gc=!1,Qn=da=bc=Nn=Fs=bt=0,Kt=ql=null,yc=!1,(a&8)!==0&&(a|=a&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=a;0<n;){var i=31-Nt(n),c=1<<i;a|=t[i],n&=~c}return ps=a,Ti(),s}function cm(t,a){Oe=null,H.H=Ol,a===Fn||a===Ui?(a=ku(),Ze=3):a===Ao?(a=ku(),Ze=4):Ze=a===tc?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ca=a,Ie===null&&(bt=1,Zi(t,ga(a,t.current)))}function dm(){var t=ra.current;return t===null?!0:(Pe&4194048)===Pe?va===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===va:!1}function um(){var t=H.H;return H.H=Ol,t===null?Ol:t}function hm(){var t=H.A;return H.A=ag,t}function cr(){bt=4,Is||(Pe&4194048)!==Pe&&ra.current!==null||(Vn=!0),(Fs&134217727)===0&&(Nn&134217727)===0||nt===null||Hs(nt,Pe,da,!1)}function Sc(t,a,s){var n=Xe;Xe|=2;var i=um(),c=hm();(nt!==t||Pe!==a)&&(rr=null,Zn(t,a)),a=!1;var m=bt;e:do try{if(Ze!==0&&Ie!==null){var T=Ie,Y=ca;switch(Ze){case 8:wc(),m=6;break e;case 3:case 2:case 9:case 6:ra.current===null&&(a=!0);var le=Ze;if(Ze=0,ca=null,Jn(t,T,Y,le),s&&Vn){m=0;break e}break;default:le=Ze,Ze=0,ca=null,Jn(t,T,Y,le)}}lg(),m=bt;break}catch(he){cm(t,he)}while(!0);return a&&t.shellSuspendCounter++,ls=mn=null,Xe=n,H.H=i,H.A=c,Ie===null&&(nt=null,Pe=0,Ti()),m}function lg(){for(;Ie!==null;)mm(Ie)}function ig(t,a){var s=Xe;Xe|=2;var n=um(),i=hm();nt!==t||Pe!==a?(rr=null,ir=At()+500,Zn(t,a)):Vn=Ca(t,a);e:do try{if(Ze!==0&&Ie!==null){a=Ie;var c=ca;t:switch(Ze){case 1:Ze=0,ca=null,Jn(t,a,c,1);break;case 2:case 9:if(wu(c)){Ze=0,ca=null,fm(a);break}a=function(){Ze!==2&&Ze!==9||nt!==t||(Ze=7),Ha(t)},c.then(a,a);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:wu(c)?(Ze=0,ca=null,fm(a)):(Ze=0,ca=null,Jn(t,a,c,7));break;case 5:var m=null;switch(Ie.tag){case 26:m=Ie.memoizedState;case 5:case 27:var T=Ie;if(m?Km(m):T.stateNode.complete){Ze=0,ca=null;var Y=T.sibling;if(Y!==null)Ie=Y;else{var le=T.return;le!==null?(Ie=le,dr(le)):Ie=null}break t}}Ze=0,ca=null,Jn(t,a,c,5);break;case 6:Ze=0,ca=null,Jn(t,a,c,6);break;case 8:wc(),bt=6;break e;default:throw Error(d(462))}}rg();break}catch(he){cm(t,he)}while(!0);return ls=mn=null,H.H=n,H.A=i,Xe=s,Ie!==null?0:(nt=null,Pe=0,Ti(),bt)}function rg(){for(;Ie!==null&&!Ut();)mm(Ie)}function mm(t){var a=Uh(t.alternate,t,ps);t.memoizedProps=t.pendingProps,a===null?dr(t):Ie=a}function fm(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=Mh(s,a,a.pendingProps,a.type,void 0,Pe);break;case 11:a=Mh(s,a,a.pendingProps,a.type.render,a.ref,Pe);break;case 5:Io(a);default:Ih(s,a),a=Ie=hu(a,ps),a=Uh(s,a,ps)}t.memoizedProps=t.pendingProps,a===null?dr(t):Ie=a}function Jn(t,a,s,n){ls=mn=null,Io(a),Pn=null,El=0;var i=a.return;try{if(Qx(t,i,a,s,Pe)){bt=1,Zi(t,ga(s,t.current)),Ie=null;return}}catch(c){if(i!==null)throw Ie=i,c;bt=1,Zi(t,ga(s,t.current)),Ie=null;return}a.flags&32768?(qe||n===1?t=!0:Vn||(Pe&536870912)!==0?t=!1:(Is=t=!0,(n===2||n===9||n===3||n===6)&&(n=ra.current,n!==null&&n.tag===13&&(n.flags|=16384))),pm(a,t)):dr(a)}function dr(t){var a=t;do{if((a.flags&32768)!==0){pm(a,Is);return}t=a.return;var s=Jx(a.alternate,a,ps);if(s!==null){Ie=s;return}if(a=a.sibling,a!==null){Ie=a;return}Ie=a=t}while(a!==null);bt===0&&(bt=5)}function pm(t,a){do{var s=Kx(t.alternate,t);if(s!==null){s.flags&=32767,Ie=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=s}while(t!==null);bt=6,Ie=null}function xm(t,a,s,n,i,c,m,T,Y){t.cancelPendingCommit=null;do ur();while(Et!==0);if((Xe&6)!==0)throw Error(d(327));if(a!==null){if(a===t.current)throw Error(d(177));if(c=a.lanes|a.childLanes,c|=ho,Ft(t,s,c,m,T,Y),t===nt&&(Ie=nt=null,Pe=0),Xn=a,$s=t,xs=s,jc=c,vc=i,lm=n,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ug(pt,function(){return vm(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||n){n=H.T,H.T=null,i=W.p,W.p=2,m=Xe,Xe|=4;try{eg(t,a,s)}finally{Xe=m,W.p=i,H.T=n}}Et=1,gm(),bm(),ym()}}function gm(){if(Et===1){Et=0;var t=$s,a=Xn,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var n=W.p;W.p=2;var i=Xe;Xe|=4;try{Zh(a,t);var c=Oc,m=su(t.containerInfo),T=c.focusedElem,Y=c.selectionRange;if(m!==T&&T&&T.ownerDocument&&au(T.ownerDocument.documentElement,T)){if(Y!==null&&io(T)){var le=Y.start,he=Y.end;if(he===void 0&&(he=le),"selectionStart"in T)T.selectionStart=le,T.selectionEnd=Math.min(he,T.value.length);else{var pe=T.ownerDocument||document,re=pe&&pe.defaultView||window;if(re.getSelection){var ue=re.getSelection(),Se=T.textContent.length,De=Math.min(Y.start,Se),at=Y.end===void 0?De:Math.min(Y.end,Se);!ue.extend&&De>at&&(m=at,at=De,De=m);var se=tu(T,De),X=tu(T,at);if(se&&X&&(ue.rangeCount!==1||ue.anchorNode!==se.node||ue.anchorOffset!==se.offset||ue.focusNode!==X.node||ue.focusOffset!==X.offset)){var ne=pe.createRange();ne.setStart(se.node,se.offset),ue.removeAllRanges(),De>at?(ue.addRange(ne),ue.extend(X.node,X.offset)):(ne.setEnd(X.node,X.offset),ue.addRange(ne))}}}}for(pe=[],ue=T;ue=ue.parentNode;)ue.nodeType===1&&pe.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<pe.length;T++){var fe=pe[T];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}wr=!!Rc,Oc=Rc=null}finally{Xe=i,W.p=n,H.T=s}}t.current=a,Et=2}}function bm(){if(Et===2){Et=0;var t=$s,a=Xn,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var n=W.p;W.p=2;var i=Xe;Xe|=4;try{Wh(t,a.alternate,a)}finally{Xe=i,W.p=n,H.T=s}}Et=3}}function ym(){if(Et===4||Et===3){Et=0,ta();var t=$s,a=Xn,s=xs,n=lm;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Et=5:(Et=0,Xn=$s=null,jm(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Ps=null),pa(s),a=a.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Dt,a,void 0,(a.current.flags&128)===128)}catch{}if(n!==null){a=H.T,i=W.p,W.p=2,H.T=null;try{for(var c=t.onRecoverableError,m=0;m<n.length;m++){var T=n[m];c(T.value,{componentStack:T.stack})}}finally{H.T=a,W.p=i}}(xs&3)!==0&&ur(),Ha(t),i=t.pendingLanes,(s&261930)!==0&&(i&42)!==0?t===Nc?Gl++:(Gl=0,Nc=t):Gl=0,Wl(0)}}function jm(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Cl(a)))}function ur(){return gm(),bm(),ym(),vm()}function vm(){if(Et!==5)return!1;var t=$s,a=jc;jc=0;var s=pa(xs),n=H.T,i=W.p;try{W.p=32>s?32:s,H.T=null,s=vc,vc=null;var c=$s,m=xs;if(Et=0,Xn=$s=null,xs=0,(Xe&6)!==0)throw Error(d(331));var T=Xe;if(Xe|=4,am(c.current),Kh(c,c.current,m,s),Xe=T,Wl(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Dt,c)}catch{}return!0}finally{W.p=i,H.T=n,jm(t,a)}}function Nm(t,a,s){a=ga(s,a),a=ec(t.stateNode,a,2),t=Rs(t,a,2),t!==null&&(It(t,2),Ha(t))}function Je(t,a,s){if(t.tag===3)Nm(t,t,s);else for(;a!==null;){if(a.tag===3){Nm(a,t,s);break}else if(a.tag===1){var n=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ps===null||!Ps.has(n))){t=ga(s,t),s=wh(2),n=Rs(a,s,2),n!==null&&(Sh(s,n,a,t),It(n,2),Ha(n));break}}a=a.return}}function kc(t,a,s){var n=t.pingCache;if(n===null){n=t.pingCache=new sg;var i=new Set;n.set(a,i)}else i=n.get(a),i===void 0&&(i=new Set,n.set(a,i));i.has(s)||(gc=!0,i.add(s),t=og.bind(null,t,a,s),a.then(t,t))}function og(t,a,s){var n=t.pingCache;n!==null&&n.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,nt===t&&(Pe&s)===s&&(bt===4||bt===3&&(Pe&62914560)===Pe&&300>At()-lr?(Xe&2)===0&&Zn(t,0):bc|=s,Qn===Pe&&(Qn=0)),Ha(t)}function wm(t,a){a===0&&(a=Aa()),t=dn(t,a),t!==null&&(It(t,a),Ha(t))}function cg(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),wm(t,s)}function dg(t,a){var s=0;switch(t.tag){case 31:case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(d(314))}n!==null&&n.delete(a),wm(t,s)}function ug(t,a){return ft(t,a)}var hr=null,Kn=null,Cc=!1,mr=!1,Ac=!1,qs=0;function Ha(t){t!==Kn&&t.next===null&&(Kn===null?hr=Kn=t:Kn=Kn.next=t),mr=!0,Cc||(Cc=!0,mg())}function Wl(t,a){if(!Ac&&mr){Ac=!0;do for(var s=!1,n=hr;n!==null;){if(t!==0){var i=n.pendingLanes;if(i===0)var c=0;else{var m=n.suspendedLanes,T=n.pingedLanes;c=(1<<31-Nt(42|t)+1)-1,c&=i&~(m&~T),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(s=!0,Am(n,c))}else c=Pe,c=xt(n,n===nt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(c&3)===0||Ca(n,c)||(s=!0,Am(n,c));n=n.next}while(s);Ac=!1}}function hg(){Sm()}function Sm(){mr=Cc=!1;var t=0;qs!==0&&wg()&&(t=qs);for(var a=At(),s=null,n=hr;n!==null;){var i=n.next,c=km(n,a);c===0?(n.next=null,s===null?hr=i:s.next=i,i===null&&(Kn=s)):(s=n,(t!==0||(c&3)!==0)&&(mr=!0)),n=i}Et!==0&&Et!==5||Wl(t),qs!==0&&(qs=0)}function km(t,a){for(var s=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,c=t.pendingLanes&-62914561;0<c;){var m=31-Nt(c),T=1<<m,Y=i[m];Y===-1?((T&s)===0||(T&n)!==0)&&(i[m]=sn(T,a)):Y<=a&&(t.expiredLanes|=T),c&=~T}if(a=nt,s=Pe,s=xt(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,s===0||t===a&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&Gt(n),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ca(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(n!==null&&Gt(n),pa(s)){case 2:case 8:s=Va;break;case 32:s=pt;break;case 268435456:s=Ra;break;default:s=pt}return n=Cm.bind(null,t),s=ft(s,n),t.callbackPriority=a,t.callbackNode=s,a}return n!==null&&n!==null&&Gt(n),t.callbackPriority=2,t.callbackNode=null,2}function Cm(t,a){if(Et!==0&&Et!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(ur()&&t.callbackNode!==s)return null;var n=Pe;return n=xt(t,t===nt?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(rm(t,n,a),km(t,At()),t.callbackNode!=null&&t.callbackNode===s?Cm.bind(null,t):null)}function Am(t,a){if(ur())return null;rm(t,a,!0)}function mg(){kg(function(){(Xe&6)!==0?ft(Ya,hg):Sm()})}function Ec(){if(qs===0){var t=zn;t===0&&(t=Qa,Qa<<=1,(Qa&261888)===0&&(Qa=256)),qs=t}return qs}function Em(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:vi(""+t)}function Tm(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function fg(t,a,s,n,i){if(a==="submit"&&s&&s.stateNode===i){var c=Em((i[ht]||null).action),m=n.submitter;m&&(a=(a=m[ht]||null)?Em(a.formAction):m.getAttribute("formAction"),a!==null&&(c=a,m=null));var T=new ki("action","action",null,n,i);t.push({event:T,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(qs!==0){var Y=m?Tm(i,m):new FormData(i);Vo(s,{pending:!0,data:Y,method:i.method,action:c},null,Y)}}else typeof c=="function"&&(T.preventDefault(),Y=m?Tm(i,m):new FormData(i),Vo(s,{pending:!0,data:Y,method:i.method,action:c},c,Y))},currentTarget:i}]})}}for(var Tc=0;Tc<uo.length;Tc++){var Lc=uo[Tc],pg=Lc.toLowerCase(),xg=Lc[0].toUpperCase()+Lc.slice(1);Ma(pg,"on"+xg)}Ma(iu,"onAnimationEnd"),Ma(ru,"onAnimationIteration"),Ma(ou,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(Dx,"onTransitionRun"),Ma(Bx,"onTransitionStart"),Ma(_x,"onTransitionCancel"),Ma(cu,"onTransitionEnd"),Ge("onMouseEnter",["mouseout","mouseover"]),Ge("onMouseLeave",["mouseout","mouseover"]),Ge("onPointerEnter",["pointerout","pointerover"]),Ge("onPointerLeave",["pointerout","pointerover"]),Ae("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ae("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ae("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ae("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function Lm(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],i=n.event;n=n.listeners;e:{var c=void 0;if(a)for(var m=n.length-1;0<=m;m--){var T=n[m],Y=T.instance,le=T.currentTarget;if(T=T.listener,Y!==c&&i.isPropagationStopped())break e;c=T,i.currentTarget=le;try{c(i)}catch(he){Ei(he)}i.currentTarget=null,c=Y}else for(m=0;m<n.length;m++){if(T=n[m],Y=T.instance,le=T.currentTarget,T=T.listener,Y!==c&&i.isPropagationStopped())break e;c=T,i.currentTarget=le;try{c(i)}catch(he){Ei(he)}i.currentTarget=null,c=Y}}}}function Fe(t,a){var s=a[Ta];s===void 0&&(s=a[Ta]=new Set);var n=t+"__bubble";s.has(n)||(Mm(a,t,2,!1),s.add(n))}function Mc(t,a,s){var n=0;a&&(n|=4),Mm(s,t,n,a)}var fr="_reactListening"+Math.random().toString(36).slice(2);function Dc(t){if(!t[fr]){t[fr]=!0,be.forEach(function(s){s!=="selectionchange"&&(gg.has(s)||Mc(s,!1,t),Mc(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[fr]||(a[fr]=!0,Mc("selectionchange",!1,a))}}function Mm(t,a,s,n){switch(rf(a)){case 2:var i=Gg;break;case 8:i=Wg;break;default:i=Yc}s=i.bind(null,a,s,t),i=void 0,!Zr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(a,s,{capture:!0,passive:i}):t.addEventListener(a,s,!0):i!==void 0?t.addEventListener(a,s,{passive:i}):t.addEventListener(a,s,!1)}function Bc(t,a,s,n,i){var c=n;if((a&1)===0&&(a&2)===0&&n!==null)e:for(;;){if(n===null)return;var m=n.tag;if(m===3||m===4){var T=n.stateNode.containerInfo;if(T===i)break;if(m===4)for(m=n.return;m!==null;){var Y=m.tag;if((Y===3||Y===4)&&m.stateNode.containerInfo===i)return;m=m.return}for(;T!==null;){if(m=za(T),m===null)return;if(Y=m.tag,Y===5||Y===6||Y===26||Y===27){n=c=m;continue e}T=T.parentNode}}n=n.return}Od(function(){var le=c,he=Qr(s),pe=[];e:{var re=du.get(t);if(re!==void 0){var ue=ki,Se=t;switch(t){case"keypress":if(wi(s)===0)break e;case"keydown":case"keyup":ue=dx;break;case"focusin":Se="focus",ue=to;break;case"focusout":Se="blur",ue=to;break;case"beforeblur":case"afterblur":ue=to;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=mx;break;case iu:case ru:case ou:ue=tx;break;case cu:ue=px;break;case"scroll":case"scrollend":ue=Xp;break;case"wheel":ue=gx;break;case"copy":case"cut":case"paste":ue=sx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Pd;break;case"toggle":case"beforetoggle":ue=yx}var De=(a&4)!==0,at=!De&&(t==="scroll"||t==="scrollend"),se=De?re!==null?re+"Capture":null:re;De=[];for(var X=le,ne;X!==null;){var fe=X;if(ne=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ne===null||se===null||(fe=pl(X,se),fe!=null&&De.push(Vl(X,fe,ne))),at)break;X=X.return}0<De.length&&(re=new ue(re,Se,null,s,he),pe.push({event:re,listeners:De}))}}if((a&7)===0){e:{if(re=t==="mouseover"||t==="pointerover",ue=t==="mouseout"||t==="pointerout",re&&s!==Vr&&(Se=s.relatedTarget||s.fromElement)&&(za(Se)||Se[lt]))break e;if((ue||re)&&(re=he.window===he?he:(re=he.ownerDocument)?re.defaultView||re.parentWindow:window,ue?(Se=s.relatedTarget||s.toElement,ue=le,Se=Se?za(Se):null,Se!==null&&(at=f(Se),De=Se.tag,Se!==at||De!==5&&De!==27&&De!==6)&&(Se=null)):(ue=null,Se=le),ue!==Se)){if(De=Id,fe="onMouseLeave",se="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(De=Pd,fe="onPointerLeave",se="onPointerEnter",X="pointer"),at=ue==null?re:ae(ue),ne=Se==null?re:ae(Se),re=new De(fe,X+"leave",ue,s,he),re.target=at,re.relatedTarget=ne,fe=null,za(he)===le&&(De=new De(se,X+"enter",Se,s,he),De.target=ne,De.relatedTarget=at,fe=De),at=fe,ue&&Se)t:{for(De=bg,se=ue,X=Se,ne=0,fe=se;fe;fe=De(fe))ne++;fe=0;for(var Te=X;Te;Te=De(Te))fe++;for(;0<ne-fe;)se=De(se),ne--;for(;0<fe-ne;)X=De(X),fe--;for(;ne--;){if(se===X||X!==null&&se===X.alternate){De=se;break t}se=De(se),X=De(X)}De=null}else De=null;ue!==null&&Dm(pe,re,ue,De,!1),Se!==null&&at!==null&&Dm(pe,at,Se,De,!0)}}e:{if(re=le?ae(le):window,ue=re.nodeName&&re.nodeName.toLowerCase(),ue==="select"||ue==="input"&&re.type==="file")var We=Qd;else if(Yd(re))if(Xd)We=Tx;else{We=Ax;var ke=Cx}else ue=re.nodeName,!ue||ue.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?le&&Cn(le.elementType)&&(We=Qd):We=Ex;if(We&&(We=We(t,le))){Vd(pe,We,s,he);break e}ke&&ke(t,re,le),t==="focusout"&&le&&re.type==="number"&&le.memoizedProps.value!=null&&Vt(re,"number",re.value)}switch(ke=le?ae(le):window,t){case"focusin":(Yd(ke)||ke.contentEditable==="true")&&(Ln=ke,ro=le,wl=null);break;case"focusout":wl=ro=Ln=null;break;case"mousedown":oo=!0;break;case"contextmenu":case"mouseup":case"dragend":oo=!1,nu(pe,s,he);break;case"selectionchange":if(Mx)break;case"keydown":case"keyup":nu(pe,s,he)}var Ue;if(so)e:{switch(t){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Tn?Gd(t,s)&&($e="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&($e="onCompositionStart");$e&&($d&&s.locale!=="ko"&&(Tn||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Tn&&(Ue=Ud()):(Es=he,Jr="value"in Es?Es.value:Es.textContent,Tn=!0)),ke=pr(le,$e),0<ke.length&&($e=new Fd($e,t,null,s,he),pe.push({event:$e,listeners:ke}),Ue?$e.data=Ue:(Ue=Wd(s),Ue!==null&&($e.data=Ue)))),(Ue=vx?Nx(t,s):wx(t,s))&&($e=pr(le,"onBeforeInput"),0<$e.length&&(ke=new Fd("onBeforeInput","beforeinput",null,s,he),pe.push({event:ke,listeners:$e}),ke.data=Ue)),fg(pe,t,le,s,he)}Lm(pe,a)})}function Vl(t,a,s){return{instance:t,listener:a,currentTarget:s}}function pr(t,a){for(var s=a+"Capture",n=[];t!==null;){var i=t,c=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||c===null||(i=pl(t,s),i!=null&&n.unshift(Vl(t,i,c)),i=pl(t,a),i!=null&&n.push(Vl(t,i,c))),t.tag===3)return n;t=t.return}return[]}function bg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Dm(t,a,s,n,i){for(var c=a._reactName,m=[];s!==null&&s!==n;){var T=s,Y=T.alternate,le=T.stateNode;if(T=T.tag,Y!==null&&Y===n)break;T!==5&&T!==26&&T!==27||le===null||(Y=le,i?(le=pl(s,c),le!=null&&m.unshift(Vl(s,le,Y))):i||(le=pl(s,c),le!=null&&m.push(Vl(s,le,Y)))),s=s.return}m.length!==0&&t.push({event:a,listeners:m})}var yg=/\r\n?/g,jg=/\u0000|\uFFFD/g;function Bm(t){return(typeof t=="string"?t:""+t).replace(yg,`
`).replace(jg,"")}function _m(t,a){return a=Bm(a),Bm(t)===a}function tt(t,a,s,n,i,c){switch(s){case"children":typeof n=="string"?a==="body"||a==="textarea"&&n===""||Ia(t,n):(typeof n=="number"||typeof n=="bigint")&&a!=="body"&&Ia(t,""+n);break;case"className":kn(t,"class",n);break;case"tabIndex":kn(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,s,n);break;case"style":fl(t,n,c);break;case"data":if(a!=="object"){kn(t,"data",n);break}case"src":case"href":if(n===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(s);break}n=vi(""+n),t.setAttribute(s,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(s==="formAction"?(a!=="input"&&tt(t,a,"name",i.name,i,null),tt(t,a,"formEncType",i.formEncType,i,null),tt(t,a,"formMethod",i.formMethod,i,null),tt(t,a,"formTarget",i.formTarget,i,null)):(tt(t,a,"encType",i.encType,i,null),tt(t,a,"method",i.method,i,null),tt(t,a,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(s);break}n=vi(""+n),t.setAttribute(s,n);break;case"onClick":n!=null&&(t.onclick=ts);break;case"onScroll":n!=null&&Fe("scroll",t);break;case"onScrollEnd":n!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(d(61));if(s=n.__html,s!=null){if(i.children!=null)throw Error(d(60));t.innerHTML=s}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}s=vi(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,""+n):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":n===!0?t.setAttribute(s,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,n):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(s,n):t.removeAttribute(s);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(s):t.setAttribute(s,n);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),ln(t,"popover",n);break;case"xlinkActuate":La(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":La(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":La(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":La(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":La(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":La(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":La(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":La(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":La(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ln(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ji.get(s)||s,ln(t,s,n))}}function _c(t,a,s,n,i,c){switch(s){case"style":fl(t,n,c);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(d(61));if(s=n.__html,s!=null){if(i.children!=null)throw Error(d(60));t.innerHTML=s}}break;case"children":typeof n=="string"?Ia(t,n):(typeof n=="number"||typeof n=="bigint")&&Ia(t,""+n);break;case"onScroll":n!=null&&Fe("scroll",t);break;case"onScrollEnd":n!=null&&Fe("scrollend",t);break;case"onClick":n!=null&&(t.onclick=ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ve.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(i=s.endsWith("Capture"),a=s.slice(2,i?s.length-7:void 0),c=t[ht]||null,c=c!=null?c[s]:null,typeof c=="function"&&t.removeEventListener(a,c,i),typeof n=="function")){typeof c!="function"&&c!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,n,i);break e}s in t?t[s]=n:n===!0?t.setAttribute(s,""):ln(t,s,n)}}}function Ot(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var n=!1,i=!1,c;for(c in s)if(s.hasOwnProperty(c)){var m=s[c];if(m!=null)switch(c){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,a));default:tt(t,a,c,m,s,null)}}i&&tt(t,a,"srcSet",s.srcSet,s,null),n&&tt(t,a,"src",s.src,s,null);return;case"input":Fe("invalid",t);var T=c=m=i=null,Y=null,le=null;for(n in s)if(s.hasOwnProperty(n)){var he=s[n];if(he!=null)switch(n){case"name":i=he;break;case"type":m=he;break;case"checked":Y=he;break;case"defaultChecked":le=he;break;case"value":c=he;break;case"defaultValue":T=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(d(137,a));break;default:tt(t,a,n,he,s,null)}}Ht(t,c,T,Y,le,m,i,!1);return;case"select":Fe("invalid",t),n=m=c=null;for(i in s)if(s.hasOwnProperty(i)&&(T=s[i],T!=null))switch(i){case"value":c=T;break;case"defaultValue":m=T;break;case"multiple":n=T;default:tt(t,a,i,T,s,null)}a=c,s=m,t.multiple=!!n,a!=null?na(t,!!n,a,!1):s!=null&&na(t,!!n,s,!0);return;case"textarea":Fe("invalid",t),c=i=n=null;for(m in s)if(s.hasOwnProperty(m)&&(T=s[m],T!=null))switch(m){case"value":n=T;break;case"defaultValue":i=T;break;case"children":c=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(d(91));break;default:tt(t,a,m,T,s,null)}gi(t,n,i,c);return;case"option":for(Y in s)s.hasOwnProperty(Y)&&(n=s[Y],n!=null)&&(Y==="selected"?t.selected=n&&typeof n!="function"&&typeof n!="symbol":tt(t,a,Y,n,s,null));return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(n=0;n<Yl.length;n++)Fe(Yl[n],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in s)if(s.hasOwnProperty(le)&&(n=s[le],n!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,a));default:tt(t,a,le,n,s,null)}return;default:if(Cn(a)){for(he in s)s.hasOwnProperty(he)&&(n=s[he],n!==void 0&&_c(t,a,he,n,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(n=s[T],n!=null&&tt(t,a,T,n,s,null))}function vg(t,a,s,n){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,c=null,m=null,T=null,Y=null,le=null,he=null;for(ue in s){var pe=s[ue];if(s.hasOwnProperty(ue)&&pe!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":Y=pe;default:n.hasOwnProperty(ue)||tt(t,a,ue,null,n,pe)}}for(var re in n){var ue=n[re];if(pe=s[re],n.hasOwnProperty(re)&&(ue!=null||pe!=null))switch(re){case"type":c=ue;break;case"name":i=ue;break;case"checked":le=ue;break;case"defaultChecked":he=ue;break;case"value":m=ue;break;case"defaultValue":T=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(d(137,a));break;default:ue!==pe&&tt(t,a,re,ue,n,pe)}}it(t,m,T,Y,le,he,c,i);return;case"select":ue=m=T=re=null;for(c in s)if(Y=s[c],s.hasOwnProperty(c)&&Y!=null)switch(c){case"value":break;case"multiple":ue=Y;default:n.hasOwnProperty(c)||tt(t,a,c,null,n,Y)}for(i in n)if(c=n[i],Y=s[i],n.hasOwnProperty(i)&&(c!=null||Y!=null))switch(i){case"value":re=c;break;case"defaultValue":T=c;break;case"multiple":m=c;default:c!==Y&&tt(t,a,i,c,n,Y)}a=T,s=m,n=ue,re!=null?na(t,!!s,re,!1):!!n!=!!s&&(a!=null?na(t,!!s,a,!0):na(t,!!s,s?[]:"",!1));return;case"textarea":ue=re=null;for(T in s)if(i=s[T],s.hasOwnProperty(T)&&i!=null&&!n.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:tt(t,a,T,null,n,i)}for(m in n)if(i=n[m],c=s[m],n.hasOwnProperty(m)&&(i!=null||c!=null))switch(m){case"value":re=i;break;case"defaultValue":ue=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(d(91));break;default:i!==c&&tt(t,a,m,i,n,c)}es(t,re,ue);return;case"option":for(var Se in s)re=s[Se],s.hasOwnProperty(Se)&&re!=null&&!n.hasOwnProperty(Se)&&(Se==="selected"?t.selected=!1:tt(t,a,Se,null,n,re));for(Y in n)re=n[Y],ue=s[Y],n.hasOwnProperty(Y)&&re!==ue&&(re!=null||ue!=null)&&(Y==="selected"?t.selected=re&&typeof re!="function"&&typeof re!="symbol":tt(t,a,Y,re,n,ue));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in s)re=s[De],s.hasOwnProperty(De)&&re!=null&&!n.hasOwnProperty(De)&&tt(t,a,De,null,n,re);for(le in n)if(re=n[le],ue=s[le],n.hasOwnProperty(le)&&re!==ue&&(re!=null||ue!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(d(137,a));break;default:tt(t,a,le,re,n,ue)}return;default:if(Cn(a)){for(var at in s)re=s[at],s.hasOwnProperty(at)&&re!==void 0&&!n.hasOwnProperty(at)&&_c(t,a,at,void 0,n,re);for(he in n)re=n[he],ue=s[he],!n.hasOwnProperty(he)||re===ue||re===void 0&&ue===void 0||_c(t,a,he,re,n,ue);return}}for(var se in s)re=s[se],s.hasOwnProperty(se)&&re!=null&&!n.hasOwnProperty(se)&&tt(t,a,se,null,n,re);for(pe in n)re=n[pe],ue=s[pe],!n.hasOwnProperty(pe)||re===ue||re==null&&ue==null||tt(t,a,pe,re,n,ue)}function Rm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ng(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,s=performance.getEntriesByType("resource"),n=0;n<s.length;n++){var i=s[n],c=i.transferSize,m=i.initiatorType,T=i.duration;if(c&&T&&Rm(m)){for(m=0,T=i.responseEnd,n+=1;n<s.length;n++){var Y=s[n],le=Y.startTime;if(le>T)break;var he=Y.transferSize,pe=Y.initiatorType;he&&Rm(pe)&&(Y=Y.responseEnd,m+=he*(Y<T?1:(T-le)/(Y-le)))}if(--n,a+=8*(c+m)/(i.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rc=null,Oc=null;function xr(t){return t.nodeType===9?t:t.ownerDocument}function Om(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Um(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Uc(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zc=null;function wg(){var t=window.event;return t&&t.type==="popstate"?t===zc?!1:(zc=t,!0):(zc=null,!1)}var zm=typeof setTimeout=="function"?setTimeout:void 0,Sg=typeof clearTimeout=="function"?clearTimeout:void 0,Im=typeof Promise=="function"?Promise:void 0,kg=typeof queueMicrotask=="function"?queueMicrotask:typeof Im<"u"?function(t){return Im.resolve(null).then(t).catch(Cg)}:zm;function Cg(t){setTimeout(function(){throw t})}function Gs(t){return t==="head"}function Fm(t,a){var s=a,n=0;do{var i=s.nextSibling;if(t.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"||s==="/&"){if(n===0){t.removeChild(i),sl(a);return}n--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")n++;else if(s==="html")Ql(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Ql(s);for(var c=s.firstChild;c;){var m=c.nextSibling,T=c.nodeName;c[Ja]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&c.rel.toLowerCase()==="stylesheet"||s.removeChild(c),c=m}}else s==="body"&&Ql(t.ownerDocument.body);s=i}while(s);sl(a)}function Pm(t,a){var s=t;t=0;do{var n=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=n}while(s)}function Ic(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ic(s),Ka(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Ag(t,a,s,n){for(;t.nodeType===1;){var i=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[Ja])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(c=t.getAttribute("rel"),c==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(c!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(c=t.getAttribute("src"),(c!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&c&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var c=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===c)return t}else return t;if(t=Na(t.nextSibling),t===null)break}return null}function Eg(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Na(t.nextSibling),t===null))return null;return t}function $m(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Na(t.nextSibling),t===null))return null;return t}function Fc(t){return t.data==="$?"||t.data==="$~"}function Pc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Tg(t,a){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||s.readyState!=="loading")a();else{var n=function(){a(),s.removeEventListener("DOMContentLoaded",n)};s.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function Na(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var $c=null;function Hm(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(a===0)return Na(t.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}t=t.nextSibling}return null}function qm(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return t;a--}else s!=="/$"&&s!=="/&"||a++}t=t.previousSibling}return null}function Gm(t,a,s){switch(a=xr(s),t){case"html":if(t=a.documentElement,!t)throw Error(d(452));return t;case"head":if(t=a.head,!t)throw Error(d(453));return t;case"body":if(t=a.body,!t)throw Error(d(454));return t;default:throw Error(d(451))}}function Ql(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ka(t)}var wa=new Map,Wm=new Set;function gr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=W.d;W.d={f:Lg,r:Mg,D:Dg,C:Bg,L:_g,m:Rg,X:Ug,S:Og,M:zg};function Lg(){var t=gs.f(),a=or();return t||a}function Mg(t){var a=R(t);a!==null&&a.tag===5&&a.type==="form"?ch(a):gs.r(t)}var el=typeof document>"u"?null:document;function Ym(t,a,s){var n=el;if(n&&typeof a=="string"&&a){var i=Qe(a);i='link[rel="'+t+'"][href="'+i+'"]',typeof s=="string"&&(i+='[crossorigin="'+s+'"]'),Wm.has(i)||(Wm.add(i),t={rel:t,crossOrigin:s,href:a},n.querySelector(i)===null&&(a=n.createElement("link"),Ot(a,"link",t),de(a),n.head.appendChild(a)))}}function Dg(t){gs.D(t),Ym("dns-prefetch",t,null)}function Bg(t,a){gs.C(t,a),Ym("preconnect",t,a)}function _g(t,a,s){gs.L(t,a,s);var n=el;if(n&&t&&a){var i='link[rel="preload"][as="'+Qe(a)+'"]';a==="image"&&s&&s.imageSrcSet?(i+='[imagesrcset="'+Qe(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(i+='[imagesizes="'+Qe(s.imageSizes)+'"]')):i+='[href="'+Qe(t)+'"]';var c=i;switch(a){case"style":c=tl(t);break;case"script":c=al(t)}wa.has(c)||(t=p({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),wa.set(c,t),n.querySelector(i)!==null||a==="style"&&n.querySelector(Xl(c))||a==="script"&&n.querySelector(Zl(c))||(a=n.createElement("link"),Ot(a,"link",t),de(a),n.head.appendChild(a)))}}function Rg(t,a){gs.m(t,a);var s=el;if(s&&t){var n=a&&typeof a.as=="string"?a.as:"script",i='link[rel="modulepreload"][as="'+Qe(n)+'"][href="'+Qe(t)+'"]',c=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=al(t)}if(!wa.has(c)&&(t=p({rel:"modulepreload",href:t},a),wa.set(c,t),s.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Zl(c)))return}n=s.createElement("link"),Ot(n,"link",t),de(n),s.head.appendChild(n)}}}function Og(t,a,s){gs.S(t,a,s);var n=el;if(n&&t){var i=Q(n).hoistableStyles,c=tl(t);a=a||"default";var m=i.get(c);if(!m){var T={loading:0,preload:null};if(m=n.querySelector(Xl(c)))T.loading=5;else{t=p({rel:"stylesheet",href:t,"data-precedence":a},s),(s=wa.get(c))&&Hc(t,s);var Y=m=n.createElement("link");de(Y),Ot(Y,"link",t),Y._p=new Promise(function(le,he){Y.onload=le,Y.onerror=he}),Y.addEventListener("load",function(){T.loading|=1}),Y.addEventListener("error",function(){T.loading|=2}),T.loading|=4,br(m,a,n)}m={type:"stylesheet",instance:m,count:1,state:T},i.set(c,m)}}}function Ug(t,a){gs.X(t,a);var s=el;if(s&&t){var n=Q(s).hoistableScripts,i=al(t),c=n.get(i);c||(c=s.querySelector(Zl(i)),c||(t=p({src:t,async:!0},a),(a=wa.get(i))&&qc(t,a),c=s.createElement("script"),de(c),Ot(c,"link",t),s.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(i,c))}}function zg(t,a){gs.M(t,a);var s=el;if(s&&t){var n=Q(s).hoistableScripts,i=al(t),c=n.get(i);c||(c=s.querySelector(Zl(i)),c||(t=p({src:t,async:!0,type:"module"},a),(a=wa.get(i))&&qc(t,a),c=s.createElement("script"),de(c),Ot(c,"link",t),s.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(i,c))}}function Vm(t,a,s,n){var i=(i=U.current)?gr(i):null;if(!i)throw Error(d(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=tl(s.href),s=Q(i).hoistableStyles,n=s.get(a),n||(n={type:"style",instance:null,count:0,state:null},s.set(a,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=tl(s.href);var c=Q(i).hoistableStyles,m=c.get(t);if(m||(i=i.ownerDocument||i,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(t,m),(c=i.querySelector(Xl(t)))&&!c._p&&(m.instance=c,m.state.loading=5),wa.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},wa.set(t,s),c||Ig(i,t,s,m.state))),a&&n===null)throw Error(d(528,""));return m}if(a&&n!==null)throw Error(d(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=al(s),s=Q(i).hoistableScripts,n=s.get(a),n||(n={type:"script",instance:null,count:0,state:null},s.set(a,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,t))}}function tl(t){return'href="'+Qe(t)+'"'}function Xl(t){return'link[rel="stylesheet"]['+t+"]"}function Qm(t){return p({},t,{"data-precedence":t.precedence,precedence:null})}function Ig(t,a,s,n){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?n.loading=1:(a=t.createElement("link"),n.preload=a,a.addEventListener("load",function(){return n.loading|=1}),a.addEventListener("error",function(){return n.loading|=2}),Ot(a,"link",s),de(a),t.head.appendChild(a))}function al(t){return'[src="'+Qe(t)+'"]'}function Zl(t){return"script[async]"+t}function Xm(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var n=t.querySelector('style[data-href~="'+Qe(s.href)+'"]');if(n)return a.instance=n,de(n),n;var i=p({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),de(n),Ot(n,"style",i),br(n,s.precedence,t),a.instance=n;case"stylesheet":i=tl(s.href);var c=t.querySelector(Xl(i));if(c)return a.state.loading|=4,a.instance=c,de(c),c;n=Qm(s),(i=wa.get(i))&&Hc(n,i),c=(t.ownerDocument||t).createElement("link"),de(c);var m=c;return m._p=new Promise(function(T,Y){m.onload=T,m.onerror=Y}),Ot(c,"link",n),a.state.loading|=4,br(c,s.precedence,t),a.instance=c;case"script":return c=al(s.src),(i=t.querySelector(Zl(c)))?(a.instance=i,de(i),i):(n=s,(i=wa.get(c))&&(n=p({},s),qc(n,i)),t=t.ownerDocument||t,i=t.createElement("script"),de(i),Ot(i,"link",n),t.head.appendChild(i),a.instance=i);case"void":return null;default:throw Error(d(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(n=a.instance,a.state.loading|=4,br(n,s.precedence,t));return a.instance}function br(t,a,s){for(var n=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,c=i,m=0;m<n.length;m++){var T=n[m];if(T.dataset.precedence===a)c=T;else if(c!==i)break}c?c.parentNode.insertBefore(t,c.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function Hc(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function qc(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var yr=null;function Zm(t,a,s){if(yr===null){var n=new Map,i=yr=new Map;i.set(s,n)}else i=yr,n=i.get(s),n||(n=new Map,i.set(s,n));if(n.has(t))return n;for(n.set(t,null),s=s.getElementsByTagName(t),i=0;i<s.length;i++){var c=s[i];if(!(c[Ja]||c[ut]||t==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var m=c.getAttribute(a)||"";m=t+m;var T=n.get(m);T?T.push(c):n.set(m,[c])}}return n}function Jm(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function Fg(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Km(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Pg(t,a,s,n){if(s.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var i=tl(n.href),c=a.querySelector(Xl(i));if(c){a=c._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=jr.bind(t),a.then(t,t)),s.state.loading|=4,s.instance=c,de(c);return}c=a.ownerDocument||a,n=Qm(n),(i=wa.get(i))&&Hc(n,i),c=c.createElement("link"),de(c);var m=c;m._p=new Promise(function(T,Y){m.onload=T,m.onerror=Y}),Ot(c,"link",n),s.instance=c}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=jr.bind(t),a.addEventListener("load",s),a.addEventListener("error",s))}}var Gc=0;function $g(t,a){return t.stylesheets&&t.count===0&&Nr(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var n=setTimeout(function(){if(t.stylesheets&&Nr(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4+a);0<t.imgBytes&&Gc===0&&(Gc=62500*Ng());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Nr(t,t.stylesheets),t.unsuspend)){var c=t.unsuspend;t.unsuspend=null,c()}},(t.imgBytes>Gc?50:800)+a);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function jr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vr=null;function Nr(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vr=new Map,a.forEach(Hg,t),vr=null,jr.call(t))}function Hg(t,a){if(!(a.state.loading&4)){var s=vr.get(t);if(s)var n=s.get(null);else{s=new Map,vr.set(t,s);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<i.length;c++){var m=i[c];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(s.set(m.dataset.precedence,m),n=m)}n&&s.set(null,n)}i=a.instance,m=i.getAttribute("data-precedence"),c=s.get(m)||n,c===n&&s.set(null,i),s.set(m,i),this.count++,n=jr.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),c?c.parentNode.insertBefore(i,c.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),a.state.loading|=4}}var Jl={$$typeof:L,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function qg(t,a,s,n,i,c,m,T,Y){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.hiddenUpdates=fa(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=c,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function ef(t,a,s,n,i,c,m,T,Y,le,he,pe){return t=new qg(t,a,s,m,Y,le,he,pe,T),a=1,c===!0&&(a|=24),c=ia(3,null,null,a),t.current=c,c.stateNode=t,a=So(),a.refCount++,t.pooledCache=a,a.refCount++,c.memoizedState={element:n,isDehydrated:s,cache:a},Eo(c),t}function tf(t){return t?(t=Bn,t):Bn}function af(t,a,s,n,i,c){i=tf(i),n.context===null?n.context=i:n.pendingContext=i,n=_s(a),n.payload={element:s},c=c===void 0?null:c,c!==null&&(n.callback=c),s=Rs(t,n,a),s!==null&&(ea(s,t,a),Ll(s,t,a))}function sf(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function Wc(t,a){sf(t,a),(t=t.alternate)&&sf(t,a)}function nf(t){if(t.tag===13||t.tag===31){var a=dn(t,67108864);a!==null&&ea(a,t,67108864),Wc(t,67108864)}}function lf(t){if(t.tag===13||t.tag===31){var a=ua();a=aa(a);var s=dn(t,a);s!==null&&ea(s,t,a),Wc(t,a)}}var wr=!0;function Gg(t,a,s,n){var i=H.T;H.T=null;var c=W.p;try{W.p=2,Yc(t,a,s,n)}finally{W.p=c,H.T=i}}function Wg(t,a,s,n){var i=H.T;H.T=null;var c=W.p;try{W.p=8,Yc(t,a,s,n)}finally{W.p=c,H.T=i}}function Yc(t,a,s,n){if(wr){var i=Vc(n);if(i===null)Bc(t,a,n,Sr,s),of(t,n);else if(Vg(i,t,a,s,n))n.stopPropagation();else if(of(t,n),a&4&&-1<Yg.indexOf(t)){for(;i!==null;){var c=R(i);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var m=Lt(c.pendingLanes);if(m!==0){var T=c;for(T.pendingLanes|=2,T.entangledLanes|=2;m;){var Y=1<<31-Nt(m);T.entanglements[1]|=Y,m&=~Y}Ha(c),(Xe&6)===0&&(ir=At()+500,Wl(0))}}break;case 31:case 13:T=dn(c,2),T!==null&&ea(T,c,2),or(),Wc(c,2)}if(c=Vc(n),c===null&&Bc(t,a,n,Sr,s),c===i)break;i=c}i!==null&&n.stopPropagation()}else Bc(t,a,n,null,s)}}function Vc(t){return t=Qr(t),Qc(t)}var Sr=null;function Qc(t){if(Sr=null,t=za(t),t!==null){var a=f(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=b(a),t!==null)return t;t=null}else if(s===31){if(t=v(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Sr=t,null}function rf(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hl()){case Ya:return 2;case Va:return 8;case pt:case ws:return 32;case Ra:return 268435456;default:return 32}default:return 32}}var Xc=!1,Ws=null,Ys=null,Vs=null,Kl=new Map,ei=new Map,Qs=[],Yg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function of(t,a){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Kl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ei.delete(a.pointerId)}}function ti(t,a,s,n,i,c){return t===null||t.nativeEvent!==c?(t={blockedOn:a,domEventName:s,eventSystemFlags:n,nativeEvent:c,targetContainers:[i]},a!==null&&(a=R(a),a!==null&&nf(a)),t):(t.eventSystemFlags|=n,a=t.targetContainers,i!==null&&a.indexOf(i)===-1&&a.push(i),t)}function Vg(t,a,s,n,i){switch(a){case"focusin":return Ws=ti(Ws,t,a,s,n,i),!0;case"dragenter":return Ys=ti(Ys,t,a,s,n,i),!0;case"mouseover":return Vs=ti(Vs,t,a,s,n,i),!0;case"pointerover":var c=i.pointerId;return Kl.set(c,ti(Kl.get(c)||null,t,a,s,n,i)),!0;case"gotpointercapture":return c=i.pointerId,ei.set(c,ti(ei.get(c)||null,t,a,s,n,i)),!0}return!1}function cf(t){var a=za(t.target);if(a!==null){var s=f(a);if(s!==null){if(a=s.tag,a===13){if(a=b(s),a!==null){t.blockedOn=a,Za(t.priority,function(){lf(s)});return}}else if(a===31){if(a=v(s),a!==null){t.blockedOn=a,Za(t.priority,function(){lf(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kr(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=Vc(t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);Vr=n,s.target.dispatchEvent(n),Vr=null}else return a=R(s),a!==null&&nf(a),t.blockedOn=s,!1;a.shift()}return!0}function df(t,a,s){kr(t)&&s.delete(a)}function Qg(){Xc=!1,Ws!==null&&kr(Ws)&&(Ws=null),Ys!==null&&kr(Ys)&&(Ys=null),Vs!==null&&kr(Vs)&&(Vs=null),Kl.forEach(df),ei.forEach(df)}function Cr(t,a){t.blockedOn===a&&(t.blockedOn=null,Xc||(Xc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Qg)))}var Ar=null;function uf(t){Ar!==t&&(Ar=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ar===t&&(Ar=null);for(var a=0;a<t.length;a+=3){var s=t[a],n=t[a+1],i=t[a+2];if(typeof n!="function"){if(Qc(n||s)===null)continue;break}var c=R(s);c!==null&&(t.splice(a,3),a-=3,Vo(c,{pending:!0,data:i,method:s.method,action:n},n,i))}}))}function sl(t){function a(Y){return Cr(Y,t)}Ws!==null&&Cr(Ws,t),Ys!==null&&Cr(Ys,t),Vs!==null&&Cr(Vs,t),Kl.forEach(a),ei.forEach(a);for(var s=0;s<Qs.length;s++){var n=Qs[s];n.blockedOn===t&&(n.blockedOn=null)}for(;0<Qs.length&&(s=Qs[0],s.blockedOn===null);)cf(s),s.blockedOn===null&&Qs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(n=0;n<s.length;n+=3){var i=s[n],c=s[n+1],m=i[ht]||null;if(typeof c=="function")m||uf(s);else if(m){var T=null;if(c&&c.hasAttribute("formAction")){if(i=c,m=c[ht]||null)T=m.formAction;else if(Qc(i)!==null)continue}else T=m.action;typeof T=="function"?s[n+1]=T:(s.splice(n,3),n-=3),uf(s)}}}function hf(){function t(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(m){return i=m})},focusReset:"manual",scroll:"manual"})}function a(){i!==null&&(i(),i=null),n||setTimeout(s,20)}function s(){if(!n&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){n=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),i!==null&&(i(),i=null)}}}function Zc(t){this._internalRoot=t}Er.prototype.render=Zc.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(d(409));var s=a.current,n=ua();af(s,n,t,a,null,null)},Er.prototype.unmount=Zc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;af(t.current,2,null,t,null,null),or(),a[lt]=null}};function Er(t){this._internalRoot=t}Er.prototype.unstable_scheduleHydration=function(t){if(t){var a=Le();t={blockedOn:null,target:t,priority:a};for(var s=0;s<Qs.length&&a!==0&&a<Qs[s].priority;s++);Qs.splice(s,0,t),s===0&&cf(t)}};var mf=r.version;if(mf!=="19.2.4")throw Error(d(527,mf,"19.2.4"));W.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(d(188)):(t=Object.keys(t).join(","),Error(d(268,t)));return t=g(a),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var Xg={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tr.isDisabled&&Tr.supportsFiber)try{Dt=Tr.inject(Xg),Tt=Tr}catch{}}return si.createRoot=function(t,a){if(!h(t))throw Error(d(299));var s=!1,n="",i=yh,c=jh,m=vh;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(c=a.onCaughtError),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=ef(t,1,!1,null,null,s,n,null,i,c,m,hf),t[lt]=a.current,Dc(t),new Zc(a)},si.hydrateRoot=function(t,a,s){if(!h(t))throw Error(d(299));var n=!1,i="",c=yh,m=jh,T=vh,Y=null;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onUncaughtError!==void 0&&(c=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(Y=s.formState)),a=ef(t,1,!0,a,s??null,n,i,Y,c,m,T,hf),a.context=tf(null),s=a.current,n=ua(),n=aa(n),i=_s(n),i.callback=null,Rs(s,i,n),s=n,a.current.lanes=s,It(a,s),Ha(a),t[lt]=a.current,Dc(t),new Er(a)},si.version="19.2.4",si}var wf;function ib(){if(wf)return ed.exports;wf=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),ed.exports=lb(),ed.exports}var rb=ib();var Sf="popstate";function ob(l={}){function r(d,h){let{pathname:f,search:b,hash:v}=d.location;return pd("",{pathname:f,search:b,hash:v},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function o(d,h){return typeof h=="string"?h:di(h)}return db(r,o,null,l)}function dt(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function _a(l,r){if(!l){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function cb(){return Math.random().toString(36).substring(2,10)}function kf(l,r){return{usr:l.state,key:l.key,idx:r}}function pd(l,r,o=null,d){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof r=="string"?ol(r):r,state:o,key:r&&r.key||d||cb()}}function di({pathname:l="/",search:r="",hash:o=""}){return r&&r!=="?"&&(l+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(l+=o.charAt(0)==="#"?o:"#"+o),l}function ol(l){let r={};if(l){let o=l.indexOf("#");o>=0&&(r.hash=l.substring(o),l=l.substring(0,o));let d=l.indexOf("?");d>=0&&(r.search=l.substring(d),l=l.substring(0,d)),l&&(r.pathname=l)}return r}function db(l,r,o,d={}){let{window:h=document.defaultView,v5Compat:f=!1}=d,b=h.history,v="POP",x=null,g=y();g==null&&(g=0,b.replaceState({...b.state,idx:g},""));function y(){return(b.state||{idx:null}).idx}function p(){v="POP";let _=y(),k=_==null?null:_-g;g=_,x&&x({action:v,location:M.location,delta:k})}function j(_,k){v="PUSH";let F=pd(M.location,_,k);g=y()+1;let L=kf(F,g),E=M.createHref(F);try{b.pushState(L,"",E)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;h.location.assign(E)}f&&x&&x({action:v,location:M.location,delta:1})}function C(_,k){v="REPLACE";let F=pd(M.location,_,k);g=y();let L=kf(F,g),E=M.createHref(F);b.replaceState(L,"",E),f&&x&&x({action:v,location:M.location,delta:0})}function N(_){return ub(_)}let M={get action(){return v},get location(){return l(h,b)},listen(_){if(x)throw new Error("A history only accepts one active listener");return h.addEventListener(Sf,p),x=_,()=>{h.removeEventListener(Sf,p),x=null}},createHref(_){return r(h,_)},createURL:N,encodeLocation(_){let k=N(_);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:j,replace:C,go(_){return b.go(_)}};return M}function ub(l,r=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),dt(o,"No window.location.(origin|href) available to create URL");let d=typeof l=="string"?l:di(l);return d=d.replace(/ $/,"%20"),!r&&d.startsWith("//")&&(d=o+d),new URL(d,o)}function sp(l,r,o="/"){return hb(l,r,o,!1)}function hb(l,r,o,d){let h=typeof r=="string"?ol(r):r,f=Ns(h.pathname||"/",o);if(f==null)return null;let b=np(l);mb(b);let v=null;for(let x=0;v==null&&x<b.length;++x){let g=Sb(f);v=Nb(b[x],g,d)}return v}function np(l,r=[],o=[],d="",h=!1){let f=(b,v,x=h,g)=>{let y={relativePath:g===void 0?b.path||"":g,caseSensitive:b.caseSensitive===!0,childrenIndex:v,route:b};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(d)&&x)return;dt(y.relativePath.startsWith(d),`Absolute route path "${y.relativePath}" nested under path "${d}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(d.length)}let p=vs([d,y.relativePath]),j=o.concat(y);b.children&&b.children.length>0&&(dt(b.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),np(b.children,r,j,p,x)),!(b.path==null&&!b.index)&&r.push({path:p,score:jb(p,b.index),routesMeta:j})};return l.forEach((b,v)=>{if(b.path===""||!b.path?.includes("?"))f(b,v);else for(let x of lp(b.path))f(b,v,!0,x)}),r}function lp(l){let r=l.split("/");if(r.length===0)return[];let[o,...d]=r,h=o.endsWith("?"),f=o.replace(/\?$/,"");if(d.length===0)return h?[f,""]:[f];let b=lp(d.join("/")),v=[];return v.push(...b.map(x=>x===""?f:[f,x].join("/"))),h&&v.push(...b),v.map(x=>l.startsWith("/")&&x===""?"/":x)}function mb(l){l.sort((r,o)=>r.score!==o.score?o.score-r.score:vb(r.routesMeta.map(d=>d.childrenIndex),o.routesMeta.map(d=>d.childrenIndex)))}var fb=/^:[\w-]+$/,pb=3,xb=2,gb=1,bb=10,yb=-2,Cf=l=>l==="*";function jb(l,r){let o=l.split("/"),d=o.length;return o.some(Cf)&&(d+=yb),r&&(d+=xb),o.filter(h=>!Cf(h)).reduce((h,f)=>h+(fb.test(f)?pb:f===""?gb:bb),d)}function vb(l,r){return l.length===r.length&&l.slice(0,-1).every((d,h)=>d===r[h])?l[l.length-1]-r[r.length-1]:0}function Nb(l,r,o=!1){let{routesMeta:d}=l,h={},f="/",b=[];for(let v=0;v<d.length;++v){let x=d[v],g=v===d.length-1,y=f==="/"?r:r.slice(f.length)||"/",p=Hr({path:x.relativePath,caseSensitive:x.caseSensitive,end:g},y),j=x.route;if(!p&&g&&o&&!d[d.length-1].route.index&&(p=Hr({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},y)),!p)return null;Object.assign(h,p.params),b.push({params:h,pathname:vs([f,p.pathname]),pathnameBase:Eb(vs([f,p.pathnameBase])),route:j}),p.pathnameBase!=="/"&&(f=vs([f,p.pathnameBase]))}return b}function Hr(l,r){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[o,d]=wb(l.path,l.caseSensitive,l.end),h=r.match(o);if(!h)return null;let f=h[0],b=f.replace(/(.)\/+$/,"$1"),v=h.slice(1);return{params:d.reduce((g,{paramName:y,isOptional:p},j)=>{if(y==="*"){let N=v[j]||"";b=f.slice(0,f.length-N.length).replace(/(.)\/+$/,"$1")}const C=v[j];return p&&!C?g[y]=void 0:g[y]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:f,pathnameBase:b,pattern:l}}function wb(l,r=!1,o=!0){_a(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let d=[],h="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,v,x)=>(d.push({paramName:v,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(d.push({paramName:"*"}),h+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?h+="\\/*$":l!==""&&l!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,r?void 0:"i"),d]}function Sb(l){try{return l.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return _a(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),l}}function Ns(l,r){if(r==="/")return l;if(!l.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,d=l.charAt(o);return d&&d!=="/"?null:l.slice(o)||"/"}var kb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Cb(l,r="/"){let{pathname:o,search:d="",hash:h=""}=typeof l=="string"?ol(l):l,f;return o?(o=o.replace(/\/\/+/g,"/"),o.startsWith("/")?f=Af(o.substring(1),"/"):f=Af(o,r)):f=r,{pathname:f,search:Tb(d),hash:Lb(h)}}function Af(l,r){let o=r.replace(/\/+$/,"").split("/");return l.split("/").forEach(h=>{h===".."?o.length>1&&o.pop():h!=="."&&o.push(h)}),o.length>1?o.join("/"):"/"}function nd(l,r,o,d){return`Cannot include a '${l}' character in a manually specified \`to.${r}\` field [${JSON.stringify(d)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ab(l){return l.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function wd(l){let r=Ab(l);return r.map((o,d)=>d===r.length-1?o.pathname:o.pathnameBase)}function Sd(l,r,o,d=!1){let h;typeof l=="string"?h=ol(l):(h={...l},dt(!h.pathname||!h.pathname.includes("?"),nd("?","pathname","search",h)),dt(!h.pathname||!h.pathname.includes("#"),nd("#","pathname","hash",h)),dt(!h.search||!h.search.includes("#"),nd("#","search","hash",h)));let f=l===""||h.pathname==="",b=f?"/":h.pathname,v;if(b==null)v=o;else{let p=r.length-1;if(!d&&b.startsWith("..")){let j=b.split("/");for(;j[0]==="..";)j.shift(),p-=1;h.pathname=j.join("/")}v=p>=0?r[p]:"/"}let x=Cb(h,v),g=b&&b!=="/"&&b.endsWith("/"),y=(f||b===".")&&o.endsWith("/");return!x.pathname.endsWith("/")&&(g||y)&&(x.pathname+="/"),x}var vs=l=>l.join("/").replace(/\/\/+/g,"/"),Eb=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),Tb=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Lb=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l,Mb=class{constructor(l,r,o,d=!1){this.status=l,this.statusText=r||"",this.internal=d,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function Db(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}function Bb(l){return l.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ip=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rp(l,r){let o=l;if(typeof o!="string"||!kb.test(o))return{absoluteURL:void 0,isExternal:!1,to:o};let d=o,h=!1;if(ip)try{let f=new URL(window.location.href),b=o.startsWith("//")?new URL(f.protocol+o):new URL(o),v=Ns(b.pathname,r);b.origin===f.origin&&v!=null?o=v+b.search+b.hash:h=!0}catch{_a(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:d,isExternal:h,to:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var op=["POST","PUT","PATCH","DELETE"];new Set(op);var _b=["GET",...op];new Set(_b);var cl=u.createContext(null);cl.displayName="DataRouter";var Gr=u.createContext(null);Gr.displayName="DataRouterState";var Rb=u.createContext(!1),cp=u.createContext({isTransitioning:!1});cp.displayName="ViewTransition";var Ob=u.createContext(new Map);Ob.displayName="Fetchers";var Ub=u.createContext(null);Ub.displayName="Await";var ha=u.createContext(null);ha.displayName="Navigation";var ui=u.createContext(null);ui.displayName="Location";var Wa=u.createContext({outlet:null,matches:[],isDataRoute:!1});Wa.displayName="Route";var kd=u.createContext(null);kd.displayName="RouteError";var dp="REACT_ROUTER_ERROR",zb="REDIRECT",Ib="ROUTE_ERROR_RESPONSE";function Fb(l){if(l.startsWith(`${dp}:${zb}:{`))try{let r=JSON.parse(l.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function Pb(l){if(l.startsWith(`${dp}:${Ib}:{`))try{let r=JSON.parse(l.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new Mb(r.status,r.statusText,r.data)}catch{}}function $b(l,{relative:r}={}){dt(dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:d}=u.useContext(ha),{hash:h,pathname:f,search:b}=hi(l,{relative:r}),v=f;return o!=="/"&&(v=f==="/"?o:vs([o,f])),d.createHref({pathname:v,search:b,hash:h})}function dl(){return u.useContext(ui)!=null}function tn(){return dt(dl(),"useLocation() may be used only in the context of a <Router> component."),u.useContext(ui).location}var up="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hp(l){u.useContext(ha).static||u.useLayoutEffect(l)}function Cd(){let{isDataRoute:l}=u.useContext(Wa);return l?ty():Hb()}function Hb(){dt(dl(),"useNavigate() may be used only in the context of a <Router> component.");let l=u.useContext(cl),{basename:r,navigator:o}=u.useContext(ha),{matches:d}=u.useContext(Wa),{pathname:h}=tn(),f=JSON.stringify(wd(d)),b=u.useRef(!1);return hp(()=>{b.current=!0}),u.useCallback((x,g={})=>{if(_a(b.current,up),!b.current)return;if(typeof x=="number"){o.go(x);return}let y=Sd(x,JSON.parse(f),h,g.relative==="path");l==null&&r!=="/"&&(y.pathname=y.pathname==="/"?r:vs([r,y.pathname])),(g.replace?o.replace:o.push)(y,g.state,g)},[r,o,f,h,l])}u.createContext(null);function hi(l,{relative:r}={}){let{matches:o}=u.useContext(Wa),{pathname:d}=tn(),h=JSON.stringify(wd(o));return u.useMemo(()=>Sd(l,JSON.parse(h),d,r==="path"),[l,h,d,r])}function qb(l,r){return mp(l,r)}function mp(l,r,o,d,h){dt(dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=u.useContext(ha),{matches:b}=u.useContext(Wa),v=b[b.length-1],x=v?v.params:{},g=v?v.pathname:"/",y=v?v.pathnameBase:"/",p=v&&v.route;{let F=p&&p.path||"";pp(g,!p||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let j=tn(),C;if(r){let F=typeof r=="string"?ol(r):r;dt(y==="/"||F.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),C=F}else C=j;let N=C.pathname||"/",M=N;if(y!=="/"){let F=y.replace(/^\//,"").split("/");M="/"+N.replace(/^\//,"").split("/").slice(F.length).join("/")}let _=sp(l,{pathname:M});_a(p||_!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),_a(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Qb(_&&_.map(F=>Object.assign({},F,{params:Object.assign({},x,F.params),pathname:vs([y,f.encodeLocation?f.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:vs([y,f.encodeLocation?f.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),b,o,d,h);return r&&k?u.createElement(ui.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},k):k}function Gb(){let l=ey(),r=Db(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),o=l instanceof Error?l.stack:null,d="rgba(200,200,200, 0.5)",h={padding:"0.5rem",backgroundColor:d},f={padding:"2px 4px",backgroundColor:d},b=null;return console.error("Error handled by React Router default ErrorBoundary:",l),b=u.createElement(u.Fragment,null,u.createElement("p",null," Hey developer "),u.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",u.createElement("code",{style:f},"ErrorBoundary")," or"," ",u.createElement("code",{style:f},"errorElement")," prop on your route.")),u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},r),o?u.createElement("pre",{style:h},o):null,b)}var Wb=u.createElement(Gb,null),fp=class extends u.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,r){return r.location!==l.location||r.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:r.error,location:r.location,revalidation:l.revalidation||r.revalidation}}componentDidCatch(l,r){this.props.onError?this.props.onError(l,r):console.error("React Router caught the following error during render",l)}render(){let l=this.state.error;if(this.context&&typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){const o=Pb(l.digest);o&&(l=o)}let r=l!==void 0?u.createElement(Wa.Provider,{value:this.props.routeContext},u.createElement(kd.Provider,{value:l,children:this.props.component})):this.props.children;return this.context?u.createElement(Yb,{error:l},r):r}};fp.contextType=Rb;var ld=new WeakMap;function Yb({children:l,error:r}){let{basename:o}=u.useContext(ha);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let d=Fb(r.digest);if(d){let h=ld.get(r);if(h)throw h;let f=rp(d.location,o);if(ip&&!ld.get(r))if(f.isExternal||d.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const b=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:d.replace}));throw ld.set(r,b),b}return u.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return l}function Vb({routeContext:l,match:r,children:o}){let d=u.useContext(cl);return d&&d.static&&d.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=r.route.id),u.createElement(Wa.Provider,{value:l},o)}function Qb(l,r=[],o=null,d=null,h=null){if(l==null){if(!o)return null;if(o.errors)l=o.matches;else if(r.length===0&&!o.initialized&&o.matches.length>0)l=o.matches;else return null}let f=l,b=o?.errors;if(b!=null){let y=f.findIndex(p=>p.route.id&&b?.[p.route.id]!==void 0);dt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(b).join(",")}`),f=f.slice(0,Math.min(f.length,y+1))}let v=!1,x=-1;if(o)for(let y=0;y<f.length;y++){let p=f[y];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(x=y),p.route.id){let{loaderData:j,errors:C}=o,N=p.route.loader&&!j.hasOwnProperty(p.route.id)&&(!C||C[p.route.id]===void 0);if(p.route.lazy||N){v=!0,x>=0?f=f.slice(0,x+1):f=[f[0]];break}}}let g=o&&d?(y,p)=>{d(y,{location:o.location,params:o.matches?.[0]?.params??{},unstable_pattern:Bb(o.matches),errorInfo:p})}:void 0;return f.reduceRight((y,p,j)=>{let C,N=!1,M=null,_=null;o&&(C=b&&p.route.id?b[p.route.id]:void 0,M=p.route.errorElement||Wb,v&&(x<0&&j===0?(pp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,_=null):x===j&&(N=!0,_=p.route.hydrateFallbackElement||null)));let k=r.concat(f.slice(0,j+1)),F=()=>{let L;return C?L=M:N?L=_:p.route.Component?L=u.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=y,u.createElement(Vb,{match:p,routeContext:{outlet:y,matches:k,isDataRoute:o!=null},children:L})};return o&&(p.route.ErrorBoundary||p.route.errorElement||j===0)?u.createElement(fp,{location:o.location,revalidation:o.revalidation,component:M,error:C,children:F(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:g}):F()},null)}function Ad(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xb(l){let r=u.useContext(cl);return dt(r,Ad(l)),r}function Zb(l){let r=u.useContext(Gr);return dt(r,Ad(l)),r}function Jb(l){let r=u.useContext(Wa);return dt(r,Ad(l)),r}function Ed(l){let r=Jb(l),o=r.matches[r.matches.length-1];return dt(o.route.id,`${l} can only be used on routes that contain a unique "id"`),o.route.id}function Kb(){return Ed("useRouteId")}function ey(){let l=u.useContext(kd),r=Zb("useRouteError"),o=Ed("useRouteError");return l!==void 0?l:r.errors?.[o]}function ty(){let{router:l}=Xb("useNavigate"),r=Ed("useNavigate"),o=u.useRef(!1);return hp(()=>{o.current=!0}),u.useCallback(async(h,f={})=>{_a(o.current,up),o.current&&(typeof h=="number"?await l.navigate(h):await l.navigate(h,{fromRouteId:r,...f}))},[l,r])}var Ef={};function pp(l,r,o){!r&&!Ef[l]&&(Ef[l]=!0,_a(!1,o))}u.memo(ay);function ay({routes:l,future:r,state:o,onError:d}){return mp(l,void 0,o,d,r)}function oi({to:l,replace:r,state:o,relative:d}){dt(dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:h}=u.useContext(ha);_a(!h,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=u.useContext(Wa),{pathname:b}=tn(),v=Cd(),x=Sd(l,wd(f),b,d==="path"),g=JSON.stringify(x);return u.useEffect(()=>{v(JSON.parse(g),{replace:r,state:o,relative:d})},[v,g,d,r,o]),null}function bs(l){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sy({basename:l="/",children:r=null,location:o,navigationType:d="POP",navigator:h,static:f=!1,unstable_useTransitions:b}){dt(!dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=l.replace(/^\/*/,"/"),x=u.useMemo(()=>({basename:v,navigator:h,static:f,unstable_useTransitions:b,future:{}}),[v,h,f,b]);typeof o=="string"&&(o=ol(o));let{pathname:g="/",search:y="",hash:p="",state:j=null,key:C="default"}=o,N=u.useMemo(()=>{let M=Ns(g,v);return M==null?null:{location:{pathname:M,search:y,hash:p,state:j,key:C},navigationType:d}},[v,g,y,p,j,C,d]);return _a(N!=null,`<Router basename="${v}"> is not able to match the URL "${g}${y}${p}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:u.createElement(ha.Provider,{value:x},u.createElement(ui.Provider,{children:r,value:N}))}function ny({children:l,location:r}){return qb(xd(l),r)}function xd(l,r=[]){let o=[];return u.Children.forEach(l,(d,h)=>{if(!u.isValidElement(d))return;let f=[...r,h];if(d.type===u.Fragment){o.push.apply(o,xd(d.props.children,f));return}dt(d.type===bs,`[${typeof d.type=="string"?d.type:d.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!d.props.index||!d.props.children,"An index route cannot have child routes.");let b={id:d.props.id||f.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,middleware:d.props.middleware,loader:d.props.loader,action:d.props.action,hydrateFallbackElement:d.props.hydrateFallbackElement,HydrateFallback:d.props.HydrateFallback,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.hasErrorBoundary===!0||d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(b.children=xd(d.props.children,f)),o.push(b)}),o}var Ir="get",Fr="application/x-www-form-urlencoded";function Wr(l){return typeof HTMLElement<"u"&&l instanceof HTMLElement}function ly(l){return Wr(l)&&l.tagName.toLowerCase()==="button"}function iy(l){return Wr(l)&&l.tagName.toLowerCase()==="form"}function ry(l){return Wr(l)&&l.tagName.toLowerCase()==="input"}function oy(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function cy(l,r){return l.button===0&&(!r||r==="_self")&&!oy(l)}var Lr=null;function dy(){if(Lr===null)try{new FormData(document.createElement("form"),0),Lr=!1}catch{Lr=!0}return Lr}var uy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function id(l){return l!=null&&!uy.has(l)?(_a(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fr}"`),null):l}function hy(l,r){let o,d,h,f,b;if(iy(l)){let v=l.getAttribute("action");d=v?Ns(v,r):null,o=l.getAttribute("method")||Ir,h=id(l.getAttribute("enctype"))||Fr,f=new FormData(l)}else if(ly(l)||ry(l)&&(l.type==="submit"||l.type==="image")){let v=l.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=l.getAttribute("formaction")||v.getAttribute("action");if(d=x?Ns(x,r):null,o=l.getAttribute("formmethod")||v.getAttribute("method")||Ir,h=id(l.getAttribute("formenctype"))||id(v.getAttribute("enctype"))||Fr,f=new FormData(v,l),!dy()){let{name:g,type:y,value:p}=l;if(y==="image"){let j=g?`${g}.`:"";f.append(`${j}x`,"0"),f.append(`${j}y`,"0")}else g&&f.append(g,p)}}else{if(Wr(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Ir,d=null,h=Fr,b=l}return f&&h==="text/plain"&&(b=f,f=void 0),{action:d,method:o.toLowerCase(),encType:h,formData:f,body:b}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Td(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function my(l,r,o,d){let h=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return o?h.pathname.endsWith("/")?h.pathname=`${h.pathname}_.${d}`:h.pathname=`${h.pathname}.${d}`:h.pathname==="/"?h.pathname=`_root.${d}`:r&&Ns(h.pathname,r)==="/"?h.pathname=`${r.replace(/\/$/,"")}/_root.${d}`:h.pathname=`${h.pathname.replace(/\/$/,"")}.${d}`,h}async function fy(l,r){if(l.id in r)return r[l.id];try{let o=await import(l.module);return r[l.id]=o,o}catch(o){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function py(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function xy(l,r,o){let d=await Promise.all(l.map(async h=>{let f=r.routes[h.route.id];if(f){let b=await fy(f,o);return b.links?b.links():[]}return[]}));return jy(d.flat(1).filter(py).filter(h=>h.rel==="stylesheet"||h.rel==="preload").map(h=>h.rel==="stylesheet"?{...h,rel:"prefetch",as:"style"}:{...h,rel:"prefetch"}))}function Tf(l,r,o,d,h,f){let b=(x,g)=>o[g]?x.route.id!==o[g].route.id:!0,v=(x,g)=>o[g].pathname!==x.pathname||o[g].route.path?.endsWith("*")&&o[g].params["*"]!==x.params["*"];return f==="assets"?r.filter((x,g)=>b(x,g)||v(x,g)):f==="data"?r.filter((x,g)=>{let y=d.routes[x.route.id];if(!y||!y.hasLoader)return!1;if(b(x,g)||v(x,g))return!0;if(x.route.shouldRevalidate){let p=x.route.shouldRevalidate({currentUrl:new URL(h.pathname+h.search+h.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function gy(l,r,{includeHydrateFallback:o}={}){return by(l.map(d=>{let h=r.routes[d.route.id];if(!h)return[];let f=[h.module];return h.clientActionModule&&(f=f.concat(h.clientActionModule)),h.clientLoaderModule&&(f=f.concat(h.clientLoaderModule)),o&&h.hydrateFallbackModule&&(f=f.concat(h.hydrateFallbackModule)),h.imports&&(f=f.concat(h.imports)),f}).flat(1))}function by(l){return[...new Set(l)]}function yy(l){let r={},o=Object.keys(l).sort();for(let d of o)r[d]=l[d];return r}function jy(l,r){let o=new Set;return new Set(r),l.reduce((d,h)=>{let f=JSON.stringify(yy(h));return o.has(f)||(o.add(f),d.push({key:f,link:h})),d},[])}function xp(){let l=u.useContext(cl);return Td(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function vy(){let l=u.useContext(Gr);return Td(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var Ld=u.createContext(void 0);Ld.displayName="FrameworkContext";function gp(){let l=u.useContext(Ld);return Td(l,"You must render this element inside a <HydratedRouter> element"),l}function Ny(l,r){let o=u.useContext(Ld),[d,h]=u.useState(!1),[f,b]=u.useState(!1),{onFocus:v,onBlur:x,onMouseEnter:g,onMouseLeave:y,onTouchStart:p}=r,j=u.useRef(null);u.useEffect(()=>{if(l==="render"&&b(!0),l==="viewport"){let M=k=>{k.forEach(F=>{b(F.isIntersecting)})},_=new IntersectionObserver(M,{threshold:.5});return j.current&&_.observe(j.current),()=>{_.disconnect()}}},[l]),u.useEffect(()=>{if(d){let M=setTimeout(()=>{b(!0)},100);return()=>{clearTimeout(M)}}},[d]);let C=()=>{h(!0)},N=()=>{h(!1),b(!1)};return o?l!=="intent"?[f,j,{}]:[f,j,{onFocus:ni(v,C),onBlur:ni(x,N),onMouseEnter:ni(g,C),onMouseLeave:ni(y,N),onTouchStart:ni(p,C)}]:[!1,j,{}]}function ni(l,r){return o=>{l&&l(o),o.defaultPrevented||r(o)}}function wy({page:l,...r}){let{router:o}=xp(),d=u.useMemo(()=>sp(o.routes,l,o.basename),[o.routes,l,o.basename]);return d?u.createElement(ky,{page:l,matches:d,...r}):null}function Sy(l){let{manifest:r,routeModules:o}=gp(),[d,h]=u.useState([]);return u.useEffect(()=>{let f=!1;return xy(l,r,o).then(b=>{f||h(b)}),()=>{f=!0}},[l,r,o]),d}function ky({page:l,matches:r,...o}){let d=tn(),{future:h,manifest:f,routeModules:b}=gp(),{basename:v}=xp(),{loaderData:x,matches:g}=vy(),y=u.useMemo(()=>Tf(l,r,g,f,d,"data"),[l,r,g,f,d]),p=u.useMemo(()=>Tf(l,r,g,f,d,"assets"),[l,r,g,f,d]),j=u.useMemo(()=>{if(l===d.pathname+d.search+d.hash)return[];let M=new Set,_=!1;if(r.forEach(F=>{let L=f.routes[F.route.id];!L||!L.hasLoader||(!y.some(E=>E.route.id===F.route.id)&&F.route.id in x&&b[F.route.id]?.shouldRevalidate||L.hasClientLoader?_=!0:M.add(F.route.id))}),M.size===0)return[];let k=my(l,v,h.unstable_trailingSlashAwareDataRequests,"data");return _&&M.size>0&&k.searchParams.set("_routes",r.filter(F=>M.has(F.route.id)).map(F=>F.route.id).join(",")),[k.pathname+k.search]},[v,h.unstable_trailingSlashAwareDataRequests,x,d,f,y,r,l,b]),C=u.useMemo(()=>gy(p,f),[p,f]),N=Sy(p);return u.createElement(u.Fragment,null,j.map(M=>u.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...o})),C.map(M=>u.createElement("link",{key:M,rel:"modulepreload",href:M,...o})),N.map(({key:M,link:_})=>u.createElement("link",{key:M,nonce:o.nonce,..._,crossOrigin:_.crossOrigin??o.crossOrigin})))}function Cy(...l){return r=>{l.forEach(o=>{typeof o=="function"?o(r):o!=null&&(o.current=r)})}}var Ay=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ay&&(window.__reactRouterVersion="7.13.0")}catch{}function Ey({basename:l,children:r,unstable_useTransitions:o,window:d}){let h=u.useRef();h.current==null&&(h.current=ob({window:d,v5Compat:!0}));let f=h.current,[b,v]=u.useState({action:f.action,location:f.location}),x=u.useCallback(g=>{o===!1?v(g):u.startTransition(()=>v(g))},[o]);return u.useLayoutEffect(()=>f.listen(x),[f,x]),u.createElement(sy,{basename:l,children:r,location:b.location,navigationType:b.action,navigator:f,unstable_useTransitions:o})}var bp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yp=u.forwardRef(function({onClick:r,discover:o="render",prefetch:d="none",relative:h,reloadDocument:f,replace:b,state:v,target:x,to:g,preventScrollReset:y,viewTransition:p,unstable_defaultShouldRevalidate:j,...C},N){let{basename:M,unstable_useTransitions:_}=u.useContext(ha),k=typeof g=="string"&&bp.test(g),F=rp(g,M);g=F.to;let L=$b(g,{relative:h}),[E,w,A]=Ny(d,C),q=Dy(g,{replace:b,state:v,target:x,preventScrollReset:y,relative:h,viewTransition:p,unstable_defaultShouldRevalidate:j,unstable_useTransitions:_});function G(ee){r&&r(ee),ee.defaultPrevented||q(ee)}let B=u.createElement("a",{...C,...A,href:F.absoluteURL||L,onClick:F.isExternal||f?r:G,ref:Cy(N,w),target:x,"data-discover":!k&&o==="render"?"true":void 0});return E&&!k?u.createElement(u.Fragment,null,B,u.createElement(wy,{page:L})):B});yp.displayName="Link";var Ty=u.forwardRef(function({"aria-current":r="page",caseSensitive:o=!1,className:d="",end:h=!1,style:f,to:b,viewTransition:v,children:x,...g},y){let p=hi(b,{relative:g.relative}),j=tn(),C=u.useContext(Gr),{navigator:N,basename:M}=u.useContext(ha),_=C!=null&&Uy(p)&&v===!0,k=N.encodeLocation?N.encodeLocation(p).pathname:p.pathname,F=j.pathname,L=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;o||(F=F.toLowerCase(),L=L?L.toLowerCase():null,k=k.toLowerCase()),L&&M&&(L=Ns(L,M)||L);const E=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let w=F===k||!h&&F.startsWith(k)&&F.charAt(E)==="/",A=L!=null&&(L===k||!h&&L.startsWith(k)&&L.charAt(k.length)==="/"),q={isActive:w,isPending:A,isTransitioning:_},G=w?r:void 0,B;typeof d=="function"?B=d(q):B=[d,w?"active":null,A?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let ee=typeof f=="function"?f(q):f;return u.createElement(yp,{...g,"aria-current":G,className:B,ref:y,style:ee,to:b,viewTransition:v},typeof x=="function"?x(q):x)});Ty.displayName="NavLink";var Ly=u.forwardRef(({discover:l="render",fetcherKey:r,navigate:o,reloadDocument:d,replace:h,state:f,method:b=Ir,action:v,onSubmit:x,relative:g,preventScrollReset:y,viewTransition:p,unstable_defaultShouldRevalidate:j,...C},N)=>{let{unstable_useTransitions:M}=u.useContext(ha),_=Ry(),k=Oy(v,{relative:g}),F=b.toLowerCase()==="get"?"get":"post",L=typeof v=="string"&&bp.test(v),E=w=>{if(x&&x(w),w.defaultPrevented)return;w.preventDefault();let A=w.nativeEvent.submitter,q=A?.getAttribute("formmethod")||b,G=()=>_(A||w.currentTarget,{fetcherKey:r,method:q,navigate:o,replace:h,state:f,relative:g,preventScrollReset:y,viewTransition:p,unstable_defaultShouldRevalidate:j});M&&o!==!1?u.startTransition(()=>G()):G()};return u.createElement("form",{ref:N,method:F,action:k,onSubmit:d?x:E,...C,"data-discover":!L&&l==="render"?"true":void 0})});Ly.displayName="Form";function My(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jp(l){let r=u.useContext(cl);return dt(r,My(l)),r}function Dy(l,{target:r,replace:o,state:d,preventScrollReset:h,relative:f,viewTransition:b,unstable_defaultShouldRevalidate:v,unstable_useTransitions:x}={}){let g=Cd(),y=tn(),p=hi(l,{relative:f});return u.useCallback(j=>{if(cy(j,r)){j.preventDefault();let C=o!==void 0?o:di(y)===di(p),N=()=>g(l,{replace:C,state:d,preventScrollReset:h,relative:f,viewTransition:b,unstable_defaultShouldRevalidate:v});x?u.startTransition(()=>N()):N()}},[y,g,p,o,d,r,l,h,f,b,v,x])}var By=0,_y=()=>`__${String(++By)}__`;function Ry(){let{router:l}=jp("useSubmit"),{basename:r}=u.useContext(ha),o=Kb(),d=l.fetch,h=l.navigate;return u.useCallback(async(f,b={})=>{let{action:v,method:x,encType:g,formData:y,body:p}=hy(f,r);if(b.navigate===!1){let j=b.fetcherKey||_y();await d(j,o,b.action||v,{unstable_defaultShouldRevalidate:b.unstable_defaultShouldRevalidate,preventScrollReset:b.preventScrollReset,formData:y,body:p,formMethod:b.method||x,formEncType:b.encType||g,flushSync:b.flushSync})}else await h(b.action||v,{unstable_defaultShouldRevalidate:b.unstable_defaultShouldRevalidate,preventScrollReset:b.preventScrollReset,formData:y,body:p,formMethod:b.method||x,formEncType:b.encType||g,replace:b.replace,state:b.state,fromRouteId:o,flushSync:b.flushSync,viewTransition:b.viewTransition})},[d,h,r,o])}function Oy(l,{relative:r}={}){let{basename:o}=u.useContext(ha),d=u.useContext(Wa);dt(d,"useFormAction must be used inside a RouteContext");let[h]=d.matches.slice(-1),f={...hi(l||".",{relative:r})},b=tn();if(l==null){f.search=b.search;let v=new URLSearchParams(f.search),x=v.getAll("index");if(x.some(y=>y==="")){v.delete("index"),x.filter(p=>p).forEach(p=>v.append("index",p));let y=v.toString();f.search=y?`?${y}`:""}}return(!l||l===".")&&h.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(f.pathname=f.pathname==="/"?o:vs([o,f.pathname])),di(f)}function Uy(l,{relative:r}={}){let o=u.useContext(cp);dt(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:d}=jp("useViewTransitionState"),h=hi(l,{relative:r});if(!o.isTransitioning)return!1;let f=Ns(o.currentLocation.pathname,d)||o.currentLocation.pathname,b=Ns(o.nextLocation.pathname,d)||o.nextLocation.pathname;return Hr(h.pathname,b)!=null||Hr(h.pathname,f)!=null}var Md=ap();const zy="/api/index.php?path=",Lf=l=>{if(!l)return"";const r=String(l).replace(/\/+$/,"");return r.includes("?path=")||/\/api\/index\.php$/i.test(r)||/\/index\.php$/i.test(r)||/\/api$/i.test(r)?r:r+"/api"},Iy=()=>{const l=Lf("https://bettorplays247.com/api/index.php?path=");return l||Lf(zy)},en=Iy(),Fy=en.includes("?path="),xe=(l="",r=null)=>{const o=l?l.startsWith("/")?l:`/${l}`:"",d=r&&Object.keys(r).length>0?new URLSearchParams(r).toString():"";if(Fy){const f=`${en}${o}`;return d?`${f}&${d}`:f}const h=`${en}${o}`;return d?`${h}?${d}`:h};en.replace(/\/api\/?$/,"");const Ks=l=>String(l||"straight").toLowerCase().replace(/-/g,"_").trim(),ge=(l=null)=>{const r={"Content-Type":"application/json","Bypass-Tunnel-Remainder":"true"};return l&&(r.Authorization=`Bearer ${l}`),r},mi=async(l,r)=>{const d=(l.headers.get("content-type")||"").toLowerCase().includes("application/json"),h=await l.text();let f=null;if(d&&h)try{f=JSON.parse(h)}catch{f=null}if(!l.ok){const b=f?.message||(h&&!d?`${r}: received HTML/non-JSON response from ${l.url}`:r);throw new Error(b)}if(d){if(!h)return{};try{return JSON.parse(h)}catch{throw new Error(`${r}: server returned invalid JSON`)}}throw new Error(`${r}: expected JSON but received non-JSON response from ${l.url}`)},Py=async(l,r)=>{const o=await fetch(xe("/auth/login"),{method:"POST",headers:ge(),body:JSON.stringify({username:l,password:r})});return mi(o,"Login failed")},$y=async l=>{const r=await fetch(xe("/wallet/balance"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch balance");return r.json()},Mr=new Map,Ga=async(l,r={})=>{const o=Number.isFinite(r?.timeoutMs)?Number(r.timeoutMs):1e4,d=l||"";if(d&&Mr.has(d))return Mr.get(d);const h=(async()=>{const f=typeof AbortController<"u"?new AbortController:null,b=f?setTimeout(()=>f.abort(),Math.max(1e3,o)):null;try{const v=await fetch(xe("/auth/me"),{headers:ge(l),signal:f?.signal});if(!v.ok){const x=await v.json().catch(()=>({})),g=new Error(x.message||"Failed to fetch user profile");throw g.status=v.status,g}return await v.json()}catch(v){if(v?.name==="AbortError"){const x=new Error("Session validation timed out. Please try again.");throw x.status=408,x}throw v}finally{b&&clearTimeout(b),d&&Mr.delete(d)}})();return d&&Mr.set(d,h),h},Hy=async(l,r)=>{const o=await fetch(xe("/auth/profile"),{method:"PUT",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json();throw new Error(d.message||"Failed to update profile")}return o.json()},vp=async()=>{const l=await fetch(xe("/matches"),{headers:ge()});if(!l.ok)throw new Error("Failed to fetch matches");return l.json()},qy=async()=>{const l=await fetch(xe("/matches",{status:"live"}),{headers:ge()});if(!l.ok)throw new Error("Failed to fetch live matches");return l.json()},Gy=async(l,r)=>{const o=Ks(l?.type||"straight"),d=Array.isArray(l?.selections)?l.selections.map(b=>({...b,type:Ks(b?.type||b?.marketType||"straight")})):void 0,h={...l,type:o,selections:d},f=await fetch(xe("/bets/place"),{method:"POST",headers:ge(r),body:JSON.stringify(h)});if(!f.ok){const b=await f.json();throw new Error(b.message||"Failed to place bet")}return f.json()},Wy=async l=>{const r=await fetch(xe("/betting/rules"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch bet mode rules");return r.json()},Dd=async l=>{const r=await fetch(xe("/bets/my-bets"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch my bets");return r.json()},Np=async l=>{const r=await fetch(xe("/casino/categories"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch casino categories");return r.json()},wp=async({token:l,category:r="lobby",search:o="",featured:d=!1,page:h=1,limit:f=48}={})=>{const b=new URLSearchParams;r&&b.set("category",r),o&&b.set("search",o),d&&b.set("featured","true"),b.set("page",String(h)),b.set("limit",String(f));const v=await fetch(xe("/casino/games",Object.fromEntries(b)),{headers:ge(l)});if(!v.ok)throw new Error("Failed to fetch casino games");return v.json()},Sp=async(l,r)=>{const o=await fetch(xe(`/casino/games/${l}/launch`),{method:"POST",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to launch casino game")}return o.json()},Yy=async(l,r,o)=>{const d=await fetch(xe("/wallet/request-deposit"),{method:"POST",headers:ge(o),body:JSON.stringify({amount:l,method:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to request deposit")}return d.json()},Vy=async(l,r,o)=>{const d=await fetch(xe("/wallet/request-withdrawal"),{method:"POST",headers:ge(o),body:JSON.stringify({amount:l,method:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to request withdrawal")}return d.json()},Qy=async(l,{type:r="",status:o="",limit:d=50}={})=>{const h=new URLSearchParams;r&&h.set("type",r),o&&h.set("status",o),h.set("limit",String(d));const f=await fetch(xe("/wallet/transactions",Object.fromEntries(h)),{headers:ge(l)});if(!f.ok)throw new Error("Failed to fetch wallet transactions");return f.json()},fi=async l=>{const r=await fetch(xe("/admin/agents"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch agents");return r.json()},Xy=async l=>{const r=await fetch(xe("/admin/header-summary"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch admin header summary");return r.json()},Zy=async l=>{const r=await fetch(xe("/admin/system-stats"),{headers:ge(l)});if(!r.ok){const o=await r.json().catch(()=>({}));throw new Error(o.message||"Failed to fetch system stats")}return r.json()},Jy=async l=>{const r=await fetch(xe("/admin/entity-catalog"),{headers:ge(l)});if(!r.ok){const o=await r.json().catch(()=>({}));throw new Error(o.message||"Failed to fetch admin entity catalog")}return r.json()},Ky=async(l,r)=>{const o=encodeURIComponent(String(l||"week")),d=await fetch(xe("/admin/weekly-figures",{period:o}),{headers:ge(r)});return mi(d,"Failed to fetch weekly figures")},ej=async l=>{const r=await fetch(xe("/admin/pending"),{headers:ge(l)});return mi(r,"Failed to fetch pending items")},tj=async(l,r)=>{const o=await fetch(xe("/admin/pending/approve"),{method:"POST",headers:ge(r),body:JSON.stringify({transactionId:l})});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to approve pending item")}return o.json()},aj=async(l,r)=>{const o=await fetch(xe("/admin/pending/decline"),{method:"POST",headers:ge(r),body:JSON.stringify({transactionId:l})});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to decline pending item")}return o.json()},sj=async l=>{const r=await fetch(xe("/admin/messages"),{headers:ge(l)});return mi(r,"Failed to fetch messages")},nj=async(l,r)=>{const o=await fetch(xe(`/admin/messages/${l}/read`),{method:"POST",headers:ge(r)});if(!o.ok)throw new Error("Failed to mark message read");return o.json()},lj=async(l,r,o)=>{const d=await fetch(xe(`/admin/messages/${l}/reply`),{method:"POST",headers:ge(o),body:JSON.stringify({reply:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to send reply")}return d.json()},ij=async(l,r)=>{const o=await fetch(xe(`/admin/messages/${l}`),{method:"DELETE",headers:ge(r)});if(!o.ok)throw new Error("Failed to delete message");return o.json()},kp=async l=>{const r=await fetch(xe("/messages/me"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch messages");return r.json()},Cp=async(l,r,o)=>{const d=await fetch(xe("/messages"),{method:"POST",headers:ge(o),body:JSON.stringify({subject:l,body:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to send message")}return d.json()},rj=async l=>{const r=await fetch(xe("/content/tutorials"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch tutorials");return r.json()},oj=async l=>{const r=await fetch(xe("/content/faqs"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch FAQs");return r.json()},ul=async l=>{const r=await fetch(xe("/admin/matches"),{headers:ge(l)});return mi(r,"Failed to fetch matches")},Ap=async(l,r)=>{const o=await fetch(xe("/admin/matches"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create match")}return o.json()},Ep=async(l,r,o)=>{const d=await fetch(xe(`/admin/matches/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update match")}return d.json()},cj=async l=>{const r=await fetch(xe("/admin/cashier/summary"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch cashier summary");return r.json()},dj=async l=>{const r=await fetch(xe("/admin/third-party-limits"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch third party limits");return r.json()},uj=async(l,r,o)=>{const d=await fetch(xe(`/admin/third-party-limits/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update third party limit")}return d.json()},hj=async(l,r)=>{const o=await fetch(xe("/admin/third-party-limits"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create third party limit")}return o.json()},Bd=async(l,r)=>{const o=new URLSearchParams(l).toString(),d=await fetch(xe("/admin/bets",o?Object.fromEntries(new URLSearchParams(o)):{}),{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch admin bets");return d.json()},mj=async(l,r)=>{const o=new URLSearchParams(l).toString(),d=await fetch(xe("/admin/ip-tracker",o?Object.fromEntries(new URLSearchParams(o)):{}),{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch IP tracker");return d.json()},fj=async(l,r)=>{const o=await fetch(`${en}/admin/ip-tracker/${l}/block`,{method:"POST",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to block IP")}return o.json()},pj=async(l,r)=>{const o=await fetch(`${en}/admin/ip-tracker/${l}/unblock`,{method:"POST",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to unblock IP")}return o.json()},ll=async(l,r)=>{const o=new URLSearchParams(l).toString(),d=await fetch(xe("/admin/transactions",o?Object.fromEntries(new URLSearchParams(o)):{}),{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch transactions history");return d.json()},Mf=async(l,r)=>{const o=await fetch(`${en}/admin/transactions`,{method:"DELETE",headers:ge(r),body:JSON.stringify({ids:l})});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to delete transactions")}return o.json()},xj=async(l,r)=>{const o=new URLSearchParams(l).toString(),d=await fetch(xe("/admin/collections",o?Object.fromEntries(new URLSearchParams(o)):{}),{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch collections");return d.json()},gj=async(l,r)=>{const o=new URLSearchParams(l).toString(),d=await fetch(xe("/admin/deleted-wagers",o?Object.fromEntries(new URLSearchParams(o)):{}),{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch deleted wagers");return d.json()},bj=async(l,r)=>{const o=await fetch(xe(`/admin/deleted-wagers/${l}/restore`),{method:"POST",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to restore wager")}return o.json()},yj=async l=>{const r=await fetch(xe("/admin/sportsbook-links"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch sportsbook links");return r.json()},jj=async(l,r)=>{const o=await fetch(xe("/admin/sportsbook-links"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create sportsbook link")}return o.json()},vj=async(l,r,o)=>{const d=await fetch(xe(`/admin/sportsbook-links/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update sportsbook link")}return d.json()},Nj=async(l,r)=>{const o=await fetch(xe(`/admin/ip-tracker/${l}/whitelist`),{method:"POST",headers:{Authorization:`Bearer ${r}`}});if(!o.ok){const d=await o.json();throw new Error(d.message||"Failed to whitelist IP")}return o.json()},wj=async(l,r)=>{const o=await fetch(xe(`/admin/sportsbook-links/${l}/test`),{method:"POST",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to test sportsbook link")}return o.json()},Tp=async l=>{const r=await fetch(xe("/admin/refresh-odds"),{method:"POST",headers:ge(l)});if(!r.ok){const o=await r.json().catch(()=>({}));throw new Error(o.message||"Failed to refresh odds")}return r.json()},Lp=async()=>{const l=await fetch(xe("/matches/fetch-odds"),{method:"POST"});if(!l.ok){const r=await l.json().catch(()=>({}));throw new Error(r.message||"Failed to fetch odds")}return l.json()},Sj=async l=>{const r=await fetch(xe("/admin/clear-cache"),{method:"POST",headers:ge(l)});if(!r.ok){const o=await r.json().catch(()=>({}));throw new Error(o.message||"Failed to clear cache")}return r.json()},kj=async(l,r)=>{const o=await fetch(xe("/admin/collections"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create collection")}return o.json()},Cj=async(l,r)=>{const o=await fetch(xe(`/admin/collections/${l}/collect`),{method:"POST",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to collect")}return o.json()},Aj=async(l,r)=>{const o=await fetch(xe("/admin/bets"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create bet")}return o.json()},Ej=async(l,r)=>{const o=await fetch(xe(`/admin/bets/${l}`),{method:"DELETE",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to delete bet")}return o.json()},Tj=async(l,r)=>{const o=await fetch(xe("/bets/settle"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to settle bets")}return o.json()},Lj=async(l,r)=>{const o=new URLSearchParams(l).toString(),d=await fetch(xe("/admin/agent-performance",o?Object.fromEntries(new URLSearchParams(o)):{}),{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch agent performance");return d.json()},Mj=async(l,r,o)=>{const d=new URLSearchParams(r||{}).toString(),h=await fetch(xe(`/admin/agent-performance/${l}/details`,d?Object.fromEntries(new URLSearchParams(d)):{}),{headers:ge(o)});if(!h.ok){const f=await h.json().catch(()=>({}));throw new Error(f.message||"Failed to fetch agent performance details")}return h.json()},Dj=async(l,r,o)=>{const d=await fetch(xe(`/agent/permissions/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify({permissions:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update permissions")}return d.json()},qr=async(l,r)=>{try{if(!r)throw new Error("No token provided. Please login first.");const o={"Content-Type":"application/json",Authorization:`Bearer ${r}`},d=await fetch(xe("/admin/create-agent"),{method:"POST",headers:o,body:JSON.stringify(l)});if(!d.ok){let h="Failed to create agent";try{const f=await d.json();console.error(" Server error:",f),h=f.message||h}catch{h=`Server error (${d.status}): ${d.statusText}`}throw new Error(h)}return d.json()}catch(o){throw console.error(" Create Agent Error:",o),o instanceof TypeError?new Error("Network error - Unable to reach server. Is the backend running on port 5000?"):o}},Bj=async(l,r={})=>{const o=await fetch(xe("/admin/seed-workflow-hierarchy"),{method:"POST",headers:ge(l),body:JSON.stringify({confirm:!0,...r})}),d=await o.json().catch(()=>({}));if(!o.ok)throw new Error(d.message||"Failed to seed workflow hierarchy");return d},Mp=async(l,r)=>{try{if(!r)throw new Error("No token provided. Please login first.");const o={"Content-Type":"application/json",Authorization:`Bearer ${r}`},d=await fetch(xe("/admin/create-user"),{method:"POST",headers:o,body:JSON.stringify(l)});if(!d.ok){let h="Failed to create user";try{const f=await d.json();console.error(" Server error:",f),h=f.message||h}catch{h=`Server error (${d.status}): ${d.statusText}`}throw new Error(h)}return d.json()}catch(o){throw console.error(" Create User Error:",o),o instanceof TypeError?new Error("Network error - Unable to reach server. Is the backend running on port 5000?"):o}},ys=async(l,r,o)=>{try{const d=await fetch(xe(`/admin/users/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)}),h=await d.json();if(!d.ok)throw new Error(h.message||"Failed to update user");return h}catch(d){throw console.error("updateUserByAdmin error:",d),d}},Dp=async(l,r,o,d="")=>{try{const h=await fetch(xe(`/admin/users/${l}/freeplay`),{method:"PUT",headers:ge(o),body:JSON.stringify({freeplayBalance:r,description:d})}),f=await h.json();if(!h.ok)throw new Error(f.message||"Failed to update freeplay");return f}catch(h){throw console.error("updateUserFreeplay error:",h),h}},_j=async(l,r)=>{try{if(!r)throw new Error("No token provided. Please login first.");const o=await fetch(xe("/agent/create-user"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){let d="Failed to create player";try{d=(await o.json()).message||d}catch{d=`Server error (${o.status}): ${o.statusText}`}throw new Error(d)}return o.json()}catch(o){throw console.error("Create Player Error:",o),o instanceof TypeError?new Error("Network error - Unable to reach server. Is the backend running on port 5000?"):o}},gd=async l=>{const r=await fetch(xe("/agent/my-users"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch players");return r.json()},rl=async(l,r={})=>{const o=new URLSearchParams;r.q&&o.set("q",r.q);const d=o.toString()?Object.fromEntries(o):{},h=await fetch(xe("/admin/users",d),{headers:ge(l)});if(!h.ok){const f=await h.json().catch(()=>({}));throw new Error(f.message||"Failed to fetch users")}return h.json()},il=async(l,r,o)=>{const d=await fetch(xe(`/admin/users/${l}/credit`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update user balance")}return d.json()},rd=async(l,r,o)=>{const d=await fetch(xe("/agent/update-balance-owed"),{method:"POST",headers:ge(o),body:JSON.stringify({userId:l,balance:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update balance")}return d.json()},bd=async(l,r,o)=>{try{const d=await fetch(xe(`/admin/agent/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json();throw new Error(h.message||"Failed to update agent")}return d.json()}catch(d){throw console.error("Update Agent Error:",d),d}},ka=async(l,r,o)=>{try{const d=await fetch(xe(`/agent/users/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)}),h=await d.json();if(!d.ok)throw new Error(h.message||"Failed to update customer");return h}catch(d){throw console.error("updateUserByAgent error:",d),d}},yd=async(l,r)=>{try{const o=await fetch(xe("/agent/create-sub-agent"),{method:"POST",headers:ge(r),body:JSON.stringify(l)}),d=await o.json();if(!o.ok)throw new Error(d.message||"Failed to create sub-agent");return d}catch(o){throw console.error("createSubAgent error:",o),o}},Rj=async l=>{try{const r=await fetch(xe("/agent/my-sub-agents"),{method:"GET",headers:ge(l)}),o=await r.json();if(!r.ok)throw new Error(o.message||"Failed to fetch sub-agents");return o}catch(r){throw console.error("getMySubAgents error:",r),r}},Oj=async(l,r)=>{try{const o=await fetch(xe(`/admin/users/${l}/stats`),{method:"GET",headers:ge(r)}),d=await o.json();if(!o.ok)throw new Error(d.message||"Failed to fetch user statistics");return d}catch(o){throw console.error("getUserStatistics error:",o),o}},Uj=async(l,r)=>{const o=await fetch(xe("/admin/bets"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create ticket")}return o.json()},zj=async l=>{const r=await fetch(xe("/admin/billing/summary"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch billing summary");return r.json()},Ij=async(l,r)=>{const o=new URLSearchParams(l).toString(),d=await fetch(xe("/admin/billing/invoices",o?Object.fromEntries(new URLSearchParams(o)):{}),{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch invoices");return d.json()},Fj=async(l,r)=>{const o=await fetch(xe("/admin/billing/invoices"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create invoice")}return o.json()},Pj=async(l,r,o)=>{const d=await fetch(xe(`/admin/billing/invoices/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update invoice")}return d.json()},$j=async l=>{const r=await fetch(xe("/admin/settings"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch settings");return r.json()},Hj=async(l,r)=>{const o=await fetch(xe("/admin/settings"),{method:"PUT",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to update settings")}return o.json()},qj=async l=>{const r=await fetch(xe("/admin/rules"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch rules");return r.json()},Gj=async(l,r)=>{const o=await fetch(xe("/admin/rules"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create rule")}return o.json()},Wj=async(l,r,o)=>{const d=await fetch(xe(`/admin/rules/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update rule")}return d.json()},Yj=async(l,r)=>{const o=await fetch(xe(`/admin/rules/${l}`),{method:"DELETE",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to delete rule")}return o.json()},Vj=async(l,r)=>{const o=new URLSearchParams(l).toString(),d=await fetch(xe("/admin/feedback",o?Object.fromEntries(new URLSearchParams(o)):{}),{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch feedback");return d.json()},Qj=async(l,r,o)=>{const d=await fetch(xe(`/admin/feedback/${l}/reply`),{method:"POST",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to reply feedback")}return d.json()},Xj=async(l,r)=>{const o=await fetch(xe(`/admin/feedback/${l}/reviewed`),{method:"POST",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to mark reviewed")}return o.json()},Zj=async(l,r)=>{const o=await fetch(xe(`/admin/feedback/${l}`),{method:"DELETE",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to delete feedback")}return o.json()},Jj=async l=>{const r=await fetch(xe("/admin/faqs"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch FAQs");return r.json()},Kj=async(l,r)=>{const o=await fetch(xe("/admin/faqs"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create FAQ")}return o.json()},ev=async(l,r,o)=>{const d=await fetch(xe(`/admin/faqs/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update FAQ")}return d.json()},tv=async(l,r)=>{const o=await fetch(xe(`/admin/faqs/${l}`),{method:"DELETE",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to delete FAQ")}return o.json()},av=async l=>{const r=await fetch(xe("/admin/manual"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch manual");return r.json()},sv=async(l,r)=>{const o=await fetch(xe("/admin/manual"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create manual section")}return o.json()},nv=async(l,r,o)=>{const d=await fetch(xe(`/admin/manual/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update manual section")}return d.json()},lv=async(l,r)=>{const o=await fetch(xe(`/admin/manual/${l}`),{method:"DELETE",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to delete manual section")}return o.json()},Bp=async(l,r)=>{const o=await fetch(xe("/admin/suspend"),{method:"POST",headers:ge(r),body:JSON.stringify({userId:l})});if(!o.ok)throw new Error("Failed to suspend user");return o.json()},_p=async(l,r)=>{const o=await fetch(xe("/admin/unsuspend"),{method:"POST",headers:ge(r),body:JSON.stringify({userId:l})});if(!o.ok)throw new Error("Failed to unsuspend user");return o.json()},Pr=async(l,r,o)=>{const d=await fetch(xe(`/admin/users/${l}/reset-password`),{method:"POST",headers:ge(o),body:JSON.stringify({newPassword:r})});if(!d.ok){const h=await d.json();throw new Error(h.message||"Failed to reset user password")}return d.json()},Rp=async(l,r,o)=>{const d=await fetch(xe(`/admin/agents/${l}/reset-password`),{method:"POST",headers:ge(o),body:JSON.stringify({newPassword:r})});if(!d.ok){const h=await d.json();throw new Error(h.message||"Failed to reset agent password")}return d.json()},qa=async(l,r,o={})=>{const d=String(l||"").trim().toUpperCase().replace(/[^A-Z0-9]/g,"");if(!d)throw new Error("Prefix is required and must contain only letters/numbers");const h={...o};typeof h.suffix=="string"&&(h.suffix=h.suffix.toUpperCase().replace(/[^A-Z0-9]/g,"")),typeof h.type=="string"&&(h.type=h.type.toLowerCase());const f=`/admin/next-username/${encodeURIComponent(d)}`,b=await fetch(xe(f,h),{headers:ge(r)});if(!b.ok){const v=await b.json().catch(()=>({}));throw new Error(v.message||"Failed to fetch next username")}return b.json()},Op=async(l,r)=>{const o=await fetch(xe(`/admin/impersonate-user/${l}`),{method:"POST",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to impersonate user")}return o.json()},iv=async l=>{const r=await fetch(xe("/admin/agent-tree"),{headers:ge(l)});if(!r.ok){const o=await r.json().catch(()=>({}));throw new Error(o.message||"Failed to fetch agent tree")}return r.json()},Up=async(l,r)=>{const o=await fetch(xe(`/admin/users/${l}`),{method:"DELETE",headers:ge(r)});if(!o.ok){const d=await o.json();throw new Error(d.message||"Failed to delete user")}return o.json()},zp=async(l,r)=>{const o=await fetch(xe(`/admin/agents/${l}`),{method:"DELETE",headers:ge(r)});if(!o.ok){const d=await o.json();throw new Error(d.message||"Failed to delete agent")}return o.json()},rv=({onLogin:l,isLoggedIn:r})=>{const[o,d]=u.useState(""),[h,f]=u.useState(""),[b,v]=u.useState(!1),[x,g]=u.useState(!1),y=async()=>{if(o&&h){v(!0);try{await l(o,h),d(""),f(""),g(!1)}catch(j){alert(j.message)}finally{v(!1)}}else alert("Please enter username and password")},p=j=>{j.key==="Enter"&&y()};return e.jsxs("header",{className:"main-header",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"/bgremlogo.png",alt:"betterbet365"})}),e.jsx("div",{className:"login-section desktop-only",children:r?e.jsx("button",{className:"btn-login",style:{background:"#00ff66",color:"black",boxShadow:"0 0 30px rgba(0,255,102,0.4)"},children:"WELCOME BACK"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",placeholder:"Username",id:"loginId",value:o,onChange:j=>d(j.target.value),onKeyPress:p}),e.jsx("input",{type:"password",placeholder:"Password",id:"password",value:h,onChange:j=>f(j.target.value),onKeyPress:p})]}),e.jsx("button",{className:"btn-login",onClick:y,style:b?{opacity:.7}:{},children:b?"LOGGING IN...":"SIGN IN"})]})}),e.jsxs("div",{className:"mobile-header-container mobile-only",children:[e.jsxs("div",{className:"top-header",children:[r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"icon-btn",children:[e.jsx("i",{className:"fa-solid fa-magnifying-glass"}),e.jsx("span",{children:"SEARCH"})]}),e.jsxs("div",{className:"icon-btn",children:[e.jsx("i",{className:"fa-solid fa-cash-register"}),e.jsx("span",{children:"CASHIER"})]})]}),e.jsx("div",{className:"right-section",children:r?e.jsx("div",{className:"mobile-user-trigger",onClick:()=>g(!x),children:e.jsx("div",{style:{width:"30px",height:"30px",background:"#00ff66",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"black",fontWeight:"bold"},children:o?o.charAt(0).toUpperCase():"U"})}):e.jsx("div",{style:{display:"flex",alignItems:"center"},children:e.jsx("button",{className:"mobile-login-btn",onClick:()=>g(!x),children:"LOGIN"})})})]}),r&&e.jsxs("div",{className:"tabs-bar",children:[e.jsxs("div",{className:"tab-item active",children:[e.jsx("span",{className:"tab-letter",children:"S"}),e.jsx("span",{className:"tab-text",children:"STRAIGHT"})]}),e.jsxs("div",{className:"tab-item",children:[e.jsx("span",{className:"tab-letter",children:"P"}),e.jsx("span",{className:"tab-text",children:"PARLAY"})]}),e.jsxs("div",{className:"tab-item",children:[e.jsx("span",{className:"tab-letter",children:"T"}),e.jsx("span",{className:"tab-text",children:"TEASER"})]}),e.jsxs("div",{className:"tab-item",children:[e.jsx("span",{className:"tab-letter",children:"I"}),e.jsx("span",{className:"tab-text",children:"IF BET"})]}),e.jsxs("div",{className:"tab-item",children:[e.jsx("i",{className:"fa-solid fa-desktop tab-icon"}),e.jsx("span",{className:"tab-text",children:"BET LIVE"})]})]}),r&&e.jsxs("div",{className:"info-bar",children:[e.jsx("div",{className:"info-bar-item",children:" UP NEXT "}),e.jsx("div",{className:"info-bar-item",children:" FEATURED "})]})]}),x&&Md.createPortal(e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.8)",zIndex:99998,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Arial, sans-serif",padding:"20px",boxSizing:"border-box",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)"},children:e.jsxs("div",{style:{background:"white",width:"100%",maxWidth:"400px",borderRadius:"12px",boxShadow:"0 30px 100px rgba(0,0,0,0.9)",padding:"30px",display:"flex",flexDirection:"column",gap:"15px",animation:"fadeIn 0.4s ease-out"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[e.jsx("h2",{style:{margin:0,color:"#000",fontSize:"22px",fontWeight:"bold"},children:"SIGN IN"}),e.jsx("span",{onClick:()=>g(!1),style:{cursor:"pointer",fontSize:"28px",fontWeight:"bold",color:"#000",lineHeight:"1"},children:""})]}),r?e.jsxs("div",{style:{textAlign:"center",color:"#000"},children:[e.jsx("div",{style:{marginBottom:"15px",fontWeight:"bold",fontSize:"18px"},children:"WELCOME BACK"}),e.jsx("button",{className:"btn-login",onClick:()=>g(!1),style:{width:"100%",padding:"12px",background:"#dc3545",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"MY ACCOUNT"})]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:"Username",value:o,onChange:j=>d(j.target.value),onKeyPress:p,style:{width:"100%",padding:"12px 15px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"16px",color:"#333",background:"white",boxSizing:"border-box"}}),e.jsx("input",{type:"password",placeholder:"Password",value:h,onChange:j=>f(j.target.value),onKeyPress:p,style:{width:"100%",padding:"12px 15px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"16px",color:"#333",background:"white",boxSizing:"border-box"}}),e.jsx("button",{className:"btn-login",onClick:y,style:{width:"100%",padding:"12px",background:"#dc3545",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",fontWeight:"bold",cursor:b?"not-allowed":"pointer",opacity:b?.7:1},children:b?"SIGNING IN...":"SIGN IN"})]})]})}),document.body)]})},ov=[{id:"all",name:"ALL",icon:"https://upload.wikimedia.org/wikipedia/commons/5/5c/Olympic_rings_without_rims.svg"},{id:"nba",name:"NBA",icon:"https://upload.wikimedia.org/wikipedia/en/0/03/National_Basketball_Association_logo.svg"},{id:"nfl",name:"NFL",icon:"https://upload.wikimedia.org/wikipedia/en/a/a2/National_Football_League_logo.svg"},{id:"mlb",name:"MLB",icon:"/mlb.svg"},{id:"nhl",name:"NHL",icon:"https://upload.wikimedia.org/wikipedia/en/3/3a/05_NHL_Shield.svg"},{id:"soccer",name:"SOCCER",icon:"https://upload.wikimedia.org/wikipedia/commons/a/aa/FIFA_logo_without_slogan.svg"},{id:"boxing",name:"UFC",icon:"https://upload.wikimedia.org/wikipedia/commons/0/0d/UFC_logo.svg"}],cv=({activeLeague:l,onSelectLeague:r})=>e.jsx("nav",{className:"league-nav",children:e.jsx("div",{className:"nav-container",children:e.jsx("div",{className:"league-icons",children:ov.map(o=>e.jsxs("div",{className:`league-item ${l===o.id?"active":""}`,onClick:()=>r(o.id),children:[e.jsx("img",{src:o.icon,alt:o.name}),e.jsx("span",{children:o.name})]},o.id))})})}),od=[{img:"/hero-banner.png",title:"N.Y KNICKS VS DETROIT",subtitle:"Tonight @ 7:00 P.M | Madison Square Garden"},{img:"/arena-banner.png",title:"UPCOMING NFL SUNDAY",subtitle:"Pre-game Analysis & Live Odds Starts @ 1PM"},{img:"/football-banner.png",title:"PREMIER LEAGUE ACTION",subtitle:"Matchday 24: Liverpool vs Man City"}],dv=()=>{const[l,r]=u.useState(0);u.useEffect(()=>{const d=setInterval(()=>{r(h=>(h+1)%od.length)},5e3);return()=>clearInterval(d)},[]);const o=od[l];return e.jsxs("div",{className:"hero-container",children:[e.jsxs("section",{className:"hero-section",children:[e.jsx("img",{src:o.img,alt:"Featured Match",id:"heroImage",style:{animation:"fadeIn 0.5s ease-in-out"}}),e.jsxs("div",{className:"hero-overlay",children:[e.jsxs("div",{className:"hero-text",children:[e.jsx("span",{className:"hero-badge",children:"FEATURED MATCH"}),e.jsx("h1",{id:"heroTitle",children:o.title}),e.jsx("p",{id:"heroSubtitle",children:o.subtitle})]}),e.jsx("button",{className:"btn-login",style:{background:"var(--gold)",color:"black"},children:"BET NOW"})]}),e.jsx("div",{className:"hero-controls",children:od.map((d,h)=>e.jsx("div",{className:`control-dot ${h===l?"active":""}`,onClick:()=>r(h)},h))})]}),e.jsxs("div",{className:"promo-flex-row",children:[e.jsxs("div",{className:"promo-card",children:[e.jsx("img",{src:"/promo-football.png",alt:"NFL Promo"}),e.jsxs("div",{className:"promo-text",children:[e.jsx("h3",{children:"NFL PLAYOFFS"}),e.jsx("p",{children:"Live Odds & Analysis"})]}),e.jsx("div",{className:"promo-badge",children:"betterbet365"})]}),e.jsxs("div",{className:"promo-card",children:[e.jsx("img",{src:"/arena-banner.png",alt:"Arena Promo"}),e.jsxs("div",{className:"promo-text",children:[e.jsx("h3",{children:"NBA FINALS"}),e.jsx("p",{children:"Get in on the action"})]}),e.jsx("div",{className:"promo-badge",children:"betterbet365"})]})]})]})},Df={"leeds united":"https://upload.wikimedia.org/wikipedia/en/5/54/Leeds_United_F.C._logo.svg","nottingham forest":"https://upload.wikimedia.org/wikipedia/en/e/e5/Nottingham_Forest_F.C._logo.svg"},cd=new Map,jd=(l="")=>String(l||"").toLowerCase().replace(/[.'-]/g," ").replace(/\s+/g," ").trim(),uv=(l="")=>{const r=jd(l);if(!r)return[];const o=[r,r.replace(/\b(fc|cf|sc|afc|b c|bk|basketball club|football club)\b/g," ").replace(/\s+/g," ").trim(),r.replace(/\b(the)\b/g," ").replace(/\s+/g," ").trim()].filter(Boolean);return Array.from(new Set(o))},hv=l=>l?.strBadge||l?.strTeamBadge||l?.strLogo||l?.strTeamLogo||l?.strJersey||l?.strTeamJersey||"",mv=l=>{let r=0;for(let o=0;o<l.length;o+=1)r=l.charCodeAt(o)+((r<<5)-r);return Math.abs(r)},fv=(l="")=>{const r=String(l).trim().split(/\s+/).filter(Boolean);return r.length===0?"?":r.length===1?r[0].slice(0,2).toUpperCase():`${r[0][0]||""}${r[1][0]||""}`.toUpperCase()},Js=(l="")=>{const r=String(l||"Team"),d=mv(r.toLowerCase())%360,h=(d+36)%360,f=fv(r),b=`
<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80">
  <defs>
    <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="hsl(${d}, 78%, 46%)" />
      <stop offset="100%" stop-color="hsl(${h}, 78%, 36%)" />
    </linearGradient>
  </defs>
  <circle cx="40" cy="40" r="38" fill="url(#g)" />
  <circle cx="40" cy="40" r="36" fill="none" stroke="rgba(255,255,255,.32)" stroke-width="2" />
  <text x="40" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="700" fill="#fff">${f}</text>
</svg>`;return`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(b.trim())}`},Ip=async(l="")=>{const r=jd(l);if(!r)return"";if(Df[r])return Df[r];if(cd.has(r))return cd.get(r);const o=(async()=>{const d=uv(l);for(const h of d)try{const f=await fetch(`https://www.thesportsdb.com/api/v1/json/123/searchteams.php?t=${encodeURIComponent(h)}`);if(!f.ok)continue;const b=await f.json(),v=Array.isArray(b?.teams)?b.teams:[];if(v.length===0)continue;const g=v.find(p=>jd(p?.strTeam)===r)||v[0],y=hv(g);if(y)return y}catch{}return""})();return cd.set(r,o),o},Bf="admin_scoreboard_matches_cache_v1",_f=10,pv=1500,Fp=({onClose:l})=>{const[r,o]=u.useState([]),[d,h]=u.useState(!1),[f,b]=u.useState({}),[v,x]=u.useState({}),[g,y]=u.useState(!1),p=async(E,w,A)=>{let q;try{return await Promise.race([E,new Promise((G,B)=>{q=window.setTimeout(()=>B(new Error(`${A} timed out`)),w)})])}finally{q&&window.clearTimeout(q)}};u.useEffect(()=>{let E=!0,w=!1,A=!1;try{const S=localStorage.getItem(Bf);if(S){const $=JSON.parse(S);Array.isArray($)&&$.length>0&&(o($),w=!0,A=!0)}}catch{}w||h(!0);const q=async()=>{const S=localStorage.getItem("token"),$=p(vp(),5e3,"Loading matches"),D=S?p(ul(S),5e3,"Loading admin matches"):Promise.resolve([]),[J,H]=await Promise.allSettled([$,D]),W=J.status==="fulfilled"&&Array.isArray(J.value)?J.value:[],ie=H.status==="fulfilled"&&Array.isArray(H.value)?H.value:[];return ie.length>0?ie:W},G=async({silent:S=!1}={})=>{try{E&&!S&&!A&&h(!0);let $=[];for(let D=0;D<_f&&($=await q(),!($.length>0||D===_f-1));D+=1)await new Promise(J=>window.setTimeout(J,pv));if(!E)return;if($.length>0){o($),A=!0,h(!1);try{localStorage.setItem(Bf,JSON.stringify($))}catch{}}else A||h(!1)}finally{E&&!A&&h(!1)}},B=async()=>{try{await p(Lp(),5e3,"Refreshing scores")}catch{}E&&await G({silent:!0})},ee=window.setTimeout(()=>{E&&y(!0)},2e4);G(),window.setTimeout(()=>{B()},50);const I=window.setInterval(B,6e4);return()=>{E=!1,window.clearTimeout(ee),window.clearInterval(I)}},[]);const j=E=>{if(String(E?.status||"").toLowerCase()==="live")return!0;const A=String(E?.score?.event_status||"").toUpperCase();return A.includes("IN_PROGRESS")||A.includes("LIVE")},C=E=>{const w=String(E?.status||"").toLowerCase();if(["scheduled","pre-game","pregame","upcoming","pending"].includes(w))return!0;if(E?.startTime){const A=new Date(E.startTime).getTime();if(!Number.isNaN(A))return A>Date.now()}return!1},N=u.useMemo(()=>{const E=Array.isArray(r)?r:[],w=E.filter(A=>j(A)||C(A));return w.length>0?w:E},[r]),M=u.useMemo(()=>{const E={};return N.forEach(w=>{const A=(w.sport||"Unknown").toUpperCase();E[A]||(E[A]=[]),E[A].push(w)}),E},[N]),_=N.length>0;u.useEffect(()=>{b(E=>{const w={...E};return Object.keys(M).forEach(A=>{typeof w[A]!="boolean"&&(w[A]=!1)}),w})},[M]),u.useEffect(()=>{let E=!0;return(async()=>{const A=new Set;N.forEach(B=>{B?.homeTeam&&A.add(String(B.homeTeam)),B?.awayTeam&&A.add(String(B.awayTeam))});const q=Array.from(A).filter(B=>!v[B]);if(q.length===0)return;const G={};await Promise.all(q.map(async B=>{try{const ee=await Ip(B);ee&&(G[B]=ee)}catch{}})),E&&Object.keys(G).length>0&&x(B=>({...B,...G}))})(),()=>{E=!1}},[N,v]);const k=E=>E.status==="live"?e.jsx("span",{className:"text-danger fw-bold",children:"LIVE"}):E.startTime?new Date(E.startTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",timeZoneName:"short"}):"TBD",F=(E,w)=>E.score?w==="home"?E.score.score_home??E.score.home_score??E.score.scoreHome??0:w==="away"?E.score.score_away??E.score.away_score??E.score.scoreAway??0:"":"",L=(E,w)=>e.jsxs("div",{className:"scoreboard-league",children:[e.jsxs("button",{type:"button",className:"league-header",onClick:()=>b(A=>({...A,[E]:!A[E]})),children:[e.jsx("span",{children:E}),e.jsx("i",{className:`fa-solid ${f[E]?"fa-chevron-down":"fa-chevron-up"}`})]}),!f[E]&&e.jsx("div",{className:"league-games",children:Array.from({length:Math.ceil(w.length/2)},(A,q)=>w.slice(q*2,q*2+2)).map((A,q)=>e.jsxs("div",{className:"scoreboard-game-row",children:[A.map((G,B)=>{const ee=G?.broadcast||G?.tv||G?.score?.broadcast||"";return e.jsxs("div",{className:"scoreboard-game-cell",children:[e.jsxs("div",{className:"game-row",children:[e.jsx("span",{className:"game-time",children:k(G)}),e.jsx("span",{className:"game-network",children:ee})]}),e.jsxs("div",{className:"game-team",children:[e.jsxs("div",{className:"game-team-main",children:[e.jsx("img",{src:v[G.homeTeam]||Js(G.homeTeam),alt:G.homeTeam,className:"game-logo",onError:I=>{I.currentTarget.src=Js(G.homeTeam)}}),e.jsx("span",{children:G.homeTeam})]}),e.jsx("span",{className:"game-score",children:F(G,"home")})]}),e.jsxs("div",{className:"game-team",children:[e.jsxs("div",{className:"game-team-main",children:[e.jsx("img",{src:v[G.awayTeam]||Js(G.awayTeam),alt:G.awayTeam,className:"game-logo",onError:I=>{I.currentTarget.src=Js(G.awayTeam)}}),e.jsx("span",{children:G.awayTeam})]}),e.jsx("span",{className:"game-score",children:F(G,"away")})]})]},G._id||G.id||`${q}-${B}`)}),A.length===1&&e.jsx("div",{className:"scoreboard-game-cell ghost-cell"})]},`${E}-${q}`))})]},E);return e.jsxs("div",{className:"scoreboard-overlay",children:[e.jsxs("div",{className:"scoreboard-header",children:[e.jsx("h2",{children:"Scoreboard"}),e.jsx("span",{className:"close-btn",onClick:l,children:"Close"})]}),e.jsx("div",{className:"scoreboard-content",children:!_&&d?e.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"Loading scoreboard..."}):Object.keys(M).length===0?e.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"No games found right now."}):Object.entries(M).map(([E,w])=>L(E,w))}),e.jsx("style",{children:`
                .scoreboard-overlay {
                    position: fixed;
                    top: 0;
                    right: 0;
                    width: 350px;
                    height: 100vh;
                    background: #f5f5f5;
                    box-shadow: -5px 0 15px rgba(0,0,0,0.3);
                    z-index: 3000;
                    display: flex;
                    flex-direction: column;
                    font-family: 'Roboto', sans-serif;
                }
                .scoreboard-header {
                    background: #fff;
                    padding: 15px;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    border-bottom: 1px solid #ddd;
                    position: relative;
                }
                .scoreboard-header h2 {
                    margin: 0;
                    font-size: 18px;
                    color: #333;
                    font-weight: bold;
                    text-transform: uppercase;
                }
                .close-btn {
                    position: absolute;
                    right: 15px;
                    color: #d9534f;
                    font-size: 14px;
                    cursor: pointer;
                    text-decoration: underline;
                    font-weight: bold;
                }
                .scoreboard-content {
                    flex: 1;
                    overflow-y: auto;
                }
                .scoreboard-status-row {
                    padding: 6px 12px;
                    background: #fff;
                    border-bottom: 1px solid #ddd;
                }
                .scoreboard-status {
                    font-size: 12px;
                    font-weight: 600;
                }
                .scoreboard-status.syncing {
                    color: #0b7285;
                }
                .scoreboard-status.error {
                    color: #b02a37;
                }
                .league-header {
                    background: #333;
                    color: white;
                    padding: 8px 15px;
                    font-size: 14px;
                    font-weight: bold;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    border-bottom: 1px solid #444;
                    width: 100%;
                    border-left: none;
                    border-right: none;
                    cursor: pointer;
                }
                .league-games {
                    background: #e5e7eb;
                    border-left: 1px solid #c6c8cc;
                }
                .scoreboard-game-row {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                }
                .scoreboard-game-cell {
                    background: #f3f4f6;
                    border-right: 1px solid #c6c8cc;
                    border-bottom: 1px solid #c6c8cc;
                    min-height: 84px;
                }
                .scoreboard-game-cell.ghost-cell {
                    background: #f3f4f6;
                }
                .game-row {
                    display: flex;
                    justify-content: space-between;
                    color: #4b5563;
                    background: #e5e7eb;
                    padding: 4px 8px;
                    font-size: 11px;
                    border-bottom: 1px solid #d1d5db;
                }
                .game-network {
                    font-weight: 700;
                    color: #15803d;
                    min-width: 28px;
                    text-align: right;
                }
                .game-team {
                    display: flex;
                    align-items: center;
                    margin: 5px 0;
                    color: #3f3f46;
                    font-weight: 500;
                    justify-content: space-between;
                    padding: 0 8px;
                }
                .game-team-main {
                    display: flex;
                    align-items: center;
                    gap: 7px;
                    min-width: 0;
                }
                .game-team-main span {
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    max-width: 120px;
                    font-size: 12px;
                }
                .game-logo {
                    width: 18px;
                    height: 18px;
                    border-radius: 50%;
                }
                .game-score {
                    font-weight: 700;
                    color: #111827;
                    font-size: 12px;
                    min-width: 14px;
                    text-align: right;
                }
                .text-danger { color: #dc3545; }
                .fw-bold { font-weight: bold; }
                @media (max-width: 380px) {
                    .scoreboard-game-row {
                        grid-template-columns: 1fr;
                    }
                    .scoreboard-game-cell {
                        border-right: none;
                    }
                }
            `})]})},xv=({onClose:l,balance:r,pendingBalance:o,availableBalance:d})=>{const h=window.innerWidth<=768,f=b=>{if(b==null||b==="")return"";const v=Number(b);return Number.isNaN(v)?"":`$ ${v.toFixed(2)}`};return e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.8)",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',padding:h?"20px":"0",boxSizing:"border-box",overflow:"auto",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)",inset:0},children:[e.jsxs("div",{style:{background:"white",width:h?"100%":"400px",maxWidth:"100%",borderRadius:"8px",boxShadow:"0 30px 100px rgba(0,0,0,0.9)",display:"flex",flexDirection:"column",maxHeight:h?"85vh":"auto",animation:"fadeIn 0.4s ease-out",margin:"auto",marginTop:h?"0":"auto",marginBottom:h?"0":"auto"},children:[e.jsxs("div",{style:{padding:h?"15px 15px":"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #eee"},children:[e.jsx("h3",{style:{margin:0,color:"#333",fontSize:"18px",fontWeight:"bold"},children:"My Account"}),e.jsx("span",{onClick:l,style:{cursor:"pointer",fontSize:"24px",color:"#999",lineHeight:"1"},children:""})]}),e.jsxs("div",{style:{overflowY:"auto",padding:h?"12px":"15px"},children:[e.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"4px",marginBottom:"15px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"bold",color:"#333"},children:"Balance"}),e.jsx("span",{style:{fontWeight:"bold",textDecoration:"underline"},children:f(r)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 15px",borderBottom:"1px solid #eee",background:"#f9f9f9"},children:[e.jsx("span",{style:{fontWeight:"bold",color:"#333"},children:"Pending"}),e.jsx("span",{style:{fontWeight:"bold",textDecoration:"underline"},children:f(o)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 15px"},children:[e.jsx("span",{style:{fontWeight:"bold",color:"#333"},children:"Available"}),e.jsx("span",{style:{fontWeight:"bold",textDecoration:"underline"},children:f(d)})]})]}),e.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"4px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Game Sort (Display)"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"By Time"}),e.jsx("option",{children:"By League"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Select Skin"}),e.jsx("i",{className:"fa-solid fa-desktop",style:{color:"#999",fontSize:"18px"}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Personalize It"}),e.jsx("i",{className:"fa-solid fa-paintbrush",style:{color:"#004d26",fontSize:"18px"}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Time"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"Eastern"}),e.jsx("option",{children:"Central"}),e.jsx("option",{children:"Pacific"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Default Pitcher Setting"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"Action"}),e.jsx("option",{children:"Listed"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Version"}),e.jsx("span",{style:{color:"#333"},children:"43.0.27"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Live Stream Icon"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"Show"}),e.jsx("option",{children:"Hide"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Live Skin"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"Dark"}),e.jsx("option",{children:"Light"})]})]})]})]}),e.jsx("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end",borderTop:"1px solid #eee",background:"#fcfcfc"},children:e.jsx("button",{onClick:l,style:{background:"#d9534f",color:"white",border:"none",padding:"8px 25px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"},children:"Close"})})]}),e.jsx("style",{children:`
                @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(-20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
            `})]})},gv=({onClose:l})=>{const[r,o]=u.useState("BASIC"),[d,h]=u.useState("Gray"),f=["BASIC","NFL","NBA","MLB","NCAA"],b=[{id:"gray",label:"Gray",color:"#007bff"},{id:"white",label:"White",color:"#28a745"},{id:"stadium",label:"Stadium",color:"#dc3545"},{id:"plain",label:"Plain",color:"#dc3545"}];return e.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"350px",height:"100vh",background:"#333",boxShadow:"-5px 0 15px rgba(0,0,0,0.5)",zIndex:3e3,display:"flex",flexDirection:"column",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',color:"white"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"15px 10px",borderBottom:"1px solid #444",background:"#2c2c2c"},children:[e.jsx("span",{onClick:l,style:{cursor:"pointer",fontSize:"18px",color:"#999",marginRight:"20px",padding:"0 5px"},children:""}),e.jsx("div",{style:{display:"flex",gap:"15px",overflowX:"auto"},children:f.map(v=>e.jsx("span",{onClick:()=>o(v),style:{fontSize:"12px",fontWeight:"bold",cursor:"pointer",color:r===v?"#fff":"#888",borderBottom:r===v?"2px solid #fff":"none",paddingBottom:"5px"},children:v},v))})]}),e.jsxs("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:[r==="BASIC"&&e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:b.map(v=>e.jsxs("div",{onClick:()=>h(v.label),style:{background:"#222",padding:"15px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",border:d===v.label?"1px solid #555":"1px solid transparent"},children:[e.jsx("span",{style:{fontSize:"14px"},children:v.label}),e.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",border:`2px solid ${v.color}`,display:"flex",alignItems:"center",justifyContent:"center"},children:d===v.label&&e.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:v.color}})})]},v.id))}),r!=="BASIC"&&e.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#666",fontSize:"14px"},children:["No skins available for ",r," yet."]})]})]})},bv=({username:l,balance:r,pendingBalance:o,availableBalance:d,onViewChange:h,activeBetMode:f="straight",onBetModeChange:b,currentView:v,onToggleSidebar:x,selectedSports:g=[],onContinue:y,onLogout:p,isMobileSportsSelectionMode:j=!1,onHomeClick:C,role:N,unlimitedBalance:M})=>{const[_,k]=u.useState(!1),[F,L]=u.useState(!1),[E,w]=u.useState(!1),[A,q]=u.useState(!1),G=g.length>0,[B,ee]=u.useState(!1),[I,S]=u.useState(!1),[$,D]=u.useState(!1),[J,H]=u.useState(!1),[W,ie]=u.useState(!1),[je,te]=u.useState(()=>localStorage.getItem("oddsFormat")||"american");u.useEffect(()=>{localStorage.setItem("oddsFormat",je),window.dispatchEvent(new CustomEvent("oddsFormat:change",{detail:je}))},[je]);const O=P=>{if(M)return"Unlimited";if(P==null||P==="")return"";const ce=Number(P);return Number.isNaN(ce)?"":`$ ${ce.toFixed(2)}`},Z=()=>{A||(q(!0),window.dispatchEvent(new CustomEvent("matches:refresh")),setTimeout(()=>{q(!1)},3e4))};js.useEffect(()=>{const P=()=>{q(!1)};return window.addEventListener("matches:refresh-completed",P),()=>window.removeEventListener("matches:refresh-completed",P)},[]);const oe=[{name:"English",flag:"https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg",active:!0},{name:"Spanish",flag:"https://upload.wikimedia.org/wikipedia/commons/9/9a/Flag_of_Spain.svg"},{name:"Chinese",flag:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Flag_of_the_People%27s_Republic_of_China.svg"},{name:"French",flag:"https://upload.wikimedia.org/wikipedia/en/c/c3/Flag_of_France.svg"},{name:"Greek",flag:"https://upload.wikimedia.org/wikipedia/commons/5/5c/Flag_of_Greece.svg"},{name:"Japanese",flag:"https://upload.wikimedia.org/wikipedia/en/9/9e/Flag_of_Japan.svg"},{name:"Korean",flag:"https://upload.wikimedia.org/wikipedia/commons/0/09/Flag_of_South_Korea.svg"},{name:"Vietnamese",flag:"https://upload.wikimedia.org/wikipedia/commons/2/21/Flag_of_Vietnam.svg"}],[K,V]=u.useState(!1),U=v==="dashboard";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mobile-header-container mobile-only",children:[e.jsxs("div",{className:"top-header",children:[e.jsxs("div",{className:"header-icon-group",children:[e.jsx("div",{className:"menu-circle",onClick:x,children:e.jsx("i",{className:"fa-solid fa-bars"})}),v==="bonus"||v==="prime-live"||v==="ultra-live"||v==="live-casino"||v==="casino"?e.jsxs("div",{className:"icon-btn",onClick:()=>C&&C(),children:[e.jsx("i",{className:"fa-solid fa-house"}),e.jsx("span",{children:"HOME"})]}):G&&!j?e.jsxs("div",{className:"icon-btn",onClick:()=>C&&C(),children:[e.jsx("i",{className:"fa-solid fa-house"}),e.jsx("span",{children:"HOME"})]}):e.jsxs("div",{className:"icon-btn",children:[e.jsx("i",{className:"fa-solid fa-magnifying-glass"}),e.jsx("span",{children:"SEARCH"})]}),e.jsxs("div",{className:`icon-btn ${v==="bonus"?"active-bonus":""}`,onClick:()=>{if(N==="user"){alert("Deposits and Withdrawals are managed by your Agent. Please contact them to update your balance.");return}h&&h("bonus")},children:[e.jsx("i",{className:"fa-solid fa-cash-register"}),e.jsx("span",{children:G?"BONUS":"CASHIER"})]})]}),e.jsxs("div",{className:"right-section",children:[!G||v==="bonus"||G&&!j?e.jsxs("div",{className:"balance-container",children:[e.jsx("div",{className:"balance-amount",children:O(d)}),e.jsx("div",{className:"balance-label",children:"BALANCE"})]}):e.jsx("div",{className:"continue-btn-container",onClick:y||x,children:e.jsxs("button",{className:"mobile-continue-btn",children:["Continue ",e.jsx("i",{className:"fa-solid fa-chevron-right"})]})}),e.jsx("div",{className:"dropdown-chevron",onClick:()=>w(!E),children:e.jsx("i",{className:`fa-solid ${E?"fa-chevron-up":"fa-chevron-down"}`})})]})]}),E&&e.jsxs("div",{className:"user-settings-dropdown mobile-usd",onClick:P=>P.stopPropagation(),children:[e.jsxs("div",{className:"usd-item",onClick:()=>{ee(!0),w(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-globe"})}),e.jsx("div",{className:"usd-text",children:"LANGUAGE"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{S(!0),w(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-calculator"})}),e.jsx("div",{className:"usd-text",children:"ODDS DISPLAY"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{D(!0),w(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-chart-simple"})}),e.jsx("div",{className:"usd-text",children:"SCOREBOARD"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{H(!0),w(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-gear"})}),e.jsx("div",{className:"usd-text",children:"SETTINGS"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{ie(!0),w(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-sliders"})}),e.jsx("div",{className:"usd-text",children:"PERSONALIZE"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{h&&h("support"),w(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-headset"})}),e.jsx("div",{className:"usd-text",children:"SUPPORT"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{h&&h("my-bets"),w(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-list"})}),e.jsx("div",{className:"usd-text",children:"MY BETS"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item signout",onClick:p,children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-power-off"})}),e.jsx("div",{className:"usd-text",children:"SIGN OUT"})]})]}),e.jsx("div",{className:"tabs-bar",children:[{id:"straight",label:"STRAIGHT",letter:"S"},{id:"parlay",label:"PARLAY",letter:"P"},{id:"teaser",label:"TEASER",letter:"T"},{id:"if_bet",label:"IF BET",letter:"I"},{id:"reverse",label:"REVERSE",letter:"R"}].map(P=>e.jsxs("div",{className:`tab-item ${f===P.id?"active":""}`,onClick:()=>b&&b(P.id),children:[e.jsx("span",{className:"tab-letter",children:P.letter}),e.jsx("span",{className:"tab-text",children:P.label})]},P.id))}),e.jsxs("div",{className:"info-bar",children:[e.jsx("div",{className:"info-bar-item",children:" UP NEXT "}),e.jsx("div",{className:"info-bar-item",children:" FEATURED "})]})]}),e.jsxs("div",{className:"dash-topbar desktop-only",children:[e.jsxs("div",{className:"dash-nav-links",children:[e.jsxs("div",{className:"dash-nav-item",onClick:()=>C&&C(),children:[e.jsx("span",{children:"SPORTS"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"}),e.jsx("path",{d:"M2.5 12h19M12 2.5v19"})]})})]}),e.jsxs("div",{className:"dash-nav-item",onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),style:{position:"relative",overflow:"visible"},children:[e.jsx("span",{children:"LIVE"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),e.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}),_&&e.jsxs("div",{style:{position:"absolute",top:"100%",left:"0",width:"120px",background:"#333",zIndex:100,border:"1px solid #555",boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:[e.jsxs("div",{style:{padding:"10px",color:"white",borderBottom:"1px solid #444",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},onClick:()=>h&&h("prime-live"),className:"live-menu-item",children:[e.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:"PRIME LIVE"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]}),e.jsxs("div",{style:{padding:"10px",color:"#999",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},className:"live-menu-item",onClick:()=>h&&h("ultra-live"),children:[e.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:"ULTRA LIVE"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})})]})]})]}),e.jsxs("div",{className:"dash-nav-item",onClick:()=>h&&h("casino"),children:[e.jsx("span",{children:"CASINO"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsx("span",{style:{fontSize:"20px",fontWeight:"bold",border:"2px solid white",borderRadius:"4px",padding:"0 4px",color:"#ffd700",borderColor:"#ffd700"},children:"7"})})]}),e.jsxs("div",{className:"dash-nav-item",onClick:()=>h&&h("live-casino"),children:[e.jsx("span",{children:"LIVE CASINO"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("circle",{cx:"12",cy:"12",r:"4"}),e.jsx("circle",{cx:"12",cy:"12",r:"2"})]})})]}),e.jsxs("div",{className:"dash-nav-item",onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),style:{position:"relative",overflow:"visible"},children:[e.jsx("span",{children:"MORE"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),F&&e.jsx("div",{style:{position:"absolute",top:"100%",left:"0",width:"120px",background:"#333",zIndex:100,border:"1px solid #555",boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:e.jsxs("div",{style:{padding:"10px",color:"#999",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},className:"live-menu-item",onClick:()=>h&&h("props"),children:[e.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:"PROPS"}),e.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",border:"1px solid #999",padding:"0 2px"},children:"P+"})]})})]}),e.jsxs("div",{className:"dash-nav-item",style:{color:"#ffd700",cursor:"pointer"},onClick:()=>h&&h("bonus"),children:[e.jsx("span",{children:"BONUS"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 12V8H6a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2"}),e.jsx("path",{d:"M4 6h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z"})]})})]}),e.jsxs("div",{className:"dash-nav-item",style:{cursor:"pointer"},onClick:()=>h&&h("tutorials"),children:[e.jsx("span",{children:"TUTORIALS"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),e.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})})]}),e.jsxs("div",{className:"dash-nav-item",style:{cursor:"pointer"},onClick:()=>h&&h("support"),children:[e.jsx("span",{children:"SUPPORT"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M4 4h16v6H4z"}),e.jsx("path",{d:"M4 10h10v10H4z"}),e.jsx("path",{d:"M14 10h6v4h-6z"})]})})]})]}),e.jsxs("div",{className:"dash-user-info",children:[e.jsxs("div",{className:"dash-balance",children:[e.jsx("span",{children:"CREDIT LIMIT"}),e.jsx("strong",{children:O(r)})]}),e.jsxs("div",{className:"dash-balance",children:[e.jsx("span",{children:"BALANCE OWED"}),e.jsx("strong",{children:O(o)})]}),e.jsxs("div",{className:"dash-balance",children:[e.jsx("span",{children:"AVAILABLE CREDIT"}),e.jsx("strong",{children:O(d)})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",position:"relative"},onClick:()=>w(!E),children:[e.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:l||"WGT73476"}),e.jsx("span",{children:E?"":""}),E&&e.jsxs("div",{className:"user-settings-dropdown",onClick:P=>P.stopPropagation(),children:[e.jsxs("div",{className:"usd-item",onClick:()=>ee(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-globe"})}),e.jsx("div",{className:"usd-text",children:"Language"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>S(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-calculator"})}),e.jsx("div",{className:"usd-text",children:"Odds Display"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>D(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-chart-simple"})}),e.jsx("div",{className:"usd-text",children:"Scoreboard"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>H(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-gear"})}),e.jsx("div",{className:"usd-text",children:"Settings"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>ie(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-sliders"})}),e.jsx("div",{className:"usd-text",children:"Personalize"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>h&&h("support"),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-headset"})}),e.jsx("div",{className:"usd-text",children:"Support"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>h&&h("my-bets"),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-list"})}),e.jsx("div",{className:"usd-text",children:"My Bets"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item signout",onClick:p,children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-power-off"})}),e.jsx("div",{className:"usd-text",children:"SIGN OUT"})]})]})]})]})]}),v!=="rules"&&v!=="bonus"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:`dash-subheader mobile-subheader desktop-only ${U?"with-sidebar-offset":""}`,style:{display:"flex",borderBottom:"1px solid #ccc",height:"auto",minHeight:"60px"},children:[e.jsx("div",{className:"bet-type-bar",children:[{id:"straight",label:"STRAIGHT",icon:"S"},{id:"parlay",label:"PARLAY",icon:"P"},{id:"teaser",label:"TEASER",icon:"T"},{id:"if_bet",label:"IF BET",icon:"I"},{id:"reverse",label:"REVERSE",icon:"R"}].map(P=>e.jsxs("div",{className:`bet-type-item ${f===P.id?"active":""}`,onClick:()=>b&&b(P.id),children:[e.jsx("div",{className:"bet-type-letter",children:P.icon}),e.jsx("div",{className:"bet-type-label",children:P.label})]},P.id))}),e.jsxs("div",{className:"bet-action-group",children:[e.jsxs("button",{className:`action-btn refresh-btn ${A?"refresh-loading":""}`,title:"Refresh",onClick:Z,disabled:A,children:[e.jsx("i",{className:`fa-solid fa-arrows-rotate ${A?"fa-spin":""}`,style:{fontSize:"16px"}}),e.jsx("span",{children:A?"REFRESHING...":"REFRESH"})]}),e.jsxs("button",{className:"action-btn green continue-btn",title:"Continue",onClick:y||x,children:[e.jsx("i",{className:"fa-solid fa-chevron-right",style:{fontSize:"16px"}}),e.jsx("span",{children:"CONTINUE"})]})]})]})}),B&&e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.7)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{background:"white",width:"300px",borderRadius:"4px",overflow:"hidden",boxShadow:"0 5px 15px rgba(0,0,0,0.5)"},children:[e.jsxs("div",{style:{padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #eee"},children:[e.jsx("h3",{style:{margin:0,color:"#333",fontSize:"18px"},children:"Available Languages"}),e.jsx("span",{onClick:()=>ee(!1),style:{cursor:"pointer",fontSize:"20px",color:"#999"},children:""})]}),e.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:oe.map((P,ce)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 20px",borderBottom:"1px solid #eee",background:P.active?"#004d26":"white",color:P.active?"white":"#333",cursor:"pointer"},children:[e.jsx("span",{style:{fontSize:"16px",fontWeight:P.active?"bold":"normal"},children:P.name}),e.jsx("img",{src:P.flag,alt:P.name,style:{width:"24px",borderRadius:"3px",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}})]},ce))}),e.jsx("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end",borderTop:"1px solid #eee"},children:e.jsx("button",{onClick:()=>ee(!1),style:{background:"#d9534f",color:"white",border:"none",padding:"8px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Close"})})]})}),I&&e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.7)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{background:"white",width:"300px",borderRadius:"4px",overflow:"hidden",boxShadow:"0 5px 15px rgba(0,0,0,0.5)",marginBottom:"20vh"},children:[e.jsxs("div",{style:{padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #eee"},children:[e.jsx("h3",{style:{margin:0,color:"#333",fontSize:"18px"},children:"Odds Display"}),e.jsx("span",{onClick:()=>S(!1),style:{cursor:"pointer",fontSize:"20px",color:"#999"},children:""})]}),e.jsx("div",{style:{padding:"20px"},children:e.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden"},children:[e.jsx("div",{style:{padding:"12px 15px",background:je==="american"?"#004d26":"white",color:je==="american"?"white":"#333",fontWeight:"bold",borderBottom:"1px solid #ccc",cursor:"pointer"},onClick:()=>te("american"),children:"American"}),e.jsx("div",{style:{padding:"12px 15px",background:je==="decimal"?"#004d26":"white",color:je==="decimal"?"white":"#333",cursor:"pointer"},onClick:()=>te("decimal"),children:"Decimal"})]})}),e.jsx("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end",borderTop:"1px solid #eee"},children:e.jsx("button",{onClick:()=>S(!1),style:{background:"#d9534f",color:"white",border:"none",padding:"8px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Close"})})]})}),$&&e.jsx(Fp,{onClose:()=>D(!1)}),J&&Md.createPortal(e.jsx(xv,{onClose:()=>H(!1),balance:r,pendingBalance:o,availableBalance:d}),document.body),W&&e.jsx(gv,{onClose:()=>ie(!1)})]})},vd=[{id:"up-next",label:"UP NEXT",icon:"fa-solid fa-clock",type:"main-link",selectable:!1},{id:"featured",label:"FEATURED",icon:"fa-solid fa-star",type:"main-link",selectable:!1},{id:"commercial-live",label:"COMMERCIAL LIVE",icon:"fa-solid fa-tv",selectable:!0},{id:"football",label:"FOOTBALL",icon:"fa-solid fa-football",selectable:!1,children:[{id:"nfl",label:"NFL",icon:"fa-solid fa-helmet-safety",selectable:!0,children:[{id:"nfl-1st-half",label:"1st Half",selectable:!0,hasChildren:!0},{id:"nfl-1st-quarter",label:"1st Quarter",selectable:!0,hasChildren:!0},{id:"nfl-2nd-quarter",label:"2nd Quarter",selectable:!0,hasChildren:!0}]},{id:"ncaa-football",label:"NCAA Football",icon:"fa-solid fa-building-columns",selectable:!0,children:[{id:"ncaa-1st-half",label:"1st Half",selectable:!0,hasChildren:!0},{id:"ncaa-1st-quarter",label:"1st Quarter",selectable:!0,hasChildren:!0}]},{id:"nfl-1st-scoring",label:"NFL 1ST SCORING PLAY",selectable:!1,hasChildren:!0},{id:"nfl-1st-td-scorer",label:"NFL 1ST TD SCORER",selectable:!1,hasChildren:!0},{id:"nfl-anytime-td",label:"NFL ANYTIME TD SCORER",selectable:!1,hasChildren:!0},{id:"nfl-margin-victory",label:"NFL MARGIN OF VICTORY",selectable:!1,hasChildren:!0},{id:"nfl-player-props",label:"NFL TEXANS VS STEELERS PLAYER PROPS",selectable:!1,hasChildren:!0},{id:"nfl-props-plus",label:"NFL Props Plus +",selectable:!1,icon:"fa-solid fa-arrow-right",type:"props-plus"},{id:"college-props-plus",label:"College Props Plus +",selectable:!1,icon:"fa-solid fa-arrow-right",type:"props-plus"},{id:"afl-props-plus",label:"AFL Props Plus +",selectable:!1,icon:"fa-solid fa-arrow-right",type:"props-plus"}]},{id:"baseball",label:"BASEBALL",icon:"fa-solid fa-baseball-bat-ball",selectable:!1,children:[{id:"mlb",label:"MLB",selectable:!0},{id:"kbo",label:"KBO League",selectable:!0}]},{id:"basketball",label:"BASKETBALL",icon:"fa-solid fa-basketball",selectable:!1,children:[{id:"nba",label:"NBA",selectable:!0},{id:"ncaab",label:"NCAA Basketball",selectable:!0}]},{id:"hockey",label:"HOCKEY",icon:"fa-solid fa-hockey-puck",selectable:!1,children:[{id:"nhl",label:"NHL",selectable:!0}]},{id:"soccer",label:"SOCCER",icon:"fa-solid fa-futbol",selectable:!1,children:[{id:"epl",label:"Premier League",selectable:!0}]},{id:"golf",label:"GOLF",icon:"fa-solid fa-golf-ball-tee",selectable:!1,children:[{id:"pga",label:"PGA Tour",selectable:!0}]},{id:"tennis",label:"TENNIS",icon:"fa-solid fa-table-tennis-paddle-ball",selectable:!1,children:[{id:"atp",label:"ATP",selectable:!0}]},{id:"martial-arts",label:"MARTIAL ARTS",icon:"fa-solid fa-person-hiking",selectable:!0},{id:"boxing",label:"BOXING",icon:"fa-solid fa-hand-fist",selectable:!0},{id:"auto-racing",label:"AUTO RACING",icon:"fa-solid fa-flag-checkered",selectable:!0},{id:"rugby",label:"RUGBY",icon:"fa-solid fa-football",selectable:!0},{id:"olympics",label:"OLYMPICS",icon:"fa-solid fa-fire",selectable:!0}],Pp=({item:l,level:r,selectedIds:o,onToggle:d,expandedIds:h,onToggleExpand:f,className:b=""})=>{const v=h.has(l.id),x=o.includes(l.id),g=l.children&&l.children.length>0||l.hasChildren,y=()=>{const k=l.selectable!==!1;if(g){f(l.id),k&&d(l.id);return}d(l.id)},p=k=>{k.stopPropagation(),d(l.id)},j=l.selectable!==!1&&r>0&&l.type!=="props-plus",C=r===0&&l.icon||l.type==="props-plus",N=l.selectable===!1&&g,M=r>0&&g&&!N,_=r>0&&N;return e.jsxs("div",{className:`sidebar-tree-node ${b}`,children:[e.jsxs("div",{className:`sidebar-item-row ${x?"selected":""} level-${r} item-type-${l.type||"standard"} icon-${l.id}`,onClick:y,"data-sport-id":l.id,children:[j&&e.jsx("div",{className:"sidebar-checkbox-wrapper",onClick:k=>k.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:x,onChange:p,className:"sidebar-small-checkbox"})}),_&&e.jsx("span",{className:`black-expand-arrow ${v?"active":""}`,children:e.jsx("i",{className:"fa-solid fa-chevron-down"})}),M&&e.jsx("span",{className:`blue-expand-arrow ${v?"active":""}`,children:e.jsx("i",{className:"fa-solid fa-chevron-right"})}),e.jsxs("div",{className:"sidebar-item-content",children:[C&&l.icon&&e.jsx("span",{className:`icon ${l.type==="props-plus"?"sidebar-blue-icon":"sidebar-main-icon"}`,children:typeof l.icon=="string"&&l.icon.includes("fa-")?e.jsx("i",{className:l.icon}):l.icon}),e.jsx("span",{className:"sidebar-label-text",children:l.label})]}),r===0&&g&&e.jsx("span",{className:`main-cat-arrow ${v?"expanded":""}`,children:e.jsx("i",{className:"fa-solid fa-chevron-down"})})]}),g&&v&&l.children&&e.jsx("div",{className:"sidebar-children",children:l.children.map(k=>e.jsx(Pp,{item:k,level:r+1,selectedIds:o,onToggle:d,expandedIds:h,onToggleExpand:f},k.id))})]})},Rf=({selectedSports:l=[],onToggleSport:r,betMode:o="straight",isOpen:d=!1,onCloseSidebar:h,onOpenFeedback:f,isMobileSportsSelectionMode:b=!1})=>{const[v,x]=u.useState(new Set(["football","nfl","ncaa-football"])),g=C=>{x(N=>{const M=new Set(N);return M.has(C)?M.delete(C):M.add(C),M})},y=C=>{r(C)},p=["football","baseball","basketball","hockey","soccer","mma"],j=o==="parlay"||o==="teaser"||o==="if_bet"||o==="reverse"?vd.filter(C=>p.includes(C.id)):vd;return e.jsxs("aside",{className:`dash-sidebar ${d?"open":""} ${b?"mobile-sports-selection-mode":""}`,children:[e.jsxs("div",{className:"search-container desktop-search",children:[e.jsx("i",{className:"fa-solid fa-magnifying-glass search-icon"}),e.jsx("input",{type:"text",className:"search-input",placeholder:"SEARCH"})]}),e.jsx("div",{className:"sidebar-header desktop-only",children:"SPORTS SCHEDULE"}),e.jsxs("div",{className:"sidebar-mobile-info mobile-only",children:[e.jsx("div",{className:"info-item",children:"UP NEXT"}),e.jsx("div",{className:"info-item",children:"FEATURED"})]}),e.jsxs("div",{className:"sidebar-content",children:[e.jsx("div",{className:"mobile-only-section",children:e.jsx("div",{className:`sidebar-item-row level-0 ${l.includes("commercial-live")?"selected":""}`,onClick:()=>y("commercial-live"),children:e.jsxs("div",{className:"sidebar-item-content",children:[e.jsx("span",{className:"icon sidebar-main-icon",style:{color:"#007bff"},children:e.jsx("i",{className:"fa-solid fa-desktop"})}),e.jsx("span",{className:"sidebar-label-text",children:"COMMERCIAL LIVE"})]})})}),j.map(C=>e.jsx(Pp,{item:C,level:0,selectedIds:l,onToggle:r,expandedIds:v,onToggleExpand:g,className:C.id==="commercial-live"||C.id==="up-next"||C.id==="featured"?"desktop-only":""},C.id))]}),e.jsx("div",{className:"mobile-only feedback-btn-container",children:e.jsx("button",{className:"mobile-feedback-btn",onClick:f,children:"FEEDBACK"})})]})},yv="true".toLowerCase()==="true",Of=15e3,jv=45e3;let li=null,Uf=0;const vv=async()=>{const l=Date.now();return li||(l-Uf<jv?null:(li=Lp().then(r=>(Uf=Date.now(),r)).finally(()=>{li=null}),li))},Dr=l=>{if(!l)return!1;if((l.status||"").toString().toLowerCase()==="live")return!0;const o=(l.score?.event_status||"").toString().toUpperCase();return o.includes("IN_PROGRESS")||o.includes("LIVE")||o.includes("STATUS_IN_PROGRESS")},Br=l=>{if(!l)return!1;const r=(l.status||"").toString().toLowerCase();if(["scheduled","pre-game","pregame","upcoming","pending"].includes(r))return!0;const o=(l.score?.event_status||"").toString().toUpperCase();if(o.includes("SCHEDULED")||o.includes("PRE_GAME"))return!0;if(l.startTime){const d=new Date(l.startTime).getTime();if(!Number.isNaN(d))return d>Date.now()}return!1},nl=l=>{if(!l)return!1;const r=(l.status||"").toString().toLowerCase();if(["finished","final","cancelled","canceled","closed"].includes(r))return!0;const o=(l.score?.event_status||"").toString().toUpperCase();return o.includes("FINAL")||o.includes("COMPLETE")||o.includes("STATUS_CLOSED")};function pi(l={}){const[r,o]=u.useState([]),d=(l.status||"all").toString().toLowerCase();return u.useEffect(()=>{let h=!0;const f=l.refreshOdds!==!1,b=async()=>{try{if(f)try{await vv()}catch{}const y=d==="live"||d==="active"?await qy():await vp(),p=Array.isArray(y)?y:[];let j=p;d==="live"||d==="active"?(j=p.filter(Dr),j.length===0&&p.length>0&&(j=p)):d==="upcoming"||d==="scheduled"?j=p.filter(C=>!nl(C)&&Br(C)):(d==="live-upcoming"||d==="active-upcoming")&&(j=p.filter(C=>!nl(C)&&(Dr(C)||Br(C)||!nl(C)&&!C.status))),h&&o(j),window.dispatchEvent(new CustomEvent("matches:refresh-completed",{detail:{success:!0}}))}catch(y){h&&o([]),window.dispatchEvent(new CustomEvent("matches:refresh-completed",{detail:{success:!1,error:y.message}}))}};b();const v=()=>{b()};window.addEventListener("matches:refresh",v);let x=null,g=null;return yv&&typeof window<"u"&&typeof window.EventSource<"u"&&(x=new window.EventSource(`${en}/matches/stream`),x.addEventListener("matchUpdate",y=>{let p=null;try{p=JSON.parse(y.data)}catch{return}o(j=>{if(!p)return j;let C=!0;d==="live"||d==="active"?C=Dr(p):d==="upcoming"||d==="scheduled"?C=!nl(p)&&Br(p):(d==="live-upcoming"||d==="active-upcoming")&&(C=!nl(p)&&(Dr(p)||Br(p)||!nl(p)&&!p?.status));const N=p.id||p._id||p.externalId,M=j.findIndex(_=>_.id===N||_._id===N||_.externalId===N);if(!C){if(M>=0){const _=[...j];return _.splice(M,1),_}return j}if(M>=0){const _=[...j];return _[M]={..._[M],...p},_}return[p,...j]})}),x.onerror=()=>{g===null&&(g=window.setInterval(b,Of))}),g===null&&(g=window.setInterval(b,Of)),()=>{if(h=!1,g!==null&&window.clearInterval(g),x)try{x.close()}catch{}window.removeEventListener("matches:refresh",v)}},[d,l.refreshOdds]),r}const Nv=({sportId:l,selectedItems:r=[],filter:o=null,status:d="live-upcoming",activeBetMode:h="straight"})=>{const[f,b]=u.useState("matches"),[v,x]=u.useState({}),g=js.useRef(new Set),[y,p]=u.useState({name:"",icon:"",matches:[],scoreboards:[]}),[j,C]=u.useState(!0),N=pi({status:d});js.useEffect(()=>{const E={nfl:{name:"NFL",icon:"fa-solid fa-football"},nba:{name:"NBA",icon:"fa-solid fa-basketball"},mlb:{name:"MLB",icon:"fa-solid fa-baseball"},nhl:{name:"NHL",icon:"fa-solid fa-hockey-puck"},epl:{name:"EPL (Soccer)",icon:"fa-solid fa-futbol"},boxing:{name:"Boxing",icon:"fa-solid fa-hand-fist"},mma:{name:"MMA/UFC",icon:"fa-solid fa-hand-fist"},ncaaf:{name:"NCAA Football",icon:"fa-solid fa-building-columns"},ncaab:{name:"NCAA Basketball",icon:"fa-solid fa-basketball"}},w=S=>{if(!S)return[];const $=S.toString().toLowerCase();return{nfl:["nfl","americanfootball_nfl","national football","american football"],ncaaf:["ncaaf","ncaa football","college football"],nba:["nba","basketball_nba","national basketball"],ncaab:["ncaab","ncaa basketball","college basketball"],mlb:["mlb","baseball_mlb","major league baseball"],nhl:["nhl","icehockey_nhl","hockey_nhl"],epl:["epl","premier league","english premier league"],soccer:["soccer","football","premier league","la liga","serie a","bundesliga","ligue 1","mls"],basketball:["basketball","nba","ncaab","euroleague"],baseball:["baseball","mlb"],hockey:["hockey","nhl","icehockey"],golf:["golf","pga"],tennis:["tennis","atp","wta"],boxing:["boxing"],mma:["mma","ufc"],rugby:["rugby"],"auto-racing":["racing","motorsport","nascar","formula"],"martial-arts":["mma","ufc","martial"],olympics:["olympics","olympic"]}[$]||[$]};let A=l,q=null;const G=o||l;G&&(G.startsWith("nfl-")?(A="nfl",G.includes("1st-quarter")&&(q="Q1"),G.includes("2nd-quarter")&&(q="Q2"),G.includes("1st-half")&&(q="H1")):G.startsWith("ncaa-")&&(A="ncaaf",G.includes("1st-quarter")&&(q="Q1"),G.includes("2nd-quarter")&&(q="Q2"),G.includes("1st-half")&&(q="H1")));const B=E[A]||{name:"Sports",icon:"fa-solid fa-trophy"};C(!0);const ee=()=>{const S=N||[],$=w(A);let D=S.filter(H=>{if(!A)return!0;if(!H.sport)return!1;const W=H.sport.toString().toLowerCase();return $.some(ie=>W.includes(ie))});q&&(D=D.filter(H=>{const W=String(H?.score?.period||"").toUpperCase(),ie=String(H?.score?.event_status||"").toUpperCase();return!W&&!ie?!0:q==="Q1"?/\bQ1\b|1ST\s*QUARTER/.test(W)||ie.includes("1ST_QUARTER"):q==="Q2"?/\bQ2\b|2ND\s*QUARTER/.test(W)||ie.includes("2ND_QUARTER"):q==="H1"?W.includes("H1")||W.includes("1H")||ie.includes("1ST_HALF"):!0}));const J=(H,W,ie)=>{if(!H||!H.odds)return{spread:["-","-"],moneyline:["-","-"],total:["-","-"]};if(H.odds.spread&&H.odds.moneyline&&H.odds.total)return H.odds;const je=Array.isArray(H.odds.markets)?H.odds.markets:[],te=Ce=>je.find(Me=>String(Me.key||"").toLowerCase()===Ce),O=(Ce,Me)=>{if(!Ce||!Array.isArray(Ce.outcomes))return null;const Re=Ce.outcomes.find(st=>String(st.name||"").toLowerCase()===String(Me||"").toLowerCase());return Re||Ce.outcomes.find(st=>String(st.name||"").toLowerCase().includes(String(Me||"").toLowerCase()))||null},Z=te("h2h"),oe=te("spreads"),K=te("totals"),V=O(Z,W),U=O(Z,ie),P=O(oe,W),ce=O(oe,ie),me=K?.outcomes?.find(Ce=>String(Ce.name||"").toLowerCase().includes("over"))||null,Ne=K?.outcomes?.find(Ce=>String(Ce.name||"").toLowerCase().includes("under"))||null,we=P?.point??ce?.point;return{spread:[`${we??"-"} (${P?.price??"-"})`,`${we!=null?-we:"-"} (${ce?.price??"-"})`],moneyline:[`${V?.price??"-"}`,`${U?.price??"-"}`],total:[`O ${me?.point??Ne?.point??"-"} (${me?.price??"-"})`,`U ${Ne?.point??me?.point??"-"} (${Ne?.price??"-"})`]}};D=D.map(H=>{const W=H.homeTeam||H.home_team||"",ie=H.awayTeam||H.away_team||"";let je=H.score?.score_home??0,te=H.score?.score_away??0;return{id:H.id||H._id||H.externalId,time:H.startTime?new Date(H.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",date:H.startTime?new Date(H.startTime).toLocaleDateString():"",team1:{name:W,abbr:W.substring(0,3).toUpperCase(),logo:""},team2:{name:ie,abbr:ie.substring(0,3).toUpperCase(),logo:""},score1:je,score2:te,period:H.score?.period,status:H.status==="live"||H.score&&(String(H.score.event_status||"").toUpperCase().includes("IN_PROGRESS")||String(H.score.event_status||"").toUpperCase().includes("LIVE"))?"LIVE":H.status||"Scheduled",odds:J(H,W,ie),rawMatch:H}}),p({...B,matches:D,scoreboards:[]}),C(!1)};ee();const I=setInterval(ee,5e3);return()=>clearInterval(I)},[l,o,N]),js.useEffect(()=>{Array.from(new Set((y.matches||[]).flatMap(w=>[w.team1?.name,w.team2?.name]).filter(Boolean))).forEach(w=>{!w||g.current.has(w)||(g.current.add(w),Ip(w).then(A=>{x(q=>({...q,[w]:A||""}))}))})},[y.matches]);const M=(E,w,A,q,G,B)=>{window.dispatchEvent(new CustomEvent("betslip:add",{detail:{matchId:E,selection:w,marketType:A,odds:parseFloat(q),matchName:G,marketLabel:B}}))},_=String(h||"straight").toLowerCase().replace(/-/g,"_"),k=["straight","parlay","teaser","if_bet","reverse"].includes(_),F=["straight","parlay","if_bet","reverse"].includes(_),L=["straight","parlay","teaser","if_bet","reverse"].includes(_);return e.jsxs("div",{className:"sport-content-view",children:[e.jsxs("div",{className:"content-header",children:[e.jsxs("div",{className:"content-title",children:[e.jsx("i",{className:y.icon}),e.jsxs("span",{children:[y.name," - Live & Upcoming"]})]}),e.jsxs("div",{className:"content-tabs",children:[e.jsx("button",{className:`tab-btn ${f==="matches"?"active":""}`,onClick:()=>b("matches"),children:"Matches"}),e.jsx("button",{className:`tab-btn ${f==="scoreboards"?"active":""}`,onClick:()=>b("scoreboards"),children:"Scoreboards"})]})]}),f==="matches"&&e.jsx("div",{className:"matches-section",children:j?e.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#888",background:"#fff",borderRadius:"8px"},children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin",style:{fontSize:"48px",marginBottom:"16px",opacity:.5}}),e.jsx("h3",{children:"Loading sports data..."}),e.jsx("p",{children:"Please wait while we load the latest matches."})]}):y.matches.length===0?e.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#888",background:"#fff",borderRadius:"8px"},children:[e.jsx("i",{className:"fa-solid fa-calendar-xmark",style:{fontSize:"48px",marginBottom:"16px",opacity:.5}}),e.jsx("h3",{children:"No Live or Upcoming Matches Found"}),e.jsxs("p",{children:["There are no ",y.name," matches available right now."]}),e.jsx("p",{style:{fontSize:"0.9em"},children:"Check back later for new updates."})]}):y.matches.map(E=>e.jsxs("div",{className:"match-card",children:[e.jsxs("div",{className:"match-header",children:[e.jsxs("div",{className:"match-time",children:[e.jsx("span",{className:"time",children:E.time}),e.jsx("span",{className:"date",children:E.date})]}),e.jsx("span",{className:`match-status ${E.status==="LIVE"?"live":""}`,children:E.status})]}),e.jsxs("div",{className:"match-body",children:[e.jsxs("div",{className:"team-box",children:[e.jsx("span",{className:"team-logo-badge",children:e.jsx("img",{className:"team-logo-image",src:v[E.team1.name]||Js(E.team1.name),alt:`${E.team1.name} logo`,loading:"lazy",onError:w=>{w.currentTarget.onerror=null,w.currentTarget.src=Js(E.team1.name)}})}),e.jsxs("div",{className:"team-info",children:[e.jsx("span",{className:"team-name",children:E.team1.name}),e.jsx("span",{className:"team-abbr",children:E.team1.abbr})]}),e.jsx("span",{className:"score",children:E.score1})]}),e.jsx("div",{className:"vs-separator",children:"vs"}),e.jsxs("div",{className:"team-box",children:[e.jsx("span",{className:"team-logo-badge",children:e.jsx("img",{className:"team-logo-image",src:v[E.team2.name]||Js(E.team2.name),alt:`${E.team2.name} logo`,loading:"lazy",onError:w=>{w.currentTarget.onerror=null,w.currentTarget.src=Js(E.team2.name)}})}),e.jsxs("div",{className:"team-info",children:[e.jsx("span",{className:"team-name",children:E.team2.name}),e.jsx("span",{className:"team-abbr",children:E.team2.abbr})]}),e.jsx("span",{className:"score",children:E.score2})]})]}),E.odds&&e.jsx("div",{className:"match-odds",children:e.jsxs("div",{className:"odds-row",children:[k&&e.jsxs("div",{className:"odds-cell",children:[e.jsx("span",{className:"odds-label",children:"Spread"}),e.jsxs("div",{className:"odds-values-group",children:[e.jsx("button",{className:"odds-value-btn",onClick:()=>M(E.id,E.team1.name,"spreads",E.rawMatch.odds?.markets?.find(w=>w.key==="spreads")?.outcomes.find(w=>w.name===E.team1.name)?.price,`${E.team1.name} vs ${E.team2.name}`,"Spread"),children:E.odds.spread[0]}),e.jsx("button",{className:"odds-value-btn",onClick:()=>M(E.id,E.team2.name,"spreads",E.rawMatch.odds?.markets?.find(w=>w.key==="spreads")?.outcomes.find(w=>w.name===E.team2.name)?.price,`${E.team1.name} vs ${E.team2.name}`,"Spread"),children:E.odds.spread[1]})]})]}),F&&e.jsxs("div",{className:"odds-cell",children:[e.jsx("span",{className:"odds-label",children:"Moneyline"}),e.jsxs("div",{className:"odds-values-group",children:[e.jsx("button",{className:"odds-value-btn",onClick:()=>M(E.id,E.team1.name,"h2h",E.rawMatch.odds?.markets?.find(w=>w.key==="h2h")?.outcomes.find(w=>w.name===E.team1.name)?.price,`${E.team1.name} vs ${E.team2.name}`,"Moneyline"),children:E.odds.moneyline[0]}),e.jsx("button",{className:"odds-value-btn",onClick:()=>M(E.id,E.team2.name,"h2h",E.rawMatch.odds?.markets?.find(w=>w.key==="h2h")?.outcomes.find(w=>w.name===E.team2.name)?.price,`${E.team1.name} vs ${E.team2.name}`,"Moneyline"),children:E.odds.moneyline[1]})]})]}),L&&e.jsxs("div",{className:"odds-cell",children:[e.jsx("span",{className:"odds-label",children:"Total"}),e.jsxs("div",{className:"odds-values-group",children:[e.jsx("button",{className:"odds-value-btn",onClick:()=>M(E.id,"Over","totals",E.rawMatch.odds?.markets?.find(w=>w.key==="totals")?.outcomes.find(w=>w.name.toLowerCase().includes("over"))?.price,`${E.team1.name} vs ${E.team2.name}`,"Total"),children:E.odds.total[0]}),e.jsx("button",{className:"odds-value-btn",onClick:()=>M(E.id,"Under","totals",E.rawMatch.odds?.markets?.find(w=>w.key==="totals")?.outcomes.find(w=>w.name.toLowerCase().includes("under"))?.price,`${E.team1.name} vs ${E.team2.name}`,"Total"),children:E.odds.total[1]})]})]})]})}),e.jsx("div",{className:"match-footer",style:{justifyContent:"center",padding:"10px"},children:e.jsx("span",{style:{fontSize:"0.8em",color:"#888"},children:"Click any odds to place your bet"})})]},E.id))}),f==="scoreboards"&&e.jsx("div",{className:"scoreboards-section",children:y.scoreboards.map((E,w)=>e.jsx("div",{className:"scoreboard-card",children:e.jsx("div",{className:"scoreboard-scores",children:Object.entries(E).map(([A,q])=>e.jsxs("div",{className:"score-cell",children:[e.jsx("span",{className:"score-label",children:A}),e.jsx("span",{className:"score-value",children:q})]},A))})},w))})]})},wv=({selectedSports:l=[],activeBetMode:r="straight"})=>{const o=l.length===0,d=(x,g)=>{for(const y of x){if(y.id===g)return y;if(y.children){const p=d(y.children,g);if(p)return p}}return null},h=l.length>0?l[0]:null,f=h?d(vd,h):null;if(f&&f.type==="props-plus")return e.jsx("main",{className:"dash-main",style:{padding:"20px"},children:e.jsxs("div",{style:{background:"#fff",padding:"20px",borderRadius:"8px",border:"1px solid #e0e0e0",textAlign:"center"},children:[e.jsx("h2",{style:{color:"#007bff"},children:f.label}),e.jsxs("p",{style:{color:"#666",marginTop:"10px"},children:["Props Plus content for ",e.jsx("strong",{children:f.label})," goes here."]}),e.jsxs("div",{style:{marginTop:"20px",display:"inline-block",padding:"10px 20px",background:"#f5f5f5",borderRadius:"4px",fontSize:"14px"},children:["Custom View Component for Type: ",f.type]})]})});const v=(()=>{if(o)return[{sportId:null,filter:null,status:"live-upcoming"}];if(l.includes("up-next"))return[{sportId:null,filter:null,status:"upcoming"}];if(l.includes("featured"))return[{sportId:null,filter:null,status:"live-upcoming"}];if(l.includes("commercial-live"))return[{sportId:null,filter:null,status:"live"}];const x=[],g=new Set;return l.forEach(y=>{y==="up-next"||y==="featured"||y==="commercial-live"||(y==="football"?g.has("nfl")||(x.push({sportId:"nfl",filter:null}),g.add("nfl")):y==="basketball"?g.has("nba")||(x.push({sportId:"nba",filter:null}),g.add("nba")):y==="baseball"?g.has("mlb")||(x.push({sportId:"mlb",filter:null}),g.add("mlb")):y==="hockey"?g.has("nhl")||(x.push({sportId:"nhl",filter:null}),g.add("nhl")):y==="soccer"?g.has("epl")||(x.push({sportId:"epl",filter:null}),g.add("epl")):y==="nfl"&&!g.has("nfl")?(x.push({sportId:"nfl",filter:null}),g.add("nfl")):y.startsWith("nfl-")&&(y.includes("half")||y.includes("quarter"))?g.has("nfl")||(x.push({sportId:"nfl",filter:y}),g.add("nfl")):y==="ncaa-football"&&!g.has("ncaaf")?(x.push({sportId:"ncaaf",filter:null}),g.add("ncaaf")):y.startsWith("ncaa-")&&(y.includes("half")||y.includes("quarter"))?g.has("ncaaf")||(x.push({sportId:"ncaaf",filter:y}),g.add("ncaaf")):y==="nfl-1st-scoring"||y==="nfl-1st-td-scorer"||y==="nfl-anytime-td"||y==="nfl-margin-victory"||y==="nfl-player-props"?g.has("nfl")||(x.push({sportId:"nfl",filter:y}),g.add("nfl")):y==="mlb"&&!g.has("mlb")?(x.push({sportId:"mlb",filter:null}),g.add("mlb")):y==="nba"&&!g.has("nba")?(x.push({sportId:"nba",filter:null}),g.add("nba")):g.has(y)||(x.push({sportId:y,filter:null}),g.add(y)))}),x.length>0?x:[{sportId:null,filter:null}]})();return e.jsxs("main",{className:"dash-main",children:[v.map((x,g)=>e.jsx(js.Fragment,{children:e.jsx(Nv,{sportId:x.sportId,selectedItems:l,filter:x.filter,status:x.status||"live-upcoming",activeBetMode:r})},`${x.sportId}-${g}`)),l.length===0&&e.jsxs("div",{style:{textAlign:"center",padding:"30px",color:"#666"},children:[e.jsx("h3",{children:"Showing all sports"}),e.jsx("p",{style:{fontSize:"13px"},children:"Use the sidebar to filter by a specific sport."})]})]})},Sv=()=>{const[l,r]=u.useState("live-upcoming"),[o,d]=u.useState("all"),[h,f]=u.useState(""),[b,v]=u.useState("all"),[x,g]=u.useState(new Set),[y,p]=u.useState(null),j=pi({status:l}),C=(I="")=>{if(!I)return"Unknown";const S=I.toString().split("_").filter(Boolean);return S.length===1?S[0].toUpperCase().replace("-"," "):`${S[0].charAt(0).toUpperCase()+S[0].slice(1)} ${S.slice(1).join(" ").toUpperCase().replace("-"," ")}`},N=u.useMemo(()=>{let S=Array.isArray(j)?j:[];o!=="all"&&(S=S.filter(D=>(D.sport||"").toString()===o));const $=h.trim().toLowerCase();return $&&(S=S.filter(D=>(D.homeTeam||D.home_team||"").toString().toLowerCase().includes($)||(D.awayTeam||D.away_team||"").toString().toLowerCase().includes($))),S},[j,o,h]),M=u.useMemo(()=>{const I=Array.isArray(j)?j:[],S=new Map;return I.forEach($=>{const D=($.sport||"unknown").toString(),J=S.get(D)||{key:D,label:C(D),count:0};J.count+=1,S.set(D,J)}),Array.from(S.values()).sort(($,D)=>D.count-$.count)},[j]),_=u.useMemo(()=>{const I=new Map;return N.forEach(S=>{const $=(S.sport||"unknown").toString();I.has($)||I.set($,[]),I.get($).push(S)}),Array.from(I.entries()).map(([S,$])=>({sport:S,label:C(S),items:$}))},[N]),k=[{id:"live-upcoming",label:"Live + Upcoming"},{id:"live",label:"Live"},{id:"upcoming",label:"Upcoming"}],F=(I,S)=>(I?.odds?.markets||[]).find(D=>(D.key||"").toLowerCase()===S)||null,L=(I,S)=>{const $=F(I,"spreads");if(!$||!$.outcomes)return{point:"-",price:"-"};const D=$.outcomes.find(J=>(J.name||"").toLowerCase()===(S||"").toLowerCase());return D?{point:D.point??"-",price:D.price??"-"}:{point:"-",price:"-"}},E=(I,S)=>{const $=F(I,"totals");if(!$||!$.outcomes)return{point:"-",price:"-"};const D=$.outcomes.find(J=>(J.name||"").toLowerCase()===S);return D?{point:D.point??"-",price:D.price??"-"}:{point:"-",price:"-"}},w=(I,S)=>{const $=F(I,"h2h");if(!$||!$.outcomes)return"-";const D=$.outcomes.find(J=>(J.name||"").toLowerCase()===(S||"").toLowerCase());return D?D.price??"-":"-"},A=I=>{g(S=>{const $=new Set(S);return $.has(I)?$.delete(I):$.add(I),$})},q=()=>{g(new Set(_.map(I=>I.sport)))},G=()=>{g(new Set)},B=({match:I,selection:S,marketType:$,odds:D,marketLabel:J})=>{if(D==="-"||D===void 0||D===null)return;const H=I.homeTeam||I.home_team||"Home",W=I.awayTeam||I.away_team||"Away",ie=I.id||I._id||I.externalId,je=`${ie}-${$}-${S}`;p(je),window.dispatchEvent(new CustomEvent("betslip:add",{detail:{matchId:ie,selection:S,marketType:$,odds:parseFloat(D),matchName:`${H} vs ${W}`,marketLabel:J}}))},ee=()=>{window.dispatchEvent(new CustomEvent("matches:refresh"))};return e.jsx("div",{className:"prime-live-wrapper",children:e.jsxs("div",{className:"prime-layout",children:[e.jsxs("aside",{className:"prime-sidebar",children:[e.jsx("div",{className:"prime-sidebar-search",children:e.jsx("input",{type:"text",className:"prime-sidebar-input",placeholder:"Filter Teams...",value:h,onChange:I=>f(I.target.value)})}),e.jsxs("div",{className:`prime-sidebar-item ${o==="all"?"active":""}`,onClick:()=>d("all"),role:"button",children:[e.jsxs("span",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsx("i",{className:"fa-solid fa-trophy"})," All Sports"]}),e.jsx("span",{className:"prime-badge",children:(j||[]).length})]}),M.map(I=>e.jsxs("div",{className:`prime-sidebar-item ${o===I.key?"active":""}`,onClick:()=>d(I.key),role:"button",children:[e.jsxs("span",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsx("i",{className:"fa-solid fa-medal"})," ",I.label]}),e.jsx("span",{className:"prime-badge",children:I.count})]},I.key))]}),e.jsxs("main",{className:"prime-main",children:[e.jsxs("div",{className:"prime-tools-bar",children:[e.jsxs("div",{className:"prime-toolbar-left",children:[k.map(I=>e.jsx("button",{className:`prime-status-pill ${l===I.id?"active":""}`,onClick:()=>r(I.id),children:I.label},I.id)),e.jsxs("button",{className:"prime-refresh-btn",onClick:ee,children:[e.jsx("i",{className:"fa-solid fa-arrows-rotate"})," Refresh"]})]}),e.jsxs("div",{className:"prime-toolbar-right",children:[e.jsxs("div",{className:"prime-market-toggle",children:[e.jsx("button",{className:b==="all"?"active":"",onClick:()=>v("all"),children:"All"}),e.jsx("button",{className:b==="spread"?"active":"",onClick:()=>v("spread"),children:"Spread"}),e.jsx("button",{className:b==="total"?"active":"",onClick:()=>v("total"),children:"Total"}),e.jsx("button",{className:b==="moneyline"?"active":"",onClick:()=>v("moneyline"),children:"Moneyline"})]}),e.jsxs("button",{className:"prime-text-btn",onClick:q,children:[e.jsx("i",{className:"fa-solid fa-compress"})," Collapse"]}),e.jsxs("button",{className:"prime-text-btn",onClick:G,children:[e.jsx("i",{className:"fa-solid fa-expand"})," Expand"]})]})]}),e.jsxs("div",{className:"prime-subtitle",children:["Showing ",e.jsx("strong",{children:o==="all"?"All Sports":C(o)})," (",N.length,")"]}),_.length===0?e.jsxs("div",{className:"prime-empty-state",children:[e.jsx("i",{className:"fa-solid fa-calendar-xmark"}),e.jsx("h3",{children:"No matches found"}),e.jsx("p",{children:"Try another filter or refresh the feed."})]}):_.map(I=>e.jsxs("div",{className:"prime-match-group",children:[e.jsxs("div",{className:"prime-match-header",onClick:()=>A(I.sport),role:"button",children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-flag"})," ",I.label]}),e.jsxs("span",{className:"prime-group-meta",children:[e.jsxs("em",{children:[I.items.length," games"]}),e.jsx("i",{className:`fa-solid ${x.has(I.sport)?"fa-chevron-down":"fa-chevron-up"}`})]})]}),!x.has(I.sport)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"prime-header-row",children:[e.jsx("div",{children:"Match Info"}),e.jsxs("div",{className:"prime-markets-header",children:[(b==="all"||b==="spread")&&e.jsx("span",{children:"Spread"}),(b==="all"||b==="total")&&e.jsx("span",{children:"Total"}),(b==="all"||b==="moneyline")&&e.jsx("span",{children:"Moneyline"})]})]}),I.items.map(S=>{const $=S.homeTeam||S.home_team||"Home",D=S.awayTeam||S.away_team||"Away",J=S.score?.score_home??"-",H=S.score?.score_away??"-",W=S.score?.period||"",je=(S.status||"").toString().toLowerCase()==="live"||String(S.score?.event_status||"").toUpperCase().includes("IN_PROGRESS"),te=S.startTime?new Date(S.startTime):null,O=je&&W?`${W}`:te?te.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",Z=S.id||S._id||S.externalId,oe=L(S,$),K=L(S,D),V=E(S,"over"),U=E(S,"under"),P=w(S,$),ce=w(S,D);return e.jsxs("div",{className:"prime-match-row",children:[e.jsxs("div",{className:"prime-match-teams",children:[e.jsxs("div",{className:"prime-team",children:[e.jsx("span",{children:$}),e.jsx("span",{className:"prime-score",children:J})]}),e.jsxs("div",{className:"prime-team",children:[e.jsx("span",{children:D}),e.jsx("span",{className:"prime-score",children:H})]}),e.jsxs("div",{className:"prime-time-info",children:[e.jsx("span",{className:`prime-live-pill ${je?"live":""}`,children:je?"LIVE":"SCHEDULED"}),e.jsxs("span",{children:[e.jsx("i",{className:"fa-regular fa-clock"})," ",O]})]})]}),e.jsxs("div",{className:"prime-odds-grid",children:[(b==="all"||b==="spread")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`prime-odd-btn ${y===`${Z}-spreads-${$}`?"selected":""}`,disabled:oe.price==="-",onClick:()=>B({match:S,selection:$,marketType:"spreads",odds:oe.price,marketLabel:"Spread"}),children:[e.jsx("span",{children:oe.point!=="-"?oe.point:"-"}),e.jsx("span",{className:"prime-odd-val",children:oe.price})]}),e.jsxs("button",{className:`prime-odd-btn ${y===`${Z}-spreads-${D}`?"selected":""}`,disabled:K.price==="-",onClick:()=>B({match:S,selection:D,marketType:"spreads",odds:K.price,marketLabel:"Spread"}),children:[e.jsx("span",{children:K.point!=="-"?K.point:"-"}),e.jsx("span",{className:"prime-odd-val",children:K.price})]})]}),(b==="all"||b==="total")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`prime-odd-btn ${y===`${Z}-totals-Over`?"selected":""}`,disabled:V.price==="-",onClick:()=>B({match:S,selection:"Over",marketType:"totals",odds:V.price,marketLabel:"Total"}),children:[e.jsxs("span",{children:["o",V.point!=="-"?V.point:"-"]}),e.jsx("span",{className:"prime-odd-val",children:V.price})]}),e.jsxs("button",{className:`prime-odd-btn ${y===`${Z}-totals-Under`?"selected":""}`,disabled:U.price==="-",onClick:()=>B({match:S,selection:"Under",marketType:"totals",odds:U.price,marketLabel:"Total"}),children:[e.jsxs("span",{children:["u",U.point!=="-"?U.point:"-"]}),e.jsx("span",{className:"prime-odd-val",children:U.price})]})]}),(b==="all"||b==="moneyline")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`prime-odd-btn ${y===`${Z}-h2h-${$}`?"selected":""}`,disabled:P==="-",onClick:()=>B({match:S,selection:$,marketType:"h2h",odds:P,marketLabel:"Moneyline"}),children:[e.jsx("span",{children:$}),e.jsx("span",{className:"prime-odd-val",children:P})]}),e.jsxs("button",{className:`prime-odd-btn ${y===`${Z}-h2h-${D}`?"selected":""}`,disabled:ce==="-",onClick:()=>B({match:S,selection:D,marketType:"h2h",odds:ce,marketLabel:"Moneyline"}),children:[e.jsx("span",{children:D}),e.jsx("span",{className:"prime-odd-val",children:ce})]})]})]})]},Z)})]})]},I.sport))]}),e.jsxs("aside",{className:"prime-right-panel",children:[e.jsxs("div",{className:"prime-slip-tabs",children:[e.jsx("div",{className:"prime-slip-tab active",children:"Prime Live"}),e.jsx("div",{className:"prime-slip-tab",children:"Insights"})]}),e.jsxs("div",{className:"prime-slip-content",children:[e.jsxs("div",{className:"prime-side-card",children:[e.jsx("h4",{children:"Live Filters"}),e.jsx("p",{children:"Use the status pills, sport list, and market toggles to fetch and view different data slices from API in real-time."})]}),e.jsxs("div",{className:"prime-side-card",children:[e.jsx("h4",{children:"Quick Actions"}),e.jsxs("button",{className:"prime-side-btn",onClick:ee,children:[e.jsx("i",{className:"fa-solid fa-arrows-rotate"})," Refresh Odds"]}),e.jsxs("button",{className:"prime-side-btn",onClick:()=>d("all"),children:[e.jsx("i",{className:"fa-solid fa-list"})," Show All Sports"]}),e.jsxs("button",{className:"prime-side-btn",onClick:G,children:[e.jsx("i",{className:"fa-solid fa-up-right-and-down-left-from-center"})," Expand Leagues"]})]})]})]})]})})},kv=[{id:"in_play",label:"In-Play"},{id:"history",label:"History"},{id:"live_tv",label:"Live TV"}],Cv=[{id:"all",label:"All"},{id:"spread",label:"Spread"},{id:"total",label:"Total"},{id:"moneyline",label:"Moneyline"}],zf=(l="")=>{if(!l)return"Unknown";const r=l.toString().split("_").filter(Boolean);return r.length===1?r[0].toUpperCase().replace("-"," "):`${r[0].charAt(0).toUpperCase()+r[0].slice(1)} ${r.slice(1).join(" ").toUpperCase().replace("-"," ")}`},Av=l=>{const r=(l?.status||"").toString().toLowerCase(),o=(l?.score?.event_status||"").toString().toUpperCase();return r==="live"||o.includes("IN_PROGRESS")||o.includes("LIVE")},Ev=l=>{const r=(l?.status||"").toString().toLowerCase(),o=(l?.score?.event_status||"").toString().toUpperCase();return["finished","final","closed","settled","cancelled","canceled"].includes(r)||o.includes("FINAL")||o.includes("COMPLETE")||o.includes("CLOSED")},Sa=l=>l?.id||l?._id||l?.externalId,_d=(l,r)=>(l?.odds?.markets||[]).find(d=>(d.key||"").toLowerCase()===r)||null,If=(l,r)=>{const o=_d(l,"h2h");return o?.outcomes?o.outcomes.find(h=>(h.name||"").toLowerCase()===(r||"").toLowerCase())?.price??"-":"-"},Ff=(l,r)=>{const o=_d(l,"spreads");if(!o?.outcomes)return{label:"-",price:"-"};const d=o.outcomes.find(f=>(f.name||"").toLowerCase()===(r||"").toLowerCase());return d?{label:`${d.point??"-"}`,price:d.price??"-"}:{label:"-",price:"-"}},Pf=(l,r)=>{const o=_d(l,"totals");if(!o?.outcomes)return{label:"-",price:"-"};const d=o.outcomes.find(h=>(h.name||"").toLowerCase()===r);return d?{label:`${r==="over"?"O":"U"} ${d.point??"-"}`,price:d.price??"-"}:{label:"-",price:"-"}},Tv=()=>{const[l,r]=u.useState("in_play"),[o,d]=u.useState("all"),[h,f]=u.useState(null),[b,v]=u.useState("all"),[x,g]=u.useState(null),[y,p]=u.useState("bet_slip"),[j,C]=u.useState([]),[N,M]=u.useState(!1),[_,k]=u.useState(""),[F,L]=u.useState({game_winner:!1,spread:!1,total:!1}),w=pi({status:l==="history"?"all":"live-upcoming"}),A=u.useMemo(()=>{const K=Array.isArray(w)?w:[];return l==="history"?K.filter(Ev):K.filter(Av)},[w,l]),q=u.useMemo(()=>{const K=new Map;return A.forEach(V=>{const U=(V.sport||"unknown").toString(),P=K.get(U)||{key:U,label:zf(U),count:0};P.count+=1,K.set(U,P)}),Array.from(K.values()).sort((V,U)=>U.count-V.count)},[A]),G=u.useMemo(()=>o==="all"?A:A.filter(K=>(K.sport||"").toString()===o),[A,o]);u.useEffect(()=>{h&&G.some(K=>Sa(K)===h)||f(Sa(G[0])||null)},[h,G]),u.useEffect(()=>{(async()=>{if(y!=="my_bets")return;const V=localStorage.getItem("token");if(!V){C([]),k("Please login to view your bets.");return}try{M(!0),k("");const U=await Dd(V);C(Array.isArray(U)?U:[])}catch(U){k(U.message||"Failed to load bets")}finally{M(!1)}})()},[y]);const B=u.useMemo(()=>G.find(K=>Sa(K)===h)||G[0]||null,[G,h]),ee=B?.homeTeam||B?.home_team||"Home",I=B?.awayTeam||B?.away_team||"Away",S=B?.score?.score_home??"-",$=B?.score?.score_away??"-",D=B?.score?.period||(l==="history"?"Final":"Live"),J=B?Ff(B,ee):{label:"-",price:"-"},H=B?Ff(B,I):{label:"-",price:"-"},W=B?Pf(B,"over"):{label:"-",price:"-"},ie=B?Pf(B,"under"):{label:"-",price:"-"},je=B?If(B,ee):"-",te=B?If(B,I):"-",O=()=>{window.dispatchEvent(new CustomEvent("matches:refresh"))},Z=K=>{L(V=>({...V,[K]:!V[K]}))},oe=({selection:K,marketType:V,odds:U,marketLabel:P})=>{if(!B||U==="-"||U===null||U===void 0)return;const ce=Sa(B),me=`${ce}-${V}-${K}`;g(me),window.dispatchEvent(new CustomEvent("betslip:add",{detail:{matchId:ce,selection:K,marketType:V,odds:parseFloat(U),matchName:`${ee} vs ${I}`,marketLabel:P}}))};return e.jsxs("div",{className:"ultra-live-wrapper",children:[e.jsxs("aside",{className:"ultra-sidebar",children:[e.jsx("div",{className:"ultra-subnav",children:kv.map(K=>e.jsx("button",{className:`ultra-subnav-item ${l===K.id?"active":""}`,onClick:()=>r(K.id),children:K.label},K.id))}),e.jsx("div",{className:"ultra-sidebar-header",children:"Sports"}),e.jsxs("div",{className:`ultra-sidebar-sport ${o==="all"?"active":""}`,onClick:()=>d("all"),children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-trophy"})," All Sports"]}),e.jsx("span",{className:"ultra-chip",children:A.length})]}),q.map(K=>e.jsxs("div",{className:`ultra-sidebar-sport ${o===K.key?"active":""}`,onClick:()=>d(K.key),children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-medal"})," ",K.label]}),e.jsx("span",{className:"ultra-chip",children:K.count})]},K.key)),e.jsx("div",{className:"ultra-sidebar-header",children:"Matches"}),e.jsx("div",{className:"ultra-match-list",children:G.length===0?e.jsx("div",{className:"ultra-empty-mini",children:"No matches for this filter."}):G.map(K=>{const V=Sa(K),U=V===Sa(B),P=K.homeTeam||K.home_team,ce=K.awayTeam||K.away_team;return e.jsxs("div",{className:`ultra-sidebar-match ${U?"active":""}`,onClick:()=>f(V),children:[e.jsxs("div",{className:"ultra-sidebar-match-teams",children:[e.jsx("span",{children:P}),e.jsx("span",{className:"ultra-sidebar-match-score",children:K.score?.score_home??"-"})]}),e.jsxs("div",{className:"ultra-sidebar-match-teams",children:[e.jsx("span",{children:ce}),e.jsx("span",{className:"ultra-sidebar-match-score",children:K.score?.score_away??"-"})]}),e.jsx("div",{className:"ultra-sidebar-match-meta",children:K.score?.period||(l==="history"?"Final":"Live")})]},V)})})]}),e.jsxs("main",{className:"ultra-main",children:[e.jsxs("div",{className:"ultra-toolbar",children:[e.jsx("div",{className:"ultra-market-tabs",children:Cv.map(K=>e.jsx("button",{className:b===K.id?"active":"",onClick:()=>v(K.id),children:K.label},K.id))}),e.jsxs("button",{className:"ultra-refresh",onClick:O,children:[e.jsx("i",{className:"fa-solid fa-arrows-rotate"})," Refresh"]})]}),e.jsxs("div",{className:"ultra-video-area",children:[e.jsx("div",{className:"ultra-live-indicator",children:l==="history"?"ARCHIVE":"LIVE"}),e.jsxs("div",{className:"ultra-video-center",children:[e.jsx("i",{className:"fa-regular fa-circle-play"}),e.jsx("span",{children:l==="history"?"Match Replay Feed":"Live Stream Feed"})]}),e.jsxs("div",{className:"ultra-video-score",children:[ee," ",S," - ",$," ",I]})]}),e.jsxs("div",{className:"ultra-markets-container",children:[e.jsxs("div",{className:"ultra-market-header",children:[e.jsxs("h2",{children:[ee," @ ",I]}),e.jsx("div",{className:"ultra-market-status",children:D})]}),(b==="all"||b==="moneyline")&&e.jsxs("div",{className:"ultra-market-section",children:[e.jsxs("button",{className:"ultra-market-title",onClick:()=>Z("game_winner"),children:[e.jsx("span",{children:"Game Winner"}),e.jsx("i",{className:`fa-solid ${F.game_winner?"fa-chevron-down":"fa-chevron-up"}`})]}),!F.game_winner&&e.jsx("div",{className:"ultra-market-rows",children:e.jsxs("div",{className:"ultra-market-row",children:[e.jsxs("button",{className:`ultra-odds-box ${x===`${Sa(B)}-h2h-${ee}`?"selected":""}`,disabled:je==="-",onClick:()=>oe({selection:ee,marketType:"h2h",odds:je,marketLabel:"Moneyline"}),children:[e.jsx("span",{className:"ultra-odds-label",children:ee}),e.jsx("span",{className:"ultra-odds-val",children:je})]}),e.jsxs("button",{className:`ultra-odds-box ${x===`${Sa(B)}-h2h-${I}`?"selected":""}`,disabled:te==="-",onClick:()=>oe({selection:I,marketType:"h2h",odds:te,marketLabel:"Moneyline"}),children:[e.jsx("span",{className:"ultra-odds-label",children:I}),e.jsx("span",{className:"ultra-odds-val",children:te})]})]})})]}),(b==="all"||b==="spread")&&e.jsxs("div",{className:"ultra-market-section",children:[e.jsxs("button",{className:"ultra-market-title",onClick:()=>Z("spread"),children:[e.jsx("span",{children:"Spread"}),e.jsx("i",{className:`fa-solid ${F.spread?"fa-chevron-down":"fa-chevron-up"}`})]}),!F.spread&&e.jsx("div",{className:"ultra-market-rows",children:e.jsxs("div",{className:"ultra-market-row",children:[e.jsxs("button",{className:`ultra-odds-box ${x===`${Sa(B)}-spreads-${ee}`?"selected":""}`,disabled:J.price==="-",onClick:()=>oe({selection:ee,marketType:"spreads",odds:J.price,marketLabel:"Spread"}),children:[e.jsx("span",{className:"ultra-odds-label",children:J.label}),e.jsx("span",{className:"ultra-odds-val",children:J.price})]}),e.jsxs("button",{className:`ultra-odds-box ${x===`${Sa(B)}-spreads-${I}`?"selected":""}`,disabled:H.price==="-",onClick:()=>oe({selection:I,marketType:"spreads",odds:H.price,marketLabel:"Spread"}),children:[e.jsx("span",{className:"ultra-odds-label",children:H.label}),e.jsx("span",{className:"ultra-odds-val",children:H.price})]})]})})]}),(b==="all"||b==="total")&&e.jsxs("div",{className:"ultra-market-section",children:[e.jsxs("button",{className:"ultra-market-title",onClick:()=>Z("total"),children:[e.jsx("span",{children:"Total"}),e.jsx("i",{className:`fa-solid ${F.total?"fa-chevron-down":"fa-chevron-up"}`})]}),!F.total&&e.jsx("div",{className:"ultra-market-rows",children:e.jsxs("div",{className:"ultra-market-row",children:[e.jsxs("button",{className:`ultra-odds-box ${x===`${Sa(B)}-totals-Over`?"selected":""}`,disabled:W.price==="-",onClick:()=>oe({selection:"Over",marketType:"totals",odds:W.price,marketLabel:"Total"}),children:[e.jsx("span",{className:"ultra-odds-label",children:W.label}),e.jsx("span",{className:"ultra-odds-val",children:W.price})]}),e.jsxs("button",{className:`ultra-odds-box ${x===`${Sa(B)}-totals-Under`?"selected":""}`,disabled:ie.price==="-",onClick:()=>oe({selection:"Under",marketType:"totals",odds:ie.price,marketLabel:"Total"}),children:[e.jsx("span",{className:"ultra-odds-label",children:ie.label}),e.jsx("span",{className:"ultra-odds-val",children:ie.price})]})]})})]})]})]}),e.jsxs("aside",{className:"ultra-right-panel",children:[e.jsxs("div",{className:"ultra-tracker",children:[e.jsxs("div",{className:"ultra-tracker-top",children:[e.jsx("span",{children:zf(B?.sport)}),e.jsx("span",{children:D})]}),e.jsxs("div",{className:"ultra-tracker-body",children:[e.jsx("div",{className:"ultra-tracker-team",children:ee}),e.jsxs("div",{className:"ultra-tracker-score",children:[S," - ",$]}),e.jsx("div",{className:"ultra-tracker-team",children:I})]})]}),e.jsxs("div",{className:"ultra-slip-header",children:[e.jsx("button",{className:`ultra-slip-tab ${y==="bet_slip"?"active":""}`,onClick:()=>p("bet_slip"),children:"Bet Slip"}),e.jsx("button",{className:`ultra-slip-tab ${y==="my_bets"?"active":""}`,onClick:()=>p("my_bets"),children:"My Bets"})]}),e.jsxs("div",{className:"ultra-slip-body",children:[y==="bet_slip"&&e.jsxs(e.Fragment,{children:[e.jsx("h4",{children:"Slip Ready"}),e.jsx("p",{children:"Click any odds to add selections to your active betting panel."})]}),y==="my_bets"&&e.jsxs(e.Fragment,{children:[N&&e.jsx("p",{children:"Loading bets..."}),!N&&_&&e.jsx("p",{children:_}),!N&&!_&&j.length===0&&e.jsx("p",{children:"No bets found."}),!N&&!_&&j.length>0&&e.jsx("div",{className:"ultra-my-bets-list",children:j.slice(0,12).map(K=>e.jsxs("div",{className:"ultra-my-bet-item",children:[e.jsxs("div",{className:"ultra-my-bet-top",children:[e.jsx("span",{children:(K.type||"bet").toUpperCase()}),e.jsx("span",{className:`ultra-bet-status ${K.status||"pending"}`,children:K.status||"pending"})]}),e.jsxs("div",{className:"ultra-my-bet-row",children:["Risk: $",Number(K.amount||0).toFixed(2)]}),e.jsxs("div",{className:"ultra-my-bet-row",children:["To Win: $",Number(K.potentialPayout||0).toFixed(2)]})]},K.id||K._id))})]})]})]})]})},dd={lobby:{label:"Lobby",icon:"fa-solid fa-table-cells-large"},table_games:{label:"Table Games",icon:"fa-solid fa-playing-cards"},slots:{label:"Slots",icon:"fa-solid fa-dice"},video_poker:{label:"Video Poker",icon:"fa-solid fa-heart"},specialty_games:{label:"Specialty Games",icon:"fa-solid fa-star"}},Lv=()=>{const l=localStorage.getItem("token"),[r,o]=u.useState([]),[d,h]=u.useState("lobby"),[f,b]=u.useState(""),[v,x]=u.useState(""),[g,y]=u.useState(!1),[p,j]=u.useState([]),[C,N]=u.useState(!0),[M,_]=u.useState(""),[k,F]=u.useState(null),L=async()=>{if(l)try{const B=await Np(l);o(Array.isArray(B?.categories)?B.categories:[])}catch(B){console.error("Failed to load casino categories:",B)}},E=async()=>{if(!l){N(!1),_("Please login to access casino games.");return}try{N(!0),_("");const B=await wp({token:l,category:d,search:v,featured:g,page:1,limit:96});j(Array.isArray(B?.games)?B.games:[])}catch(B){console.error("Failed to load casino games:",B),_(B.message||"Failed to load casino games")}finally{N(!1)}};u.useEffect(()=>{L()},[]),u.useEffect(()=>{E()},[d,v,g]);const w=u.useMemo(()=>r.length===0?Object.entries(dd).map(([B,ee])=>({id:B,label:ee.label,count:0})):r.map(B=>{const ee=dd[B.id]||{label:B.label||B.id};return{id:B.id,label:ee.label,count:Number(B.count||0)}}),[r]),A=()=>{x(f.trim())},q=async B=>{if(!l){alert("Please login to launch casino games.");return}try{F(B);const ee=await Sp(B,l);ee?.launchUrl?window.open(ee.launchUrl,"_blank","noopener,noreferrer"):alert("Launch URL is not available for this game yet.")}catch(ee){alert(ee.message||"Unable to launch game")}finally{F(null)}},G=(B,ee)=>`MIN: $${Number(B||0).toFixed(2)} | MAX: $${Number(ee||0).toFixed(2)}`;return e.jsxs("div",{className:"casino-wrapper",children:[e.jsxs("div",{className:"casino-subnav-bar",children:[e.jsx("div",{className:"casino-nav-items",children:w.map(B=>e.jsxs("button",{className:`casino-nav-item ${d===B.id?"active":""}`,onClick:()=>h(B.id),children:[e.jsx("span",{className:"casino-nav-icon",children:e.jsx("i",{className:dd[B.id]?.icon||"fa-solid fa-dice"})}),e.jsx("span",{children:B.label}),e.jsx("span",{className:"casino-count",children:B.count})]},B.id))}),e.jsxs("div",{className:"casino-search-container",children:[e.jsx("input",{type:"text",className:"casino-search-input",placeholder:"Search games",value:f,onChange:B=>b(B.target.value),onKeyDown:B=>B.key==="Enter"&&A()}),e.jsx("button",{className:"casino-search-btn",onClick:A,title:"Search games",children:e.jsx("i",{className:"fa-solid fa-magnifying-glass"})}),e.jsxs("button",{className:`casino-featured-btn ${g?"active":""}`,onClick:()=>y(B=>!B),children:[e.jsx("i",{className:"fa-solid fa-star"}),e.jsx("span",{children:"Featured"})]}),e.jsxs("button",{className:"casino-refresh-btn",onClick:E,children:[e.jsx("i",{className:"fa-solid fa-arrows-rotate"}),e.jsx("span",{children:"Refresh"})]})]})]}),C&&e.jsxs("div",{className:"casino-feedback-state",children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),e.jsx("span",{children:"Loading casino games..."})]}),!C&&M&&e.jsxs("div",{className:"casino-feedback-state error",children:[e.jsx("i",{className:"fa-solid fa-triangle-exclamation"}),e.jsx("span",{children:M})]}),!C&&!M&&p.length===0&&e.jsxs("div",{className:"casino-feedback-state",children:[e.jsx("i",{className:"fa-regular fa-folder-open"}),e.jsx("span",{children:"No games found for this filter."})]}),!C&&!M&&p.length>0&&e.jsx("div",{className:"casino-grid",children:p.map(B=>e.jsxs("article",{className:"casino-card",children:[e.jsxs("div",{className:"casino-card-image",style:{background:`linear-gradient(135deg, #0f172a, ${B.themeColor||"#0f5db3"})`},children:[B.imageUrl?e.jsx("img",{src:B.imageUrl,alt:B.name,className:"casino-game-image"}):e.jsx("span",{className:"casino-fallback-icon",children:e.jsx("i",{className:B.icon||"fa-solid fa-dice"})}),e.jsx("span",{className:`casino-status ${B.status}`,children:B.status}),e.jsx("div",{className:"play-overlay",children:e.jsx("i",{className:"fa-solid fa-play"})})]}),e.jsxs("div",{className:"casino-card-info",children:[e.jsxs("div",{className:"casino-card-top",children:[e.jsx("div",{className:"casino-game-title",children:B.name}),e.jsx("div",{className:"casino-provider",children:B.provider})]}),e.jsx("div",{className:"casino-bet-limits",children:G(B.minBet,B.maxBet)}),e.jsx("button",{className:"casino-play-btn",onClick:()=>q(B.id),disabled:k===B.id||B.status!=="active",children:k===B.id?"Launching...":"Play Now"})]})]},B.id))})]})},$f=[{id:"lobby",label:"All Games"},{id:"table_games",label:"Table Games"},{id:"slots",label:"Slots"},{id:"video_poker",label:"Video Poker"},{id:"specialty_games",label:"Specialty"}],Hf=(l="")=>{const r=l.toLowerCase();return r.includes("blackjack")?"blackjack":r.includes("roulette")?"roulette":r.includes("baccarat")?"baccarat":r.includes("poker")?"poker":r.includes("keno")?"special":"default"},Mv=(l="")=>{const r=l.toLowerCase();return r.includes("blackjack")?"Blackjack":r.includes("roulette")?"Roulette":r.includes("baccarat")?"Baccarat":r.includes("poker")?"Poker":r.includes("slot")?"Slots":"Live"},Dv=l=>{const r=["Sarah","James","Elena","Mike","Anna","Lucas","Sophia","Daniel","Eva","Noah"],o=String(l||"").length%r.length;return r[o]},Bv=()=>{const l=localStorage.getItem("token"),[r,o]=u.useState([]),[d,h]=u.useState([]),[f,b]=u.useState("lobby"),[v,x]=u.useState(""),[g,y]=u.useState(!0),[p,j]=u.useState(""),[C,N]=u.useState(null),M=async()=>{if(l)try{const E=await Np(l);o(Array.isArray(E?.categories)?E.categories:[])}catch(E){console.error("Failed to fetch casino categories for live page:",E)}},_=async()=>{if(!l){y(!1),j("Please login to access live casino.");return}try{y(!0),j("");const E=await wp({token:l,category:f,search:v,page:1,limit:120});h(Array.isArray(E?.games)?E.games:[])}catch(E){j(E.message||"Failed to load live casino games")}finally{y(!1)}};u.useEffect(()=>{M()},[]),u.useEffect(()=>{_()},[f,v]);const k=u.useMemo(()=>{const E=r.reduce((w,A)=>(w[A.id]=Number(A.count||0),w),{});return $f.map(w=>({...w,count:w.id==="lobby"?$f.filter(A=>A.id!=="lobby").reduce((A,q)=>A+(E[q.id]||0),0):E[w.id]||0}))},[r]),F=u.useMemo(()=>d.find(E=>E.isFeatured)||d[0]||null,[d]),L=async E=>{if(l)try{N(E);const w=await Sp(E,l);w?.launchUrl?window.open(w.launchUrl,"_blank","noopener,noreferrer"):alert("Launch URL is not available for this game")}catch(w){alert(w.message||"Unable to launch game")}finally{N(null)}};return e.jsxs("div",{className:"live-casino-wrapper",children:[e.jsx("section",{className:`live-hero ${Hf(F?.name)}`,children:e.jsxs("div",{className:"live-hero-content",children:[e.jsx("span",{className:"live-hero-badge",children:"Featured Table"}),e.jsx("h1",{children:F?.name||"Live Casino Lobby"}),e.jsx("p",{children:"Professional live-casino experience with real-time seats, game filtering, and direct launch from your wallet-enabled account."}),F&&e.jsxs("button",{className:"play-action-btn",onClick:()=>L(F.id),type:"button",disabled:C===F.id,children:[e.jsx("i",{className:"fa-solid fa-play"})," ",C===F.id?"Launching...":"Join Table"]})]})}),e.jsxs("div",{className:"live-lobby-container",children:[e.jsxs("div",{className:"live-topbar",children:[e.jsx("div",{className:"live-category-bar",children:k.map(E=>e.jsxs("button",{type:"button",className:`live-cat-btn ${f===E.id?"active":""}`,onClick:()=>b(E.id),children:[e.jsx("span",{children:E.label}),e.jsx("small",{children:E.count})]},E.id))}),e.jsx("input",{className:"live-search",type:"text",placeholder:"Search live casino games",value:v,onChange:E=>x(E.target.value)})]}),g&&e.jsx("div",{className:"live-state",children:"Loading live casino games..."}),!g&&p&&e.jsx("div",{className:"live-state error",children:p}),!g&&!p&&d.length===0&&e.jsx("div",{className:"live-state",children:"No games available for this filter."}),!g&&!p&&d.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"live-section-title",children:[e.jsx("i",{className:"fa-solid fa-fire"})," Recommended ",e.jsx("span",{children:"Live Tables"})]}),e.jsx("div",{className:"tables-grid",children:d.slice(0,24).map(E=>e.jsxs("article",{className:`live-table-card theme-${Hf(E.name)}`,children:[e.jsxs("div",{className:"table-preview",children:[e.jsx("div",{className:"live-badge",children:Mv(E.name)}),e.jsxs("div",{className:"dealer-name",children:[e.jsx("i",{className:"fa-solid fa-user-tie"})," ",Dv(E.name)]})]}),e.jsxs("div",{className:"table-info",children:[e.jsx("div",{className:"table-name",children:E.name}),e.jsxs("div",{className:"table-limits",children:[e.jsxs("span",{children:["Min: $",Number(E.minBet||0).toFixed(2)]}),e.jsxs("span",{children:["Max: $",Number(E.maxBet||0).toFixed(2)]})]}),e.jsx("button",{className:"join-table-btn",type:"button",disabled:C===E.id,onClick:()=>L(E.id),children:C===E.id?"Launching...":"Play Now"})]})]},E.id))})]})]})]})},_v=()=>{const[l,r]=u.useState("props"),[o,d]=u.useState("builder"),[h,f]=u.useState("all"),[b,v]=u.useState(""),[x,g]=u.useState("popular"),[y,p]=u.useState(null),[j,C]=u.useState({}),[N,M]=u.useState(null),[_,k]=u.useState([]),[F,L]=u.useState(!1),[E,w]=u.useState(""),A=pi({status:"live-upcoming"}),q=u.useMemo(()=>{const $=new Map;return(A||[]).forEach(D=>{const J=String(D.sport||"unknown").toLowerCase(),H=$.get(J)||{id:J,label:Ov(J),count:0};H.count+=1,$.set(J,H)}),Array.from($.values()).sort((D,J)=>J.count-D.count)},[A]),G=u.useMemo(()=>{const $=b.trim().toLowerCase();return(A||[]).filter(D=>{const J=String(D.sport||"unknown").toLowerCase();if(h!=="all"&&J!==h)return!1;if(!$)return!0;const H=String(D.homeTeam||D.home_team||"").toLowerCase(),W=String(D.awayTeam||D.away_team||"").toLowerCase();return H.includes($)||W.includes($)})},[A,h,b]);u.useEffect(()=>{y&&G.some($=>wn($)===y)||p(wn(G[0])||null)},[G,y]);const B=u.useMemo(()=>G.find($=>wn($)===y)||G[0]||null,[G,y]),ee=u.useMemo(()=>{const $=B?.odds?.markets||[];if(!Array.isArray($))return[];const J={popular:["h2h","spreads","totals"],moneyline:["h2h"],spread:["spreads"],total:["totals"],all:null}[x];return $.filter(H=>J===null||J.includes(String(H.key||"").toLowerCase())).map(H=>({key:String(H.key||"market").toLowerCase(),title:Rv(String(H.key||"market")),outcomes:Array.isArray(H.outcomes)?H.outcomes:[]}))},[B,x]);u.useEffect(()=>{if(o!=="my_bets")return;const $=localStorage.getItem("token");if(!$){k([]),w("Please login to view your bets.");return}(async()=>{try{L(!0),w("");const J=await Dd($);k(Array.isArray(J)?J:[])}catch(J){w(J.message||"Failed to load bets")}finally{L(!1)}})()},[o]);const I=$=>{C(D=>({...D,[$]:!D[$]}))},S=($,D)=>{if(!B||D?.price==null||D?.price==="-")return;const J=wn(B),H=D.name||"Selection",W=Number(D.price);if(Number.isNaN(W))return;const ie=`${J}-${$.key}-${H}`;M(ie),window.dispatchEvent(new CustomEvent("betslip:add",{detail:{matchId:J,selection:H,marketType:$.key,odds:W,matchName:`${B.homeTeam||B.home_team} vs ${B.awayTeam||B.away_team}`,marketLabel:$.title}}))};return e.jsxs("div",{className:"props-container",children:[e.jsxs("div",{className:"props-mini-sidebar",children:[e.jsxs("button",{className:`props-ms-item ${l==="props"?"active":""}`,onClick:()=>r("props"),children:[e.jsx("div",{className:"props-ms-icon",children:e.jsx("i",{className:"fa-solid fa-chart-line"})}),e.jsx("div",{children:"PROPS+"})]}),e.jsxs("button",{className:`props-ms-item ${l==="horses"?"active":""}`,onClick:()=>r("horses"),children:[e.jsx("div",{className:"props-ms-icon",children:e.jsx("i",{className:"fa-solid fa-horse"})}),e.jsx("div",{children:"HORSES"})]})]}),e.jsxs("div",{className:"props-selection-sidebar",children:[e.jsxs("div",{className:"props-search-area",children:[e.jsx("div",{className:"props-search-header-row",children:e.jsx("span",{children:"Sports & Games"})}),e.jsx("input",{type:"text",className:"props-search-input",placeholder:"Search teams",value:b,onChange:$=>v($.target.value)}),e.jsx("button",{className:"props-adv-search-btn",onClick:()=>window.dispatchEvent(new CustomEvent("matches:refresh")),children:"Refresh Board"})]}),e.jsxs("div",{className:"props-track-list",children:[e.jsxs("button",{className:`props-group-header sport-btn ${h==="all"?"active":""}`,onClick:()=>f("all"),children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-trophy"})," All Sports"]}),e.jsx("span",{className:"props-chip",children:G.length})]}),q.map($=>e.jsxs("button",{className:`props-group-header sport-btn ${h===$.id?"active":""}`,onClick:()=>f($.id),children:[e.jsx("span",{children:$.label}),e.jsx("span",{className:"props-chip",children:$.count})]},$.id))]}),e.jsx("div",{className:"props-search-area",children:e.jsxs("div",{className:"props-search-header-row",children:[e.jsx("span",{children:"Next Games"}),e.jsx("span",{children:G.length})]})}),e.jsx("div",{className:"props-track-list",children:G.map($=>{const D=wn($),J=D===wn(B);return e.jsxs("button",{className:`props-track-item ${J?"active":""}`,onClick:()=>p(D),children:[e.jsx("span",{children:$.homeTeam||$.home_team}),e.jsx("span",{children:$.awayTeam||$.away_team}),e.jsx("div",{className:"props-track-time-badges",children:e.jsx("span",{className:"props-time-badge",children:Uv($.startTime)})})]},D)})})]}),e.jsxs("div",{className:"props-main",children:[e.jsxs("div",{className:"props-main-header top",children:[e.jsx("div",{className:"props-main-title",children:"Props Builder"}),e.jsxs("div",{className:"props-main-actions",children:[e.jsx("button",{className:`props-top-btn ${o==="builder"?"active":""}`,onClick:()=>d("builder"),children:"Build Mode"}),e.jsx("button",{className:`props-top-btn ${o==="my_bets"?"active":""}`,onClick:()=>d("my_bets"),children:"My Bets"}),e.jsx("button",{className:`props-top-btn ${o==="help"?"active":""}`,onClick:()=>d("help"),children:"Help"})]})]}),e.jsxs("div",{className:"props-main-header secondary",children:[e.jsx("div",{className:"props-match-title",children:B?`${B.homeTeam||B.home_team} @ ${B.awayTeam||B.away_team}`:"No game selected"}),e.jsx("div",{className:"props-market-tabs",children:[{id:"popular",label:"Popular"},{id:"moneyline",label:"Moneyline"},{id:"spread",label:"Spread"},{id:"total",label:"Total"},{id:"all",label:"All Markets"}].map($=>e.jsx("button",{className:`props-market-tab ${x===$.id?"active":""}`,onClick:()=>g($.id),children:$.label},$.id))})]}),e.jsxs("div",{className:"props-race-grid",children:[o==="help"&&e.jsxs("div",{className:"props-help-card",children:[e.jsx("h3",{children:"How to use Props Builder"}),e.jsx("p",{children:"1. Select a sport and game from the left board."}),e.jsx("p",{children:"2. Choose a market tab, then click any odds button."}),e.jsx("p",{children:"3. Selection is sent to your live bet slip immediately."}),e.jsx("p",{children:"4. Use mode tabs (Straight/Parlay/Teaser/If Bet/Reverse) at top to control bet rules."})]}),o==="my_bets"&&e.jsxs("div",{className:"props-help-card",children:[e.jsx("h3",{children:"Recent Bets"}),F&&e.jsx("p",{children:"Loading bets..."}),!F&&E&&e.jsx("p",{children:E}),!F&&!E&&_.length===0&&e.jsx("p",{children:"No bets found."}),!F&&!E&&_.slice(0,10).map($=>e.jsxs("div",{className:"props-bet-row",children:[e.jsx("span",{children:String($.type||"bet").toUpperCase()}),e.jsxs("span",{children:["$",Number($.amount||0).toFixed(2)]}),e.jsx("span",{className:`status ${String($.status||"pending").toLowerCase()}`,children:$.status||"pending"})]},$.id||$._id))]}),o==="builder"&&e.jsxs(e.Fragment,{children:[!B&&e.jsxs("div",{className:"props-help-card",children:[e.jsx("h3",{children:"No games available"}),e.jsx("p",{children:"Try another sport or refresh the board."})]}),B&&ee.length===0&&e.jsxs("div",{className:"props-help-card",children:[e.jsx("h3",{children:"No markets for this game"}),e.jsx("p",{children:"Pick another game or switch market tab."})]}),B&&ee.map($=>{const D=!!j[$.key];return e.jsxs("div",{className:"props-market-card",children:[e.jsxs("button",{className:"props-market-header",onClick:()=>I($.key),children:[e.jsx("span",{children:$.title}),e.jsx("i",{className:`fa-solid ${D?"fa-chevron-down":"fa-chevron-up"}`})]}),!D&&e.jsxs("div",{className:"props-market-outcomes",children:[$.outcomes.length===0&&e.jsx("div",{className:"props-empty-outcomes",children:"No odds currently available."}),$.outcomes.map((J,H)=>{const W=J.point!=null?` (${J.point})`:"",ie=`${J.name||`Selection ${H+1}`}${W}`,je=`${wn(B)}-${$.key}-${J.name||H}`,te=N===je;return e.jsxs("button",{className:`props-odds-btn ${te?"selected":""}`,onClick:()=>S($,J),disabled:J.price==null,children:[e.jsx("span",{children:ie}),e.jsx("strong",{children:J.price!=null?Number(J.price).toFixed(2):"-"})]},`${$.key}-${J.name||H}`)})]})]},$.key)})]})]})]})]})},Rv=l=>{const r={h2h:"Game Winner",spreads:"Spread",totals:"Total"};return r[l]?r[l]:l.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase())},Ov=(l="unknown")=>l.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),wn=l=>l?.id||l?._id||l?.externalId||`${l?.homeTeam||l?.home_team}-${l?.awayTeam||l?.away_team}`,Uv=l=>{if(!l)return"Live";const r=new Date(l);return Number.isNaN(r.getTime())?"Live":r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},zv=()=>{const[l,r]=u.useState(null),o=["GENERAL","FOOTBALL","BASKETBALL","BASEBALL","HOCKEY","SOCCER","GOLF","BOXING/MMA","AUTO RACING","OTHER","SEASON WINS","INTERNET","LIVE BETTING","HORSES"],d=h=>{r(l===h?null:h)};return e.jsx("div",{style:{background:"white",width:"100%",height:"100%",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},children:e.jsx("div",{style:{width:"100%",margin:"0"},children:o.map(h=>e.jsxs("div",{style:{borderBottom:"1px solid #eee"},children:[e.jsx("div",{onClick:()=>d(h),style:{padding:"15px 20px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",background:"white",transition:"background 0.2s"},onMouseEnter:f=>f.currentTarget.style.background="#f9f9f9",onMouseLeave:f=>f.currentTarget.style.background="white",children:e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#333",textDecoration:"underline",textDecorationColor:"#333"},children:h})}),l===h&&e.jsxs("div",{style:{padding:"20px",background:"#fcfcfc",borderTop:"1px solid #eee",color:"#555",fontSize:"14px",lineHeight:"1.6"},children:[e.jsxs("p",{children:["Rules and regulations for ",h,"."]}),e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),e.jsx("p",{children:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]},h))})})},Iv=[{id:"deposits",label:"Deposits",icon:"fa-solid fa-arrow-down"},{id:"withdrawals",label:"Withdrawals",icon:"fa-solid fa-arrow-up"},{id:"loyalty",label:"Loyalty",icon:"fa-regular fa-star"},{id:"requests",label:"Requests",icon:"fa-regular fa-file-lines"}],_r=[{id:"mastercard_visa",label:"Mastercard / Visa",eta:"Instant",fee:"Low fee",icon:"fa-brands fa-cc-visa"},{id:"apple_pay",label:"Apple Pay",eta:"Instant",fee:"No extra fee",icon:"fa-brands fa-apple"},{id:"bitcoin",label:"Bitcoin",eta:"10-30 min",fee:"Network fee",icon:"fa-brands fa-bitcoin"},{id:"ethereum",label:"Ethereum",eta:"5-20 min",fee:"Network fee",icon:"fa-brands fa-ethereum"},{id:"bank_transfer",label:"Bank Transfer",eta:"1-3 days",fee:"No fee",icon:"fa-solid fa-building-columns"}],Rr=[{id:"bank_transfer",label:"Bank Transfer",eta:"1-3 days",icon:"fa-solid fa-building-columns"},{id:"crypto",label:"Crypto Wallet",eta:"15-60 min",icon:"fa-solid fa-wallet"},{id:"card_refund",label:"Card Refund",eta:"1-5 days",icon:"fa-brands fa-cc-visa"}],Fv=[25,50,100,250,500,1e3],Zs=l=>`$${Number(l||0).toFixed(2)}`,Pv=()=>{const l=localStorage.getItem("token"),[r,o]=u.useState("deposits"),[d,h]=u.useState({balance:0,pendingBalance:0,availableBalance:0}),[f,b]=u.useState([]),[v,x]=u.useState(!0),[g,y]=u.useState(!1),[p,j]=u.useState(""),[C,N]=u.useState(""),[M,_]=u.useState(_r[0].id),[k,F]=u.useState(""),[L,E]=u.useState(Rr[0].id),[w,A]=u.useState(""),q=async()=>{if(!l){x(!1),j("Please login to access wallet.");return}try{x(!0),j("");const[D,J]=await Promise.all([$y(l),Qy(l,{limit:100})]);h({balance:Number(D?.balance||0),pendingBalance:Number(D?.pendingBalance||0),availableBalance:Number(D?.availableBalance||0)}),b(Array.isArray(J?.transactions)?J.transactions:[])}catch(D){j(D.message||"Failed to load wallet data")}finally{x(!1)}};u.useEffect(()=>{q()},[]);const G=u.useMemo(()=>_r.find(D=>D.id===M)||_r[0],[M]),B=u.useMemo(()=>Rr.find(D=>D.id===L)||Rr[0],[L]),ee=u.useMemo(()=>{const D=f.filter(te=>te.type==="deposit"&&te.status==="completed").reduce((te,O)=>te+Number(O.amount||0),0),J=f.filter(te=>te.type==="withdrawal"&&te.status==="completed").reduce((te,O)=>te+Number(O.amount||0),0),H=f.filter(te=>te.type==="bet_placed").reduce((te,O)=>te+Number(O.amount||0),0),W=Math.floor((D+H)/10),ie=4e3,je=Math.min(100,Math.round(W/ie*100));return{completedDeposits:D,completedWithdrawals:J,settledBets:H,loyaltyPoints:W,loyaltyTarget:ie,loyaltyPct:je}},[f]),I=u.useMemo(()=>[...f].filter(D=>D.type==="deposit"||D.type==="withdrawal").sort((D,J)=>new Date(J.createdAt)-new Date(D.createdAt)),[f]),S=async()=>{const D=Number(k);if(Number.isNaN(D)||D<10){j("Deposit must be at least $10");return}try{y(!0),j("");const J=await Yy(D,M,l);N(J.message||"Deposit request submitted"),F(""),await q()}catch(J){j(J.message||"Failed to submit deposit request")}finally{y(!1)}},$=async()=>{const D=Number(w);if(Number.isNaN(D)||D<20){j("Withdrawal must be at least $20");return}if(D>d.availableBalance){j("Withdrawal exceeds available balance");return}try{y(!0),j("");const J=await Vy(D,L,l);N(J.message||"Withdrawal request submitted"),A(""),await q()}catch(J){j(J.message||"Failed to submit withdrawal request")}finally{y(!1)}};return e.jsx("div",{className:"bonus-view-container",children:e.jsxs("div",{className:"bonus-shell",children:[e.jsxs("aside",{className:"bonus-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("span",{className:"brand-chip",children:"Wallet"}),e.jsx("h2",{children:"Cashier Center"}),e.jsx("p",{children:"Professional cashier flow with secure approval and tracking."})]}),e.jsxs("div",{className:"sidebar-wallet-cards",children:[e.jsxs("div",{className:"wallet-card",children:[e.jsx("span",{children:"Balance"}),e.jsx("strong",{children:Zs(d.balance)})]}),e.jsxs("div",{className:"wallet-card",children:[e.jsx("span",{children:"Available"}),e.jsx("strong",{children:Zs(d.availableBalance)})]}),e.jsxs("div",{className:"wallet-card",children:[e.jsx("span",{children:"Pending"}),e.jsx("strong",{children:Zs(d.pendingBalance)})]})]}),e.jsx("div",{className:"sidebar-nav",children:Iv.map(D=>e.jsxs("button",{className:`sidebar-item ${r===D.id?"active":""}`,type:"button",onClick:()=>o(D.id),children:[e.jsx("i",{className:D.icon}),e.jsx("span",{children:D.label})]},D.id))})]}),e.jsxs("section",{className:"bonus-main",children:[e.jsxs("div",{className:"bonus-main-top",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Wallet & Bonus Operations"}),e.jsx("p",{children:"All actions are DB-backed and approval-aware for sportsbook workflows."})]}),e.jsxs("button",{className:"secondary-btn",onClick:q,type:"button",children:[e.jsx("i",{className:"fa-solid fa-rotate-right"})," Refresh"]})]}),C&&e.jsx("div",{className:"bonus-banner success",children:C}),p&&e.jsx("div",{className:"bonus-banner error",children:p}),v&&e.jsx("div",{className:"bonus-loading",children:"Loading wallet data..."}),!v&&r==="deposits"&&e.jsxs("div",{className:"bonus-content-grid",children:[e.jsxs("div",{className:"bonus-card",children:[e.jsx("h3",{children:"Deposit Methods"}),e.jsx("div",{className:"method-grid",children:_r.map(D=>e.jsxs("button",{type:"button",className:`method-card ${M===D.id?"selected":""}`,onClick:()=>_(D.id),children:[e.jsxs("div",{className:"method-head",children:[e.jsx("i",{className:D.icon}),e.jsx("strong",{children:D.label})]}),e.jsxs("div",{className:"method-meta",children:[e.jsx("span",{children:D.eta}),e.jsx("span",{children:D.fee})]})]},D.id))})]}),e.jsxs("div",{className:"bonus-card summary",children:[e.jsx("h3",{children:"Submit Deposit Request"}),e.jsx("div",{className:"input-label",children:"Method"}),e.jsx("div",{className:"pill",children:G.label}),e.jsx("div",{className:"input-label",children:"Amount"}),e.jsxs("div",{className:"amount-row",children:[e.jsx("span",{children:"$"}),e.jsx("input",{type:"number",min:"10",value:k,onChange:D=>F(D.target.value),placeholder:"Enter amount"})]}),e.jsx("div",{className:"chips",children:Fv.map(D=>e.jsxs("button",{className:`chip ${Number(k)===D?"active":""}`,onClick:()=>F(String(D)),type:"button",children:["$",D]},D))}),e.jsx("button",{className:"primary-btn",disabled:g,onClick:S,type:"button",children:g?"Submitting...":"Request Deposit"})]})]}),!v&&r==="withdrawals"&&e.jsxs("div",{className:"bonus-content-grid",children:[e.jsxs("div",{className:"bonus-card",children:[e.jsx("h3",{children:"Withdrawal Methods"}),e.jsx("div",{className:"method-grid",children:Rr.map(D=>e.jsxs("button",{type:"button",className:`method-card ${L===D.id?"selected":""}`,onClick:()=>E(D.id),children:[e.jsxs("div",{className:"method-head",children:[e.jsx("i",{className:D.icon}),e.jsx("strong",{children:D.label})]}),e.jsxs("div",{className:"method-meta",children:[e.jsx("span",{children:D.eta}),e.jsx("span",{children:"Approval required"})]})]},D.id))})]}),e.jsxs("div",{className:"bonus-card summary",children:[e.jsx("h3",{children:"Submit Withdrawal Request"}),e.jsx("div",{className:"input-label",children:"Available Balance"}),e.jsx("div",{className:"pill",children:Zs(d.availableBalance)}),e.jsx("div",{className:"input-label",children:"Method"}),e.jsx("div",{className:"pill",children:B.label}),e.jsx("div",{className:"input-label",children:"Amount"}),e.jsxs("div",{className:"amount-row",children:[e.jsx("span",{children:"$"}),e.jsx("input",{type:"number",min:"20",value:w,onChange:D=>A(D.target.value),placeholder:"Enter amount"})]}),e.jsx("button",{className:"primary-btn",disabled:g,onClick:$,type:"button",children:g?"Submitting...":"Request Withdrawal"})]})]}),!v&&r==="loyalty"&&e.jsxs("div",{className:"bonus-content-grid",children:[e.jsxs("div",{className:"bonus-card",children:[e.jsx("h3",{children:"Loyalty Progress"}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Current Points"}),e.jsx("strong",{children:ee.loyaltyPoints})]}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{style:{width:`${ee.loyaltyPct}%`}})}),e.jsxs("div",{className:"metric-row muted",children:[e.jsxs("span",{children:[ee.loyaltyPoints," / ",ee.loyaltyTarget]}),e.jsxs("span",{children:[ee.loyaltyPct,"%"]})]})]}),e.jsxs("div",{className:"bonus-card",children:[e.jsx("h3",{children:"Wallet Performance"}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Completed Deposits"}),e.jsx("strong",{children:Zs(ee.completedDeposits)})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Completed Withdrawals"}),e.jsx("strong",{children:Zs(ee.completedWithdrawals)})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Settled Bet Volume"}),e.jsx("strong",{children:Zs(ee.settledBets)})]})]})]}),!v&&r==="requests"&&e.jsxs("div",{className:"bonus-card full",children:[e.jsx("h3",{children:"Deposit/Withdrawal Requests"}),e.jsxs("div",{className:"request-table",children:[e.jsxs("div",{className:"request-head",children:[e.jsx("span",{children:"Type"}),e.jsx("span",{children:"Amount"}),e.jsx("span",{children:"Status"}),e.jsx("span",{children:"Date"}),e.jsx("span",{children:"Description"})]}),I.length===0&&e.jsx("div",{className:"request-empty",children:"No requests found."}),I.map(D=>e.jsxs("div",{className:"request-row",children:[e.jsx("span",{className:"caps",children:D.type}),e.jsx("span",{children:Zs(D.amount)}),e.jsx("span",{className:`status ${D.status}`,children:D.status}),e.jsx("span",{children:new Date(D.createdAt).toLocaleString()}),e.jsx("span",{children:D.description||"-"})]},D.id))]})]})]})]})})},$v=({onClose:l,onViewChange:r})=>{const o=[{id:"sports",label:"Sports",icon:"fa-solid fa-shield-halved"},{id:"prime-live",label:"Prime Live",icon:"fa-solid fa-tv"},{id:"ultra-live",label:"Ultra Live",icon:"fa-solid fa-display"},{id:"casino",label:"Casino",icon:"fa-solid fa-dice"},{id:"live-casino",label:"Live Casino",icon:"fa-solid fa-circle-dot"},{id:"prop-builder",label:"Prop Builder",icon:"fa-solid fa-arrow-down-1-9"},{id:"world-365",label:"World 365",icon:"fa-solid fa-futbol"},{id:"horses",label:"Horses",icon:"fa-solid fa-horse-head"},{id:"parlay-boosts",label:"Parlay Boosts",icon:"fa-solid fa-bolt-lightning"},{id:"rules",label:"Rules",icon:"fa-solid fa-whistle"},{id:"tutorials",label:"Tutorials",icon:"fa-solid fa-book-open"},{id:"support",label:"Support",icon:"fa-solid fa-headset"}],d=h=>{h==="sports"?r("dashboard"):h==="live-casino"?r("live-casino"):h==="tutorials"||r(h),l()};return e.jsx("div",{className:"mobile-grid-menu-overlay",children:e.jsx("div",{className:"mobile-grid-container",children:o.map(h=>e.jsxs("div",{className:"grid-menu-item",onClick:()=>d(h.id),children:[e.jsx("div",{className:"grid-icon",children:e.jsx("i",{className:h.icon})}),e.jsx("span",{className:"grid-label",children:h.label})]},h.id))})})},Hv=({selectedSports:l=[]})=>{const r=g=>({nfl:"NFL Football","ncaa-football":"College Football",nba:"NBA Basketball","ncaa-basketball":"College Basketball",mlb:"MLB Baseball",nhl:"NHL Hockey",epl:"EPL Soccer",mls:"MLS Soccer",pga:"PGA Golf",wta:"WTA Tennis",atp:"ATP Tennis",boxing:"Boxing",mma:"MMA","auto-racing":"Auto Racing",rugby:"Rugby",volleyball:"Volleyball",cricket:"Cricket",basketball:"Basketball",baseball:"Baseball",hockey:"Hockey",football:"Football",soccer:"Soccer",golf:"Golf",tennis:"Tennis","martial-arts":"Martial Arts"})[g]||g.replace("-"," ").toUpperCase(),o=l&&l.length>0?l[0]:null,h=pi({status:o==="commercial-live"?"live":o==="up-next"?"upcoming":"live-upcoming"}),f=o?r(o):"Selected Sport",b=g=>{if(!g)return[];const y=g.toString().toLowerCase();return{nfl:["nfl","americanfootball_nfl","national football","american football"],"ncaa-football":["ncaaf","ncaa football","college football"],nba:["nba","basketball_nba","national basketball"],"ncaa-basketball":["ncaab","ncaa basketball","college basketball"],mlb:["mlb","baseball_mlb","major league baseball"],nhl:["nhl","icehockey_nhl","hockey_nhl"],epl:["epl","premier league","english premier league"],soccer:["soccer","football","premier league","la liga","serie a","bundesliga","ligue 1","mls"],basketball:["basketball","nba","ncaab","euroleague"],baseball:["baseball","mlb"],hockey:["hockey","nhl","icehockey"],golf:["golf","pga"],tennis:["tennis","atp","wta"],boxing:["boxing"],mma:["mma","ufc"],rugby:["rugby"],"auto-racing":["racing","motorsport","nascar","formula"],"martial-arts":["mma","ufc","martial"]}[y]||[y]},v=(g,y,p)=>{if(!g||!g.odds)return{spreadHomePoint:null,spreadAwayPoint:null,spreadHomePrice:null,spreadAwayPrice:null,moneylineHome:null,moneylineAway:null,totalPoint:null,totalOverPrice:null,totalUnderPrice:null};const j=Array.isArray(g.odds.markets)?g.odds.markets:[],C=G=>j.find(B=>String(B.key||"").toLowerCase()===G),N=(G,B)=>{if(!G||!Array.isArray(G.outcomes))return null;const ee=G.outcomes.find(I=>String(I.name||"").toLowerCase()===String(B||"").toLowerCase());return ee||G.outcomes.find(I=>String(I.name||"").toLowerCase().includes(String(B||"").toLowerCase()))||null},M=C("h2h"),_=C("spreads"),k=C("totals"),F=N(M,y),L=N(M,p),E=N(_,y),w=N(_,p),A=k?.outcomes?.find(G=>String(G.name||"").toLowerCase().includes("over"))||null,q=k?.outcomes?.find(G=>String(G.name||"").toLowerCase().includes("under"))||null;return{spreadHomePoint:E?.point??null,spreadAwayPoint:w?.point??null,spreadHomePrice:E?.price??null,spreadAwayPrice:w?.price??null,moneylineHome:F?.price??null,moneylineAway:L?.price??null,totalPoint:A?.point??q?.point??null,totalOverPrice:A?.price??null,totalUnderPrice:q?.price??null}},x=js.useMemo(()=>{const g=(h||[]).map(j=>{const C=j.homeTeam||j.home_team||"",N=j.awayTeam||j.away_team||"",M=v(j,C,N),_=(j.score?.event_status||"").toString().toUpperCase(),k=j.status==="live"||_.includes("IN_PROGRESS")||_.includes("LIVE")||_.includes("STATUS_IN_PROGRESS");return{id:j.id||j._id||j.externalId,sport:j.sport||j.sportTitle||"",team1:C,team2:N,odds:M,isLive:k}});if(!o)return g;const y=b(o),p=g.filter(j=>j.sport&&y.some(C=>j.sport.toLowerCase().includes(C)));return p.length>0?p:g},[h,o]);return e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"#f5f5f5",padding:"0",overflowY:"auto",WebkitOverflowScrolling:"touch"},children:[e.jsxs("div",{style:{padding:"15px 10px",backgroundColor:"#ffffff",borderBottom:"2px solid #e0e0e0",marginBottom:"10px",borderRadius:"4px"},children:[e.jsx("h2",{style:{margin:"0 0 5px 0",fontSize:"18px",fontWeight:"bold",color:"#333"},children:f}),e.jsx("p",{style:{margin:"0",fontSize:"12px",color:"#666",fontWeight:"500"},children:"Upcoming Matches & Events"})]}),e.jsx("div",{style:{flex:1},children:x&&x.length>0?x.map(g=>e.jsxs("div",{style:{backgroundColor:"#ffffff",padding:"12px",marginBottom:"10px",borderRadius:"6px",border:"1px solid #e0e0e0",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("div",{style:{fontSize:"12px",color:"#888",fontWeight:"600"},children:["MATCH ",g.id]}),e.jsx("div",{style:{background:g.isLive?"#007bff":"#6c757d",color:"white",padding:"3px 8px",borderRadius:"3px",fontSize:"11px",fontWeight:"bold"},children:g.isLive?"LIVE":"UPCOMING"})]}),e.jsxs("div",{style:{marginBottom:"10px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #f0f0f0",fontSize:"13px",fontWeight:"600",color:"#333"},children:[e.jsx("span",{children:g.team1}),e.jsx("span",{children:g.odds.spreadHomePoint??"-"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",fontSize:"13px",fontWeight:"600",color:"#333"},children:[e.jsx("span",{children:g.team2}),e.jsx("span",{children:g.odds.spreadAwayPoint??"-"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginTop:"10px"},children:[e.jsxs("button",{style:{padding:"10px",backgroundColor:"#f0f0f0",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",color:"#333",transition:"all 0.2s"},children:["Spread",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#007bff"},children:g.odds.spreadHomePrice??"-"})]}),e.jsxs("button",{style:{padding:"10px",backgroundColor:"#f0f0f0",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",color:"#333",transition:"all 0.2s"},children:["Total",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#007bff"},children:g.odds.totalOverPrice??"-"})]})]})]},g.id)):e.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:e.jsx("p",{style:{fontSize:"14px",margin:0},children:"No matches available"})})})]})},qv=()=>e.jsxs("div",{className:"promo-card-container",children:[e.jsx("div",{className:"promo-team-header",children:e.jsx("span",{className:"team-text",children:"HOU @ PIT"})}),e.jsxs("div",{className:"promo-main-body",children:[e.jsxs("div",{className:"promo-title-row",children:[e.jsxs("div",{className:"promo-title-group",children:[e.jsx("span",{className:"promo-title",children:"Carry The Night"}),e.jsx("span",{className:"promo-fire-icon",children:" 2"})]}),e.jsxs("div",{className:"promo-badges",children:[e.jsx("span",{className:"badge badge-wa",children:"WA"}),e.jsx("span",{className:"badge badge-sgp",children:"SGP"})]})]}),e.jsx("div",{className:"promo-time",children:"Tomorrow 6:15 AM"}),e.jsxs("div",{className:"promo-props-list",children:[e.jsxs("div",{className:"promo-prop-item",children:[e.jsx("div",{className:"player-photo",children:e.jsx("img",{src:"https://via.placeholder.com/40",alt:"Jaylen Warren"})}),e.jsxs("div",{className:"prop-details",children:[e.jsxs("div",{className:"player-name",children:["Jaylen Warren ",e.jsx("span",{className:"team-tag",children:"(HOU @ PIT)"})]}),e.jsx("div",{className:"prop-value",children:"52 Over - Total Rushing Yards"})]})]}),e.jsxs("div",{className:"promo-prop-item",children:[e.jsx("div",{className:"player-photo",children:e.jsx("img",{src:"https://via.placeholder.com/40",alt:"Woody Marks"})}),e.jsxs("div",{className:"prop-details",children:[e.jsxs("div",{className:"player-name",children:["Woody Marks ",e.jsx("span",{className:"team-tag",children:"(HOU @ PIT)"})]}),e.jsx("div",{className:"prop-value",children:"55 Over - Total Rushing Yards"})]})]}),e.jsxs("div",{className:"promo-prop-item",children:[e.jsx("div",{className:"player-photo",children:e.jsx("img",{src:"https://via.placeholder.com/40",alt:"Kenneth Gainwell"})}),e.jsxs("div",{className:"prop-details",children:[e.jsxs("div",{className:"player-name",children:["Kenneth Gainwell ",e.jsx("span",{className:"team-tag",children:"(HOU @ PIT)"})]}),e.jsx("div",{className:"prop-value",children:"28 Over - Total Rushing Yards"})]})]})]}),e.jsx("div",{className:"more-selections",children:"+ 1 more selection"}),e.jsxs("div",{className:"promo-footer",children:[e.jsxs("div",{className:"odds-group",children:[e.jsx("span",{className:"old-odds",children:"+1176"}),e.jsx("span",{className:"odds-arrow",children:""}),e.jsx("span",{className:"new-odds",children:"+1234"})]}),e.jsx("button",{className:"promo-bet-btn",children:"Bet Now"})]})]}),e.jsxs("div",{className:"promo-pagination",children:[e.jsx("span",{className:"dot active"}),e.jsx("span",{className:"dot"}),e.jsx("span",{className:"dot"}),e.jsx("span",{className:"dot"}),e.jsx("span",{className:"dot"})]})]}),Gv=(l="")=>{const r=l.toLowerCase();return r.includes("beginner")||r.includes("fundamentals")?"Beginner":r.includes("parlay")||r.includes("live")?"Advanced":r.includes("responsible")||r.includes("bankroll")?"Important":r.includes("moneyline")||r.includes("spread")||r.includes("totals")?"Basics":"Guide"},Wv=(l="")=>{const r=l.toLowerCase();return r.includes("moneyline")||r.includes("bankroll")?"fa-solid fa-money-bill-wave":r.includes("spread")||r.includes("totals")?"fa-solid fa-chart-line":r.includes("live")?"fa-solid fa-bolt":r.includes("parlay")?"fa-solid fa-layer-group":r.includes("responsible")?"fa-solid fa-shield-heart":"fa-solid fa-book-open"},Yv=()=>{const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(""),[b,v]=u.useState(""),[x,g]=u.useState("all"),[y,p]=u.useState(null),j=async()=>{const _=localStorage.getItem("token");if(!_){f("Please login to view tutorials."),d(!1);return}try{d(!0),f("");const k=await rj(_);r(Array.isArray(k?.tutorials)?k.tutorials:[])}catch(k){f(k.message||"Failed to fetch tutorials")}finally{d(!1)}};u.useEffect(()=>{j()},[]);const C=u.useMemo(()=>l.map(_=>({id:_._id||_.id,title:_.title,desc:_.content,content:_.content,tag:Gv(_.title),icon:Wv(_.title),order:_.order||0})),[l]),N=u.useMemo(()=>{const _=new Set(["all"]);return C.forEach(k=>_.add(k.tag.toLowerCase())),Array.from(_)},[C]),M=u.useMemo(()=>{const _=b.trim().toLowerCase();return C.filter(k=>x!=="all"&&k.tag.toLowerCase()!==x?!1:_?k.title.toLowerCase().includes(_)||k.desc.toLowerCase().includes(_):!0).sort((k,F)=>k.order-F.order)},[C,b,x]);return e.jsxs("div",{className:"tutorials-container",children:[e.jsxs("div",{className:"tutorials-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Betting Tutorials & Guides"}),e.jsx("p",{children:"Professional learning hub for sportsbook users: markets, strategy, risk, and execution."})]}),e.jsxs("button",{className:"tutorial-refresh",onClick:j,type:"button",children:[e.jsx("i",{className:"fa-solid fa-rotate-right"})," Refresh"]})]}),e.jsxs("div",{className:"tutorials-toolbar",children:[e.jsx("input",{type:"text",placeholder:"Search tutorials",value:b,onChange:_=>v(_.target.value),className:"tutorial-search"}),e.jsx("div",{className:"tutorial-tags-filter",children:N.map(_=>e.jsx("button",{type:"button",className:`tag-chip ${x===_?"active":""}`,onClick:()=>g(_),children:_==="all"?"All":_},_))})]}),o&&e.jsx("div",{className:"tutorial-state",children:"Loading tutorials..."}),!o&&h&&e.jsx("div",{className:"tutorial-state error",children:h}),!o&&!h&&M.length===0&&e.jsx("div",{className:"tutorial-state",children:"No tutorials found."}),!o&&!h&&M.length>0&&e.jsx("div",{className:"tutorials-grid",children:M.map(_=>e.jsxs("article",{className:"tutorial-card",children:[e.jsx("div",{className:"tutorial-img-placeholder",children:e.jsx("i",{className:_.icon})}),e.jsxs("div",{className:"tutorial-content",children:[e.jsx("div",{className:"tutorial-tags",children:e.jsx("span",{className:"tag",children:_.tag})}),e.jsx("h3",{children:_.title}),e.jsx("p",{children:_.desc}),e.jsxs("button",{className:"read-btn",type:"button",onClick:()=>p(_),children:["Read Article ",e.jsx("i",{className:"fa-solid fa-arrow-right"})]})]})]},_.id))}),y&&e.jsx("div",{className:"tutorial-modal-overlay",onClick:()=>p(null),children:e.jsxs("div",{className:"tutorial-modal",onClick:_=>_.stopPropagation(),children:[e.jsxs("div",{className:"tutorial-modal-head",children:[e.jsx("h3",{children:y.title}),e.jsx("button",{onClick:()=>p(null),type:"button",children:e.jsx("i",{className:"fa-solid fa-xmark"})})]}),e.jsx("div",{className:"tutorial-modal-body",children:y.content})]})})]})},Or=l=>l.status==="closed"?"Closed":Array.isArray(l.replies)&&l.replies.length>0?"Answered":"Open",Vv=()=>{const[l,r]=u.useState([]),[o,d]=u.useState([]),[h,f]=u.useState(""),[b,v]=u.useState(""),[x,g]=u.useState(""),[y,p]=u.useState(!0),[j,C]=u.useState(!1),[N,M]=u.useState(""),[_,k]=u.useState(null),F=async()=>{const A=localStorage.getItem("token");if(!A){M("Please login to contact support."),p(!1);return}try{p(!0),M("");const[q,G]=await Promise.all([kp(A),oj(A)]),B=Array.isArray(q)?q:[];r(B),d(Array.isArray(G?.faqs)?G.faqs:[]),B.length>0&&k(ee=>ee||B[0]._id||B[0].id)}catch(q){M(q.message||"Failed to load support data")}finally{p(!1)}};u.useEffect(()=>{F()},[]);const L=u.useMemo(()=>l.find(A=>(A._id||A.id)===_)||l[0]||null,[l,_]),E=u.useMemo(()=>{const A=x.trim().toLowerCase();return A?o.filter(q=>String(q.question||"").toLowerCase().includes(A)||String(q.answer||"").toLowerCase().includes(A)):o},[o,x]),w=async A=>{A.preventDefault();const q=localStorage.getItem("token");if(!q){M("Please login to contact support.");return}if(!b.trim()){M("Message is required.");return}try{C(!0);const G=h.trim()||b.trim().split(" ").slice(0,6).join(" "),B=await Cp(G,b.trim(),q);r(ee=>[B,...ee]),k(B._id||B.id),f(""),v(""),M("")}catch(G){M(G.message||"Failed to send message")}finally{C(!1)}};return e.jsxs("div",{className:"support-container",children:[e.jsxs("div",{className:"support-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Support Center"}),e.jsx("p",{children:"Contact operations team, track responses, and browse sportsbook FAQs."})]}),e.jsxs("button",{type:"button",className:"support-refresh",onClick:F,children:[e.jsx("i",{className:"fa-solid fa-rotate-right"})," Refresh"]})]}),N&&e.jsx("div",{className:"support-error",children:N}),e.jsxs("div",{className:"support-layout",children:[e.jsxs("section",{className:"support-left",children:[e.jsxs("div",{className:"support-card",children:[e.jsx("h2",{children:"Create Ticket"}),e.jsxs("form",{onSubmit:w,className:"support-form",children:[e.jsxs("label",{children:["Subject (optional)",e.jsx("input",{type:"text",value:h,onChange:A=>f(A.target.value),placeholder:"Bet settlement, payout delay, limit issue..."})]}),e.jsxs("label",{children:["Message",e.jsx("textarea",{rows:6,value:b,onChange:A=>v(A.target.value),placeholder:"Describe issue with relevant bet IDs, timestamps, and details."})]}),e.jsx("button",{type:"submit",className:"primary-btn",disabled:j,children:j?"Sending...":"Submit Ticket"})]})]}),e.jsxs("div",{className:"support-card",children:[e.jsxs("div",{className:"thread-list-head",children:[e.jsx("h2",{children:"Your Tickets"}),e.jsx("span",{children:l.length})]}),y&&e.jsx("div",{className:"support-empty",children:"Loading messages..."}),!y&&l.length===0&&e.jsx("div",{className:"support-empty",children:"No support tickets yet."}),!y&&l.length>0&&e.jsx("div",{className:"thread-list",children:l.map(A=>{const q=A._id||A.id;return e.jsxs("button",{type:"button",className:`thread-item ${q===(L?._id||L?.id)?"active":""}`,onClick:()=>k(q),children:[e.jsxs("div",{children:[e.jsx("strong",{children:A.subject}),e.jsx("p",{children:new Date(A.createdAt).toLocaleString()})]}),e.jsx("span",{className:`status ${Or(A).toLowerCase()}`,children:Or(A)})]},q)})})]})]}),e.jsx("section",{className:"support-middle",children:e.jsxs("div",{className:"support-card thread-view",children:[e.jsx("h2",{children:"Ticket Thread"}),!L&&e.jsx("div",{className:"support-empty",children:"Select a ticket to view thread."}),L&&e.jsxs("div",{className:"thread-content",children:[e.jsxs("div",{className:"thread-main-message",children:[e.jsxs("div",{className:"thread-meta",children:[e.jsx("span",{children:new Date(L.createdAt).toLocaleString()}),e.jsx("span",{className:`status ${Or(L).toLowerCase()}`,children:Or(L)})]}),e.jsx("h3",{children:L.subject}),e.jsx("p",{children:L.body})]}),e.jsxs("div",{className:"thread-replies",children:[(L.replies||[]).length===0&&e.jsx("div",{className:"support-empty",children:"No replies yet."}),(L.replies||[]).map((A,q)=>e.jsxs("div",{className:"reply-item",children:[e.jsxs("div",{className:"thread-meta",children:[e.jsx("span",{children:new Date(A.createdAt).toLocaleString()}),e.jsx("span",{children:"Support"})]}),e.jsx("p",{children:A.message})]},`${L._id||L.id}-reply-${q}`))]})]})]})}),e.jsx("section",{className:"support-right",children:e.jsxs("div",{className:"support-card",children:[e.jsx("h2",{children:"FAQ"}),e.jsx("input",{type:"text",className:"faq-search",placeholder:"Search FAQ",value:x,onChange:A=>g(A.target.value)}),E.length===0&&e.jsx("div",{className:"support-empty",children:"No FAQs found."}),e.jsx("div",{className:"faq-list",children:E.map(A=>e.jsxs("details",{className:"faq-item",children:[e.jsx("summary",{children:A.question}),e.jsx("p",{children:A.answer})]},A._id||A.id))})]})})]})]})},Qv=()=>{const[l,r]=u.useState(!1),[o,d]=u.useState([]),[h,f]=u.useState(""),[b,v]=u.useState(!1),[x,g]=u.useState(""),y=u.useRef(null),p=()=>{y.current?.scrollIntoView({behavior:"smooth"})};u.useEffect(()=>{p()},[o]);const j=async()=>{const N=localStorage.getItem("token");if(!N){g("Please login to message support.");return}try{v(!0);const M=await kp(N),_=[];M.forEach(k=>{_.push({id:`${k._id}-user`,text:k.body,sender:"user",createdAt:k.createdAt}),(k.replies||[]).forEach((F,L)=>{_.push({id:`${k._id}-reply-${L}`,text:F.message,sender:"agent",createdAt:F.createdAt})})}),_.sort((k,F)=>new Date(k.createdAt)-new Date(F.createdAt)),d(_),g("")}catch(M){console.error("Failed to load messages:",M),g(M.message||"Failed to load messages")}finally{v(!1)}},C=async N=>{if(N.preventDefault(),!h.trim())return;const M=localStorage.getItem("token");if(!M){g("Please login to message support.");return}const _=h.trim(),k=_.split(" ").slice(0,6).join(" ");try{v(!0);const F=await Cp(k,_,M);d(L=>[...L,{id:`${F._id}-user`,text:F.body,sender:"user",createdAt:F.createdAt}]),f(""),g("")}catch(F){g(F.message||"Failed to send message")}finally{v(!1)}};return u.useEffect(()=>{l&&j()},[l]),e.jsxs("div",{className:"chat-widget-container",style:{position:"fixed",bottom:"30px",right:"30px",zIndex:1e3,fontFamily:"Inter, sans-serif"},children:[l&&e.jsxs("div",{style:{width:"350px",height:"500px",background:"white",borderRadius:"16px",boxShadow:"0 10px 40px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column",overflow:"hidden",marginBottom:"20px",border:"1px solid #e0e0e0",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)"},children:[e.jsxs("div",{style:{background:"#00703c",color:"white",padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{style:{width:"30px",height:"30px",background:"white",borderRadius:"50%",color:"#00703c",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:"fa-solid fa-headset"})}),e.jsx("div",{style:{width:"8px",height:"8px",background:"#00ff00",borderRadius:"50%",position:"absolute",bottom:"0",right:"0",border:"1px solid #00703c"}})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"700",fontSize:"14px"},children:"Support Team"}),e.jsx("div",{style:{fontSize:"10px",opacity:.8},children:"Online"})]})]}),e.jsx("button",{onClick:()=>r(!1),style:{background:"transparent",border:"none",color:"white",cursor:"pointer",fontSize:"16px"},children:e.jsx("i",{className:"fa-solid fa-xmark"})})]}),e.jsxs("div",{style:{flex:1,padding:"20px",overflowY:"auto",background:"#f9f9f9",display:"flex",flexDirection:"column",gap:"15px"},children:[b&&e.jsx("div",{style:{fontSize:"12px",color:"#777"},children:"Loading messages..."}),x&&e.jsx("div",{style:{fontSize:"12px",color:"#b00020"},children:x}),!b&&!x&&o.length===0&&e.jsx("div",{style:{fontSize:"12px",color:"#777"},children:"No messages yet. Start a conversation below."}),o.map(N=>e.jsxs("div",{style:{alignSelf:N.sender==="user"?"flex-end":"flex-start",maxWidth:"80%"},children:[e.jsx("div",{style:{background:N.sender==="user"?"#00703c":"white",color:N.sender==="user"?"white":"#333",padding:"12px 16px",borderRadius:N.sender==="user"?"16px 16px 0 16px":"16px 16px 16px 0",boxShadow:N.sender==="agent"?"0 2px 5px rgba(0,0,0,0.05)":"none",fontSize:"13px",lineHeight:"1.4"},children:N.text}),e.jsx("div",{style:{fontSize:"10px",color:"#aaa",marginTop:"5px",textAlign:N.sender==="user"?"right":"left"},children:N.createdAt?new Date(N.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]},N.id)),e.jsx("div",{ref:y})]}),e.jsxs("form",{onSubmit:C,style:{padding:"15px",background:"white",borderTop:"1px solid #eee",display:"flex",gap:"10px"},children:[e.jsx("input",{type:"text",value:h,onChange:N=>f(N.target.value),placeholder:"Type a message...",style:{flex:1,padding:"10px 15px",borderRadius:"20px",border:"1px solid #ddd",fontSize:"13px",outline:"none"}}),e.jsx("button",{type:"submit",style:{width:"40px",height:"40px",borderRadius:"50%",background:"#00703c",color:"white",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:e.jsx("i",{className:"fa-solid fa-paper-plane"})})]})]}),!l&&e.jsx("button",{onClick:()=>r(!0),style:{width:"60px",height:"60px",borderRadius:"50%",background:"#00703c",color:"white",border:"none",boxShadow:"0 4px 20px rgba(0, 112, 60, 0.4)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",transition:"transform 0.2s",animation:"bounceIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},onMouseEnter:N=>N.target.style.transform="scale(1.1)",onMouseLeave:N=>N.target.style.transform="scale(1)",children:e.jsx("i",{className:"fa-solid fa-comment-dots"})}),e.jsx("style",{children:`
                @keyframes slideUp {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                @keyframes bounceIn {
                    from { opacity: 0; transform: scale(0.5); }
                    to { opacity: 1; transform: scale(1); }
                }
                `})]})},Xv=()=>{const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(null);return u.useEffect(()=>{(async()=>{const v=localStorage.getItem("token");if(!v){f("Please login to view your bets"),d(!1);return}try{const x=await Dd(v);r(x)}catch(x){console.error("Failed to fetch bets:",x),f("Failed to load bets")}finally{d(!1)}})()},[]),o?e.jsx("div",{style:{color:"white",padding:"20px"},children:"Loading history..."}):h?e.jsx("div",{style:{color:"red",padding:"20px"},children:h}):e.jsxs("div",{style:{padding:"20px",color:"white"},children:[e.jsx("h2",{children:"My Bets History"}),l.length===0?e.jsx("p",{children:"No bets placed yet."}):e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#333",textAlign:"left"},children:[e.jsx("th",{style:{padding:"10px"},children:"Date"}),e.jsx("th",{style:{padding:"10px"},children:"Match"}),e.jsx("th",{style:{padding:"10px"},children:"Selection"}),e.jsx("th",{style:{padding:"10px"},children:"Stake"}),e.jsx("th",{style:{padding:"10px"},children:"Odds"}),e.jsx("th",{style:{padding:"10px"},children:"Potential Payout"}),e.jsx("th",{style:{padding:"10px"},children:"Status"})]})}),e.jsx("tbody",{children:l.map(b=>e.jsxs("tr",{style:{borderBottom:"1px solid #444"},children:[e.jsx("td",{style:{padding:"10px"},children:new Date(b.createdAt).toLocaleString()}),e.jsx("td",{style:{padding:"10px"},children:b.matchId?`${b.matchSnapshot?.homeTeam||b.matchId.homeTeam} vs ${b.matchSnapshot?.awayTeam||b.matchId.awayTeam}`:"Unknown Match"}),e.jsx("td",{style:{padding:"10px",color:"#ffd700"},children:b.selection}),e.jsxs("td",{style:{padding:"10px"},children:["$",parseFloat(b.amount).toFixed(2)]}),e.jsx("td",{style:{padding:"10px"},children:parseFloat(b.odds).toFixed(2)}),e.jsxs("td",{style:{padding:"10px"},children:["$",parseFloat(b.potentialPayout).toFixed(2)]}),e.jsx("td",{style:{padding:"10px"},children:e.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",backgroundColor:b.status==="won"?"#28a745":b.status==="lost"?"#dc3545":b.status==="pending"?"#ffc107":"#6c757d",color:b.status==="pending"?"black":"white"},children:b.status.toUpperCase()})})]},b._id))})]})})]})},$p={dashboard:"dashboard","weekly-figures":"weeklyFigures",pending:"pending",messaging:"messaging","game-admin":"gameAdmin","customer-admin":"customerAdmin","agent-manager":"agentManager",cashier:"cashier","add-customer":"addCustomer","third-party-limits":"thirdPartyLimits",props:"props","agent-performance":"agentPerformance",analysis:"analysis","ip-tracker":"ipTracker","transactions-history":"transactionsHistory",collections:"collections","deleted-wagers":"deletedWagers","games-events":"gamesEvents","sportsbook-links":"sportsbookLinks","bet-ticker":"betTicker",ticketwriter:"ticketwriter",scores:"scores","master-agent-admin":"masterAgentAdmin",billing:"billing",settings:"settings",monitor:"monitor",rules:"rules",feedback:"feedback",faq:"faq","user-manual":"userManual",profile:"profile"},Hp=l=>l==="admin"||l==="master_agent"||l==="super_agent",ci=(l,r,o)=>{if(Hp(l))return!0;const d=$p[o];return d?r?.views?.[d]!==!1:!0},Zv=(l,r)=>Hp(l)?!0:r?.ipTracker?.manage!==!1,qp=[{id:"dashboard",label:"Dashboard",sidebarIcon:"",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!1},{id:"weekly-figures",label:"Weekly Figures",sidebarIcon:"",dashboardIcon:"fa-solid fa-chart-line",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"pending",label:"Pending",sidebarIcon:"",dashboardIcon:"fa-solid fa-calendar-check",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"messaging",label:"Messaging",sidebarIcon:"",dashboardIcon:"fa-solid fa-envelope",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"game-admin",label:"Game Admin",sidebarIcon:"",dashboardIcon:"fa-solid fa-gamepad",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"customer-admin",label:"Customer Admin",sidebarIcon:"",dashboardIcon:"fa-solid fa-user-shield",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"agent-manager",label:"Agent Management",sidebarIcon:"",dashboardIcon:"fa-solid fa-users-gear",dashboardColor:"teal",roles:["admin","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"cashier",label:"Cashier",sidebarIcon:"",dashboardIcon:"fa-solid fa-money-bill-wave",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"add-customer",label:"Add Customer",sidebarIcon:"",dashboardIcon:"fa-solid fa-user-plus",dashboardColor:"light-gray",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"third-party-limits",label:"3rd Party Limits",sidebarIcon:"",dashboardIcon:"fa-solid fa-lock",dashboardColor:"light-gray",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"props",label:"Props / Betting",sidebarIcon:"",dashboardIcon:"fa-solid fa-bullseye",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"agent-performance",label:"Agent Performance",sidebarIcon:"",dashboardIcon:"fa-solid fa-list-check",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"analysis",label:"Analysis",sidebarIcon:"",dashboardIcon:"fa-solid fa-arrow-trend-up",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"ip-tracker",label:"IP Tracker",sidebarIcon:"",dashboardIcon:"fa-solid fa-globe",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"transactions-history",label:"Transactions History",sidebarIcon:"",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!1},{id:"collections",label:"Collections",sidebarIcon:"",dashboardIcon:"fa-solid fa-box-archive",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"deleted-wagers",label:"Deleted Wagers",sidebarIcon:"",dashboardIcon:"fa-solid fa-trash",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"games-events",label:"Games & Events",sidebarIcon:"",dashboardIcon:"fa-solid fa-calendar-days",dashboardColor:"orange",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"sportsbook-links",label:"Sportsbook Links",sidebarIcon:"",dashboardIcon:"fa-solid fa-lines-leaning",dashboardColor:"orange",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"bet-ticker",label:"Bet Ticker",sidebarIcon:"",dashboardIcon:"fa-solid fa-clock",dashboardColor:"orange",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"ticketwriter",label:"TicketWriter",sidebarIcon:"",dashboardIcon:"fa-solid fa-pen-to-square",dashboardColor:"orange",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"scores",label:"Scores",sidebarIcon:"",dashboardIcon:"fa-solid fa-trophy",dashboardColor:"orange",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"master-agent-admin",label:"Master Agent Admin",sidebarIcon:"",dashboardIcon:"fa-solid fa-user-tie",dashboardColor:"green",roles:["admin","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"billing",label:"Billing",sidebarIcon:"",dashboardIcon:"fa-solid fa-sack-dollar",dashboardColor:"green",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"settings",label:"Settings",sidebarIcon:"",dashboardIcon:"fa-solid fa-gear",dashboardColor:"green",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"monitor",label:"System Monitor",sidebarIcon:"",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!1},{id:"rules",label:"Rules",sidebarIcon:"",dashboardIcon:"fa-solid fa-list-check",dashboardColor:"green",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"feedback",label:"Feedback",sidebarIcon:"",dashboardIcon:"fa-solid fa-wrench",dashboardColor:"light-gray",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"faq",label:"FAQ",sidebarIcon:"",dashboardIcon:"fa-solid fa-circle-question",dashboardColor:"black",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"user-manual",label:"User Manual",sidebarIcon:"",dashboardIcon:"fa-solid fa-book",dashboardColor:"black",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0}];function qf({onMenuClick:l,onOpenScoreboard:r,role:o="admin",layoutPref:d="tiles",isMobile:h=!1,permissions:f=null}){const b=o||"admin",v=qp.filter(g=>g.showInDashboard&&g.roles&&g.roles.includes(b)&&ci(b,f,g.id)),x=["teal","light-blue","orange"];return h&&d==="sidebar"?e.jsx("div",{className:"admin-dashboard",children:e.jsxs("div",{style:{textAlign:"center",padding:"50px",color:"#666"},children:[e.jsx("h2",{children:"Welcome"}),e.jsx("p",{children:"Select an option from the sidebar to get started."})]})}):e.jsx("div",{className:"admin-dashboard",children:e.jsx("div",{className:"dashboard-grid",children:v.map((g,y)=>{const p=x[Math.min(Math.floor(y/8),x.length-1)];return e.jsxs("button",{type:"button",className:`grid-card ${p}`,onClick:()=>{if(g.id==="scores"&&typeof r=="function"){r();return}l(g.id)},children:[e.jsx("div",{className:"card-icon",children:e.jsx("i",{className:g.dashboardIcon})}),e.jsx("div",{className:"card-label",children:g.label})]},g.id)})})})}function Jv({onClose:l,onGo:r,initialQuery:o=""}){const[d,h]=u.useState(!0),[f,b]=u.useState(null),[v,x]=u.useState(""),[g,y]=u.useState(new Set),[p,j]=u.useState(null);u.useEffect(()=>{(async()=>{try{h(!0);const _=localStorage.getItem("token"),k=await iv(_);b(k),k.root&&y(new Set([k.root.id]))}catch(_){console.error("Failed to fetch agent tree:",_),j("Failed to load tree")}finally{h(!1)}})()},[]),u.useEffect(()=>{x(o||"")},[o]),u.useEffect(()=>{const M=_=>{_.key==="Escape"&&l?.()};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[l]);const C=M=>{const _=new Set(g);_.has(M)?_.delete(M):_.add(M),y(_)},N=(M,_=0)=>{const k=g.has(M.id),F=M.role!=="player",L=M.children&&M.children.length>0,E=M.isDead||M.username?.toUpperCase()==="DEAD",w=M.username.toLowerCase().includes(v.toLowerCase()),A=M.children?.some(q=>q.username.toLowerCase().includes(v.toLowerCase())||q.children?.length>0);return v&&!w&&!A?null:e.jsxs("div",{className:`tree-node-wrapper depth-${_}`,children:[e.jsxs("div",{className:`tree-node ${E?"dead-node":""}`,children:[e.jsxs("div",{className:"node-content",onClick:()=>F&&C(M.id),children:[F?e.jsx("span",{className:"node-toggle",children:k?"":"+"}):e.jsx("span",{className:"node-dot",children:""}),e.jsx("span",{className:"node-icon",children:E?"":F?"":""}),e.jsx("span",{className:"node-name",children:M.username.toUpperCase()}),E&&e.jsx("span",{className:"dead-tag",children:"DEAD"})]}),e.jsx("button",{className:"node-go-btn",onClick:()=>r(M.id,M.role),children:"Go"})]}),F&&(k||v)&&L&&e.jsx("div",{className:"node-children",children:M.children.map(q=>N(q,_+1))})]},M.id)};return e.jsx("div",{className:"agent-tree-sidebar-wrap",children:e.jsxs("aside",{className:"agent-tree-container agent-tree-sidebar glass-effect",children:[e.jsxs("div",{className:"tree-header",children:[e.jsx("h3",{children:"Agent Tree"}),e.jsx("button",{className:"close-x",onClick:l,children:""})]}),e.jsx("div",{className:"tree-search",children:e.jsxs("div",{className:"search-pill",children:[e.jsx("span",{className:"pill-label",children:"Agents"}),e.jsx("input",{type:"text",placeholder:"Search accounts...",value:v,onChange:M=>x(M.target.value)})]})}),e.jsx("div",{className:"tree-scroll-area",children:d?e.jsx("div",{className:"tree-loading",children:"Loading Tree..."}):p?e.jsx("div",{className:"tree-error",children:p}):f?e.jsxs("div",{className:"tree-root",children:[e.jsxs("div",{className:"tree-node depth-0 root-node",children:[e.jsxs("div",{className:"node-content",onClick:()=>C(f.root.id),children:[e.jsx("span",{className:"node-toggle",children:g.has(f.root.id)?"":"+"}),e.jsx("span",{className:"node-icon",children:""}),e.jsxs("span",{className:"node-name",children:[f.root.username.toUpperCase()," (You)"]})]}),e.jsx("button",{className:"node-go-btn",onClick:()=>r(f.root.id,f.root.role),children:"Go"})]}),(g.has(f.root.id)||v)&&e.jsx("div",{className:"node-children",children:f.tree.map(M=>N(M,1))})]}):null})]})})}function Kv({onMenuToggle:l,onLogout:r,onViewChange:o,onSwitchContext:d,onRestoreBaseContext:h,canRestoreBaseContext:f=!1,baseContextLabel:b="Admin",role:v="admin"}){const[x,g]=u.useState(!1),[y,p]=u.useState(!1),[j,C]=u.useState(""),[N,M]=u.useState(""),[_,k]=u.useState({totalBalance:null,weekNet:null,todayNet:null,activeAccounts:null}),[F,L]=u.useState(null);u.useEffect(()=>{(async()=>{const J=localStorage.getItem("token");if(J)try{const[H,W]=await Promise.all([Xy(J),Ga(J)]);k({totalBalance:H?.totalBalance??0,totalOutstanding:H?.totalOutstanding??0,weekNet:H?.weekNet??0,todayNet:H?.todayNet??0,activeAccounts:H?.activeAccounts??0}),L(W||null)}catch(H){console.error("Failed to load admin header summary:",H)}})()},[]);const E=D=>{if(D==null)return"";const J=Number(D);return Number.isNaN(J)?"":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(J)},w=D=>{if(D==null)return"";const J=Number(D);return Number.isNaN(J)?"":J.toLocaleString("en-US")},A=()=>{r&&r()},q=D=>{o&&o(D)},G=D=>{D.preventDefault(),M(j.trim()),p(!0)},B=F?.username?F.username.toUpperCase():(sessionStorage.getItem(`${v}Username`)||sessionStorage.getItem("super_agentUsername")||sessionStorage.getItem("agentUsername")||sessionStorage.getItem("adminUsername")||localStorage.getItem("userRole")||"USER").toUpperCase(),ee=(F?.role||v||"admin").toLowerCase(),I=ee==="master_agent"||ee==="super_agent"?"MASTER":ee==="agent"?"AGENT":"ADMIN",S=B,$=F?.unlimitedBalance?"Unlimited":F?.balance??null;return e.jsxs("div",{className:"admin-header",children:[e.jsxs("div",{className:"admin-header-top",children:[e.jsxs("div",{className:"admin-header-left",children:[e.jsxs("button",{type:"button",className:"home-nav-btn",onClick:()=>q("dashboard"),"aria-label":"Go to admin home",children:[e.jsx("i",{className:"fa-solid fa-house","aria-hidden":"true"}),e.jsx("span",{children:"Home"})]}),e.jsx("button",{type:"button",className:"mobile-search-toggle",onClick:()=>{M(j.trim()),p(!0)},"aria-label":"Search accounts",title:"Search accounts",children:e.jsx("i",{className:"fa-solid fa-magnifying-glass","aria-hidden":"true"})}),e.jsx("button",{type:"button",className:"mobile-menu-toggle",onClick:l,"aria-label":"Toggle menu",children:""}),e.jsxs("form",{className:"admin-header-search",onSubmit:G,children:[e.jsx("span",{className:"search-icon","aria-hidden":"true",children:""}),e.jsx("input",{type:"text",placeholder:"Search accounts...",value:j,onChange:D=>C(D.target.value)})]})]}),e.jsx("div",{className:"admin-header-right",children:e.jsxs("div",{className:"header-actions",children:[e.jsxs("button",{type:"button",className:"user-chip",onClick:()=>g(D=>!D),title:"Open account menu","aria-expanded":x,children:[e.jsxs("span",{className:"user-chip-desktop",children:[I,": ",B]}),e.jsx("span",{className:"user-chip-mobile",children:S}),e.jsx("span",{className:`user-chip-caret ${y?"open":""}`,"aria-hidden":"true",onClick:D=>{D.stopPropagation(),g(!1),p(J=>!J)},children:""})]}),x&&e.jsxs("div",{className:"dropdown-menu user-chip-menu",children:[e.jsx("button",{type:"button",onClick:()=>{g(!1),q("profile")},children:"Profile"}),e.jsx("button",{type:"button",onClick:()=>{g(!1),q("settings")},children:"Settings"}),f&&e.jsxs("button",{type:"button",onClick:()=>{g(!1),h?.()},children:["Back to ",b]})]}),e.jsx("button",{type:"button",className:"power-logout-btn",onClick:A,"aria-label":"Log out",title:"Log out",children:""})]})})]}),e.jsx("div",{className:"admin-header-bottom",children:e.jsxs("div",{className:"admin-stats-grid",children:[e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-label",children:"Week"}),e.jsx("span",{className:"stat-value green",children:E(_.weekNet)})]}),e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-label",children:"Today"}),e.jsx("span",{className:"stat-value green",children:E(_.todayNet)})]}),e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-label",children:"Active Accts"}),e.jsx("span",{className:"stat-value highlight",children:w(_.activeAccounts)})]}),e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-label",children:"Balance"}),e.jsx("span",{className:"stat-value",children:$==="Unlimited"?"Unlimited":E($)})]})]})}),y&&e.jsx(Jv,{onClose:()=>p(!1),initialQuery:N,onGo:(D,J)=>{p(!1),d&&d(D,J)}})]})}function e0({activeView:l,onViewChange:r,onOpenScoreboard:o,isOpen:d,role:h="admin",permissions:f=null}){const b=h||"admin",v=qp.filter(x=>x.showInSidebar&&x.roles&&x.roles.includes(b)&&ci(b,f,x.id));return e.jsx("aside",{className:`admin-sidebar ${d?"open":""}`,children:e.jsx("nav",{className:"sidebar-nav",children:v.map(x=>e.jsxs("button",{className:`nav-item ${l===x.id?"active":""}`,onClick:()=>{if(x.id==="scores"&&typeof o=="function"){o();return}r(x.id)},title:x.label,children:[e.jsx("span",{className:"nav-icon",children:x.sidebarIcon}),e.jsx("span",{className:"nav-label",children:x.label})]},x.id))})})}function t0(){const[l,r]=u.useState("this-week"),[o,d]=u.useState(""),[h,f]=u.useState(null),[b,v]=u.useState([]),[x,g]=u.useState(!0),[y,p]=u.useState(""),j=N=>{if(N==null)return"";const M=Number(N);return Number.isNaN(M)?"":M.toFixed(2)};u.useEffect(()=>{(async()=>{const M=localStorage.getItem("token");if(!M){p("Please login to view weekly figures."),g(!1);return}try{g(!0);const _=await Ky(l,M);f(_.summary),v(_.customers||[]),p("")}catch(_){console.error("Failed to fetch weekly figures:",_),p(_.message||"Failed to load weekly figures")}finally{g(!1)}})()},[l]);const C=b.filter(N=>N.username?.toLowerCase().includes(o.toLowerCase())||N.name?.toLowerCase().includes(o.toLowerCase())||N.phoneNumber?.toLowerCase().includes(o.toLowerCase()));return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Weekly Figures - Summary & Customer Tracking"}),e.jsxs("div",{className:"period-filter",children:[e.jsx("button",{className:l==="this-week"?"active":"",onClick:()=>r("this-week"),children:"This Week"}),e.jsx("button",{className:l==="last-week"?"active":"",onClick:()=>r("last-week"),children:"Last Week"}),e.jsx("button",{className:l==="previous"?"active":"",onClick:()=>r("previous"),children:"Previous Weeks"})]})]}),e.jsxs("div",{className:"view-content",children:[x&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading weekly figures..."}),y&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:y}),!x&&!y&&h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"summary-section",children:[e.jsx("div",{className:"summary-header",children:e.jsx("h3",{children:"Summary"})}),e.jsxs("table",{className:"summary-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Carry"}),h.days.map((N,M)=>e.jsx("th",{children:N.day},M)),e.jsx("th",{children:"Week"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Pending"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("strong",{children:[h.totalPlayers," Players"]})}),h.days.map((N,M)=>e.jsx("td",{style:{color:N.amount<0?"#e74c3c":"#27ae60"},children:j(N.amount)},M)),e.jsx("td",{style:{color:h.weekTotal<0?"#e74c3c":"#27ae60"},children:j(h.weekTotal)}),e.jsx("td",{style:{color:h.balanceTotal<0?"#e74c3c":"#27ae60"},children:j(h.balanceTotal)}),e.jsx("td",{children:j(h.pendingTotal)})]})})]}),e.jsxs("div",{className:"dead-agents-row",children:[e.jsx("span",{children:e.jsx("strong",{children:"DEAD / AGENTS / MANAGERS"})}),e.jsxs("span",{className:"value",children:[h.deadAccounts," / ",h.agentsManagers]})]})]}),e.jsxs("div",{className:"customer-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"Customer"}),e.jsx("input",{type:"text",placeholder:"Search accounts...",value:o,onChange:N=>d(N.target.value),className:"search-input"})]}),e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"data-table customer-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Phone Number"}),e.jsx("th",{children:"Carry"}),h.days.map((N,M)=>e.jsx("th",{children:N.day},M)),e.jsx("th",{children:"Week"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Pending"})]})}),e.jsx("tbody",{children:C.map((N,M)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:N.username})}),e.jsx("td",{children:N.name}),e.jsx("td",{children:N.phoneNumber}),e.jsx("td",{style:{color:N.carry<0?"#e74c3c":"#27ae60"},children:j(N.carry)}),N.daily.map((_,k)=>e.jsx("td",{children:j(_)},k)),e.jsx("td",{children:j(N.week)}),e.jsx("td",{style:{color:N.balance<0?"#e74c3c":"#27ae60"},children:j(N.balance)}),e.jsx("td",{children:j(N.pending)})]},M))})]})})]})]})]})]})}function a0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(""),[b,v]=u.useState(null);u.useEffect(()=>{(async()=>{const j=localStorage.getItem("token");if(!j){f("Please login to view pending items."),d(!1);return}try{d(!0);const C=await ej(j);r(C||[]),f("")}catch(C){console.error("Failed to load pending items:",C),f(C.message||"Failed to load pending items")}finally{d(!1)}})()},[]);const x=async p=>{const j=localStorage.getItem("token");if(!j){f("Please login to approve items.");return}try{v(p),await tj(p,j),r(C=>C.filter(N=>N.id!==p))}catch(C){f(C.message||"Failed to approve item")}finally{v(null)}},g=async p=>{const j=localStorage.getItem("token");if(!j){f("Please login to decline items.");return}try{v(p),await aj(p,j),r(C=>C.filter(N=>N.id!==p))}catch(C){f(C.message||"Failed to decline item")}finally{v(null)}},y=p=>{if(p==null)return"";const j=Number(p);return Number.isNaN(j)?"":`$${j.toFixed(2)}`};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Pending Items"}),e.jsxs("p",{className:"count",children:[l.length," pending items"]})]}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading pending items..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(p=>e.jsxs("tr",{children:[e.jsx("td",{children:p.type}),e.jsx("td",{children:y(p.amount)}),e.jsx("td",{children:p.user}),e.jsx("td",{children:new Date(p.date).toLocaleDateString()}),e.jsx("td",{children:e.jsx("span",{className:"badge pending",children:p.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small btn-approve",onClick:()=>x(p.id),disabled:b===p.id,children:b===p.id?"Working...":"Approve"}),e.jsx("button",{className:"btn-small btn-decline",onClick:()=>g(p.id),disabled:b===p.id,children:b===p.id?"Working...":"Decline"})]})]},p.id))})]})})]})]})}function s0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(""),[b,v]=u.useState(null);u.useEffect(()=>{(async()=>{const j=localStorage.getItem("token")||sessionStorage.getItem("token");if(!j){f("Please login to view messages."),d(!1);return}try{d(!0);const C=await sj(j);r(C||[]),f("")}catch(C){console.error("Failed to fetch messages:",C),f(C.message||"Failed to load messages")}finally{d(!1)}})()},[]);const x=async p=>{const j=localStorage.getItem("token")||sessionStorage.getItem("token");if(!j){f("Please login to reply.");return}const C=window.prompt("Enter your reply:");if(C)try{v(p),await lj(p,C,j),r(N=>N.map(M=>M._id===p?{...M,read:!0,replies:[...M.replies||[],{message:C,createdAt:new Date}]}:M))}catch(N){f(N.message||"Failed to send reply")}finally{v(null)}},g=async p=>{const j=localStorage.getItem("token")||sessionStorage.getItem("token");if(!j){f("Please login to delete messages.");return}try{v(p),await ij(p,j),r(C=>C.filter(N=>N._id!==p))}catch(C){f(C.message||"Failed to delete message")}finally{v(null)}},y=async p=>{const j=localStorage.getItem("token")||sessionStorage.getItem("token");if(j)try{await nj(p,j),r(C=>C.map(N=>N._id===p?{...N,read:!0}:N))}catch(C){console.error("Failed to mark read:",C)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Messaging Center"}),e.jsxs("p",{className:"count",children:["Unread: ",l.filter(p=>!p.read).length]})]}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading messages..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsx("div",{className:"messaging-container",children:e.jsx("div",{className:"message-list",children:l.map(p=>e.jsxs("div",{className:`message-item ${p.read?"":"unread"}`,onClick:()=>y(p._id),children:[e.jsxs("div",{className:"message-header",children:[e.jsx("h4",{children:p.fromName}),e.jsx("span",{className:"date",children:new Date(p.createdAt).toLocaleString()})]}),e.jsx("p",{className:"subject",children:p.subject}),e.jsx("p",{className:"subject",style:{opacity:.8},children:p.body}),e.jsxs("div",{className:"message-actions",children:[e.jsx("button",{className:"btn-small",onClick:j=>{j.stopPropagation(),x(p._id)},disabled:b===p._id,children:b===p._id?"Working...":"Reply"}),e.jsx("button",{className:"btn-small",onClick:j=>{j.stopPropagation(),g(p._id)},disabled:b===p._id,children:b===p._id?"Working...":"Delete"})]})]},p._id))})})]})]})}function n0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(""),[b,v]=u.useState(!1),[x,g]=u.useState(!1),[y,p]=u.useState(!1),[j,C]=u.useState(null),[N,M]=u.useState({homeTeam:"",awayTeam:"",sport:"",startTime:"",status:"scheduled"}),_=G=>{if(G==null)return"";const B=Number(G);return Number.isNaN(B)?"":`$${B.toFixed(2)}`},k=async()=>{const G=localStorage.getItem("token")||sessionStorage.getItem("token");if(!G){f("Please login to manage games."),d(!1);return}try{d(!0);const B=await ul(G);r(B||[]),f("")}catch(B){console.error("Failed to load games:",B),f(B.message||"Failed to load games")}finally{d(!1)}};u.useEffect(()=>{k()},[]);const F=()=>{M({homeTeam:"",awayTeam:"",sport:"",startTime:"",status:"scheduled"}),v(!0)},L=G=>{C(G),M({homeTeam:G.homeTeam,awayTeam:G.awayTeam,sport:G.sport,startTime:new Date(G.startTime).toISOString().slice(0,16),status:G.status}),g(!0)},E=G=>{C(G),p(!0)},w=G=>{const{name:B,value:ee}=G.target;M(I=>({...I,[B]:ee}))},A=async G=>{G.preventDefault();const B=localStorage.getItem("token")||sessionStorage.getItem("token");if(!B){f("Please login to add games.");return}try{const ee={...N,startTime:new Date(N.startTime).toISOString()},I=await Ap(ee,B);r(S=>[...S,{id:I._id||I.id,homeTeam:I.homeTeam,awayTeam:I.awayTeam,sport:I.sport,startTime:I.startTime,status:I.status,activeBets:0,revenue:0}]),v(!1)}catch(ee){f(ee.message||"Failed to create match")}},q=async G=>{G.preventDefault();const B=localStorage.getItem("token")||sessionStorage.getItem("token");if(!B){f("Please login to update games.");return}try{const ee={...N,startTime:new Date(N.startTime).toISOString()},I=await Ep(j.id||j._id,ee,B);r(S=>S.map($=>($.id||$._id)===(j.id||j._id)?{...$,homeTeam:I.homeTeam,awayTeam:I.awayTeam,sport:I.sport,startTime:I.startTime,status:I.status}:$)),g(!1)}catch(ee){f(ee.message||"Failed to update match")}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Game Administration"}),e.jsx("button",{className:"btn-primary",onClick:F,children:"Add New Game"})]}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading games..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Match"}),e.jsx("th",{children:"Sport"}),e.jsx("th",{children:"Start Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Active Bets"}),e.jsx("th",{children:"Revenue"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(G=>e.jsxs("tr",{children:[e.jsxs("td",{children:[G.homeTeam," vs ",G.awayTeam]}),e.jsx("td",{children:G.sport}),e.jsx("td",{children:new Date(G.startTime).toLocaleString()}),e.jsx("td",{children:e.jsx("span",{className:`badge ${G.status}`,children:G.status})}),e.jsx("td",{children:G.activeBets}),e.jsx("td",{children:_(G.revenue)}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>L(G),children:"Edit"}),e.jsx("button",{className:"btn-small",onClick:()=>E(G),children:"View"})]})]},G.id||G._id))})]})})]}),b&&e.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:e.jsxs("div",{className:"modal-content",onClick:G=>G.stopPropagation(),children:[e.jsx("h3",{children:"Add New Game"}),e.jsxs("form",{onSubmit:A,className:"admin-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Home Team"}),e.jsx("input",{name:"homeTeam",value:N.homeTeam,onChange:w,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Away Team"}),e.jsx("input",{name:"awayTeam",value:N.awayTeam,onChange:w,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sport"}),e.jsx("input",{name:"sport",value:N.sport,onChange:w,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Time"}),e.jsx("input",{type:"datetime-local",name:"startTime",value:N.startTime,onChange:w,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{name:"status",value:N.status,onChange:w,children:[e.jsx("option",{value:"scheduled",children:"scheduled"}),e.jsx("option",{value:"live",children:"live"}),e.jsx("option",{value:"finished",children:"finished"}),e.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Create"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>v(!1),children:"Cancel"})]})]})]})}),x&&j&&e.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:e.jsxs("div",{className:"modal-content",onClick:G=>G.stopPropagation(),children:[e.jsx("h3",{children:"Edit Game"}),e.jsxs("form",{onSubmit:q,className:"admin-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Home Team"}),e.jsx("input",{name:"homeTeam",value:N.homeTeam,onChange:w,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Away Team"}),e.jsx("input",{name:"awayTeam",value:N.awayTeam,onChange:w,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sport"}),e.jsx("input",{name:"sport",value:N.sport,onChange:w,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Time"}),e.jsx("input",{type:"datetime-local",name:"startTime",value:N.startTime,onChange:w,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{name:"status",value:N.status,onChange:w,children:[e.jsx("option",{value:"scheduled",children:"scheduled"}),e.jsx("option",{value:"live",children:"live"}),e.jsx("option",{value:"finished",children:"finished"}),e.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>g(!1),children:"Cancel"})]})]})]})}),y&&j&&e.jsx("div",{className:"modal-overlay",onClick:()=>p(!1),children:e.jsxs("div",{className:"modal-content",onClick:G=>G.stopPropagation(),children:[e.jsx("h3",{children:"Game Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Match:"})," ",j.homeTeam," vs ",j.awayTeam]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sport:"})," ",j.sport]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Start Time:"})," ",new Date(j.startTime).toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",j.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Active Bets:"})," ",j.activeBets]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Revenue:"})," ",_(j.revenue)]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>p(!1),children:"Close"})})]})})]})}function l0({onViewChange:l}){const[r,o]=u.useState([]),[d,h]=u.useState([]),[f,b]=u.useState(!0),[v,x]=u.useState(""),[g,y]=u.useState(null),[p,j]=u.useState(!1),[C,N]=u.useState({username:"",phoneNumber:"",password:"",firstName:"",lastName:"",fullName:"",agentId:"",referredByUserId:"",balance:"",minBet:"25",maxBet:"200",creditLimit:"1000",balanceOwed:"200",defaultMinBet:"25",defaultMaxBet:"200",defaultCreditLimit:"1000",defaultSettleLimit:"200",agentPrefix:"",parentAgentId:""}),[M,_]=u.useState("player"),[k,F]=u.useState("admin"),[L,E]=u.useState(!1),[w,A]=u.useState(!1),[q,G]=u.useState(null),[B,ee]=u.useState({phoneNumber:"",firstName:"",lastName:"",fullName:"",password:"",minBet:"25",maxBet:"200",creditLimit:"1000",balanceOwed:"0",apps:{venmo:"",cashapp:"",applePay:"",zelle:"",paypal:"",btc:"",other:""}}),[I,S]=u.useState(!1),[$,D]=u.useState({customerId:null,username:"",currentBalance:0,nextBalance:""}),[J,H]=u.useState(""),[W,ie]=u.useState(""),[je,te]=u.useState(!1),[O,Z]=u.useState({}),[oe,K]=u.useState(null),[V,U]=u.useState(null),[P,ce]=u.useState({}),[me,Ne]=u.useState(""),[we,Ce]=u.useState(!1),[Me,Re]=u.useState(""),[st,Ke]=u.useState(""),[mt,vt]=u.useState(!1),[Be,ft]=u.useState({open:!1,type:"",customerId:null,username:"",value:""}),[Gt,Ut]=u.useState(""),[ta,At]=u.useState("");u.useEffect(()=>{(async()=>{try{b(!0);const ae=localStorage.getItem("token")||sessionStorage.getItem("token");if(!ae){o([]),x("Please login to load users.");return}const Q=await Ga(ae);if(F(Q?.role||"admin"),Ut(Q?.username||""),At(Q?.id||Q?._id||""),E(!!Q?.viewOnly),(Q?.role||"admin")==="agent"){const de=await gd(ae);o(de||[])}else{const de=await rl(ae);o(de||[]);const be=await fi(ae);h(be||[])}if(x(""),Q?.username)try{const{nextUsername:de}=await qa(Q.username,ae,{type:"player"});N(be=>({...be,username:de}))}catch(de){console.error("Failed to prefetch next username:",de)}}catch(ae){console.error("Error fetching users:",ae),x("Failed to load users: "+ae.message)}finally{b(!1)}})()},[]);const hl=async()=>{try{j(!0);const R=localStorage.getItem("token")||sessionStorage.getItem("token");if(!R){x("Please login to create users.");return}if(!String(C.username||"").trim()||!String(C.firstName||"").trim()||!String(C.lastName||"").trim()||!String(C.phoneNumber||"").trim()||!String(C.password||"").trim()){x("Username, first name, last name, phone number, and password are required.");return}if(M==="player"&&(String(C.minBet??"").trim()===""||String(C.maxBet??"").trim()===""||String(C.creditLimit??"").trim()===""||String(C.balanceOwed??"").trim()==="")){x("Min bet, max bet, credit limit, and settle limit are required for players.");return}const Q={...C};Q.balance===""&&delete Q.balance,Q.referredByUserId||delete Q.referredByUserId,(M==="agent"||M==="super_agent")&&Q.agentId&&(Q.parentAgentId=Q.agentId),M==="player"?k==="agent"||k==="super_agent"||k==="master_agent"?await _j(Q,R):await Mp(Q,R):M==="agent"?k==="admin"?await qr({...Q,role:"agent"},R):await yd({...Q,role:"agent"},R):M==="super_agent"&&(k==="admin"?await qr({...Q,role:"master_agent"},R):await yd({...Q,role:"master_agent"},R)),alert(`${M==="player"?"Player":M==="agent"?"Agent":"Master Agent"} initialized successfully!`);const de=M;if(N({username:"",phoneNumber:"",password:"",firstName:"",lastName:"",fullName:"",agentId:"",referredByUserId:"",balance:"",minBet:"",maxBet:"",creditLimit:"",balanceOwed:"",defaultMinBet:"",defaultMaxBet:"",defaultCreditLimit:"",defaultSettleLimit:"",agentPrefix:"",parentAgentId:""}),_(de),Ke(""),vt(!1),x(""),k==="agent"){const ve=await gd(R);o(ve||[])}else{const ve=await rl(R);o(ve||[])}}catch(R){console.error("Create user failed:",R),x(R.message||"Failed to create user")}finally{j(!1)}},Ya=async R=>{const ae=R.toUpperCase().replace(/[^A-Z0-9]/g,"");if(N(Q=>({...Q,agentPrefix:ae})),ae.length>=2){const Q=localStorage.getItem("token")||sessionStorage.getItem("token"),de=M==="super_agent"?"MA":"";try{const{nextUsername:be}=await qa(ae,Q,{suffix:de,type:"agent"});N(ve=>({...ve,username:be}))}catch(be){console.error("Failed to get next username from prefix:",be)}}else N(Q=>({...Q,username:""}))},Va=async R=>{const ae=localStorage.getItem("token")||sessionStorage.getItem("token");if(!ae)return;N(be=>({...be,agentId:R,referredByUserId:""}));const Q=M==="player"?"player":"agent",de=M==="super_agent"?"MA":"";if(R){const be=d.find(ve=>(ve.id||ve._id)===R);if(be){Ke(be.username||"");try{const{nextUsername:ve}=await qa(be.username,ae,{suffix:de,type:Q});N(Ae=>({...Ae,username:ve}))}catch(ve){console.error("Failed to get next username:",ve)}}}else if(Ke(""),Gt)try{const{nextUsername:be}=await qa(Gt,ae,{suffix:de,type:Q});N(ve=>({...ve,username:be}))}catch(be){console.error("Failed to fetch username for admin:",be),N(ve=>({...ve,username:""}))}else N(be=>({...be,username:""}))},pt=async R=>{_(R);const ae=localStorage.getItem("token");if(ae)if(R==="super_agent"||R==="agent"){const Q=R==="super_agent"?"MA":"";let de=C.agentPrefix;const be="agent";if(de)try{const{nextUsername:ve}=await qa(de,ae,{suffix:Q,type:be});N(Ae=>({...Ae,username:ve,agentPrefix:de}))}catch(ve){console.error("Failed to re-fetch username on type change",ve)}else N(ve=>({...ve,username:""}))}else Va(""),N(Q=>({...Q,referredByUserId:""}))},ws=(R,ae,Q)=>{if(R&&ae&&Q){const de=Q.slice(-4),be=R.slice(0,3).toUpperCase(),ve=ae.slice(0,3).toUpperCase(),Ae=`${be}${ve}${de}`.toUpperCase();N(Ge=>({...Ge,password:Ae}))}},Ra=R=>{const ae=R.toUpperCase();N(Q=>{const de={...Q,firstName:ae};return ws(ae,de.lastName,de.phoneNumber),de})},Ss=R=>{const ae=R.toUpperCase();N(Q=>{const de={...Q,lastName:ae};return ws(de.firstName,ae,de.phoneNumber),de})},ml=R=>{const ae=R.replace(/\D/g,"");let Q=ae;ae.length>0&&(ae.length<=3?Q=ae:ae.length<=6?Q=`${ae.slice(0,3)}-${ae.slice(3)}`:Q=`${ae.slice(0,3)}-${ae.slice(3,6)}-${ae.slice(6,10)}`),N(de=>{const be={...de,phoneNumber:Q};return ws(be.firstName,be.lastName,Q),be})},Dt=R=>{if(R==null||R==="")return"";const ae=Number(R);return Number.isNaN(ae)?"":`$${ae.toFixed(2)}`},Tt=!L&&!p&&!!String(C.username||"").trim()&&!!String(C.firstName||"").trim()&&!!String(C.lastName||"").trim()&&!!String(C.phoneNumber||"").trim()&&!!String(C.password||"").trim()&&(M!=="player"||String(C.minBet??"").trim()!==""&&String(C.maxBet??"").trim()!==""&&String(C.creditLimit??"").trim()!==""&&String(C.balanceOwed??"").trim()!==""),ma=R=>{D({customerId:R.id||R._id,username:R.username,currentBalance:R.balance??0,nextBalance:`${R.balance??0}`}),S(!0),x("")},Nt=async R=>{R.preventDefault();const{customerId:ae,nextBalance:Q}=$,de=Number(Q);if(Number.isNaN(de)||de<0){x("Balance must be a non-negative number.");return}try{const be=localStorage.getItem("token")||sessionStorage.getItem("token");if(!be){x("Please login to update balance.");return}y(ae),k==="agent"?await rd(ae,de,be):await il(ae,{balance:de},be),o(ve=>ve.map(Ae=>(Ae.id||Ae._id)===ae?{...Ae,balance:de,availableBalance:Math.max(0,de-Number(Ae.pendingBalance||0))}:Ae)),S(!1),x("")}catch(be){console.error("Balance update failed:",be),x(be.message||"Failed to update balance")}finally{y(null)}},an=R=>{const ae=R.id||R._id,Q={sports:R.settings?.sports??!0,casino:R.settings?.casino??!0,racebook:R.settings?.racebook??!0};return O[ae]||Q},ks=(R,ae)=>{const Q=R.id||R._id,de=an(R);Z(be=>({...be,[Q]:{...de,[ae]:!de[ae]}}))},Cs=async R=>{const ae=R.id||R._id,Q=O[ae];if(Q)try{const de=localStorage.getItem("token")||sessionStorage.getItem("token");if(!de)return;y(ae);const be={settings:{...R.settings||{},sports:!!Q.sports,casino:!!Q.casino,racebook:!!Q.racebook}};k==="agent"?await ka(ae,be,de):await ys(ae,be,de),o(ve=>ve.map(Ae=>(Ae.id||Ae._id)===ae?{...Ae,settings:be.settings}:Ae)),Z(ve=>{const Ae={...ve};return delete Ae[ae],Ae}),x("")}catch(de){console.error("Addon save failed:",de),x(de.message||"Failed to save add-ons")}finally{y(null)}},Qa=async R=>{const ae=R.id||R._id,Q=window.prompt(`Enter new password for ${R.username}:`,"");if(Q!==null){if(Q.length<6){alert("Password must be at least 6 characters long");return}try{const de=localStorage.getItem("token")||sessionStorage.getItem("token");if(!de){x("Please login to reset password.");return}y(ae),await Pr(ae,Q,de),alert(`Password for ${R.username} has been reset successfully.`),x("")}catch(de){console.error("Password reset failed:",de),x(de.message||"Failed to reset password")}finally{y(null)}}},Oa=R=>{G(R),ee({phoneNumber:"",firstName:"",lastName:"",fullName:"",password:"",minBet:"",maxBet:"",creditLimit:"",balanceOwed:"",apps:{venmo:"",cashapp:"",applePay:"",zelle:"",paypal:"",btc:"",other:""}}),A(!0)},Xa=async R=>{R.preventDefault();const ae=q.id||q._id;try{const Q=localStorage.getItem("token")||sessionStorage.getItem("token"),de={};B.phoneNumber.trim()&&(de.phoneNumber=B.phoneNumber.trim()),B.firstName.trim()&&(de.firstName=B.firstName.trim()),B.lastName.trim()&&(de.lastName=B.lastName.trim()),B.fullName.trim()&&(de.fullName=B.fullName.trim()),B.password.trim()&&(de.password=B.password.trim()),B.minBet!==""&&(de.minBet=Number(B.minBet)),B.maxBet!==""&&(de.maxBet=Number(B.maxBet)),B.creditLimit!==""&&(de.creditLimit=Number(B.creditLimit)),B.balanceOwed!==""&&(de.balanceOwed=Number(B.balanceOwed));const be=Object.entries(B.apps||{}).filter(([,ve])=>(ve||"").trim()!=="");if(be.length>0&&(de.apps=Object.fromEntries(be.map(([ve,Ae])=>[ve,Ae.trim()]))),Object.keys(de).length===0){x("Enter at least one value before saving.");return}k==="agent"?await ka(ae,de,Q):await ys(ae,de,Q),o(ve=>ve.map(Ae=>(Ae.id||Ae._id)===ae?{...Ae,...de}:Ae)),A(!1),x("")}catch(Q){console.error("Update customer failed:",Q),x(Q.message||"Failed to update customer")}},Lt=u.useMemo(()=>d.filter(R=>k==="admin"||k==="super_agent"||k==="master_agent"),[d,k]),xt=R=>{if(!R)return"";if(typeof R=="string")return R;if(typeof R=="object"){if(typeof R._id=="string")return R._id;if(typeof R.id=="string")return R.id;if(typeof R.$oid=="string")return R.$oid}return""},Ca=u.useMemo(()=>Lt.filter(R=>st.trim()?(R.username||"").toLowerCase().includes(st.trim().toLowerCase()):!0),[Lt,st]),sn=u.useMemo(()=>Lt.filter(R=>me.trim()?(R.username||"").toLowerCase().includes(me.trim().toLowerCase()):!0),[Lt,me]),Aa=u.useMemo(()=>r.filter(R=>R.role==="user"),[r]),fa=Lt.find(R=>xt(R.id||R._id)===xt(Me)),It=!!fa&&(fa.role==="master_agent"||fa.role==="super_agent"),Ft=xt(Me),Ua=u.useMemo(()=>!It||!Ft?[]:Lt.filter(R=>{if((R.role||"").toLowerCase()!=="agent")return!1;const ae=xt(R.createdBy),Q=xt(R.parentAgentId),de=Ft;return ae===de||Q===de}),[It,Lt,Ft]),Ea=u.useMemo(()=>{if(!Me)return Aa;if(!It)return Aa.filter(de=>xt(de.agentId)===Ft);const R=new Set(Ua.map(de=>xt(de.id||de._id)).filter(Boolean)),ae=Aa.filter(de=>R.has(xt(de.agentId))),Q=Aa.filter(de=>xt(de.agentId)===Ft);return[...ae,...Q]},[Me,It,Aa,Ua,Ft]),As=u.useMemo(()=>{if(!It)return Ea.map(Q=>({type:"player",player:Q}));const R=[];Ua.forEach(Q=>{const de=xt(Q.id||Q._id),be=Ea.filter(ve=>xt(ve.agentId)===de);R.push({type:"group",label:Q.username}),be.forEach(ve=>R.push({type:"player",player:ve}))});const ae=Ea.filter(Q=>xt(Q.agentId)===Ft);return ae.length>0&&(R.push({type:"group",label:`${fa.username} (Direct)`}),ae.forEach(Q=>R.push({type:"player",player:Q}))),R},[It,Ea,Ua,Ft,fa]),aa=Ea,pa=R=>{H(R),ie(""),te(!0)},Le=()=>{switch(J){case"minBet":return"Min Bet";case"maxBet":return"Max Bet";case"creditLimit":return"Credit Limit";case"settleLimit":return"Settle Limit";case"balanceAdjust":return"Balance Adjustment";case"status":return"Status";default:return""}},Za=R=>{const ae=(R||"").toString().toLowerCase();return ae==="active"?"Active":ae==="read_only"||ae==="readonly"?"Read Only":"Disabled"},Pt=async R=>{R.preventDefault();const ae=localStorage.getItem("token")||sessionStorage.getItem("token");if(!ae){x("Please login to update players.");return}if(aa.length===0){x("No players available for bulk update.");return}let Q=null;const de=new Set(aa.map(be=>be.id||be._id));if(J==="status")Q={status:W||"active"};else if(J==="balanceAdjust"){const be=Number(W);if(Number.isNaN(be)){x("Please enter a valid number for balance adjustment.");return}y("bulk-update"),await Promise.all(aa.map(ve=>{const Ae=ve.id||ve._id,Ge=Number(ve.balance||0)+be;return k==="agent"?rd(Ae,Ge,ae):il(Ae,{balance:Ge},ae)})),o(ve=>ve.map(Ae=>{const Ge=Ae.id||Ae._id;return de.has(Ge)?{...Ae,balance:Number(Ae.balance||0)+be}:Ae})),te(!1),x(""),y(null);return}else{const be=Number(W);if(Number.isNaN(be)||be<0){x("Please enter a valid non-negative number.");return}J==="minBet"&&(Q={minBet:be}),J==="maxBet"&&(Q={maxBet:be,wagerLimit:be}),J==="creditLimit"&&(Q={creditLimit:be}),J==="settleLimit"&&(Q={balanceOwed:be})}try{y("bulk-update"),await Promise.all(aa.map(be=>{const ve=be.id||be._id;return k==="agent"?ka(ve,Q,ae):ys(ve,Q,ae)})),o(be=>be.map(ve=>{const Ae=ve.id||ve._id;return de.has(Ae)?{...ve,...Q}:ve})),te(!1),x("")}catch(be){console.error("Bulk update failed:",be),x(be.message||"Failed to update players")}finally{y(null)}},ut=(()=>{const R=r.filter(ae=>ae.role==="user");return M!=="player"&&M!=="agent"&&M!=="super_agent"?[]:k==="agent"?R:C.agentId?R.filter(ae=>String(ae.agentId?._id||ae.agentId||"")===String(C.agentId)):k==="master_agent"||k==="super_agent"?R.filter(ae=>String(ae.agentId?._id||ae.agentId||"")===String(ta)):R})(),ht=R=>{l&&l("user-details",R.id||R._id)},lt=async R=>{const ae=R.role==="agent"||R.role==="master_agent",Q=ae?"Agent":"Player";if(window.confirm(`Are you sure you want to PERMANENTLY DELETE ${Q} "${R.username}"?

This action cannot be undone.`))try{const de=localStorage.getItem("token")||sessionStorage.getItem("token");if(!de){x("Please login to delete.");return}y(R.id||R._id),ae?await zp(R.id||R._id,de):await Up(R.id||R._id,de),o(be=>be.filter(ve=>(ve.id||ve._id)!==(R.id||R._id))),ae&&h(be=>be.filter(ve=>(ve.id||ve._id)!==(R.id||R._id))),alert(`${Q} "${R.username}" deleted successfully.`),x("")}catch(de){console.error("Delete failed:",de),alert(`Failed to delete: ${de.message}`)}finally{y(null)}},Ta=R=>{const ae=R.id||R._id;return P[ae]||{firstName:R.firstName||"",lastName:R.lastName||"",password:"",minBet:String(R.minBet??0),maxBet:String(R.wagerLimit??R.maxBet??0),creditLimit:String(R.creditLimit??0),settleLimit:String(R.balanceOwed??0),status:(R.status||"active").toLowerCase(),sports:R.settings?.sports??!0,casino:R.settings?.casino??!0,racebook:R.settings?.racebook??!0}},nn=R=>{const ae=R.id||R._id;K(Q=>Q===ae?null:ae),U(Q=>Q===ae?null:Q)},Sn=R=>{const ae=R.id||R._id;K(ae),U(ae),ce(Q=>({...Q,[ae]:Ta(R)}))},sa=(R,ae,Q)=>{const de=R.id||R._id,be=Ta(R);ce(ve=>({...ve,[de]:{...be,...ve[de]||{},[ae]:Q}}))},Ja=async R=>{const ae=R.id||R._id,Q=Ta(R),de=localStorage.getItem("token")||sessionStorage.getItem("token");if(!de)return;const be={firstName:Q.firstName.trim(),lastName:Q.lastName.trim(),fullName:`${Q.firstName.trim()} ${Q.lastName.trim()}`.trim(),minBet:Number(Q.minBet||0),maxBet:Number(Q.maxBet||0),wagerLimit:Number(Q.maxBet||0),creditLimit:Number(Q.creditLimit||0),balanceOwed:Number(Q.settleLimit||0),status:Q.status,settings:{...R.settings||{},sports:!!Q.sports,casino:!!Q.casino,racebook:!!Q.racebook}};try{y(ae),k==="agent"?await ka(ae,be,de):await ys(ae,be,de),(Q.password||"").trim()!==""&&(k==="admin"?await Pr(ae,Q.password.trim(),de):await ka(ae,{password:Q.password.trim()},de)),o(ve=>ve.map(Ae=>(Ae.id||Ae._id)===ae?{...Ae,...be}:Ae)),U(null),ce(ve=>{const Ae={...ve};return delete Ae[ae],Ae}),x("")}catch(ve){console.error("Inline save failed:",ve),x(ve.message||"Failed to save user details")}finally{y(null)}},Ka=(R,ae)=>{const Q=R.id||R._id;let de="";ae==="name"&&(de=`${R.firstName||""} ${R.lastName||""}`.trim()),ae==="password"&&(de=R.displayPassword||""),ae==="balance"&&(de=String(R.balance??0)),ft({open:!0,type:ae,customerId:Q,username:R.username,value:de})},za=async R=>{R.preventDefault();const ae=localStorage.getItem("token")||sessionStorage.getItem("token");if(!(!ae||!Be.customerId))try{if(y(Be.customerId),Be.type==="name"){const Q=Be.value.trim().split(/\s+/).filter(Boolean),de=Q[0]||"",be=Q.slice(1).join(" "),ve={firstName:de,lastName:be,fullName:Be.value.trim()};k==="agent"?await ka(Be.customerId,ve,ae):await ys(Be.customerId,ve,ae),o(Ae=>Ae.map(Ge=>(Ge.id||Ge._id)===Be.customerId?{...Ge,...ve}:Ge))}if(Be.type==="password"){const Q=Be.value.trim();if(Q.length<6){x("Password must be at least 6 characters.");return}k==="admin"?await Pr(Be.customerId,Q,ae):await ka(Be.customerId,{password:Q},ae),o(de=>de.map(be=>(be.id||be._id)===Be.customerId?{...be,displayPassword:Q}:be))}if(Be.type==="balance"){const Q=Number(Be.value);if(Number.isNaN(Q)){x("Balance must be numeric.");return}k==="agent"?await rd(Be.customerId,Q,ae):await il(Be.customerId,{balance:Q},ae),o(de=>de.map(be=>(be.id||be._id)===Be.customerId?{...be,balance:Q}:be))}ft({open:!1,type:"",customerId:null,username:"",value:""}),x("")}catch(Q){console.error("Quick edit failed:",Q),x(Q.message||"Failed to update value")}finally{y(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsxs("div",{className:"header-icon-title",children:[e.jsx("div",{className:"glow-accent"}),e.jsx("h2",{children:"Administration Console"})]}),e.jsxs("div",{className:"agent-search-picker header-agent-picker",onFocus:()=>Ce(!0),onBlur:()=>setTimeout(()=>Ce(!1),120),tabIndex:0,children:[e.jsxs("div",{className:"agent-search-head",children:[e.jsx("span",{className:"agent-search-label",children:"Agents"}),e.jsx("input",{type:"text",value:me,onChange:R=>{Ne(R.target.value),Ce(!0)},placeholder:"Search agent..."})]}),we&&e.jsxs("div",{className:"agent-search-list",children:[e.jsx("button",{type:"button",className:`agent-search-item ${Me?"":"selected"}`,onClick:()=>{Re(""),Ne(""),Ce(!1)},children:e.jsx("span",{children:"All Agents"})}),sn.map(R=>{const ae=R.id||R._id,Q=R.role==="master_agent"||R.role==="super_agent";return e.jsxs("button",{type:"button",className:`agent-search-item ${String(Me||"")===String(ae)?"selected":""}`,onClick:()=>{Re(ae),Ne(R.username||""),Ce(!1)},children:[e.jsx("span",{children:R.username}),e.jsx("span",{className:`agent-type-badge ${Q?"master":"agent"}`,children:Q?"M":"A"})]},ae)}),sn.length===0&&e.jsx("div",{className:"agent-search-empty",children:"No matching agents"})]})]})]}),e.jsxs("div",{className:"view-content",children:[f&&e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("span",{children:"Loading Entries..."})]}),v&&e.jsx("div",{className:"error-state",children:v}),!f&&!v&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"20px",alignItems:"end"},children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type"}),e.jsx("div",{className:"s-wrapper",children:e.jsxs("select",{value:M,onChange:R=>pt(R.target.value),children:[e.jsx("option",{value:"player",children:"Player"}),(k==="admin"||k==="super_agent"||k==="master_agent")&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"agent",children:"Agent"}),e.jsx("option",{value:"super_agent",children:"Master Agent"})]})]})})]}),(M==="agent"||M==="super_agent")&&(k!=="super_agent"&&k!=="master_agent"||M==="super_agent")&&e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",value:C.agentPrefix,onChange:R=>Ya(R.target.value),placeholder:"Enter prefix",maxLength:5})]}),(M==="player"||M==="agent"||M==="super_agent")&&(k==="admin"||k==="super_agent"||k==="master_agent")&&e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:M==="player"?"Assign to Agent":"Assign to Master Agent"}),e.jsxs("div",{className:"agent-search-picker",onFocus:()=>vt(!0),onBlur:()=>setTimeout(()=>vt(!1),120),tabIndex:0,children:[e.jsxs("div",{className:"agent-search-head",children:[e.jsx("span",{className:"agent-search-label",children:"Agents"}),e.jsx("input",{type:"text",value:st,onChange:R=>{Ke(R.target.value),vt(!0)},placeholder:"Search agent..."})]}),mt&&e.jsxs("div",{className:"agent-search-list",children:[e.jsx("button",{type:"button",className:`agent-search-item ${C.agentId?"":"selected"}`,onClick:()=>{Va(""),vt(!1)},children:e.jsx("span",{children:M==="player"?"Direct (Under Me)":"Direct (Created By Me)"})}),Ca.map(R=>{const ae=R.id||R._id,Q=R.role==="master_agent"||R.role==="super_agent";return(M==="agent"||M==="super_agent")&&!Q?null:e.jsxs("button",{type:"button",className:`agent-search-item ${String(C.agentId||"")===String(ae)?"selected":""}`,onClick:()=>{Va(ae),vt(!1)},children:[e.jsx("span",{children:R.username}),e.jsx("span",{className:`agent-type-badge ${Q?"master":"agent"}`,children:Q?"M":"A"})]},ae)}),Ca.length===0&&e.jsx("div",{className:"agent-search-empty",children:"No matching agents"})]})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Username"}),e.jsx("input",{type:"text",value:C.username,placeholder:"Auto-generated",readOnly:!0,className:"readonly-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",value:C.firstName,onChange:R=>Ra(R.target.value),placeholder:"Enter first name"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",value:C.lastName,onChange:R=>Ss(R.target.value),placeholder:"Enter last name"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:C.phoneNumber,onChange:R=>ml(R.target.value),placeholder:"User contact"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"text",value:C.password.toUpperCase(),onChange:R=>N(ae=>({...ae,password:R.target.value.toUpperCase()})),placeholder:"Set password"})]}),(M==="player"||M==="agent"||M==="super_agent")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Min bet:"}),e.jsx("input",{type:"number",value:C.minBet,onChange:R=>N(ae=>({...ae,minBet:R.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Max bet:"}),e.jsx("input",{type:"number",value:C.maxBet,onChange:R=>N(ae=>({...ae,maxBet:R.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Credit limit:"}),e.jsx("input",{type:"number",value:C.creditLimit,onChange:R=>N(ae=>({...ae,creditLimit:R.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Settle limit:"}),e.jsx("input",{type:"number",value:C.balanceOwed,onChange:R=>N(ae=>({...ae,balanceOwed:R.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Referred By Player"}),e.jsx("div",{className:"s-wrapper",children:e.jsxs("select",{value:C.referredByUserId,onChange:R=>N(ae=>({...ae,referredByUserId:R.target.value})),children:[e.jsx("option",{value:"",children:"No referral"}),ut.map(R=>e.jsxs("option",{value:R.id||R._id,children:[(R.username||"").toUpperCase(),R.fullName?` - ${R.fullName}`:""]},R.id||R._id))]})})]})]}),(M==="agent"||M==="super_agent")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Min bet: (Standard)"}),e.jsx("input",{type:"number",value:C.defaultMinBet,onChange:R=>N(ae=>({...ae,defaultMinBet:R.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Max bet: (Standard)"}),e.jsx("input",{type:"number",value:C.defaultMaxBet,onChange:R=>N(ae=>({...ae,defaultMaxBet:R.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Credit limit: (Standard)"}),e.jsx("input",{type:"number",value:C.defaultCreditLimit,onChange:R=>N(ae=>({...ae,defaultCreditLimit:R.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Settle limit: (Standard)"}),e.jsx("input",{type:"number",value:C.defaultSettleLimit,onChange:R=>N(ae=>({...ae,defaultSettleLimit:R.target.value}))})]})]}),e.jsxs("div",{className:"filter-group",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{className:"btn-primary",style:{flex:1},onClick:hl,disabled:!Tt,children:p?"Deploying...":`Create ${M==="player"?"Player":M==="agent"?"Agent":"Master Agent"}`}),e.jsx("button",{type:"button",className:"btn-secondary",style:{backgroundColor:"#17a2b8",color:"white",flex:.5},onClick:()=>{const R=C.password||"N/A";let ae="";M==="player"?ae=`Heres your account info. PLEASE READ ALL RULES THOROUGHLY.

Login: ${C.username}
Password: ${R}
Min bet: $${C.minBet||25}
Max bet: $${C.maxBet||200}
Credit: $${C.creditLimit||1e3}


PAYOUTS
PAY-INS are Tuesday and PAY-OUTS are Tuesday/Wednesday by end of day. Week starts Tuesday and ends Monday night. Settle ups are +/-$200 so anything under $200 will push to the following week. You must bet $500 of your own money to collect your FIRST payout. If your account is inactive for 2 weeks youll be required to settle your balance even if its under $200. Max weekly payouts are 2-3x your credit limit depending on size. Balance will still be paid out but will roll to the following week.

All we ask for is communication when it comes to payouts so we can get everyone paid quickly and as smoothly as possible. If you cant pay right away let us know and we can set up a payment schedule. We accept Venmo, Cashapp and Apple Pay. You are REQUIRED to have multiple apps to send or receive payment on. PLEASE DO NOT SEND MONEY without asking where to send first and DO NOT LABEL anything to do with sports or gambling. We will let you know Tuesday where to send. 

We kick back 20% freeplay of all losses if you pay ON TIME and in FULL and 30% if you pay in CASH. If you are a hassle to collect from and dont respond or dont pay on time or in full then you will be shown the same reciprocation when it comes to payouts. 

REFFERALS
$200 freeplay bonuses for any ACTIVE  and TRUSTWORTHY referrals. YOU are responsible for your referrals debt if they DO NOT PAY and vise versa. In order for you to get your free play bonus your refferal must go through one settle up of $200.

RULES
NO BOTS OR SHARP PLAY. We have IT monitoring to make sure there is no cheating. If we find out you are using a VPN and there are multiple people using your IP address or someone is logging into the same account, or you are using a system to place bets for you, you will be automatically kicked off and we reserve the right to not pay. No excuses. Weve heard them all so dont waste your time. 

FREEPLAY
I start all NEW players off with $200 in freeplay. In order to collect your winnings you have to place $500 of bets with your own money. (This is to prevent everyone who abuses the free play to win free money and leave). When you place a bet you have to click Use your freeplay balance $ (If you dont youre using your own money). Since we are very generous with freeplay unfortunately it is limited to straight bets only and no parlays. I offer 20% free play to anyone above settle to roll your balance to limit transactions. If you chose to roll for free play you must be actively betting with your own money or your free play will not count. 

I need active players so if you could do me a solid and place a bet today even if its with freeplay. Good luck! Lmk that youve read all the rules and or if you have any questions and need me to adjust anything!
`:ae=`Welcome to the team! Heres your ${M==="agent"?"Agent":"Master Agent"} administrative account info.

Login: ${C.username}
Password: ${R}

Standard Min bet: $${C.defaultMinBet||25}
Standard Max bet: $${C.defaultMaxBet||200}
Standard Credit: $${C.defaultCreditLimit||1e3}

Please ensure you manage your sectors responsibly and maintain clear communication with your assigned accounts. Good luck!
`,navigator.clipboard.writeText(ae).then(()=>alert("Copied to clipboard!"))},children:"Copy Info"})]})]}),e.jsx("div",{className:"table-container",children:e.jsx("div",{className:"scroll-wrapper",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Password"}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>pa("minBet"),children:"Min Bet"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>pa("maxBet"),children:"Max Bet"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>pa("creditLimit"),children:"Credit Limit"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>pa("settleLimit"),children:"Settle Limit"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>pa("balanceAdjust"),children:"Balance"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>pa("status"),children:"Status"}),e.jsx("th",{children:"Sportsbook"}),e.jsx("th",{children:"Casino"}),e.jsx("th",{children:"Horses"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:As.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:14,className:"empty-msg",children:"No records found."})}):As.map((R,ae)=>{if(R.type==="group")return e.jsx("tr",{className:"agent-group-row",children:e.jsx("td",{colSpan:14,children:R.label})},`group-${R.label}-${ae}`);const Q=R.player,de=Q.id||Q._id,be=an(Q),ve=!!O[de],Ae=oe===de,Ge=V===de,$t=Ta(Q);return e.jsxs(js.Fragment,{children:[e.jsxs("tr",{className:`customer-row role-${Q.role}`,children:[e.jsxs("td",{className:"user-cell",children:[e.jsx("button",{className:"user-link-btn",onClick:()=>ht(Q),children:e.jsx("span",{children:Q.username.toUpperCase()})}),Q.role==="user"&&e.jsx("button",{className:"row-expand-btn",type:"button",onClick:()=>nn(Q),children:Ae?"":""})]}),e.jsx("td",{className:"pass-cell",children:e.jsx("span",{children:Q.displayPassword||""})}),e.jsx("td",{children:Q.firstName||""}),e.jsx("td",{children:Q.lastName||""}),e.jsx("td",{children:Number(Q.minBet??0).toLocaleString()}),e.jsx("td",{children:Number(Q.wagerLimit??Q.maxBet??0).toLocaleString()}),e.jsx("td",{className:"highlight-cell",children:Number(Q.creditLimit||1e3).toLocaleString()}),e.jsx("td",{className:"highlight-cell",children:Number(Q.balanceOwed||0).toLocaleString()}),e.jsx("td",{className:`balance-cell ${Number(Q.balance)<0?"neg":"pos"}`,children:Dt(Q.balance)}),e.jsx("td",{children:Za(Q.status)}),e.jsx("td",{children:Q.role==="user"?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!be.sports,onChange:()=>ks(Q,"sports")}),e.jsx("span",{className:"slider-mini"})]}):""}),e.jsx("td",{children:Q.role==="user"?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!be.casino,onChange:()=>ks(Q,"casino")}),e.jsx("span",{className:"slider-mini"})]}):""}),e.jsx("td",{children:Q.role==="user"?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!be.racebook,onChange:()=>ks(Q,"racebook")}),e.jsx("span",{className:"slider-mini"})]}):""}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons-cell",style:{display:"flex",gap:"8px"},children:[Q.role==="user"?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:`btn-secondary ${ve?"btn-save-dirty":"btn-save-clean"}`,type:"button",onClick:()=>Cs(Q),disabled:!ve||g===de,children:"Save"}),e.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>Ge?Ja(Q):Sn(Q),disabled:g===de,children:Ge?"SAVE":"EDIT"})]}):e.jsx("button",{className:"btn-icon",title:"Edit Customer",onClick:()=>Oa(Q),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),k==="admin"&&e.jsx("button",{className:"btn-icon delete-btn",title:"Delete Customer",onClick:()=>lt(Q),style:{color:"#ff4d4d"},children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]}),Q.role==="user"&&Ae&&e.jsx("tr",{className:"expanded-detail-row",children:e.jsx("td",{colSpan:14,children:e.jsxs("div",{className:`expanded-detail-grid ${Ge?"is-editing":""}`,children:[e.jsxs("div",{className:"detail-card",children:[e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Password"}),e.jsx("span",{children:Q.displayPassword||""})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Name"}),e.jsxs("span",{children:[`${Q.firstName||""} ${Q.lastName||""}`.trim()||""," ",e.jsx("button",{type:"button",className:"link-edit-btn",onClick:()=>Ka(Q,"name"),children:"change"})]})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Min Bet"}),e.jsx("span",{children:Ge?e.jsx("input",{type:"number",value:$t.minBet,onChange:Wt=>sa(Q,"minBet",Wt.target.value)}):`$${Number(Q.minBet??0).toLocaleString()}`})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Max Bet"}),e.jsx("span",{children:Ge?e.jsx("input",{type:"number",value:$t.maxBet,onChange:Wt=>sa(Q,"maxBet",Wt.target.value)}):`$${Number(Q.wagerLimit??Q.maxBet??0).toLocaleString()}`})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Credit Limit"}),e.jsx("span",{children:Ge?e.jsx("input",{type:"number",value:$t.creditLimit,onChange:Wt=>sa(Q,"creditLimit",Wt.target.value)}):`$${Number(Q.creditLimit||0).toLocaleString()}`})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Settle Limit"}),e.jsx("span",{children:Ge?e.jsx("input",{type:"number",value:$t.settleLimit,onChange:Wt=>sa(Q,"settleLimit",Wt.target.value)}):`$${Number(Q.balanceOwed||0).toLocaleString()}`})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Balance"}),e.jsxs("span",{className:Number(Q.balance)<0?"neg":"pos",children:[Dt(Q.balance)," ",e.jsx("button",{type:"button",className:"link-edit-btn",onClick:()=>Ka(Q,"balance"),children:"change"})]})]})]}),e.jsxs("div",{className:"detail-card",children:[e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Pending"}),e.jsx("span",{children:Dt(Q.pendingBalance||0)})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Available"}),e.jsx("span",{children:Dt(Q.availableBalance??Q.balance??0)})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"FP Balance"}),e.jsx("span",{children:Dt(Q.freeplayBalance||0)})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Parlay Max Wager"}),e.jsx("span",{children:"$0"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Parlay Max Payout"}),e.jsx("span",{children:"$6,000"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Status"}),e.jsx("span",{children:Ge?e.jsxs("select",{value:$t.status,onChange:Wt=>sa(Q,"status",Wt.target.value),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"read_only",children:"Read Only"})]}):Za(Q.status)})]})]}),e.jsxs("div",{className:"detail-card",children:[e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Max Contest Wager"}),e.jsx("span",{children:"$0"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Max Contest Payout"}),e.jsx("span",{children:"$5,000"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Max Soccer Wager"}),e.jsx("span",{children:"$0"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Sportsbook"}),e.jsx("span",{children:Ge?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!$t.sports,onChange:()=>sa(Q,"sports",!$t.sports)}),e.jsx("span",{className:"slider-mini"})]}):Q.settings?.sports??!0?"On":"Off"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Casino"}),e.jsx("span",{children:Ge?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!$t.casino,onChange:()=>sa(Q,"casino",!$t.casino)}),e.jsx("span",{className:"slider-mini"})]}):Q.settings?.casino??!0?"On":"Off"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Horses"}),e.jsx("span",{children:Ge?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!$t.racebook,onChange:()=>sa(Q,"racebook",!$t.racebook)}),e.jsx("span",{className:"slider-mini"})]}):Q.settings?.racebook??!0?"On":"Off"})]})]})]})})})]},de)})})]})})}),w&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("h3",{children:["Edit ",q?.role==="user"?"Player":q?.role==="agent"?"Agent":"Master Agent",": ",q?.username]}),e.jsxs("form",{onSubmit:Xa,children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",value:B.firstName,onChange:R=>ee({...B,firstName:R.target.value}),placeholder:q?.firstName||"First name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",value:B.lastName,onChange:R=>ee({...B,lastName:R.target.value}),placeholder:q?.lastName||"Last name"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:B.phoneNumber,onChange:R=>ee({...B,phoneNumber:R.target.value}),placeholder:q?.phoneNumber||"Phone number"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Min bet:"}),e.jsx("input",{type:"number",value:B.minBet,onChange:R=>ee({...B,minBet:R.target.value}),placeholder:`${q?.minBet??25}`})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Max bet:"}),e.jsx("input",{type:"number",value:B.maxBet,onChange:R=>ee({...B,maxBet:R.target.value}),placeholder:`${q?.maxBet??200}`})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Credit limit:"}),e.jsx("input",{type:"number",value:B.creditLimit,onChange:R=>ee({...B,creditLimit:R.target.value}),placeholder:`${q?.creditLimit??1e3}`})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Settle Limit:"}),e.jsx("input",{type:"number",value:B.balanceOwed,onChange:R=>ee({...B,balanceOwed:R.target.value}),placeholder:`${q?.balanceOwed??0}`})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"New Password (leave blank to keep)"}),e.jsx("input",{type:"password",value:B.password,onChange:R=>ee({...B,password:R.target.value})})]}),e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-icon",title:"View Details",onClick:()=>ht(q),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"btn-icon",title:"Detailed View (Edit)",onClick:()=>Oa(q),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"btn-icon",title:"Adjust Balance / Settle",onClick:()=>ma(q),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),e.jsx("button",{className:"btn-icon",title:"Reset Password",onClick:()=>Qa(q),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),k==="admin"&&e.jsx("button",{className:"btn-icon delete-btn",title:"Delete Customer",onClick:()=>lt(q),style:{color:"#ff4d4d"},children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),e.jsxs("div",{className:"payment-apps-section",children:[e.jsx("h4",{className:"section-title",style:{color:"#0d3b5c",marginBottom:"15px"},children:"Payment Apps"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Venmo"}),e.jsx("input",{type:"text",value:B.apps.venmo,onChange:R=>ee({...B,apps:{...B.apps,venmo:R.target.value}}),placeholder:"@username"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cashapp"}),e.jsx("input",{type:"text",value:B.apps.cashapp,onChange:R=>ee({...B,apps:{...B.apps,cashapp:R.target.value}}),placeholder:"$cashtag"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Apple Pay"}),e.jsx("input",{type:"text",value:B.apps.applePay,onChange:R=>ee({...B,apps:{...B.apps,applePay:R.target.value}}),placeholder:"Phone/Email"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Zelle"}),e.jsx("input",{type:"text",value:B.apps.zelle,onChange:R=>ee({...B,apps:{...B.apps,zelle:R.target.value}}),placeholder:"Phone/Email"})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>A(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-secondary",style:{marginLeft:"auto",backgroundColor:"#17a2b8",color:"white"},onClick:()=>{const R=B.password||"N/A",ae=`Heres your account info. PLEASE READ ALL RULES THOROUGHLY.

Login: ${B.username||q.username}
Password: ${R}
Min bet: $${B.minBet}
Max bet: $${B.maxBet}
Credit: $${B.creditLimit}


PAYOUTS
PAY-INS are Tuesday and PAY-OUTS are Tuesday/Wednesday by end of day. Week starts Tuesday and ends Monday night. Settle ups are +/-$200 so anything under $200 will push to the following week. You must bet $500 of your own money to collect your FIRST payout. If your account is inactive for 2 weeks youll be required to settle your balance even if its under $200. Max weekly payouts are 2-3x your credit limit depending on size. Balance will still be paid out but will roll to the following week.

All we ask for is communication when it comes to payouts so we can get everyone paid quickly and as smoothly as possible. If you cant pay right away let us know and we can set up a payment schedule. We accept Venmo, Cashapp and Apple Pay. You are REQUIRED to have multiple apps to send or receive payment on. PLEASE DO NOT SEND MONEY without asking where to send first and DO NOT LABEL anything to do with sports or gambling. We will let you know Tuesday where to send. 

We kick back 20% freeplay of all losses if you pay ON TIME and in FULL and 30% if you pay in CASH. If you are a hassle to collect from and dont respond or dont pay on time or in full then you will be shown the same reciprocation when it comes to payouts. 

REFFERALS
$200 freeplay bonuses for any ACTIVE  and TRUSTWORTHY referrals. YOU are responsible for your referrals debt if they DO NOT PAY and vise versa. In order for you to get your free play bonus your refferal must go through one settle up of $200.

RULES
NO BOTS OR SHARP PLAY. We have IT monitoring to make sure there is no cheating. If we find out you are using a VPN and there are multiple people using your IP address or someone is logging into the same account, or you are using a system to place bets for you, you will be automatically kicked off and we reserve the right to not pay. No excuses. Weve heard them all so dont waste your time. 

FREEPLAY
I start all NEW players off with $200 in freeplay. In order to collect your winnings you have to place $500 of bets with your own money. (This is to prevent everyone who abuses the free play to win free money and leave). When you place a bet you have to click Use your freeplay balance $ (If you dont youre using your own money). Since we are very generous with freeplay unfortunately it is limited to straight bets only and no parlays. I offer 20% free play to anyone above settle to roll your balance to limit transactions. If you chose to roll for free play you must be actively betting with your own money or your free play will not count. 

I need active players so if you could do me a solid and place a bet today even if its with freeplay. Good luck! Lmk that youve read all the rules and or if you have any questions and need me to adjust anything!
`;navigator.clipboard.writeText(ae).then(()=>alert("Copied to clipboard!"))},children:"Copy Info"})]})]})]})}),je&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content bulk-edit-modal",children:[e.jsxs("h3",{children:["Edit ",Le()]}),e.jsxs("form",{onSubmit:Pt,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:Le()}),J==="status"?e.jsxs("select",{value:W,onChange:R=>ie(R.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"read_only",children:"Read Only"})]}):e.jsx("input",{type:"number",step:"1",min:J==="balanceAdjust"?void 0:"0",value:W,onChange:R=>ie(R.target.value),placeholder:J==="balanceAdjust"?"Enter + / - amount":"Enter amount",required:!0})]}),e.jsx("p",{className:"bulk-edit-hint",children:J==="balanceAdjust"?"This adds or subtracts from balance for all players shown in the current list.":"This updates all players shown in the current list."}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:g==="bulk-update",children:g==="bulk-update"?"Saving...":"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>te(!1),children:"Cancel"})]})]})]})}),Be.open&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content bulk-edit-modal",children:[e.jsxs("h3",{children:["Edit ",Be.type==="name"?"Name":Be.type==="password"?"Password":"Balance",": ",Be.username]}),e.jsxs("form",{onSubmit:za,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:Be.type==="name"?"Name":Be.type==="password"?"Password":"Balance"}),e.jsx("input",{type:Be.type==="balance"?"number":"text",value:Be.value,onChange:R=>ft(ae=>({...ae,value:R.target.value})),autoFocus:!0,required:!0})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:g===Be.customerId,children:g===Be.customerId?"Saving...":"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>ft({open:!1,type:"",customerId:null,username:"",value:""}),children:"Cancel"})]})]})]})}),I&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-glass-content",children:[e.jsxs("h3",{children:["Adjust Balance: ",$.username]}),e.jsxs("form",{onSubmit:Nt,children:[e.jsxs("div",{className:"premium-field-info",children:[e.jsx("label",{children:"Current Net Balance"}),e.jsx("div",{className:`large-val ${$.currentBalance<0?"neg":"pos"}`,children:Dt($.currentBalance)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"New Net Balance"}),e.jsxs("div",{className:"input-with-symbol",children:[e.jsx("span",{className:"sym",children:"$"}),e.jsx("input",{type:"number",step:"0.01",value:$.nextBalance,onChange:R=>D({...$,nextBalance:R.target.value}),autoFocus:!0,required:!0})]}),e.jsx("small",{className:"field-hint",children:"Setting a new net balance will adjust the credit/owed amount accordingly."})]}),e.jsxs("div",{className:"modal-premium-actions",children:[e.jsx("button",{type:"submit",className:"btn-save-premium",disabled:g!==null,children:g!==null?"Updating...":"Confirm Adjustment"}),e.jsx("button",{type:"button",className:"btn-cancel-premium",onClick:()=>S(!1),children:"Cancel"})]})]})]})}),e.jsx("style",{children:`
        .premium-admin-theme { 
          background: #0f172a; 
          min-height: 100vh; color: #f8fafc; 
          font-family: 'Inter', sans-serif;
          padding: 24px;
        }
        .view-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px; border: none; padding: 0; }
        .header-icon-title { display: flex; align-items: center; gap: 16px; }
        .glow-accent { width: 8px; height: 32px; background: #3b82f6; border-radius: 4px; box-shadow: 0 0 15px #3b82f6; }
        .view-header h2 { font-size: 28px; font-weight: 800; margin: 0; color: #0f172a; }
        
        .btn-create-premium {
          background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
          color: white; border: none; padding: 12px 24px; border-radius: 12px;
          font-weight: 700; display: flex; align-items: center; gap: 10px;
          cursor: pointer; box-shadow: 0 10px 20px rgba(37,99,235,0.2);
          transition: all 0.2s;
        }
        .btn-create-premium:hover { transform: translateY(-2px); box-shadow: 0 15px 30px rgba(37,99,235,0.3); }

        .premium-toolbar {
          background: rgba(30, 41, 59, 0.5); border: 1px solid rgba(255,255,255,0.1);
          border-radius: 20px; padding: 24px; display: flex; flex-direction: column; gap: 20px;
          margin-bottom: 32px; backdrop-filter: blur(10px);
        }
        .toolbar-section { display: flex; gap: 20px; flex-wrap: wrap; align-items: flex-end; }
        .t-group { display: flex; flex-direction: column; gap: 8px; flex: 1; min-width: 150px; }
        .t-group.small { flex: 0 1 100px; min-width: 80px; }
        .t-group label { font-size: 11px; text-transform: uppercase; font-weight: 800; color: #64748b; letter-spacing: 0.5px; }
        .t-group input, .t-group select {
          background: #0f172a; border: 1px solid rgba(255,255,255,0.1); color: white;
          padding: 10px 14px; border-radius: 8px; font-size: 14px; outline: none; transition: all 0.2s;
        }
        .t-group input:focus { border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59,130,246,0.1); }
        .readonly-input { background: rgba(0,0,0,0.2) !important; color: #64748b !important; }

        .btn-submit-premium {
          background: #f8fafc; color: #0f172a; border: none; padding: 12px 24px;
          border-radius: 10px; font-weight: 700; cursor: pointer; transition: all 0.2s;
        }
        .btn-submit-premium:hover { background: #fff; transform: scale(1.02); }

        .agent-search-picker {
          position: relative;
          border: 1px solid #cbd5e1;
          border-radius: 8px;
          background: #f8fafc;
        }
        .header-agent-picker {
          min-width: 320px;
          max-width: 420px;
        }
        .agent-search-head {
          display: grid;
          grid-template-columns: auto 1fr;
          align-items: center;
        }
        .agent-search-label {
          padding: 8px 10px;
          border-right: 1px solid #cbd5e1;
          color: #334155;
          font-size: 13px;
          font-weight: 600;
          white-space: nowrap;
        }
        .agent-search-head input {
          border: none !important;
          background: transparent !important;
          padding: 8px 10px !important;
          outline: none;
        }
        .agent-search-list {
          position: absolute;
          z-index: 30;
          left: 0;
          right: 0;
          top: calc(100% + 4px);
          max-height: 220px;
          overflow-y: auto;
          border: 1px solid #cbd5e1;
          border-radius: 8px;
          background: #ffffff;
          box-shadow: 0 12px 22px rgba(15, 23, 42, 0.15);
        }
        .agent-search-item {
          width: 100%;
          border: none;
          background: #fff;
          padding: 8px 10px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          cursor: pointer;
          font-size: 13px;
          color: #1e293b;
          border-bottom: 1px solid #e2e8f0;
        }
        .agent-search-item:hover,
        .agent-search-item.selected {
          background: #e2f2ff;
        }
        .agent-type-badge {
          font-weight: 800;
          font-size: 13px;
          line-height: 1;
        }
        .agent-type-badge.master { color: #0f8a0f; }
        .agent-type-badge.agent { color: #dc2626; }
        .agent-search-empty {
          padding: 10px;
          color: #64748b;
          font-size: 12px;
        }

        .table-glass-container {
          background: rgba(30, 41, 59, 0.3); border: 1px solid rgba(255,255,255,0.05);
          border-radius: 24px; padding: 20px;
        }
        .table-actions { margin-bottom: 20px; display: flex; justify-content: space-between; }
        .clickable-col-head { cursor: pointer; text-decoration: underline; text-decoration-style: dotted; }
        .clickable-col-head:hover { color: #3b82f6; }

        .scroll-wrapper { overflow-x: auto; }
        .row-expand-btn {
          border: none;
          background: transparent;
          color: #475569;
          font-size: 20px;
          line-height: 1;
          cursor: pointer;
          margin-left: 8px;
        }
        .user-cell {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 6px;
        }
        .expanded-detail-row td {
          background: #f0f6b3;
          padding: 12px 16px;
        }
        .expanded-detail-grid {
          display: grid;
          grid-template-columns: repeat(3, minmax(0, 1fr));
          gap: 12px;
        }
        .detail-card {
          background: #f8fafc;
          border: 1px solid #cbd5e1;
          border-radius: 6px;
        }
        .detail-line {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 10px;
          padding: 12px 14px;
          border-bottom: 1px solid #e2e8f0;
          font-size: 15px;
          color: #1e293b;
        }
        .detail-line:last-child {
          border-bottom: none;
        }
        .detail-line input,
        .detail-line select {
          width: 140px;
          border: 1px solid #94a3b8;
          border-radius: 4px;
          padding: 4px 8px;
          font-size: 14px;
          color: #0f172a;
          background: #fff;
        }
        .link-edit-btn {
          border: none;
          background: transparent;
          color: #2563eb;
          text-decoration: underline;
          cursor: pointer;
          margin-left: 8px;
          font-size: 12px;
          text-transform: uppercase;
        }
        .premium-table { width: 100%; border-collapse: separate; border-spacing: 0 8px; }
        .premium-table th { text-align: left; padding: 12px 16px; font-size: 11px; text-transform: uppercase; color: #64748b; font-weight: 800; }
        .customer-row { background: rgba(255,255,255,0.02); transition: all 0.2s; }
        .customer-row:hover { background: rgba(255,255,255,0.05); transform: translateY(-1px); }
        .customer-row td { padding: 16px; border-top: 1px solid rgba(255,255,255,0.02); border-bottom: 1px solid rgba(255,255,255,0.02); }
        .customer-row td:first-child { border-left: 1px solid rgba(255,255,255,0.02); border-radius: 12px 0 0 12px; }
        .customer-row td:last-child { border-right: 1px solid rgba(255,255,255,0.02); border-radius: 0 12px 12px 0; }
        .agent-group-row td {
          background: #073b53;
          color: #e8f5ff;
          font-weight: 700;
          letter-spacing: 0.3px;
          padding: 9px 12px;
        }

        .user-link-btn {
          background: none; border: none; display: flex; align-items: center; gap: 12px;
          color: #3b82f6; font-weight: 700; cursor: pointer; padding: 0;
        }
        .btn-save-clean {
          background: #94a3b8 !important;
          color: #fff !important;
          opacity: 0.7;
        }
        .btn-save-dirty {
          background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%) !important;
          color: #fff !important;
          box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.2);
        }
        .btn-save-dirty:hover {
          filter: brightness(1.05);
        }
        .avatar-small {
          width: 32px; height: 32px; background: #334155; color: white;
          border-radius: 50%; display: flex; align-items: center; justify-content: center;
          font-size: 12px; font-weight: 800; border: 2px solid rgba(59,130,246,0.3);
        }
        
        .highlight-cell { color: #10b981; font-weight: 700; }
        .balance-cell button {
          background: none; border: none; font-weight: 800; cursor: pointer;
          color: inherit; text-decoration: underline; text-decoration-style: dotted;
        }
        .balance-cell.pos { color: #10b981; }
        .balance-cell.neg { color: #ef4444; }

        .status-select {
          background: none; border: none; color: white; font-weight: 700;
          text-transform: uppercase; font-size: 10px; cursor: pointer; padding: 4px 8px;
          border-radius: 6px; min-width: 90px;
        }
        .status-select.active { background: rgba(16,185,129,0.1); color: #10b981; }
        .status-select.disabled, .status-select.suspended { background: rgba(239,68,68,0.1); color: #ef4444; }

        .switch-mini {
          position: relative;
          display: inline-block;
          width: 52px;
          height: 28px;
        }
        .switch-mini input { opacity: 0; width: 0; height: 0; }
        .slider-mini {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #94a3b8;
          transition: .2s;
          border-radius: 999px;
        }
        .slider-mini:before {
          position: absolute;
          content: "";
          height: 20px;
          width: 20px;
          left: 4px;
          top: 4px;
          background-color: white;
          transition: .2s;
          border-radius: 50%;
        }
        .switch-mini input:checked + .slider-mini { background-color: #10b981; }
        .switch-mini input:checked + .slider-mini:before { transform: translateX(24px); }

        .bulk-edit-modal { max-width: 560px; }
        .bulk-edit-hint { margin-top: 8px; color: #64748b; font-size: 13px; }

        @media (max-width: 1200px) {
          .expanded-detail-grid { grid-template-columns: 1fr; }
        }

        .capability-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px; }
        .cap-tag {
          border: none; border-radius: 4px; padding: 2px 4px; font-size: 9px;
          font-weight: 800; cursor: pointer; transition: all 0.2s;
        }
        .cap-tag.on { background: #10b981; color: white; }
        .cap-tag.off { background: rgba(255,255,255,0.05); color: #64748b; }

        .loading-state { padding: 40px; text-align: center; display: flex; flex-direction: column; align-items: center; gap: 16px; }
        .spinner { width: 40px; height: 40px; border: 4px solid rgba(59,130,246,0.1); border-top-color: #3b82f6; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* Modal Enhancements */
        .modal-overlay { position: fixed; inset: 0; background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(8px); display: flex; align-items: center; justify-content: center; z-index: 1000; padding: 20px; }
        .modal-glass-content { background: #1e293b; border: 1px solid rgba(255,255,255,0.1); border-radius: 24px; padding: 32px; width: 100%; max-width: 650px; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); }
        .modal-glass-content h3 { margin: 0 0 24px 0; font-size: 20px; font-weight: 800; color: #fff; }
        
        .p-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .p-field { display: flex; flex-direction: column; gap: 8px; margin-bottom: 20px; }
        .p-field label { font-size: 11px; text-transform: uppercase; font-weight: 800; color: #64748b; letter-spacing: 0.5px; }
        .p-field input { background: #0f172a; border: 1px solid rgba(255,255,255,0.1); color: white; padding: 12px 16px; border-radius: 12px; font-size: 14px; outline: none; }
        .p-field input:focus { border-color: #3b82f6; }
        
        .modal-premium-actions { display: flex; gap: 12px; margin-top: 32px; }
        .btn-save-premium { flex: 2; background: #3b82f6; color: white; border: none; padding: 14px; border-radius: 12px; font-weight: 700; cursor: pointer; transition: all 0.2s; }
        .btn-save-premium:hover { background: #2563eb; transform: translateY(-1px); }
        .btn-cancel-premium { flex: 1; background: rgba(255,255,255,0.05); color: #94a3b8; border: none; padding: 14px; border-radius: 12px; font-weight: 700; cursor: pointer; }
        
        .premium-field-info { background: rgba(0,0,0,0.2); border-radius: 16px; padding: 20px; margin-bottom: 24px; text-align: center; }
        .premium-field-info label { display: block; font-size: 11px; text-transform: uppercase; color: #64748b; margin-bottom: 8px; font-weight: 800; }
        .large-val { font-size: 32px; font-weight: 900; }
        .input-with-symbol { position: relative; }
        .input-with-symbol .sym { position: absolute; left: 16px; top: 50%; transform: translateY(-50%); color: #64748b; font-weight: 700; }
        .input-with-symbol input { padding-left: 32px; width: 100%; font-size: 18px; font-weight: 800; }
        .field-hint { font-size: 12px; color: #64748b; margin-top: 4px; }

        /* Role Colors & Badges */
        .role-user { border-left: 3px solid #3b82f6; }
        .role-agent { border-left: 3px solid #10b981; }
        .role-super_agent { border-left: 3px solid #eab308; }

        .avatar-small.role-agent { border-color: #10b981; background: rgba(16,185,129,0.1); }
        .avatar-small.role-super_agent { border-color: #eab308; background: rgba(234,179,8,0.1); }

        .role-badge {
          display: inline-block; padding: 2px 8px; border-radius: 6px;
          font-size: 10px; font-weight: 800; text-transform: uppercase;
          margin-bottom: 4px;
        }
        .role-badge.user { background: rgba(59,130,246,0.1); color: #3b82f6; }
        .role-badge.agent { background: rgba(16,185,129,0.1); color: #10b981; }
        .role-badge.super_agent { background: rgba(234,179,8,0.1); color: #eab308; }

        .hierarchy-info { display: flex; flex-direction: column; gap: 4px; }
        .capability-mini-grid { display: flex; gap: 4px; }
        .cap-dot { width: 6px; height: 6px; border-radius: 50%; background: #10b981; }

      `})]})]})]})}const i0=[{value:"deposit",label:"Deposit"},{value:"withdrawal",label:"Withdraw"},{value:"credit_adj",label:"Credit Adj"},{value:"debit_adj",label:"Debit Adj"},{value:"fp_deposit",label:"FP Deposit"}],r0=10,o0=(l=new Date)=>{const r=new Date(l);if(Number.isNaN(r.getTime()))return"";const o=r.getFullYear(),d=String(r.getMonth()+1).padStart(2,"0"),h=String(r.getDate()).padStart(2,"0");return`${o}-${d}-${h}`},$r={deposit:"Customer Deposit",withdrawal:"Customer Withdrawal",credit_adj:"Customer Credit Adjustment",debit_adj:"Customer Debit Adjustment",fp_deposit:"Customer Freeplay Deposit"},ud=(l,r="")=>({id:l,agentId:r,searchQuery:"",selectedUserId:"",type:"deposit",amount:"",figureDate:o0(),description:$r.deposit,searchOpen:!1,busy:!1,error:""});function c0(){const[l,r]=u.useState("admin"),[o,d]=u.useState([]),[h,f]=u.useState([]),[b,v]=u.useState("manual"),[x,g]=u.useState(""),[y,p]=u.useState({}),[j,C]=u.useState(()=>Array.from({length:r0},(P,ce)=>ud(`manual-${ce+1}`))),[N,M]=u.useState({}),[_,k]=u.useState({totalDeposits:0,totalWithdrawals:0,pendingCount:0}),[F,L]=u.useState([]),[E,w]=u.useState([]),[A,q]=u.useState(!0),[G,B]=u.useState(!1),[ee,I]=u.useState(""),[S,$]=u.useState(""),D=u.useMemo(()=>{const P=new Map;for(const ce of o){const me=String(ce.id||ce._id||"");me&&P.set(me,ce)}return P},[o]),J=u.useMemo(()=>{const P=x.trim().toLowerCase();return P?h.filter(ce=>{const me=String(ce.username||"").toLowerCase(),Ne=String(ce.phoneNumber||"").toLowerCase();return me.includes(P)||Ne.includes(P)}):h},[h,x]),H=async(P,ce)=>{if(ce==="admin")try{const me=await cj(P);k({totalDeposits:Number(me?.totalDeposits||0),totalWithdrawals:Number(me?.totalWithdrawals||0),pendingCount:Number(me?.pendingCount||0)})}catch{}},W=async(P,ce)=>{if(ce!=="admin"){L(E);return}try{const me=await ll({user:"",type:"all",status:"all",time:"30d",limit:30},P);L(Array.isArray(me?.transactions)?me.transactions:[])}catch{L(E)}},ie=async()=>{const P=localStorage.getItem("token");if(!P){I("Please login to view cashier data."),q(!1);return}try{q(!0),I("");const ce=await Ga(P),me=String(ce?.role||"admin");r(me);let Ne=[];if(me==="admin"?Ne=await rl(P):Ne=await gd(P),d(Array.isArray(Ne)?Ne:[]),me==="admin"||me==="master_agent"||me==="super_agent")try{const we=await fi(P),Ce=Array.isArray(we)?we:[];f(Ce),p(Me=>{const Re={...Me};for(const st of Ce){const Ke=String(st.id||st._id||"");Ke&&typeof Re[Ke]!="boolean"&&(Re[Ke]=!1)}return Re}),M(Me=>{const Re={...Me};for(const st of Ce){const Ke=String(st.id||st._id||"");Ke&&!Re[Ke]&&(Re[Ke]=ud(Ke,Ke))}return Re})}catch{f([])}else f([]);await Promise.all([H(P,me),W(P,me)])}catch(ce){I(ce.message||"Failed to load cashier data")}finally{q(!1)}};u.useEffect(()=>{ie()},[]),u.useEffect(()=>{l!=="admin"&&L(E)},[E,l]);const je=P=>{if(P==null)return"";const ce=Number(P);return Number.isNaN(ce)?"":`$${ce.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`},te=P=>{const ce=String(P.searchQuery||"").trim().toLowerCase();return o.filter(we=>P.agentId?String(we?.agentId?._id||we?.agentId||"")===String(P.agentId):!0).filter(we=>{if(!ce)return!0;const Ce=String(we.username||"").toLowerCase(),Me=String(we.fullName||`${we.firstName||""} ${we.lastName||""}`).toLowerCase(),Re=String(we.phoneNumber||"").toLowerCase();return Ce.includes(ce)||Me.includes(ce)||Re.includes(ce)}).slice(0,12)},O=P=>{const ce=String(P?.reason||"").toUpperCase(),me=String(P?.type||"").toLowerCase();return ce==="FREEPLAY_ADJUSTMENT"?"FP Deposit":ce==="CASHIER_DEPOSIT"||me==="deposit"?"Deposit":ce==="CASHIER_WITHDRAWAL"||me==="withdrawal"?"Withdraw":ce==="CASHIER_CREDIT_ADJUSTMENT"?"Credit Adj":ce==="CASHIER_DEBIT_ADJUSTMENT"?"Debit Adj":"Adjustment"},Z=P=>P==="deposit"||P==="credit_adj",oe=(P,ce,me=!1)=>{if(me){M(Ne=>{const we=Ne[P];return we?{...Ne,[P]:ce(we)}:Ne});return}C(Ne=>Ne.map(we=>we.id===P?ce(we):we))},K=async(P,ce=!1)=>{const me=localStorage.getItem("token");if(!me){I("Please login to continue.");return}const Ne=Number(P.amount||0),we=String(P.selectedUserId||""),Ce=D.get(we);if(!Ce){oe(P.id,mt=>({...mt,error:"Select a customer first."}),ce);return}if(!Number.isFinite(Ne)||Ne<=0){oe(P.id,mt=>({...mt,error:"Enter a valid amount."}),ce);return}const Me=Number(Ce.balance||0),Re=Number(Ce.freeplayBalance||0),st=(P.description||"").trim()||$r[P.type],Ke=P.figureDate?`${st} (Figure Date: ${P.figureDate})`:st;oe(P.id,mt=>({...mt,busy:!0,error:""}),ce),B(!0),I(""),$("");try{let mt=Me,vt=Re,Be="CASHIER_CREDIT_ADJUSTMENT",ft="adjustment";P.type==="fp_deposit"?(vt=Re+Ne,await Dp(we,vt,me,Ke)):(mt=Z(P.type)?Me+Ne:Math.max(0,Me-Ne),P.type==="deposit"?(Be="CASHIER_DEPOSIT",ft="deposit"):P.type==="withdrawal"?(Be="CASHIER_WITHDRAWAL",ft="withdrawal"):P.type==="credit_adj"?(Be="CASHIER_CREDIT_ADJUSTMENT",ft="adjustment"):(Be="CASHIER_DEBIT_ADJUSTMENT",ft="adjustment"),await il(we,{balance:mt,type:ft,reason:Be,description:Ke},me)),d(Ut=>Ut.map(ta=>String(ta.id||ta._id||"")!==we?ta:{...ta,balance:mt,freeplayBalance:vt}));const Gt={id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,type:P.type==="deposit"?"deposit":P.type==="withdrawal"?"withdrawal":"adjustment",user:Ce.username,userId:we,amount:Ne,date:new Date().toISOString(),status:"completed",reason:P.type==="fp_deposit"?"FREEPLAY_ADJUSTMENT":Be,description:Ke};w(Ut=>[Gt,...Ut].slice(0,30)),await Promise.all([H(me,l),W(me,l)]),oe(P.id,Ut=>({...Ut,amount:"",description:$r[Ut.type],busy:!1,error:""}),ce),$(`Transaction applied for ${Ce.username}.`)}catch(mt){oe(P.id,vt=>({...vt,busy:!1,error:mt.message||"Failed to apply transaction."}),ce)}finally{B(!1)}},V=(P,ce,me)=>{const Ne=te(P);return e.jsxs("div",{className:"cashier-customer-cell",children:[e.jsx("button",{type:"button",className:"cashier-find-btn",children:"Find"}),e.jsxs("div",{className:"cashier-customer-search",children:[e.jsx("input",{type:"text",placeholder:"Search ...",value:P.searchQuery,onFocus:()=>ce({...P,searchOpen:!0}),onBlur:()=>setTimeout(()=>ce({...P,searchOpen:!1}),120),onChange:we=>ce({...P,searchQuery:we.target.value,searchOpen:!0,selectedUserId:""})}),P.searchOpen&&e.jsx("div",{className:"cashier-search-dropdown",children:Ne.length===0?e.jsx("div",{className:"cashier-search-empty",children:"No matching users"}):Ne.map(we=>{const Ce=String(we.id||we._id||"");return e.jsxs("button",{type:"button",className:"cashier-search-item",onMouseDown:()=>me(we),children:[e.jsx("span",{children:String(we.username||"").toUpperCase()}),e.jsx("small",{children:we.fullName||`${we.firstName||""} ${we.lastName||""}`})]},Ce)})})]})]})},U=(P,ce=!1)=>{const me=D.get(String(P.selectedUserId||"")),Ne=Number(me?.balanceOwed||0),we=Number(me?.balance||0),Ce=Me=>{oe(P.id,()=>Me,ce)};return e.jsxs("tr",{children:[e.jsx("td",{children:V(P,Ce,Me=>{const Re=String(Me.id||Me._id||"");Ce({...P,selectedUserId:Re,searchQuery:Me.username||"",searchOpen:!1,error:""})})}),e.jsx("td",{className:"cashier-num",children:me?je(Ne):"--"}),e.jsx("td",{className:"cashier-num",children:me?je(we):"--"}),e.jsx("td",{children:e.jsx("select",{value:P.type,onChange:Me=>Ce({...P,type:Me.target.value,description:$r[Me.target.value]||P.description}),children:i0.map(Me=>e.jsx("option",{value:Me.value,children:Me.label},Me.value))})}),e.jsx("td",{children:e.jsxs("div",{className:"cashier-amount-wrap",children:[e.jsx("input",{type:"number",min:"0",step:"0.01",placeholder:"Amount",value:P.amount,onChange:Me=>Ce({...P,amount:Me.target.value})}),e.jsx("button",{type:"button",className:"cashier-zero-btn",onClick:()=>Ce({...P,amount:"0"}),children:"Zero"})]})}),e.jsx("td",{children:e.jsx("input",{type:"date",value:P.figureDate,onChange:Me=>Ce({...P,figureDate:Me.target.value})})}),e.jsx("td",{children:e.jsx("input",{type:"text",placeholder:"Description",value:P.description,onChange:Me=>Ce({...P,description:Me.target.value})})}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"cashier-continue-btn",disabled:P.busy||G,onClick:()=>K(P,ce),children:P.busy?"Saving...":"Continue"}),P.error&&e.jsx("div",{className:"cashier-row-error",children:P.error})]})]},P.id)};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Cashier"})}),e.jsxs("div",{className:"view-content cashier-v2",children:[A&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading cashier data..."}),!A&&e.jsxs(e.Fragment,{children:[ee&&e.jsx("div",{className:"alert error",children:ee}),S&&e.jsx("div",{className:"alert success",children:S}),e.jsxs("div",{className:"cashier-summary",children:[e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total Deposits (Today)"}),e.jsx("p",{className:"amount",children:je(_.totalDeposits)})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total Withdrawals (Today)"}),e.jsx("p",{className:"amount",children:je(_.totalWithdrawals)})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Pending Transactions"}),e.jsx("p",{className:"amount",children:Number(_.pendingCount||0)})]})]}),e.jsxs("div",{className:"cashier-top-filters",children:[e.jsxs("div",{className:"cashier-agent-filter",children:[e.jsx("span",{children:"Agents"}),e.jsx("input",{type:"text",placeholder:"Search ...",value:x,onChange:P=>g(P.target.value)})]}),e.jsxs("select",{value:b,onChange:P=>v(P.target.value),children:[e.jsx("option",{value:"manual",children:"Manual Mode"}),e.jsx("option",{value:"agent",children:"Agent Mode"})]})]}),b==="manual"?e.jsx("div",{className:"cashier-grid-wrap",children:e.jsxs("table",{className:"data-table cashier-entry-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Settle"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Transaction"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Figure Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:j.map(P=>U(P,!1))})]})}):e.jsx("div",{className:"cashier-agent-mode",children:J.length===0?e.jsx("div",{className:"cashier-empty",children:"No agents found."}):J.map(P=>{const ce=String(P.id||P._id||""),me=N[ce]||ud(ce,ce),Ne=!!y[ce];return e.jsxs("div",{className:"cashier-agent-card",children:[e.jsxs("button",{type:"button",className:"cashier-agent-head",onClick:()=>p(we=>({...we,[ce]:!we[ce]})),children:[e.jsx("span",{children:Ne?"":"+"}),e.jsx("span",{children:String(P.username||"").toUpperCase()})]}),Ne&&e.jsx("div",{className:"cashier-agent-body",children:e.jsxs("table",{className:"data-table cashier-entry-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Settle"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Transaction"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Figure Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:U(me,!0)})]})})]},ce)})}),e.jsxs("div",{className:"table-container",children:[e.jsx("h3",{children:"Recent Transactions"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:F.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"empty-msg",children:"No recent transactions."})}):F.map(P=>{const ce=O(P),me=ce==="Deposit"||ce==="Credit Adj"||ce==="FP Deposit";return e.jsxs("tr",{children:[e.jsx("td",{children:ce}),e.jsx("td",{children:P.user||"Unknown"}),e.jsx("td",{className:me?"positive":"negative",children:je(P.amount)}),e.jsx("td",{children:P.date?new Date(P.date).toLocaleString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${P.status||"completed"}`,children:P.status||"completed"})}),e.jsx("td",{children:P.description||""})]},P.id)})})]})]})]})]})]})}const Gf="admin_add_customer_recent_v2",Wf={sports:!0,casino:!0,racebook:!0,live:!0,props:!0,liveCasino:!0},Yf=()=>new Date().toLocaleString(),d0=()=>{const l="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let r="";for(let o=0;o<4;o+=1)r+=l[Math.floor(Math.random()*l.length)];return r},Vf=l=>{const r=String(l||"").match(/(\d+)/g);return!r||!r.length?"":r[r.length-1]},u0=(l,r)=>{const o=String(l||"").replace(/\D/g,"");if(o.length<7)return"";const d=Number(o);return Number.isNaN(d)?"":String(d+Number(r||0)).padStart(o.length,"0")};function h0({onBack:l}){const[r,o]=u.useState(""),[d,h]=u.useState(!0),[f,b]=u.useState(!1),[v,x]=u.useState(!0),[g,y]=u.useState(""),[p,j]=u.useState(""),[C,N]=u.useState([]),[M,_]=u.useState(null),[k,F]=u.useState([]),[L,E]=u.useState({count:1,agentId:"",prefix:"",startingAccount:"",startPhone:"",firstName:"PLAYER",lastName:"USER",manualPasswordBase:"",randomPasswordEnabled:!0,minBet:"",maxBet:"",creditLimit:"1000",balanceOwed:"0",freeplayBalance:"200",settings:{...Wf}}),[w,A]=u.useState({fullName:"",phoneNumber:"",password:"",prefix:"",username:"",parentMasterId:"",inheritFromId:"",defaultMinBet:"25",defaultMaxBet:"200",defaultCreditLimit:"1000",defaultSettleLimit:"0",settings:{...Wf}}),q=u.useMemo(()=>C.filter(U=>(U.role||"").toLowerCase()==="agent"),[C]),G=u.useMemo(()=>C.filter(U=>["master_agent","super_agent"].includes((U.role||"").toLowerCase())),[C]);u.useEffect(()=>{(async()=>{try{const P=localStorage.getItem("token");if(!P)return;const[ce,me]=await Promise.all([fi(P),Ga(P)]),Ne=Array.isArray(ce)?ce:[];N(Ne),_(me||null);const we=localStorage.getItem(Gf);if(we){const Ce=JSON.parse(we);Array.isArray(Ce)&&F(Ce)}}catch(P){y(P.message||"Failed to load add customer context.")}finally{x(!1)}})()},[]);const B=U=>{F(U),localStorage.setItem(Gf,JSON.stringify(U))},ee=U=>{const P=[...U,...k].slice(0,100);B(P)},I=()=>{y(""),j("")},S=async U=>{if(I(),o(U),h(!1),U==="player"&&!L.startingAccount){const ce=(q.find(me=>(me.id||me._id)===L.agentId)?.username||M?.username||"").toUpperCase();if(ce)try{const me=localStorage.getItem("token"),Ne=await qa(ce,me,{type:"player"}),we=Vf(Ne?.nextUsername||"");E(Ce=>({...Ce,prefix:ce,startingAccount:we||Ce.startingAccount}))}catch{E(me=>({...me,prefix:ce}))}}},$=async(U,P)=>{if(I(),U==="agentId"){const me=(q.find(Ne=>(Ne.id||Ne._id)===P)?.username||"").toUpperCase();if(E(Ne=>({...Ne,agentId:P,prefix:me})),me)try{const Ne=localStorage.getItem("token"),we=await qa(me,Ne,{type:"player"}),Ce=Vf(we?.nextUsername||"");Ce&&E(Me=>({...Me,startingAccount:Ce}))}catch(Ne){console.error("Failed to preload next player account:",Ne)}return}E(ce=>({...ce,[U]:P}))},D=async(U,P,ce=r)=>{if(I(),U==="inheritFromId"){const me=G.find(Ne=>(Ne.id||Ne._id)===P);if(me){A(Ne=>({...Ne,inheritFromId:P,defaultMinBet:String(me.defaultMinBet??Ne.defaultMinBet),defaultMaxBet:String(me.defaultMaxBet??Ne.defaultMaxBet),defaultCreditLimit:String(me.defaultCreditLimit??Ne.defaultCreditLimit),defaultSettleLimit:String(me.defaultSettleLimit??Ne.defaultSettleLimit)}));return}}if(U==="prefix"){const me=String(P||"").toUpperCase().replace(/[^A-Z0-9]/g,"");if(A(Ne=>({...Ne,prefix:me,username:""})),me.length>=2)try{const Ne=localStorage.getItem("token"),Ce=await qa(me,Ne,ce==="master"?{suffix:"MA",type:"agent"}:{type:"agent"});A(Me=>({...Me,username:Ce?.nextUsername||""}))}catch(Ne){console.error("Failed to preload next agent username:",Ne)}return}A(me=>({...me,[U]:P}))},J=U=>{E(P=>({...P,settings:{...P.settings,[U]:!P.settings[U]}}))},H=U=>{A(P=>({...P,settings:{...P.settings,[U]:!P.settings[U]}}))},W=async()=>{const U=localStorage.getItem("token");if(!U)throw new Error("No authentication token found.");const P=Math.max(1,Math.min(20,Number(L.count||1)));if(!L.agentId)throw new Error("Select an agent first.");if(!L.prefix.trim())throw new Error("Prefix is required.");if(!L.startingAccount||Number(L.startingAccount)<=0)throw new Error("Starting account number must be greater than zero.");const ce=q.find(Re=>(Re.id||Re._id)===L.agentId),me=ce?.id||ce?._id||"";if(!me)throw new Error("Invalid agent selection.");const Ne=Number(L.startingAccount),we=[];let Ce=0,Me=0;for(let Re=0;Re<P;Re+=1){const st=`${L.prefix.toUpperCase()}${Ne+Re}`,mt=u0(L.startPhone,Re)||`${Date.now().toString().slice(-7)}${Re}`,vt=L.randomPasswordEnabled?d0():`${(L.manualPasswordBase||"PASS").toUpperCase()}${Ne+Re}`,Be={username:st,phoneNumber:mt,password:vt,firstName:P>1?`${L.firstName}${Re+1}`:L.firstName,lastName:L.lastName,agentId:me,minBet:Number(L.minBet||1),maxBet:Number(L.maxBet||5e3),creditLimit:Number(L.creditLimit||1e3),balanceOwed:Number(L.balanceOwed||0),freeplayBalance:Number(L.freeplayBalance||200),apps:{sportsbook:!!L.settings.sports,casino:!!L.settings.casino,racebook:!!L.settings.racebook,live:!!L.settings.live,props:!!L.settings.props,liveCasino:!!L.settings.liveCasino}};try{const ft=await Mp(Be,U);Ce+=1,we.push({id:`recent_${Date.now()}_${Re}`,type:"Player",username:ft?.user?.username||st,parent:ce?.username||"DIRECT",createdAt:Yf(),entityId:ft?.user?.id||"",entityType:"user"})}catch{Me+=1}}if(we.length&&ee(we),Ce===0)throw new Error("No player account was created. Check prefix/phone/username conflicts.");j(`Created ${Ce} player account(s).${Me?` ${Me} failed due to validation/conflict.`:""}`)},ie=async U=>{const P=localStorage.getItem("token");if(!P)throw new Error("No authentication token found.");if(!w.fullName.trim())throw new Error("Agent name is required.");if(!w.phoneNumber.trim())throw new Error("Phone number is required.");if(!w.password.trim())throw new Error("Password is required.");if(!w.prefix.trim())throw new Error("Prefix is required.");if(!w.username.trim())throw new Error("Username is required. Use Prefix first.");const ce={username:w.username.toUpperCase(),phoneNumber:w.phoneNumber,password:w.password,fullName:w.fullName,role:U==="master"?"master_agent":"agent",defaultMinBet:Number(w.defaultMinBet||25),defaultMaxBet:Number(w.defaultMaxBet||200),defaultCreditLimit:Number(w.defaultCreditLimit||1e3),defaultSettleLimit:Number(w.defaultSettleLimit||0)},me=await qr(ce,P);ee([{id:`recent_${Date.now()}_agent`,type:U==="master"?"Master Agent":"Agent",username:me?.agent?.username||ce.username,parent:U==="master"?M?.username||"ADMIN":G.find(Ne=>(Ne.id||Ne._id)===w.parentMasterId)?.username||M?.username||"ADMIN",createdAt:Yf(),entityId:me?.agent?.id||"",entityType:"agent"}]),j(`${U==="master"?"Master agent":"Agent"} created successfully.`)},je=async()=>{I(),b(!0);try{if(r==="player")await W();else if(r==="agent"||r==="master")await ie(r);else throw new Error("Choose account type first.")}catch(U){y(U.message||"Creation failed.")}finally{b(!1)}},te=async U=>{const P=localStorage.getItem("token");I(),b(!0);try{U.entityId&&P&&(U.entityType==="user"?await Up(U.entityId,P):U.entityType==="agent"&&await zp(U.entityId,P));const ce=k.filter(me=>me.id!==U.id);B(ce),j(`${U.username} deleted successfully.`)}catch(ce){y(ce.message||"Delete failed.")}finally{b(!1)}},O=()=>e.jsx("div",{className:"picker-overlay",onClick:()=>h(!1),children:e.jsxs("div",{className:"picker-modal",onClick:U=>U.stopPropagation(),children:[e.jsxs("div",{className:"picker-header",children:[e.jsx("span",{children:"Add Customer"}),e.jsx("button",{type:"button",onClick:()=>h(!1),children:""})]}),e.jsxs("button",{type:"button",className:"picker-option",onClick:()=>S("player"),children:[e.jsx("i",{className:"fa-solid fa-user-plus"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Player"}),e.jsx("p",{children:"Add one or many players under an agent account."})]})]}),e.jsxs("button",{type:"button",className:"picker-option",onClick:()=>S("agent"),children:[e.jsx("i",{className:"fa-solid fa-user-gear"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Agent"}),e.jsx("p",{children:"Create a new agent account. Agents can own player accounts."})]})]}),e.jsxs("button",{type:"button",className:"picker-option",onClick:()=>S("master"),children:[e.jsx("i",{className:"fa-solid fa-user-tie"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Master"}),e.jsx("p",{children:"Create a master agent account that can manage sub-agents."})]})]})]})}),Z=(U,P)=>e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:"Market Capabilities"}),e.jsx("div",{className:"capabilities-premium-grid",children:[{key:"sports",label:"Sportsbook",desc:"Standard sports betting markets"},{key:"casino",label:"LV Casino",desc:"Las Vegas style virtual casino"},{key:"racebook",label:"Racebook",desc:"Global horse and greyhound racing"},{key:"live",label:"Dynamic Live",desc:"Real-time in-game betting"},{key:"props",label:"Prop Plus",desc:"Advanced player and game props"},{key:"liveCasino",label:"Dealer Live",desc:"Live dealer tables and streams"}].map(ce=>e.jsxs("button",{type:"button",className:`cap-card ${U[ce.key]?"active":""}`,onClick:()=>P(ce.key),children:[e.jsxs("div",{className:"cap-meta",children:[e.jsx("span",{className:"cap-label",children:ce.label}),e.jsx("p",{className:"cap-desc",children:ce.desc})]}),e.jsx("div",{className:"cap-toggle-ui",children:e.jsx("div",{className:"toggle-dot"})})]},ce.key))})]}),oe=()=>e.jsxs("div",{className:"form-sections",children:[e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:"Player Creation"}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"How many accounts to add?"}),e.jsx("input",{type:"number",min:"1",max:"20",value:L.count,onChange:U=>$("count",U.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Under which agent?"}),e.jsxs("select",{value:L.agentId,onChange:U=>$("agentId",U.target.value),children:[e.jsx("option",{value:"",children:"Select agent"}),q.map(U=>e.jsx("option",{value:U.id||U._id,children:U.username},U.id||U._id))]})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",maxLength:"8",value:L.prefix,onChange:U=>$("prefix",U.target.value.toUpperCase())})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Starting Account #"}),e.jsx("input",{type:"number",min:"1",value:L.startingAccount,onChange:U=>$("startingAccount",U.target.value)})]})]}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Base phone number"}),e.jsx("input",{type:"tel",value:L.startPhone,onChange:U=>$("startPhone",U.target.value),placeholder:"For multiple accounts auto-increment"})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",value:L.firstName,onChange:U=>$("firstName",U.target.value.toUpperCase())})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",value:L.lastName,onChange:U=>$("lastName",U.target.value.toUpperCase())})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Password Base"}),e.jsx("input",{type:"text",value:L.manualPasswordBase,onChange:U=>$("manualPasswordBase",U.target.value),disabled:L.randomPasswordEnabled,placeholder:"Used when random password is OFF"})]})]}),e.jsx("div",{className:"inline-controls-row",children:e.jsxs("label",{className:"switch-label",children:[e.jsx("span",{children:"Generate random password (ex: A7B3)"}),e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:L.randomPasswordEnabled,onChange:U=>$("randomPasswordEnabled",U.target.checked)}),e.jsx("span",{className:"slider-mini"})]})]})})]}),e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:"Operational Limits"}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Min bet"}),e.jsx("input",{type:"number",value:L.minBet,onChange:U=>$("minBet",U.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Max bet"}),e.jsx("input",{type:"number",value:L.maxBet,onChange:U=>$("maxBet",U.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Credit limit"}),e.jsx("input",{type:"number",value:L.creditLimit,onChange:U=>$("creditLimit",U.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Settle limit"}),e.jsx("input",{type:"number",value:L.balanceOwed,onChange:U=>$("balanceOwed",U.target.value)})]})]})]}),Z(L.settings,J)]}),K=()=>e.jsxs("div",{className:"form-sections",children:[e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:r==="master"?"Master Agent Setup":"Agent Setup"}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Agent Name"}),e.jsx("input",{type:"text",value:w.fullName,onChange:U=>D("fullName",U.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:w.phoneNumber,onChange:U=>D("phoneNumber",U.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Agent Password"}),e.jsx("input",{type:"text",value:w.password,onChange:U=>D("password",U.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:r==="master"?"Master Prefix":"Agent Prefix"}),e.jsx("input",{type:"text",maxLength:"6",value:w.prefix,onChange:U=>D("prefix",U.target.value,r)})]})]}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Generated Username"}),e.jsx("input",{type:"text",value:w.username,readOnly:!0,className:"readonly-input"})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Under which Master Agent?"}),e.jsxs("select",{value:w.parentMasterId,onChange:U=>D("parentMasterId",U.target.value),children:[e.jsx("option",{value:"",children:"Select master (reference)"}),G.map(U=>e.jsx("option",{value:U.id||U._id,children:U.username},U.id||U._id))]})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Inherit Settings?"}),e.jsxs("select",{value:w.inheritFromId,onChange:U=>D("inheritFromId",U.target.value),children:[e.jsx("option",{value:"",children:"No inheritance"}),G.map(U=>e.jsx("option",{value:U.id||U._id,children:U.username},U.id||U._id))]})]}),e.jsxs("div",{className:"p-field helper-note-block",children:[e.jsx("label",{children:"Behavior"}),e.jsx("p",{children:r==="master"?"Master agents can manage sub-agents but not direct players.":"Agents can manage players. Hierarchy assignment can be adjusted later in Agent Management."})]})]})]}),e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:"Default Limits"}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Default Min Bet"}),e.jsx("input",{type:"number",value:w.defaultMinBet,onChange:U=>D("defaultMinBet",U.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Default Max Bet"}),e.jsx("input",{type:"number",value:w.defaultMaxBet,onChange:U=>D("defaultMaxBet",U.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Default Credit Limit"}),e.jsx("input",{type:"number",value:w.defaultCreditLimit,onChange:U=>D("defaultCreditLimit",U.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Default Settle Limit"}),e.jsx("input",{type:"number",value:w.defaultSettleLimit,onChange:U=>D("defaultSettleLimit",U.target.value)})]})]})]}),Z(w.settings,H)]}),V=r==="player"?"Add Player":r==="agent"?"Add Agent":r==="master"?"Add Master Agent":"Add Customer";return e.jsxs("div",{className:"admin-view premium-admin-theme",children:[e.jsxs("div",{className:"view-header",children:[e.jsxs("button",{className:"btn-back-premium",onClick:()=>l?l():o(""),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),e.jsx("polyline",{points:"12 19 5 12 12 5"})]}),"Back to Dashboard"]}),e.jsx("div",{className:"header-copy",children:e.jsxs("div",{className:"header-icon-title",children:[e.jsx("div",{className:"glow-accent"}),e.jsx("h2",{children:V})]})}),e.jsx("button",{className:"btn-type-switch",type:"button",onClick:()=>h(!0),children:"Choose Type"})]}),e.jsx("div",{className:"view-content central-card",children:e.jsxs("div",{className:"premium-card glass-effect",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{children:r?"Configuration Panel":"Choose Account Type"}),e.jsx("p",{children:r?"Define functionality, limits, and hierarchy rules before continue.":"Select Player, Agent, or Master to continue."})]}),e.jsx("div",{className:"premium-form",children:v?e.jsx("div",{className:"status-msg",children:"Loading context..."}):e.jsxs(e.Fragment,{children:[!r&&e.jsxs("div",{className:"inline-type-grid",children:[e.jsx("button",{type:"button",onClick:()=>S("player"),children:"Player"}),e.jsx("button",{type:"button",onClick:()=>S("agent"),children:"Agent"}),e.jsx("button",{type:"button",onClick:()=>S("master"),children:"Master"})]}),r==="player"&&oe(),(r==="agent"||r==="master")&&K(),g&&e.jsx("div",{className:"premium-error-msg",children:g}),p&&e.jsx("div",{className:"premium-success-msg",children:p}),r&&e.jsx("div",{className:"form-footer-premium",children:e.jsx("button",{type:"button",className:"btn-deploy-premium",onClick:je,disabled:f,children:f?"Processing...":"Continue"})}),e.jsxs("div",{className:"recent-section",children:[e.jsx("h4",{children:"Recently Added Customers"}),k.length===0?e.jsx("div",{className:"status-msg",children:"No records yet."}):e.jsx("div",{className:"recent-table-wrap",children:e.jsxs("table",{className:"recent-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Username"}),e.jsx("th",{children:"Parent"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:k.map(U=>e.jsxs("tr",{children:[e.jsx("td",{children:U.type}),e.jsx("td",{children:U.username}),e.jsx("td",{children:U.parent||"-"}),e.jsx("td",{children:U.createdAt}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn-delete-mini",disabled:f,onClick:()=>te(U),children:"Delete"})})]},U.id))})]})})]})]})})]})}),d&&O(),e.jsx("style",{children:`
        .premium-admin-theme {
          background: #d3d3d3;
          min-height: 100vh;
          color: #2f343a;
          font-family: 'Segoe UI', Tahoma, sans-serif;
          padding: 16px;
        }
        .view-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 24px; gap: 16px; }
        .btn-back-premium {
          background: #f4f4f4; color: #2f343a; border: 1px solid #b8b8b8;
          padding: 10px 16px; border-radius: 3px; font-weight: 600;
          display: flex; align-items: center; gap: 8px; cursor: pointer; white-space: nowrap;
        }
        .btn-back-premium:hover { background: #ffffff; }
        .header-copy { flex: 1; min-width: 0; }
        .header-icon-title { display: flex; align-items: center; gap: 12px; }
        .glow-accent { width: 6px; height: 28px; background: #0b4f6c; border-radius: 2px; }
        .header-icon-title h2 { margin: 0; font-size: 28px; font-weight: 700; color: #0b4f6c; }
        .btn-type-switch {
          background: #0b4f6c; color: #fff; border: 1px solid #07384d; border-radius: 3px;
          padding: 10px 14px; font-weight: 600; cursor: pointer;
        }
        .btn-type-switch:hover { background: #0a455e; }

        .central-card { display: flex; justify-content: center; }
        .premium-card {
          background: #efefef;
          width: 100%;
          max-width: 100%;
          border-radius: 0;
          border: 1px solid #c6c6c6;
          overflow: hidden;
          box-shadow: none;
        }

        .card-header { padding: 10px 14px; background: #0b4f6c; border-bottom: 1px solid #07384d; }
        .card-header h3 { margin: 0 0 3px; font-size: 17px; font-weight: 700; color: #fff; }
        .card-header p { margin: 0; color: #d5e6ee; font-size: 12px; }

        .premium-form { padding: 14px; }
        .form-sections { display: flex; flex-direction: column; gap: 24px; }
        .f-section { background: #efefef; border: 1px solid #d3d3d3; border-radius: 0; padding: 4px 0 0; }
        .section-tag {
          font-size: 15px;
          text-transform: uppercase;
          font-weight: 600;
          color: #2f343a;
          letter-spacing: 0.5px;
          margin: 0 0 12px;
          border-left: 0;
          padding-left: 0;
        }

        .input-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 14px; }
        .input-row.grid-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }

        .p-field { display: flex; flex-direction: column; gap: 6px; }
        .p-field label {
          font-size: 15px;
          text-transform: none;
          font-weight: 500;
          color: #3f4348;
          letter-spacing: 0;
        }
        .p-field input, .p-field select {
          background: #ffffff;
          border: 1px solid #bfc7cd;
          color: #2f343a;
          padding: 9px 10px;
          border-radius: 2px;
          font-size: 14px;
          outline: none;
          transition: border-color 0.2s ease, box-shadow 0.2s ease;
          height: 42px;
        }
        .p-field input:focus, .p-field select:focus { border-color: #53a6d6; box-shadow: none; }
        .readonly-input { background: #edf1f4 !important; color: #5b6671 !important; }

        .helper-note-block p {
          margin: 0;
          background: #f3f3f3;
          border: 1px solid #d4d7da;
          color: #39424a;
          border-radius: 2px;
          padding: 10px;
          min-height: 44px;
          font-size: 14px;
        }

        .inline-controls-row { margin-top: 8px; }
        .switch-label {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 14px;
          padding: 10px 12px;
          border-radius: 2px;
          background: #efefef;
          border: 0;
          color: #2f343a;
        }

        .switch-mini {
          position: relative;
          width: 44px;
          height: 24px;
          display: inline-block;
          cursor: pointer;
        }
        .switch-mini input {
          opacity: 0;
          width: 0;
          height: 0;
        }
        .slider-mini {
          position: absolute;
          inset: 0;
          border-radius: 16px;
          background: #9da8b2;
          transition: 0.2s;
        }
        .slider-mini:before {
          content: '';
          position: absolute;
          height: 18px;
          width: 18px;
          left: 3px;
          top: 3px;
          border-radius: 50%;
          background: #fff;
          transition: 0.2s;
        }
        .switch-mini input:checked + .slider-mini {
          background: #0ea44b;
        }
        .switch-mini input:checked + .slider-mini:before {
          transform: translateX(20px);
          background: #fff;
        }

        .capabilities-premium-grid { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 14px; }
        .cap-card {
          border: 1px solid #b8cde2;
          background: #f8fbff;
          color: inherit;
          border-radius: 8px;
          padding: 14px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 8px;
          text-align: left;
          cursor: pointer;
          transition: border-color 0.2s ease, background-color 0.2s ease;
        }
        .cap-card:hover { border-color: #6aa8d5; background: #f4f9ff; }
        .cap-card.active { border-color: #4298d4; background: #edf6ff; }
        .cap-meta { display: flex; flex-direction: column; gap: 3px; }
        .cap-label { font-size: 16px; font-weight: 700; color: #263746; }
        .cap-desc { margin: 0; font-size: 13px; color: #637687; }
        .cap-toggle-ui { width: 44px; height: 24px; border-radius: 20px; background: #2f80ed; position: relative; flex-shrink: 0; }
        .toggle-dot { width: 18px; height: 18px; border-radius: 999px; background: #fff; position: absolute; top: 3px; left: 23px; }
        .cap-card:not(.active) .cap-toggle-ui { background: #a8b2bc; }
        .cap-card:not(.active) .toggle-dot { left: 3px; background: #fff; }

        .premium-error-msg {
          margin-top: 12px;
          background: #ffe9e9;
          border: 1px solid #efb7b7;
          color: #ab3434;
          padding: 10px;
          border-radius: 2px;
          font-weight: 600;
          font-size: 13px;
        }
        .premium-success-msg {
          margin-top: 12px;
          background: #e8f8ec;
          border: 1px solid #afdec0;
          color: #257747;
          padding: 10px;
          border-radius: 2px;
          font-weight: 600;
          font-size: 13px;
        }

        .form-footer-premium { margin-top: 14px; }
        .btn-deploy-premium {
          width: 100%;
          background: #37b24d;
          border: 1px solid #2f9e44;
          color: #fff;
          font-weight: 600;
          padding: 10px;
          border-radius: 2px;
          cursor: pointer;
          font-size: 14px;
        }
        .btn-deploy-premium:disabled { opacity: 0.65; cursor: not-allowed; }

        .recent-section {
          margin-top: 18px;
          border: 1px solid #cfd4d9;
          border-radius: 2px;
          overflow: hidden;
          background: #fff;
        }
        .recent-section h4 {
          margin: 0;
          padding: 12px;
          font-size: 14px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          color: #30424f;
          background: #e9eef2;
        }
        .status-msg { padding: 12px; color: #6f7a84; }
        .recent-table-wrap { overflow: auto; }
        .recent-table { width: 100%; border-collapse: collapse; }
        .recent-table thead { background: #f2f5f7; }
        .recent-table th, .recent-table td {
          border-top: 1px solid #dbe1e6;
          padding: 10px;
          font-size: 13px;
          text-align: left;
          white-space: nowrap;
          color: #2f343a;
        }
        .recent-table tbody tr:nth-child(even) { background: #fafcfe; }
        .btn-delete-mini {
          border: 0;
          border-radius: 2px;
          background: #dc2626;
          color: #fff;
          font-size: 12px;
          font-weight: 700;
          padding: 7px 10px;
          cursor: pointer;
        }

        .inline-type-grid {
          display: grid;
          gap: 12px;
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
        .inline-type-grid button {
          border: 1px solid #bfd1df;
          background: #ffffff;
          color: #244153;
          border-radius: 2px;
          padding: 16px;
          font-weight: 600;
          font-size: 15px;
          cursor: pointer;
        }
        .inline-type-grid button:hover { background: #f6fbff; border-color: #8fb5cd; }

        .picker-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.4);
          display: flex;
          align-items: flex-start;
          justify-content: center;
          z-index: 1200;
          padding-top: 95px;
        }
        .picker-modal {
          width: 100%;
          max-width: 560px;
          background: #fff;
          border-radius: 2px;
          box-shadow: 0 8px 24px rgba(0,0,0,0.3);
          overflow: hidden;
        }
        .picker-header {
          background: #0b4f6c;
          color: #fff;
          padding: 12px 14px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          font-weight: 700;
        }
        .picker-header button {
          background: transparent;
          border: 0;
          color: #fff;
          font-size: 20px;
          cursor: pointer;
        }
        .picker-option {
          width: 100%;
          border: 0;
          border-top: 1px solid #d8dee4;
          background: #fff;
          padding: 14px;
          display: grid;
          grid-template-columns: 44px 1fr;
          gap: 10px;
          text-align: left;
          cursor: pointer;
          transition: background-color 0.2s ease;
        }
        .picker-option:hover { background: #f7fafc; }
        .picker-option i { color: #334155; font-size: 20px; margin-top: 3px; }
        .picker-option p { margin: 4px 0 0; color: #4b5563; font-size: 13px; }

        @media (max-width: 1100px) {
          .input-row.grid-4, .capabilities-premium-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        }
        @media (max-width: 760px) {
          .premium-admin-theme { padding: 12px; }
          .view-header { flex-wrap: wrap; align-items: stretch; }
          .input-row, .input-row.grid-4, .capabilities-premium-grid, .inline-type-grid { grid-template-columns: 1fr; }
          .btn-type-switch { width: 100%; }
          .picker-overlay { padding: 40px 10px 10px; }
        }
      `})]})}function m0(){const[l,r]=u.useState(""),[o,d]=u.useState("all"),[h,f]=u.useState("all"),[b,v]=u.useState([]),[x,g]=u.useState(!0),[y,p]=u.useState(""),[j,C]=u.useState(null),[N,M]=u.useState({dailyLimit:"",monthlyLimit:"",used:"",status:"active"}),[_,k]=u.useState({provider:"",dailyLimit:0,monthlyLimit:0,used:0,status:"active"}),[F,L]=u.useState(!1),E=D=>`$${Number(D||0).toLocaleString()}`,w=D=>{const J=D.monthlyLimit||1;return Math.min(D.used/J*100,100)},A=D=>D>=85?"critical":D>=65?"warning":"normal",q=u.useMemo(()=>b.reduce((D,J)=>(D.daily+=J.dailyLimit,D.monthly+=J.monthlyLimit,D.used+=J.used,D),{daily:0,monthly:0,used:0}),[b]),G=async()=>{try{g(!0);const D=localStorage.getItem("token");if(!D){v([]),p("Please login to load limits.");return}const J=await dj(D);v(J),p("")}catch(D){console.error("Error loading third party limits:",D),p(D.message||"Failed to load limits")}finally{g(!1)}};u.useEffect(()=>{G();const D=setInterval(()=>{document.hidden||G()},12e4);return()=>clearInterval(D)},[]);const B=b.filter(D=>{const J=D.provider.toLowerCase().includes(l.toLowerCase()),H=o==="all"||D.status===o,W=w(D),ie=h==="all"||h==="over-80"&&W>=80||h==="60-80"&&W>=60&&W<80||h==="under-60"&&W<60;return J&&H&&ie}),ee=D=>{C(D.id),M({dailyLimit:D.dailyLimit,monthlyLimit:D.monthlyLimit,used:D.used,status:D.status})},I=()=>{C(null),M({dailyLimit:"",monthlyLimit:"",used:"",status:"active"})},S=async D=>{try{const J=localStorage.getItem("token");if(!J){p("Please login to update limits.");return}const H={dailyLimit:Number(N.dailyLimit)||0,monthlyLimit:Number(N.monthlyLimit)||0,used:Number(N.used)||0,status:N.status},W=await uj(D,H,J);v(ie=>ie.map(je=>je.id===D?{...je,...W.limit}:je)),I(),p("")}catch(J){console.error("Error updating limit:",J),p(J.message||"Failed to update limit")}},$=async()=>{try{L(!0);const D=localStorage.getItem("token");if(!D){p("Please login to create limits.");return}const J={provider:_.provider.trim(),dailyLimit:Number(_.dailyLimit)||0,monthlyLimit:Number(_.monthlyLimit)||0,used:Number(_.used)||0,status:_.status},H=await hj(J,D);v(W=>[...W,H.limit]),k({provider:"",dailyLimit:0,monthlyLimit:0,used:0,status:"active"}),p("")}catch(D){console.error("Error creating limit:",D),p(D.message||"Failed to create limit")}finally{L(!1)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"3rd Party Limits"}),e.jsxs("span",{className:"count",children:[B.length," providers"]})]}),e.jsxs("div",{className:"view-content",children:[x&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading limits..."}),y&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:y}),!x&&!y&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Provider"}),e.jsx("input",{type:"text",placeholder:"Provider name",value:_.provider,onChange:D=>k(J=>({...J,provider:D.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Daily Limit"}),e.jsx("input",{type:"number",value:_.dailyLimit,onChange:D=>k(J=>({...J,dailyLimit:D.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Monthly Limit"}),e.jsx("input",{type:"number",value:_.monthlyLimit,onChange:D=>k(J=>({...J,monthlyLimit:D.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Used"}),e.jsx("input",{type:"number",value:_.used,onChange:D=>k(J=>({...J,used:D.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:_.status,onChange:D=>k(J=>({...J,status:D.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"paused",children:"Paused"})]})]}),e.jsx("button",{className:"btn-primary",onClick:$,disabled:F||!_.provider.trim(),children:F?"Saving...":"Add Provider"})]}),e.jsxs("div",{className:"stats-container limits-summary",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Providers"}),e.jsx("div",{className:"amount",children:b.length}),e.jsxs("p",{className:"change",children:["Active: ",b.filter(D=>D.status==="active").length]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Daily Limit Total"}),e.jsx("div",{className:"amount",children:E(q.daily)}),e.jsx("p",{className:"change",children:"Across all providers"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Monthly Limit Total"}),e.jsx("div",{className:"amount",children:E(q.monthly)}),e.jsx("p",{className:"change",children:"Capacity for the month"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Used This Month"}),e.jsx("div",{className:"amount",children:E(q.used)}),e.jsxs("p",{className:"change",children:["Utilization: ",(q.used/(q.monthly||1)*100).toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Provider"}),e.jsx("input",{type:"text",placeholder:"Search provider",value:l,onChange:D=>r(D.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:o,onChange:D=>d(D.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"paused",children:"Paused"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Utilization"}),e.jsxs("select",{value:h,onChange:D=>f(D.target.value),children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"over-80",children:"Over 80%"}),e.jsx("option",{value:"60-80",children:"60% - 80%"}),e.jsx("option",{value:"under-60",children:"Under 60%"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Provider"}),e.jsx("th",{children:"Daily Limit"}),e.jsx("th",{children:"Monthly Limit"}),e.jsx("th",{children:"Used"}),e.jsx("th",{children:"Utilization"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last Sync"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:B.map(D=>{const J=w(D);return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:D.provider})}),e.jsx("td",{children:j===D.id?e.jsx("input",{type:"number",value:N.dailyLimit,onChange:H=>M(W=>({...W,dailyLimit:H.target.value})),className:"inline-input"}):E(D.dailyLimit)}),e.jsx("td",{children:j===D.id?e.jsx("input",{type:"number",value:N.monthlyLimit,onChange:H=>M(W=>({...W,monthlyLimit:H.target.value})),className:"inline-input"}):E(D.monthlyLimit)}),e.jsx("td",{children:j===D.id?e.jsx("input",{type:"number",value:N.used,onChange:H=>M(W=>({...W,used:H.target.value})),className:"inline-input"}):E(D.used)}),e.jsx("td",{children:e.jsxs("div",{className:"usage-meter",children:[e.jsx("div",{className:"usage-bar",children:e.jsx("div",{className:`usage-fill ${A(J)}`,style:{width:`${J}%`}})}),e.jsxs("span",{className:"usage-text",children:[J.toFixed(1),"%"]})]})}),e.jsx("td",{children:j===D.id?e.jsxs("select",{value:N.status,onChange:H=>M(W=>({...W,status:H.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"paused",children:"Paused"})]}):e.jsx("span",{className:`badge ${D.status}`,children:D.status})}),e.jsx("td",{children:D.lastSync?new Date(D.lastSync).toLocaleString():""}),e.jsx("td",{children:e.jsx("div",{className:"table-actions",children:j===D.id?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn-small",onClick:()=>S(D.id),children:"Save"}),e.jsx("button",{className:"btn-small",onClick:I,children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn-small",onClick:()=>ee(D),children:"Edit"}),e.jsx("button",{className:"btn-small",children:"View"})]})})})]},D.id)})})]})})]})]})]})}function f0(){const[l,r]=u.useState("agents"),[o,d]=u.useState(""),[h,f]=u.useState(""),[b,v]=u.useState("any"),[x,g]=u.useState("today"),[y,p]=u.useState("all-types"),[j,C]=u.useState([]),[N,M]=u.useState(!0),[_,k]=u.useState(""),[F,L]=u.useState(""),[E,w]=u.useState([]),[A,q]=u.useState([]),[G,B]=u.useState(!1),[ee,I]=u.useState(null),[S,$]=u.useState({userId:"",matchId:"",amount:50,odds:1.9,type:"straight",selection:"",status:"pending"}),D=V=>Number(String(V).replace(/[^0-9.-]+/g,""))||0,J=V=>`$${Number(V||0).toLocaleString()}`,H=(V,U)=>U==="any"?!0:U==="under-100"?V<100:U==="100-500"?V>=100&&V<=500:U==="500-1000"?V>500&&V<=1e3:U==="over-1000"?V>1e3:!0,W=V=>{if(V?.type)return V.type;const U=(V?.description||"").toLowerCase();return U.includes("parlay")?"parlay":U.includes("teaser")?"teaser":"straight"},ie=j.filter(V=>{const U=V.agent.toLowerCase().includes(o.toLowerCase()),P=V.customer.toLowerCase().includes(h.toLowerCase()),ce=D(V.risk),me=y==="all-types"||W(V)===y;return U&&P&&me&&H(ce,b)}).sort((V,U)=>l==="agents"?V.agent.localeCompare(U.agent):V.customer.localeCompare(U.customer)),je=ie.reduce((V,U)=>(V.risk+=D(U.risk),V.toWin+=D(U.toWin),V),{risk:0,toWin:0}),te=()=>{d(""),f(""),v("any"),g("today"),p("all-types")},O=async V=>{try{M(!0);const U=localStorage.getItem("token");if(!U){C([]),k("Please login to load bets.");return}const ce=(await Bd(V,U)).bets.map(me=>({...me,risk:Number(me.risk||0),toWin:Number(me.toWin||0),accepted:new Date(me.accepted).toLocaleString()}));C(ce),k("")}catch(U){console.error("Error loading bets:",U),k(U.message||"Failed to load bets")}finally{M(!1)}};u.useEffect(()=>{O({time:x,type:y,amount:b}),(async()=>{try{const P=localStorage.getItem("token");if(!P)return;const[ce,me]=await Promise.all([rl(P),ul(P)]);w(ce||[]),q(me||[])}catch(P){console.error("Error loading reference data:",P)}})();const U=setInterval(()=>{document.hidden||O({agent:o,customer:h,amount:b,time:x,type:y})},9e4);return()=>clearInterval(U)},[o,h,b,x,y]);const Z=async()=>{try{B(!0),L("");const V=localStorage.getItem("token");if(!V){k("Please login to create bets.");return}const U={userId:S.userId,matchId:S.matchId,amount:Number(S.amount)||0,odds:Number(S.odds)||0,type:S.type,selection:S.selection.trim(),status:S.status};if(U.amount<=0||U.odds<=0)throw new Error("Amount and odds must be greater than 0");await Aj(U,V),$({userId:"",matchId:"",amount:50,odds:1.9,type:"straight",selection:"",status:"pending"}),k(""),L("Bet created successfully."),O({agent:o,customer:h,amount:b,time:x,type:y})}catch(V){console.error("Error creating bet:",V),k(V.message||"Failed to create bet")}finally{B(!1)}},oe=async V=>{const U=localStorage.getItem("token");if(!U){k("Please login to delete bets.");return}if(window.confirm("Delete this bet? This cannot be undone."))try{L(""),I(V),await Ej(V,U),k(""),L("Bet deleted successfully."),await O({agent:o,customer:h,amount:b,time:x,type:y})}catch(P){k(P.message||"Failed to delete bet")}finally{I(null)}},K=()=>{L(""),O({agent:o,customer:h,amount:b,time:x,type:y})};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Props / Betting Management"})}),e.jsxs("div",{className:"view-content",children:[N&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading bets..."}),_&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:_}),F&&e.jsx("div",{style:{padding:"12px 20px",color:"#15803d",textAlign:"center",fontWeight:600},children:F}),!N&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Customer"}),e.jsxs("select",{value:S.userId,onChange:V=>$(U=>({...U,userId:V.target.value})),children:[e.jsx("option",{value:"",children:"Select customer"}),E.map(V=>e.jsx("option",{value:V.id||V._id,children:V.username},V.id||V._id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Match"}),e.jsxs("select",{value:S.matchId,onChange:V=>$(U=>({...U,matchId:V.target.value})),children:[e.jsx("option",{value:"",children:"Select match"}),A.map(V=>e.jsxs("option",{value:V.id,children:[V.homeTeam," vs ",V.awayTeam]},V.id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",min:"0.01",value:S.amount,onChange:V=>$(U=>({...U,amount:V.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Odds"}),e.jsx("input",{type:"number",step:"0.01",min:"0.01",value:S.odds,onChange:V=>$(U=>({...U,odds:V.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:S.type,onChange:V=>$(U=>({...U,type:V.target.value})),children:[e.jsx("option",{value:"straight",children:"Straight"}),e.jsx("option",{value:"parlay",children:"Parlay"}),e.jsx("option",{value:"teaser",children:"Teaser"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Selection"}),e.jsx("input",{type:"text",placeholder:"Selection",value:S.selection,onChange:V=>$(U=>({...U,selection:V.target.value}))})]}),e.jsx("button",{className:"btn-primary",onClick:Z,disabled:G||!S.userId||!S.matchId||!S.selection.trim()||Number(S.amount)<=0||Number(S.odds)<=0,children:G?"Saving...":"Create Bet"}),!S.userId||!S.matchId||!S.selection.trim()?e.jsx("div",{style:{alignSelf:"end",color:"#9a3412",fontSize:"12px"},children:"Select customer, match, and selection to create bet."}):null]}),e.jsxs("div",{className:"stats-container",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Tickets"}),e.jsx("div",{className:"amount",children:ie.length}),e.jsx("p",{className:"change",children:"Filtered by current criteria"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Risk"}),e.jsxs("div",{className:"amount",children:["$",je.risk.toLocaleString()]}),e.jsx("p",{className:"change",children:"Across all tickets"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total To Win"}),e.jsxs("div",{className:"amount",children:["$",je.toWin.toLocaleString()]}),e.jsx("p",{className:"change",children:"Potential payouts"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Average Risk"}),e.jsxs("div",{className:"amount",children:["$",(ie.length?je.risk/ie.length:0).toFixed(0)]}),e.jsx("p",{className:"change",children:"Per ticket"})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Agents"}),e.jsx("input",{type:"text",placeholder:"Search",value:o,onChange:V=>d(V.target.value),className:"search-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Players"}),e.jsx("input",{type:"text",placeholder:"Search",value:h,onChange:V=>f(V.target.value),className:"search-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Amount"}),e.jsxs("select",{value:b,onChange:V=>v(V.target.value),children:[e.jsx("option",{value:"any",children:"Any Amount"}),e.jsx("option",{value:"under-100",children:"Under $100"}),e.jsx("option",{value:"100-500",children:"$100 - $500"}),e.jsx("option",{value:"500-1000",children:"$500 - $1000"}),e.jsx("option",{value:"over-1000",children:"Over $1000"})]})]}),e.jsx("button",{className:"btn-primary",onClick:K,children:"Search"}),e.jsx("button",{className:"btn-secondary",onClick:te,children:"Reset Filters"})]}),e.jsxs("div",{className:"tabs-container",children:[e.jsx("button",{className:`tab ${l==="agents"?"active":""}`,onClick:()=>r("agents"),children:"Agents"}),e.jsx("button",{className:`tab ${l==="players"?"active":""}`,onClick:()=>r("players"),children:"Players"})]}),e.jsxs("div",{className:"additional-filters",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Time"}),e.jsxs("select",{value:x,onChange:V=>g(V.target.value),children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"this-week",children:"This Week"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:y,onChange:V=>p(V.target.value),children:[e.jsx("option",{value:"all-types",children:"All Types"}),e.jsx("option",{value:"straight",children:"Straight"}),e.jsx("option",{value:"parlay",children:"Parlay"}),e.jsx("option",{value:"teaser",children:"Teaser"})]})]})]}),e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"data-table betting-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agent"}),e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Accepted (EST)"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Risk"}),e.jsx("th",{children:"To Win"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:ie.map(V=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:V.agent})}),e.jsx("td",{children:e.jsx("strong",{children:V.customer})}),e.jsx("td",{children:V.accepted}),e.jsx("td",{children:e.jsx("span",{className:`badge ${W(V)}`,children:W(V)})}),e.jsx("td",{className:"description-cell",children:V.description.split(`
`).map((U,P)=>e.jsx("div",{children:U},P))}),e.jsx("td",{children:e.jsx("span",{className:"amount-risk",children:J(V.risk)})}),e.jsx("td",{children:e.jsx("span",{className:"amount-towin",children:J(V.toWin)})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${V.status}`,children:V.status})}),e.jsx("td",{children:e.jsx("button",{className:"btn-delete",onClick:()=>oe(V.id),disabled:ee===V.id||V.status!=="pending",title:V.status==="pending"?"Delete bet":"Only pending bets can be deleted",children:ee===V.id?"...":""})})]},V.id))})]})}),e.jsxs("div",{className:"summary-footer",children:[e.jsxs("span",{children:["Total Records: ",ie.length]}),e.jsxs("span",{className:"risk-summary",children:["Risking: ",e.jsxs("span",{className:"amount-risk",children:["$",je.risk.toLocaleString()]}),"To Win: ",e.jsxs("span",{className:"amount-towin",children:["$",je.toWin.toLocaleString()]})]})]})]})]})]})}function p0(){const[l,r]=u.useState(""),[o,d]=u.useState("all"),[h,f]=u.useState("revenue"),[b,v]=u.useState("30d"),[x,g]=u.useState([]),[y,p]=u.useState({revenue:0,customers:0,avgWinRate:0,upAgents:0}),[j,C]=u.useState(!0),[N,M]=u.useState(""),[_,k]=u.useState(!1),[F,L]=u.useState(!1),[E,w]=u.useState(""),[A,q]=u.useState(null),G=S=>`$${Number(S||0).toLocaleString(void 0,{maximumFractionDigits:0})}`,B=x.filter(S=>{const $=S.name.toLowerCase().includes(l.toLowerCase()),D=o==="all"||S.trend===o;return $&&D}).sort((S,$)=>h==="customers"?$.customers-S.customers:h==="winRate"?$.winRate-S.winRate:$.revenue-S.revenue),ee=async()=>{try{C(!0);const S=localStorage.getItem("token");if(!S){g([]),M("Please login to load performance.");return}const $=await Lj({period:b},S),D=($.agents||[]).map(J=>({...J,lastActive:J.lastActive?new Date(J.lastActive).toLocaleString():""}));g(D),p($.summary||{revenue:0,customers:0,avgWinRate:0,upAgents:0}),M("")}catch(S){console.error("Error loading agent performance:",S),M(S.message||"Failed to load agent performance")}finally{C(!1)}};u.useEffect(()=>{ee();const S=setInterval(()=>{document.hidden||ee()},12e4);return()=>clearInterval(S)},[b]);const I=async S=>{try{k(!0),L(!0),w(""),q(null);const $=localStorage.getItem("token");if(!$)throw new Error("Please login to view details.");const D=await Mj(S.id,{period:b},$);q(D)}catch($){w($.message||"Failed to load details")}finally{L(!1)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Agent Performance"}),e.jsxs("span",{className:"count",children:[B.length," agents"]})]}),e.jsxs("div",{className:"view-content",children:[j&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading performance..."}),N&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:N}),!j&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"stats-container",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Revenue"}),e.jsx("div",{className:"amount",children:G(y.revenue)}),e.jsx("p",{className:"change",children:"Across filtered agents"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Active Customers"}),e.jsx("div",{className:"amount",children:y.customers}),e.jsx("p",{className:"change",children:"1+ bets in last 7 days"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Avg. Win Rate"}),e.jsxs("div",{className:"amount",children:[Number(y.avgWinRate||0).toFixed(1),"%"]}),e.jsx("p",{className:"change",children:"Active-customer settled bets"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Trending Up"}),e.jsx("div",{className:"amount",children:y.upAgents}),e.jsx("p",{className:"change",children:"Agents improving"})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Agent"}),e.jsx("input",{type:"text",placeholder:"Search agent",value:l,onChange:S=>r(S.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Trend"}),e.jsxs("select",{value:o,onChange:S=>d(S.target.value),children:[e.jsx("option",{value:"all",children:"All Trends"}),e.jsx("option",{value:"up",children:"Trending Up"}),e.jsx("option",{value:"stable",children:"Stable"}),e.jsx("option",{value:"down",children:"Trending Down"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Sort By"}),e.jsxs("select",{value:h,onChange:S=>f(S.target.value),children:[e.jsx("option",{value:"revenue",children:"Revenue"}),e.jsx("option",{value:"customers",children:"Active Customers"}),e.jsx("option",{value:"winRate",children:"Win Rate"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Period"}),e.jsxs("select",{value:b,onChange:S=>v(S.target.value),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"all",children:"All Time"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agent"}),e.jsx("th",{children:"Tier"}),e.jsx("th",{children:"Revenue"}),e.jsx("th",{children:"Active / Total Customers"}),e.jsx("th",{children:"Win Rate"}),e.jsx("th",{children:"Trend"}),e.jsx("th",{children:"Last Active"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:B.map(S=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:S.name})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${S.tier}`,children:S.tier})}),e.jsx("td",{children:G(S.revenue)}),e.jsxs("td",{children:[S.customers," / ",S.totalCustomers||0]}),e.jsx("td",{children:e.jsxs("div",{className:"win-rate",children:[e.jsx("div",{className:"win-rate-bar",children:e.jsx("div",{className:"win-rate-fill",style:{width:`${Math.min(S.winRate,100)}%`}})}),e.jsxs("span",{className:"win-rate-value",children:[Number(S.winRate||0).toFixed(1),"%"]})]})}),e.jsx("td",{children:e.jsx("span",{className:`trend ${S.trend}`,children:S.trend==="up"?"":S.trend==="down"?"":""})}),e.jsx("td",{children:S.lastActive}),e.jsx("td",{children:e.jsx("div",{className:"table-actions",children:e.jsx("button",{className:"btn-small",onClick:()=>I(S),children:"View Details"})})})]},S.id))})]})})]})]}),_&&e.jsx("div",{className:"modal-overlay",onClick:()=>k(!1),children:e.jsxs("div",{className:"modal-content",style:{width:"min(980px, 95vw)",maxHeight:"86vh",overflowY:"auto"},onClick:S=>S.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsx("h3",{style:{margin:0},children:"Agent Details"}),e.jsx("button",{className:"btn-secondary",onClick:()=>k(!1),children:"Close"})]}),F&&e.jsx("div",{style:{padding:"12px"},children:"Loading details..."}),E&&e.jsx("div",{style:{padding:"12px",color:"red"},children:E}),A&&!F&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"14px",fontWeight:700},children:[A.agent?.name," | Period: ",A.summary?.period?.toUpperCase()]}),e.jsxs("div",{className:"stats-container",style:{marginBottom:"16px"},children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Active Customers"}),e.jsxs("div",{className:"amount",children:[A.summary.activeCustomers," / ",A.summary.totalCustomers]}),e.jsx("p",{className:"change",children:"1+ bets in last 7 days"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Win Rate"}),e.jsxs("div",{className:"amount",children:[Number(A.summary.winRate||0).toFixed(1),"%"]}),e.jsx("p",{className:"change",children:"Settled bets only"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Handle / GGR"}),e.jsxs("div",{className:"amount",children:[G(A.summary.totalRisk)," / ",G(A.summary.ggr)]}),e.jsxs("p",{className:"change",children:["Hold: ",Number(A.summary.holdPct||0).toFixed(1),"%"]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Bets"}),e.jsx("div",{className:"amount",children:A.summary.betsPlaced}),e.jsxs("p",{className:"change",children:["Settled: ",A.summary.settledBets," | Pending: ",A.summary.pendingBets]})]})]}),e.jsxs("div",{className:"table-container",style:{marginBottom:"14px"},children:[e.jsx("h4",{style:{margin:"0 0 8px 0"},children:"Top Customers"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Bets"}),e.jsx("th",{children:"Risk"}),e.jsx("th",{children:"Win Rate"})]})}),e.jsxs("tbody",{children:[(A.topCustomers||[]).map(S=>e.jsxs("tr",{children:[e.jsx("td",{children:S.username}),e.jsx("td",{children:S.bets}),e.jsx("td",{children:G(S.risk)}),e.jsxs("td",{children:[Number(S.winRate||0).toFixed(1),"%"]})]},S.userId)),(!A.topCustomers||A.topCustomers.length===0)&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",children:"No customer performance data for this period."})})]})]})]}),e.jsxs("div",{className:"table-container",children:[e.jsx("h4",{style:{margin:"0 0 8px 0"},children:"Recent Bets"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Accepted"}),e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Selection"}),e.jsx("th",{children:"Risk"}),e.jsx("th",{children:"To Win"}),e.jsx("th",{children:"Status"})]})}),e.jsxs("tbody",{children:[(A.recentBets||[]).map(S=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(S.accepted).toLocaleString()}),e.jsx("td",{children:S.customer}),e.jsx("td",{children:S.type}),e.jsx("td",{children:S.selection}),e.jsx("td",{children:G(S.risk)}),e.jsx("td",{children:G(S.toWin)}),e.jsx("td",{children:e.jsx("span",{className:`badge ${S.status}`,children:S.status})})]},S.id)),(!A.recentBets||A.recentBets.length===0)&&e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"No bets in this period."})})]})]})]})]})]})})]})}function x0(){return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Analysis"})}),e.jsx("div",{className:"view-content",children:e.jsxs("div",{className:"analysis-container",children:[e.jsxs("div",{className:"analysis-card",children:[e.jsx("h3",{children:"Betting Trends"}),e.jsx("p",{children:"Track and analyze betting patterns across all sports and markets."}),e.jsx("button",{className:"btn-small",children:"View Details"})]}),e.jsxs("div",{className:"analysis-card",children:[e.jsx("h3",{children:"Customer Analytics"}),e.jsx("p",{children:"Analyze customer behavior, retention rates, and spending patterns."}),e.jsx("button",{className:"btn-small",children:"View Details"})]}),e.jsxs("div",{className:"analysis-card",children:[e.jsx("h3",{children:"Revenue Analysis"}),e.jsx("p",{children:"Comprehensive revenue breakdown by sport, market, and time period."}),e.jsx("button",{className:"btn-small",children:"View Details"})]}),e.jsxs("div",{className:"analysis-card",children:[e.jsx("h3",{children:"Risk Analysis"}),e.jsx("p",{children:"Identify and assess potential risk factors in betting operations."}),e.jsx("button",{className:"btn-small",children:"View Details"})]})]})})]})}function g0({canManage:l=!0}){const[r,o]=u.useState([]),[d,h]=u.useState(!0),[f,b]=u.useState(""),[v,x]=u.useState(""),[g,y]=u.useState("all"),[p,j]=u.useState(null),[C,N]=u.useState(null),[M,_]=u.useState(!1),k=async()=>{const A=localStorage.getItem("token");if(!A){b("Please login to view IP tracker."),h(!1);return}try{h(!0);const q=await mj({search:v,status:g},A);o(q.logs||[]),b("")}catch(q){console.error("Failed to load IP tracker:",q),b(q.message||"Failed to load IP tracker")}finally{h(!1)}};u.useEffect(()=>{k()},[v,g]);const F=async A=>{const q=localStorage.getItem("token");if(!q){b("Please login to block IPs.");return}if(!l){b("You do not have permission to manage IP actions.");return}try{j(A),await fj(A,q),o(G=>G.map(B=>B.id===A?{...B,status:"blocked"}:B))}catch(G){b(G.message||"Failed to block IP")}finally{j(null)}},L=async A=>{const q=localStorage.getItem("token");if(!q){b("Please login to unblock IPs.");return}if(!l){b("You do not have permission to manage IP actions.");return}try{j(A),await pj(A,q),o(G=>G.map(B=>B.id===A?{...B,status:"active"}:B))}catch(G){b(G.message||"Failed to unblock IP")}finally{j(null)}},E=async A=>{const q=localStorage.getItem("token");if(!q){b("Please login to whitelist IPs.");return}if(!l){b("You do not have permission to manage IP actions.");return}try{j(A),await Nj(A,q),o(G=>G.map(B=>B.id===A?{...B,status:"whitelisted"}:B))}catch(G){b(G.message||"Failed to whitelist IP")}finally{j(null)}},w=A=>{N(A),_(!0)};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"IP Tracker"})}),e.jsxs("div",{className:"view-content",children:[d&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading IP logs..."}),f&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:f}),!d&&!f&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Search"}),e.jsx("input",{type:"text",value:v,onChange:A=>x(A.target.value),placeholder:"User or IP"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:g,onChange:A=>y(A.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"blocked",children:"Blocked"})]})]})]}),!l&&e.jsx("div",{style:{marginBottom:"12px",color:"#f59e0b",fontWeight:600},children:"View-only mode: IP actions are disabled by your permissions."}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"IP Address"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Country"}),e.jsx("th",{children:"City"}),e.jsx("th",{children:"Last Active"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:r.map(A=>e.jsxs("tr",{children:[e.jsx("td",{className:"monospace",children:A.ip}),e.jsx("td",{children:A.user}),e.jsx("td",{children:A.country||"Unknown"}),e.jsx("td",{children:A.city||"Unknown"}),e.jsx("td",{children:A.lastActive?new Date(A.lastActive).toLocaleString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${A.status}`,children:A.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>w(A),children:"View"}),A.status==="blocked"?e.jsx("button",{className:"btn-small",onClick:()=>L(A.id),disabled:p===A.id||!l,children:p===A.id?"Working...":"Unblock"}):A.status==="whitelisted"?e.jsx("button",{className:"btn-small",onClick:()=>L(A.id),disabled:p===A.id||!l,children:p===A.id?"Working...":"Un-whitelist"}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn-small btn-danger",onClick:()=>F(A.id),disabled:p===A.id||!l,children:p===A.id?"Working...":"Block"}),e.jsx("button",{className:"btn-small btn-primary",onClick:()=>E(A.id),disabled:p===A.id||!l,style:{marginLeft:"4px",backgroundColor:"#3b82f6"},children:p===A.id?"...":"Whitelist"})]})]})]},A.id))})]})})]})]}),M&&C&&e.jsx("div",{className:"modal-overlay",onClick:()=>_(!1),children:e.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[e.jsx("h3",{children:"IP Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"IP:"})," ",C.ip]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",C.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Country:"})," ",C.country||"Unknown"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"City:"})," ",C.city||"Unknown"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",C.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Active:"})," ",C.lastActive?new Date(C.lastActive).toLocaleString():""]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User Agent:"})," ",C.userAgent||""]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>_(!1),children:"Close"})})]})})]})}function b0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(""),[b,v]=u.useState(""),[x,g]=u.useState("all"),[y,p]=u.useState("all"),[j,C]=u.useState("30d"),[N,M]=u.useState(null),[_,k]=u.useState(!1),F=async()=>{const w=localStorage.getItem("token");if(!w){f("Please login to view transaction history."),d(!1);return}try{d(!0);const A=await ll({user:b,type:x,status:y,time:j,limit:200},w);r(A.transactions||[]),f("")}catch(A){console.error("Failed to load transaction history:",A),f(A.message||"Failed to load transaction history")}finally{d(!1)}};u.useEffect(()=>{F()},[b,x,y,j]);const L=w=>{if(w==null)return"";const A=Number(w);return Number.isNaN(A)?"":`$${A.toFixed(2)}`},E=w=>{M(w),k(!0)};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Transactions History"})}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading transactions..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"User"}),e.jsx("input",{type:"text",value:b,onChange:w=>v(w.target.value),placeholder:"Search user"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:x,onChange:w=>g(w.target.value),children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"deposit",children:"Deposit"}),e.jsx("option",{value:"withdrawal",children:"Withdrawal"}),e.jsx("option",{value:"bet_placed",children:"Bet Placed"}),e.jsx("option",{value:"bet_won",children:"Bet Won"}),e.jsx("option",{value:"bet_refund",children:"Bet Refund"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:y,onChange:w=>p(w.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"failed",children:"Failed"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Time"}),e.jsxs("select",{value:j,onChange:w=>C(w.target.value),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(w=>e.jsxs("tr",{children:[e.jsx("td",{children:w.type}),e.jsx("td",{children:w.user}),e.jsx("td",{className:w.type==="withdrawal"||w.type==="bet_placed"?"negative":"positive",children:L(w.amount)}),e.jsx("td",{children:w.date?new Date(w.date).toLocaleString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${w.status}`,children:w.status})}),e.jsx("td",{children:e.jsx("button",{className:"btn-small",onClick:()=>E(w),children:"View"})})]},w.id))})]})})]})]}),_&&N&&e.jsx("div",{className:"modal-overlay",onClick:()=>k(!1),children:e.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[e.jsx("h3",{children:"Transaction Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",N.type]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",N.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",L(N.amount)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",N.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",N.date?new Date(N.date).toLocaleString():""]}),N.description&&e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",N.description]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>k(!1),children:"Close"})})]})})]})}function y0(){const[l,r]=u.useState([]),[o,d]=u.useState({totalOutstanding:0}),[h,f]=u.useState(!0),[b,v]=u.useState(""),[x,g]=u.useState(null),[y,p]=u.useState([]),[j,C]=u.useState({user:"",status:"all",overdue:"0"}),[N,M]=u.useState(!1),[_,k]=u.useState({userId:"",amount:"",dueDate:"",notes:""}),[F,L]=u.useState(null),[E,w]=u.useState(!1),A=async()=>{const I=localStorage.getItem("token");if(!I){v("Please login to view collections."),f(!1);return}try{f(!0);const S=await xj({user:j.user,status:j.status,overdue:j.overdue,limit:200},I);r(S.collections||[]),d(S.summary||{totalOutstanding:0}),v("")}catch(S){console.error("Failed to load collections:",S),v(S.message||"Failed to load collections")}finally{f(!1)}};u.useEffect(()=>{A()},[j]),u.useEffect(()=>{(async()=>{const S=localStorage.getItem("token");if(S)try{const $=await rl(S);p(Array.isArray($)?$:[])}catch($){console.error("Failed to load customers:",$)}})()},[]);const q=async()=>{const I=localStorage.getItem("token");if(!I){v("Please login to create collections.");return}try{M(!0),await kj({userId:_.userId,amount:Number(_.amount)||0,dueDate:_.dueDate||null,notes:_.notes.trim()||null},I),k({userId:"",amount:"",dueDate:"",notes:""}),v(""),A()}catch(S){v(S.message||"Failed to create collection")}finally{M(!1)}},G=async I=>{const S=localStorage.getItem("token");if(!S){v("Please login to collect.");return}try{g(I),await Cj(I,S),r($=>$.map(D=>D.id===I?{...D,status:"collected",attempts:(D.attempts||0)+1,lastAttemptAt:new Date().toISOString()}:D))}catch($){v($.message||"Failed to collect")}finally{g(null)}},B=I=>{L(I),w(!0)},ee=I=>{if(I==null)return"";const S=Number(I);return Number.isNaN(S)?"":`$${S.toFixed(2)}`};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Collections"}),e.jsxs("p",{className:"count",children:["Total Outstanding: ",ee(o.totalOutstanding)]})]}),e.jsxs("div",{className:"view-content",children:[h&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading collections..."}),b&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:b}),!h&&!b&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"User"}),e.jsx("input",{type:"text",value:j.user,onChange:I=>C(S=>({...S,user:I.target.value})),placeholder:"Search user"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:j.status,onChange:I=>C(S=>({...S,status:I.target.value})),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"overdue",children:"Overdue"}),e.jsx("option",{value:"collected",children:"Collected"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Overdue Only"}),e.jsxs("select",{value:j.overdue,onChange:I=>C(S=>({...S,overdue:I.target.value})),children:[e.jsx("option",{value:"0",children:"No"}),e.jsx("option",{value:"1",children:"Yes"})]})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Customer"}),e.jsxs("select",{value:_.userId,onChange:I=>k(S=>({...S,userId:I.target.value})),children:[e.jsx("option",{value:"",children:"Select customer"}),y.map(I=>e.jsx("option",{value:I.id||I._id,children:I.username},I.id||I._id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:_.amount,onChange:I=>k(S=>({...S,amount:I.target.value})),placeholder:"0.00"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Due Date"}),e.jsx("input",{type:"date",value:_.dueDate,onChange:I=>k(S=>({...S,dueDate:I.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:_.notes,onChange:I=>k(S=>({...S,notes:I.target.value})),placeholder:"Optional"})]}),e.jsx("button",{className:"btn-primary",onClick:q,disabled:N||!_.userId||!_.amount,children:N?"Saving...":"Create Collection"})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Due Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Attempts"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(I=>e.jsxs("tr",{children:[e.jsx("td",{children:I.user}),e.jsx("td",{children:ee(I.amount)}),e.jsx("td",{children:I.dueDate?new Date(I.dueDate).toLocaleDateString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${I.status}`,children:I.status})}),e.jsx("td",{children:I.attempts||0}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>G(I.id),disabled:I.status==="collected"||x===I.id,children:x===I.id?"Working...":"Collect"}),e.jsx("button",{className:"btn-small",onClick:()=>B(I),children:"View"})]})]},I.id))})]})})]})]}),E&&F&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:I=>I.stopPropagation(),children:[e.jsx("h3",{children:"Collection Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",F.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",ee(F.amount)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Due Date:"})," ",F.dueDate?new Date(F.dueDate).toLocaleDateString():""]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",F.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Attempts:"})," ",F.attempts||0]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Attempt:"})," ",F.lastAttemptAt?new Date(F.lastAttemptAt).toLocaleString():""]}),F.notes&&e.jsxs("p",{children:[e.jsx("strong",{children:"Notes:"})," ",F.notes]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Close"})})]})})]})}function j0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(""),[b,v]=u.useState({user:"",sport:"all",status:"all",time:"30d"}),[x,g]=u.useState(null),[y,p]=u.useState(null),[j,C]=u.useState(!1),N=async()=>{const F=localStorage.getItem("token");if(!F){f("Please login to view deleted wagers."),d(!1);return}try{d(!0);const L=await gj(b,F);r(L.wagers||[]),f("")}catch(L){console.error("Failed to load deleted wagers:",L),f(L.message||"Failed to load deleted wagers")}finally{d(!1)}};u.useEffect(()=>{N()},[b]);const M=async F=>{const L=localStorage.getItem("token");if(!L){f("Please login to restore wagers.");return}try{g(F),await bj(F,L),r(E=>E.map(w=>w.id===F?{...w,status:"restored",restoredAt:new Date().toISOString()}:w))}catch(E){f(E.message||"Failed to restore wager")}finally{g(null)}},_=F=>{p(F),C(!0)},k=F=>{if(F==null)return"";const L=Number(F);return Number.isNaN(L)?"":`$${L.toFixed(2)}`};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Deleted Wagers"})}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading deleted wagers..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"User"}),e.jsx("input",{type:"text",value:b.user,onChange:F=>v(L=>({...L,user:F.target.value})),placeholder:"Search user"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Sport"}),e.jsxs("select",{value:b.sport,onChange:F=>v(L=>({...L,sport:F.target.value})),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"NBA",children:"NBA"}),e.jsx("option",{value:"NFL",children:"NFL"}),e.jsx("option",{value:"MLB",children:"MLB"}),e.jsx("option",{value:"NHL",children:"NHL"}),e.jsx("option",{value:"Soccer",children:"Soccer"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:b.status,onChange:F=>v(L=>({...L,status:F.target.value})),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"deleted",children:"Deleted"}),e.jsx("option",{value:"restored",children:"Restored"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Time"}),e.jsxs("select",{value:b.time,onChange:F=>v(L=>({...L,time:F.target.value})),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Sport"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Reason"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(F=>e.jsxs("tr",{children:[e.jsx("td",{children:F.user}),e.jsx("td",{children:k(F.amount)}),e.jsx("td",{children:F.sport}),e.jsx("td",{children:F.deletedAt?new Date(F.deletedAt).toLocaleDateString():""}),e.jsx("td",{children:F.reason}),e.jsx("td",{children:e.jsx("span",{className:`badge ${F.status}`,children:F.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>_(F),children:"View"}),e.jsx("button",{className:"btn-small",onClick:()=>M(F.id),disabled:F.status==="restored"||x===F.id,children:x===F.id?"Working...":"Restore"})]})]},F.id))})]})})]})]}),j&&y&&e.jsx("div",{className:"modal-overlay",onClick:()=>C(!1),children:e.jsxs("div",{className:"modal-content",onClick:F=>F.stopPropagation(),children:[e.jsx("h3",{children:"Deleted Wager Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",y.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",k(y.amount)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sport:"})," ",y.sport]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Reason:"})," ",y.reason]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",y.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Deleted At:"})," ",y.deletedAt?new Date(y.deletedAt).toLocaleString():""]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Restored At:"})," ",y.restoredAt?new Date(y.restoredAt).toLocaleString():""]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>C(!1),children:"Close"})})]})})]})}function v0(){const[l,r]=u.useState("game"),[o,d]=u.useState("all"),[h,f]=u.useState([]),[b,v]=u.useState(!1),[x,g]=u.useState([]),[y,p]=u.useState(!0),[j,C]=u.useState(""),[N,M]=u.useState(""),[_,k]=u.useState(!1),[F,L]=u.useState({homeTeam:"",awayTeam:"",startTime:"",sport:"basketball",status:"scheduled"}),E=600,w=[{id:"nfl",label:"NFL",icon:""},{id:"nba",label:"NBA",icon:""},{id:"mlb",label:"MLB",icon:""},{id:"nhl",label:"NHL",icon:""},{id:"soccer",label:"Soccer",icon:""},{id:"tennis",label:"Tennis",icon:""},{id:"golf",label:"Golf",icon:""},{id:"boxing",label:"Boxing",icon:""},{id:"esports",label:"Esports",icon:""},{id:"props",label:"Props",icon:""},{id:"futures",label:"Futures",icon:""},{id:"contests",label:"Contests",icon:""}],A=W=>{f(ie=>ie.includes(W)?ie.filter(je=>je!==W):[...ie,W])},q=[{header:"Period",key:"period"},{header:"Game",key:"game"},{header:"Time",key:"time"},{header:"Event",key:"event"},{header:"Spread",key:"spread"},{header:"Moneyline",key:"moneyline"},{header:"Total",key:"total"},{header:"Team Total",key:"teamTotal"},{header:"OS",key:"os"},{header:"US",key:"us"}],G=async()=>{const W=localStorage.getItem("token");if(!W){C("Please login to load games."),p(!1);return}try{p(!0);const ie=await ul(W);g(ie||[]),C("")}catch(ie){console.error("Failed to load matches:",ie),C(ie.message||"Failed to load matches")}finally{p(!1)}};u.useEffect(()=>{G()},[]);const B=W=>{if(!W?.startTime)return o==="all";if(o==="all")return!0;const ie=new Date(W.startTime),je=new Date,te=new Date(je.getFullYear(),je.getMonth(),je.getDate()),O=new Date(te.getTime()+1440*60*1e3),Z=new Date(O.getTime()+1440*60*1e3),oe=new Date(te.getTime()+10080*60*1e3);return o==="today"?ie>=te&&ie<O:o==="tomorrow"?ie>=O&&ie<Z:o==="this-week"?ie>=te&&ie<oe:!0},ee=W=>l==="game"?!0:W?.status===l,I=W=>{if(!h.length)return!0;const ie=String(W?.sport||"").toLowerCase();return h.includes(ie)},S=x.filter(B).filter(ee).filter(I);u.useEffect(()=>{!y&&S.length===0&&v(!0)},[y,S.length]);const $=async()=>{const W=localStorage.getItem("token");if(!W){C("Please login to add games.");return}try{M("add"),await Ap({homeTeam:F.homeTeam.trim(),awayTeam:F.awayTeam.trim(),startTime:F.startTime,sport:F.sport,status:F.status},W),L({homeTeam:"",awayTeam:"",startTime:"",sport:"basketball",status:"scheduled"}),k(!1),G()}catch(ie){C(ie.message||"Failed to add game")}finally{M("")}},D=async()=>{const W=localStorage.getItem("token");if(!W){C("Please login to update odds.");return}try{const ie=Date.now();M("odds"),await Tp(W),G()}catch(ie){C(ie.message||"Failed to update odds")}finally{const ie=Date.now()-startedAt;ie<E&&await new Promise(je=>setTimeout(je,E-ie)),M("")}},J=async()=>{const W=localStorage.getItem("token");if(!W){C("Please login to clear cache.");return}try{M("cache"),await Sj(W)}catch(ie){C(ie.message||"Failed to clear cache")}finally{M("")}},H=async W=>{const ie=localStorage.getItem("token");if(!ie){C("Please login to settle matches.");return}const je=window.prompt(`Set winner for ${W.homeTeam} vs ${W.awayTeam}. Type "home" or "away":`,"home");if(!je)return;const te=je.trim().toLowerCase();if(te!=="home"&&te!=="away"){C('Winner must be "home" or "away".');return}const O=te==="home"?W.homeTeam:W.awayTeam;try{M(`settle-${W.id||W._id}`),await Tj({matchId:W.id||W._id,winner:O},ie),await G(),C(""),alert("Match settled successfully.")}catch(Z){C(Z.message||"Failed to settle match")}finally{M("")}};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Games & Events Management"})}),N==="odds"&&Md.createPortal(e.jsx("div",{className:"admin-loading-overlay",children:e.jsxs("div",{className:"admin-loading-card",children:[e.jsx("div",{className:"admin-spinner"}),e.jsx("div",{children:"Refreshing odds & scores..."})]})}),document.body),e.jsxs("div",{className:"view-content",children:[y&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading games..."}),j&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:j}),!y&&!j&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"games-controls",children:[e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Period:"}),e.jsxs("select",{value:l,onChange:W=>r(W.target.value),children:[e.jsx("option",{value:"game",children:"Game"}),e.jsx("option",{value:"live",children:"Live"}),e.jsx("option",{value:"finished",children:"Finished"}),e.jsx("option",{value:"scheduled",children:"Scheduled"})]})]}),e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Games to show:"}),e.jsxs("select",{value:o,onChange:W=>d(W.target.value),children:[e.jsx("option",{value:"all",children:"All Games"}),e.jsx("option",{value:"today",children:"Today Only"}),e.jsx("option",{value:"tomorrow",children:"Tomorrow"}),e.jsx("option",{value:"this-week",children:"This Week"})]})]})]}),e.jsx("div",{className:"sports-icons-container",children:w.map(W=>e.jsxs("button",{className:`sport-icon-btn ${h.includes(W.id)?"active":""}`,onClick:()=>A(W.id),title:W.label,children:[e.jsx("span",{className:"icon",children:W.icon}),e.jsx("span",{className:"dropdown-arrow",children:""})]},W.id))}),!b&&e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"data-table events-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[q.map(W=>e.jsx("th",{children:W.header},W.key)),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:S.map(W=>e.jsxs("tr",{children:[e.jsx("td",{children:W.status||"scheduled"}),e.jsxs("td",{children:[W.homeTeam," vs ",W.awayTeam]}),e.jsx("td",{children:W.startTime?new Date(W.startTime).toLocaleString():""}),e.jsx("td",{children:W.sport||""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:e.jsx("button",{className:"btn-small",onClick:()=>H(W),disabled:N===`settle-${W.id||W._id}`,children:N===`settle-${W.id||W._id}`?"Settling...":"Settle"})})]},W.id||W._id))})]})}),b&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content no-events-modal",children:[e.jsx("button",{className:"modal-close",onClick:()=>v(!1),children:""}),e.jsx("h3",{children:"Today there aren't any event's"}),e.jsx("p",{children:"There are no games for today, would you like to view the Full Board?"}),e.jsxs("div",{className:"modal-buttons",children:[e.jsx("button",{className:"btn-success",onClick:()=>{v(!1),d("all")},children:"Yes"}),e.jsx("button",{className:"btn-danger",onClick:()=>v(!1),children:"No"})]})]})}),e.jsxs("div",{className:"game-status-legend",children:[e.jsx("h4",{children:"Status Legend:"}),e.jsxs("div",{className:"legend-items",children:[e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"status-badge live",children:"Live"}),e.jsx("span",{children:"Game is currently in progress"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"status-badge scheduled",children:"Scheduled"}),e.jsx("span",{children:"Game is scheduled for future date"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"status-badge finished",children:"Finished"}),e.jsx("span",{children:"Game has ended"})]})]})]}),e.jsxs("div",{className:"quick-actions",children:[e.jsx("h4",{children:"Quick Actions:"}),e.jsx("button",{className:"btn-primary",onClick:()=>k(!0),children:"Add Game"}),e.jsx("button",{className:"btn-secondary",onClick:D,disabled:N==="odds",children:N==="odds"?e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{className:"admin-inline-spinner"})," Working..."]}):"Import Games"}),e.jsx("button",{className:"btn-secondary",onClick:D,disabled:N==="odds",children:N==="odds"?e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{className:"admin-inline-spinner"})," Working..."]}):"Update Odds"}),e.jsx("button",{className:"btn-danger",onClick:J,disabled:N==="cache",children:N==="cache"?"Working...":"Clear Cache"})]})]})]}),_&&e.jsx("div",{className:"modal-overlay",onClick:()=>k(!1),children:e.jsxs("div",{className:"modal-content",onClick:W=>W.stopPropagation(),children:[e.jsx("h3",{children:"Add Game"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Home Team"}),e.jsx("input",{type:"text",value:F.homeTeam,onChange:W=>L(ie=>({...ie,homeTeam:W.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Away Team"}),e.jsx("input",{type:"text",value:F.awayTeam,onChange:W=>L(ie=>({...ie,awayTeam:W.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Start Time"}),e.jsx("input",{type:"datetime-local",value:F.startTime,onChange:W=>L(ie=>({...ie,startTime:W.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Sport"}),e.jsxs("select",{value:F.sport,onChange:W=>L(ie=>({...ie,sport:W.target.value})),children:[e.jsx("option",{value:"basketball",children:"Basketball"}),e.jsx("option",{value:"football",children:"Football"}),e.jsx("option",{value:"baseball",children:"Baseball"}),e.jsx("option",{value:"hockey",children:"Hockey"}),e.jsx("option",{value:"soccer",children:"Soccer"}),e.jsx("option",{value:"tennis",children:"Tennis"}),e.jsx("option",{value:"golf",children:"Golf"}),e.jsx("option",{value:"boxing",children:"Boxing"}),e.jsx("option",{value:"esports",children:"Esports"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:F.status,onChange:W=>L(ie=>({...ie,status:W.target.value})),children:[e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"live",children:"Live"}),e.jsx("option",{value:"finished",children:"Finished"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>k(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:$,disabled:N==="add"||!F.homeTeam.trim()||!F.awayTeam.trim()||!F.startTime,children:N==="add"?"Saving...":"Add Game"})]})]})})]})}function N0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(""),[b,v]=u.useState(!1),[x,g]=u.useState(null),[y,p]=u.useState(null),[j,C]=u.useState({name:"",url:"",status:"active",notes:""}),[N,M]=u.useState(!1),_=async()=>{const A=localStorage.getItem("token");if(!A){f("Please login to view sportsbook links."),d(!1);return}try{d(!0);const q=await yj(A);r(q.links||[]),f("")}catch(q){console.error("Failed to load sportsbook links:",q),f(q.message||"Failed to load sportsbook links")}finally{d(!1)}};u.useEffect(()=>{_()},[]);const k=()=>{g(null),C({name:"",url:"",status:"active",notes:""}),v(!0)},F=A=>{g(A),C({name:A.name,url:A.url,status:A.status,notes:A.notes||""}),v(!0)},L=A=>{g(A),M(!0)},E=async()=>{const A=localStorage.getItem("token");if(!A){f("Please login to save links.");return}try{p(x?.id||"new"),x?await vj(x.id,j,A):await jj(j,A),v(!1),_()}catch(q){f(q.message||"Failed to save link")}finally{p(null)}},w=async A=>{const q=localStorage.getItem("token");if(!q){f("Please login to test links.");return}try{p(A);const G=await wj(A,q);r(B=>B.map(ee=>ee.id===A?{...ee,lastSync:G.lastSync}:ee))}catch(G){f(G.message||"Failed to test link")}finally{p(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Sportsbook Links"}),e.jsx("button",{className:"btn-primary",onClick:k,children:"Add New Link"})]}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading links..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Provider Name"}),e.jsx("th",{children:"API URL"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last Sync"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(A=>e.jsxs("tr",{children:[e.jsx("td",{children:A.name}),e.jsx("td",{className:"monospace",children:A.url}),e.jsx("td",{children:e.jsx("span",{className:`badge ${A.status}`,children:A.status})}),e.jsx("td",{children:A.lastSync?new Date(A.lastSync).toLocaleString():""}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>F(A),children:"Edit"}),e.jsx("button",{className:"btn-small",onClick:()=>w(A.id),disabled:y===A.id,children:y===A.id?"Working...":"Test"}),e.jsx("button",{className:"btn-small",onClick:()=>L(A),children:"View"})]})]},A.id))})]})})]}),b&&e.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:e.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[e.jsx("h3",{children:x?"Edit Link":"Add Link"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",value:j.name,onChange:A=>C(q=>({...q,name:A.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"URL"}),e.jsx("input",{type:"text",value:j.url,onChange:A=>C(q=>({...q,url:A.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:j.status,onChange:A=>C(q=>({...q,status:A.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:j.notes,onChange:A=>C(q=>({...q,notes:A.target.value})),placeholder:"Optional"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>v(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:E,disabled:y||!j.name.trim()||!j.url.trim(),children:y?"Saving...":"Save"})]})]})}),N&&x&&e.jsx("div",{className:"modal-overlay",onClick:()=>M(!1),children:e.jsxs("div",{className:"modal-content",onClick:A=>A.stopPropagation(),children:[e.jsx("h3",{children:"Link Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",x.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"URL:"})," ",x.url]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",x.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Sync:"})," ",x.lastSync?new Date(x.lastSync).toLocaleString():""]}),x.notes&&e.jsxs("p",{children:[e.jsx("strong",{children:"Notes:"})," ",x.notes]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>M(!1),children:"Close"})})]})})]})}function w0(){const[l,r]=u.useState([]),[o,d]=u.useState("all"),[h,f]=u.useState(!0),b=async()=>{try{const x=localStorage.getItem("token");if(!x)return;const g=await Bd({},x);if(g&&Array.isArray(g.bets)){const y=g.bets.map(p=>({id:p._id||p.id,user:p.userId?.username||"Unknown",type:p.matchSnapshot?.status==="live"?"LIVE":"UPCOMING",match:p.description||(p.matchSnapshot?`${p.matchSnapshot.homeTeam} vs ${p.matchSnapshot.awayTeam}`:"Unknown Match"),bet:`${p.selection} @ ${parseFloat(p.odds).toFixed(2)}`,amount:`$${parseFloat(p.amount).toFixed(2)}`,odds:parseFloat(p.odds).toFixed(2),time:new Date(p.createdAt).toLocaleTimeString(),status:p.matchSnapshot?.status==="live"?"LIVE":"UPCOMING",originalStatus:p.status}));r(y)}}catch(x){console.error("Failed to fetch admin bets:",x)}finally{f(!1)}};u.useEffect(()=>{b();const x=setInterval(()=>{document.hidden||b()},45e3);return()=>clearInterval(x)},[]);const v=o==="all"?l:l.filter(x=>x.type.toLowerCase()===o.toLowerCase());return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Live Bet Ticker"}),e.jsxs("div",{className:"ticker-filter",children:[e.jsx("button",{className:o==="all"?"active":"",onClick:()=>d("all"),children:"All Bets"}),e.jsx("button",{className:o==="live"?"active":"",onClick:()=>d("live"),children:" Live"}),e.jsx("button",{className:o==="upcoming"?"active":"",onClick:()=>d("upcoming"),children:" Upcoming"})]})]}),e.jsxs("div",{className:"view-content",children:[e.jsx("div",{className:"ticker-container",children:e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"ticker-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Status"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Match"}),e.jsx("th",{children:"Bet Details"}),e.jsx("th",{children:"Odds"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"Loading bets..."})}):v.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"No bets found"})}):v.map(x=>e.jsxs("tr",{className:`ticker-row ${x.status.toLowerCase()}`,children:[e.jsx("td",{children:e.jsx("span",{className:`status-badge ${x.status.toLowerCase()}`,children:x.status==="LIVE"?" LIVE":" UPCOMING"})}),e.jsx("td",{children:e.jsx("strong",{children:x.user})}),e.jsx("td",{className:"match-cell",children:x.match}),e.jsx("td",{className:"bet-cell",children:x.bet}),e.jsx("td",{className:"odds-cell",children:e.jsx("span",{className:"odds-highlight",children:x.odds})}),e.jsx("td",{className:"amount-cell",children:e.jsx("strong",{children:x.amount})}),e.jsx("td",{children:x.time}),e.jsx("td",{children:e.jsx("button",{className:"btn-tiny",children:"Details"})})]},x.id))})]})})}),e.jsxs("div",{className:"ticker-summary",children:[e.jsxs("div",{className:"summary-stat",children:[e.jsx("span",{className:"label",children:"Live Bets"}),e.jsx("span",{className:"value",children:l.filter(x=>x.status==="LIVE").length})]}),e.jsxs("div",{className:"summary-stat",children:[e.jsx("span",{className:"label",children:"Total Wagered"}),e.jsxs("span",{className:"value",children:["$",l.reduce((x,g)=>x+parseFloat(g.amount.replace("$","")),0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{className:"summary-stat",children:[e.jsx("span",{className:"label",children:"Avg Odds"}),e.jsx("span",{className:"value",children:l.length>0?(l.reduce((x,g)=>x+parseFloat(g.odds),0)/l.length).toFixed(2):"0.00"})]})]})]})]})}function S0(){const[l,r]=u.useState({betType:"straight",matchId:"",selection:"",odds:"1.90",amount:"50",userId:""}),[o,d]=u.useState([]),[h,f]=u.useState([]),[b,v]=u.useState(!0),[x,g]=u.useState(""),[y,p]=u.useState(!1),j=N=>{const{name:M,value:_}=N.target;r(k=>({...k,[M]:_}))},C=async N=>{N.preventDefault();const M=localStorage.getItem("token");if(!M){g("Please login to create tickets.");return}try{p(!0),await Uj({userId:l.userId,matchId:l.matchId,amount:Number(l.amount)||0,odds:Number(l.odds)||0,type:l.betType,selection:l.selection.trim(),status:"pending"},M),r({betType:"straight",matchId:"",selection:"",odds:"1.90",amount:"50",userId:""}),g("")}catch(_){console.error("Ticket creation failed:",_),g(_.message||"Failed to create ticket")}finally{p(!1)}};return u.useEffect(()=>{(async()=>{const M=localStorage.getItem("token");if(!M){g("Please login to load ticket data."),v(!1);return}try{v(!0);const[_,k]=await Promise.all([ul(M),rl(M)]);d(Array.isArray(_)?_:[]),f(Array.isArray(k)?k:[]),g("")}catch(_){console.error("Failed to load ticket data:",_),g(_.message||"Failed to load ticket data")}finally{v(!1)}})()},[]),e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Ticket Writer"}),e.jsx("p",{className:"subtitle",children:"Create custom betting tickets"})]}),e.jsxs("div",{className:"view-content",children:[b&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading ticket data..."}),x&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:x}),!b&&!x&&e.jsx("div",{className:"form-container",children:e.jsxs("form",{onSubmit:C,className:"admin-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Ticket Details"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer:"}),e.jsxs("select",{name:"userId",value:l.userId,onChange:j,required:!0,children:[e.jsx("option",{value:"",children:"Select customer"}),h.map(N=>e.jsx("option",{value:N.id||N._id,children:N.username},N.id||N._id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bet Type:"}),e.jsxs("select",{name:"betType",value:l.betType,onChange:j,children:[e.jsx("option",{value:"straight",children:"Straight"}),e.jsx("option",{value:"parlay",children:"Parlay"}),e.jsx("option",{value:"teaser",children:"Teaser"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Match:"}),e.jsxs("select",{name:"matchId",value:l.matchId,onChange:j,required:!0,children:[e.jsx("option",{value:"",children:"Select match"}),o.map(N=>e.jsxs("option",{value:N.id||N._id,children:[N.homeTeam," vs ",N.awayTeam]},N.id||N._id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Selection:"}),e.jsx("input",{type:"text",name:"selection",value:l.selection,onChange:j,placeholder:"e.g., Lakers to win",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Odds:"}),e.jsx("input",{type:"number",name:"odds",value:l.odds,onChange:j,placeholder:"e.g., 1.95",step:"0.01",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bet Amount:"}),e.jsx("input",{type:"number",name:"amount",value:l.amount,onChange:j,placeholder:"e.g., 100",step:"0.01",required:!0})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:y,children:y?"Saving...":"Create Ticket"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>r({betType:"straight",matchId:"",selection:"",odds:"1.90",amount:"50",userId:""}),children:"Clear"})]})]})})]})]})}function k0(){const[l,r]=u.useState("all"),[o,d]=u.useState([]),[h,f]=u.useState(!0),[b,v]=u.useState(""),[x,g]=u.useState(null),[y,p]=u.useState(!1),[j,C]=u.useState({scoreHome:"",scoreAway:"",status:"scheduled"}),[N,M]=u.useState(!1),_=async()=>{const w=localStorage.getItem("token");if(!w){v("Please login to view scores."),f(!1);return}try{f(!0);const A=await ul(w);d(A||[]),v("")}catch(A){console.error("Failed to load matches:",A),v(A.message||"Failed to load matches")}finally{f(!1)}};u.useEffect(()=>{_()},[]);const k=l==="all"?o:o.filter(w=>String(w.sport||"").toLowerCase()===l.toLowerCase()),F=w=>{const A=w.score?.score_home??w.score?.scoreHome??"",q=w.score?.score_away??w.score?.scoreAway??"";g(w),C({scoreHome:A===0?0:A,scoreAway:q===0?0:q,status:w.status||"scheduled"}),p(!0)},L=async()=>{const w=localStorage.getItem("token");if(!w){v("Please login to update scores.");return}try{M(!0),await Ep(x.id||x._id,{status:j.status,score:{scoreHome:Number(j.scoreHome)||0,scoreAway:Number(j.scoreAway)||0},lastUpdated:new Date},w),p(!1),_()}catch(A){v(A.message||"Failed to update score")}finally{M(!1)}},E=w=>w.status||"scheduled";return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Featured Matches & Scores"}),e.jsxs("div",{className:"sport-filter",children:[e.jsx("button",{className:l==="all"?"active":"",onClick:()=>r("all"),children:"All Sports"}),e.jsx("button",{className:l==="soccer"?"active":"",onClick:()=>r("soccer"),children:" Soccer"}),e.jsx("button",{className:l==="basketball"?"active":"",onClick:()=>r("basketball"),children:" NBA"}),e.jsx("button",{className:l==="tennis"?"active":"",onClick:()=>r("tennis"),children:" Tennis"}),e.jsx("button",{className:l==="football"?"active":"",onClick:()=>r("football"),children:" Football"})]})]}),e.jsxs("div",{className:"view-content",children:[h&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading scores..."}),b&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:b}),!h&&!b&&e.jsx("div",{className:"filtered-matches-section",children:e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"data-table live-matches-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Match"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Score"}),e.jsx("th",{children:"Odds"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:k.map(w=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("strong",{children:[w.homeTeam," vs ",w.awayTeam]})}),e.jsx("td",{children:w.startTime?new Date(w.startTime).toLocaleString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${E(w)}`,children:E(w)})}),e.jsxs("td",{children:[w.score?.score_home??w.score?.scoreHome??0," - ",w.score?.score_away??w.score?.scoreAway??0]}),e.jsx("td",{children:w.odds?JSON.stringify(w.odds):""}),e.jsx("td",{children:e.jsx("button",{className:"btn-small",onClick:()=>F(w),children:"Update"})})]},w.id||w._id))})]})})})]}),y&&x&&e.jsx("div",{className:"modal-overlay",onClick:()=>p(!1),children:e.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[e.jsx("h3",{children:"Update Score"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Home Score"}),e.jsx("input",{type:"number",value:j.scoreHome,onChange:w=>C(A=>({...A,scoreHome:w.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Away Score"}),e.jsx("input",{type:"number",value:j.scoreAway,onChange:w=>C(A=>({...A,scoreAway:w.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:j.status,onChange:w=>C(A=>({...A,status:w.target.value})),children:[e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"live",children:"Live"}),e.jsx("option",{value:"finished",children:"Finished"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>p(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:L,disabled:N,children:N?"Saving...":"Save"})]})]})})]})}const Qf={updateInfo:!0,suspendWagering:!0,enterDepositsWithdrawals:!0,deleteTransactions:!0,enterBettingAdjustments:!0,moveAccounts:!0,addAccounts:!0,changeCreditLimit:!0,setMinBet:!0,changeWagerLimit:!0,adjustParlayTeaser:!0,setGlobalTeamLimit:!0,maxWagerSetup:!0,allowDeny:!0,juiceSetup:!0,changeTempCredit:!0,changeSettleFigure:!0,views:Object.values($p).reduce((l,r)=>(l[r]=!0,l),{}),ipTracker:{manage:!0}},Xf={dashboard:"Dashboard",weeklyFigures:"Weekly Figures",pending:"Pending",messaging:"Messaging",gameAdmin:"Game Admin",customerAdmin:"Customer Admin",agentManager:"Agent Management",cashier:"Cashier",addCustomer:"Add Customer",thirdPartyLimits:"3rd Party Limits",props:"Props / Betting",agentPerformance:"Agent Performance",analysis:"Analysis",ipTracker:"IP Tracker",transactionsHistory:"Transactions History",collections:"Collections",deletedWagers:"Deleted Wagers",gamesEvents:"Games & Events",sportsbookLinks:"Sportsbook Links",betTicker:"Bet Ticker",ticketwriter:"TicketWriter",scores:"Scores",masterAgentAdmin:"Master Agent Admin",billing:"Billing",settings:"Settings",monitor:"System Monitor",rules:"Rules",feedback:"Feedback",faq:"FAQ",userManual:"User Manual",profile:"Profile"},Gp=(l,r)=>{if(!r||typeof r!="object")return l;const o={...l};return Object.keys(r).forEach(d=>{const h=r[d];h&&typeof h=="object"&&!Array.isArray(h)?o[d]=Gp(l[d]||{},h):o[d]=h}),o};function Wp({agent:l,onClose:r,onUpdate:o}){const[d,h]=u.useState(Qf),[f,b]=u.useState(!1);u.useEffect(()=>{l&&h(Gp(Qf,l.permissions||{}))},[l]);const v=j=>{h(C=>({...C,[j]:!C[j]}))},x=(j,C)=>{h(N=>({...N,[j]:{...N[j]||{},[C]:!N?.[j]?.[C]}}))},g=async()=>{b(!0);try{const j=localStorage.getItem("token");await Dj(l.id||l._id,d,j),alert("Permissions updated successfully"),o&&o(),r()}catch(j){console.error("Error updating permissions:",j),alert("Failed to update permissions: "+j.message)}finally{b(!1)}},y=(j,C)=>e.jsx("div",{className:"permission-item",children:e.jsxs("label",{className:"checkbox-container",children:[e.jsx("input",{type:"checkbox",checked:d[j],onChange:()=>v(j)}),e.jsx("span",{className:"checkmark"}),C]})},j),p=(j,C,N)=>e.jsx("div",{className:"permission-item",children:e.jsxs("label",{className:"checkbox-container",children:[e.jsx("input",{type:"checkbox",checked:!!d?.[j]?.[C],onChange:()=>x(j,C)}),e.jsx("span",{className:"checkmark"}),N]})},`${j}.${C}`);return e.jsxs("div",{className:"modal-overlay",children:[e.jsxs("div",{className:"modal-content permission-modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:["Permissions: ",l.username]}),e.jsx("button",{className:"close-btn",onClick:r,children:""})]}),e.jsxs("div",{className:"scrollable-content",children:[e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"General Account Setup"}),y("updateInfo","Update Info"),y("suspendWagering","Suspend Wagering"),y("enterDepositsWithdrawals","Enter Deposits / Withdrawals"),y("deleteTransactions","Delete Transactions"),y("enterBettingAdjustments","Enter Betting Adjustments"),y("moveAccounts","Move Accounts"),y("addAccounts","Add Accounts")]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Limit And Sport Setup"}),y("changeCreditLimit","Change Credit Limit"),y("setMinBet","Set Minimum Bet Amount"),y("changeWagerLimit","Change Wager Limit"),y("adjustParlayTeaser","Adjust Parlay/Teaser Setup"),y("setGlobalTeamLimit","Set Global Team Limit"),y("maxWagerSetup","Max Wager Setup"),y("allowDeny","Allow / Deny"),y("juiceSetup","Juice Setup"),y("changeTempCredit","Change Temp Credit"),y("changeSettleFigure","Change Settle Figure")]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Dashboard Access"}),Object.keys(Xf).map(j=>p("views",j,Xf[j]))]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"IP Tracker Actions"}),p("ipTracker","manage","Allow Block / Unblock / Whitelist")]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn-secondary",onClick:r,disabled:f,children:"Cancel"}),e.jsx("button",{className:"btn-primary",onClick:g,disabled:f,children:f?"Saving...":"Save"})]})]}),e.jsx("style",{children:`
        .permission-modal {
            width: 500px;
            max-width: 90vw;
            display: flex;
            flex-direction: column;
            max-height: 80vh;
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #333;
            padding-bottom: 1rem;
            margin-bottom: 1rem;
        }
        .close-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 1.5rem;
            cursor: pointer;
        }
        .scrollable-content {
            overflow-y: auto;
            flex: 1;
            padding-right: 0.5rem;
        }
        .section {
            margin-bottom: 1.5rem;
        }
        .section h4 {
            color: #ccc;
            border-bottom: 1px solid #444;
            padding-bottom: 0.5rem;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        .permission-item {
            margin-bottom: 0.5rem;
        }
        .checkbox-container {
            display: block;
            position: relative;
            padding-left: 30px;
            margin-bottom: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            user-select: none;
            color: #eee;
        }
        .checkbox-container input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }
        .checkmark {
            position: absolute;
            top: 2px;
            left: 0;
            height: 18px;
            width: 18px;
            background-color: #eee;
            border-radius: 3px;
        }
        .checkbox-container:hover input ~ .checkmark {
            background-color: #ccc;
        }
        .checkbox-container input:checked ~ .checkmark {
            background-color: #e67e22; /* Warning/Orange color often used in betting apps */
        }
        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
        }
        .checkbox-container input:checked ~ .checkmark:after {
            display: block;
        }
        .checkbox-container .checkmark:after {
            left: 6px;
            top: 2px;
            width: 4px;
            height: 9px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }
        .modal-footer {
            border-top: 1px solid #333;
            padding-top: 1rem;
            margin-top: 1rem;
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }
      `})]})}function Zf(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(!1),[b,v]=u.useState(!1),[x,g]=u.useState(!1),[y,p]=u.useState(!1),[j,C]=u.useState(null),[N,M]=u.useState({username:"",phoneNumber:"",password:"",agentPrefix:""}),[_,k]=u.useState({id:"",phoneNumber:"",password:"",agentBillingRate:"",agentBillingStatus:"paid"}),[F,L]=u.useState(null),[E,w]=u.useState("all"),[A,q]=u.useState(!1),G=l.filter(te=>E==="all"?!0:E==="admin"?te.createdByModel==="Admin":E==="master_agent"?te.createdByModel==="Agent":!0),B=te=>{if(te==null||te==="")return"";const O=Number(te);return Number.isNaN(O)?"":`$${O.toFixed(2)}`};js.useEffect(()=>{ee()},[]);const ee=async()=>{try{const te=localStorage.getItem("token");if(!te)return;const O=await fi(te);r(O||[]),L(null)}catch(te){console.error("Failed to fetch agents:",te),L(te.message||"Failed to fetch agents")}finally{d(!1)}},I=async te=>{const O=te.toUpperCase();if(M(Z=>({...Z,agentPrefix:O})),O.length>=2){const Z=localStorage.getItem("token");try{const{nextUsername:oe}=await qa(O,Z,{suffix:"MA",type:"agent"});M(K=>({...K,username:oe}))}catch(oe){console.error("Failed to get next username from prefix:",oe)}}else M(Z=>({...Z,username:""}))},S=async te=>{te.preventDefault();try{const O=localStorage.getItem("token");if(!O)throw new Error("No token found");await qr(N,O),alert("Master Agent created successfully"),f(!1),M({username:"",phoneNumber:"",password:"",agentPrefix:""}),ee()}catch(O){console.error("Agent creation error:",O),alert("Failed to create agent: "+O.message)}},$=async te=>{const O=te.status==="suspended",Z=O?"unsuspend":"suspend";if(window.confirm(`Are you sure you want to ${Z} ${te.username}?`))try{const oe=localStorage.getItem("token");O?await _p(te.id||te._id,oe):await Bp(te.id||te._id,oe),ee()}catch(oe){alert(`Failed to ${Z} agent: `+oe.message)}},D=te=>{k({id:te.id||te._id,phoneNumber:te.phoneNumber||"",password:"",agentBillingRate:te.agentBillingRate??"",agentBillingStatus:te.agentBillingStatus||"paid"}),C(te),v(!0)},J=async te=>{te.preventDefault();try{const O=localStorage.getItem("token");if(!O)throw new Error("No token found");const Z={phoneNumber:_.phoneNumber,agentBillingRate:_.agentBillingRate,agentBillingStatus:_.agentBillingStatus};_.password&&(Z.password=_.password),await bd(_.id,Z,O),alert("Agent updated successfully"),v(!1),ee()}catch(O){console.error("Update Error:",O),alert("Failed to update agent: "+O.message)}},H=te=>{C(te),g(!0)},W=async te=>{const O=te.id||te._id,Z=te.balance??0,oe=window.prompt("Enter new agent balance:",`${Z}`);if(oe===null)return;const K=Number(oe);if(Number.isNaN(K)){alert("Balance must be a valid number.");return}try{const V=localStorage.getItem("token");if(!V)throw new Error("No token found");await bd(O,{balance:K},V),ee()}catch(V){alert("Failed to update agent balance: "+(V.message||"Unknown error"))}},ie=async te=>{const O=te.id||te._id,Z=window.prompt(`Enter new password for agent ${te.username}:`,"");if(Z!==null){if(Z.length<6){alert("Password must be at least 6 characters long");return}try{const oe=localStorage.getItem("token");if(!oe)throw new Error("No token found");await Rp(O,Z,oe),alert(`Password for agent ${te.username} has been reset successfully.`)}catch(oe){console.error("Agent password reset failed:",oe),alert(oe.message||"Failed to reset agent password")}}},je=async()=>{if(window.confirm(`Create workflow demo hierarchy now?

This will add:
- 10 master agents created by admin
- 5 master agents under the first master agent
- 10 agents under each master agent
- 10 players under each agent

This action adds many records and cannot be undone automatically.`))try{q(!0);const O=localStorage.getItem("token");if(!O)throw new Error("No token found");const Z=await Bj(O),oe=Z?.summary||{};alert(`Workflow seed complete.
Batch: ${Z?.batchTag||"N/A"}
Masters: ${oe.totalMasters||0}
Agents: ${oe.totalAgents||0}
Players: ${oe.totalPlayers||0}`),await ee()}catch(O){alert("Failed to seed workflow hierarchy: "+(O.message||"Unknown error"))}finally{q(!1)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Master Agent Administration"}),e.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e.jsxs("select",{value:E,onChange:te=>w(te.target.value),style:{padding:"0.5rem",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#333",color:"white"},children:[e.jsx("option",{value:"all",children:"Show All Creators"}),e.jsx("option",{value:"admin",children:"Created by Admin"}),e.jsx("option",{value:"master_agent",children:"Created by Master Agent"})]}),e.jsx("button",{className:"btn-secondary",onClick:je,disabled:A,title:"Create full workflow test hierarchy",children:A?"Seeding...":"Seed Workflow Demo"}),e.jsx("button",{className:"btn-primary",onClick:()=>f(!0),children:"Add Master Agent"})]})]}),h&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"New Master Agent"}),e.jsxs("form",{onSubmit:S,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",value:N.agentPrefix,onChange:te=>I(te.target.value),placeholder:"Enter prefix",maxLength:5,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Username"}),e.jsx("input",{type:"text",value:N.username,readOnly:!0,style:{background:"#222",color:"#888"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:N.phoneNumber,onChange:te=>M({...N,phoneNumber:te.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:N.password,onChange:te=>M({...N,password:te.target.value}),required:!0})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Create"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>f(!1),children:"Cancel"})]})]})]})}),b&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("h3",{children:["Edit Agent: ",j?.username]}),e.jsxs("form",{onSubmit:J,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:_.phoneNumber,onChange:te=>k({..._,phoneNumber:te.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"New Password (leave blank to keep)"}),e.jsx("input",{type:"password",value:_.password,onChange:te=>k({..._,password:te.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Rate per Customer (Weekly)"}),e.jsx("input",{type:"number",min:"0",value:_.agentBillingRate,onChange:te=>k({..._,agentBillingRate:te.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Status"}),e.jsxs("select",{value:_.agentBillingStatus,onChange:te=>k({..._,agentBillingStatus:te.target.value}),style:{width:"100%",padding:"0.5rem",background:"#333",border:"1px solid #444",color:"#fff",borderRadius:"4px"},children:[e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"unpaid",children:"Unpaid"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>v(!1),children:"Cancel"})]})]})]})}),x&&j&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"Agent Details"}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Username:"})," ",e.jsx("span",{children:j.username})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Phone Number:"})," ",e.jsx("span",{children:j.phoneNumber})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Status:"})," ",e.jsx("span",{className:`badge ${j.status}`,children:j.status})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Created By:"})," ",e.jsx("span",{children:j.createdBy?.username||"System"})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Created At:"})," ",e.jsx("span",{children:new Date(j.createdAt).toLocaleString()})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Customers:"})," ",e.jsx("span",{children:j.userCount})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Active Customers:"})," ",e.jsx("span",{children:j.activeCustomerCount||0})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Balance:"})," ",e.jsx("span",{children:B(j.balance)})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Outstanding Balance:"})," ",e.jsx("span",{children:B(j.balanceOwed)})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Rate per Customer:"})," ",e.jsxs("span",{children:["$",Number(j.agentBillingRate||0).toFixed(2)]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Weekly Charge:"})," ",e.jsxs("span",{children:["$",Number(j.weeklyCharge||0).toFixed(2)]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Billing Status:"})," ",e.jsx("span",{children:j.agentBillingStatus||"paid"})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"View Only:"})," ",e.jsx("span",{children:j.viewOnly?"Yes":"No"})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>g(!1),children:"Close"})})]})}),y&&j&&e.jsx(Wp,{agent:j,onClose:()=>p(!1),onUpdate:ee}),e.jsx("div",{className:"view-content",children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agent Name"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Phone Number"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created By"}),e.jsx("th",{children:"Sub-Agents"}),e.jsx("th",{children:"Total Users"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Outstanding"}),e.jsx("th",{children:"Rate/Customer"}),e.jsx("th",{children:"Weekly Charge"}),e.jsx("th",{children:"Billing"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:o?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",children:"Loading agents..."})}):F?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",children:F})}):G.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",children:"No agents found matching filter."})}):G.map(te=>e.jsxs("tr",{children:[e.jsx("td",{children:te.username}),e.jsx("td",{children:e.jsx("span",{className:`badge ${te.role==="master_agent"?"btn-primary":"btn-secondary"}`,style:{fontSize:"0.75rem",textTransform:"capitalize"},children:te.role?.replace("_"," ")||"agent"})}),e.jsx("td",{children:te.phoneNumber}),e.jsx("td",{children:e.jsx("span",{className:`badge ${te.status||""}`,children:te.status||"unknown"})}),e.jsx("td",{style:{fontWeight:"bold",color:te.createdBy?"#e67e22":"#999"},children:te.createdBy?e.jsxs(e.Fragment,{children:[e.jsxs("span",{style:{fontSize:"0.8em",color:"#888",marginRight:"4px"},children:["[",te.createdByModel==="Admin"?"Admin":"MA","]"]}),te.createdBy.username]}):"System"}),e.jsx("td",{children:te.role==="master_agent"?te.subAgentCount||0:""}),e.jsx("td",{children:te.role==="master_agent"?te.totalUsersInHierarchy||0:te.userCount||0}),e.jsx("td",{children:B(te.balance)}),e.jsx("td",{children:B(te.balanceOwed)}),e.jsxs("td",{children:["$",Number(te.agentBillingRate||0).toFixed(2)]}),e.jsxs("td",{children:["$",Number(te.weeklyCharge||0).toFixed(2)]}),e.jsx("td",{children:e.jsx("span",{className:`badge ${te.agentBillingStatus==="unpaid"?"warning":"active"}`,children:te.agentBillingStatus||"paid"})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>D(te),children:"Edit"}),e.jsx("button",{className:"btn-small",onClick:()=>H(te),children:"View"}),e.jsx("button",{className:"btn-small",onClick:()=>{C(te),p(!0)},children:"Permissions"}),e.jsx("button",{className:"btn-small",onClick:()=>W(te),children:"Adjust Balance"}),e.jsx("button",{className:`btn-small ${te.status==="suspended"?"btn-success":"btn-danger"}`,onClick:()=>$(te),children:te.status==="suspended"?"Activate":"Deactivate"}),e.jsx("button",{className:"btn-small btn-secondary",onClick:()=>ie(te),children:"Reset Pass"})]})]},te.id||te._id))})]})})}),e.jsx("style",{children:`
        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.7); display: flex; justify-content: center; align-items: center; z-index: 1000;
        }
        .modal-content {
            background: #1e1e1e; padding: 2rem; border-radius: 8px; width: 400px; border: 1px solid #333; color: #fff;
        }
        .form-group { margin-bottom: 1rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; color: #aaa; }
        .form-group input { width: 100%; padding: 0.5rem; background: #333; border: 1px solid #444; color: #fff; border-radius: 4px; }
        .modal-actions { display: flex; gap: 1rem; margin-top: 1.5rem; }
        .detail-row { display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #333; }
        .detail-row label { color: #888; }
        .btn-success { background-color: #27ae60 !important; }
      `})]})}function C0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(!1),[b,v]=u.useState(!1),[x,g]=u.useState(!1),[y,p]=u.useState(null),[j,C]=u.useState({username:"",phoneNumber:"",password:"",fullName:"",agentPrefix:"",role:"agent"}),[N,M]=u.useState({id:"",phoneNumber:"",password:""}),[_,k]=u.useState(null),[F,L]=u.useState("");u.useEffect(()=>{w(),E()},[]);const E=async()=>{try{const S=localStorage.getItem("token");if(S){const $=await Ga(S);L($?.username||"")}}catch(S){console.error("Failed to fetch profile:",S)}},w=async()=>{try{const S=localStorage.getItem("token");if(!S)return;const $=await Rj(S);r($||[]),k(null)}catch(S){console.error("Failed to fetch agents:",S),k(S.message||"Failed to fetch agents")}finally{d(!1)}},A=async S=>{const $=S.toUpperCase();if(C(D=>({...D,agentPrefix:$})),$.length>=2){const D=localStorage.getItem("token");try{const{nextUsername:J}=await qa($,D,{type:"agent"});C(H=>({...H,username:J}))}catch(J){console.error("Failed to get next username from prefix:",J)}}else C(D=>({...D,username:""}))},q=async S=>{S.preventDefault();try{const $=localStorage.getItem("token");if(!$)throw new Error("No token found");await yd(j,$),alert("Agent created successfully"),f(!1),C({username:"",phoneNumber:"",password:"",fullName:"",agentPrefix:"",role:"agent"}),w()}catch($){alert("Failed to create agent: "+$.message)}},G=S=>{M({id:S.id||S._id,phoneNumber:S.phoneNumber||"",password:""}),p(S),v(!0)},B=async S=>{S.preventDefault();try{const $=localStorage.getItem("token"),D={phoneNumber:N.phoneNumber};N.password&&(D.password=N.password),await bd(N.id,D,$),alert("Agent updated successfully"),v(!1),w()}catch($){alert("Failed to update agent: "+$.message)}},ee=async S=>{const $=S.status==="suspended",D=$?"unsuspend":"suspend";if(window.confirm(`Are you sure you want to ${D} ${S.username}?`))try{const J=localStorage.getItem("token");$?await _p(S.id||S._id,J):await Bp(S.id||S._id,J),w()}catch(J){alert(`Failed to ${D} agent: `+J.message)}},I=async S=>{const $=window.prompt(`Enter new password for agent ${S.username}:`);if($)try{const D=localStorage.getItem("token");await Rp(S.id||S._id,$,D),alert("Password reset successful")}catch(D){alert("Reset failed: "+D.message)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Agent Management"}),localStorage.getItem("userRole")!=="admin"&&e.jsx("button",{className:"btn-primary",onClick:()=>{f(!0),F&&A(F)},children:"Add Agent"})]}),h&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"New Agent"}),e.jsxs("form",{onSubmit:q,children:[!F&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",value:j.agentPrefix,onChange:S=>A(S.target.value),placeholder:"Enter prefix",maxLength:5,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role"}),e.jsxs("select",{value:j.role,onChange:S=>C({...j,role:S.target.value}),style:{width:"100%",padding:"0.5rem",background:"#333",color:"white",marginBottom:"1rem",border:"1px solid #444"},children:[e.jsx("option",{value:"agent",children:"Agent"}),e.jsx("option",{value:"master_agent",children:"Master Agent"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Username"}),e.jsx("input",{type:"text",value:j.username,readOnly:!0,style:{background:"#222",color:"#888"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:j.phoneNumber,onChange:S=>C({...j,phoneNumber:S.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:j.password,onChange:S=>C({...j,password:S.target.value}),required:!0})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Create"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>f(!1),children:"Cancel"})]})]})]})}),b&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("h3",{children:["Edit Sub-Agent: ",y?.username]}),e.jsxs("form",{onSubmit:B,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:N.phoneNumber,onChange:S=>M({...N,phoneNumber:S.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"New Password (leave blank to keep)"}),e.jsx("input",{type:"password",value:N.password,onChange:S=>M({...N,password:S.target.value})})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>v(!1),children:"Cancel"})]})]})]})}),x&&y&&e.jsx(Wp,{agent:y,onClose:()=>g(!1),onUpdate:w}),e.jsx("div",{className:"view-content",children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Username"}),e.jsx("th",{children:"Phone Number"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Users"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:o?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"Loading agents..."})}):_?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"error",children:_})}):l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"No agents found."})}):l.map(S=>e.jsxs("tr",{children:[e.jsx("td",{children:S.username}),e.jsx("td",{children:S.phoneNumber}),e.jsx("td",{children:e.jsx("span",{className:"badge",children:S.role==="master_agent"?"Master Agent":"Agent"})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${S.status}`,children:S.status})}),e.jsx("td",{children:S.userCount||0}),e.jsxs("td",{children:["$",Number(S.balance||0).toFixed(2)]}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>G(S),children:"Edit"}),e.jsx("button",{className:"btn-small",onClick:()=>{p(S),g(!0)},children:"Perms"}),e.jsx("button",{className:`btn-small ${S.status==="suspended"?"btn-success":"btn-danger"}`,onClick:()=>ee(S),children:S.status==="suspended"?"Activate":"Deactivate"}),e.jsx("button",{className:"btn-small btn-secondary",onClick:()=>I(S),children:"Reset Path"})]})]},S.id||S._id))})]})})}),e.jsx("style",{children:`
        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.7); display: flex; justify-content: center; align-items: center; z-index: 1000;
        }
        .modal-content {
            background: #1e1e1e; padding: 2rem; border-radius: 8px; width: 400px; border: 1px solid #333; color: #fff;
        }
        .form-group { margin-bottom: 1rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; color: #aaa; }
        .form-group input { width: 100%; padding: 0.5rem; background: #333; border: 1px solid #444; color: #fff; border-radius: 4px; }
        .modal-actions { display: flex; gap: 1rem; margin-top: 1.5rem; }
      `})]})}function A0(){const[l,r]=u.useState([]),[o,d]=u.useState({paid:0,outstanding:0,total:0}),[h,f]=u.useState(!0),[b,v]=u.useState(""),[x,g]=u.useState(!1),[y,p]=u.useState(!1),[j,C]=u.useState(null),[N,M]=u.useState(null),[_,k]=u.useState("all"),[F,L]=u.useState({invoiceNumber:"",amount:"",status:"pending",dueDate:"",notes:""}),E=async()=>{const I=localStorage.getItem("token");if(!I){v("Please login to view billing."),f(!1);return}try{f(!0);const[S,$]=await Promise.all([zj(I),Ij({status:_,limit:200},I)]);d(S||{paid:0,outstanding:0,total:0}),r($.invoices||[]),v("")}catch(S){console.error("Failed to load billing:",S),v(S.message||"Failed to load billing")}finally{f(!1)}};u.useEffect(()=>{E()},[_]);const w=I=>{if(I==null)return"";const S=Number(I);return Number.isNaN(S)?"":`$${S.toFixed(2)}`},A=()=>{L({invoiceNumber:"",amount:"",status:"pending",dueDate:"",notes:""}),g(!0)},q=I=>{C(I),p(!0)},G=async()=>{const I=localStorage.getItem("token");if(!I){v("Please login to save invoices.");return}try{M("new"),await Fj({invoiceNumber:F.invoiceNumber.trim(),amount:Number(F.amount)||0,status:F.status,dueDate:F.dueDate||null,notes:F.notes.trim()||null},I),g(!1),E()}catch(S){v(S.message||"Failed to create invoice")}finally{M(null)}},B=async I=>{const S=localStorage.getItem("token");if(!S){v("Please login to update invoices.");return}try{M(I.id),await Pj(I.id,{status:"paid"},S),E()}catch($){v($.message||"Failed to update invoice")}finally{M(null)}},ee=I=>{const S=JSON.stringify(I,null,2),$=new Blob([S],{type:"application/json"}),D=URL.createObjectURL($),J=document.createElement("a");J.href=D,J.download=`${I.invoice||"invoice"}.json`,J.click(),URL.revokeObjectURL(D)};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Billing Management"}),e.jsx("button",{className:"btn-primary",onClick:A,children:"Create Invoice"})]}),e.jsxs("div",{className:"view-content",children:[h&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading billing..."}),b&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:b}),!h&&!b&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"billing-summary",children:[e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total Paid"}),e.jsx("p",{className:"amount",children:w(o.paid)})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total Outstanding"}),e.jsx("p",{className:"amount",children:w(o.outstanding)})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total All Time"}),e.jsx("p",{className:"amount",children:w(o.total)})]})]}),e.jsx("div",{className:"filter-section",children:e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:_,onChange:I=>k(I.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"overdue",children:"Overdue"})]})]})}),e.jsxs("div",{className:"table-container",children:[e.jsx("h3",{children:"Recent Invoices"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Invoice #"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(I=>e.jsxs("tr",{children:[e.jsx("td",{children:I.invoice}),e.jsx("td",{children:I.date?new Date(I.date).toLocaleDateString():""}),e.jsx("td",{children:w(I.amount)}),e.jsx("td",{children:e.jsx("span",{className:`badge ${I.status}`,children:I.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>ee(I),children:"Download"}),e.jsx("button",{className:"btn-small",onClick:()=>q(I),children:"View"}),I.status!=="paid"&&e.jsx("button",{className:"btn-small",onClick:()=>B(I),disabled:N===I.id,children:N===I.id?"Working...":"Mark Paid"})]})]},I.id))})]})]})]})]}),x&&e.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:e.jsxs("div",{className:"modal-content",onClick:I=>I.stopPropagation(),children:[e.jsx("h3",{children:"Create Invoice"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Invoice #"}),e.jsx("input",{type:"text",value:F.invoiceNumber,onChange:I=>L(S=>({...S,invoiceNumber:I.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:F.amount,onChange:I=>L(S=>({...S,amount:I.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:F.status,onChange:I=>L(S=>({...S,status:I.target.value})),children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"overdue",children:"Overdue"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Due Date"}),e.jsx("input",{type:"date",value:F.dueDate,onChange:I=>L(S=>({...S,dueDate:I.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:F.notes,onChange:I=>L(S=>({...S,notes:I.target.value}))})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>g(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:G,disabled:N||!F.invoiceNumber.trim()||!F.amount,children:N?"Saving...":"Save"})]})]})}),y&&j&&e.jsx("div",{className:"modal-overlay",onClick:()=>p(!1),children:e.jsxs("div",{className:"modal-content",onClick:I=>I.stopPropagation(),children:[e.jsx("h3",{children:"Invoice Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Invoice:"})," ",j.invoice]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",w(j.amount)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",j.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",j.date?new Date(j.date).toLocaleString():""]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Due Date:"})," ",j.dueDate?new Date(j.dueDate).toLocaleDateString():""]}),j.notes&&e.jsxs("p",{children:[e.jsx("strong",{children:"Notes:"})," ",j.notes]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>p(!1),children:"Close"})})]})})]})}function E0(){const[l,r]=u.useState({platformName:"Sports Betting Platform",dailyBetLimit:"10000",weeklyBetLimit:"50000",maxOdds:"100",minBet:"1",maxBet:"5000",maintenanceMode:!1,smsNotifications:!0,twoFactor:!0}),[o,d]=u.useState(!0),[h,f]=u.useState(""),[b,v]=u.useState(!1);u.useEffect(()=>{(async()=>{const p=localStorage.getItem("token");if(!p){f("Please login to load settings."),d(!1);return}try{d(!0);const j=await $j(p);r({platformName:j.platformName,dailyBetLimit:j.dailyBetLimit,weeklyBetLimit:j.weeklyBetLimit,maxOdds:j.maxOdds,minBet:j.minBet,maxBet:j.maxBet,maintenanceMode:j.maintenanceMode,smsNotifications:j.smsNotifications,twoFactor:j.twoFactor}),f("")}catch(j){console.error("Failed to load settings:",j),f(j.message||"Failed to load settings")}finally{d(!1)}})()},[]);const x=y=>{const{name:p,value:j,type:C,checked:N}=y.target;r(M=>({...M,[p]:C==="checkbox"?N:j}))},g=async()=>{const y=localStorage.getItem("token");if(!y){f("Please login to save settings.");return}try{v(!0),await Hj(l,y),f("")}catch(p){f(p.message||"Failed to save settings")}finally{v(!1)}};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Platform Settings"})}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading settings..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsx("div",{className:"settings-container",children:e.jsxs("form",{className:"settings-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"General Settings"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Platform Name:"}),e.jsx("input",{type:"text",name:"platformName",value:l.platformName,onChange:x})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Bet Limits"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Daily Bet Limit ($):"}),e.jsx("input",{type:"number",name:"dailyBetLimit",value:l.dailyBetLimit,onChange:x})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Weekly Bet Limit ($):"}),e.jsx("input",{type:"number",name:"weeklyBetLimit",value:l.weeklyBetLimit,onChange:x})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Max Odds:"}),e.jsx("input",{type:"number",name:"maxOdds",value:l.maxOdds,onChange:x,step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Minimum Bet ($):"}),e.jsx("input",{type:"number",name:"minBet",value:l.minBet,onChange:x,step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Maximum Bet ($):"}),e.jsx("input",{type:"number",name:"maxBet",value:l.maxBet,onChange:x})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Security Settings"}),e.jsxs("div",{className:"form-group checkbox",children:[e.jsx("input",{type:"checkbox",name:"twoFactor",checked:l.twoFactor,onChange:x,id:"twoFactor"}),e.jsx("label",{htmlFor:"twoFactor",children:"Require Two-Factor Authentication"})]}),e.jsxs("div",{className:"form-group checkbox",children:[e.jsx("input",{type:"checkbox",name:"maintenanceMode",checked:l.maintenanceMode,onChange:x,id:"maintenanceMode"}),e.jsx("label",{htmlFor:"maintenanceMode",children:"Maintenance Mode"})]}),e.jsxs("div",{className:"form-group checkbox",children:[e.jsx("input",{type:"checkbox",name:"smsNotifications",checked:l.smsNotifications,onChange:x,id:"smsNotifications"}),e.jsx("label",{htmlFor:"smsNotifications",children:"Enable SMS Notifications"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:g,className:"btn-primary",disabled:b,children:b?"Saving...":"Save Settings"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>window.location.reload(),children:"Reset"})]})]})})]})]})}function T0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(""),[b,v]=u.useState(!1),[x,g]=u.useState(null),[y,p]=u.useState({title:"",items:"",status:"active"}),[j,C]=u.useState(null),N=async()=>{const L=localStorage.getItem("token");if(!L){f("Please login to view rules."),d(!1);return}try{d(!0);const E=await qj(L);r(E.rules||[]),f("")}catch(E){console.error("Failed to load rules:",E),f(E.message||"Failed to load rules")}finally{d(!1)}};u.useEffect(()=>{N()},[]);const M=()=>{g(null),p({title:"",items:"",status:"active"}),v(!0)},_=L=>{g(L),p({title:L.title,items:(L.items||[]).join(`
`),status:L.status||"active"}),v(!0)},k=async()=>{const L=localStorage.getItem("token");if(!L){f("Please login to save rules.");return}try{C(x?.id||"new");const E={title:y.title.trim(),items:y.items.split(`
`).map(w=>w.trim()).filter(Boolean),status:y.status};x?await Wj(x.id||x._id,E,L):await Gj(E,L),v(!1),N()}catch(E){f(E.message||"Failed to save rule")}finally{C(null)}},F=async L=>{const E=localStorage.getItem("token");if(!E){f("Please login to delete rules.");return}try{C(L),await Yj(L,E),r(w=>w.filter(A=>(A.id||A._id)!==L))}catch(w){f(w.message||"Failed to delete rule")}finally{C(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Rules & Regulations"}),e.jsx("button",{className:"btn-primary",onClick:M,children:"Add New Rule"})]}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading rules..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsx("div",{className:"rules-container",children:l.map(L=>e.jsxs("div",{className:"rule-card",children:[e.jsx("h3",{children:L.title}),e.jsx("ul",{children:(L.items||[]).map((E,w)=>e.jsx("li",{children:E},w))}),e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{className:"btn-small",onClick:()=>_(L),children:"Edit"}),e.jsx("button",{className:"btn-small btn-danger",onClick:()=>F(L.id||L._id),disabled:j===(L.id||L._id),children:j===(L.id||L._id)?"Working...":"Delete"})]})]},L.id||L._id))})]}),b&&e.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:e.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[e.jsx("h3",{children:x?"Edit Rule":"Add Rule"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Title"}),e.jsx("input",{type:"text",value:y.title,onChange:L=>p(E=>({...E,title:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Items (one per line)"}),e.jsx("textarea",{rows:"6",value:y.items,onChange:L=>p(E=>({...E,items:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:y.status,onChange:L=>p(E=>({...E,status:L.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>v(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:k,disabled:j||!y.title.trim(),children:j?"Saving...":"Save"})]})]})})]})}function L0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(""),[b,v]=u.useState("all"),[x,g]=u.useState(null),[y,p]=u.useState(""),[j,C]=u.useState(!1),[N,M]=u.useState(null),_=async()=>{const w=localStorage.getItem("token");if(!w){f("Please login to view feedback."),d(!1);return}try{d(!0);const A=await Vj({status:b},w);r(A.feedbacks||[]),f("")}catch(A){console.error("Failed to load feedback:",A),f(A.message||"Failed to load feedback")}finally{d(!1)}};u.useEffect(()=>{_()},[b]);const k=w=>{g(w),p(w.adminReply||""),C(!0)},F=async()=>{const w=localStorage.getItem("token");if(!w){f("Please login to reply.");return}try{M(x.id),await Qj(x.id,{reply:y},w),C(!1),_()}catch(A){f(A.message||"Failed to reply")}finally{M(null)}},L=async w=>{const A=localStorage.getItem("token");if(!A){f("Please login to mark reviewed.");return}try{M(w),await Xj(w,A),_()}catch(q){f(q.message||"Failed to mark reviewed")}finally{M(null)}},E=async w=>{const A=localStorage.getItem("token");if(!A){f("Please login to delete feedback.");return}try{M(w),await Zj(w,A),r(q=>q.filter(G=>G.id!==w))}catch(q){f(q.message||"Failed to delete feedback")}finally{M(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Customer Feedback"})}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading feedback..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"filter-section",children:e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:b,onChange:w=>v(w.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"reviewed",children:"Reviewed"})]})]})}),e.jsx("div",{className:"feedback-container",children:l.map(w=>e.jsxs("div",{className:"feedback-card",children:[e.jsxs("div",{className:"feedback-header",children:[e.jsx("h4",{children:w.user}),e.jsx("div",{className:"rating",children:"".repeat(w.rating||0)}),e.jsx("span",{className:"date",children:w.date?new Date(w.date).toLocaleDateString():""})]}),e.jsx("p",{className:"feedback-message",children:w.message}),w.adminReply&&e.jsxs("p",{className:"feedback-message",children:[e.jsx("strong",{children:"Reply:"})," ",w.adminReply]}),e.jsxs("div",{className:"feedback-actions",children:[e.jsx("button",{className:"btn-small",onClick:()=>k(w),children:"Reply"}),e.jsx("button",{className:"btn-small",onClick:()=>L(w.id),disabled:N===w.id,children:N===w.id?"Working...":"Mark as Reviewed"}),e.jsx("button",{className:"btn-small btn-danger",onClick:()=>E(w.id),disabled:N===w.id,children:N===w.id?"Working...":"Delete"})]})]},w.id))})]})]}),j&&x&&e.jsx("div",{className:"modal-overlay",onClick:()=>C(!1),children:e.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[e.jsx("h3",{children:"Reply to Feedback"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",x.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Message:"})," ",x.message]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Reply"}),e.jsx("textarea",{rows:"4",value:y,onChange:w=>p(w.target.value)})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>C(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:F,disabled:N===x.id||!y.trim(),children:N===x.id?"Saving...":"Save Reply"})]})]})})]})}function M0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(""),[b,v]=u.useState(!1),[x,g]=u.useState(null),[y,p]=u.useState({question:"",answer:"",status:"active",order:0}),[j,C]=u.useState(null),N=async()=>{const L=localStorage.getItem("token");if(!L){f("Please login to view FAQs."),d(!1);return}try{d(!0);const E=await Jj(L);r(E.faqs||[]),f("")}catch(E){console.error("Failed to load FAQs:",E),f(E.message||"Failed to load FAQs")}finally{d(!1)}};u.useEffect(()=>{N()},[]);const M=()=>{g(null),p({question:"",answer:"",status:"active",order:0}),v(!0)},_=L=>{g(L),p({question:L.question,answer:L.answer,status:L.status||"active",order:L.order||0}),v(!0)},k=async()=>{const L=localStorage.getItem("token");if(!L){f("Please login to save FAQs.");return}try{C(x?.id||"new");const E={question:y.question.trim(),answer:y.answer.trim(),status:y.status,order:Number(y.order)||0};x?await ev(x.id||x._id,E,L):await Kj(E,L),v(!1),N()}catch(E){f(E.message||"Failed to save FAQ")}finally{C(null)}},F=async L=>{const E=localStorage.getItem("token");if(!E){f("Please login to delete FAQs.");return}try{C(L),await tv(L,E),r(w=>w.filter(A=>(A.id||A._id)!==L))}catch(w){f(w.message||"Failed to delete FAQ")}finally{C(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"FAQ Management"}),e.jsx("button",{className:"btn-primary",onClick:M,children:"Add New FAQ"})]}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading FAQs..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsx("div",{className:"faq-container",children:l.map(L=>e.jsxs("div",{className:"faq-item",children:[e.jsxs("div",{className:"faq-question",children:[e.jsxs("h4",{children:["Q: ",L.question]}),e.jsx("button",{className:"btn-small",onClick:()=>_(L),children:"Edit"}),e.jsx("button",{className:"btn-small btn-danger",onClick:()=>F(L.id||L._id),disabled:j===(L.id||L._id),children:j===(L.id||L._id)?"Working...":"Delete"})]}),e.jsx("div",{className:"faq-answer",children:e.jsxs("p",{children:["A: ",L.answer]})})]},L.id||L._id))})]}),b&&e.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:e.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[e.jsx("h3",{children:x?"Edit FAQ":"Add FAQ"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Question"}),e.jsx("input",{type:"text",value:y.question,onChange:L=>p(E=>({...E,question:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Answer"}),e.jsx("textarea",{rows:"4",value:y.answer,onChange:L=>p(E=>({...E,answer:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:y.status,onChange:L=>p(E=>({...E,status:L.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Order"}),e.jsx("input",{type:"number",value:y.order,onChange:L=>p(E=>({...E,order:L.target.value}))})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>v(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:k,disabled:j||!y.question.trim()||!y.answer.trim(),children:j?"Saving...":"Save"})]})]})})]})}function D0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,f]=u.useState(""),[b,v]=u.useState(!1),[x,g]=u.useState(null),[y,p]=u.useState({title:"",content:"",order:0,status:"active"}),[j,C]=u.useState(null),N=async()=>{const L=localStorage.getItem("token");if(!L){f("Please login to view manual."),d(!1);return}try{d(!0);const E=await av(L);r(E.sections||[]),f("")}catch(E){console.error("Failed to load manual:",E),f(E.message||"Failed to load manual")}finally{d(!1)}};u.useEffect(()=>{N()},[]);const M=()=>{g(null),p({title:"",content:"",order:0,status:"active"}),v(!0)},_=L=>{g(L),p({title:L.title,content:L.content,order:L.order||0,status:L.status||"active"}),v(!0)},k=async()=>{const L=localStorage.getItem("token");if(!L){f("Please login to save manual sections.");return}try{C(x?.id||"new");const E={title:y.title.trim(),content:y.content.trim(),order:Number(y.order)||0,status:y.status};x?await nv(x.id||x._id,E,L):await sv(E,L),v(!1),N()}catch(E){f(E.message||"Failed to save section")}finally{C(null)}},F=async L=>{const E=localStorage.getItem("token");if(!E){f("Please login to delete sections.");return}try{C(L),await lv(L,E),r(w=>w.filter(A=>(A.id||A._id)!==L))}catch(w){f(w.message||"Failed to delete section")}finally{C(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"User Manual"}),e.jsx("button",{className:"btn-primary",onClick:M,children:"Add Section"})]}),e.jsx("div",{className:"view-content",children:e.jsxs("div",{className:"manual-container",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading manual..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&l.map(L=>e.jsxs("section",{className:"manual-section",children:[e.jsx("h3",{children:L.title}),e.jsx("p",{children:L.content}),e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{className:"btn-small",onClick:()=>_(L),children:"Edit"}),e.jsx("button",{className:"btn-small btn-danger",onClick:()=>F(L.id||L._id),disabled:j===(L.id||L._id),children:j===(L.id||L._id)?"Working...":"Delete"})]})]},L.id||L._id))]})}),b&&e.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:e.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[e.jsx("h3",{children:x?"Edit Section":"Add Section"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Title"}),e.jsx("input",{type:"text",value:y.title,onChange:L=>p(E=>({...E,title:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Content"}),e.jsx("textarea",{rows:"6",value:y.content,onChange:L=>p(E=>({...E,content:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Order"}),e.jsx("input",{type:"number",value:y.order,onChange:L=>p(E=>({...E,order:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:y.status,onChange:L=>p(E=>({...E,status:L.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>v(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:k,disabled:j||!y.title.trim()||!y.content.trim(),children:j?"Saving...":"Save"})]})]})})]})}const B0=()=>{const[l,r]=u.useState(null),[o,d]=u.useState(null),[h,f]=u.useState(!0),[b,v]=u.useState(null),x=async()=>{try{const N=localStorage.getItem("token");if(!N)throw new Error("Please login to view system monitor");const[M,_]=await Promise.all([Zy(N),Jy(N)]);r(M),d(_),v(new Date),f(!1)}catch(N){console.error("Monitor Error:",N),f(!1)}};if(u.useEffect(()=>{x();const N=setInterval(()=>{document.hidden||x()},6e4);return()=>clearInterval(N)},[]),h&&!l)return e.jsx("div",{className:"admin-content-card",children:"Loading System Monitor..."});const g=l?.counts||{users:0,bets:0,matches:0},y=l?.liveMatches||[],p=o?.items||[],j=o?.summary||{links:0,collections:0,rows:0},C=async()=>{try{const N=localStorage.getItem("token");if(!N)throw new Error("Please login first");const M=await Tp(N);alert(`Odds Refreshed! Created: ${M.results?.created||0}, Updated: ${M.results?.updated||0}`),x()}catch(N){console.error("Refresh error:",N),alert(N.message||"Error refreshing odds")}};return e.jsxs("div",{className:"admin-view-container",children:[e.jsxs("div",{className:"admin-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h2",{style:{color:"#fff",margin:0},children:"System Monitor"}),e.jsxs("div",{style:{color:"#aaa",fontSize:"0.9rem"},children:["Last updated: ",b?b.toLocaleTimeString():"Never"]}),e.jsx("button",{onClick:C,style:{background:"#e67e22",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:" Refresh Live Odds"})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon users",children:e.jsx("i",{className:"fa-solid fa-users"})}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h3",{children:"Total Users"}),e.jsx("p",{children:g.users})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon bets",children:e.jsx("i",{className:"fa-solid fa-ticket"})}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h3",{children:"Total Bets"}),e.jsx("p",{children:g.bets})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon matches",children:e.jsx("i",{className:"fa-solid fa-futbol"})}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h3",{children:"Active Matches"}),e.jsx("p",{children:g.matches})]})]})]}),e.jsxs("div",{className:"admin-content-card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{children:[e.jsx("i",{className:"fa-solid fa-satellite-dish"})," Live & Scored Matches (DB View)"]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"admin-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Sport"}),e.jsx("th",{children:"Match"}),e.jsx("th",{children:"Scores"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last Updated"})]})}),e.jsx("tbody",{children:y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center",children:"No live or scored matches found."})}):y.map(N=>e.jsxs("tr",{children:[e.jsx("td",{children:N.sport?.replace("_"," ").toUpperCase()}),e.jsxs("td",{children:[N.homeTeam," ",e.jsx("span",{className:"vs",children:"vs"})," ",N.awayTeam]}),e.jsxs("td",{className:"score-cell",children:[e.jsx("span",{className:"score-badge home",children:N.score?.score_home??N.score?.scoreHome??0}),"-",e.jsx("span",{className:"score-badge away",children:N.score?.score_away??N.score?.scoreAway??0})]}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${N.status}`,children:N.status})}),e.jsx("td",{children:new Date(N.lastUpdated).toLocaleTimeString()})]},N.id||N._id))})]})})]}),e.jsxs("div",{className:"admin-content-card",style:{marginTop:"20px"},children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{children:[e.jsx("i",{className:"fa-solid fa-diagram-project"})," Dashboard Link to Entity/Table Map"]})}),e.jsxs("div",{style:{color:"#666",marginBottom:"10px",fontSize:"0.9rem"},children:["Links: ",j.links," | Collections: ",j.collections," | Total Rows: ",j.rows]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"admin-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Dashboard Link"}),e.jsx("th",{children:"Collections"}),e.jsx("th",{children:"Tables / Views"}),e.jsx("th",{children:"API Routes"})]})}),e.jsx("tbody",{children:p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"text-center",children:"No entity catalog data found."})}):p.map(N=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("strong",{children:N.label}),e.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:N.id})]}),e.jsx("td",{children:(N.collections||[]).map(M=>e.jsxs("div",{style:{marginBottom:"4px"},children:[e.jsx("code",{children:M.collection})," (",M.rows,")"]},`${N.id}-${M.collection}`))}),e.jsx("td",{children:(N.collections||[]).map(M=>e.jsxs("div",{style:{marginBottom:"4px",fontSize:"0.85rem"},children:[e.jsxs("div",{children:[e.jsx("code",{children:M.table})," ",M.exists?"":"(missing)"]}),e.jsxs("div",{children:[e.jsx("code",{children:M.entityView})," | ",e.jsx("code",{children:M.flatTable})]})]},`${N.id}-${M.collection}-table`))}),e.jsx("td",{children:(N.routes||[]).map(M=>e.jsx("div",{style:{marginBottom:"2px",fontSize:"0.85rem"},children:e.jsx("code",{children:M})},`${N.id}-${M}`))})]},N.id))})]})})]}),e.jsx("style",{children:`
                .view-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 2rem;
                }
                .last-updated {
                    font-size: 0.9rem;
                    color: #888;
                    font-family: monospace;
                }
                .stats-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                    gap: 1.5rem;
                    margin-bottom: 2rem;
                }
                .stat-card {
                    background: #1e1e1e;
                    border-radius: 12px;
                    padding: 1.5rem;
                    display: flex;
                    align-items: center;
                    gap: 1.5rem;
                    border: 1px solid #333;
                }
                .stat-icon {
                    width: 50px;
                    height: 50px;
                    border-radius: 10px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.5rem;
                }
                .stat-icon.users { background: rgba(52, 152, 219, 0.2); color: #3498db; }
                .stat-icon.bets { background: rgba(46, 204, 113, 0.2); color: #2ecc71; }
                .stat-icon.matches { background: rgba(231, 76, 60, 0.2); color: #e74c3c; }
                .stat-info h3 { margin: 0; font-size: 0.9rem; color: #888; }
                .stat-info p { margin: 0; font-size: 1.8rem; font-weight: bold; color: #fff; }
                
                .admin-table th {
                    background-color: #333;
                    color: white;
                    padding: 12px;
                    text-align: left;
                }
                .admin-table td {
                    padding: 12px;
                    border-bottom: 1px solid #eee;
                    color: #333; /* Dark text for readability */
                    background-color: #fff; /* Ensure white background */
                }
                .admin-table tr:hover td {
                    background-color: #f5f5f5;
                }
                .score-cell { font-weight: bold; color: #000; }
                .score-badge { 
                    display: inline-block; 
                    padding: 2px 6px; 
                    background: #eee; 
                    color: #333;
                    border: 1px solid #ccc;
                    border-radius: 4px; 
                    margin: 0 4px;
                }
                .vs { color: #555; font-size: 0.8rem; }
            `})]})},ii=l=>{const r=Number(l);return Number.isNaN(r)?"":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(r)};function _0(){const[l,r]=u.useState(null),[o,d]=u.useState(!0),[h,f]=u.useState(""),[b,v]=u.useState(!1),x=async g=>{const y=g.target.value;v(!0);try{const p=localStorage.getItem("token");await Hy({dashboardLayout:y},p),r(j=>({...j,dashboardLayout:y})),alert("Layout updated. The page will reload to apply changes."),window.location.reload()}catch(p){alert("Failed to update layout: "+p.message)}finally{v(!1)}};return u.useEffect(()=>{(async()=>{const y=localStorage.getItem("token");if(!y){f("Please login to view profile."),d(!1);return}try{d(!0);const p=await Ga(y);r(p),f("")}catch(p){f(p.message||"Failed to load profile")}finally{d(!1)}})()},[]),e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"My Profile"})}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading profile..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&l&&e.jsx("div",{className:"settings-container",children:e.jsxs("div",{className:"settings-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Account"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Username:"}),e.jsx("input",{type:"text",value:l.username||"",readOnly:!0})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Preferences"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Dashboard Layout:"}),e.jsxs("select",{value:l.dashboardLayout||"tiles",onChange:x,disabled:b,style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc"},children:[e.jsx("option",{value:"tiles",children:"Tiles (Default)"}),e.jsx("option",{value:"sidebar",children:"Sidebar Navigation"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number:"}),e.jsx("input",{type:"text",value:l.phoneNumber||"",readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role:"}),e.jsx("input",{type:"text",value:l.role||"",readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Super Admin:"}),e.jsx("input",{type:"text",value:l.isSuperAdmin?"Yes":"No",readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Unlimited Balance:"}),e.jsx("input",{type:"text",value:l.unlimitedBalance?"Enabled":"Disabled",readOnly:!0})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Balances"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Balance:"}),e.jsx("input",{type:"text",value:ii(l.balance),readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pending Balance:"}),e.jsx("input",{type:"text",value:ii(l.pendingBalance),readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Available Balance:"}),e.jsx("input",{type:"text",value:ii(l.availableBalance),readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Outstanding (Settle Limit):"}),e.jsx("input",{type:"text",value:ii(l.balanceOwed),readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Credit Limit:"}),e.jsx("input",{type:"text",value:ii(l.creditLimit),readOnly:!0})]})]})]})})]})]})}const Jf={password:"",firstName:"",lastName:"",phoneNumber:"",minBet:0,agentId:"",status:"active",creditLimit:0,wagerLimit:0,settleLimit:0,accountType:"credit",zeroBalanceWeekly:"standard",tempCredit:0,expiresOn:"",enableCaptcha:!1,cryptoPromoPct:0,promoType:"promo_credit",playerNotes:"",sportsbook:!0,casino:!0,horses:!0,messaging:!1,dynamicLive:!0,propPlus:!0,liveCasino:!1,freePlayPercent:20,maxFpCredit:0,dlMinStraightBet:25,dlMaxStraightBet:250,dlMaxPerOffering:500,dlMaxBetPerEvent:500,dlMaxWinSingleBet:1e3,dlMaxWinEvent:3e3,dlDelaySec:7,dlMaxFavoriteLine:-1e4,dlMaxDogLine:1e4,dlMinParlayBet:10,dlMaxParlayBet:100,dlMaxWinEventParlay:3e3,dlMaxDogLineParlays:1e3,dlWagerCoolOffSec:30,dlLiveParlays:!1,dlBlockPriorStart:!0,dlBlockHalftime:!0,dlIncludeGradedInLimits:!1,dlUseRiskLimits:!1,casinoDefaultMaxWinDay:1e4,casinoDefaultMaxLossDay:1e4,casinoDefaultMaxWinWeek:1e4,casinoDefaultMaxLossWeek:1e4,casinoAgentMaxWinDay:1e3,casinoAgentMaxLossDay:1e3,casinoAgentMaxWinWeek:5e3,casinoAgentMaxLossWeek:5e3,casinoPlayerMaxWinDay:1e3,casinoPlayerMaxLossDay:1e3,casinoPlayerMaxWinWeek:5e3,casinoPlayerMaxLossWeek:5e3};function R0({userId:l,onBack:r,role:o="admin"}){const[d,h]=u.useState(!0),[f,b]=u.useState(!1),[v,x]=u.useState(""),[g,y]=u.useState(""),[p,j]=u.useState(null),[C,N]=u.useState({}),[M,_]=u.useState([]),[k,F]=u.useState(Jf),[L,E]=u.useState(!1),[w,A]=u.useState("basics"),[q,G]=u.useState([]),[B,ee]=u.useState(!1),[I,S]=u.useState(""),[$,D]=u.useState(""),[J,H]=u.useState("7d"),[W,ie]=u.useState("all"),[je,te]=u.useState("all"),[O,Z]=u.useState([]),[oe,K]=u.useState(!1),[V,U]=u.useState("credit"),[P,ce]=u.useState(""),[me,Ne]=u.useState(""),[we,Ce]=u.useState("daily"),[Me,Re]=u.useState(!1),[st,Ke]=u.useState(""),[mt,vt]=u.useState([]),[Be,ft]=u.useState(""),[Gt,Ut]=u.useState([]),[ta,At]=u.useState([]),[hl,Ya]=u.useState(!1),[Va,pt]=u.useState(""),[ws,Ra]=u.useState(""),[Ss,ml]=u.useState("7d"),[Dt,Tt]=u.useState([]),[ma,Nt]=u.useState(!1),[an,ks]=u.useState(""),[Cs,Qa]=u.useState(""),[Oa,Xa]=u.useState(!1),[Lt,xt]=u.useState(""),[Ca,sn]=u.useState(""),[Aa,fa]=u.useState(!1),[It,Ft]=u.useState(""),[Ua,Ea]=u.useState(""),[As,aa]=u.useState(""),pa=[{id:"basics",label:"The Basics",icon:""},{id:"transactions",label:"Transactions",icon:""},{id:"pending",label:"Pending",icon:""},{id:"performance",label:"Performance",icon:""},{id:"analysis",label:"Analysis",icon:""},{id:"freeplays",label:"Free Plays",icon:""},{id:"dynamic-live",label:"Dynamic Live",icon:""},{id:"live-casino",label:"Live Casino",icon:""},{id:"crash",label:"Crash",icon:""},{id:"player-info",label:"Player Info",icon:""},{id:"offerings",label:"Offerings",icon:""},{id:"limits",label:"Limits",icon:""},{id:"vig-setup",label:"Vig Setup",icon:""},{id:"parlays",label:"Parlays",icon:""},{id:"teasers",label:"Teasers",icon:"8"},{id:"buying-pts",label:"Buying Pts",icon:""},{id:"risk-mngmt",label:"Risk Mngmt",icon:""},{id:"communication",label:"Communication",icon:""}];u.useEffect(()=>{l&&(async()=>{try{h(!0),x(""),y(""),D(""),S(""),j(null),F(Jf),A("basics");const ye=localStorage.getItem("token");if(!ye){x("Please login to view details.");return}const[Ee,Ve]=await Promise.all([Oj(l,ye),["admin","super_agent","master_agent"].includes(o)?fi(ye):Promise.resolve([])]),He=Ee?.user,ze=He?.settings||{},Qe=ze.dynamicLiveLimits||{},it=ze.dynamicLiveFlags||{},Ht=ze.liveCasinoLimits||{},Vt=Ht.default||{},na=Ht.agent||{},es=Ht.player||{};if(!He){x("User not found.");return}j(He),N(Ee?.stats||{}),_(Array.isArray(Ve)?Ve:[]),F({password:"",firstName:He.firstName||"",lastName:He.lastName||"",phoneNumber:He.phoneNumber||"",minBet:Number(He.minBet||0),agentId:He.agentId?._id||He.agentId||"",status:(He.status||"active").toLowerCase(),creditLimit:Number(He.creditLimit||0),wagerLimit:Number(He.wagerLimit??He.maxBet??0),settleLimit:Number(He.balanceOwed||0),accountType:ze.accountType||"credit",zeroBalanceWeekly:ze.zeroBalanceWeekly||"standard",tempCredit:Number(ze.tempCredit||0),expiresOn:ze.expiresOn||"",enableCaptcha:!!ze.enableCaptcha,cryptoPromoPct:Number(ze.cryptoPromoPct||0),promoType:ze.promoType||"promo_credit",playerNotes:ze.playerNotes||"",sportsbook:ze.sports??!0,casino:ze.casino??!0,horses:ze.racebook??!0,messaging:ze.messaging??!1,dynamicLive:ze.live??!0,propPlus:ze.props??!0,liveCasino:ze.liveCasino??!1,freePlayPercent:Number(ze.freePlayPercent??20),maxFpCredit:Number(ze.maxFpCredit??0),dlMinStraightBet:Number(Qe.minStraightBet??25),dlMaxStraightBet:Number(Qe.maxStraightBet??250),dlMaxPerOffering:Number(Qe.maxPerOffering??500),dlMaxBetPerEvent:Number(Qe.maxBetPerEvent??500),dlMaxWinSingleBet:Number(Qe.maxWinSingleBet??1e3),dlMaxWinEvent:Number(Qe.maxWinEvent??3e3),dlDelaySec:Number(Qe.delaySec??7),dlMaxFavoriteLine:Number(Qe.maxFavoriteLine??-1e4),dlMaxDogLine:Number(Qe.maxDogLine??1e4),dlMinParlayBet:Number(Qe.minParlayBet??10),dlMaxParlayBet:Number(Qe.maxParlayBet??100),dlMaxWinEventParlay:Number(Qe.maxWinEventParlay??3e3),dlMaxDogLineParlays:Number(Qe.maxDogLineParlays??1e3),dlWagerCoolOffSec:Number(Qe.wagerCoolOffSec??30),dlLiveParlays:!!it.liveParlays,dlBlockPriorStart:it.blockPriorStart??!0,dlBlockHalftime:it.blockHalftime??!0,dlIncludeGradedInLimits:!!it.includeGradedInLimits,dlUseRiskLimits:!!it.useRiskLimits,casinoDefaultMaxWinDay:Number(Vt.maxWinDay??1e4),casinoDefaultMaxLossDay:Number(Vt.maxLossDay??1e4),casinoDefaultMaxWinWeek:Number(Vt.maxWinWeek??1e4),casinoDefaultMaxLossWeek:Number(Vt.maxLossWeek??1e4),casinoAgentMaxWinDay:Number(na.maxWinDay??1e3),casinoAgentMaxLossDay:Number(na.maxLossDay??1e3),casinoAgentMaxWinWeek:Number(na.maxWinWeek??5e3),casinoAgentMaxLossWeek:Number(na.maxLossWeek??5e3),casinoPlayerMaxWinDay:Number(es.maxWinDay??1e3),casinoPlayerMaxLossDay:Number(es.maxLossDay??1e3),casinoPlayerMaxWinWeek:Number(es.maxWinWeek??5e3),casinoPlayerMaxLossWeek:Number(es.maxLossWeek??5e3)})}catch(ye){console.error("Failed to load player details:",ye),x(ye.message||"Failed to load details")}finally{h(!1)}})()},[o,l]),u.useEffect(()=>{(async()=>{if(!(w!=="transactions"||!p))try{ee(!0),S("");const ye=localStorage.getItem("token");if(!ye){S("Please login to view transactions.");return}const Ee=await ll({user:p.username||"",type:W,status:je,time:J,limit:300},ye),He=(Array.isArray(Ee?.transactions)?Ee.transactions:[]).filter(ze=>String(ze.userId||"")===String(l));G(He)}catch(ye){S(ye.message||"Failed to load transactions")}finally{ee(!1)}})()},[w,p,W,je,J,l]),u.useEffect(()=>{(async()=>{if(!(w!=="performance"||!p?.username))try{Re(!0),Ke("");const ye=localStorage.getItem("token");if(!ye){Ke("Please login to view performance.");return}const Ee=await Bd({customer:p.username,time:"30d",type:"all-types",limit:500},ye),Ve=Array.isArray(Ee?.bets)?Ee.bets:[],He=new Map;for(const it of Ve){const Ht=it?.createdAt,Vt=new Date(Ht);if(Number.isNaN(Vt.getTime()))continue;const na=Vt.getFullYear(),es=String(Vt.getMonth()+1).padStart(2,"0"),gi=String(Vt.getDate()).padStart(2,"0"),Ia=`${na}-${es}-${gi}`,bi=Number(it?.amount||0),yi=Number(it?.potentialPayout||0),fl=String(it?.status||"").toLowerCase(),Cn=fl==="won"?Math.max(0,yi-bi):fl==="lost"?-bi:0;He.has(Ia)||He.set(Ia,{date:Vt,net:0,wagers:[]});const ji=He.get(Ia);ji.net+=Cn,ji.wagers.push({id:it.id,label:`${it?.match?.awayTeam||""} vs ${it?.match?.homeTeam||""}`.trim()||it.selection||"Wager",amount:Cn})}const ze=Array.from(He.entries()).map(([it,Ht])=>({key:it,date:Ht.date,periodLabel:Ht.date.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",weekday:"long"}),net:Ht.net,wagers:Ht.wagers})).sort((it,Ht)=>Ht.key.localeCompare(it.key));vt(ze);const Qe=ze[0]?.key||"";ft(Qe),Ut(ze[0]?.wagers||[])}catch(ye){Ke(ye.message||"Failed to load performance"),vt([]),ft(""),Ut([])}finally{Re(!1)}})()},[w,p?.username]),u.useEffect(()=>{(async()=>{if(!(w!=="freeplays"||!p?.username))try{Ya(!0),pt("");const ye=localStorage.getItem("token");if(!ye){pt("Please login to view free play.");return}const Ee=await ll({user:p.username,type:"adjustment",status:"all",time:Ss,limit:300},ye),He=(Array.isArray(Ee?.transactions)?Ee.transactions:[]).filter(ze=>{if(String(ze.userId||"")!==String(l))return!1;const Qe=String(ze.reason||"").toUpperCase(),it=String(ze.description||"").toLowerCase();return Qe==="FREEPLAY_ADJUSTMENT"||it.includes("freeplay")||it.includes("free play")});At(He)}catch(ye){pt(ye.message||"Failed to load free play")}finally{Ya(!1)}})()},[w,p?.username,Ss,l]);const Le=(z,ye)=>{F(Ee=>({...Ee,[z]:ye}))},Za=u.useMemo(()=>{const z=`${k.firstName||""} ${k.lastName||""}`.trim();return z||(p?.fullName?p.fullName:"")},[k.firstName,k.lastName,p?.fullName]);u.useMemo(()=>Za||p?.username||"Player",[Za,p?.username]);const Pt=u.useMemo(()=>p?p.displayPassword||"Not set":"",[p]),ut=u.useMemo(()=>Number(k.creditLimit||0)-Number(p?.pendingBalance||0),[k.creditLimit,p?.pendingBalance]),ht=u.useMemo(()=>{let z=0;for(const ye of q)ye?.status==="pending"&&String(ye?.type||"").toLowerCase().includes("casino")&&(z+=Number(ye.amount||0));return{pending:Number(p?.pendingBalance||0),available:Number(ut||0),carry:Number(p?.balance||0),nonPostedCasino:z}},[q,p?.pendingBalance,p?.balance,ut]),lt=z=>Number(z||0).toLocaleString("en-US",{style:"currency",currency:"USD"}),Ta=async()=>{try{const z=localStorage.getItem("token"),ye=await Op(l,z);localStorage.setItem("token",ye.token),localStorage.setItem("user",JSON.stringify(ye)),window.location.href="/dashboard"}catch(z){x("Impersonation failed: "+z.message)}},nn=async(z,ye="Copied")=>{try{const Ee=String(z??"");if(!Ee)return;await navigator.clipboard.writeText(Ee),aa(`${ye} copied`),window.setTimeout(()=>aa(""),1400)}catch{aa("Copy failed"),window.setTimeout(()=>aa(""),1400)}},Sn=async()=>{const z=[`Login: ${p?.username||""}`,`Password: ${Pt||""}`,`Min bet: ${Number(p?.minBet??0)}`,`Max bet: ${Number(p?.maxBet??p?.wagerLimit??k.wagerLimit??0)}`,`Credit: ${Number(k.creditLimit||p?.creditLimit||0)}`,`Settle: ${Number(k.settleLimit||p?.balanceOwed||0)}`].join(`
`);await nn(z,"All details")},sa=async()=>{try{b(!0),x(""),y("");const z=localStorage.getItem("token");if(!z){x("Please login again.");return}const ye={firstName:k.firstName.trim(),lastName:k.lastName.trim(),phoneNumber:k.phoneNumber.trim(),fullName:Za,status:k.status,minBet:Number(k.minBet||0),creditLimit:Number(k.creditLimit||0),maxBet:Number(k.wagerLimit||0),wagerLimit:Number(k.wagerLimit||0),balanceOwed:Number(k.settleLimit||0),settings:{accountType:k.accountType,zeroBalanceWeekly:k.zeroBalanceWeekly,tempCredit:Number(k.tempCredit||0),expiresOn:k.expiresOn||"",enableCaptcha:!!k.enableCaptcha,cryptoPromoPct:Number(k.cryptoPromoPct||0),promoType:k.promoType,playerNotes:k.playerNotes,sports:!!k.sportsbook,casino:!!k.casino,racebook:!!k.horses,messaging:!!k.messaging,live:!!k.dynamicLive,props:!!k.propPlus,liveCasino:!!k.liveCasino}};["admin","super_agent","master_agent"].includes(o)&&k.agentId&&(ye.agentId=k.agentId),o==="agent"?await ka(l,ye,z):await ys(l,ye,z),(k.password||"").trim()!==""&&(o==="admin"?await Pr(l,k.password.trim(),z):await ka(l,{password:k.password.trim()},z)),j(Ee=>({...Ee,...ye,settings:{...Ee?.settings||{},...ye.settings}})),F(Ee=>({...Ee,password:""})),y("Changes saved successfully.")}catch(z){console.error("Failed to save player details:",z),x(z.message||"Failed to save details")}finally{b(!1)}},Ja=async()=>{try{const z=localStorage.getItem("token");if(!z||!p)return;await il(l,{balance:Number(p.balance||0)},z),y("Balance updated."),x("")}catch(z){x(z.message||"Failed to update balance")}},Ka=z=>{if(!z)return"";const ye=z?.$date||z,Ee=new Date(ye);return Number.isNaN(Ee.getTime())?"":Ee.toLocaleString()},za=z=>{const ye=String(z?.type||"").toLowerCase();return["withdrawal","bet_placed","bet_lost","fee","debit"].includes(ye)},R=z=>{z==="transactions"?(A("transactions"),H("7d"),ie("adjustment"),te("all")):z==="pending"?(A("transactions"),H("7d"),ie("adjustment"),te("pending")):A(z==="performance"?"performance":z==="freeplays"?"freeplays":z==="dynamic-live"?"dynamic-live":z==="live-casino"?"live-casino":"basics"),E(!1),y(""),D(""),x(""),S(""),Ke(""),pt(""),Ra(""),xt(""),sn(""),Ft(""),Ea("")},ae=u.useMemo(()=>mt.find(z=>z.key===Be)||null,[mt,Be]);u.useEffect(()=>{if(!ae){Ut([]);return}Ut(ae.wagers||[])},[ae]);const Q=u.useMemo(()=>Gt.reduce((z,ye)=>z+Number(ye.amount||0),0),[Gt]),de=u.useMemo(()=>ta.filter(z=>String(z.status||"").toLowerCase()==="pending").reduce((z,ye)=>z+Number(ye.amount||0),0),[ta]),be=Number(p?.freeplayBalance||0),ve=async()=>{if(p?.username)try{Ya(!0);const z=localStorage.getItem("token");if(!z)return;const ye=await ll({user:p.username,type:"adjustment",status:"all",time:Ss,limit:300},z),Ee=Array.isArray(ye?.transactions)?ye.transactions:[];At(Ee.filter(Ve=>{if(String(Ve.userId||"")!==String(l))return!1;const He=String(Ve.reason||"").toUpperCase(),ze=String(Ve.description||"").toLowerCase();return He==="FREEPLAY_ADJUSTMENT"||ze.includes("freeplay")||ze.includes("free play")}))}catch(z){pt(z.message||"Failed to refresh free play")}finally{Ya(!1)}},Ae=async()=>{try{const z=Number(an||0);if(z<=0||Number.isNaN(z)){pt("Enter a valid free play amount greater than 0.");return}const ye=localStorage.getItem("token");if(!ye||!p){pt("Please login again.");return}const Ee=Number(p.freeplayBalance||0)+z;await Dp(l,Ee,ye,Cs.trim()),j(Ve=>({...Ve,freeplayBalance:Ee})),Cs.trim()?Ra(`Free play added. Note: "${Cs.trim()}"`):Ra("Free play added successfully."),pt(""),Nt(!1),ks(""),Qa(""),await ve()}catch(z){pt(z.message||"Failed to add free play")}},Ge=z=>{Tt(ye=>ye.includes(z)?ye.filter(Ee=>Ee!==z):[...ye,z])},$t=async()=>{try{if(Dt.length===0)return;const z=localStorage.getItem("token");if(!z){pt("Please login again.");return}const ye=await Mf(Dt,z),Ee=Number(ye?.deleted||0),Ve=Number(ye?.skipped||0);Tt([]),Ra(`Deleted ${Ee} free play transaction(s).${Ve>0?` Skipped ${Ve}.`:""}`),pt(""),await ve()}catch(z){pt(z.message||"Failed to delete free play transactions")}},Wt=async()=>{try{const z=localStorage.getItem("token");if(!z){pt("Please login again.");return}const ye={settings:{freePlayPercent:Number(k.freePlayPercent||0),maxFpCredit:Number(k.maxFpCredit||0)}};o==="agent"?await ka(l,ye,z):await ys(l,ye,z),Ra("Free play settings saved."),pt("")}catch(z){pt(z.message||"Failed to save free play settings")}},xi=async()=>{try{Xa(!0);const z=localStorage.getItem("token");if(!z){xt("Please login again.");return}const ye={settings:{dynamicLiveLimits:{minStraightBet:Number(k.dlMinStraightBet||0),maxStraightBet:Number(k.dlMaxStraightBet||0),maxPerOffering:Number(k.dlMaxPerOffering||0),maxBetPerEvent:Number(k.dlMaxBetPerEvent||0),maxWinSingleBet:Number(k.dlMaxWinSingleBet||0),maxWinEvent:Number(k.dlMaxWinEvent||0),delaySec:Number(k.dlDelaySec||0),maxFavoriteLine:Number(k.dlMaxFavoriteLine||0),maxDogLine:Number(k.dlMaxDogLine||0),minParlayBet:Number(k.dlMinParlayBet||0),maxParlayBet:Number(k.dlMaxParlayBet||0),maxWinEventParlay:Number(k.dlMaxWinEventParlay||0),maxDogLineParlays:Number(k.dlMaxDogLineParlays||0),wagerCoolOffSec:Number(k.dlWagerCoolOffSec||0)},dynamicLiveFlags:{liveParlays:!!k.dlLiveParlays,blockPriorStart:!!k.dlBlockPriorStart,blockHalftime:!!k.dlBlockHalftime,includeGradedInLimits:!!k.dlIncludeGradedInLimits,useRiskLimits:!!k.dlUseRiskLimits}}};o==="agent"?await ka(l,ye,z):await ys(l,ye,z),sn("Dynamic Live settings saved."),xt("")}catch(z){xt(z.message||"Failed to save Dynamic Live settings")}finally{Xa(!1)}},Yr=async()=>{try{fa(!0);const z=localStorage.getItem("token");if(!z){Ft("Please login again.");return}const ye={settings:{liveCasinoLimits:{default:{maxWinDay:Number(k.casinoDefaultMaxWinDay||0),maxLossDay:Number(k.casinoDefaultMaxLossDay||0),maxWinWeek:Number(k.casinoDefaultMaxWinWeek||0),maxLossWeek:Number(k.casinoDefaultMaxLossWeek||0)},agent:{maxWinDay:Number(k.casinoAgentMaxWinDay||0),maxLossDay:Number(k.casinoAgentMaxLossDay||0),maxWinWeek:Number(k.casinoAgentMaxWinWeek||0),maxLossWeek:Number(k.casinoAgentMaxLossWeek||0)},player:{maxWinDay:Number(k.casinoPlayerMaxWinDay||0),maxLossDay:Number(k.casinoPlayerMaxLossDay||0),maxWinWeek:Number(k.casinoPlayerMaxWinWeek||0),maxLossWeek:Number(k.casinoPlayerMaxLossWeek||0)}}}};o==="agent"?await ka(l,ye,z):await ys(l,ye,z),Ea("Live Casino limits saved."),Ft("")}catch(z){Ft(z.message||"Failed to save Live Casino limits")}finally{fa(!1)}},ln=async()=>{if(p){ee(!0);try{const z=localStorage.getItem("token");if(!z)return;const ye=await ll({user:p.username||"",type:W,status:je,time:J,limit:300},z),Ee=Array.isArray(ye?.transactions)?ye.transactions:[];G(Ee.filter(Ve=>String(Ve.userId||"")===String(l)))}catch(z){S(z.message||"Failed to refresh transactions")}finally{ee(!1)}}},kn=async()=>{try{const z=Number(P||0);if(z<=0||Number.isNaN(z)){S("Enter a valid amount greater than 0.");return}const ye=localStorage.getItem("token");if(!ye||!p){S("Please login again.");return}const Ee=Number(p.balance||0),Ve=V==="credit"?Ee+z:Math.max(0,Ee-z);await il(l,{balance:Ve},ye),j(He=>({...He,balance:Ve})),D("Transaction saved and balance updated."),S(""),K(!1),ce(""),Ne(""),await ln()}catch(z){S(z.message||"Failed to save transaction")}},La=z=>{Z(ye=>ye.includes(z)?ye.filter(Ee=>Ee!==z):[...ye,z])},Yt=async()=>{try{if(O.length===0)return;const z=localStorage.getItem("token");if(!z){S("Please login again.");return}const ye=await Mf(O,z);Z([]),await ln();const Ee=Number(ye?.deleted||0),Ve=Number(ye?.skipped||0);D(`Deleted ${Ee} transaction(s).${Ve>0?` Skipped ${Ve} (non-adjustment or invalid).`:""}`),S("")}catch(z){S(z.message||"Failed to delete selected transactions")}};return d?e.jsx("div",{className:"admin-view",children:e.jsx("div",{className:"view-content",children:"Loading player details..."})}):p?e.jsxs("div",{className:"customer-details-v2",children:[e.jsxs("div",{className:"top-panel",children:[e.jsxs("div",{className:"top-left",children:[e.jsx("button",{className:"btn btn-back",onClick:r,children:"Customer Admin"}),e.jsxs("div",{className:"player-card",children:[e.jsxs("div",{className:"player-card-head",children:[e.jsxs("div",{className:"player-title-wrap",children:[e.jsx("h2",{children:p.username||"USER"}),e.jsx("span",{className:"player-badge",children:"PLAYER"})]}),e.jsxs("div",{className:"top-actions",children:[e.jsx("button",{className:"btn btn-user",onClick:Ta,children:"Login User"}),e.jsx("button",{className:"btn btn-copy-all",onClick:Sn,children:"Copy Details"})]})]}),e.jsxs("div",{className:"creds-box",children:[e.jsxs("div",{className:"creds-row",children:[e.jsx("span",{children:"Login:"}),e.jsx("div",{className:"creds-pill",children:p.username||""}),e.jsx("button",{className:"copy-mini",onClick:()=>nn(p.username,"Login"),children:""})]}),e.jsxs("div",{className:"creds-row",children:[e.jsx("span",{children:"Password:"}),e.jsx("div",{className:"creds-pill",children:Pt}),e.jsx("button",{className:"copy-mini",onClick:()=>nn(Pt,"Password"),children:""})]})]}),e.jsxs("div",{className:"limits-box",children:[e.jsxs("div",{className:"limit-item",children:[e.jsx("label",{children:"Min bet:"}),e.jsx("strong",{children:Number(p.minBet??0).toLocaleString()})]}),e.jsxs("div",{className:"limit-item",children:[e.jsx("label",{children:"Max bet:"}),e.jsx("strong",{children:Number(p.maxBet??p.wagerLimit??k.wagerLimit??0).toLocaleString()})]}),e.jsxs("div",{className:"limit-item",children:[e.jsx("label",{children:"Credit:"}),e.jsx("strong",{className:"money-green",children:Number(k.creditLimit||p.creditLimit||0).toLocaleString()})]}),e.jsxs("div",{className:"limit-item",children:[e.jsx("label",{children:"Settle:"}),e.jsx("strong",{className:"money-green",children:Number(k.settleLimit||p.balanceOwed||0).toLocaleString()})]})]})]}),As&&e.jsx("div",{className:"copy-notice",children:As}),e.jsxs("div",{className:"agent-line",children:["Agent ",p.agentUsername||p.agentId?.username||""]}),e.jsxs("div",{className:"top-actions mobile-only",children:[e.jsx("button",{className:"btn btn-user",onClick:Ta,children:"Login User"}),e.jsx("button",{className:"btn btn-copy-all",onClick:Sn,children:"Copy Details"})]})]}),e.jsxs("div",{className:"top-right",children:[e.jsxs("button",{type:"button",className:`metric ${w==="transactions"?"metric-active":""}`,onClick:()=>R("transactions"),children:[e.jsx("span",{children:"Balance"}),e.jsx("b",{className:Number(p.balance||0)<0?"neg":"pos",children:lt(p.balance||0)})]}),e.jsxs("button",{type:"button",className:`metric ${w==="transactions"&&je==="pending"?"metric-active":""}`,onClick:()=>R("pending"),children:[e.jsx("span",{children:"Pending"}),e.jsx("b",{className:"neutral",children:lt(p.pendingBalance||0)})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{children:"Available"}),e.jsx("b",{className:"neutral",children:lt(ut)})]}),e.jsxs("button",{type:"button",className:`metric ${w==="freeplays"?"metric-active":""}`,onClick:()=>R("freeplays"),children:[e.jsx("span",{children:"Freeplay"}),e.jsx("b",{className:"neutral",children:lt(p.freeplayBalance||0)})]}),e.jsxs("button",{type:"button",className:`metric ${w==="performance"?"metric-active":""}`,onClick:()=>R("performance"),children:[e.jsx("span",{children:"Lifetime +/-"}),e.jsx("b",{className:Number(C.netProfit||0)<0?"neg":"pos",children:lt(C.netProfit||0)})]})]})]}),e.jsxs("div",{className:"basics-header",children:[e.jsxs("div",{className:"basics-left",children:[e.jsx("button",{type:"button",className:"dot-grid-btn",onClick:()=>E(z=>!z),"aria-label":"Open quick sections menu",children:e.jsxs("div",{className:"dot-grid","aria-hidden":"true",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})}),e.jsx("h3",{children:w==="transactions"?"Transactions":w==="performance"?"Performance":w==="freeplays"?"Free Play":w==="dynamic-live"?"Dynamic Live":w==="live-casino"?"Live Casino":"The Basics"})]}),w==="transactions"?e.jsx("button",{className:"btn btn-back",onClick:()=>K(!0),children:"New transaction"}):w==="freeplays"?e.jsx("button",{className:"btn btn-back",onClick:()=>Nt(!0),children:"New Free Play"}):w==="dynamic-live"?e.jsx("button",{className:"btn btn-save",onClick:xi,disabled:Oa,children:Oa?"Saving...":"Save"}):w==="live-casino"?e.jsx("button",{className:"btn btn-save",onClick:Yr,disabled:Aa,children:Aa?"Saving...":"Save"}):w==="performance"?e.jsx("span",{}):e.jsx("button",{className:"btn btn-save",onClick:sa,disabled:f,children:f?"Saving...":"Save"})]}),L&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"menu-backdrop",onClick:()=>E(!1),"aria-label":"Close quick sections menu"}),e.jsxs("div",{className:"basics-quick-menu",children:[e.jsx("button",{type:"button",className:"menu-close",onClick:()=>E(!1),"aria-label":"Close menu",children:"x"}),e.jsx("div",{className:"menu-grid",children:pa.map(z=>e.jsxs("button",{type:"button",className:"menu-item",onClick:()=>R(z.id),children:[e.jsx("span",{className:"menu-icon",children:z.icon}),e.jsx("span",{className:"menu-label",children:z.label})]},z.id))})]})]}),w==="transactions"?I&&e.jsx("div",{className:"alert error",children:I}):w==="performance"?st&&e.jsx("div",{className:"alert error",children:st}):w==="freeplays"?Va&&e.jsx("div",{className:"alert error",children:Va}):w==="dynamic-live"?Lt&&e.jsx("div",{className:"alert error",children:Lt}):w==="live-casino"?It&&e.jsx("div",{className:"alert error",children:It}):v&&e.jsx("div",{className:"alert error",children:v}),w==="transactions"?$&&e.jsx("div",{className:"alert success",children:$}):w==="freeplays"?ws&&e.jsx("div",{className:"alert success",children:ws}):w==="dynamic-live"?Ca&&e.jsx("div",{className:"alert success",children:Ca}):w==="live-casino"?Ua&&e.jsx("div",{className:"alert success",children:Ua}):g&&e.jsx("div",{className:"alert success",children:g}),w==="transactions"?e.jsxs("div",{className:"transactions-wrap",children:[e.jsxs("div",{className:"tx-controls",children:[e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Display"}),e.jsxs("select",{value:J,onChange:z=>H(z.target.value),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Filter Transactions"}),e.jsxs("select",{value:W,onChange:z=>ie(z.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"adjustment",children:"Non-Wager"}),e.jsx("option",{value:"deposit",children:"Deposits"}),e.jsx("option",{value:"withdrawal",children:"Withdrawals"}),e.jsx("option",{value:"bet_placed",children:"Wagers"})]})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Pending"}),e.jsx("b",{children:lt(ht.pending)})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Available"}),e.jsx("b",{children:lt(ht.available)})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Carry"}),e.jsx("b",{className:ht.carry<0?"neg":"",children:lt(ht.carry)})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Non-Posted Casino"}),e.jsx("b",{children:lt(ht.nonPostedCasino)})]})]}),e.jsx("div",{className:"tx-table-wrap",children:e.jsxs("table",{className:"tx-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Credit"}),e.jsx("th",{children:"Debit"}),e.jsx("th",{children:"Balance"})]})}),e.jsx("tbody",{children:B?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"tx-empty",children:"Loading transactions..."})}):q.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"tx-empty",children:"No transactions found"})}):q.map(z=>{const ye=za(z),Ee=Number(z.amount||0),Ve=ye?0:Ee,He=ye?Ee:0,ze=O.includes(z.id);return e.jsxs("tr",{className:ze?"selected":"",onClick:()=>La(z.id),children:[e.jsx("td",{children:Ka(z.date)}),e.jsx("td",{children:z.description||z.type||"Transaction"}),e.jsx("td",{children:Ve>0?lt(Ve):""}),e.jsx("td",{children:He>0?lt(He):""}),e.jsx("td",{className:Number(p.balance||0)<0?"neg":"",children:lt(p.balance||0)})]},z.id)})})]})}),e.jsx("button",{className:"btn btn-danger",onClick:Yt,disabled:O.length===0,children:"Delete"})]}):w==="performance"?e.jsxs("div",{className:"performance-wrap",children:[e.jsx("div",{className:"perf-controls",children:e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Time"}),e.jsx("select",{value:we,onChange:z=>Ce(z.target.value),children:e.jsx("option",{value:"daily",children:"Daily"})})]})}),e.jsxs("div",{className:"performance-grid",children:[e.jsx("div",{className:"perf-left",children:e.jsxs("table",{className:"perf-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Period"}),e.jsx("th",{children:"Net"})]})}),e.jsx("tbody",{children:Me?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"tx-empty",children:"Loading performance..."})}):mt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"tx-empty",children:"No performance data"})}):mt.map(z=>e.jsxs("tr",{className:Be===z.key?"selected":"",onClick:()=>ft(z.key),children:[e.jsx("td",{children:z.periodLabel}),e.jsx("td",{children:Number(z.net||0).toFixed(2)})]},z.key))})]})}),e.jsxs("div",{className:"perf-right",children:[e.jsxs("div",{className:"perf-title-row",children:[e.jsxs("div",{children:["Wagers: ",e.jsx("b",{children:Gt.length})]}),e.jsxs("div",{children:["Result: ",e.jsx("b",{children:lt(Q)})]})]}),e.jsxs("table",{className:"perf-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:ae?.periodLabel||"Selected Day"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{children:Gt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"tx-empty",children:"No data available in table"})}):Gt.map(z=>e.jsxs("tr",{children:[e.jsx("td",{children:z.label||"Wager"}),e.jsx("td",{children:Number(z.amount||0).toFixed(2)})]},z.id))})]})]})]})]}):w==="freeplays"?e.jsxs("div",{className:"transactions-wrap",children:[e.jsxs("div",{className:"tx-controls freeplay-controls",children:[e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Display"}),e.jsxs("select",{value:Ss,onChange:z=>ml(z.target.value),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Balance"}),e.jsx("b",{children:Number(be).toFixed(2)})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Pending"}),e.jsx("b",{children:Number(de).toFixed(2)})]})]}),e.jsx("div",{className:"tx-table-wrap",children:e.jsxs("table",{className:"tx-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Credit"}),e.jsx("th",{children:"Debit"}),e.jsx("th",{children:"Balance"})]})}),e.jsx("tbody",{children:hl?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"tx-empty",children:"Loading free play..."})}):ta.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"tx-empty",children:"No free play transactions found"})}):ta.map(z=>{const ye=Number(z.amount||0),Ee=ye>0?ye:0,Ve=Dt.includes(z.id);return e.jsxs("tr",{className:Ve?"selected":"",onClick:()=>Ge(z.id),children:[e.jsx("td",{children:p.username}),e.jsx("td",{children:Ka(z.date)}),e.jsx("td",{children:z.description||"Free Play Adjustment"}),e.jsx("td",{children:Ee>0?Number(Ee).toFixed(2):""}),e.jsx("td",{children:""}),e.jsx("td",{children:Number(be).toFixed(2)})]},z.id)})})]})}),e.jsxs("div",{className:"freeplay-bottom-row",children:[e.jsx("button",{className:"btn btn-danger",onClick:$t,disabled:Dt.length===0,children:"Delete"}),e.jsx("button",{className:"btn btn-back freeplay-settings-btn",onClick:Wt,children:"Detailed Free Play Settings"}),e.jsxs("div",{className:"freeplay-inputs",children:[e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Free Play %"}),e.jsx("input",{type:"number",value:k.freePlayPercent,onChange:z=>Le("freePlayPercent",z.target.value)})]}),e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Max FP Credit"}),e.jsx("input",{type:"number",value:k.maxFpCredit,onChange:z=>Le("maxFpCredit",z.target.value)})]})]})]})]}):w==="dynamic-live"?e.jsxs("div",{className:"dynamic-live-wrap",children:[e.jsxs("div",{className:"tx-field dl-top-select",children:[e.jsx("label",{children:"View Settings"}),e.jsx("select",{value:"wagering_limits",readOnly:!0,children:e.jsx("option",{value:"wagering_limits",children:"Wagering Limits"})})]}),e.jsxs("div",{className:"dynamic-live-grid",children:[e.jsxs("div",{className:"dl-col",children:[e.jsx("label",{children:"Min Straight Bet :"}),e.jsx("input",{type:"number",value:k.dlMinStraightBet,onChange:z=>Le("dlMinStraightBet",z.target.value)}),e.jsx("label",{children:"Max Straight Bet :"}),e.jsx("input",{type:"number",value:k.dlMaxStraightBet,onChange:z=>Le("dlMaxStraightBet",z.target.value)}),e.jsx("label",{children:"Max Per Offering :"}),e.jsx("input",{type:"number",value:k.dlMaxPerOffering,onChange:z=>Le("dlMaxPerOffering",z.target.value)}),e.jsx("label",{children:"Max Bet Per Event :"}),e.jsx("input",{type:"number",value:k.dlMaxBetPerEvent,onChange:z=>Le("dlMaxBetPerEvent",z.target.value)}),e.jsx("label",{children:"Max Win for Single Bet :"}),e.jsx("input",{type:"number",value:k.dlMaxWinSingleBet,onChange:z=>Le("dlMaxWinSingleBet",z.target.value)}),e.jsx("label",{children:"Max Win for Event :"}),e.jsx("input",{type:"number",value:k.dlMaxWinEvent,onChange:z=>Le("dlMaxWinEvent",z.target.value)}),e.jsx("label",{children:"Delay (sec) - minimum 5 :"}),e.jsx("input",{type:"number",value:k.dlDelaySec,onChange:z=>Le("dlDelaySec",z.target.value)})]}),e.jsxs("div",{className:"dl-col",children:[e.jsx("label",{children:"Max Favorite Line :"}),e.jsx("input",{type:"number",value:k.dlMaxFavoriteLine,onChange:z=>Le("dlMaxFavoriteLine",z.target.value)}),e.jsx("label",{children:"Max Dog Line :"}),e.jsx("input",{type:"number",value:k.dlMaxDogLine,onChange:z=>Le("dlMaxDogLine",z.target.value)}),e.jsx("label",{children:"Min Parlay Bet :"}),e.jsx("input",{type:"number",value:k.dlMinParlayBet,onChange:z=>Le("dlMinParlayBet",z.target.value)}),e.jsx("label",{children:"Max Parlay Bet :"}),e.jsx("input",{type:"number",value:k.dlMaxParlayBet,onChange:z=>Le("dlMaxParlayBet",z.target.value)}),e.jsx("label",{children:"Max Win for Event(parlay only) :"}),e.jsx("input",{type:"number",value:k.dlMaxWinEventParlay,onChange:z=>Le("dlMaxWinEventParlay",z.target.value)}),e.jsx("label",{children:"Max Dog Line (Parlays) :"}),e.jsx("input",{type:"number",value:k.dlMaxDogLineParlays,onChange:z=>Le("dlMaxDogLineParlays",z.target.value)}),e.jsx("label",{children:"Wager Cool-Off (sec) :"}),e.jsx("input",{type:"number",value:k.dlWagerCoolOffSec,onChange:z=>Le("dlWagerCoolOffSec",z.target.value)})]}),e.jsx("div",{className:"dl-col-toggles",children:[["Live Parlays","dlLiveParlays"],["Block Wagering Prior To Start","dlBlockPriorStart"],["Block Wagering at Halftime","dlBlockHalftime"],["Include Graded Wagers in Limits","dlIncludeGradedInLimits"],["Use Risk (not Volume) for Limits","dlUseRiskLimits"]].map(([z,ye])=>e.jsxs("div",{className:"switch-row",children:[e.jsxs("span",{children:[z," :"]}),e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:!!k[ye],onChange:Ee=>Le(ye,Ee.target.checked)}),e.jsx("span",{className:"slider"})]})]},ye))})]})]}):w==="live-casino"?e.jsxs("div",{className:"live-casino-wrap",children:[e.jsxs("div",{className:"live-casino-grid",children:[e.jsx("div",{}),e.jsx("div",{className:"lc-col-head",children:"Default"}),e.jsx("div",{className:"lc-col-head",children:"Agent"}),e.jsx("div",{className:"lc-col-head",children:"Player"}),e.jsx("div",{className:"lc-label",children:"Max Win Per Day"}),e.jsx("input",{type:"number",value:k.casinoDefaultMaxWinDay,onChange:z=>Le("casinoDefaultMaxWinDay",z.target.value)}),e.jsx("input",{type:"number",value:k.casinoAgentMaxWinDay,onChange:z=>Le("casinoAgentMaxWinDay",z.target.value)}),e.jsx("input",{type:"number",value:k.casinoPlayerMaxWinDay,onChange:z=>Le("casinoPlayerMaxWinDay",z.target.value)}),e.jsx("div",{className:"lc-label",children:"Max Loss Per Day"}),e.jsx("input",{type:"number",value:k.casinoDefaultMaxLossDay,onChange:z=>Le("casinoDefaultMaxLossDay",z.target.value)}),e.jsx("input",{type:"number",value:k.casinoAgentMaxLossDay,onChange:z=>Le("casinoAgentMaxLossDay",z.target.value)}),e.jsx("input",{type:"number",value:k.casinoPlayerMaxLossDay,onChange:z=>Le("casinoPlayerMaxLossDay",z.target.value)}),e.jsx("div",{className:"lc-label",children:"Max Win Per Week"}),e.jsx("input",{type:"number",value:k.casinoDefaultMaxWinWeek,onChange:z=>Le("casinoDefaultMaxWinWeek",z.target.value)}),e.jsx("input",{type:"number",value:k.casinoAgentMaxWinWeek,onChange:z=>Le("casinoAgentMaxWinWeek",z.target.value)}),e.jsx("input",{type:"number",value:k.casinoPlayerMaxWinWeek,onChange:z=>Le("casinoPlayerMaxWinWeek",z.target.value)}),e.jsx("div",{className:"lc-label",children:"Max Loss Per Week"}),e.jsx("input",{type:"number",value:k.casinoDefaultMaxLossWeek,onChange:z=>Le("casinoDefaultMaxLossWeek",z.target.value)}),e.jsx("input",{type:"number",value:k.casinoAgentMaxLossWeek,onChange:z=>Le("casinoAgentMaxLossWeek",z.target.value)}),e.jsx("input",{type:"number",value:k.casinoPlayerMaxLossWeek,onChange:z=>Le("casinoPlayerMaxLossWeek",z.target.value)})]}),e.jsx("p",{className:"lc-note",children:"*Players that do not have a limit will be assigned the default limit or agent limit if one exists. Once player limits are assigned they will have to be manually overridden either by changing them individually or by changing an agent and sending through the new default limits they want to apply."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"basics-grid",children:[e.jsxs("div",{className:"col-card",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{value:k.firstName,placeholder:"Enter first name",onChange:z=>Le("firstName",z.target.value)}),e.jsx("label",{children:"Last Name"}),e.jsx("input",{value:k.lastName,placeholder:"Enter last name",onChange:z=>Le("lastName",z.target.value)}),e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:k.phoneNumber,placeholder:"Enter phone number",onChange:z=>Le("phoneNumber",z.target.value)}),e.jsx("label",{children:"Password"}),e.jsx("input",{value:k.password,placeholder:Pt,onChange:z=>Le("password",z.target.value)}),e.jsx("label",{children:"Master Agent"}),["admin","super_agent","master_agent"].includes(o)?e.jsxs("select",{value:k.agentId,onChange:z=>Le("agentId",z.target.value),children:[e.jsx("option",{value:"",children:"None"}),M.map(z=>{const ye=z.id||z._id;return e.jsx("option",{value:ye,children:z.username},ye)})]}):e.jsx("input",{value:p.agentUsername||"",readOnly:!0}),e.jsx("label",{children:"Account Status"}),e.jsxs("select",{value:k.status,onChange:z=>Le("status",z.target.value),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"read_only",children:"Read Only"})]}),e.jsx("div",{className:"switch-list",children:[["Sportsbook","sportsbook"],["LV Casino","casino"],["Racebook","horses"],["Messaging","messaging"],["Dynamic Live","dynamicLive"],["Prop Plus","propPlus"],["Live Casino","liveCasino"]].map(([z,ye])=>e.jsxs("div",{className:"switch-row",children:[e.jsx("span",{children:z}),e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:!!k[ye],onChange:Ee=>Le(ye,Ee.target.checked)}),e.jsx("span",{className:"slider"})]})]},ye))})]}),e.jsxs("div",{className:"col-card",children:[e.jsx("label",{children:"Website"}),e.jsx("input",{value:window.location.hostname,readOnly:!0}),e.jsx("label",{children:"Account Type"}),e.jsxs("select",{value:k.accountType,onChange:z=>Le("accountType",z.target.value),children:[e.jsx("option",{value:"credit",children:"Credit"}),e.jsx("option",{value:"post_up",children:"Post Up"})]}),e.jsx("label",{children:"Min bet"}),e.jsx("input",{type:"number",value:k.minBet,onChange:z=>Le("minBet",z.target.value)}),e.jsx("label",{children:"Max bet"}),e.jsx("input",{type:"number",value:k.wagerLimit,onChange:z=>Le("wagerLimit",z.target.value)}),e.jsx("label",{children:"Credit Limit"}),e.jsx("input",{type:"number",value:k.creditLimit,onChange:z=>Le("creditLimit",z.target.value)}),e.jsx("label",{children:"Settle Limit"}),e.jsx("input",{type:"number",value:k.settleLimit,onChange:z=>Le("settleLimit",z.target.value)}),e.jsx("label",{children:"Zero Balance / Weekly"}),e.jsxs("select",{value:k.zeroBalanceWeekly,onChange:z=>Le("zeroBalanceWeekly",z.target.value),children:[e.jsx("option",{value:"standard",children:"Standard"}),e.jsx("option",{value:"zero_balance",children:"Zero Balance"}),e.jsx("option",{value:"weekly",children:"Weekly"})]}),e.jsx("label",{children:"Temporary Credit"}),e.jsx("input",{type:"number",value:k.tempCredit,onChange:z=>Le("tempCredit",z.target.value)})]}),e.jsxs("div",{className:"col-card",children:[e.jsxs("div",{className:"switch-row inline-top",children:[e.jsx("span",{children:"Enable Captcha"}),e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:k.enableCaptcha,onChange:z=>Le("enableCaptcha",z.target.checked)}),e.jsx("span",{className:"slider"})]})]}),e.jsx("label",{children:"Crypto Promo (%)"}),e.jsx("input",{type:"number",value:k.cryptoPromoPct,onChange:z=>Le("cryptoPromoPct",z.target.value)}),e.jsx("label",{children:"Promo Type"}),e.jsxs("select",{value:k.promoType,onChange:z=>Le("promoType",z.target.value),children:[e.jsx("option",{value:"promo_credit",children:"Promo Credit"}),e.jsx("option",{value:"bonus_credit",children:"Bonus Credit"}),e.jsx("option",{value:"none",children:"None"})]}),e.jsx("label",{children:"Expires On"}),e.jsx("input",{type:"date",value:k.expiresOn,onChange:z=>Le("expiresOn",z.target.value)}),e.jsx("label",{children:"Player Notes"}),e.jsx("textarea",{rows:9,placeholder:"For agent reference only",value:k.playerNotes,onChange:z=>Le("playerNotes",z.target.value)}),e.jsx("label",{children:"Balance"}),e.jsx("input",{type:"number",value:p.balance??0,onChange:z=>j(ye=>({...ye,balance:Number(z.target.value||0)}))}),e.jsx("button",{className:"btn btn-user",onClick:Ja,children:"Update Balance"})]})]}),e.jsxs("div",{className:"bottom-line",children:[e.jsxs("span",{children:["Total Wagered: ",lt(C.totalWagered||0)]}),e.jsxs("span",{children:["Net: ",e.jsx("b",{className:Number(C.netProfit||0)<0?"neg":"pos",children:lt(C.netProfit||0)})]})]})]}),oe&&e.jsx("div",{className:"modal-overlay",onClick:()=>K(!1),children:e.jsxs("div",{className:"modal-card",onClick:z=>z.stopPropagation(),children:[e.jsx("h4",{children:"New transaction"}),e.jsx("label",{children:"Type"}),e.jsxs("select",{value:V,onChange:z=>U(z.target.value),children:[e.jsx("option",{value:"credit",children:"Credit"}),e.jsx("option",{value:"debit",children:"Debit"})]}),e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:P,onChange:z=>ce(z.target.value),placeholder:"0.00"}),e.jsx("label",{children:"Description"}),e.jsx("input",{value:me,onChange:z=>Ne(z.target.value),placeholder:"Optional note"}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"btn btn-back",onClick:()=>K(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-save",onClick:kn,children:"Save"})]})]})}),ma&&e.jsx("div",{className:"modal-overlay",onClick:()=>Nt(!1),children:e.jsxs("div",{className:"modal-card",onClick:z=>z.stopPropagation(),children:[e.jsx("h4",{children:"New Free Play"}),e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:an,onChange:z=>ks(z.target.value),placeholder:"0.00"}),e.jsx("label",{children:"Description"}),e.jsx("input",{value:Cs,onChange:z=>Qa(z.target.value),placeholder:"Optional note"}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"btn btn-back",onClick:()=>Nt(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-save",onClick:Ae,children:"Save"})]})]})}),e.jsx("style",{children:`
        .customer-details-v2 { background:#f3f4f6; min-height:100vh; padding:16px; color:#1f2937; }
        .top-panel { display:flex; justify-content:space-between; align-items:flex-start; background:#fff; border:1px solid #d1d5db; border-radius:8px; padding:16px; box-shadow:0 1px 6px rgba(15, 23, 42, 0.04); }
        .top-left h2 { margin:0; font-size:18px; line-height:1.2; }
        .agent-line { margin-top:4px; color:#4b5563; font-size:14px; }
        .top-actions { display:flex; gap:8px; }

        .btn { border:none; border-radius:3px; cursor:pointer; font-weight:600; }
        .btn-back { background:#3db3d7; color:#fff; padding:8px 14px; }
        .btn-user { background:#2f7fb6; color:#fff; padding:8px 14px; }
        .btn-copy-all { background:#139cc9; color:#fff; padding:8px 14px; }
        .btn-save { background:#35b49f; color:#fff; padding:9px 20px; min-width:130px; font-size:14px; }

        .player-card {
          margin-top: 10px;
          border: 1px solid #d6e2f3;
          border-radius: 4px;
          padding: 12px;
          background: #fff;
          max-width: 720px;
          box-shadow: none;
        }
        .player-card-head {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 8px;
          margin-bottom: 10px;
        }
        .player-title-wrap {
          display: flex;
          align-items: center;
          gap: 10px;
        }
        .player-badge {
          display: inline-flex;
          align-items: center;
          padding: 5px 10px;
          border-radius: 4px;
          border: 1px solid #9ec4f2;
          color: #1f5fb9;
          font-weight: 700;
          font-size: 13px;
        }
        .creds-box {
          border: 1px solid #d6e2f3;
          border-radius: 4px;
          padding: 10px;
          background: #fff;
        }
        .creds-row {
          display: grid;
          grid-template-columns: 120px 160px 32px;
          align-items: center;
          gap: 8px;
          margin-bottom: 8px;
        }
        .creds-row:last-child { margin-bottom: 0; }
        .creds-row span {
          font-size: 14px;
          font-weight: 700;
          color: #64748b;
        }
        .creds-pill {
          border: none;
          background: transparent;
          border-radius: 0;
          padding: 0;
          font-size: 14px;
          font-weight: 700;
          color: #334155;
          line-height: 1.1;
        }
        .copy-mini {
          border: none;
          background: transparent;
          color: #5b93ed;
          cursor: pointer;
          font-size: 18px;
          line-height: 1;
        }
        .limits-box {
          margin-top: 12px;
          border: 1px solid #d6e2f3;
          border-radius: 4px;
          padding: 12px;
          background: #fff;
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 12px 28px;
        }
        .limit-item label {
          display: block;
          margin: 0 0 4px;
          text-transform: uppercase;
          color: #8aa0bc;
          font-size: 12px;
          font-weight: 700;
          letter-spacing: 0.3px;
        }
        .limit-item strong {
          color: #1e293b;
          font-size: 16px;
          line-height: 1;
        }
        .limit-item .money-green {
          color: #08916a;
        }
        .copy-notice {
          margin-top: 6px;
          color: #1f5fb9;
          font-size: 13px;
          font-weight: 700;
        }
        .mobile-only { display: none; }

        .top-right { text-align:right; display:flex; flex-direction:column; gap:8px; }
        .metric {
          border: none;
          background: transparent;
          text-align: right;
          cursor: pointer;
          padding: 0;
        }
        .metric.metric-active { opacity: 1; }
        .metric:not(.metric-active) { opacity: 0.95; }
        .metric span { display:block; font-size:12px; color:#374151; }
        .metric b { font-size:16px; line-height:1.1; font-weight:700; }
        .metric .neg { color:#dc2626; }
        .metric .pos { color:#15803d; }
        .metric .neutral { color:#111827; }
        .metric-circle { background: transparent; border: none; border-radius: 0; padding: 0; margin-top: 0; }

        .basics-header { margin-top:8px; background:#fff; border:1px solid #d1d5db; border-radius:10px; padding:10px 12px; display:flex; align-items:center; justify-content:space-between; }
        .basics-left { display:flex; align-items:center; gap:10px; }
        .basics-left h3 { margin:0; font-size:22px; line-height:1.1; font-weight:700; }
        .dot-grid { width:20px; display:grid; grid-template-columns:repeat(3, 4px); gap:3px; }
        .dot-grid span { width:4px; height:4px; background:#4b5563; border-radius:50%; display:block; }
        .dot-grid-btn {
          border: none;
          background: transparent;
          padding: 2px;
          cursor: pointer;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          border-radius: 4px;
        }
        .dot-grid-btn:hover { background: #e5e7eb; }

        .menu-backdrop {
          position: fixed;
          inset: 0;
          z-index: 40;
          border: none;
          background: rgba(15, 23, 42, 0.15);
        }
        .basics-quick-menu {
          position: absolute;
          z-index: 50;
          left: 24px;
          top: 245px;
          width: 300px;
          height: 300px;
          max-width: calc(100vw - 48px);
          background: #ffffff;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          box-shadow: 0 14px 28px rgba(0, 0, 0, 0.2);
          padding: 10px 8px 10px;
          overflow: hidden;
        }
        .menu-close {
          border: none;
          background: #374151;
          color: #fff;
          width: 28px;
          height: 28px;
          border-radius: 50%;
          cursor: pointer;
          margin-left: auto;
          display: block;
          font-weight: 700;
        }
        .menu-grid {
          display: grid;
          grid-template-columns: repeat(3, minmax(0, 1fr));
          gap: 14px 10px;
          padding: 8px 2px 2px;
          height: 248px;
          overflow-y: auto;
        }
        .menu-item {
          border: none;
          background: transparent;
          text-align: center;
          cursor: pointer;
          padding: 4px;
          color: #1f2937;
        }
        .menu-item:hover .menu-icon {
          transform: translateY(-1px);
        }
        .menu-icon {
          width: 40px;
          height: 40px;
          border-radius: 8px;
          margin: 0 auto 6px;
          display: grid;
          place-items: center;
          font-size: 20px;
          line-height: 1;
          color: #1f2937;
          background: #f3f4f6;
          transition: transform 0.15s ease;
        }
        .menu-item:nth-child(1) .menu-icon { color:#ef4444; }
        .menu-item:nth-child(2) .menu-icon { color:#65a30d; }
        .menu-item:nth-child(3) .menu-icon { color:#3b82f6; }
        .menu-item:nth-child(4) .menu-icon { color:#a16207; }
        .menu-item:nth-child(5) .menu-icon { color:#0d9488; }
        .menu-item:nth-child(6) .menu-icon { color:#f97316; }
        .menu-item:nth-child(7) .menu-icon { color:#111827; }
        .menu-item:nth-child(8) .menu-icon { color:#1d4ed8; }
        .menu-item:nth-child(9) .menu-icon { color:#4b5563; }
        .menu-item:nth-child(10) .menu-icon { color:#0ea5e9; }
        .menu-item:nth-child(11) .menu-icon { color:#4f46e5; }
        .menu-item:nth-child(12) .menu-icon { color:#b91c1c; }
        .menu-item:nth-child(13) .menu-icon { color:#60a5fa; }
        .menu-item:nth-child(14) .menu-icon { color:#6b7280; }
        .menu-item:nth-child(15) .menu-icon { color:#84a34a; }
        .menu-item:nth-child(16) .menu-icon { color:#c084fc; }
        .menu-item:nth-child(17) .menu-icon { color:#d97706; }
        .menu-item:nth-child(18) .menu-icon { color:#16a34a; }
        .menu-label {
          font-size: 11px;
          font-weight: 600;
          line-height: 1.1;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }

        .alert { margin-top:8px; padding:10px 12px; border-radius:3px; }
        .alert.error { background:#fee2e2; color:#991b1b; border:1px solid #fecaca; }
        .alert.success { background:#dcfce7; color:#166534; border:1px solid #bbf7d0; }

        .transactions-wrap {
          margin-top: 8px;
          background: #fff;
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 12px;
        }
        .tx-controls {
          display: grid;
          grid-template-columns: 1.2fr 1.2fr repeat(4, 1fr);
          gap: 10px;
          margin-bottom: 12px;
        }
        .tx-field label, .tx-stat label {
          display: block;
          color: #4b5563;
          font-size: 12px;
          margin-bottom: 4px;
        }
        .tx-field select {
          width: 100%;
          border: none;
          border-bottom: 1px solid #6b7280;
          background: transparent;
          font-size: 16px;
          padding: 4px 0;
          color: #111827;
          outline: none;
        }
        .tx-field input {
          width: 100%;
          border: none;
          border-bottom: 1px solid #6b7280;
          background: transparent;
          font-size: 16px;
          padding: 4px 0;
          color: #111827;
          outline: none;
        }
        .tx-stat b {
          display: block;
          font-size: 22px;
          line-height: 1.05;
          font-weight: 500;
          color: #111827;
        }
        .tx-stat .neg { color: #dc2626; }
        .tx-table-wrap {
          border: 1px solid #cbd5e1;
          min-height: 360px;
          overflow: auto;
          background: #fff;
        }
        .tx-table {
          width: 100%;
          border-collapse: collapse;
        }
        .tx-table th {
          background: #1f3345;
          color: #fff;
          text-align: left;
          font-size: 16px;
          padding: 10px 12px;
          position: sticky;
          top: 0;
        }
        .tx-table td {
          border-bottom: 1px solid #e5e7eb;
          padding: 8px 12px;
          font-size: 14px;
          color: #1f2937;
        }
        .tx-table tr.selected td { background: #eff6ff; }
        .tx-table tr { cursor: pointer; }
        .tx-empty {
          text-align: center;
          padding: 24px !important;
          color: #6b7280 !important;
        }
        .btn-danger {
          margin-top: 10px;
          background: #dc3f51;
          color: #fff;
          padding: 10px 30px;
        }
        .btn-danger:disabled {
          opacity: 0.45;
          cursor: not-allowed;
        }
        .freeplay-controls {
          grid-template-columns: 1.2fr 1fr 1fr;
        }
        .freeplay-bottom-row {
          margin-top: 10px;
          display: grid;
          grid-template-columns: auto 1fr auto;
          align-items: end;
          gap: 12px;
        }
        .freeplay-settings-btn {
          justify-self: center;
          min-width: 320px;
          text-align: center;
        }
        .freeplay-inputs {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
          min-width: 360px;
        }

        .performance-wrap {
          margin-top: 8px;
          background: #fff;
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 12px;
        }
        .perf-controls {
          display: grid;
          grid-template-columns: 220px;
          gap: 10px;
          margin-bottom: 10px;
        }
        .performance-grid {
          display: grid;
          grid-template-columns: 480px 1fr;
          gap: 16px;
          min-height: 420px;
        }
        .perf-left {
          border: 1px solid #cbd5e1;
          max-height: 420px;
          overflow-y: auto;
        }
        .perf-right {
          border: 1px solid #cbd5e1;
          padding: 0;
        }
        .perf-title-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          font-size: 18px;
          line-height: 1;
          padding: 8px 0 8px 0;
        }
        .perf-title-row b { font-size: 26px; font-weight: 700; }
        .perf-table {
          width: 100%;
          border-collapse: collapse;
        }
        .perf-table th {
          background: #1f3345;
          color: #fff;
          text-align: left;
          font-size: 14px;
          padding: 8px 10px;
          position: sticky;
          top: 0;
        }
        .perf-table td {
          border-bottom: 1px solid #e5e7eb;
          padding: 8px 10px;
          font-size: 14px;
          color: #1f2937;
        }
        .perf-table tr.selected td { background: #f1f5f9; }

        .dynamic-live-wrap {
          margin-top: 8px;
          background: #fff;
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 12px;
        }
        .dl-top-select {
          width: 220px;
          margin-bottom: 12px;
        }
        .dynamic-live-grid {
          display: grid;
          grid-template-columns: 1fr 1fr 1fr;
          gap: 28px;
        }
        .dl-col, .dl-col-toggles {
          display: flex;
          flex-direction: column;
          gap: 6px;
        }
        .dl-col label {
          font-size: 13px;
          color: #4b5563;
        }
        .dl-col input {
          border: none;
          border-bottom: 1px solid #6b7280;
          background: transparent;
          font-size: 16px;
          line-height: 1;
          color: #111827;
          padding: 2px 0 4px;
          outline: none;
        }
        .dl-col-toggles .switch-row {
          justify-content: space-between;
          font-size: 15px;
          line-height: 1.15;
          padding: 10px 0;
        }

        .live-casino-wrap {
          margin-top: 8px;
          background: #fff;
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 12px 18px 22px;
        }
        .live-casino-grid {
          display: grid;
          grid-template-columns: 220px 130px 130px 130px;
          gap: 10px 20px;
          align-items: center;
          max-width: 760px;
        }
        .lc-col-head {
          font-size: 18px;
          color: #374151;
          font-weight: 700;
        }
        .lc-label {
          font-size: 14px;
          color: #374151;
          font-weight: 600;
        }
        .live-casino-grid input {
          width: 100%;
          border: 1px solid #d1d5db;
          background: #fff;
          border-radius: 4px;
          font-size: 14px;
          line-height: 1;
          padding: 4px 8px;
          color: #111827;
        }
        .lc-note {
          margin-top: 16px;
          max-width: 1200px;
          font-size: 13px;
          line-height: 1.35;
          color: #374151;
        }

        .basics-grid { margin-top:8px; display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; }
        .col-card { background:#fff; border:1px solid #d1d5db; padding:12px; display:flex; flex-direction:column; min-height:560px; }
        .col-card label { color:#4b5563; font-size:13px; margin-top:8px; margin-bottom:4px; }
        .col-card input, .col-card select, .col-card textarea { width:100%; border:none; border-bottom:1px solid #6b7280; background:transparent; font-size:18px; padding:4px 0; color:#111827; outline:none; }
        .col-card textarea { border:1px solid #6b7280; min-height:160px; font-size:16px; padding:6px; }

        .switch-list { margin-top:8px; }
        .switch-row { display:flex; align-items:center; justify-content:space-between; padding:6px 0; font-size:16px; }
        .switch-row.inline-top { margin-top:8px; }
        .switch {
          position:relative;
          display:inline-block;
          width:58px;
          height:32px;
          flex-shrink:0;
        }
        .switch input { opacity:0; width:0; height:0; }
        .slider {
          position:absolute;
          cursor:pointer;
          top:0;
          left:0;
          right:0;
          bottom:0;
          background-color:#b0b7c3;
          transition:.2s;
          border-radius:999px;
        }
        .slider:before {
          position:absolute;
          content:'';
          height:24px;
          width:24px;
          left:4px;
          top:4px;
          background:white;
          transition:.2s;
          border-radius:50%;
        }
        .switch input:checked + .slider { background:#16a34a; }
        .switch input:checked + .slider:before { transform:translateX(26px); }

        .bottom-line { margin-top:10px; font-size:14px; color:#374151; display:flex; gap:22px; }
        .bottom-line .neg { color:#dc2626; }
        .bottom-line .pos { color:#15803d; }

        .modal-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.35);
          z-index: 120;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .modal-card {
          width: 380px;
          max-width: calc(100vw - 32px);
          border-radius: 8px;
          background: #fff;
          padding: 16px;
          border: 1px solid #d1d5db;
          box-shadow: 0 12px 30px rgba(0,0,0,0.25);
          display: flex;
          flex-direction: column;
          gap: 6px;
        }
        .modal-card h4 { margin: 0 0 6px; font-size: 18px; }
        .modal-card label { font-size: 13px; color: #4b5563; }
        .modal-card input, .modal-card select {
          border: 1px solid #cbd5e1;
          border-radius: 4px;
          padding: 8px 10px;
          font-size: 14px;
          color: #111827;
        }
        .modal-actions {
          margin-top: 8px;
          display: flex;
          justify-content: flex-end;
          gap: 8px;
        }

        @media (max-width: 1300px) {
          .basics-grid { grid-template-columns:1fr; }
          .top-panel { flex-direction:column; gap:12px; }
          .top-right { text-align:left; }
          .player-card { max-width: 100%; }
          .player-card-head { flex-direction: column; align-items: flex-start; }
          .creds-row { grid-template-columns: 90px 1fr 32px; }
          .limits-box { grid-template-columns: 1fr; }
          .top-actions { display: none; }
          .mobile-only { display: flex; margin-top: 8px; }
          .tx-controls { grid-template-columns: 1fr 1fr; }
          .tx-stat b { font-size: 20px; }
          .freeplay-controls { grid-template-columns: 1fr 1fr; }
          .freeplay-bottom-row { grid-template-columns: 1fr; }
          .freeplay-inputs { min-width: 0; grid-template-columns: 1fr; }
          .performance-grid { grid-template-columns: 1fr; }
          .perf-left { max-height: 300px; }
          .perf-title-row { font-size: 20px; }
          .perf-title-row b { font-size: 24px; }
          .dynamic-live-grid { grid-template-columns: 1fr; }
          .dl-col input { font-size: 20px; }
          .dl-col-toggles .switch-row { font-size: 18px; }
          .live-casino-grid { grid-template-columns: 1fr 1fr; max-width: none; }
          .lc-col-head, .lc-label, .live-casino-grid input { font-size: 18px; }
          .lc-note { font-size: 14px; }
        }
      `})]}):e.jsx("div",{className:"admin-view",children:e.jsx("div",{className:"view-content",children:"User not found."})})}class Yp extends js.Component{constructor(r){super(r),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,o){console.error("Uncaught error:",r,o),this.setState({error:r,errorInfo:o})}render(){return this.state.hasError?e.jsxs("div",{className:"error-boundary p-4 bg-red-100 border border-red-400 text-red-700 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Something went wrong."}),e.jsx("span",{className:"block sm:inline",children:" The view could not be loaded."}),e.jsx("br",{}),e.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),e.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),e.jsx("button",{className:"mt-2 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",onClick:()=>this.setState({hasError:!1}),children:"Try Again"})]}):this.props.children}}const O0=["dashboard","weekly-figures","customer-admin","add-customer","cashier","settings","profile"];function hd({onExit:l,role:r="admin"}){const[o,d]=u.useState("dashboard"),[h,f]=u.useState(!1),[b,v]=u.useState(null),[x,g]=u.useState("tiles"),[y,p]=u.useState(window.innerWidth<=768),[j,C]=u.useState(null),[N,M]=u.useState(r),[_,k]=u.useState(!1),[F,L]=u.useState("Admin");u.useEffect(()=>{(async()=>{try{const ee=localStorage.getItem("token");if(ee){const I=await Ga(ee);I&&(I.dashboardLayout&&g(I.dashboardLayout),C(I.permissions||null),I.role&&M(I.role))}}catch(ee){console.error("Failed to fetch layout pref",ee)}})()},[]),u.useEffect(()=>{const B=()=>{p(window.innerWidth<=768)};return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const E=(B,ee=null)=>{ci(N,j,B)&&(d(B),ee&&v(ee),f(!1))};u.useEffect(()=>{if(!ci(N,j,o)){const B=O0.find(ee=>ci(N,j,ee))||"dashboard";d(B)}},[o,j,N]);const w=()=>{l()},A=async B=>{try{const ee=localStorage.getItem("token")||sessionStorage.getItem("token");if(!ee||!B)return;if(!sessionStorage.getItem("impersonationBaseToken")){const $=await Ga(ee),D=String($?.role||r||"admin").toLowerCase(),J=D==="master_agent"?"Master Agent":D==="super_agent"?"Super Agent":D==="agent"?"Agent":"Admin";sessionStorage.setItem("impersonationBaseToken",ee),sessionStorage.setItem("impersonationBaseRole",D),sessionStorage.setItem("impersonationBaseUsername",String($?.username||J))}const S=await Op(B,ee);if(!S?.token)return;if(localStorage.setItem("token",S.token),sessionStorage.setItem("token",S.token),S.role&&localStorage.setItem("userRole",S.role),S.username&&S.role){const $=S.role==="admin"?"admin":S.role==="super_agent"||S.role==="master_agent"?"super_agent":"agent";sessionStorage.setItem(`${$}Username`,S.username)}window.location.reload()}catch(ee){console.error("Context switch failed:",ee),alert(ee.message||"Failed to switch context")}},q=()=>{const B=sessionStorage.getItem("impersonationBaseToken");if(!B)return;localStorage.setItem("token",B),sessionStorage.setItem("token",B);const ee=sessionStorage.getItem("impersonationBaseRole");ee&&localStorage.setItem("userRole",ee),sessionStorage.removeItem("impersonationBaseToken"),sessionStorage.removeItem("impersonationBaseRole"),sessionStorage.removeItem("impersonationBaseUsername"),window.location.reload()};u.useEffect(()=>{const B=sessionStorage.getItem("impersonationBaseRole"),ee=sessionStorage.getItem("impersonationBaseUsername");if(!B){L("Admin");return}const I=B==="master_agent"?"Master Agent":B==="super_agent"?"Super Agent":B==="agent"?"Agent":"Admin";L(ee?`${I} (${String(ee).toUpperCase()})`:I)},[]);const G=()=>{switch(o){case"dashboard":return e.jsx(qf,{onMenuClick:E,onOpenScoreboard:()=>k(!0),role:N,layoutPref:x,isMobile:y,permissions:j});case"user-details":return e.jsx(R0,{userId:b,onBack:()=>d("customer-admin"),role:N});case"weekly-figures":return e.jsx(t0,{});case"pending":return e.jsx(a0,{});case"messaging":return e.jsx(s0,{});case"game-admin":return e.jsx(n0,{});case"customer-admin":return e.jsx(l0,{onViewChange:E});case"cashier":return e.jsx(c0,{});case"add-customer":return e.jsx(h0,{});case"third-party-limits":return e.jsx(m0,{});case"props":return e.jsx(f0,{});case"agent-performance":return e.jsx(p0,{});case"analysis":return e.jsx(x0,{});case"ip-tracker":return e.jsx(g0,{canManage:Zv(N,j)});case"transactions-history":return e.jsx(b0,{});case"collections":return e.jsx(y0,{});case"deleted-wagers":return e.jsx(j0,{});case"games-events":return e.jsx(v0,{});case"sportsbook-links":return e.jsx(N0,{});case"bet-ticker":return e.jsx(w0,{});case"ticketwriter":return e.jsx(S0,{});case"scores":return e.jsx(k0,{});case"agent-admin":return e.jsx(Zf,{});case"agent-manager":return e.jsx(C0,{});case"master-agent-admin":return e.jsx(Zf,{});case"billing":return e.jsx(A0,{});case"settings":return e.jsx(E0,{});case"profile":return e.jsx(_0,{});case"rules":return e.jsx(T0,{});case"feedback":return e.jsx(L0,{});case"faq":return e.jsx(M0,{});case"user-manual":return e.jsx(D0,{});case"monitor":return e.jsx(B0,{});default:return e.jsx(qf,{onMenuClick:E,onOpenScoreboard:()=>k(!0),role:N,permissions:j})}};return e.jsxs("div",{className:"admin-panel",children:[e.jsx(Kv,{onMenuToggle:()=>f(!h),onLogout:w,onViewChange:E,onSwitchContext:A,onRestoreBaseContext:q,canRestoreBaseContext:!!sessionStorage.getItem("impersonationBaseToken"),baseContextLabel:F,role:N}),e.jsxs("div",{className:"admin-container",children:[e.jsx(e0,{activeView:o,onViewChange:E,onOpenScoreboard:()=>k(!0),isOpen:h,role:N,permissions:j}),e.jsx("div",{className:`admin-content ${o==="dashboard"?"dashboard-view":""}`,children:e.jsx(Yp,{children:G()})})]}),_&&e.jsx(Fp,{onClose:()=>k(!1)})]})}const U0=({onLogin:l,isLoggedIn:r})=>{const[o,d]=u.useState({username:"",password:""}),[h,f]=u.useState(""),[b,v]=u.useState("all");return e.jsxs("div",{className:"landing-page",children:[e.jsx(rv,{onLogin:l,isLoggedIn:r}),e.jsx(cv,{activeLeague:b,onSelectLeague:v}),e.jsx(dv,{}),e.jsxs("div",{className:"banner-content-centered",children:[e.jsx("img",{src:"/bgremlogo.png",alt:"betterbet365",className:"banner-logo"}),e.jsx("div",{className:"banner-divider"}),e.jsx("p",{className:"banner-tagline",children:"THE PREMIUM CHOICE FOR WINNERS"})]}),e.jsx("footer",{className:"main-footer",children:e.jsxs("div",{className:"footer-content",children:[e.jsxs("div",{className:"footer-left",children:[e.jsx("img",{src:"/bgremlogo.png",alt:"Logo",className:"footer-logo"}),e.jsx("p",{className:"copyright",children:" 2026 betterbet365 | All Rights Reserved"})]}),e.jsxs("div",{className:"footer-right",children:[e.jsx("span",{children:"RESPONSIBLE GAMING"}),e.jsx("span",{children:"TERMS & CONDITIONS"}),e.jsx("span",{children:"PRIVACY POLICY"})]})]})})]})},Kf={success:{bg:"#0f5132",border:"#198754"},error:{bg:"#58151c",border:"#dc3545"},warning:{bg:"#664d03",border:"#ffc107"},info:{bg:"#0a3f66",border:"#0dcaf0"}},z0=({toast:l,onClose:r})=>{const o=Kf[l.type]||Kf.info;return e.jsxs("div",{style:{minWidth:280,maxWidth:380,background:o.bg,color:"#fff",border:`1px solid ${o.border}`,borderRadius:10,boxShadow:"0 8px 24px rgba(0,0,0,0.26)",padding:"12px 14px",marginBottom:10,backdropFilter:"blur(6px)",display:"flex",alignItems:"flex-start",gap:10},children:[e.jsx("div",{style:{flex:1,fontSize:13,lineHeight:1.35},children:l.message}),e.jsx("button",{onClick:()=>r(l.id),"aria-label":"Close",style:{border:"none",background:"transparent",color:"rgba(255,255,255,0.85)",cursor:"pointer",fontSize:16,lineHeight:1,padding:0},children:""})]})},Vp=u.createContext(null),I0=({children:l})=>{const[r,o]=u.useState([]),d=u.useCallback(b=>{o(v=>v.filter(x=>x.id!==b))},[]),h=u.useCallback((b,v="info")=>{const x=`${Date.now()}-${Math.random().toString(36).slice(2,8)}`;o(g=>[...g,{id:x,message:b,type:v}]),window.setTimeout(()=>{d(x)},4e3)},[d]),f=u.useMemo(()=>({showToast:h}),[h]);return u.useEffect(()=>{const b=window.alert;return window.alert=v=>{const x=typeof v=="string"?v:String(v??"");h(x||"Notification","info")},()=>{window.alert=b}},[h]),e.jsxs(Vp.Provider,{value:f,children:[l,e.jsx("div",{style:{position:"fixed",top:16,right:16,zIndex:2e3,display:"flex",flexDirection:"column",alignItems:"flex-end"},children:r.map(b=>e.jsx(z0,{toast:b,onClose:d},b.id))})]})},F0=()=>{const l=u.useContext(Vp);if(!l)throw new Error("useToast must be used within a ToastProvider");return l},ri=l=>{const r=Number(l);return Number.isFinite(r)?r.toFixed(2):"0.00"},P0=l=>String(l||"straight").replace("_"," ").toUpperCase(),$0=({isOpen:l,betType:r,selections:o=[],wager:d=0,totalRisk:h=0,potentialPayout:f=0,onConfirm:b,onCancel:v,isSubmitting:x=!1})=>{if(!l)return null;const g=o[0],y=o[1],p=r==="if_bet",j=r==="reverse";return e.jsx("div",{style:{position:"fixed",inset:0,zIndex:2100,background:"rgba(5, 9, 20, 0.72)",backdropFilter:"blur(3px)",display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:e.jsxs("div",{style:{width:"100%",maxWidth:520,borderRadius:12,border:"1px solid rgba(255,255,255,0.15)",background:"linear-gradient(180deg, rgba(18,26,43,0.98), rgba(13,19,30,0.98))",color:"#fff",boxShadow:"0 16px 44px rgba(0,0,0,0.35)"},children:[e.jsxs("div",{style:{padding:"16px 18px",borderBottom:"1px solid rgba(255,255,255,0.12)"},children:[e.jsx("div",{style:{fontSize:12,color:"#9ec6ff",letterSpacing:"0.08em"},children:"BET REVIEW"}),e.jsx("div",{style:{fontSize:18,fontWeight:800,marginTop:3},children:P0(r)})]}),e.jsxs("div",{style:{padding:18},children:[e.jsx("div",{style:{fontSize:13,color:"#b8c3d8",marginBottom:8},children:"Selections"}),e.jsx("div",{style:{border:"1px solid rgba(255,255,255,0.12)",borderRadius:10,overflow:"hidden"},children:o.map((C,N)=>e.jsxs("div",{style:{padding:"10px 12px",borderTop:N===0?"none":"1px solid rgba(255,255,255,0.08)",fontSize:13},children:[e.jsx("div",{style:{color:"#d8e2f5"},children:C.matchName||C.matchId}),e.jsxs("div",{style:{color:"#ffd776",fontWeight:700},children:[C.selection," @ ",ri(C.odds)]})]},`${C.matchId||"sel"}-${N}`))}),p&&g&&y&&e.jsxs("div",{style:{marginTop:12,fontSize:12,color:"#b8c3d8"},children:["If ",e.jsx("strong",{children:g.selection})," wins, $",ri(d)," is staked on ",e.jsx("strong",{children:y.selection}),"."]}),j&&g&&y&&e.jsxs("div",{style:{marginTop:12,fontSize:12,color:"#b8c3d8"},children:["Two IF bets will be placed: ",e.jsxs("strong",{children:[g.selection,"  ",y.selection]})," and ",e.jsxs("strong",{children:[y.selection,"  ",g.selection]}),"."]}),e.jsxs("div",{style:{marginTop:16,borderTop:"1px solid rgba(255,255,255,0.12)",paddingTop:12,fontSize:14},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[e.jsx("span",{children:"Wager"}),e.jsxs("strong",{children:["$",ri(d)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[e.jsx("span",{children:"Total Risk"}),e.jsxs("strong",{children:["$",ri(h)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Potential Payout"}),e.jsxs("strong",{style:{color:"#7ee7a8"},children:["$",ri(f)]})]})]})]}),e.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.12)",padding:"12px 18px",display:"flex",justifyContent:"flex-end",gap:10},children:[e.jsx("button",{onClick:v,disabled:x,style:{border:"1px solid rgba(255,255,255,0.28)",borderRadius:8,background:"transparent",color:"#fff",padding:"9px 14px",cursor:x?"not-allowed":"pointer"},children:"Cancel"}),e.jsx("button",{onClick:b,disabled:x,style:{border:"none",borderRadius:8,background:"#1f7ae0",color:"#fff",padding:"9px 14px",fontWeight:700,cursor:x?"not-allowed":"pointer"},children:x?"Placing...":"Confirm Bet"})]})]})})},ep={straight:{minLegs:1,maxLegs:1,teaserPointOptions:[],payoutProfile:{multipliers:{}}},parlay:{minLegs:2,maxLegs:12,teaserPointOptions:[],payoutProfile:{multipliers:{}}},teaser:{minLegs:2,maxLegs:6,teaserPointOptions:[6,6.5,7],payoutProfile:{multipliers:{2:1.8,3:2.6,4:4,5:6.5,6:9.5}}},if_bet:{minLegs:2,maxLegs:2,teaserPointOptions:[],payoutProfile:{multipliers:{}}},reverse:{minLegs:2,maxLegs:2,teaserPointOptions:[],payoutProfile:{multipliers:{}}}},tp=[{id:"straight",label:"STRAIGHT",icon:"S"},{id:"parlay",label:"PARLAY",icon:"P"},{id:"teaser",label:"TEASER",icon:"T"},{id:"if_bet",label:"IF BET",icon:"I"},{id:"reverse",label:"REVERSE",icon:"R"}],Ur=l=>{const r=Number(l);return Number.isFinite(r)?r.toFixed(2):"0.00"},H0=(l,r)=>{const o=l?.payoutProfile?.multipliers?.[String(r)],d=Number(o);return Number.isFinite(d)&&d>0?d:1},q0=({user:l,balance:r=0,mode:o,onModeChange:d,selections:h,onSelectionsChange:f,wager:b,onWagerChange:v,teaserPoints:x,onTeaserPointsChange:g,rulesByMode:y,onBetPlaced:p})=>{const{showToast:j}=F0(),[C,N]=u.useState(null),[M,_]=u.useState(!1),[k,F]=u.useState(!1),[L,E]=u.useState(!1),[w,A]=u.useState(!1);u.useEffect(()=>{const V=window.matchMedia("(max-width: 768px)"),U=()=>F(V.matches);return U(),V.addEventListener("change",U),()=>V.removeEventListener("change",U)},[]);const q=Ks(o),G=y[q]||ep[q]||ep.straight,B=h.length,ee=Number(b),I=Number(x||0),S=q!=="teaser"||!Array.isArray(G.teaserPointOptions)||G.teaserPointOptions.length===0||G.teaserPointOptions.includes(I),$=u.useMemo(()=>{const V=[];return(B<G.minLegs||B>G.maxLegs)&&V.push(`${tp.find(U=>U.id===q)?.label||"MODE"} requires ${G.minLegs===G.maxLegs?G.minLegs:`${G.minLegs}-${G.maxLegs}`} selections`),(!Number.isFinite(ee)||ee<=0)&&V.push("Enter a valid wager amount"),S||V.push(`Select teaser points: ${G.teaserPointOptions.join(", ")}`),h.every(U=>Number.isFinite(Number(U.odds))&&Number(U.odds)>0)||V.push("One or more selections have invalid odds"),V},[B,q,G,h,ee,S]),D=u.useMemo(()=>{if(!Number.isFinite(ee)||ee<=0||B===0)return 0;if(q==="straight")return ee*Number(h[0]?.odds||0);if(q==="parlay"){const V=h.reduce((U,P)=>U*Number(P.odds||1),1);return ee*V}if(q==="teaser")return ee*H0(G,B);if(q==="if_bet"||q==="reverse"){const V=h.slice(0,2).reduce((U,P)=>U*Number(P.odds||1),1);return ee*V}return 0},[ee,B,q,h,G]),J=q==="reverse"?ee*2:q==="straight"?ee*Math.max(1,B):ee,H=$.length===0&&!M,W=B>0,[ie,je]=u.useState(W);u.useEffect(()=>{W&&je(!0)},[W]);const te=V=>{f(h.filter(U=>U.id!==V))},O=()=>{f([]),v(""),N(null),E(!1)},Z=async()=>{if(!localStorage.getItem("token")){E(!0),N({type:"error",text:"Please login to place bets"}),j("Please login to place bets","error");return}if(E(!0),!H){$.length>0&&j($[0],"warning");return}if(J>Number(r||0)){const U="Insufficient balance for this bet.";N({type:"error",text:U}),j(U,"error");return}A(!0)},oe=async()=>{const V=localStorage.getItem("token");if(!V){j("Please login to place bets","error"),A(!1);return}const U={type:q,amount:ee,teaserPoints:q==="teaser"?I:0};if(q==="straight"){const P=h[0];U.matchId=P.matchId,U.selection=P.selection,U.odds=Number(P.odds),U.type=q}else U.selections=h.map(P=>({matchId:P.matchId,selection:P.selection,odds:Number(P.odds),type:P.marketType||"straight"}));try{_(!0),A(!1);const ce=(await Gy(U,V))?.message||"Bet placed successfully";N({type:"success",text:ce}),j(ce,"success"),O(),window.dispatchEvent(new Event("user:refresh")),p&&p()}catch(P){const ce=P.message||"Failed to place bet";N({type:"error",text:ce}),j(ce,"error")}finally{_(!1)}},K=k?{position:"fixed",left:0,right:0,bottom:0,maxHeight:"62vh",zIndex:1200,borderTopLeftRadius:16,borderTopRightRadius:16}:{position:"fixed",right:16,top:150,width:360,maxHeight:"calc(100vh - 170px)",zIndex:1200,borderRadius:14};return ie?e.jsxs("div",{style:{...K,display:"flex",flexDirection:"column",background:"#f8f9fb",border:"1px solid #d9dbe0",overflow:"hidden",boxShadow:"0 8px 24px rgba(0,0,0,0.18)"},children:[e.jsx("div",{style:{background:"#0f5db3",color:"white",padding:"10px 12px"},children:e.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[tp.map(V=>e.jsxs("button",{onClick:()=>d(V.id),style:{flex:1,border:"none",borderRadius:6,padding:"7px 4px",fontSize:11,fontWeight:700,color:Ks(o)===V.id?"#0f5db3":"#ffffff",background:Ks(o)===V.id?"#ffffff":"rgba(255,255,255,0.18)",cursor:"pointer"},children:[V.icon," ",V.label]},V.id)),e.jsx("button",{onClick:()=>je(!1),title:"Minimize",style:{border:"none",background:"rgba(255,255,255,0.2)",color:"#fff",borderRadius:6,width:34,height:34,cursor:"pointer",flexShrink:0},children:e.jsx("i",{className:"fa-solid fa-minus"})})]})}),e.jsxs("div",{style:{padding:12,overflowY:"auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsxs("strong",{children:["Selections (",B,")"]}),e.jsx("button",{onClick:O,style:{border:"none",background:"transparent",color:"#666",cursor:"pointer"},children:"Clear"})]}),B===0&&e.jsx("div",{style:{fontSize:13,color:"#666",padding:"8px 0"},children:"Click odds from the board to add selections."}),h.map(V=>e.jsxs("div",{style:{border:"1px solid #d7dbe3",borderRadius:8,padding:8,marginBottom:8,background:"#fff"},children:[e.jsx("div",{style:{fontSize:12,color:"#555"},children:V.matchName}),e.jsx("div",{style:{fontSize:13,fontWeight:700},children:V.selection}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:4,fontSize:12},children:[e.jsx("span",{children:V.marketLabel}),e.jsx("span",{children:Ur(V.odds)})]}),e.jsx("div",{style:{marginTop:6},children:e.jsx("button",{onClick:()=>te(V.id),style:{border:"none",background:"#f2f3f6",color:"#444",borderRadius:5,padding:"3px 8px",cursor:"pointer",fontSize:11},children:"Remove"})})]},V.id)),e.jsxs("div",{style:{marginTop:10},children:[e.jsx("label",{style:{display:"block",fontSize:12,marginBottom:4},children:"Stake"}),e.jsx("input",{type:"number",min:"0",value:b,onChange:V=>v(V.target.value),placeholder:"0.00",style:{width:"100%",padding:10,borderRadius:8,border:"1px solid #cfd4dd"}}),e.jsxs("div",{style:{fontSize:11,color:"#666",marginTop:4},children:["Balance: $",Ur(r)]})]}),q==="teaser"&&Array.isArray(G.teaserPointOptions)&&G.teaserPointOptions.length>0&&e.jsxs("div",{style:{marginTop:10},children:[e.jsx("label",{style:{display:"block",fontSize:12,marginBottom:4},children:"Teaser Points"}),e.jsxs("select",{value:x,onChange:V=>g(V.target.value),style:{width:"100%",padding:10,borderRadius:8,border:"1px solid #cfd4dd"},children:[e.jsx("option",{value:"",children:"Select points"}),G.teaserPointOptions.map(V=>e.jsx("option",{value:V,children:V},V))]})]}),e.jsxs("div",{style:{marginTop:10,padding:10,borderRadius:8,background:"#eef3fa",fontSize:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Total Risk"}),e.jsxs("strong",{children:["$",Ur(J)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:6},children:[e.jsx("span",{children:"Potential Payout"}),e.jsxs("strong",{children:["$",Ur(D)]})]})]}),$.map(V=>L?e.jsx("div",{style:{color:"#a11",fontSize:12,marginTop:7},children:V},V):null).filter(Boolean),C&&e.jsx("div",{style:{color:C.type==="error"?"#a11":"#0b6623",fontSize:12,marginTop:7},children:C.text}),e.jsx("button",{onClick:Z,disabled:!H,style:{width:"100%",marginTop:12,border:"none",borderRadius:8,padding:"12px 10px",fontWeight:800,color:"white",background:H?"#0f5db3":"#9ca5b3",cursor:H?"pointer":"not-allowed"},children:M?"Placing...":"Place Bet"})]}),e.jsx($0,{isOpen:w,betType:q,selections:h,wager:ee,totalRisk:J,potentialPayout:D,onCancel:()=>A(!1),onConfirm:oe,isSubmitting:M})]}):e.jsx("button",{onClick:()=>je(!0),title:"Open Bet Panel",style:{position:"fixed",right:18,bottom:18,width:58,height:58,borderRadius:"50%",border:"none",background:"#0f5db3",color:"#fff",zIndex:1200,boxShadow:"0 8px 20px rgba(0,0,0,0.28)",cursor:"pointer",fontSize:22,fontWeight:900},children:e.jsx("i",{className:"fa-solid fa-ticket"})})},G0={straight:{minLegs:1,maxLegs:1,teaserPointOptions:[],payoutProfile:{multipliers:{}}},parlay:{minLegs:2,maxLegs:12,teaserPointOptions:[],payoutProfile:{multipliers:{}}},teaser:{minLegs:2,maxLegs:6,teaserPointOptions:[6,6.5,7],payoutProfile:{multipliers:{2:1.8,3:2.6,4:4,5:6.5,6:9.5}}},if_bet:{minLegs:2,maxLegs:2,teaserPointOptions:[],payoutProfile:{multipliers:{}}},reverse:{minLegs:2,maxLegs:2,teaserPointOptions:[],payoutProfile:{multipliers:{}}}};function W0(){const l=Cd(),[r,o]=u.useState(localStorage.getItem("token")||null),[d,h]=u.useState(!!r),[f,b]=u.useState("all"),[v,x]=u.useState("dashboard"),[g,y]=u.useState([]),[p,j]=u.useState("straight"),[C,N]=u.useState([]),[M,_]=u.useState(""),[k,F]=u.useState(""),[L,E]=u.useState(G0),[w,A]=u.useState(!1),[q,G]=u.useState(!1),[B,ee]=u.useState(!1),I=typeof window<"u"&&window.matchMedia&&window.matchMedia("(max-width: 768px)").matches,[S,$]=u.useState(null);u.useEffect(()=>{window.dispatchEvent(new CustomEvent("matches:refresh")),r?(h(!0),document.body.classList.add("dashboard-mode"),D(r)):(h(!1),document.body.classList.remove("dashboard-mode"))},[r]),u.useEffect(()=>{(async()=>{if(r)try{const K=((await Wy(r))?.rules||[]).reduce((V,U)=>(V[Ks(U.mode)]=U,V),{});Object.keys(K).length>0&&E(V=>({...V,...K}))}catch(oe){console.warn("Failed to load bet mode rules:",oe.message)}})()},[r]),u.useEffect(()=>{const Z=oe=>{const K=oe.detail||{};if(!K.matchId||!K.selection)return;const V=Ks(p),U=`${K.matchId}-${K.marketType}-${K.selection}`;N(P=>{if(P.find(Ne=>Ne.dedupeKey===U))return P;const me=[...P,{...K,id:Date.now()+Math.random(),dedupeKey:U}];return V==="straight"?[me[me.length-1]]:me})};return window.addEventListener("betslip:add",Z),()=>window.removeEventListener("betslip:add",Z)},[p]),u.useEffect(()=>{if(S&&(S.role==="admin"||S.role==="agent"||S.role==="super_agent"||S.role==="master_agent")){const Z=S.role==="admin"?"/admin/dashboard":S.role==="super_agent"||S.role==="master_agent"?"/super_agent/dashboard":"/agent/dashboard";l(Z,{replace:!0})}},[S,l]),u.useEffect(()=>{const Z=()=>{r&&D(r)};return window.addEventListener("user:refresh",Z),()=>{window.removeEventListener("user:refresh",Z)}},[r]);const D=async Z=>{try{const oe=await Ga(Z);$(oe)}catch(oe){console.error("Failed to fetch user data",oe),(oe?.status===401||oe?.status===403)&&H()}},J=async(Z,oe)=>{try{const K=await Py(Z,oe);if(o(K.token),localStorage.setItem("token",K.token),localStorage.setItem("userRole",K.role),$({username:K.username,phoneNumber:K.phoneNumber,balance:K.balance,pendingBalance:K.pendingBalance,availableBalance:K.availableBalance,id:K.id,role:K.role,unlimitedBalance:K.unlimitedBalance}),h(!0),document.body.classList.add("dashboard-mode"),K.role==="admin"||K.role==="agent"||K.role==="super_agent"||K.role==="master_agent"){const V=K.role==="admin"?"admin":K.role==="super_agent"||K.role==="master_agent"?"super_agent":"agent";l(`/${V}/dashboard`)}}catch(K){throw K}},H=()=>{o(null),$(null),h(!1),N([]),_(""),F(""),localStorage.removeItem("token"),localStorage.removeItem("userRole"),document.body.classList.remove("dashboard-mode"),je()},W=Z=>{x(Z),A(!1)},ie=Z=>{const oe=Ks(Z);j(oe),oe==="straight"&&N(K=>K.length>0?[K[K.length-1]]:[])},je=()=>{x("dashboard"),y([]),b("all"),ee(!1),A(!1)},te=()=>{ee(!1)},O=Z=>{const oe=new Set(["up-next","featured","commercial-live"]);y(K=>K.includes(Z)?K.filter(U=>U!==Z):oe.has(Z)?[Z]:[...K.filter(U=>!oe.has(U)),Z])};return e.jsx("div",{className:"app-container",children:d?e.jsxs("div",{className:"dashboard-layout",children:[e.jsx(bv,{username:S?.username||"Guest",balance:S?.balance??null,pendingBalance:S?.pendingBalance??null,availableBalance:S?.availableBalance??S?.balance??null,role:S?.role,unlimitedBalance:S?.unlimitedBalance,onLogout:H,onViewChange:W,activeBetMode:p,onBetModeChange:ie,currentView:v,onToggleSidebar:()=>A(!w),selectedSports:g,onContinue:te,isMobileSportsSelectionMode:B,onHomeClick:je}),e.jsxs("div",{className:`dashboard-content-area ${B?"mobile-sports-mode":""}`,style:{position:"relative",marginTop:"0"},children:[w&&e.jsx($v,{onClose:()=>A(!1),onViewChange:W}),v==="dashboard"&&e.jsx(e.Fragment,{children:I&&B?e.jsx(Rf,{selectedSports:g,onToggleSport:O,betMode:p,isOpen:!0,onCloseSidebar:()=>A(!1),isMobileSportsSelectionMode:B}):I&&g&&g.length>0?e.jsx(Hv,{selectedSports:g}):e.jsxs(e.Fragment,{children:[e.jsx(Rf,{selectedSports:g,onToggleSport:O,betMode:p,isOpen:w,onCloseSidebar:()=>A(!1),isMobileSportsSelectionMode:B}),e.jsxs("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column"},children:[q&&e.jsx(qv,{}),e.jsx("div",{style:{flex:1},children:e.jsx(wv,{selectedSports:g,activeBetMode:p})})]})]})}),v==="prime-live"&&e.jsx(Sv,{}),v==="ultra-live"&&e.jsx(Tv,{}),v==="casino"&&e.jsx(Lv,{}),v==="live-casino"&&e.jsx("div",{style:{flex:1,backgroundColor:"#505050",minHeight:"calc(100vh - 125px)"},children:e.jsx(Bv,{})}),v==="props"&&e.jsx(_v,{}),v==="rules"&&e.jsx(zv,{}),v==="bonus"&&e.jsx(Pv,{}),v==="tutorials"&&e.jsx(Yv,{}),v==="support"&&e.jsx(Vv,{}),v==="my-bets"&&e.jsx(Xv,{})]}),e.jsx(Qv,{}),e.jsx("div",{className:"desktop-feedback-trigger",style:{position:"fixed",bottom:"0",left:"0",width:"260px",background:"#004d26",color:"white",padding:"10px",textAlign:"center",fontWeight:"bold",fontSize:"12px",zIndex:100},children:"FEEDBACK"}),d&&S&&S.role==="user"&&e.jsx(q0,{user:S,balance:S.availableBalance??S.balance,mode:p,onModeChange:ie,selections:C,onSelectionsChange:N,wager:M,onWagerChange:_,teaserPoints:k,onTeaserPointsChange:F,rulesByMode:L,onBetPlaced:()=>D(r)}),e.jsx("div",{style:{position:"fixed",bottom:"40px",left:"20px",width:"50px",height:"50px",background:"#a30000",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",zIndex:21,boxShadow:"0 2px 5px rgba(0,0,0,0.3)",border:"2px solid white"},children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"})})})]}):e.jsx(U0,{onLogin:J,isLoggedIn:d})})}const md={width:"32px",height:"32px",borderRadius:"50%",border:"3px solid rgba(255, 255, 255, 0.25)",borderTopColor:"#ffd34d",animation:"spin 0.8s linear infinite"},Y0=()=>{if(typeof document>"u"||document.getElementById("loading-spinner-keyframes"))return;const l=document.createElement("style");l.id="loading-spinner-keyframes",l.textContent="@keyframes spin { to { transform: rotate(360deg); } }",document.head.appendChild(l)},V0=({variant:l="inline",label:r="Loading..."})=>(Y0(),l==="overlay"?e.jsxs("div",{style:{position:"fixed",inset:0,zIndex:9999,background:"rgba(8, 12, 20, 0.78)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"12px"},children:[e.jsx("div",{style:{...md,width:"44px",height:"44px",borderWidth:"4px"}}),e.jsx("div",{style:{color:"#fff",fontSize:"14px",letterSpacing:"0.03em"},children:r})]}):l==="section"?e.jsxs("div",{style:{width:"100%",minHeight:"180px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"10px"},children:[e.jsx("div",{style:md}),e.jsx("div",{style:{color:"#cbd5e1",fontSize:"13px"},children:r})]}):e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{...md,width:"16px",height:"16px",borderWidth:"2px"}}),e.jsx("span",{style:{fontSize:"13px"},children:r})]})),fd=({children:l,allowedRoles:r})=>{const[o,d]=u.useState(!0),[h,f]=u.useState(!1);return u.useEffect(()=>{let b=!0;return(async()=>{try{const x=localStorage.getItem("token");if(!x){b&&(f(!1),d(!1));return}const g=await Ga(x),y=String(g?.role||"").toLowerCase();b&&(f(r.includes(y)),d(!1))}catch{b&&(localStorage.removeItem("token"),localStorage.removeItem("userRole"),f(!1),d(!1))}})(),()=>{b=!1}},[r]),o?e.jsx(V0,{variant:"overlay",label:"Validating session..."}):h?l:e.jsx(oi,{to:"/",replace:!0})},zr=({children:l})=>e.jsx(Yp,{children:l});rb.createRoot(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(I0,{children:e.jsx(Ey,{children:e.jsxs(ny,{children:[e.jsx(bs,{path:"/",element:e.jsx(zr,{children:e.jsx(W0,{})})}),e.jsx(bs,{path:"/admin",element:e.jsx(oi,{to:"/",replace:!0})}),e.jsx(bs,{path:"/agent",element:e.jsx(oi,{to:"/",replace:!0})}),e.jsx(bs,{path:"/super_agent",element:e.jsx(oi,{to:"/",replace:!0})}),e.jsx(bs,{path:"/admin/dashboard",element:e.jsx(zr,{children:e.jsx(fd,{allowedRoles:["admin"],children:e.jsx(hd,{role:"admin",onExit:()=>{localStorage.removeItem("token"),localStorage.removeItem("userRole"),window.location.href="/"}})})})}),e.jsx(bs,{path:"/agent/dashboard",element:e.jsx(zr,{children:e.jsx(fd,{allowedRoles:["agent"],children:e.jsx(hd,{role:"agent",onExit:()=>{localStorage.removeItem("token"),localStorage.removeItem("userRole"),window.location.href="/"}})})})}),e.jsx(bs,{path:"/super_agent/dashboard",element:e.jsx(zr,{children:e.jsx(fd,{allowedRoles:["super_agent","master_agent"],children:e.jsx(hd,{role:"super_agent",onExit:()=>{localStorage.removeItem("token"),localStorage.removeItem("userRole"),window.location.href="/"}})})})}),e.jsx(bs,{path:"*",element:e.jsx(oi,{to:"/",replace:!0})})]})})})}));

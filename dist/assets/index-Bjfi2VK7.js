(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))d(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const b of p.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&d(b)}).observe(document,{childList:!0,subtree:!0});function o(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function d(h){if(h.ep)return;h.ep=!0;const p=o(h);fetch(h.href,p)}})();function qg(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Qc={exports:{}},si={};var cf;function Gg(){if(cf)return si;cf=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(d,h,p){var b=null;if(p!==void 0&&(b=""+p),h.key!==void 0&&(b=""+h.key),"key"in h){p={};for(var w in h)w!=="key"&&(p[w]=h[w])}else p=h;return h=p.ref,{$$typeof:l,type:d,key:b,ref:h!==void 0?h:null,props:p}}return si.Fragment=r,si.jsx=o,si.jsxs=o,si}var df;function Wg(){return df||(df=1,Qc.exports=Gg()),Qc.exports}var e=Wg(),Xc={exports:{}},_e={};var uf;function Yg(){if(uf)return _e;uf=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),b=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),y=Symbol.iterator;function A(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,R={};function k(B,Q,ne){this.props=B,this.context=Q,this.refs=R,this.updater=ne||N}k.prototype.isReactComponent={},k.prototype.setState=function(B,Q){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Q,"setState")},k.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function I(){}I.prototype=k.prototype;function L(B,Q,ne){this.props=B,this.context=Q,this.refs=R,this.updater=ne||N}var C=L.prototype=new I;C.constructor=L,D(C,k.prototype),C.isPureReactComponent=!0;var v=Array.isArray;function E(){}var q={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function _(B,Q,ne){var Z=ne.ref;return{$$typeof:l,type:B,key:Q,ref:Z!==void 0?Z:null,props:ne}}function se(B,Q){return _(B.type,Q,B.props)}function z(B){return typeof B=="object"&&B!==null&&B.$$typeof===l}function S(B){var Q={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ne){return Q[ne]})}var F=/\/+/g;function M(B,Q){return typeof B=="object"&&B!==null&&B.key!=null?S(""+B.key):Q.toString(36)}function K(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(E,E):(B.status="pending",B.then(function(Q){B.status==="pending"&&(B.status="fulfilled",B.value=Q)},function(Q){B.status==="pending"&&(B.status="rejected",B.reason=Q)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function H(B,Q,ne,Z,J){var P=typeof B;(P==="undefined"||P==="boolean")&&(B=null);var $=!1;if(B===null)$=!0;else switch(P){case"bigint":case"string":case"number":$=!0;break;case"object":switch(B.$$typeof){case l:case r:$=!0;break;case j:return $=B._init,H($(B._payload),Q,ne,Z,J)}}if($)return J=J(B),$=Z===""?"."+M(B,0):Z,v(J)?(ne="",$!=null&&(ne=$.replace(F,"$&/")+"/"),H(J,Q,ne,"",function(Ne){return Ne})):J!=null&&(z(J)&&(J=se(J,ne+(J.key==null||B&&B.key===J.key?"":(""+J.key).replace(F,"$&/")+"/")+$)),Q.push(J)),1;$=0;var ue=Z===""?".":Z+":";if(v(B))for(var me=0;me<B.length;me++)Z=B[me],P=ue+M(Z,me),$+=H(Z,Q,ne,P,J);else if(me=A(B),typeof me=="function")for(B=me.call(B),me=0;!(Z=B.next()).done;)Z=Z.value,P=ue+M(Z,me++),$+=H(Z,Q,ne,P,J);else if(P==="object"){if(typeof B.then=="function")return H(K(B),Q,ne,Z,J);throw Q=String(B),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return $}function G(B,Q,ne){if(B==null)return B;var Z=[],J=0;return H(B,Z,"","",function(P){return Q.call(ne,P,J++)}),Z}function re(B){if(B._status===-1){var Q=B._result;Q=Q(),Q.then(function(ne){(B._status===0||B._status===-1)&&(B._status=1,B._result=ne)},function(ne){(B._status===0||B._status===-1)&&(B._status=2,B._result=ne)}),B._status===-1&&(B._status=0,B._result=Q)}if(B._status===1)return B._result.default;throw B._result}var je=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},ee={map:G,forEach:function(B,Q,ne){G(B,function(){Q.apply(this,arguments)},ne)},count:function(B){var Q=0;return G(B,function(){Q++}),Q},toArray:function(B){return G(B,function(Q){return Q})||[]},only:function(B){if(!z(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return _e.Activity=f,_e.Children=ee,_e.Component=k,_e.Fragment=o,_e.Profiler=h,_e.PureComponent=L,_e.StrictMode=d,_e.Suspense=x,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,_e.__COMPILER_RUNTIME={__proto__:null,c:function(B){return q.H.useMemoCache(B)}},_e.cache=function(B){return function(){return B.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(B,Q,ne){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var Z=D({},B.props),J=B.key;if(Q!=null)for(P in Q.key!==void 0&&(J=""+Q.key),Q)!V.call(Q,P)||P==="key"||P==="__self"||P==="__source"||P==="ref"&&Q.ref===void 0||(Z[P]=Q[P]);var P=arguments.length-2;if(P===1)Z.children=ne;else if(1<P){for(var $=Array(P),ue=0;ue<P;ue++)$[ue]=arguments[ue+2];Z.children=$}return _(B.type,J,Z)},_e.createContext=function(B){return B={$$typeof:b,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:p,_context:B},B},_e.createElement=function(B,Q,ne){var Z,J={},P=null;if(Q!=null)for(Z in Q.key!==void 0&&(P=""+Q.key),Q)V.call(Q,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(J[Z]=Q[Z]);var $=arguments.length-2;if($===1)J.children=ne;else if(1<$){for(var ue=Array($),me=0;me<$;me++)ue[me]=arguments[me+2];J.children=ue}if(B&&B.defaultProps)for(Z in $=B.defaultProps,$)J[Z]===void 0&&(J[Z]=$[Z]);return _(B,P,J)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(B){return{$$typeof:w,render:B}},_e.isValidElement=z,_e.lazy=function(B){return{$$typeof:j,_payload:{_status:-1,_result:B},_init:re}},_e.memo=function(B,Q){return{$$typeof:g,type:B,compare:Q===void 0?null:Q}},_e.startTransition=function(B){var Q=q.T,ne={};q.T=ne;try{var Z=B(),J=q.S;J!==null&&J(ne,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(E,je)}catch(P){je(P)}finally{Q!==null&&ne.types!==null&&(Q.types=ne.types),q.T=Q}},_e.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},_e.use=function(B){return q.H.use(B)},_e.useActionState=function(B,Q,ne){return q.H.useActionState(B,Q,ne)},_e.useCallback=function(B,Q){return q.H.useCallback(B,Q)},_e.useContext=function(B){return q.H.useContext(B)},_e.useDebugValue=function(){},_e.useDeferredValue=function(B,Q){return q.H.useDeferredValue(B,Q)},_e.useEffect=function(B,Q){return q.H.useEffect(B,Q)},_e.useEffectEvent=function(B){return q.H.useEffectEvent(B)},_e.useId=function(){return q.H.useId()},_e.useImperativeHandle=function(B,Q,ne){return q.H.useImperativeHandle(B,Q,ne)},_e.useInsertionEffect=function(B,Q){return q.H.useInsertionEffect(B,Q)},_e.useLayoutEffect=function(B,Q){return q.H.useLayoutEffect(B,Q)},_e.useMemo=function(B,Q){return q.H.useMemo(B,Q)},_e.useOptimistic=function(B,Q){return q.H.useOptimistic(B,Q)},_e.useReducer=function(B,Q,ne){return q.H.useReducer(B,Q,ne)},_e.useRef=function(B){return q.H.useRef(B)},_e.useState=function(B){return q.H.useState(B)},_e.useSyncExternalStore=function(B,Q,ne){return q.H.useSyncExternalStore(B,Q,ne)},_e.useTransition=function(){return q.H.useTransition()},_e.version="19.2.4",_e}var hf;function gd(){return hf||(hf=1,Xc.exports=Yg()),Xc.exports}var u=gd();const ys=qg(u);var Zc={exports:{}},ni={},Jc={exports:{}},Kc={};var mf;function Vg(){return mf||(mf=1,(function(l){function r(H,G){var re=H.length;H.push(G);e:for(;0<re;){var je=re-1>>>1,ee=H[je];if(0<h(ee,G))H[je]=G,H[re]=ee,re=je;else break e}}function o(H){return H.length===0?null:H[0]}function d(H){if(H.length===0)return null;var G=H[0],re=H.pop();if(re!==G){H[0]=re;e:for(var je=0,ee=H.length,B=ee>>>1;je<B;){var Q=2*(je+1)-1,ne=H[Q],Z=Q+1,J=H[Z];if(0>h(ne,re))Z<ee&&0>h(J,ne)?(H[je]=J,H[Z]=re,je=Z):(H[je]=ne,H[Q]=re,je=Q);else if(Z<ee&&0>h(J,re))H[je]=J,H[Z]=re,je=Z;else break e}}return G}function h(H,G){var re=H.sortIndex-G.sortIndex;return re!==0?re:H.id-G.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;l.unstable_now=function(){return p.now()}}else{var b=Date,w=b.now();l.unstable_now=function(){return b.now()-w}}var x=[],g=[],j=1,f=null,y=3,A=!1,N=!1,D=!1,R=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function C(H){for(var G=o(g);G!==null;){if(G.callback===null)d(g);else if(G.startTime<=H)d(g),G.sortIndex=G.expirationTime,r(x,G);else break;G=o(g)}}function v(H){if(D=!1,C(H),!N)if(o(x)!==null)N=!0,E||(E=!0,S());else{var G=o(g);G!==null&&K(v,G.startTime-H)}}var E=!1,q=-1,V=5,_=-1;function se(){return R?!0:!(l.unstable_now()-_<V)}function z(){if(R=!1,E){var H=l.unstable_now();_=H;var G=!0;try{e:{N=!1,D&&(D=!1,I(q),q=-1),A=!0;var re=y;try{t:{for(C(H),f=o(x);f!==null&&!(f.expirationTime>H&&se());){var je=f.callback;if(typeof je=="function"){f.callback=null,y=f.priorityLevel;var ee=je(f.expirationTime<=H);if(H=l.unstable_now(),typeof ee=="function"){f.callback=ee,C(H),G=!0;break t}f===o(x)&&d(x),C(H)}else d(x);f=o(x)}if(f!==null)G=!0;else{var B=o(g);B!==null&&K(v,B.startTime-H),G=!1}}break e}finally{f=null,y=re,A=!1}G=void 0}}finally{G?S():E=!1}}}var S;if(typeof L=="function")S=function(){L(z)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,M=F.port2;F.port1.onmessage=z,S=function(){M.postMessage(null)}}else S=function(){k(z,0)};function K(H,G){q=k(function(){H(l.unstable_now())},G)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(H){H.callback=null},l.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<H?Math.floor(1e3/H):5},l.unstable_getCurrentPriorityLevel=function(){return y},l.unstable_next=function(H){switch(y){case 1:case 2:case 3:var G=3;break;default:G=y}var re=y;y=G;try{return H()}finally{y=re}},l.unstable_requestPaint=function(){R=!0},l.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=y;y=H;try{return G()}finally{y=re}},l.unstable_scheduleCallback=function(H,G,re){var je=l.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?je+re:je):re=je,H){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=re+ee,H={id:j++,callback:G,priorityLevel:H,startTime:re,expirationTime:ee,sortIndex:-1},re>je?(H.sortIndex=re,r(g,H),o(x)===null&&H===o(g)&&(D?(I(q),q=-1):D=!0,K(v,re-je))):(H.sortIndex=ee,r(x,H),N||A||(N=!0,E||(E=!0,S()))),H},l.unstable_shouldYield=se,l.unstable_wrapCallback=function(H){var G=y;return function(){var re=y;y=G;try{return H.apply(this,arguments)}finally{y=re}}}})(Kc)),Kc}var ff;function Qg(){return ff||(ff=1,Jc.exports=Vg()),Jc.exports}var ed={exports:{}},zt={};var pf;function Xg(){if(pf)return zt;pf=1;var l=gd();function r(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var j=2;j<arguments.length;j++)g+="&args[]="+encodeURIComponent(arguments[j])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var d={d:{f:o,r:function(){throw Error(r(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},h=Symbol.for("react.portal");function p(x,g,j){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:f==null?null:""+f,children:x,containerInfo:g,implementation:j}}var b=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function w(x,g){if(x==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,zt.createPortal=function(x,g){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(r(299));return p(x,g,null,j)},zt.flushSync=function(x){var g=b.T,j=d.p;try{if(b.T=null,d.p=2,x)return x()}finally{b.T=g,d.p=j,d.d.f()}},zt.preconnect=function(x,g){typeof x=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,d.d.C(x,g))},zt.prefetchDNS=function(x){typeof x=="string"&&d.d.D(x)},zt.preinit=function(x,g){if(typeof x=="string"&&g&&typeof g.as=="string"){var j=g.as,f=w(j,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;j==="style"?d.d.S(x,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:f,integrity:y,fetchPriority:A}):j==="script"&&d.d.X(x,{crossOrigin:f,integrity:y,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},zt.preinitModule=function(x,g){if(typeof x=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var j=w(g.as,g.crossOrigin);d.d.M(x,{crossOrigin:j,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&d.d.M(x)},zt.preload=function(x,g){if(typeof x=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var j=g.as,f=w(j,g.crossOrigin);d.d.L(x,j,{crossOrigin:f,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},zt.preloadModule=function(x,g){if(typeof x=="string")if(g){var j=w(g.as,g.crossOrigin);d.d.m(x,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:j,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else d.d.m(x)},zt.requestFormReset=function(x){d.d.r(x)},zt.unstable_batchedUpdates=function(x,g){return x(g)},zt.useFormState=function(x,g,j){return b.H.useFormState(x,g,j)},zt.useFormStatus=function(){return b.H.useHostTransitionStatus()},zt.version="19.2.4",zt}var xf;function Xf(){if(xf)return ed.exports;xf=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),ed.exports=Xg(),ed.exports}var gf;function Zg(){if(gf)return ni;gf=1;var l=Qg(),r=gd(),o=Xf();function d(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function b(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function w(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function x(t){if(p(t)!==t)throw Error(d(188))}function g(t){var a=t.alternate;if(!a){if(a=p(t),a===null)throw Error(d(188));return a!==t?null:t}for(var s=t,n=a;;){var i=s.return;if(i===null)break;var c=i.alternate;if(c===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===c.child){for(c=i.child;c;){if(c===s)return x(i),t;if(c===n)return x(i),a;c=c.sibling}throw Error(d(188))}if(s.return!==n.return)s=i,n=c;else{for(var m=!1,T=i.child;T;){if(T===s){m=!0,s=i,n=c;break}if(T===n){m=!0,n=i,s=c;break}T=T.sibling}if(!m){for(T=c.child;T;){if(T===s){m=!0,s=c,n=i;break}if(T===n){m=!0,n=c,s=i;break}T=T.sibling}if(!m)throw Error(d(189))}}if(s.alternate!==n)throw Error(d(190))}if(s.tag!==3)throw Error(d(188));return s.stateNode.current===s?t:a}function j(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=j(t),a!==null)return a;t=t.sibling}return null}var f=Object.assign,y=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),L=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function S(t){return t===null||typeof t!="object"?null:(t=z&&t[z]||t["@@iterator"],typeof t=="function"?t:null)}var F=Symbol.for("react.client.reference");function M(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===F?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case k:return"Profiler";case R:return"StrictMode";case v:return"Suspense";case E:return"SuspenseList";case _:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case L:return t.displayName||"Context";case I:return(t._context.displayName||"Context")+".Consumer";case C:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return a=t.displayName||null,a!==null?a:M(t.type)||"Memo";case V:a=t._payload,t=t._init;try{return M(t(a))}catch{}}return null}var K=Array.isArray,H=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},je=[],ee=-1;function B(t){return{current:t}}function Q(t){0>ee||(t.current=je[ee],je[ee]=null,ee--)}function ne(t,a){ee++,je[ee]=t.current,t.current=a}var Z=B(null),J=B(null),P=B(null),$=B(null);function ue(t,a){switch(ne(P,a),ne(J,t),ne(Z,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?Mm(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=Mm(a),t=Dm(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(Z),ne(Z,t)}function me(){Q(Z),Q(J),Q(P)}function Ne(t){t.memoizedState!==null&&ne($,t);var a=Z.current,s=Dm(a,t.type);a!==s&&(ne(J,t),ne(Z,s))}function we(t){J.current===t&&(Q(Z),Q(J)),$.current===t&&(Q($),Kl._currentValue=re)}var Ce,Me;function Re(t){if(Ce===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Ce=a&&a[1]||"",Me=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+t+Me}var st=!1;function Ke(t,a){if(!t||st)return"";st=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(a){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(de){var oe=de}Reflect.construct(t,[],pe)}else{try{pe.call()}catch(de){oe=de}t.call(pe.prototype)}}else{try{throw Error()}catch(de){oe=de}(pe=t())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(de){if(de&&oe&&typeof de.stack=="string")return[de.stack,oe.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=n.DetermineComponentFrameRoot(),m=c[0],T=c[1];if(m&&T){var W=m.split(`
`),ie=T.split(`
`);for(i=n=0;n<W.length&&!W[n].includes("DetermineComponentFrameRoot");)n++;for(;i<ie.length&&!ie[i].includes("DetermineComponentFrameRoot");)i++;if(n===W.length||i===ie.length)for(n=W.length-1,i=ie.length-1;1<=n&&0<=i&&W[n]!==ie[i];)i--;for(;1<=n&&0<=i;n--,i--)if(W[n]!==ie[i]){if(n!==1||i!==1)do if(n--,i--,0>i||W[n]!==ie[i]){var he=`
`+W[n].replace(" at new "," at ");return t.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",t.displayName)),he}while(1<=n&&0<=i);break}}}finally{st=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Re(s):""}function mt(t,a){switch(t.tag){case 26:case 27:case 5:return Re(t.type);case 16:return Re("Lazy");case 13:return t.child!==a&&a!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return Ke(t.type,!1);case 11:return Ke(t.type.render,!1);case 1:return Ke(t.type,!0);case 31:return Re("Activity");default:return""}}function vt(t){try{var a="",s=null;do a+=mt(t,s),s=t,t=t.return;while(t);return a}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Be=Object.prototype.hasOwnProperty,ft=l.unstable_scheduleCallback,Gt=l.unstable_cancelCallback,Ut=l.unstable_shouldYield,ta=l.unstable_requestPaint,At=l.unstable_now,ml=l.unstable_getCurrentPriorityLevel,Wa=l.unstable_ImmediatePriority,Ya=l.unstable_UserBlockingPriority,pt=l.unstable_NormalPriority,ws=l.unstable_LowPriority,Ra=l.unstable_IdlePriority,Ss=l.log,fl=l.unstable_setDisableYieldValue,Dt=null,Tt=null;function ma(t){if(typeof Ss=="function"&&fl(t),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Dt,t)}catch{}}var Nt=Math.clz32?Math.clz32:Cs,an=Math.log,ks=Math.LN2;function Cs(t){return t>>>=0,t===0?32:31-(an(t)/ks|0)|0}var Va=256,Oa=262144,Qa=4194304;function Lt(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xt(t,a,s){var n=t.pendingLanes;if(n===0)return 0;var i=0,c=t.suspendedLanes,m=t.pingedLanes;t=t.warmLanes;var T=n&134217727;return T!==0?(n=T&~c,n!==0?i=Lt(n):(m&=T,m!==0?i=Lt(m):s||(s=T&~t,s!==0&&(i=Lt(s))))):(T=n&~c,T!==0?i=Lt(T):m!==0?i=Lt(m):s||(s=n&~t,s!==0&&(i=Lt(s)))),i===0?0:a!==0&&a!==i&&(a&c)===0&&(c=i&-i,s=a&-a,c>=s||c===32&&(s&4194048)!==0)?a:i}function Ca(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function sn(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aa(){var t=Qa;return Qa<<=1,(Qa&62914560)===0&&(Qa=4194304),t}function fa(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function It(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ft(t,a,s,n,i,c){var m=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,W=t.expirationTimes,ie=t.hiddenUpdates;for(s=m&~s;0<s;){var he=31-Nt(s),pe=1<<he;T[he]=0,W[he]=-1;var oe=ie[he];if(oe!==null)for(ie[he]=null,he=0;he<oe.length;he++){var de=oe[he];de!==null&&(de.lane&=-536870913)}s&=~pe}n!==0&&Ua(t,n,0),c!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=c&~(m&~a))}function Ua(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var n=31-Nt(a);t.entangledLanes|=a,t.entanglements[n]=t.entanglements[n]|1073741824|s&261930}function Ea(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var n=31-Nt(s),i=1<<n;i&a|t[n]&a&&(t[n]|=a),s&=~i}}function As(t,a){var s=a&-a;return s=(s&42)!==0?1:aa(s),(s&(t.suspendedLanes|a))!==0?0:s}function aa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function pa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Le(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:tf(t.type))}function Xa(t,a){var s=G.p;try{return G.p=t,a()}finally{G.p=s}}var Pt=Math.random().toString(36).slice(2),ut="__reactFiber$"+Pt,ht="__reactProps$"+Pt,lt="__reactContainer$"+Pt,Ta="__reactEvents$"+Pt,nn="__reactListeners$"+Pt,kn="__reactHandles$"+Pt,sa="__reactResources$"+Pt,Za="__reactMarker$"+Pt;function Ja(t){delete t[ut],delete t[ht],delete t[Ta],delete t[nn],delete t[kn]}function za(t){var a=t[ut];if(a)return a;for(var s=t.parentNode;s;){if(a=s[lt]||s[ut]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=Im(t);t!==null;){if(s=t[ut])return s;t=Im(t)}return a}t=s,s=t.parentNode}return null}function O(t){if(t=t[ut]||t[lt]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function te(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(d(33))}function Y(t){var a=t[sa];return a||(a=t[sa]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ce(t){t[Za]=!0}var be=new Set,ve={};function Ae(t,a){Ge(t,a),Ge(t+"Capture",a)}function Ge(t,a){for(ve[t]=a,t=0;t<a.length;t++)be.add(a[t])}var Ht=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wt={},pi={};function qr(t){return Be.call(pi,t)?!0:Be.call(Wt,t)?!1:Ht.test(t)?pi[t]=!0:(Wt[t]=!0,!1)}function ln(t,a,s){if(qr(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var n=a.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function Cn(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function La(t,a,s,n){if(n===null)t.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+n)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function U(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ye(t,a,s){var n=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,c=n.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return i.call(this)},set:function(m){s=""+m,c.call(this,m)}}),Object.defineProperty(t,a,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Ee(t){if(!t._valueTracker){var a=U(t)?"checked":"value";t._valueTracker=ye(t,a,""+t[a])}}function Ve(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),n="";return t&&(n=U(t)?t.checked?"true":"false":t.value),t=n,t!==s?(a.setValue(t),!0):!1}function $e(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ze=/[\n"\\]/g;function Qe(t){return t.replace(ze,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function it(t,a,s,n,i,c,m,T){t.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.type=m:t.removeAttribute("type"),a!=null?m==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Yt(a)):t.value!==""+Yt(a)&&(t.value=""+Yt(a)):m!=="submit"&&m!=="reset"||t.removeAttribute("value"),a!=null?Vt(t,m,Yt(a)):s!=null?Vt(t,m,Yt(s)):n!=null&&t.removeAttribute("value"),i==null&&c!=null&&(t.defaultChecked=!!c),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Yt(T):t.removeAttribute("name")}function $t(t,a,s,n,i,c,m,T){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(t.type=c),a!=null||s!=null){if(!(c!=="submit"&&c!=="reset"||a!=null)){Ee(t);return}s=s!=null?""+Yt(s):"",a=a!=null?""+Yt(a):s,T||a===t.value||(t.value=a),t.defaultValue=a}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=T?t.checked:!!n,t.defaultChecked=!!n,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.name=m),Ee(t)}function Vt(t,a,s){a==="number"&&$e(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function na(t,a,s,n){if(t=t.options,a){a={};for(var i=0;i<s.length;i++)a["$"+s[i]]=!0;for(s=0;s<t.length;s++)i=a.hasOwnProperty("$"+t[s].value),t[s].selected!==i&&(t[s].selected=i),i&&n&&(t[s].defaultSelected=!0)}else{for(s=""+Yt(s),a=null,i=0;i<t.length;i++){if(t[i].value===s){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}a!==null||t[i].disabled||(a=t[i])}a!==null&&(a.selected=!0)}}function Ka(t,a,s){if(a!=null&&(a=""+Yt(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+Yt(s):""}function xi(t,a,s,n){if(a==null){if(n!=null){if(s!=null)throw Error(d(92));if(K(n)){if(1<n.length)throw Error(d(93));n=n[0]}s=n}s==null&&(s=""),a=s}s=Yt(a),t.defaultValue=s,n=t.textContent,n===s&&n!==""&&n!==null&&(t.value=n),Ee(t)}function Ia(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var gi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bi(t,a,s){var n=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?n?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":n?t.setProperty(a,s):typeof s!="number"||s===0||gi.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function pl(t,a,s){if(a!=null&&typeof a!="object")throw Error(d(62));if(t=t.style,s!=null){for(var n in s)!s.hasOwnProperty(n)||a!=null&&a.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var i in a)n=a[i],a.hasOwnProperty(i)&&s[i]!==n&&bi(t,i,n)}else for(var c in a)a.hasOwnProperty(c)&&bi(t,c,a[c])}function An(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yi=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ji(t){return Pp.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function es(){}var Gr=null;function Wr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var En=null,Tn=null;function Ld(t){var a=O(t);if(a&&(t=a.stateNode)){var s=t[ht]||null;e:switch(t=a.stateNode,a.type){case"input":if(it(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Qe(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var n=s[a];if(n!==t&&n.form===t.form){var i=n[ht]||null;if(!i)throw Error(d(90));it(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(a=0;a<s.length;a++)n=s[a],n.form===t.form&&Ve(n)}break e;case"textarea":Ka(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&na(t,!!s.multiple,a,!1)}}}var Yr=!1;function Md(t,a,s){if(Yr)return t(a,s);Yr=!0;try{var n=t(a);return n}finally{if(Yr=!1,(En!==null||Tn!==null)&&(rr(),En&&(a=En,t=Tn,Tn=En=null,Ld(a),t)))for(a=0;a<t.length;a++)Ld(t[a])}}function xl(t,a){var s=t.stateNode;if(s===null)return null;var n=s[ht]||null;if(n===null)return null;s=n[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(d(231,a,typeof s));return s}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(ts)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{Vr=!1}var Es=null,Qr=null,vi=null;function Dd(){if(vi)return vi;var t,a=Qr,s=a.length,n,i="value"in Es?Es.value:Es.textContent,c=i.length;for(t=0;t<s&&a[t]===i[t];t++);var m=s-t;for(n=1;n<=m&&a[s-n]===i[c-n];n++);return vi=i.slice(t,1<n?1-n:void 0)}function Ni(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function wi(){return!0}function Bd(){return!1}function Qt(t){function a(s,n,i,c,m){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(c):c[T]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?wi:Bd,this.isPropagationStopped=Bd,this}return f(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),a}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Qt(rn),bl=f({},rn,{view:0,detail:0}),Hp=Qt(bl),Xr,Zr,yl,ki=f({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yl&&(yl&&t.type==="mousemove"?(Xr=t.screenX-yl.screenX,Zr=t.screenY-yl.screenY):Zr=Xr=0,yl=t),Xr)},movementY:function(t){return"movementY"in t?t.movementY:Zr}}),_d=Qt(ki),$p=f({},ki,{dataTransfer:0}),qp=Qt($p),Gp=f({},bl,{relatedTarget:0}),Jr=Qt(Gp),Wp=f({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),Yp=Qt(Wp),Vp=f({},rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qp=Qt(Vp),Xp=f({},rn,{data:0}),Rd=Qt(Xp),Zp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ex(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Kp[t])?!!a[t]:!1}function Kr(){return ex}var tx=f({},bl,{key:function(t){if(t.key){var a=Zp[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Ni(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(t){return t.type==="keypress"?Ni(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ni(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ax=Qt(tx),sx=f({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Od=Qt(sx),nx=f({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),lx=Qt(nx),ix=f({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),rx=Qt(ix),ox=f({},ki,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cx=Qt(ox),dx=f({},rn,{newState:0,oldState:0}),ux=Qt(dx),hx=[9,13,27,32],eo=ts&&"CompositionEvent"in window,jl=null;ts&&"documentMode"in document&&(jl=document.documentMode);var mx=ts&&"TextEvent"in window&&!jl,Ud=ts&&(!eo||jl&&8<jl&&11>=jl),zd=" ",Id=!1;function Fd(t,a){switch(t){case"keyup":return hx.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ln=!1;function fx(t,a){switch(t){case"compositionend":return Pd(a);case"keypress":return a.which!==32?null:(Id=!0,zd);case"textInput":return t=a.data,t===zd&&Id?null:t;default:return null}}function px(t,a){if(Ln)return t==="compositionend"||!eo&&Fd(t,a)?(t=Dd(),vi=Qr=Es=null,Ln=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ud&&a.locale!=="ko"?null:a.data;default:return null}}var xx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!xx[t.type]:a==="textarea"}function $d(t,a,s,n){En?Tn?Tn.push(n):Tn=[n]:En=n,a=fr(a,"onChange"),0<a.length&&(s=new Si("onChange","change",null,s,n),t.push({event:s,listeners:a}))}var vl=null,Nl=null;function gx(t){km(t,0)}function Ci(t){var a=te(t);if(Ve(a))return t}function qd(t,a){if(t==="change")return a}var Gd=!1;if(ts){var to;if(ts){var ao="oninput"in document;if(!ao){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),ao=typeof Wd.oninput=="function"}to=ao}else to=!1;Gd=to&&(!document.documentMode||9<document.documentMode)}function Yd(){vl&&(vl.detachEvent("onpropertychange",Vd),Nl=vl=null)}function Vd(t){if(t.propertyName==="value"&&Ci(Nl)){var a=[];$d(a,Nl,t,Wr(t)),Md(gx,a)}}function bx(t,a,s){t==="focusin"?(Yd(),vl=a,Nl=s,vl.attachEvent("onpropertychange",Vd)):t==="focusout"&&Yd()}function yx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ci(Nl)}function jx(t,a){if(t==="click")return Ci(a)}function vx(t,a){if(t==="input"||t==="change")return Ci(a)}function Nx(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var la=typeof Object.is=="function"?Object.is:Nx;function wl(t,a){if(la(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),n=Object.keys(a);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!Be.call(a,i)||!la(t[i],a[i]))return!1}return!0}function Qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xd(t,a){var s=Qd(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=a&&n>=a)return{node:s,offset:a-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Qd(s)}}function Zd(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Zd(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=$e(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=$e(t.document)}return a}function so(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var wx=ts&&"documentMode"in document&&11>=document.documentMode,Mn=null,no=null,Sl=null,lo=!1;function Kd(t,a,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;lo||Mn==null||Mn!==$e(n)||(n=Mn,"selectionStart"in n&&so(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sl&&wl(Sl,n)||(Sl=n,n=fr(no,"onSelect"),0<n.length&&(a=new Si("onSelect","select",null,a,s),t.push({event:a,listeners:n}),a.target=Mn)))}function on(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var Dn={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionrun:on("Transition","TransitionRun"),transitionstart:on("Transition","TransitionStart"),transitioncancel:on("Transition","TransitionCancel"),transitionend:on("Transition","TransitionEnd")},io={},eu={};ts&&(eu=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function cn(t){if(io[t])return io[t];if(!Dn[t])return t;var a=Dn[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in eu)return io[t]=a[s];return t}var tu=cn("animationend"),au=cn("animationiteration"),su=cn("animationstart"),Sx=cn("transitionrun"),kx=cn("transitionstart"),Cx=cn("transitioncancel"),nu=cn("transitionend"),lu=new Map,ro="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ro.push("scrollEnd");function Ma(t,a){lu.set(t,a),Ae(a,[t])}var Ai=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xa=[],Bn=0,oo=0;function Ei(){for(var t=Bn,a=oo=Bn=0;a<t;){var s=xa[a];xa[a++]=null;var n=xa[a];xa[a++]=null;var i=xa[a];xa[a++]=null;var c=xa[a];if(xa[a++]=null,n!==null&&i!==null){var m=n.pending;m===null?i.next=i:(i.next=m.next,m.next=i),n.pending=i}c!==0&&iu(s,i,c)}}function Ti(t,a,s,n){xa[Bn++]=t,xa[Bn++]=a,xa[Bn++]=s,xa[Bn++]=n,oo|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function co(t,a,s,n){return Ti(t,a,s,n),Li(t)}function dn(t,a){return Ti(t,null,null,a),Li(t)}function iu(t,a,s){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s);for(var i=!1,c=t.return;c!==null;)c.childLanes|=s,n=c.alternate,n!==null&&(n.childLanes|=s),c.tag===22&&(t=c.stateNode,t===null||t._visibility&1||(i=!0)),t=c,c=c.return;return t.tag===3?(c=t.stateNode,i&&a!==null&&(i=31-Nt(s),t=c.hiddenUpdates,n=t[i],n===null?t[i]=[a]:n.push(a),a.lane=s|536870912),c):null}function Li(t){if(50<Wl)throw Wl=0,yc=null,Error(d(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var _n={};function Ax(t,a,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(t,a,s,n){return new Ax(t,a,s,n)}function uo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function as(t,a){var s=t.alternate;return s===null?(s=ia(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function ru(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Mi(t,a,s,n,i,c){var m=0;if(n=t,typeof t=="function")uo(t)&&(m=1);else if(typeof t=="string")m=Dg(t,s,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case _:return t=ia(31,s,a,i),t.elementType=_,t.lanes=c,t;case D:return un(s.children,i,c,a);case R:m=8,i|=24;break;case k:return t=ia(12,s,a,i|2),t.elementType=k,t.lanes=c,t;case v:return t=ia(13,s,a,i),t.elementType=v,t.lanes=c,t;case E:return t=ia(19,s,a,i),t.elementType=E,t.lanes=c,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L:m=10;break e;case I:m=9;break e;case C:m=11;break e;case q:m=14;break e;case V:m=16,n=null;break e}m=29,s=Error(d(130,t===null?"null":typeof t,"")),n=null}return a=ia(m,s,a,i),a.elementType=t,a.type=n,a.lanes=c,a}function un(t,a,s,n){return t=ia(7,t,n,a),t.lanes=s,t}function ho(t,a,s){return t=ia(6,t,null,a),t.lanes=s,t}function ou(t){var a=ia(18,null,null,0);return a.stateNode=t,a}function mo(t,a,s){return a=ia(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var cu=new WeakMap;function ga(t,a){if(typeof t=="object"&&t!==null){var s=cu.get(t);return s!==void 0?s:(a={value:t,source:a,stack:vt(a)},cu.set(t,a),a)}return{value:t,source:a,stack:vt(a)}}var Rn=[],On=0,Di=null,kl=0,ba=[],ya=0,Ts=null,Fa=1,Pa="";function ss(t,a){Rn[On++]=kl,Rn[On++]=Di,Di=t,kl=a}function du(t,a,s){ba[ya++]=Fa,ba[ya++]=Pa,ba[ya++]=Ts,Ts=t;var n=Fa;t=Pa;var i=32-Nt(n)-1;n&=~(1<<i),s+=1;var c=32-Nt(a)+i;if(30<c){var m=i-i%5;c=(n&(1<<m)-1).toString(32),n>>=m,i-=m,Fa=1<<32-Nt(a)+i|s<<i|n,Pa=c+t}else Fa=1<<c|s<<i|n,Pa=t}function fo(t){t.return!==null&&(ss(t,1),du(t,1,0))}function po(t){for(;t===Di;)Di=Rn[--On],Rn[On]=null,kl=Rn[--On],Rn[On]=null;for(;t===Ts;)Ts=ba[--ya],ba[ya]=null,Pa=ba[--ya],ba[ya]=null,Fa=ba[--ya],ba[ya]=null}function uu(t,a){ba[ya++]=Fa,ba[ya++]=Pa,ba[ya++]=Ts,Fa=a.id,Pa=a.overflow,Ts=t}var Bt=null,rt=null,qe=!1,Ls=null,ja=!1,xo=Error(d(519));function Ms(t){var a=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cl(ga(a,t)),xo}function hu(t){var a=t.stateNode,s=t.type,n=t.memoizedProps;switch(a[ut]=t,a[ht]=n,s){case"dialog":Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":case"embed":Fe("load",a);break;case"video":case"audio":for(s=0;s<Vl.length;s++)Fe(Vl[s],a);break;case"source":Fe("error",a);break;case"img":case"image":case"link":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"input":Fe("invalid",a),$t(a,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Fe("invalid",a);break;case"textarea":Fe("invalid",a),xi(a,n.value,n.defaultValue,n.children)}s=n.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||n.suppressHydrationWarning===!0||Tm(a.textContent,s)?(n.popover!=null&&(Fe("beforetoggle",a),Fe("toggle",a)),n.onScroll!=null&&Fe("scroll",a),n.onScrollEnd!=null&&Fe("scrollend",a),n.onClick!=null&&(a.onclick=es),a=!0):a=!1,a||Ms(t,!0)}function mu(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:ja=!1;return;case 27:case 3:ja=!0;return;default:Bt=Bt.return}}function Un(t){if(t!==Bt)return!1;if(!qe)return mu(t),qe=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||_c(t.type,t.memoizedProps)),s=!s),s&&rt&&Ms(t),mu(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));rt=zm(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));rt=zm(t)}else a===27?(a=rt,Gs(t.type)?(t=Ic,Ic=null,rt=t):rt=a):rt=Bt?Na(t.stateNode.nextSibling):null;return!0}function hn(){rt=Bt=null,qe=!1}function go(){var t=Ls;return t!==null&&(Kt===null?Kt=t:Kt.push.apply(Kt,t),Ls=null),t}function Cl(t){Ls===null?Ls=[t]:Ls.push(t)}var bo=B(null),mn=null,ns=null;function Ds(t,a,s){ne(bo,a._currentValue),a._currentValue=s}function ls(t){t._currentValue=bo.current,Q(bo)}function yo(t,a,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,n!==null&&(n.childLanes|=a)):n!==null&&(n.childLanes&a)!==a&&(n.childLanes|=a),t===s)break;t=t.return}}function jo(t,a,s,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){var m=i.child;c=c.firstContext;e:for(;c!==null;){var T=c;c=i;for(var W=0;W<a.length;W++)if(T.context===a[W]){c.lanes|=s,T=c.alternate,T!==null&&(T.lanes|=s),yo(c.return,s,t),n||(m=null);break e}c=T.next}}else if(i.tag===18){if(m=i.return,m===null)throw Error(d(341));m.lanes|=s,c=m.alternate,c!==null&&(c.lanes|=s),yo(m,s,t),m=null}else m=i.child;if(m!==null)m.return=i;else for(m=i;m!==null;){if(m===t){m=null;break}if(i=m.sibling,i!==null){i.return=m.return,m=i;break}m=m.return}i=m}}function zn(t,a,s,n){t=null;for(var i=a,c=!1;i!==null;){if(!c){if((i.flags&524288)!==0)c=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var m=i.alternate;if(m===null)throw Error(d(387));if(m=m.memoizedProps,m!==null){var T=i.type;la(i.pendingProps.value,m.value)||(t!==null?t.push(T):t=[T])}}else if(i===$.current){if(m=i.alternate,m===null)throw Error(d(387));m.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}i=i.return}t!==null&&jo(a,t,s,n),a.flags|=262144}function Bi(t){for(t=t.firstContext;t!==null;){if(!la(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fn(t){mn=t,ns=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _t(t){return fu(mn,t)}function _i(t,a){return mn===null&&fn(t),fu(t,a)}function fu(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},ns===null){if(t===null)throw Error(d(308));ns=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else ns=ns.next=a;return s}var Ex=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,n){t.push(n)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},Tx=l.unstable_scheduleCallback,Lx=l.unstable_NormalPriority,wt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vo(){return{controller:new Ex,data:new Map,refCount:0}}function Al(t){t.refCount--,t.refCount===0&&Tx(Lx,function(){t.controller.abort()})}var El=null,No=0,In=0,Fn=null;function Mx(t,a){if(El===null){var s=El=[];No=0,In=kc(),Fn={status:"pending",value:void 0,then:function(n){s.push(n)}}}return No++,a.then(pu,pu),a}function pu(){if(--No===0&&El!==null){Fn!==null&&(Fn.status="fulfilled");var t=El;El=null,In=0,Fn=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function Dx(t,a){var s=[],n={status:"pending",value:null,reason:null,then:function(i){s.push(i)}};return t.then(function(){n.status="fulfilled",n.value=a;for(var i=0;i<s.length;i++)(0,s[i])(a)},function(i){for(n.status="rejected",n.reason=i,i=0;i<s.length;i++)(0,s[i])(void 0)}),n}var xu=H.S;H.S=function(t,a){Kh=At(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Mx(t,a),xu!==null&&xu(t,a)};var pn=B(null);function wo(){var t=pn.current;return t!==null?t:nt.pooledCache}function Ri(t,a){a===null?ne(pn,pn.current):ne(pn,a.pool)}function gu(){var t=wo();return t===null?null:{parent:wt._currentValue,pool:t}}var Pn=Error(d(460)),So=Error(d(474)),Oi=Error(d(542)),Ui={then:function(){}};function bu(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yu(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(es,es),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,vu(t),t;default:if(typeof a.status=="string")a.then(es,es);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(d(482));t=a,t.status="pending",t.then(function(n){if(a.status==="pending"){var i=a;i.status="fulfilled",i.value=n}},function(n){if(a.status==="pending"){var i=a;i.status="rejected",i.reason=n}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,vu(t),t}throw gn=a,Pn}}function xn(t){try{var a=t._init;return a(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(gn=s,Pn):s}}var gn=null;function ju(){if(gn===null)throw Error(d(459));var t=gn;return gn=null,t}function vu(t){if(t===Pn||t===Oi)throw Error(d(483))}var Hn=null,Tl=0;function zi(t){var a=Tl;return Tl+=1,Hn===null&&(Hn=[]),yu(Hn,t,a)}function Ll(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Ii(t,a){throw a.$$typeof===y?Error(d(525)):(t=Object.prototype.toString.call(a),Error(d(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Nu(t){function a(ae,X){if(t){var le=ae.deletions;le===null?(ae.deletions=[X],ae.flags|=16):le.push(X)}}function s(ae,X){if(!t)return null;for(;X!==null;)a(ae,X),X=X.sibling;return null}function n(ae){for(var X=new Map;ae!==null;)ae.key!==null?X.set(ae.key,ae):X.set(ae.index,ae),ae=ae.sibling;return X}function i(ae,X){return ae=as(ae,X),ae.index=0,ae.sibling=null,ae}function c(ae,X,le){return ae.index=le,t?(le=ae.alternate,le!==null?(le=le.index,le<X?(ae.flags|=67108866,X):le):(ae.flags|=67108866,X)):(ae.flags|=1048576,X)}function m(ae){return t&&ae.alternate===null&&(ae.flags|=67108866),ae}function T(ae,X,le,fe){return X===null||X.tag!==6?(X=ho(le,ae.mode,fe),X.return=ae,X):(X=i(X,le),X.return=ae,X)}function W(ae,X,le,fe){var Te=le.type;return Te===D?he(ae,X,le.props.children,fe,le.key):X!==null&&(X.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===V&&xn(Te)===X.type)?(X=i(X,le.props),Ll(X,le),X.return=ae,X):(X=Mi(le.type,le.key,le.props,null,ae.mode,fe),Ll(X,le),X.return=ae,X)}function ie(ae,X,le,fe){return X===null||X.tag!==4||X.stateNode.containerInfo!==le.containerInfo||X.stateNode.implementation!==le.implementation?(X=mo(le,ae.mode,fe),X.return=ae,X):(X=i(X,le.children||[]),X.return=ae,X)}function he(ae,X,le,fe,Te){return X===null||X.tag!==7?(X=un(le,ae.mode,fe,Te),X.return=ae,X):(X=i(X,le),X.return=ae,X)}function pe(ae,X,le){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=ho(""+X,ae.mode,le),X.return=ae,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return le=Mi(X.type,X.key,X.props,null,ae.mode,le),Ll(le,X),le.return=ae,le;case N:return X=mo(X,ae.mode,le),X.return=ae,X;case V:return X=xn(X),pe(ae,X,le)}if(K(X)||S(X))return X=un(X,ae.mode,le,null),X.return=ae,X;if(typeof X.then=="function")return pe(ae,zi(X),le);if(X.$$typeof===L)return pe(ae,_i(ae,X),le);Ii(ae,X)}return null}function oe(ae,X,le,fe){var Te=X!==null?X.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Te!==null?null:T(ae,X,""+le,fe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case A:return le.key===Te?W(ae,X,le,fe):null;case N:return le.key===Te?ie(ae,X,le,fe):null;case V:return le=xn(le),oe(ae,X,le,fe)}if(K(le)||S(le))return Te!==null?null:he(ae,X,le,fe,null);if(typeof le.then=="function")return oe(ae,X,zi(le),fe);if(le.$$typeof===L)return oe(ae,X,_i(ae,le),fe);Ii(ae,le)}return null}function de(ae,X,le,fe,Te){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return ae=ae.get(le)||null,T(X,ae,""+fe,Te);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case A:return ae=ae.get(fe.key===null?le:fe.key)||null,W(X,ae,fe,Te);case N:return ae=ae.get(fe.key===null?le:fe.key)||null,ie(X,ae,fe,Te);case V:return fe=xn(fe),de(ae,X,le,fe,Te)}if(K(fe)||S(fe))return ae=ae.get(le)||null,he(X,ae,fe,Te,null);if(typeof fe.then=="function")return de(ae,X,le,zi(fe),Te);if(fe.$$typeof===L)return de(ae,X,le,_i(X,fe),Te);Ii(X,fe)}return null}function Se(ae,X,le,fe){for(var Te=null,We=null,ke=X,Ue=X=0,He=null;ke!==null&&Ue<le.length;Ue++){ke.index>Ue?(He=ke,ke=null):He=ke.sibling;var Ye=oe(ae,ke,le[Ue],fe);if(Ye===null){ke===null&&(ke=He);break}t&&ke&&Ye.alternate===null&&a(ae,ke),X=c(Ye,X,Ue),We===null?Te=Ye:We.sibling=Ye,We=Ye,ke=He}if(Ue===le.length)return s(ae,ke),qe&&ss(ae,Ue),Te;if(ke===null){for(;Ue<le.length;Ue++)ke=pe(ae,le[Ue],fe),ke!==null&&(X=c(ke,X,Ue),We===null?Te=ke:We.sibling=ke,We=ke);return qe&&ss(ae,Ue),Te}for(ke=n(ke);Ue<le.length;Ue++)He=de(ke,ae,Ue,le[Ue],fe),He!==null&&(t&&He.alternate!==null&&ke.delete(He.key===null?Ue:He.key),X=c(He,X,Ue),We===null?Te=He:We.sibling=He,We=He);return t&&ke.forEach(function(Xs){return a(ae,Xs)}),qe&&ss(ae,Ue),Te}function De(ae,X,le,fe){if(le==null)throw Error(d(151));for(var Te=null,We=null,ke=X,Ue=X=0,He=null,Ye=le.next();ke!==null&&!Ye.done;Ue++,Ye=le.next()){ke.index>Ue?(He=ke,ke=null):He=ke.sibling;var Xs=oe(ae,ke,Ye.value,fe);if(Xs===null){ke===null&&(ke=He);break}t&&ke&&Xs.alternate===null&&a(ae,ke),X=c(Xs,X,Ue),We===null?Te=Xs:We.sibling=Xs,We=Xs,ke=He}if(Ye.done)return s(ae,ke),qe&&ss(ae,Ue),Te;if(ke===null){for(;!Ye.done;Ue++,Ye=le.next())Ye=pe(ae,Ye.value,fe),Ye!==null&&(X=c(Ye,X,Ue),We===null?Te=Ye:We.sibling=Ye,We=Ye);return qe&&ss(ae,Ue),Te}for(ke=n(ke);!Ye.done;Ue++,Ye=le.next())Ye=de(ke,ae,Ue,Ye.value,fe),Ye!==null&&(t&&Ye.alternate!==null&&ke.delete(Ye.key===null?Ue:Ye.key),X=c(Ye,X,Ue),We===null?Te=Ye:We.sibling=Ye,We=Ye);return t&&ke.forEach(function($g){return a(ae,$g)}),qe&&ss(ae,Ue),Te}function at(ae,X,le,fe){if(typeof le=="object"&&le!==null&&le.type===D&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case A:e:{for(var Te=le.key;X!==null;){if(X.key===Te){if(Te=le.type,Te===D){if(X.tag===7){s(ae,X.sibling),fe=i(X,le.props.children),fe.return=ae,ae=fe;break e}}else if(X.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===V&&xn(Te)===X.type){s(ae,X.sibling),fe=i(X,le.props),Ll(fe,le),fe.return=ae,ae=fe;break e}s(ae,X);break}else a(ae,X);X=X.sibling}le.type===D?(fe=un(le.props.children,ae.mode,fe,le.key),fe.return=ae,ae=fe):(fe=Mi(le.type,le.key,le.props,null,ae.mode,fe),Ll(fe,le),fe.return=ae,ae=fe)}return m(ae);case N:e:{for(Te=le.key;X!==null;){if(X.key===Te)if(X.tag===4&&X.stateNode.containerInfo===le.containerInfo&&X.stateNode.implementation===le.implementation){s(ae,X.sibling),fe=i(X,le.children||[]),fe.return=ae,ae=fe;break e}else{s(ae,X);break}else a(ae,X);X=X.sibling}fe=mo(le,ae.mode,fe),fe.return=ae,ae=fe}return m(ae);case V:return le=xn(le),at(ae,X,le,fe)}if(K(le))return Se(ae,X,le,fe);if(S(le)){if(Te=S(le),typeof Te!="function")throw Error(d(150));return le=Te.call(le),De(ae,X,le,fe)}if(typeof le.then=="function")return at(ae,X,zi(le),fe);if(le.$$typeof===L)return at(ae,X,_i(ae,le),fe);Ii(ae,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,X!==null&&X.tag===6?(s(ae,X.sibling),fe=i(X,le),fe.return=ae,ae=fe):(s(ae,X),fe=ho(le,ae.mode,fe),fe.return=ae,ae=fe),m(ae)):s(ae,X)}return function(ae,X,le,fe){try{Tl=0;var Te=at(ae,X,le,fe);return Hn=null,Te}catch(ke){if(ke===Pn||ke===Oi)throw ke;var We=ia(29,ke,null,ae.mode);return We.lanes=fe,We.return=ae,We}}}var bn=Nu(!0),wu=Nu(!1),Bs=!1;function ko(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Co(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _s(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rs(t,a,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(Xe&2)!==0){var i=n.pending;return i===null?a.next=a:(a.next=i.next,i.next=a),n.pending=a,a=Li(t),iu(t,null,s),a}return Ti(t,n,a,s),Li(t)}function Ml(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var n=a.lanes;n&=t.pendingLanes,s|=n,a.lanes=s,Ea(t,s)}}function Ao(t,a){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,c=null;if(s=s.firstBaseUpdate,s!==null){do{var m={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};c===null?i=c=m:c=c.next=m,s=s.next}while(s!==null);c===null?i=c=a:c=c.next=a}else i=c=a;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:c,shared:n.shared,callbacks:n.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var Eo=!1;function Dl(){if(Eo){var t=Fn;if(t!==null)throw t}}function Bl(t,a,s,n){Eo=!1;var i=t.updateQueue;Bs=!1;var c=i.firstBaseUpdate,m=i.lastBaseUpdate,T=i.shared.pending;if(T!==null){i.shared.pending=null;var W=T,ie=W.next;W.next=null,m===null?c=ie:m.next=ie,m=W;var he=t.alternate;he!==null&&(he=he.updateQueue,T=he.lastBaseUpdate,T!==m&&(T===null?he.firstBaseUpdate=ie:T.next=ie,he.lastBaseUpdate=W))}if(c!==null){var pe=i.baseState;m=0,he=ie=W=null,T=c;do{var oe=T.lane&-536870913,de=oe!==T.lane;if(de?(Pe&oe)===oe:(n&oe)===oe){oe!==0&&oe===In&&(Eo=!0),he!==null&&(he=he.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=t,De=T;oe=a;var at=s;switch(De.tag){case 1:if(Se=De.payload,typeof Se=="function"){pe=Se.call(at,pe,oe);break e}pe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=De.payload,oe=typeof Se=="function"?Se.call(at,pe,oe):Se,oe==null)break e;pe=f({},pe,oe);break e;case 2:Bs=!0}}oe=T.callback,oe!==null&&(t.flags|=64,de&&(t.flags|=8192),de=i.callbacks,de===null?i.callbacks=[oe]:de.push(oe))}else de={lane:oe,tag:T.tag,payload:T.payload,callback:T.callback,next:null},he===null?(ie=he=de,W=pe):he=he.next=de,m|=oe;if(T=T.next,T===null){if(T=i.shared.pending,T===null)break;de=T,T=de.next,de.next=null,i.lastBaseUpdate=de,i.shared.pending=null}}while(!0);he===null&&(W=pe),i.baseState=W,i.firstBaseUpdate=ie,i.lastBaseUpdate=he,c===null&&(i.shared.lanes=0),Fs|=m,t.lanes=m,t.memoizedState=pe}}function Su(t,a){if(typeof t!="function")throw Error(d(191,t));t.call(a)}function ku(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Su(s[t],a)}var $n=B(null),Fi=B(0);function Cu(t,a){t=fs,ne(Fi,t),ne($n,a),fs=t|a.baseLanes}function To(){ne(Fi,fs),ne($n,$n.current)}function Lo(){fs=Fi.current,Q($n),Q(Fi)}var ra=B(null),va=null;function Os(t){var a=t.alternate;ne(yt,yt.current&1),ne(ra,t),va===null&&(a===null||$n.current!==null||a.memoizedState!==null)&&(va=t)}function Mo(t){ne(yt,yt.current),ne(ra,t),va===null&&(va=t)}function Au(t){t.tag===22?(ne(yt,yt.current),ne(ra,t),va===null&&(va=t)):Us()}function Us(){ne(yt,yt.current),ne(ra,ra.current)}function oa(t){Q(ra),va===t&&(va=null),Q(yt)}var yt=B(0);function Pi(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Uc(s)||zc(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var is=0,Oe=null,et=null,St=null,Hi=!1,qn=!1,yn=!1,$i=0,_l=0,Gn=null,Bx=0;function gt(){throw Error(d(321))}function Do(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!la(t[s],a[s]))return!1;return!0}function Bo(t,a,s,n,i,c){return is=c,Oe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=t===null||t.memoizedState===null?dh:Vo,yn=!1,c=s(n,i),yn=!1,qn&&(c=Tu(a,s,n,i)),Eu(t),c}function Eu(t){H.H=Ul;var a=et!==null&&et.next!==null;if(is=0,St=et=Oe=null,Hi=!1,_l=0,Gn=null,a)throw Error(d(300));t===null||kt||(t=t.dependencies,t!==null&&Bi(t)&&(kt=!0))}function Tu(t,a,s,n){Oe=t;var i=0;do{if(qn&&(Gn=null),_l=0,qn=!1,25<=i)throw Error(d(301));if(i+=1,St=et=null,t.updateQueue!=null){var c=t.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}H.H=uh,c=a(s,n)}while(qn);return c}function _x(){var t=H.H,a=t.useState()[0];return a=typeof a.then=="function"?Rl(a):a,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Oe.flags|=1024),a}function _o(){var t=$i!==0;return $i=0,t}function Ro(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function Oo(t){if(Hi){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}Hi=!1}is=0,St=et=Oe=null,qn=!1,_l=$i=0,Gn=null}function qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Oe.memoizedState=St=t:St=St.next=t,St}function jt(){if(et===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var a=St===null?Oe.memoizedState:St.next;if(a!==null)St=a,et=t;else{if(t===null)throw Oe.alternate===null?Error(d(467)):Error(d(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},St===null?Oe.memoizedState=St=t:St=St.next=t}return St}function qi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var a=_l;return _l+=1,Gn===null&&(Gn=[]),t=yu(Gn,t,a),a=Oe,(St===null?a.memoizedState:St.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?dh:Vo),t}function Gi(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===L)return _t(t)}throw Error(d(438,String(t)))}function Uo(t){var a=null,s=Oe.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var n=Oe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(a={data:n.data.map(function(i){return i.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=qi(),Oe.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),n=0;n<t;n++)s[n]=se;return a.index++,s}function rs(t,a){return typeof a=="function"?a(t):a}function Wi(t){var a=jt();return zo(a,et,t)}function zo(t,a,s){var n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=s;var i=t.baseQueue,c=n.pending;if(c!==null){if(i!==null){var m=i.next;i.next=c.next,c.next=m}a.baseQueue=i=c,n.pending=null}if(c=t.baseState,i===null)t.memoizedState=c;else{a=i.next;var T=m=null,W=null,ie=a,he=!1;do{var pe=ie.lane&-536870913;if(pe!==ie.lane?(Pe&pe)===pe:(is&pe)===pe){var oe=ie.revertLane;if(oe===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),pe===In&&(he=!0);else if((is&oe)===oe){ie=ie.next,oe===In&&(he=!0);continue}else pe={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},W===null?(T=W=pe,m=c):W=W.next=pe,Oe.lanes|=oe,Fs|=oe;pe=ie.action,yn&&s(c,pe),c=ie.hasEagerState?ie.eagerState:s(c,pe)}else oe={lane:pe,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},W===null?(T=W=oe,m=c):W=W.next=oe,Oe.lanes|=pe,Fs|=pe;ie=ie.next}while(ie!==null&&ie!==a);if(W===null?m=c:W.next=T,!la(c,t.memoizedState)&&(kt=!0,he&&(s=Fn,s!==null)))throw s;t.memoizedState=c,t.baseState=m,t.baseQueue=W,n.lastRenderedState=c}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function Io(t){var a=jt(),s=a.queue;if(s===null)throw Error(d(311));s.lastRenderedReducer=t;var n=s.dispatch,i=s.pending,c=a.memoizedState;if(i!==null){s.pending=null;var m=i=i.next;do c=t(c,m.action),m=m.next;while(m!==i);la(c,a.memoizedState)||(kt=!0),a.memoizedState=c,a.baseQueue===null&&(a.baseState=c),s.lastRenderedState=c}return[c,n]}function Lu(t,a,s){var n=Oe,i=jt(),c=qe;if(c){if(s===void 0)throw Error(d(407));s=s()}else s=a();var m=!la((et||i).memoizedState,s);if(m&&(i.memoizedState=s,kt=!0),i=i.queue,Ho(Bu.bind(null,n,i,t),[t]),i.getSnapshot!==a||m||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,Wn(9,{destroy:void 0},Du.bind(null,n,i,s,a),null),nt===null)throw Error(d(349));c||(is&127)!==0||Mu(n,a,s)}return s}function Mu(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=Oe.updateQueue,a===null?(a=qi(),Oe.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function Du(t,a,s,n){a.value=s,a.getSnapshot=n,_u(a)&&Ru(t)}function Bu(t,a,s){return s(function(){_u(a)&&Ru(t)})}function _u(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!la(t,s)}catch{return!0}}function Ru(t){var a=dn(t,2);a!==null&&ea(a,t,2)}function Fo(t){var a=qt();if(typeof t=="function"){var s=t;if(t=s(),yn){ma(!0);try{s()}finally{ma(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},a}function Ou(t,a,s,n){return t.baseState=s,zo(t,et,typeof n=="function"?n:rs)}function Rx(t,a,s,n,i){if(Qi(t))throw Error(d(485));if(t=a.action,t!==null){var c={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){c.listeners.push(m)}};H.T!==null?s(!0):c.isTransition=!1,n(c),s=a.pending,s===null?(c.next=a.pending=c,Uu(a,c)):(c.next=s.next,a.pending=s.next=c)}}function Uu(t,a){var s=a.action,n=a.payload,i=t.state;if(a.isTransition){var c=H.T,m={};H.T=m;try{var T=s(i,n),W=H.S;W!==null&&W(m,T),zu(t,a,T)}catch(ie){Po(t,a,ie)}finally{c!==null&&m.types!==null&&(c.types=m.types),H.T=c}}else try{c=s(i,n),zu(t,a,c)}catch(ie){Po(t,a,ie)}}function zu(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(n){Iu(t,a,n)},function(n){return Po(t,a,n)}):Iu(t,a,s)}function Iu(t,a,s){a.status="fulfilled",a.value=s,Fu(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,Uu(t,s)))}function Po(t,a,s){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do a.status="rejected",a.reason=s,Fu(a),a=a.next;while(a!==n)}t.action=null}function Fu(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Pu(t,a){return a}function Hu(t,a){if(qe){var s=nt.formState;if(s!==null){e:{var n=Oe;if(qe){if(rt){t:{for(var i=rt,c=ja;i.nodeType!==8;){if(!c){i=null;break t}if(i=Na(i.nextSibling),i===null){i=null;break t}}c=i.data,i=c==="F!"||c==="F"?i:null}if(i){rt=Na(i.nextSibling),n=i.data==="F!";break e}}Ms(n)}n=!1}n&&(a=s[0])}}return s=qt(),s.memoizedState=s.baseState=a,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pu,lastRenderedState:a},s.queue=n,s=rh.bind(null,Oe,n),n.dispatch=s,n=Fo(!1),c=Yo.bind(null,Oe,!1,n.queue),n=qt(),i={state:a,dispatch:null,action:t,pending:null},n.queue=i,s=Rx.bind(null,Oe,i,c,s),i.dispatch=s,n.memoizedState=t,[a,s,!1]}function $u(t){var a=jt();return qu(a,et,t)}function qu(t,a,s){if(a=zo(t,a,Pu)[0],t=Wi(rs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var n=Rl(a)}catch(m){throw m===Pn?Oi:m}else n=a;a=jt();var i=a.queue,c=i.dispatch;return s!==a.memoizedState&&(Oe.flags|=2048,Wn(9,{destroy:void 0},Ox.bind(null,i,s),null)),[n,c,t]}function Ox(t,a){t.action=a}function Gu(t){var a=jt(),s=et;if(s!==null)return qu(a,s,t);jt(),a=a.memoizedState,s=jt();var n=s.queue.dispatch;return s.memoizedState=t,[a,n,!1]}function Wn(t,a,s,n){return t={tag:t,create:s,deps:n,inst:a,next:null},a=Oe.updateQueue,a===null&&(a=qi(),Oe.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,a.lastEffect=t),t}function Wu(){return jt().memoizedState}function Yi(t,a,s,n){var i=qt();Oe.flags|=t,i.memoizedState=Wn(1|a,{destroy:void 0},s,n===void 0?null:n)}function Vi(t,a,s,n){var i=jt();n=n===void 0?null:n;var c=i.memoizedState.inst;et!==null&&n!==null&&Do(n,et.memoizedState.deps)?i.memoizedState=Wn(a,c,s,n):(Oe.flags|=t,i.memoizedState=Wn(1|a,c,s,n))}function Yu(t,a){Yi(8390656,8,t,a)}function Ho(t,a){Vi(2048,8,t,a)}function Ux(t){Oe.flags|=4;var a=Oe.updateQueue;if(a===null)a=qi(),Oe.updateQueue=a,a.events=[t];else{var s=a.events;s===null?a.events=[t]:s.push(t)}}function Vu(t){var a=jt().memoizedState;return Ux({ref:a,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(d(440));return a.impl.apply(void 0,arguments)}}function Qu(t,a){return Vi(4,2,t,a)}function Xu(t,a){return Vi(4,4,t,a)}function Zu(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Ju(t,a,s){s=s!=null?s.concat([t]):null,Vi(4,4,Zu.bind(null,a,t),s)}function $o(){}function Ku(t,a){var s=jt();a=a===void 0?null:a;var n=s.memoizedState;return a!==null&&Do(a,n[1])?n[0]:(s.memoizedState=[t,a],t)}function eh(t,a){var s=jt();a=a===void 0?null:a;var n=s.memoizedState;if(a!==null&&Do(a,n[1]))return n[0];if(n=t(),yn){ma(!0);try{t()}finally{ma(!1)}}return s.memoizedState=[n,a],n}function qo(t,a,s){return s===void 0||(is&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=a:(t.memoizedState=s,t=tm(),Oe.lanes|=t,Fs|=t,s)}function th(t,a,s,n){return la(s,a)?s:$n.current!==null?(t=qo(t,s,n),la(t,a)||(kt=!0),t):(is&42)===0||(is&1073741824)!==0&&(Pe&261930)===0?(kt=!0,t.memoizedState=s):(t=tm(),Oe.lanes|=t,Fs|=t,a)}function ah(t,a,s,n,i){var c=G.p;G.p=c!==0&&8>c?c:8;var m=H.T,T={};H.T=T,Yo(t,!1,a,s);try{var W=i(),ie=H.S;if(ie!==null&&ie(T,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var he=Dx(W,n);Ol(t,a,he,ua(t))}else Ol(t,a,n,ua(t))}catch(pe){Ol(t,a,{then:function(){},status:"rejected",reason:pe},ua())}finally{G.p=c,m!==null&&T.types!==null&&(m.types=T.types),H.T=m}}function zx(){}function Go(t,a,s,n){if(t.tag!==5)throw Error(d(476));var i=sh(t).queue;ah(t,i,a,re,s===null?zx:function(){return nh(t),s(n)})}function sh(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:re},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function nh(t){var a=sh(t);a.next===null&&(a=t.alternate.memoizedState),Ol(t,a.next.queue,{},ua())}function Wo(){return _t(Kl)}function lh(){return jt().memoizedState}function ih(){return jt().memoizedState}function Ix(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=ua();t=_s(s);var n=Rs(a,t,s);n!==null&&(ea(n,a,s),Ml(n,a,s)),a={cache:vo()},t.payload=a;return}a=a.return}}function Fx(t,a,s){var n=ua();s={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Qi(t)?oh(a,s):(s=co(t,a,s,n),s!==null&&(ea(s,t,n),ch(s,a,n)))}function rh(t,a,s){var n=ua();Ol(t,a,s,n)}function Ol(t,a,s,n){var i={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Qi(t))oh(a,i);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=a.lastRenderedReducer,c!==null))try{var m=a.lastRenderedState,T=c(m,s);if(i.hasEagerState=!0,i.eagerState=T,la(T,m))return Ti(t,a,i,0),nt===null&&Ei(),!1}catch{}if(s=co(t,a,i,n),s!==null)return ea(s,t,n),ch(s,a,n),!0}return!1}function Yo(t,a,s,n){if(n={lane:2,revertLane:kc(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Qi(t)){if(a)throw Error(d(479))}else a=co(t,s,n,2),a!==null&&ea(a,t,2)}function Qi(t){var a=t.alternate;return t===Oe||a!==null&&a===Oe}function oh(t,a){qn=Hi=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function ch(t,a,s){if((s&4194048)!==0){var n=a.lanes;n&=t.pendingLanes,s|=n,a.lanes=s,Ea(t,s)}}var Ul={readContext:_t,use:Gi,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};Ul.useEffectEvent=gt;var dh={readContext:_t,use:Gi,useCallback:function(t,a){return qt().memoizedState=[t,a===void 0?null:a],t},useContext:_t,useEffect:Yu,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,Yi(4194308,4,Zu.bind(null,a,t),s)},useLayoutEffect:function(t,a){return Yi(4194308,4,t,a)},useInsertionEffect:function(t,a){Yi(4,2,t,a)},useMemo:function(t,a){var s=qt();a=a===void 0?null:a;var n=t();if(yn){ma(!0);try{t()}finally{ma(!1)}}return s.memoizedState=[n,a],n},useReducer:function(t,a,s){var n=qt();if(s!==void 0){var i=s(a);if(yn){ma(!0);try{s(a)}finally{ma(!1)}}}else i=a;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=Fx.bind(null,Oe,t),[n.memoizedState,t]},useRef:function(t){var a=qt();return t={current:t},a.memoizedState=t},useState:function(t){t=Fo(t);var a=t.queue,s=rh.bind(null,Oe,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:$o,useDeferredValue:function(t,a){var s=qt();return qo(s,t,a)},useTransition:function(){var t=Fo(!1);return t=ah.bind(null,Oe,t.queue,!0,!1),qt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var n=Oe,i=qt();if(qe){if(s===void 0)throw Error(d(407));s=s()}else{if(s=a(),nt===null)throw Error(d(349));(Pe&127)!==0||Mu(n,a,s)}i.memoizedState=s;var c={value:s,getSnapshot:a};return i.queue=c,Yu(Bu.bind(null,n,c,t),[t]),n.flags|=2048,Wn(9,{destroy:void 0},Du.bind(null,n,c,s,a),null),s},useId:function(){var t=qt(),a=nt.identifierPrefix;if(qe){var s=Pa,n=Fa;s=(n&~(1<<32-Nt(n)-1)).toString(32)+s,a="_"+a+"R_"+s,s=$i++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=Bx++,a="_"+a+"r_"+s.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:Wo,useFormState:Hu,useActionState:Hu,useOptimistic:function(t){var a=qt();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Yo.bind(null,Oe,!0,s),s.dispatch=a,[t,a]},useMemoCache:Uo,useCacheRefresh:function(){return qt().memoizedState=Ix.bind(null,Oe)},useEffectEvent:function(t){var a=qt(),s={impl:t};return a.memoizedState=s,function(){if((Xe&2)!==0)throw Error(d(440));return s.impl.apply(void 0,arguments)}}},Vo={readContext:_t,use:Gi,useCallback:Ku,useContext:_t,useEffect:Ho,useImperativeHandle:Ju,useInsertionEffect:Qu,useLayoutEffect:Xu,useMemo:eh,useReducer:Wi,useRef:Wu,useState:function(){return Wi(rs)},useDebugValue:$o,useDeferredValue:function(t,a){var s=jt();return th(s,et.memoizedState,t,a)},useTransition:function(){var t=Wi(rs)[0],a=jt().memoizedState;return[typeof t=="boolean"?t:Rl(t),a]},useSyncExternalStore:Lu,useId:lh,useHostTransitionStatus:Wo,useFormState:$u,useActionState:$u,useOptimistic:function(t,a){var s=jt();return Ou(s,et,t,a)},useMemoCache:Uo,useCacheRefresh:ih};Vo.useEffectEvent=Vu;var uh={readContext:_t,use:Gi,useCallback:Ku,useContext:_t,useEffect:Ho,useImperativeHandle:Ju,useInsertionEffect:Qu,useLayoutEffect:Xu,useMemo:eh,useReducer:Io,useRef:Wu,useState:function(){return Io(rs)},useDebugValue:$o,useDeferredValue:function(t,a){var s=jt();return et===null?qo(s,t,a):th(s,et.memoizedState,t,a)},useTransition:function(){var t=Io(rs)[0],a=jt().memoizedState;return[typeof t=="boolean"?t:Rl(t),a]},useSyncExternalStore:Lu,useId:lh,useHostTransitionStatus:Wo,useFormState:Gu,useActionState:Gu,useOptimistic:function(t,a){var s=jt();return et!==null?Ou(s,et,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Uo,useCacheRefresh:ih};uh.useEffectEvent=Vu;function Qo(t,a,s,n){a=t.memoizedState,s=s(n,a),s=s==null?a:f({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Xo={enqueueSetState:function(t,a,s){t=t._reactInternals;var n=ua(),i=_s(n);i.payload=a,s!=null&&(i.callback=s),a=Rs(t,i,n),a!==null&&(ea(a,t,n),Ml(a,t,n))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var n=ua(),i=_s(n);i.tag=1,i.payload=a,s!=null&&(i.callback=s),a=Rs(t,i,n),a!==null&&(ea(a,t,n),Ml(a,t,n))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=ua(),n=_s(s);n.tag=2,a!=null&&(n.callback=a),a=Rs(t,n,s),a!==null&&(ea(a,t,s),Ml(a,t,s))}};function hh(t,a,s,n,i,c,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,c,m):a.prototype&&a.prototype.isPureReactComponent?!wl(s,n)||!wl(i,c):!0}function mh(t,a,s,n){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,n),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,n),a.state!==t&&Xo.enqueueReplaceState(a,a.state,null)}function jn(t,a){var s=a;if("ref"in a){s={};for(var n in a)n!=="ref"&&(s[n]=a[n])}if(t=t.defaultProps){s===a&&(s=f({},s));for(var i in t)s[i]===void 0&&(s[i]=t[i])}return s}function fh(t){Ai(t)}function ph(t){console.error(t)}function xh(t){Ai(t)}function Xi(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(n){setTimeout(function(){throw n})}}function gh(t,a,s){try{var n=t.onCaughtError;n(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Zo(t,a,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){Xi(t,a)},s}function bh(t){return t=_s(t),t.tag=3,t}function yh(t,a,s,n){var i=s.type.getDerivedStateFromError;if(typeof i=="function"){var c=n.value;t.payload=function(){return i(c)},t.callback=function(){gh(a,s,n)}}var m=s.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(t.callback=function(){gh(a,s,n),typeof i!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var T=n.stack;this.componentDidCatch(n.value,{componentStack:T!==null?T:""})})}function Px(t,a,s,n,i){if(s.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(a=s.alternate,a!==null&&zn(a,s,i,!0),s=ra.current,s!==null){switch(s.tag){case 31:case 13:return va===null?or():s.alternate===null&&bt===0&&(bt=3),s.flags&=-257,s.flags|=65536,s.lanes=i,n===Ui?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([n]):a.add(n),Nc(t,n,i)),!1;case 22:return s.flags|=65536,n===Ui?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([n])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([n]):s.add(n)),Nc(t,n,i)),!1}throw Error(d(435,s.tag))}return Nc(t,n,i),or(),!1}if(qe)return a=ra.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=i,n!==xo&&(t=Error(d(422),{cause:n}),Cl(ga(t,s)))):(n!==xo&&(a=Error(d(423),{cause:n}),Cl(ga(a,s))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=ga(n,s),i=Zo(t.stateNode,n,i),Ao(t,i),bt!==4&&(bt=2)),!1;var c=Error(d(520),{cause:n});if(c=ga(c,s),Gl===null?Gl=[c]:Gl.push(c),bt!==4&&(bt=2),a===null)return!0;n=ga(n,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=i&-i,s.lanes|=t,t=Zo(s.stateNode,n,t),Ao(s,t),!1;case 1:if(a=s.type,c=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Ps===null||!Ps.has(c))))return s.flags|=65536,i&=-i,s.lanes|=i,i=bh(i),yh(i,t,s,n),Ao(s,i),!1}s=s.return}while(s!==null);return!1}var Jo=Error(d(461)),kt=!1;function Rt(t,a,s,n){a.child=t===null?wu(a,null,s,n):bn(a,t.child,s,n)}function jh(t,a,s,n,i){s=s.render;var c=a.ref;if("ref"in n){var m={};for(var T in n)T!=="ref"&&(m[T]=n[T])}else m=n;return fn(a),n=Bo(t,a,s,m,c,i),T=_o(),t!==null&&!kt?(Ro(t,a,i),os(t,a,i)):(qe&&T&&fo(a),a.flags|=1,Rt(t,a,n,i),a.child)}function vh(t,a,s,n,i){if(t===null){var c=s.type;return typeof c=="function"&&!uo(c)&&c.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=c,Nh(t,a,c,n,i)):(t=Mi(s.type,null,n,a,a.mode,i),t.ref=a.ref,t.return=a,a.child=t)}if(c=t.child,!ic(t,i)){var m=c.memoizedProps;if(s=s.compare,s=s!==null?s:wl,s(m,n)&&t.ref===a.ref)return os(t,a,i)}return a.flags|=1,t=as(c,n),t.ref=a.ref,t.return=a,a.child=t}function Nh(t,a,s,n,i){if(t!==null){var c=t.memoizedProps;if(wl(c,n)&&t.ref===a.ref)if(kt=!1,a.pendingProps=n=c,ic(t,i))(t.flags&131072)!==0&&(kt=!0);else return a.lanes=t.lanes,os(t,a,i)}return Ko(t,a,s,n,i)}function wh(t,a,s,n){var i=n.children,c=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((a.flags&128)!==0){if(c=c!==null?c.baseLanes|s:s,t!==null){for(n=a.child=t.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~c}else n=0,a.child=null;return Sh(t,a,c,s,n)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ri(a,c!==null?c.cachePool:null),c!==null?Cu(a,c):To(),Au(a);else return n=a.lanes=536870912,Sh(t,a,c!==null?c.baseLanes|s:s,s,n)}else c!==null?(Ri(a,c.cachePool),Cu(a,c),Us(),a.memoizedState=null):(t!==null&&Ri(a,null),To(),Us());return Rt(t,a,i,s),a.child}function zl(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Sh(t,a,s,n,i){var c=wo();return c=c===null?null:{parent:wt._currentValue,pool:c},a.memoizedState={baseLanes:s,cachePool:c},t!==null&&Ri(a,null),To(),Au(a),t!==null&&zn(t,a,n,!0),a.childLanes=i,null}function Zi(t,a){return a=Ki({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function kh(t,a,s){return bn(a,t.child,null,s),t=Zi(a,a.pendingProps),t.flags|=2,oa(a),a.memoizedState=null,t}function Hx(t,a,s){var n=a.pendingProps,i=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(qe){if(n.mode==="hidden")return t=Zi(a,n),a.lanes=536870912,zl(null,t);if(Mo(a),(t=rt)?(t=Um(t,ja),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Ts!==null?{id:Fa,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},s=ou(t),s.return=a,a.child=s,Bt=a,rt=null)):t=null,t===null)throw Ms(a);return a.lanes=536870912,null}return Zi(a,n)}var c=t.memoizedState;if(c!==null){var m=c.dehydrated;if(Mo(a),i)if(a.flags&256)a.flags&=-257,a=kh(t,a,s);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(d(558));else if(kt||zn(t,a,s,!1),i=(s&t.childLanes)!==0,kt||i){if(n=nt,n!==null&&(m=As(n,s),m!==0&&m!==c.retryLane))throw c.retryLane=m,dn(t,m),ea(n,t,m),Jo;or(),a=kh(t,a,s)}else t=c.treeContext,rt=Na(m.nextSibling),Bt=a,qe=!0,Ls=null,ja=!1,t!==null&&uu(a,t),a=Zi(a,n),a.flags|=4096;return a}return t=as(t.child,{mode:n.mode,children:n.children}),t.ref=a.ref,a.child=t,t.return=a,t}function Ji(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(d(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function Ko(t,a,s,n,i){return fn(a),s=Bo(t,a,s,n,void 0,i),n=_o(),t!==null&&!kt?(Ro(t,a,i),os(t,a,i)):(qe&&n&&fo(a),a.flags|=1,Rt(t,a,s,i),a.child)}function Ch(t,a,s,n,i,c){return fn(a),a.updateQueue=null,s=Tu(a,n,s,i),Eu(t),n=_o(),t!==null&&!kt?(Ro(t,a,c),os(t,a,c)):(qe&&n&&fo(a),a.flags|=1,Rt(t,a,s,c),a.child)}function Ah(t,a,s,n,i){if(fn(a),a.stateNode===null){var c=_n,m=s.contextType;typeof m=="object"&&m!==null&&(c=_t(m)),c=new s(n,c),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Xo,a.stateNode=c,c._reactInternals=a,c=a.stateNode,c.props=n,c.state=a.memoizedState,c.refs={},ko(a),m=s.contextType,c.context=typeof m=="object"&&m!==null?_t(m):_n,c.state=a.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Qo(a,s,m,n),c.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(m=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),m!==c.state&&Xo.enqueueReplaceState(c,c.state,null),Bl(a,n,c,i),Dl(),c.state=a.memoizedState),typeof c.componentDidMount=="function"&&(a.flags|=4194308),n=!0}else if(t===null){c=a.stateNode;var T=a.memoizedProps,W=jn(s,T);c.props=W;var ie=c.context,he=s.contextType;m=_n,typeof he=="object"&&he!==null&&(m=_t(he));var pe=s.getDerivedStateFromProps;he=typeof pe=="function"||typeof c.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,he||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(T||ie!==m)&&mh(a,c,n,m),Bs=!1;var oe=a.memoizedState;c.state=oe,Bl(a,n,c,i),Dl(),ie=a.memoizedState,T||oe!==ie||Bs?(typeof pe=="function"&&(Qo(a,s,pe,n),ie=a.memoizedState),(W=Bs||hh(a,s,W,n,oe,ie,m))?(he||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(a.flags|=4194308)):(typeof c.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=n,a.memoizedState=ie),c.props=n,c.state=ie,c.context=m,n=W):(typeof c.componentDidMount=="function"&&(a.flags|=4194308),n=!1)}else{c=a.stateNode,Co(t,a),m=a.memoizedProps,he=jn(s,m),c.props=he,pe=a.pendingProps,oe=c.context,ie=s.contextType,W=_n,typeof ie=="object"&&ie!==null&&(W=_t(ie)),T=s.getDerivedStateFromProps,(ie=typeof T=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==pe||oe!==W)&&mh(a,c,n,W),Bs=!1,oe=a.memoizedState,c.state=oe,Bl(a,n,c,i),Dl();var de=a.memoizedState;m!==pe||oe!==de||Bs||t!==null&&t.dependencies!==null&&Bi(t.dependencies)?(typeof T=="function"&&(Qo(a,s,T,n),de=a.memoizedState),(he=Bs||hh(a,s,he,n,oe,de,W)||t!==null&&t.dependencies!==null&&Bi(t.dependencies))?(ie||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,de,W),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,de,W)),typeof c.componentDidUpdate=="function"&&(a.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===t.memoizedProps&&oe===t.memoizedState||(a.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&oe===t.memoizedState||(a.flags|=1024),a.memoizedProps=n,a.memoizedState=de),c.props=n,c.state=de,c.context=W,n=he):(typeof c.componentDidUpdate!="function"||m===t.memoizedProps&&oe===t.memoizedState||(a.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&oe===t.memoizedState||(a.flags|=1024),n=!1)}return c=n,Ji(t,a),n=(a.flags&128)!==0,c||n?(c=a.stateNode,s=n&&typeof s.getDerivedStateFromError!="function"?null:c.render(),a.flags|=1,t!==null&&n?(a.child=bn(a,t.child,null,i),a.child=bn(a,null,s,i)):Rt(t,a,s,i),a.memoizedState=c.state,t=a.child):t=os(t,a,i),t}function Eh(t,a,s,n){return hn(),a.flags|=256,Rt(t,a,s,n),a.child}var ec={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tc(t){return{baseLanes:t,cachePool:gu()}}function ac(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=da),t}function Th(t,a,s){var n=a.pendingProps,i=!1,c=(a.flags&128)!==0,m;if((m=c)||(m=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),m&&(i=!0,a.flags&=-129),m=(a.flags&32)!==0,a.flags&=-33,t===null){if(qe){if(i?Os(a):Us(),(t=rt)?(t=Um(t,ja),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Ts!==null?{id:Fa,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},s=ou(t),s.return=a,a.child=s,Bt=a,rt=null)):t=null,t===null)throw Ms(a);return zc(t)?a.lanes=32:a.lanes=536870912,null}var T=n.children;return n=n.fallback,i?(Us(),i=a.mode,T=Ki({mode:"hidden",children:T},i),n=un(n,i,s,null),T.return=a,n.return=a,T.sibling=n,a.child=T,n=a.child,n.memoizedState=tc(s),n.childLanes=ac(t,m,s),a.memoizedState=ec,zl(null,n)):(Os(a),sc(a,T))}var W=t.memoizedState;if(W!==null&&(T=W.dehydrated,T!==null)){if(c)a.flags&256?(Os(a),a.flags&=-257,a=nc(t,a,s)):a.memoizedState!==null?(Us(),a.child=t.child,a.flags|=128,a=null):(Us(),T=n.fallback,i=a.mode,n=Ki({mode:"visible",children:n.children},i),T=un(T,i,s,null),T.flags|=2,n.return=a,T.return=a,n.sibling=T,a.child=n,bn(a,t.child,null,s),n=a.child,n.memoizedState=tc(s),n.childLanes=ac(t,m,s),a.memoizedState=ec,a=zl(null,n));else if(Os(a),zc(T)){if(m=T.nextSibling&&T.nextSibling.dataset,m)var ie=m.dgst;m=ie,n=Error(d(419)),n.stack="",n.digest=m,Cl({value:n,source:null,stack:null}),a=nc(t,a,s)}else if(kt||zn(t,a,s,!1),m=(s&t.childLanes)!==0,kt||m){if(m=nt,m!==null&&(n=As(m,s),n!==0&&n!==W.retryLane))throw W.retryLane=n,dn(t,n),ea(m,t,n),Jo;Uc(T)||or(),a=nc(t,a,s)}else Uc(T)?(a.flags|=192,a.child=t.child,a=null):(t=W.treeContext,rt=Na(T.nextSibling),Bt=a,qe=!0,Ls=null,ja=!1,t!==null&&uu(a,t),a=sc(a,n.children),a.flags|=4096);return a}return i?(Us(),T=n.fallback,i=a.mode,W=t.child,ie=W.sibling,n=as(W,{mode:"hidden",children:n.children}),n.subtreeFlags=W.subtreeFlags&65011712,ie!==null?T=as(ie,T):(T=un(T,i,s,null),T.flags|=2),T.return=a,n.return=a,n.sibling=T,a.child=n,zl(null,n),n=a.child,T=t.child.memoizedState,T===null?T=tc(s):(i=T.cachePool,i!==null?(W=wt._currentValue,i=i.parent!==W?{parent:W,pool:W}:i):i=gu(),T={baseLanes:T.baseLanes|s,cachePool:i}),n.memoizedState=T,n.childLanes=ac(t,m,s),a.memoizedState=ec,zl(t.child,n)):(Os(a),s=t.child,t=s.sibling,s=as(s,{mode:"visible",children:n.children}),s.return=a,s.sibling=null,t!==null&&(m=a.deletions,m===null?(a.deletions=[t],a.flags|=16):m.push(t)),a.child=s,a.memoizedState=null,s)}function sc(t,a){return a=Ki({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Ki(t,a){return t=ia(22,t,null,a),t.lanes=0,t}function nc(t,a,s){return bn(a,t.child,null,s),t=sc(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Lh(t,a,s){t.lanes|=a;var n=t.alternate;n!==null&&(n.lanes|=a),yo(t.return,a,s)}function lc(t,a,s,n,i,c){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i,treeForkCount:c}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=n,m.tail=s,m.tailMode=i,m.treeForkCount=c)}function Mh(t,a,s){var n=a.pendingProps,i=n.revealOrder,c=n.tail;n=n.children;var m=yt.current,T=(m&2)!==0;if(T?(m=m&1|2,a.flags|=128):m&=1,ne(yt,m),Rt(t,a,n,s),n=qe?kl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lh(t,s,a);else if(t.tag===19)Lh(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(s=a.child,i=null;s!==null;)t=s.alternate,t!==null&&Pi(t)===null&&(i=s),s=s.sibling;s=i,s===null?(i=a.child,a.child=null):(i=s.sibling,s.sibling=null),lc(a,!1,i,s,c,n);break;case"backwards":case"unstable_legacy-backwards":for(s=null,i=a.child,a.child=null;i!==null;){if(t=i.alternate,t!==null&&Pi(t)===null){a.child=i;break}t=i.sibling,i.sibling=s,s=i,i=t}lc(a,!0,s,null,c,n);break;case"together":lc(a,!1,null,null,void 0,n);break;default:a.memoizedState=null}return a.child}function os(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),Fs|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(zn(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(d(153));if(a.child!==null){for(t=a.child,s=as(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=as(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function ic(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Bi(t)))}function $x(t,a,s){switch(a.tag){case 3:ue(a,a.stateNode.containerInfo),Ds(a,wt,t.memoizedState.cache),hn();break;case 27:case 5:Ne(a);break;case 4:ue(a,a.stateNode.containerInfo);break;case 10:Ds(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Mo(a),null;break;case 13:var n=a.memoizedState;if(n!==null)return n.dehydrated!==null?(Os(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Th(t,a,s):(Os(a),t=os(t,a,s),t!==null?t.sibling:null);Os(a);break;case 19:var i=(t.flags&128)!==0;if(n=(s&a.childLanes)!==0,n||(zn(t,a,s,!1),n=(s&a.childLanes)!==0),i){if(n)return Mh(t,a,s);a.flags|=128}if(i=a.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ne(yt,yt.current),n)break;return null;case 22:return a.lanes=0,wh(t,a,s,a.pendingProps);case 24:Ds(a,wt,t.memoizedState.cache)}return os(t,a,s)}function Dh(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)kt=!0;else{if(!ic(t,s)&&(a.flags&128)===0)return kt=!1,$x(t,a,s);kt=(t.flags&131072)!==0}else kt=!1,qe&&(a.flags&1048576)!==0&&du(a,kl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var n=a.pendingProps;if(t=xn(a.elementType),a.type=t,typeof t=="function")uo(t)?(n=jn(t,n),a.tag=1,a=Ah(null,a,t,n,s)):(a.tag=0,a=Ko(null,a,t,n,s));else{if(t!=null){var i=t.$$typeof;if(i===C){a.tag=11,a=jh(null,a,t,n,s);break e}else if(i===q){a.tag=14,a=vh(null,a,t,n,s);break e}}throw a=M(t)||t,Error(d(306,a,""))}}return a;case 0:return Ko(t,a,a.type,a.pendingProps,s);case 1:return n=a.type,i=jn(n,a.pendingProps),Ah(t,a,n,i,s);case 3:e:{if(ue(a,a.stateNode.containerInfo),t===null)throw Error(d(387));n=a.pendingProps;var c=a.memoizedState;i=c.element,Co(t,a),Bl(a,n,null,s);var m=a.memoizedState;if(n=m.cache,Ds(a,wt,n),n!==c.cache&&jo(a,[wt],s,!0),Dl(),n=m.element,c.isDehydrated)if(c={element:n,isDehydrated:!1,cache:m.cache},a.updateQueue.baseState=c,a.memoizedState=c,a.flags&256){a=Eh(t,a,n,s);break e}else if(n!==i){i=ga(Error(d(424)),a),Cl(i),a=Eh(t,a,n,s);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=Na(t.firstChild),Bt=a,qe=!0,Ls=null,ja=!0,s=wu(a,null,n,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(hn(),n===i){a=os(t,a,s);break e}Rt(t,a,n,s)}a=a.child}return a;case 26:return Ji(t,a),t===null?(s=$m(a.type,null,a.pendingProps,null))?a.memoizedState=s:qe||(s=a.type,t=a.pendingProps,n=pr(P.current).createElement(s),n[ut]=a,n[ht]=t,Ot(n,s,t),ce(n),a.stateNode=n):a.memoizedState=$m(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return Ne(a),t===null&&qe&&(n=a.stateNode=Fm(a.type,a.pendingProps,P.current),Bt=a,ja=!0,i=rt,Gs(a.type)?(Ic=i,rt=Na(n.firstChild)):rt=i),Rt(t,a,a.pendingProps.children,s),Ji(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&qe&&((i=n=rt)&&(n=yg(n,a.type,a.pendingProps,ja),n!==null?(a.stateNode=n,Bt=a,rt=Na(n.firstChild),ja=!1,i=!0):i=!1),i||Ms(a)),Ne(a),i=a.type,c=a.pendingProps,m=t!==null?t.memoizedProps:null,n=c.children,_c(i,c)?n=null:m!==null&&_c(i,m)&&(a.flags|=32),a.memoizedState!==null&&(i=Bo(t,a,_x,null,null,s),Kl._currentValue=i),Ji(t,a),Rt(t,a,n,s),a.child;case 6:return t===null&&qe&&((t=s=rt)&&(s=jg(s,a.pendingProps,ja),s!==null?(a.stateNode=s,Bt=a,rt=null,t=!0):t=!1),t||Ms(a)),null;case 13:return Th(t,a,s);case 4:return ue(a,a.stateNode.containerInfo),n=a.pendingProps,t===null?a.child=bn(a,null,n,s):Rt(t,a,n,s),a.child;case 11:return jh(t,a,a.type,a.pendingProps,s);case 7:return Rt(t,a,a.pendingProps,s),a.child;case 8:return Rt(t,a,a.pendingProps.children,s),a.child;case 12:return Rt(t,a,a.pendingProps.children,s),a.child;case 10:return n=a.pendingProps,Ds(a,a.type,n.value),Rt(t,a,n.children,s),a.child;case 9:return i=a.type._context,n=a.pendingProps.children,fn(a),i=_t(i),n=n(i),a.flags|=1,Rt(t,a,n,s),a.child;case 14:return vh(t,a,a.type,a.pendingProps,s);case 15:return Nh(t,a,a.type,a.pendingProps,s);case 19:return Mh(t,a,s);case 31:return Hx(t,a,s);case 22:return wh(t,a,s,a.pendingProps);case 24:return fn(a),n=_t(wt),t===null?(i=wo(),i===null&&(i=nt,c=vo(),i.pooledCache=c,c.refCount++,c!==null&&(i.pooledCacheLanes|=s),i=c),a.memoizedState={parent:n,cache:i},ko(a),Ds(a,wt,i)):((t.lanes&s)!==0&&(Co(t,a),Bl(a,null,null,s),Dl()),i=t.memoizedState,c=a.memoizedState,i.parent!==n?(i={parent:n,cache:n},a.memoizedState=i,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=i),Ds(a,wt,n)):(n=c.cache,Ds(a,wt,n),n!==i.cache&&jo(a,[wt],s,!0))),Rt(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(d(156,a.tag))}function cs(t){t.flags|=4}function rc(t,a,s,n,i){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(lm())t.flags|=8192;else throw gn=Ui,So}else t.flags&=-16777217}function Bh(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vm(a))if(lm())t.flags|=8192;else throw gn=Ui,So}function er(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Aa():536870912,t.lanes|=a,Xn|=a)}function Il(t,a){if(!qe)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ot(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(a)for(var i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=s,a}function qx(t,a,s){var n=a.pendingProps;switch(po(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(a),null;case 1:return ot(a),null;case 3:return s=a.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),a.memoizedState.cache!==n&&(a.flags|=2048),ls(wt),me(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Un(a)?cs(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,go())),ot(a),null;case 26:var i=a.type,c=a.memoizedState;return t===null?(cs(a),c!==null?(ot(a),Bh(a,c)):(ot(a),rc(a,i,null,n,s))):c?c!==t.memoizedState?(cs(a),ot(a),Bh(a,c)):(ot(a),a.flags&=-16777217):(t=t.memoizedProps,t!==n&&cs(a),ot(a),rc(a,i,t,n,s)),null;case 27:if(we(a),s=P.current,i=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==n&&cs(a);else{if(!n){if(a.stateNode===null)throw Error(d(166));return ot(a),null}t=Z.current,Un(a)?hu(a):(t=Fm(i,n,s),a.stateNode=t,cs(a))}return ot(a),null;case 5:if(we(a),i=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==n&&cs(a);else{if(!n){if(a.stateNode===null)throw Error(d(166));return ot(a),null}if(c=Z.current,Un(a))hu(a);else{var m=pr(P.current);switch(c){case 1:c=m.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:c=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":c=m.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":c=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":c=m.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof n.is=="string"?m.createElement("select",{is:n.is}):m.createElement("select"),n.multiple?c.multiple=!0:n.size&&(c.size=n.size);break;default:c=typeof n.is=="string"?m.createElement(i,{is:n.is}):m.createElement(i)}}c[ut]=a,c[ht]=n;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=c;e:switch(Ot(c,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&cs(a)}}return ot(a),rc(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,s),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==n&&cs(a);else{if(typeof n!="string"&&a.stateNode===null)throw Error(d(166));if(t=P.current,Un(a)){if(t=a.stateNode,s=a.memoizedProps,n=null,i=Bt,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}t[ut]=a,t=!!(t.nodeValue===s||n!==null&&n.suppressHydrationWarning===!0||Tm(t.nodeValue,s)),t||Ms(a,!0)}else t=pr(t).createTextNode(n),t[ut]=a,a.stateNode=t}return ot(a),null;case 31:if(s=a.memoizedState,t===null||t.memoizedState!==null){if(n=Un(a),s!==null){if(t===null){if(!n)throw Error(d(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(557));t[ut]=a}else hn(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),t=!1}else s=go(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return a.flags&256?(oa(a),a):(oa(a),null);if((a.flags&128)!==0)throw Error(d(558))}return ot(a),null;case 13:if(n=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Un(a),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(d(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));i[ut]=a}else hn(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),i=!1}else i=go(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return a.flags&256?(oa(a),a):(oa(a),null)}return oa(a),(a.flags&128)!==0?(a.lanes=s,a):(s=n!==null,t=t!==null&&t.memoizedState!==null,s&&(n=a.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==i&&(n.flags|=2048)),s!==t&&s&&(a.child.flags|=8192),er(a,a.updateQueue),ot(a),null);case 4:return me(),t===null&&Tc(a.stateNode.containerInfo),ot(a),null;case 10:return ls(a.type),ot(a),null;case 19:if(Q(yt),n=a.memoizedState,n===null)return ot(a),null;if(i=(a.flags&128)!==0,c=n.rendering,c===null)if(i)Il(n,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(c=Pi(t),c!==null){for(a.flags|=128,Il(n,!1),t=c.updateQueue,a.updateQueue=t,er(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)ru(s,t),s=s.sibling;return ne(yt,yt.current&1|2),qe&&ss(a,n.treeForkCount),a.child}t=t.sibling}n.tail!==null&&At()>lr&&(a.flags|=128,i=!0,Il(n,!1),a.lanes=4194304)}else{if(!i)if(t=Pi(c),t!==null){if(a.flags|=128,i=!0,t=t.updateQueue,a.updateQueue=t,er(a,t),Il(n,!0),n.tail===null&&n.tailMode==="hidden"&&!c.alternate&&!qe)return ot(a),null}else 2*At()-n.renderingStartTime>lr&&s!==536870912&&(a.flags|=128,i=!0,Il(n,!1),a.lanes=4194304);n.isBackwards?(c.sibling=a.child,a.child=c):(t=n.last,t!==null?t.sibling=c:a.child=c,n.last=c)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=At(),t.sibling=null,s=yt.current,ne(yt,i?s&1|2:s&1),qe&&ss(a,n.treeForkCount),t):(ot(a),null);case 22:case 23:return oa(a),Lo(),n=a.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(a.flags|=8192):n&&(a.flags|=8192),n?(s&536870912)!==0&&(a.flags&128)===0&&(ot(a),a.subtreeFlags&6&&(a.flags|=8192)):ot(a),s=a.updateQueue,s!==null&&er(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==s&&(a.flags|=2048),t!==null&&Q(pn),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),ls(wt),ot(a),null;case 25:return null;case 30:return null}throw Error(d(156,a.tag))}function Gx(t,a){switch(po(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ls(wt),me(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return we(a),null;case 31:if(a.memoizedState!==null){if(oa(a),a.alternate===null)throw Error(d(340));hn()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(oa(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(d(340));hn()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return Q(yt),null;case 4:return me(),null;case 10:return ls(a.type),null;case 22:case 23:return oa(a),Lo(),t!==null&&Q(pn),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return ls(wt),null;case 25:return null;default:return null}}function _h(t,a){switch(po(a),a.tag){case 3:ls(wt),me();break;case 26:case 27:case 5:we(a);break;case 4:me();break;case 31:a.memoizedState!==null&&oa(a);break;case 13:oa(a);break;case 19:Q(yt);break;case 10:ls(a.type);break;case 22:case 23:oa(a),Lo(),t!==null&&Q(pn);break;case 24:ls(wt)}}function Fl(t,a){try{var s=a.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var i=n.next;s=i;do{if((s.tag&t)===t){n=void 0;var c=s.create,m=s.inst;n=c(),m.destroy=n}s=s.next}while(s!==i)}}catch(T){Je(a,a.return,T)}}function zs(t,a,s){try{var n=a.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var c=i.next;n=c;do{if((n.tag&t)===t){var m=n.inst,T=m.destroy;if(T!==void 0){m.destroy=void 0,i=a;var W=s,ie=T;try{ie()}catch(he){Je(i,W,he)}}}n=n.next}while(n!==c)}}catch(he){Je(a,a.return,he)}}function Rh(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{ku(a,s)}catch(n){Je(t,t.return,n)}}}function Oh(t,a,s){s.props=jn(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(n){Je(t,a,n)}}function Pl(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof s=="function"?t.refCleanup=s(n):s.current=n}}catch(i){Je(t,a,i)}}function Ha(t,a){var s=t.ref,n=t.refCleanup;if(s!==null)if(typeof n=="function")try{n()}catch(i){Je(t,a,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(i){Je(t,a,i)}else s.current=null}function Uh(t){var a=t.type,s=t.memoizedProps,n=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break e;case"img":s.src?n.src=s.src:s.srcSet&&(n.srcset=s.srcSet)}}catch(i){Je(t,t.return,i)}}function oc(t,a,s){try{var n=t.stateNode;mg(n,t.type,s,a),n[ht]=a}catch(i){Je(t,t.return,i)}}function zh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gs(t.type)||t.tag===4}function cc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dc(t,a,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=es));else if(n!==4&&(n===27&&Gs(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(dc(t,a,s),t=t.sibling;t!==null;)dc(t,a,s),t=t.sibling}function tr(t,a,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(n!==4&&(n===27&&Gs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(tr(t,a,s),t=t.sibling;t!==null;)tr(t,a,s),t=t.sibling}function Ih(t){var a=t.stateNode,s=t.memoizedProps;try{for(var n=t.type,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Ot(a,n,s),a[ut]=t,a[ht]=s}catch(c){Je(t,t.return,c)}}var ds=!1,Ct=!1,uc=!1,Fh=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Wx(t,a){if(t=t.containerInfo,Dc=Nr,t=Jd(t),so(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,c=n.focusNode;n=n.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var m=0,T=-1,W=-1,ie=0,he=0,pe=t,oe=null;t:for(;;){for(var de;pe!==s||i!==0&&pe.nodeType!==3||(T=m+i),pe!==c||n!==0&&pe.nodeType!==3||(W=m+n),pe.nodeType===3&&(m+=pe.nodeValue.length),(de=pe.firstChild)!==null;)oe=pe,pe=de;for(;;){if(pe===t)break t;if(oe===s&&++ie===i&&(T=m),oe===c&&++he===n&&(W=m),(de=pe.nextSibling)!==null)break;pe=oe,oe=pe.parentNode}pe=de}s=T===-1||W===-1?null:{start:T,end:W}}else s=null}s=s||{start:0,end:0}}else s=null;for(Bc={focusedElem:t,selectionRange:s},Nr=!1,Mt=a;Mt!==null;)if(a=Mt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Mt=t;else for(;Mt!==null;){switch(a=Mt,c=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)i=t[s],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&c!==null){t=void 0,s=a,i=c.memoizedProps,c=c.memoizedState,n=s.stateNode;try{var Se=jn(s.type,i);t=n.getSnapshotBeforeUpdate(Se,c),n.__reactInternalSnapshotBeforeUpdate=t}catch(De){Je(s,s.return,De)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)Oc(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Oc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(d(163))}if(t=a.sibling,t!==null){t.return=a.return,Mt=t;break}Mt=a.return}}function Ph(t,a,s){var n=s.flags;switch(s.tag){case 0:case 11:case 15:hs(t,s),n&4&&Fl(5,s);break;case 1:if(hs(t,s),n&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(m){Je(s,s.return,m)}else{var i=jn(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(i,a,t.__reactInternalSnapshotBeforeUpdate)}catch(m){Je(s,s.return,m)}}n&64&&Rh(s),n&512&&Pl(s,s.return);break;case 3:if(hs(t,s),n&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{ku(t,a)}catch(m){Je(s,s.return,m)}}break;case 27:a===null&&n&4&&Ih(s);case 26:case 5:hs(t,s),a===null&&n&4&&Uh(s),n&512&&Pl(s,s.return);break;case 12:hs(t,s);break;case 31:hs(t,s),n&4&&qh(t,s);break;case 13:hs(t,s),n&4&&Gh(t,s),n&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=tg.bind(null,s),vg(t,s))));break;case 22:if(n=s.memoizedState!==null||ds,!n){a=a!==null&&a.memoizedState!==null||Ct,i=ds;var c=Ct;ds=n,(Ct=a)&&!c?ms(t,s,(s.subtreeFlags&8772)!==0):hs(t,s),ds=i,Ct=c}break;case 30:break;default:hs(t,s)}}function Hh(t){var a=t.alternate;a!==null&&(t.alternate=null,Hh(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Ja(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,Xt=!1;function us(t,a,s){for(s=s.child;s!==null;)$h(t,a,s),s=s.sibling}function $h(t,a,s){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Dt,s)}catch{}switch(s.tag){case 26:Ct||Ha(s,a),us(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ct||Ha(s,a);var n=ct,i=Xt;Gs(s.type)&&(ct=s.stateNode,Xt=!1),us(t,a,s),Xl(s.stateNode),ct=n,Xt=i;break;case 5:Ct||Ha(s,a);case 6:if(n=ct,i=Xt,ct=null,us(t,a,s),ct=n,Xt=i,ct!==null)if(Xt)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(s.stateNode)}catch(c){Je(s,a,c)}else try{ct.removeChild(s.stateNode)}catch(c){Je(s,a,c)}break;case 18:ct!==null&&(Xt?(t=ct,Rm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),nl(t)):Rm(ct,s.stateNode));break;case 4:n=ct,i=Xt,ct=s.stateNode.containerInfo,Xt=!0,us(t,a,s),ct=n,Xt=i;break;case 0:case 11:case 14:case 15:zs(2,s,a),Ct||zs(4,s,a),us(t,a,s);break;case 1:Ct||(Ha(s,a),n=s.stateNode,typeof n.componentWillUnmount=="function"&&Oh(s,a,n)),us(t,a,s);break;case 21:us(t,a,s);break;case 22:Ct=(n=Ct)||s.memoizedState!==null,us(t,a,s),Ct=n;break;default:us(t,a,s)}}function qh(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{nl(t)}catch(s){Je(a,a.return,s)}}}function Gh(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{nl(t)}catch(s){Je(a,a.return,s)}}function Yx(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new Fh),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new Fh),a;default:throw Error(d(435,t.tag))}}function ar(t,a){var s=Yx(t);a.forEach(function(n){if(!s.has(n)){s.add(n);var i=ag.bind(null,t,n);n.then(i,i)}})}function Zt(t,a){var s=a.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n],c=t,m=a,T=m;e:for(;T!==null;){switch(T.tag){case 27:if(Gs(T.type)){ct=T.stateNode,Xt=!1;break e}break;case 5:ct=T.stateNode,Xt=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,Xt=!0;break e}T=T.return}if(ct===null)throw Error(d(160));$h(c,m,i),ct=null,Xt=!1,c=i.alternate,c!==null&&(c.return=null),i.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Wh(a,t),a=a.sibling}var Da=null;function Wh(t,a){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Zt(a,t),Jt(t),n&4&&(zs(3,t,t.return),Fl(3,t),zs(5,t,t.return));break;case 1:Zt(a,t),Jt(t),n&512&&(Ct||s===null||Ha(s,s.return)),n&64&&ds&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?n:s.concat(n))));break;case 26:var i=Da;if(Zt(a,t),Jt(t),n&512&&(Ct||s===null||Ha(s,s.return)),n&4){var c=s!==null?s.memoizedState:null;if(n=t.memoizedState,s===null)if(n===null)if(t.stateNode===null){e:{n=t.type,s=t.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":c=i.getElementsByTagName("title")[0],(!c||c[Za]||c[ut]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=i.createElement(n),i.head.insertBefore(c,i.querySelector("head > title"))),Ot(c,n,s),c[ut]=t,ce(c),n=c;break e;case"link":var m=Wm("link","href",i).get(n+(s.href||""));if(m){for(var T=0;T<m.length;T++)if(c=m[T],c.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&c.getAttribute("rel")===(s.rel==null?null:s.rel)&&c.getAttribute("title")===(s.title==null?null:s.title)&&c.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){m.splice(T,1);break t}}c=i.createElement(n),Ot(c,n,s),i.head.appendChild(c);break;case"meta":if(m=Wm("meta","content",i).get(n+(s.content||""))){for(T=0;T<m.length;T++)if(c=m[T],c.getAttribute("content")===(s.content==null?null:""+s.content)&&c.getAttribute("name")===(s.name==null?null:s.name)&&c.getAttribute("property")===(s.property==null?null:s.property)&&c.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&c.getAttribute("charset")===(s.charSet==null?null:s.charSet)){m.splice(T,1);break t}}c=i.createElement(n),Ot(c,n,s),i.head.appendChild(c);break;default:throw Error(d(468,n))}c[ut]=t,ce(c),n=c}t.stateNode=n}else Ym(i,t.type,t.stateNode);else t.stateNode=Gm(i,n,t.memoizedProps);else c!==n?(c===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):c.count--,n===null?Ym(i,t.type,t.stateNode):Gm(i,n,t.memoizedProps)):n===null&&t.stateNode!==null&&oc(t,t.memoizedProps,s.memoizedProps)}break;case 27:Zt(a,t),Jt(t),n&512&&(Ct||s===null||Ha(s,s.return)),s!==null&&n&4&&oc(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Zt(a,t),Jt(t),n&512&&(Ct||s===null||Ha(s,s.return)),t.flags&32){i=t.stateNode;try{Ia(i,"")}catch(Se){Je(t,t.return,Se)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,oc(t,i,s!==null?s.memoizedProps:i)),n&1024&&(uc=!0);break;case 6:if(Zt(a,t),Jt(t),n&4){if(t.stateNode===null)throw Error(d(162));n=t.memoizedProps,s=t.stateNode;try{s.nodeValue=n}catch(Se){Je(t,t.return,Se)}}break;case 3:if(br=null,i=Da,Da=xr(a.containerInfo),Zt(a,t),Da=i,Jt(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{nl(a.containerInfo)}catch(Se){Je(t,t.return,Se)}uc&&(uc=!1,Yh(t));break;case 4:n=Da,Da=xr(t.stateNode.containerInfo),Zt(a,t),Jt(t),Da=n;break;case 12:Zt(a,t),Jt(t);break;case 31:Zt(a,t),Jt(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,ar(t,n)));break;case 13:Zt(a,t),Jt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nr=At()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,ar(t,n)));break;case 22:i=t.memoizedState!==null;var W=s!==null&&s.memoizedState!==null,ie=ds,he=Ct;if(ds=ie||i,Ct=he||W,Zt(a,t),Ct=he,ds=ie,Jt(t),n&8192)e:for(a=t.stateNode,a._visibility=i?a._visibility&-2:a._visibility|1,i&&(s===null||W||ds||Ct||vn(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){W=s=a;try{if(c=W.stateNode,i)m=c.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{T=W.stateNode;var pe=W.memoizedProps.style,oe=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;T.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Se){Je(W,W.return,Se)}}}else if(a.tag===6){if(s===null){W=a;try{W.stateNode.nodeValue=i?"":W.memoizedProps}catch(Se){Je(W,W.return,Se)}}}else if(a.tag===18){if(s===null){W=a;try{var de=W.stateNode;i?Om(de,!0):Om(W.stateNode,!1)}catch(Se){Je(W,W.return,Se)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}n&4&&(n=t.updateQueue,n!==null&&(s=n.retryQueue,s!==null&&(n.retryQueue=null,ar(t,s))));break;case 19:Zt(a,t),Jt(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,ar(t,n)));break;case 30:break;case 21:break;default:Zt(a,t),Jt(t)}}function Jt(t){var a=t.flags;if(a&2){try{for(var s,n=t.return;n!==null;){if(zh(n)){s=n;break}n=n.return}if(s==null)throw Error(d(160));switch(s.tag){case 27:var i=s.stateNode,c=cc(t);tr(t,c,i);break;case 5:var m=s.stateNode;s.flags&32&&(Ia(m,""),s.flags&=-33);var T=cc(t);tr(t,T,m);break;case 3:case 4:var W=s.stateNode.containerInfo,ie=cc(t);dc(t,ie,W);break;default:throw Error(d(161))}}catch(he){Je(t,t.return,he)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Yh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Yh(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function hs(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Ph(t,a.alternate,a),a=a.sibling}function vn(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:zs(4,a,a.return),vn(a);break;case 1:Ha(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Oh(a,a.return,s),vn(a);break;case 27:Xl(a.stateNode);case 26:case 5:Ha(a,a.return),vn(a);break;case 22:a.memoizedState===null&&vn(a);break;case 30:vn(a);break;default:vn(a)}t=t.sibling}}function ms(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var n=a.alternate,i=t,c=a,m=c.flags;switch(c.tag){case 0:case 11:case 15:ms(i,c,s),Fl(4,c);break;case 1:if(ms(i,c,s),n=c,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(ie){Je(n,n.return,ie)}if(n=c,i=n.updateQueue,i!==null){var T=n.stateNode;try{var W=i.shared.hiddenCallbacks;if(W!==null)for(i.shared.hiddenCallbacks=null,i=0;i<W.length;i++)Su(W[i],T)}catch(ie){Je(n,n.return,ie)}}s&&m&64&&Rh(c),Pl(c,c.return);break;case 27:Ih(c);case 26:case 5:ms(i,c,s),s&&n===null&&m&4&&Uh(c),Pl(c,c.return);break;case 12:ms(i,c,s);break;case 31:ms(i,c,s),s&&m&4&&qh(i,c);break;case 13:ms(i,c,s),s&&m&4&&Gh(i,c);break;case 22:c.memoizedState===null&&ms(i,c,s),Pl(c,c.return);break;case 30:break;default:ms(i,c,s)}a=a.sibling}}function hc(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Al(s))}function mc(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Al(t))}function Ba(t,a,s,n){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Vh(t,a,s,n),a=a.sibling}function Vh(t,a,s,n){var i=a.flags;switch(a.tag){case 0:case 11:case 15:Ba(t,a,s,n),i&2048&&Fl(9,a);break;case 1:Ba(t,a,s,n);break;case 3:Ba(t,a,s,n),i&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Al(t)));break;case 12:if(i&2048){Ba(t,a,s,n),t=a.stateNode;try{var c=a.memoizedProps,m=c.id,T=c.onPostCommit;typeof T=="function"&&T(m,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(W){Je(a,a.return,W)}}else Ba(t,a,s,n);break;case 31:Ba(t,a,s,n);break;case 13:Ba(t,a,s,n);break;case 23:break;case 22:c=a.stateNode,m=a.alternate,a.memoizedState!==null?c._visibility&2?Ba(t,a,s,n):Hl(t,a):c._visibility&2?Ba(t,a,s,n):(c._visibility|=2,Yn(t,a,s,n,(a.subtreeFlags&10256)!==0||!1)),i&2048&&hc(m,a);break;case 24:Ba(t,a,s,n),i&2048&&mc(a.alternate,a);break;default:Ba(t,a,s,n)}}function Yn(t,a,s,n,i){for(i=i&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var c=t,m=a,T=s,W=n,ie=m.flags;switch(m.tag){case 0:case 11:case 15:Yn(c,m,T,W,i),Fl(8,m);break;case 23:break;case 22:var he=m.stateNode;m.memoizedState!==null?he._visibility&2?Yn(c,m,T,W,i):Hl(c,m):(he._visibility|=2,Yn(c,m,T,W,i)),i&&ie&2048&&hc(m.alternate,m);break;case 24:Yn(c,m,T,W,i),i&&ie&2048&&mc(m.alternate,m);break;default:Yn(c,m,T,W,i)}a=a.sibling}}function Hl(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,n=a,i=n.flags;switch(n.tag){case 22:Hl(s,n),i&2048&&hc(n.alternate,n);break;case 24:Hl(s,n),i&2048&&mc(n.alternate,n);break;default:Hl(s,n)}a=a.sibling}}var $l=8192;function Vn(t,a,s){if(t.subtreeFlags&$l)for(t=t.child;t!==null;)Qh(t,a,s),t=t.sibling}function Qh(t,a,s){switch(t.tag){case 26:Vn(t,a,s),t.flags&$l&&t.memoizedState!==null&&Bg(s,Da,t.memoizedState,t.memoizedProps);break;case 5:Vn(t,a,s);break;case 3:case 4:var n=Da;Da=xr(t.stateNode.containerInfo),Vn(t,a,s),Da=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=$l,$l=16777216,Vn(t,a,s),$l=n):Vn(t,a,s));break;default:Vn(t,a,s)}}function Xh(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function ql(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];Mt=n,Jh(n,t)}Xh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zh(t),t=t.sibling}function Zh(t){switch(t.tag){case 0:case 11:case 15:ql(t),t.flags&2048&&zs(9,t,t.return);break;case 3:ql(t);break;case 12:ql(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,sr(t)):ql(t);break;default:ql(t)}}function sr(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];Mt=n,Jh(n,t)}Xh(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:zs(8,a,a.return),sr(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,sr(a));break;default:sr(a)}t=t.sibling}}function Jh(t,a){for(;Mt!==null;){var s=Mt;switch(s.tag){case 0:case 11:case 15:zs(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var n=s.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Al(s.memoizedState.cache)}if(n=s.child,n!==null)n.return=s,Mt=n;else e:for(s=t;Mt!==null;){n=Mt;var i=n.sibling,c=n.return;if(Hh(n),n===s){Mt=null;break e}if(i!==null){i.return=c,Mt=i;break e}Mt=c}}}var Vx={getCacheForType:function(t){var a=_t(wt),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s},cacheSignal:function(){return _t(wt).controller.signal}},Qx=typeof WeakMap=="function"?WeakMap:Map,Xe=0,nt=null,Ie=null,Pe=0,Ze=0,ca=null,Is=!1,Qn=!1,fc=!1,fs=0,bt=0,Fs=0,Nn=0,pc=0,da=0,Xn=0,Gl=null,Kt=null,xc=!1,nr=0,Kh=0,lr=1/0,ir=null,Ps=null,Et=0,Hs=null,Zn=null,ps=0,gc=0,bc=null,em=null,Wl=0,yc=null;function ua(){return(Xe&2)!==0&&Pe!==0?Pe&-Pe:H.T!==null?kc():Le()}function tm(){if(da===0)if((Pe&536870912)===0||qe){var t=Oa;Oa<<=1,(Oa&3932160)===0&&(Oa=262144),da=t}else da=536870912;return t=ra.current,t!==null&&(t.flags|=32),da}function ea(t,a,s){(t===nt&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Jn(t,0),$s(t,Pe,da,!1)),It(t,s),((Xe&2)===0||t!==nt)&&(t===nt&&((Xe&2)===0&&(Nn|=s),bt===4&&$s(t,Pe,da,!1)),$a(t))}function am(t,a,s){if((Xe&6)!==0)throw Error(d(327));var n=!s&&(a&127)===0&&(a&t.expiredLanes)===0||Ca(t,a),i=n?Jx(t,a):vc(t,a,!0),c=n;do{if(i===0){Qn&&!n&&$s(t,a,0,!1);break}else{if(s=t.current.alternate,c&&!Xx(s)){i=vc(t,a,!1),c=!1;continue}if(i===2){if(c=a,t.errorRecoveryDisabledLanes&c)var m=0;else m=t.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){a=m;e:{var T=t;i=Gl;var W=T.current.memoizedState.isDehydrated;if(W&&(Jn(T,m).flags|=256),m=vc(T,m,!1),m!==2){if(fc&&!W){T.errorRecoveryDisabledLanes|=c,Nn|=c,i=4;break e}c=Kt,Kt=i,c!==null&&(Kt===null?Kt=c:Kt.push.apply(Kt,c))}i=m}if(c=!1,i!==2)continue}}if(i===1){Jn(t,0),$s(t,a,0,!0);break}e:{switch(n=t,c=i,c){case 0:case 1:throw Error(d(345));case 4:if((a&4194048)!==a)break;case 6:$s(n,a,da,!Is);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(d(329))}if((a&62914560)===a&&(i=nr+300-At(),10<i)){if($s(n,a,da,!Is),xt(n,0,!0)!==0)break e;ps=a,n.timeoutHandle=Bm(sm.bind(null,n,s,Kt,ir,xc,a,da,Nn,Xn,Is,c,"Throttled",-0,0),i);break e}sm(n,s,Kt,ir,xc,a,da,Nn,Xn,Is,c,null,-0,0)}}break}while(!0);$a(t)}function sm(t,a,s,n,i,c,m,T,W,ie,he,pe,oe,de){if(t.timeoutHandle=-1,pe=a.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:es},Qh(a,c,pe);var Se=(c&62914560)===c?nr-At():(c&4194048)===c?Kh-At():0;if(Se=_g(pe,Se),Se!==null){ps=c,t.cancelPendingCommit=Se(um.bind(null,t,a,c,s,n,i,m,T,W,he,pe,null,oe,de)),$s(t,c,m,!ie);return}}um(t,a,c,s,n,i,m,T,W)}function Xx(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var n=0;n<s.length;n++){var i=s[n],c=i.getSnapshot;i=i.value;try{if(!la(c(),i))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function $s(t,a,s,n){a&=~pc,a&=~Nn,t.suspendedLanes|=a,t.pingedLanes&=~a,n&&(t.warmLanes|=a),n=t.expirationTimes;for(var i=a;0<i;){var c=31-Nt(i),m=1<<c;n[c]=-1,i&=~m}s!==0&&Ua(t,s,a)}function rr(){return(Xe&6)===0?(Yl(0),!1):!0}function jc(){if(Ie!==null){if(Ze===0)var t=Ie.return;else t=Ie,ns=mn=null,Oo(t),Hn=null,Tl=0,t=Ie;for(;t!==null;)_h(t.alternate,t),t=t.return;Ie=null}}function Jn(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,xg(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ps=0,jc(),nt=t,Ie=s=as(t.current,null),Pe=a,Ze=0,ca=null,Is=!1,Qn=Ca(t,a),fc=!1,Xn=da=pc=Nn=Fs=bt=0,Kt=Gl=null,xc=!1,(a&8)!==0&&(a|=a&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=a;0<n;){var i=31-Nt(n),c=1<<i;a|=t[i],n&=~c}return fs=a,Ei(),s}function nm(t,a){Oe=null,H.H=Ul,a===Pn||a===Oi?(a=ju(),Ze=3):a===So?(a=ju(),Ze=4):Ze=a===Jo?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ca=a,Ie===null&&(bt=1,Xi(t,ga(a,t.current)))}function lm(){var t=ra.current;return t===null?!0:(Pe&4194048)===Pe?va===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===va:!1}function im(){var t=H.H;return H.H=Ul,t===null?Ul:t}function rm(){var t=H.A;return H.A=Vx,t}function or(){bt=4,Is||(Pe&4194048)!==Pe&&ra.current!==null||(Qn=!0),(Fs&134217727)===0&&(Nn&134217727)===0||nt===null||$s(nt,Pe,da,!1)}function vc(t,a,s){var n=Xe;Xe|=2;var i=im(),c=rm();(nt!==t||Pe!==a)&&(ir=null,Jn(t,a)),a=!1;var m=bt;e:do try{if(Ze!==0&&Ie!==null){var T=Ie,W=ca;switch(Ze){case 8:jc(),m=6;break e;case 3:case 2:case 9:case 6:ra.current===null&&(a=!0);var ie=Ze;if(Ze=0,ca=null,Kn(t,T,W,ie),s&&Qn){m=0;break e}break;default:ie=Ze,Ze=0,ca=null,Kn(t,T,W,ie)}}Zx(),m=bt;break}catch(he){nm(t,he)}while(!0);return a&&t.shellSuspendCounter++,ns=mn=null,Xe=n,H.H=i,H.A=c,Ie===null&&(nt=null,Pe=0,Ei()),m}function Zx(){for(;Ie!==null;)om(Ie)}function Jx(t,a){var s=Xe;Xe|=2;var n=im(),i=rm();nt!==t||Pe!==a?(ir=null,lr=At()+500,Jn(t,a)):Qn=Ca(t,a);e:do try{if(Ze!==0&&Ie!==null){a=Ie;var c=ca;t:switch(Ze){case 1:Ze=0,ca=null,Kn(t,a,c,1);break;case 2:case 9:if(bu(c)){Ze=0,ca=null,cm(a);break}a=function(){Ze!==2&&Ze!==9||nt!==t||(Ze=7),$a(t)},c.then(a,a);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:bu(c)?(Ze=0,ca=null,cm(a)):(Ze=0,ca=null,Kn(t,a,c,7));break;case 5:var m=null;switch(Ie.tag){case 26:m=Ie.memoizedState;case 5:case 27:var T=Ie;if(m?Vm(m):T.stateNode.complete){Ze=0,ca=null;var W=T.sibling;if(W!==null)Ie=W;else{var ie=T.return;ie!==null?(Ie=ie,cr(ie)):Ie=null}break t}}Ze=0,ca=null,Kn(t,a,c,5);break;case 6:Ze=0,ca=null,Kn(t,a,c,6);break;case 8:jc(),bt=6;break e;default:throw Error(d(462))}}Kx();break}catch(he){nm(t,he)}while(!0);return ns=mn=null,H.H=n,H.A=i,Xe=s,Ie!==null?0:(nt=null,Pe=0,Ei(),bt)}function Kx(){for(;Ie!==null&&!Ut();)om(Ie)}function om(t){var a=Dh(t.alternate,t,fs);t.memoizedProps=t.pendingProps,a===null?cr(t):Ie=a}function cm(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=Ch(s,a,a.pendingProps,a.type,void 0,Pe);break;case 11:a=Ch(s,a,a.pendingProps,a.type.render,a.ref,Pe);break;case 5:Oo(a);default:_h(s,a),a=Ie=ru(a,fs),a=Dh(s,a,fs)}t.memoizedProps=t.pendingProps,a===null?cr(t):Ie=a}function Kn(t,a,s,n){ns=mn=null,Oo(a),Hn=null,Tl=0;var i=a.return;try{if(Px(t,i,a,s,Pe)){bt=1,Xi(t,ga(s,t.current)),Ie=null;return}}catch(c){if(i!==null)throw Ie=i,c;bt=1,Xi(t,ga(s,t.current)),Ie=null;return}a.flags&32768?(qe||n===1?t=!0:Qn||(Pe&536870912)!==0?t=!1:(Is=t=!0,(n===2||n===9||n===3||n===6)&&(n=ra.current,n!==null&&n.tag===13&&(n.flags|=16384))),dm(a,t)):cr(a)}function cr(t){var a=t;do{if((a.flags&32768)!==0){dm(a,Is);return}t=a.return;var s=qx(a.alternate,a,fs);if(s!==null){Ie=s;return}if(a=a.sibling,a!==null){Ie=a;return}Ie=a=t}while(a!==null);bt===0&&(bt=5)}function dm(t,a){do{var s=Gx(t.alternate,t);if(s!==null){s.flags&=32767,Ie=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=s}while(t!==null);bt=6,Ie=null}function um(t,a,s,n,i,c,m,T,W){t.cancelPendingCommit=null;do dr();while(Et!==0);if((Xe&6)!==0)throw Error(d(327));if(a!==null){if(a===t.current)throw Error(d(177));if(c=a.lanes|a.childLanes,c|=oo,Ft(t,s,c,m,T,W),t===nt&&(Ie=nt=null,Pe=0),Zn=a,Hs=t,ps=s,gc=c,bc=i,em=n,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,sg(pt,function(){return xm(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||n){n=H.T,H.T=null,i=G.p,G.p=2,m=Xe,Xe|=4;try{Wx(t,a,s)}finally{Xe=m,G.p=i,H.T=n}}Et=1,hm(),mm(),fm()}}function hm(){if(Et===1){Et=0;var t=Hs,a=Zn,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var n=G.p;G.p=2;var i=Xe;Xe|=4;try{Wh(a,t);var c=Bc,m=Jd(t.containerInfo),T=c.focusedElem,W=c.selectionRange;if(m!==T&&T&&T.ownerDocument&&Zd(T.ownerDocument.documentElement,T)){if(W!==null&&so(T)){var ie=W.start,he=W.end;if(he===void 0&&(he=ie),"selectionStart"in T)T.selectionStart=ie,T.selectionEnd=Math.min(he,T.value.length);else{var pe=T.ownerDocument||document,oe=pe&&pe.defaultView||window;if(oe.getSelection){var de=oe.getSelection(),Se=T.textContent.length,De=Math.min(W.start,Se),at=W.end===void 0?De:Math.min(W.end,Se);!de.extend&&De>at&&(m=at,at=De,De=m);var ae=Xd(T,De),X=Xd(T,at);if(ae&&X&&(de.rangeCount!==1||de.anchorNode!==ae.node||de.anchorOffset!==ae.offset||de.focusNode!==X.node||de.focusOffset!==X.offset)){var le=pe.createRange();le.setStart(ae.node,ae.offset),de.removeAllRanges(),De>at?(de.addRange(le),de.extend(X.node,X.offset)):(le.setEnd(X.node,X.offset),de.addRange(le))}}}}for(pe=[],de=T;de=de.parentNode;)de.nodeType===1&&pe.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<pe.length;T++){var fe=pe[T];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Nr=!!Dc,Bc=Dc=null}finally{Xe=i,G.p=n,H.T=s}}t.current=a,Et=2}}function mm(){if(Et===2){Et=0;var t=Hs,a=Zn,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var n=G.p;G.p=2;var i=Xe;Xe|=4;try{Ph(t,a.alternate,a)}finally{Xe=i,G.p=n,H.T=s}}Et=3}}function fm(){if(Et===4||Et===3){Et=0,ta();var t=Hs,a=Zn,s=ps,n=em;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Et=5:(Et=0,Zn=Hs=null,pm(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Ps=null),pa(s),a=a.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Dt,a,void 0,(a.current.flags&128)===128)}catch{}if(n!==null){a=H.T,i=G.p,G.p=2,H.T=null;try{for(var c=t.onRecoverableError,m=0;m<n.length;m++){var T=n[m];c(T.value,{componentStack:T.stack})}}finally{H.T=a,G.p=i}}(ps&3)!==0&&dr(),$a(t),i=t.pendingLanes,(s&261930)!==0&&(i&42)!==0?t===yc?Wl++:(Wl=0,yc=t):Wl=0,Yl(0)}}function pm(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Al(a)))}function dr(){return hm(),mm(),fm(),xm()}function xm(){if(Et!==5)return!1;var t=Hs,a=gc;gc=0;var s=pa(ps),n=H.T,i=G.p;try{G.p=32>s?32:s,H.T=null,s=bc,bc=null;var c=Hs,m=ps;if(Et=0,Zn=Hs=null,ps=0,(Xe&6)!==0)throw Error(d(331));var T=Xe;if(Xe|=4,Zh(c.current),Vh(c,c.current,m,s),Xe=T,Yl(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Dt,c)}catch{}return!0}finally{G.p=i,H.T=n,pm(t,a)}}function gm(t,a,s){a=ga(s,a),a=Zo(t.stateNode,a,2),t=Rs(t,a,2),t!==null&&(It(t,2),$a(t))}function Je(t,a,s){if(t.tag===3)gm(t,t,s);else for(;a!==null;){if(a.tag===3){gm(a,t,s);break}else if(a.tag===1){var n=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ps===null||!Ps.has(n))){t=ga(s,t),s=bh(2),n=Rs(a,s,2),n!==null&&(yh(s,n,a,t),It(n,2),$a(n));break}}a=a.return}}function Nc(t,a,s){var n=t.pingCache;if(n===null){n=t.pingCache=new Qx;var i=new Set;n.set(a,i)}else i=n.get(a),i===void 0&&(i=new Set,n.set(a,i));i.has(s)||(fc=!0,i.add(s),t=eg.bind(null,t,a,s),a.then(t,t))}function eg(t,a,s){var n=t.pingCache;n!==null&&n.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,nt===t&&(Pe&s)===s&&(bt===4||bt===3&&(Pe&62914560)===Pe&&300>At()-nr?(Xe&2)===0&&Jn(t,0):pc|=s,Xn===Pe&&(Xn=0)),$a(t)}function bm(t,a){a===0&&(a=Aa()),t=dn(t,a),t!==null&&(It(t,a),$a(t))}function tg(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),bm(t,s)}function ag(t,a){var s=0;switch(t.tag){case 31:case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(d(314))}n!==null&&n.delete(a),bm(t,s)}function sg(t,a){return ft(t,a)}var ur=null,el=null,wc=!1,hr=!1,Sc=!1,qs=0;function $a(t){t!==el&&t.next===null&&(el===null?ur=el=t:el=el.next=t),hr=!0,wc||(wc=!0,lg())}function Yl(t,a){if(!Sc&&hr){Sc=!0;do for(var s=!1,n=ur;n!==null;){if(t!==0){var i=n.pendingLanes;if(i===0)var c=0;else{var m=n.suspendedLanes,T=n.pingedLanes;c=(1<<31-Nt(42|t)+1)-1,c&=i&~(m&~T),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(s=!0,Nm(n,c))}else c=Pe,c=xt(n,n===nt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(c&3)===0||Ca(n,c)||(s=!0,Nm(n,c));n=n.next}while(s);Sc=!1}}function ng(){ym()}function ym(){hr=wc=!1;var t=0;qs!==0&&pg()&&(t=qs);for(var a=At(),s=null,n=ur;n!==null;){var i=n.next,c=jm(n,a);c===0?(n.next=null,s===null?ur=i:s.next=i,i===null&&(el=s)):(s=n,(t!==0||(c&3)!==0)&&(hr=!0)),n=i}Et!==0&&Et!==5||Yl(t),qs!==0&&(qs=0)}function jm(t,a){for(var s=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,c=t.pendingLanes&-62914561;0<c;){var m=31-Nt(c),T=1<<m,W=i[m];W===-1?((T&s)===0||(T&n)!==0)&&(i[m]=sn(T,a)):W<=a&&(t.expiredLanes|=T),c&=~T}if(a=nt,s=Pe,s=xt(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,s===0||t===a&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&Gt(n),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ca(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(n!==null&&Gt(n),pa(s)){case 2:case 8:s=Ya;break;case 32:s=pt;break;case 268435456:s=Ra;break;default:s=pt}return n=vm.bind(null,t),s=ft(s,n),t.callbackPriority=a,t.callbackNode=s,a}return n!==null&&n!==null&&Gt(n),t.callbackPriority=2,t.callbackNode=null,2}function vm(t,a){if(Et!==0&&Et!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(dr()&&t.callbackNode!==s)return null;var n=Pe;return n=xt(t,t===nt?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(am(t,n,a),jm(t,At()),t.callbackNode!=null&&t.callbackNode===s?vm.bind(null,t):null)}function Nm(t,a){if(dr())return null;am(t,a,!0)}function lg(){gg(function(){(Xe&6)!==0?ft(Wa,ng):ym()})}function kc(){if(qs===0){var t=In;t===0&&(t=Va,Va<<=1,(Va&261888)===0&&(Va=256)),qs=t}return qs}function wm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ji(""+t)}function Sm(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function ig(t,a,s,n,i){if(a==="submit"&&s&&s.stateNode===i){var c=wm((i[ht]||null).action),m=n.submitter;m&&(a=(a=m[ht]||null)?wm(a.formAction):m.getAttribute("formAction"),a!==null&&(c=a,m=null));var T=new Si("action","action",null,n,i);t.push({event:T,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(qs!==0){var W=m?Sm(i,m):new FormData(i);Go(s,{pending:!0,data:W,method:i.method,action:c},null,W)}}else typeof c=="function"&&(T.preventDefault(),W=m?Sm(i,m):new FormData(i),Go(s,{pending:!0,data:W,method:i.method,action:c},c,W))},currentTarget:i}]})}}for(var Cc=0;Cc<ro.length;Cc++){var Ac=ro[Cc],rg=Ac.toLowerCase(),og=Ac[0].toUpperCase()+Ac.slice(1);Ma(rg,"on"+og)}Ma(tu,"onAnimationEnd"),Ma(au,"onAnimationIteration"),Ma(su,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(Sx,"onTransitionRun"),Ma(kx,"onTransitionStart"),Ma(Cx,"onTransitionCancel"),Ma(nu,"onTransitionEnd"),Ge("onMouseEnter",["mouseout","mouseover"]),Ge("onMouseLeave",["mouseout","mouseover"]),Ge("onPointerEnter",["pointerout","pointerover"]),Ge("onPointerLeave",["pointerout","pointerover"]),Ae("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ae("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ae("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ae("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function km(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],i=n.event;n=n.listeners;e:{var c=void 0;if(a)for(var m=n.length-1;0<=m;m--){var T=n[m],W=T.instance,ie=T.currentTarget;if(T=T.listener,W!==c&&i.isPropagationStopped())break e;c=T,i.currentTarget=ie;try{c(i)}catch(he){Ai(he)}i.currentTarget=null,c=W}else for(m=0;m<n.length;m++){if(T=n[m],W=T.instance,ie=T.currentTarget,T=T.listener,W!==c&&i.isPropagationStopped())break e;c=T,i.currentTarget=ie;try{c(i)}catch(he){Ai(he)}i.currentTarget=null,c=W}}}}function Fe(t,a){var s=a[Ta];s===void 0&&(s=a[Ta]=new Set);var n=t+"__bubble";s.has(n)||(Cm(a,t,2,!1),s.add(n))}function Ec(t,a,s){var n=0;a&&(n|=4),Cm(s,t,n,a)}var mr="_reactListening"+Math.random().toString(36).slice(2);function Tc(t){if(!t[mr]){t[mr]=!0,be.forEach(function(s){s!=="selectionchange"&&(cg.has(s)||Ec(s,!1,t),Ec(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[mr]||(a[mr]=!0,Ec("selectionchange",!1,a))}}function Cm(t,a,s,n){switch(tf(a)){case 2:var i=Ug;break;case 8:i=zg;break;default:i=qc}s=i.bind(null,a,s,t),i=void 0,!Vr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(a,s,{capture:!0,passive:i}):t.addEventListener(a,s,!0):i!==void 0?t.addEventListener(a,s,{passive:i}):t.addEventListener(a,s,!1)}function Lc(t,a,s,n,i){var c=n;if((a&1)===0&&(a&2)===0&&n!==null)e:for(;;){if(n===null)return;var m=n.tag;if(m===3||m===4){var T=n.stateNode.containerInfo;if(T===i)break;if(m===4)for(m=n.return;m!==null;){var W=m.tag;if((W===3||W===4)&&m.stateNode.containerInfo===i)return;m=m.return}for(;T!==null;){if(m=za(T),m===null)return;if(W=m.tag,W===5||W===6||W===26||W===27){n=c=m;continue e}T=T.parentNode}}n=n.return}Md(function(){var ie=c,he=Wr(s),pe=[];e:{var oe=lu.get(t);if(oe!==void 0){var de=Si,Se=t;switch(t){case"keypress":if(Ni(s)===0)break e;case"keydown":case"keyup":de=ax;break;case"focusin":Se="focus",de=Jr;break;case"focusout":Se="blur",de=Jr;break;case"beforeblur":case"afterblur":de=Jr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=_d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=qp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=lx;break;case tu:case au:case su:de=Yp;break;case nu:de=rx;break;case"scroll":case"scrollend":de=Hp;break;case"wheel":de=cx;break;case"copy":case"cut":case"paste":de=Qp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Od;break;case"toggle":case"beforetoggle":de=ux}var De=(a&4)!==0,at=!De&&(t==="scroll"||t==="scrollend"),ae=De?oe!==null?oe+"Capture":null:oe;De=[];for(var X=ie,le;X!==null;){var fe=X;if(le=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||le===null||ae===null||(fe=xl(X,ae),fe!=null&&De.push(Ql(X,fe,le))),at)break;X=X.return}0<De.length&&(oe=new de(oe,Se,null,s,he),pe.push({event:oe,listeners:De}))}}if((a&7)===0){e:{if(oe=t==="mouseover"||t==="pointerover",de=t==="mouseout"||t==="pointerout",oe&&s!==Gr&&(Se=s.relatedTarget||s.fromElement)&&(za(Se)||Se[lt]))break e;if((de||oe)&&(oe=he.window===he?he:(oe=he.ownerDocument)?oe.defaultView||oe.parentWindow:window,de?(Se=s.relatedTarget||s.toElement,de=ie,Se=Se?za(Se):null,Se!==null&&(at=p(Se),De=Se.tag,Se!==at||De!==5&&De!==27&&De!==6)&&(Se=null)):(de=null,Se=ie),de!==Se)){if(De=_d,fe="onMouseLeave",ae="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(De=Od,fe="onPointerLeave",ae="onPointerEnter",X="pointer"),at=de==null?oe:te(de),le=Se==null?oe:te(Se),oe=new De(fe,X+"leave",de,s,he),oe.target=at,oe.relatedTarget=le,fe=null,za(he)===ie&&(De=new De(ae,X+"enter",Se,s,he),De.target=le,De.relatedTarget=at,fe=De),at=fe,de&&Se)t:{for(De=dg,ae=de,X=Se,le=0,fe=ae;fe;fe=De(fe))le++;fe=0;for(var Te=X;Te;Te=De(Te))fe++;for(;0<le-fe;)ae=De(ae),le--;for(;0<fe-le;)X=De(X),fe--;for(;le--;){if(ae===X||X!==null&&ae===X.alternate){De=ae;break t}ae=De(ae),X=De(X)}De=null}else De=null;de!==null&&Am(pe,oe,de,De,!1),Se!==null&&at!==null&&Am(pe,at,Se,De,!0)}}e:{if(oe=ie?te(ie):window,de=oe.nodeName&&oe.nodeName.toLowerCase(),de==="select"||de==="input"&&oe.type==="file")var We=qd;else if(Hd(oe))if(Gd)We=vx;else{We=yx;var ke=bx}else de=oe.nodeName,!de||de.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ie&&An(ie.elementType)&&(We=qd):We=jx;if(We&&(We=We(t,ie))){$d(pe,We,s,he);break e}ke&&ke(t,oe,ie),t==="focusout"&&ie&&oe.type==="number"&&ie.memoizedProps.value!=null&&Vt(oe,"number",oe.value)}switch(ke=ie?te(ie):window,t){case"focusin":(Hd(ke)||ke.contentEditable==="true")&&(Mn=ke,no=ie,Sl=null);break;case"focusout":Sl=no=Mn=null;break;case"mousedown":lo=!0;break;case"contextmenu":case"mouseup":case"dragend":lo=!1,Kd(pe,s,he);break;case"selectionchange":if(wx)break;case"keydown":case"keyup":Kd(pe,s,he)}var Ue;if(eo)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ln?Fd(t,s)&&(He="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(He="onCompositionStart");He&&(Ud&&s.locale!=="ko"&&(Ln||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ln&&(Ue=Dd()):(Es=he,Qr="value"in Es?Es.value:Es.textContent,Ln=!0)),ke=fr(ie,He),0<ke.length&&(He=new Rd(He,t,null,s,he),pe.push({event:He,listeners:ke}),Ue?He.data=Ue:(Ue=Pd(s),Ue!==null&&(He.data=Ue)))),(Ue=mx?fx(t,s):px(t,s))&&(He=fr(ie,"onBeforeInput"),0<He.length&&(ke=new Rd("onBeforeInput","beforeinput",null,s,he),pe.push({event:ke,listeners:He}),ke.data=Ue)),ig(pe,t,ie,s,he)}km(pe,a)})}function Ql(t,a,s){return{instance:t,listener:a,currentTarget:s}}function fr(t,a){for(var s=a+"Capture",n=[];t!==null;){var i=t,c=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||c===null||(i=xl(t,s),i!=null&&n.unshift(Ql(t,i,c)),i=xl(t,a),i!=null&&n.push(Ql(t,i,c))),t.tag===3)return n;t=t.return}return[]}function dg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Am(t,a,s,n,i){for(var c=a._reactName,m=[];s!==null&&s!==n;){var T=s,W=T.alternate,ie=T.stateNode;if(T=T.tag,W!==null&&W===n)break;T!==5&&T!==26&&T!==27||ie===null||(W=ie,i?(ie=xl(s,c),ie!=null&&m.unshift(Ql(s,ie,W))):i||(ie=xl(s,c),ie!=null&&m.push(Ql(s,ie,W)))),s=s.return}m.length!==0&&t.push({event:a,listeners:m})}var ug=/\r\n?/g,hg=/\u0000|\uFFFD/g;function Em(t){return(typeof t=="string"?t:""+t).replace(ug,`
`).replace(hg,"")}function Tm(t,a){return a=Em(a),Em(t)===a}function tt(t,a,s,n,i,c){switch(s){case"children":typeof n=="string"?a==="body"||a==="textarea"&&n===""||Ia(t,n):(typeof n=="number"||typeof n=="bigint")&&a!=="body"&&Ia(t,""+n);break;case"className":Cn(t,"class",n);break;case"tabIndex":Cn(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,s,n);break;case"style":pl(t,n,c);break;case"data":if(a!=="object"){Cn(t,"data",n);break}case"src":case"href":if(n===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(s);break}n=ji(""+n),t.setAttribute(s,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(s==="formAction"?(a!=="input"&&tt(t,a,"name",i.name,i,null),tt(t,a,"formEncType",i.formEncType,i,null),tt(t,a,"formMethod",i.formMethod,i,null),tt(t,a,"formTarget",i.formTarget,i,null)):(tt(t,a,"encType",i.encType,i,null),tt(t,a,"method",i.method,i,null),tt(t,a,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(s);break}n=ji(""+n),t.setAttribute(s,n);break;case"onClick":n!=null&&(t.onclick=es);break;case"onScroll":n!=null&&Fe("scroll",t);break;case"onScrollEnd":n!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(d(61));if(s=n.__html,s!=null){if(i.children!=null)throw Error(d(60));t.innerHTML=s}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}s=ji(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,""+n):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":n===!0?t.setAttribute(s,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,n):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(s,n):t.removeAttribute(s);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(s):t.setAttribute(s,n);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),ln(t,"popover",n);break;case"xlinkActuate":La(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":La(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":La(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":La(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":La(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":La(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":La(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":La(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":La(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ln(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=yi.get(s)||s,ln(t,s,n))}}function Mc(t,a,s,n,i,c){switch(s){case"style":pl(t,n,c);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(d(61));if(s=n.__html,s!=null){if(i.children!=null)throw Error(d(60));t.innerHTML=s}}break;case"children":typeof n=="string"?Ia(t,n):(typeof n=="number"||typeof n=="bigint")&&Ia(t,""+n);break;case"onScroll":n!=null&&Fe("scroll",t);break;case"onScrollEnd":n!=null&&Fe("scrollend",t);break;case"onClick":n!=null&&(t.onclick=es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ve.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(i=s.endsWith("Capture"),a=s.slice(2,i?s.length-7:void 0),c=t[ht]||null,c=c!=null?c[s]:null,typeof c=="function"&&t.removeEventListener(a,c,i),typeof n=="function")){typeof c!="function"&&c!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,n,i);break e}s in t?t[s]=n:n===!0?t.setAttribute(s,""):ln(t,s,n)}}}function Ot(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var n=!1,i=!1,c;for(c in s)if(s.hasOwnProperty(c)){var m=s[c];if(m!=null)switch(c){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,a));default:tt(t,a,c,m,s,null)}}i&&tt(t,a,"srcSet",s.srcSet,s,null),n&&tt(t,a,"src",s.src,s,null);return;case"input":Fe("invalid",t);var T=c=m=i=null,W=null,ie=null;for(n in s)if(s.hasOwnProperty(n)){var he=s[n];if(he!=null)switch(n){case"name":i=he;break;case"type":m=he;break;case"checked":W=he;break;case"defaultChecked":ie=he;break;case"value":c=he;break;case"defaultValue":T=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(d(137,a));break;default:tt(t,a,n,he,s,null)}}$t(t,c,T,W,ie,m,i,!1);return;case"select":Fe("invalid",t),n=m=c=null;for(i in s)if(s.hasOwnProperty(i)&&(T=s[i],T!=null))switch(i){case"value":c=T;break;case"defaultValue":m=T;break;case"multiple":n=T;default:tt(t,a,i,T,s,null)}a=c,s=m,t.multiple=!!n,a!=null?na(t,!!n,a,!1):s!=null&&na(t,!!n,s,!0);return;case"textarea":Fe("invalid",t),c=i=n=null;for(m in s)if(s.hasOwnProperty(m)&&(T=s[m],T!=null))switch(m){case"value":n=T;break;case"defaultValue":i=T;break;case"children":c=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(d(91));break;default:tt(t,a,m,T,s,null)}xi(t,n,i,c);return;case"option":for(W in s)s.hasOwnProperty(W)&&(n=s[W],n!=null)&&(W==="selected"?t.selected=n&&typeof n!="function"&&typeof n!="symbol":tt(t,a,W,n,s,null));return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(n=0;n<Vl.length;n++)Fe(Vl[n],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in s)if(s.hasOwnProperty(ie)&&(n=s[ie],n!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,a));default:tt(t,a,ie,n,s,null)}return;default:if(An(a)){for(he in s)s.hasOwnProperty(he)&&(n=s[he],n!==void 0&&Mc(t,a,he,n,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(n=s[T],n!=null&&tt(t,a,T,n,s,null))}function mg(t,a,s,n){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,c=null,m=null,T=null,W=null,ie=null,he=null;for(de in s){var pe=s[de];if(s.hasOwnProperty(de)&&pe!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":W=pe;default:n.hasOwnProperty(de)||tt(t,a,de,null,n,pe)}}for(var oe in n){var de=n[oe];if(pe=s[oe],n.hasOwnProperty(oe)&&(de!=null||pe!=null))switch(oe){case"type":c=de;break;case"name":i=de;break;case"checked":ie=de;break;case"defaultChecked":he=de;break;case"value":m=de;break;case"defaultValue":T=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(d(137,a));break;default:de!==pe&&tt(t,a,oe,de,n,pe)}}it(t,m,T,W,ie,he,c,i);return;case"select":de=m=T=oe=null;for(c in s)if(W=s[c],s.hasOwnProperty(c)&&W!=null)switch(c){case"value":break;case"multiple":de=W;default:n.hasOwnProperty(c)||tt(t,a,c,null,n,W)}for(i in n)if(c=n[i],W=s[i],n.hasOwnProperty(i)&&(c!=null||W!=null))switch(i){case"value":oe=c;break;case"defaultValue":T=c;break;case"multiple":m=c;default:c!==W&&tt(t,a,i,c,n,W)}a=T,s=m,n=de,oe!=null?na(t,!!s,oe,!1):!!n!=!!s&&(a!=null?na(t,!!s,a,!0):na(t,!!s,s?[]:"",!1));return;case"textarea":de=oe=null;for(T in s)if(i=s[T],s.hasOwnProperty(T)&&i!=null&&!n.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:tt(t,a,T,null,n,i)}for(m in n)if(i=n[m],c=s[m],n.hasOwnProperty(m)&&(i!=null||c!=null))switch(m){case"value":oe=i;break;case"defaultValue":de=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(d(91));break;default:i!==c&&tt(t,a,m,i,n,c)}Ka(t,oe,de);return;case"option":for(var Se in s)oe=s[Se],s.hasOwnProperty(Se)&&oe!=null&&!n.hasOwnProperty(Se)&&(Se==="selected"?t.selected=!1:tt(t,a,Se,null,n,oe));for(W in n)oe=n[W],de=s[W],n.hasOwnProperty(W)&&oe!==de&&(oe!=null||de!=null)&&(W==="selected"?t.selected=oe&&typeof oe!="function"&&typeof oe!="symbol":tt(t,a,W,oe,n,de));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in s)oe=s[De],s.hasOwnProperty(De)&&oe!=null&&!n.hasOwnProperty(De)&&tt(t,a,De,null,n,oe);for(ie in n)if(oe=n[ie],de=s[ie],n.hasOwnProperty(ie)&&oe!==de&&(oe!=null||de!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(d(137,a));break;default:tt(t,a,ie,oe,n,de)}return;default:if(An(a)){for(var at in s)oe=s[at],s.hasOwnProperty(at)&&oe!==void 0&&!n.hasOwnProperty(at)&&Mc(t,a,at,void 0,n,oe);for(he in n)oe=n[he],de=s[he],!n.hasOwnProperty(he)||oe===de||oe===void 0&&de===void 0||Mc(t,a,he,oe,n,de);return}}for(var ae in s)oe=s[ae],s.hasOwnProperty(ae)&&oe!=null&&!n.hasOwnProperty(ae)&&tt(t,a,ae,null,n,oe);for(pe in n)oe=n[pe],de=s[pe],!n.hasOwnProperty(pe)||oe===de||oe==null&&de==null||tt(t,a,pe,oe,n,de)}function Lm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fg(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,s=performance.getEntriesByType("resource"),n=0;n<s.length;n++){var i=s[n],c=i.transferSize,m=i.initiatorType,T=i.duration;if(c&&T&&Lm(m)){for(m=0,T=i.responseEnd,n+=1;n<s.length;n++){var W=s[n],ie=W.startTime;if(ie>T)break;var he=W.transferSize,pe=W.initiatorType;he&&Lm(pe)&&(W=W.responseEnd,m+=he*(W<T?1:(T-ie)/(W-ie)))}if(--n,a+=8*(c+m)/(i.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Dc=null,Bc=null;function pr(t){return t.nodeType===9?t:t.ownerDocument}function Mm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dm(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function _c(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Rc=null;function pg(){var t=window.event;return t&&t.type==="popstate"?t===Rc?!1:(Rc=t,!0):(Rc=null,!1)}var Bm=typeof setTimeout=="function"?setTimeout:void 0,xg=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,gg=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(t){return _m.resolve(null).then(t).catch(bg)}:Bm;function bg(t){setTimeout(function(){throw t})}function Gs(t){return t==="head"}function Rm(t,a){var s=a,n=0;do{var i=s.nextSibling;if(t.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"||s==="/&"){if(n===0){t.removeChild(i),nl(a);return}n--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")n++;else if(s==="html")Xl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Xl(s);for(var c=s.firstChild;c;){var m=c.nextSibling,T=c.nodeName;c[Za]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&c.rel.toLowerCase()==="stylesheet"||s.removeChild(c),c=m}}else s==="body"&&Xl(t.ownerDocument.body);s=i}while(s);nl(a)}function Om(t,a){var s=t;t=0;do{var n=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=n}while(s)}function Oc(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Oc(s),Ja(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function yg(t,a,s,n){for(;t.nodeType===1;){var i=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[Za])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(c=t.getAttribute("rel"),c==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(c!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(c=t.getAttribute("src"),(c!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&c&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var c=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===c)return t}else return t;if(t=Na(t.nextSibling),t===null)break}return null}function jg(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Na(t.nextSibling),t===null))return null;return t}function Um(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Na(t.nextSibling),t===null))return null;return t}function Uc(t){return t.data==="$?"||t.data==="$~"}function zc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vg(t,a){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||s.readyState!=="loading")a();else{var n=function(){a(),s.removeEventListener("DOMContentLoaded",n)};s.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function Na(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var Ic=null;function zm(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(a===0)return Na(t.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}t=t.nextSibling}return null}function Im(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return t;a--}else s!=="/$"&&s!=="/&"||a++}t=t.previousSibling}return null}function Fm(t,a,s){switch(a=pr(s),t){case"html":if(t=a.documentElement,!t)throw Error(d(452));return t;case"head":if(t=a.head,!t)throw Error(d(453));return t;case"body":if(t=a.body,!t)throw Error(d(454));return t;default:throw Error(d(451))}}function Xl(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ja(t)}var wa=new Map,Pm=new Set;function xr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xs=G.d;G.d={f:Ng,r:wg,D:Sg,C:kg,L:Cg,m:Ag,X:Tg,S:Eg,M:Lg};function Ng(){var t=xs.f(),a=rr();return t||a}function wg(t){var a=O(t);a!==null&&a.tag===5&&a.type==="form"?nh(a):xs.r(t)}var tl=typeof document>"u"?null:document;function Hm(t,a,s){var n=tl;if(n&&typeof a=="string"&&a){var i=Qe(a);i='link[rel="'+t+'"][href="'+i+'"]',typeof s=="string"&&(i+='[crossorigin="'+s+'"]'),Pm.has(i)||(Pm.add(i),t={rel:t,crossOrigin:s,href:a},n.querySelector(i)===null&&(a=n.createElement("link"),Ot(a,"link",t),ce(a),n.head.appendChild(a)))}}function Sg(t){xs.D(t),Hm("dns-prefetch",t,null)}function kg(t,a){xs.C(t,a),Hm("preconnect",t,a)}function Cg(t,a,s){xs.L(t,a,s);var n=tl;if(n&&t&&a){var i='link[rel="preload"][as="'+Qe(a)+'"]';a==="image"&&s&&s.imageSrcSet?(i+='[imagesrcset="'+Qe(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(i+='[imagesizes="'+Qe(s.imageSizes)+'"]')):i+='[href="'+Qe(t)+'"]';var c=i;switch(a){case"style":c=al(t);break;case"script":c=sl(t)}wa.has(c)||(t=f({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),wa.set(c,t),n.querySelector(i)!==null||a==="style"&&n.querySelector(Zl(c))||a==="script"&&n.querySelector(Jl(c))||(a=n.createElement("link"),Ot(a,"link",t),ce(a),n.head.appendChild(a)))}}function Ag(t,a){xs.m(t,a);var s=tl;if(s&&t){var n=a&&typeof a.as=="string"?a.as:"script",i='link[rel="modulepreload"][as="'+Qe(n)+'"][href="'+Qe(t)+'"]',c=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=sl(t)}if(!wa.has(c)&&(t=f({rel:"modulepreload",href:t},a),wa.set(c,t),s.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Jl(c)))return}n=s.createElement("link"),Ot(n,"link",t),ce(n),s.head.appendChild(n)}}}function Eg(t,a,s){xs.S(t,a,s);var n=tl;if(n&&t){var i=Y(n).hoistableStyles,c=al(t);a=a||"default";var m=i.get(c);if(!m){var T={loading:0,preload:null};if(m=n.querySelector(Zl(c)))T.loading=5;else{t=f({rel:"stylesheet",href:t,"data-precedence":a},s),(s=wa.get(c))&&Fc(t,s);var W=m=n.createElement("link");ce(W),Ot(W,"link",t),W._p=new Promise(function(ie,he){W.onload=ie,W.onerror=he}),W.addEventListener("load",function(){T.loading|=1}),W.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gr(m,a,n)}m={type:"stylesheet",instance:m,count:1,state:T},i.set(c,m)}}}function Tg(t,a){xs.X(t,a);var s=tl;if(s&&t){var n=Y(s).hoistableScripts,i=sl(t),c=n.get(i);c||(c=s.querySelector(Jl(i)),c||(t=f({src:t,async:!0},a),(a=wa.get(i))&&Pc(t,a),c=s.createElement("script"),ce(c),Ot(c,"link",t),s.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(i,c))}}function Lg(t,a){xs.M(t,a);var s=tl;if(s&&t){var n=Y(s).hoistableScripts,i=sl(t),c=n.get(i);c||(c=s.querySelector(Jl(i)),c||(t=f({src:t,async:!0,type:"module"},a),(a=wa.get(i))&&Pc(t,a),c=s.createElement("script"),ce(c),Ot(c,"link",t),s.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(i,c))}}function $m(t,a,s,n){var i=(i=P.current)?xr(i):null;if(!i)throw Error(d(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=al(s.href),s=Y(i).hoistableStyles,n=s.get(a),n||(n={type:"style",instance:null,count:0,state:null},s.set(a,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=al(s.href);var c=Y(i).hoistableStyles,m=c.get(t);if(m||(i=i.ownerDocument||i,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(t,m),(c=i.querySelector(Zl(t)))&&!c._p&&(m.instance=c,m.state.loading=5),wa.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},wa.set(t,s),c||Mg(i,t,s,m.state))),a&&n===null)throw Error(d(528,""));return m}if(a&&n!==null)throw Error(d(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=sl(s),s=Y(i).hoistableScripts,n=s.get(a),n||(n={type:"script",instance:null,count:0,state:null},s.set(a,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,t))}}function al(t){return'href="'+Qe(t)+'"'}function Zl(t){return'link[rel="stylesheet"]['+t+"]"}function qm(t){return f({},t,{"data-precedence":t.precedence,precedence:null})}function Mg(t,a,s,n){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?n.loading=1:(a=t.createElement("link"),n.preload=a,a.addEventListener("load",function(){return n.loading|=1}),a.addEventListener("error",function(){return n.loading|=2}),Ot(a,"link",s),ce(a),t.head.appendChild(a))}function sl(t){return'[src="'+Qe(t)+'"]'}function Jl(t){return"script[async]"+t}function Gm(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var n=t.querySelector('style[data-href~="'+Qe(s.href)+'"]');if(n)return a.instance=n,ce(n),n;var i=f({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),ce(n),Ot(n,"style",i),gr(n,s.precedence,t),a.instance=n;case"stylesheet":i=al(s.href);var c=t.querySelector(Zl(i));if(c)return a.state.loading|=4,a.instance=c,ce(c),c;n=qm(s),(i=wa.get(i))&&Fc(n,i),c=(t.ownerDocument||t).createElement("link"),ce(c);var m=c;return m._p=new Promise(function(T,W){m.onload=T,m.onerror=W}),Ot(c,"link",n),a.state.loading|=4,gr(c,s.precedence,t),a.instance=c;case"script":return c=sl(s.src),(i=t.querySelector(Jl(c)))?(a.instance=i,ce(i),i):(n=s,(i=wa.get(c))&&(n=f({},s),Pc(n,i)),t=t.ownerDocument||t,i=t.createElement("script"),ce(i),Ot(i,"link",n),t.head.appendChild(i),a.instance=i);case"void":return null;default:throw Error(d(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(n=a.instance,a.state.loading|=4,gr(n,s.precedence,t));return a.instance}function gr(t,a,s){for(var n=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,c=i,m=0;m<n.length;m++){var T=n[m];if(T.dataset.precedence===a)c=T;else if(c!==i)break}c?c.parentNode.insertBefore(t,c.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function Fc(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Pc(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var br=null;function Wm(t,a,s){if(br===null){var n=new Map,i=br=new Map;i.set(s,n)}else i=br,n=i.get(s),n||(n=new Map,i.set(s,n));if(n.has(t))return n;for(n.set(t,null),s=s.getElementsByTagName(t),i=0;i<s.length;i++){var c=s[i];if(!(c[Za]||c[ut]||t==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var m=c.getAttribute(a)||"";m=t+m;var T=n.get(m);T?T.push(c):n.set(m,[c])}}return n}function Ym(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function Dg(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Vm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Bg(t,a,s,n){if(s.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var i=al(n.href),c=a.querySelector(Zl(i));if(c){a=c._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=yr.bind(t),a.then(t,t)),s.state.loading|=4,s.instance=c,ce(c);return}c=a.ownerDocument||a,n=qm(n),(i=wa.get(i))&&Fc(n,i),c=c.createElement("link"),ce(c);var m=c;m._p=new Promise(function(T,W){m.onload=T,m.onerror=W}),Ot(c,"link",n),s.instance=c}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=yr.bind(t),a.addEventListener("load",s),a.addEventListener("error",s))}}var Hc=0;function _g(t,a){return t.stylesheets&&t.count===0&&vr(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var n=setTimeout(function(){if(t.stylesheets&&vr(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4+a);0<t.imgBytes&&Hc===0&&(Hc=62500*fg());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&vr(t,t.stylesheets),t.unsuspend)){var c=t.unsuspend;t.unsuspend=null,c()}},(t.imgBytes>Hc?50:800)+a);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function yr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var jr=null;function vr(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,jr=new Map,a.forEach(Rg,t),jr=null,yr.call(t))}function Rg(t,a){if(!(a.state.loading&4)){var s=jr.get(t);if(s)var n=s.get(null);else{s=new Map,jr.set(t,s);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<i.length;c++){var m=i[c];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(s.set(m.dataset.precedence,m),n=m)}n&&s.set(null,n)}i=a.instance,m=i.getAttribute("data-precedence"),c=s.get(m)||n,c===n&&s.set(null,i),s.set(m,i),this.count++,n=yr.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),c?c.parentNode.insertBefore(i,c.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),a.state.loading|=4}}var Kl={$$typeof:L,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Og(t,a,s,n,i,c,m,T,W){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.hiddenUpdates=fa(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=c,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function Qm(t,a,s,n,i,c,m,T,W,ie,he,pe){return t=new Og(t,a,s,m,W,ie,he,pe,T),a=1,c===!0&&(a|=24),c=ia(3,null,null,a),t.current=c,c.stateNode=t,a=vo(),a.refCount++,t.pooledCache=a,a.refCount++,c.memoizedState={element:n,isDehydrated:s,cache:a},ko(c),t}function Xm(t){return t?(t=_n,t):_n}function Zm(t,a,s,n,i,c){i=Xm(i),n.context===null?n.context=i:n.pendingContext=i,n=_s(a),n.payload={element:s},c=c===void 0?null:c,c!==null&&(n.callback=c),s=Rs(t,n,a),s!==null&&(ea(s,t,a),Ml(s,t,a))}function Jm(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function $c(t,a){Jm(t,a),(t=t.alternate)&&Jm(t,a)}function Km(t){if(t.tag===13||t.tag===31){var a=dn(t,67108864);a!==null&&ea(a,t,67108864),$c(t,67108864)}}function ef(t){if(t.tag===13||t.tag===31){var a=ua();a=aa(a);var s=dn(t,a);s!==null&&ea(s,t,a),$c(t,a)}}var Nr=!0;function Ug(t,a,s,n){var i=H.T;H.T=null;var c=G.p;try{G.p=2,qc(t,a,s,n)}finally{G.p=c,H.T=i}}function zg(t,a,s,n){var i=H.T;H.T=null;var c=G.p;try{G.p=8,qc(t,a,s,n)}finally{G.p=c,H.T=i}}function qc(t,a,s,n){if(Nr){var i=Gc(n);if(i===null)Lc(t,a,n,wr,s),af(t,n);else if(Fg(i,t,a,s,n))n.stopPropagation();else if(af(t,n),a&4&&-1<Ig.indexOf(t)){for(;i!==null;){var c=O(i);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var m=Lt(c.pendingLanes);if(m!==0){var T=c;for(T.pendingLanes|=2,T.entangledLanes|=2;m;){var W=1<<31-Nt(m);T.entanglements[1]|=W,m&=~W}$a(c),(Xe&6)===0&&(lr=At()+500,Yl(0))}}break;case 31:case 13:T=dn(c,2),T!==null&&ea(T,c,2),rr(),$c(c,2)}if(c=Gc(n),c===null&&Lc(t,a,n,wr,s),c===i)break;i=c}i!==null&&n.stopPropagation()}else Lc(t,a,n,null,s)}}function Gc(t){return t=Wr(t),Wc(t)}var wr=null;function Wc(t){if(wr=null,t=za(t),t!==null){var a=p(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=b(a),t!==null)return t;t=null}else if(s===31){if(t=w(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return wr=t,null}function tf(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ml()){case Wa:return 2;case Ya:return 8;case pt:case ws:return 32;case Ra:return 268435456;default:return 32}default:return 32}}var Yc=!1,Ws=null,Ys=null,Vs=null,ei=new Map,ti=new Map,Qs=[],Ig="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function af(t,a){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":ei.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ti.delete(a.pointerId)}}function ai(t,a,s,n,i,c){return t===null||t.nativeEvent!==c?(t={blockedOn:a,domEventName:s,eventSystemFlags:n,nativeEvent:c,targetContainers:[i]},a!==null&&(a=O(a),a!==null&&Km(a)),t):(t.eventSystemFlags|=n,a=t.targetContainers,i!==null&&a.indexOf(i)===-1&&a.push(i),t)}function Fg(t,a,s,n,i){switch(a){case"focusin":return Ws=ai(Ws,t,a,s,n,i),!0;case"dragenter":return Ys=ai(Ys,t,a,s,n,i),!0;case"mouseover":return Vs=ai(Vs,t,a,s,n,i),!0;case"pointerover":var c=i.pointerId;return ei.set(c,ai(ei.get(c)||null,t,a,s,n,i)),!0;case"gotpointercapture":return c=i.pointerId,ti.set(c,ai(ti.get(c)||null,t,a,s,n,i)),!0}return!1}function sf(t){var a=za(t.target);if(a!==null){var s=p(a);if(s!==null){if(a=s.tag,a===13){if(a=b(s),a!==null){t.blockedOn=a,Xa(t.priority,function(){ef(s)});return}}else if(a===31){if(a=w(s),a!==null){t.blockedOn=a,Xa(t.priority,function(){ef(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sr(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=Gc(t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);Gr=n,s.target.dispatchEvent(n),Gr=null}else return a=O(s),a!==null&&Km(a),t.blockedOn=s,!1;a.shift()}return!0}function nf(t,a,s){Sr(t)&&s.delete(a)}function Pg(){Yc=!1,Ws!==null&&Sr(Ws)&&(Ws=null),Ys!==null&&Sr(Ys)&&(Ys=null),Vs!==null&&Sr(Vs)&&(Vs=null),ei.forEach(nf),ti.forEach(nf)}function kr(t,a){t.blockedOn===a&&(t.blockedOn=null,Yc||(Yc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Pg)))}var Cr=null;function lf(t){Cr!==t&&(Cr=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Cr===t&&(Cr=null);for(var a=0;a<t.length;a+=3){var s=t[a],n=t[a+1],i=t[a+2];if(typeof n!="function"){if(Wc(n||s)===null)continue;break}var c=O(s);c!==null&&(t.splice(a,3),a-=3,Go(c,{pending:!0,data:i,method:s.method,action:n},n,i))}}))}function nl(t){function a(W){return kr(W,t)}Ws!==null&&kr(Ws,t),Ys!==null&&kr(Ys,t),Vs!==null&&kr(Vs,t),ei.forEach(a),ti.forEach(a);for(var s=0;s<Qs.length;s++){var n=Qs[s];n.blockedOn===t&&(n.blockedOn=null)}for(;0<Qs.length&&(s=Qs[0],s.blockedOn===null);)sf(s),s.blockedOn===null&&Qs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(n=0;n<s.length;n+=3){var i=s[n],c=s[n+1],m=i[ht]||null;if(typeof c=="function")m||lf(s);else if(m){var T=null;if(c&&c.hasAttribute("formAction")){if(i=c,m=c[ht]||null)T=m.formAction;else if(Wc(i)!==null)continue}else T=m.action;typeof T=="function"?s[n+1]=T:(s.splice(n,3),n-=3),lf(s)}}}function rf(){function t(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(m){return i=m})},focusReset:"manual",scroll:"manual"})}function a(){i!==null&&(i(),i=null),n||setTimeout(s,20)}function s(){if(!n&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){n=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),i!==null&&(i(),i=null)}}}function Vc(t){this._internalRoot=t}Ar.prototype.render=Vc.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(d(409));var s=a.current,n=ua();Zm(s,n,t,a,null,null)},Ar.prototype.unmount=Vc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Zm(t.current,2,null,t,null,null),rr(),a[lt]=null}};function Ar(t){this._internalRoot=t}Ar.prototype.unstable_scheduleHydration=function(t){if(t){var a=Le();t={blockedOn:null,target:t,priority:a};for(var s=0;s<Qs.length&&a!==0&&a<Qs[s].priority;s++);Qs.splice(s,0,t),s===0&&sf(t)}};var of=r.version;if(of!=="19.2.4")throw Error(d(527,of,"19.2.4"));G.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(d(188)):(t=Object.keys(t).join(","),Error(d(268,t)));return t=g(a),t=t!==null?j(t):null,t=t===null?null:t.stateNode,t};var Hg={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Er=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Er.isDisabled&&Er.supportsFiber)try{Dt=Er.inject(Hg),Tt=Er}catch{}}return ni.createRoot=function(t,a){if(!h(t))throw Error(d(299));var s=!1,n="",i=fh,c=ph,m=xh;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(c=a.onCaughtError),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=Qm(t,1,!1,null,null,s,n,null,i,c,m,rf),t[lt]=a.current,Tc(t),new Vc(a)},ni.hydrateRoot=function(t,a,s){if(!h(t))throw Error(d(299));var n=!1,i="",c=fh,m=ph,T=xh,W=null;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onUncaughtError!==void 0&&(c=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(W=s.formState)),a=Qm(t,1,!0,a,s??null,n,i,W,c,m,T,rf),a.context=Xm(null),s=a.current,n=ua(),n=aa(n),i=_s(n),i.callback=null,Rs(s,i,n),s=n,a.current.lanes=s,It(a,s),$a(a),t[lt]=a.current,Tc(t),new Ar(a)},ni.version="19.2.4",ni}var bf;function Jg(){if(bf)return Zc.exports;bf=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),Zc.exports=Zg(),Zc.exports}var Kg=Jg();var yf="popstate";function eb(l={}){function r(d,h){let{pathname:p,search:b,hash:w}=d.location;return dd("",{pathname:p,search:b,hash:w},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function o(d,h){return typeof h=="string"?h:ci(h)}return ab(r,o,null,l)}function dt(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function _a(l,r){if(!l){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function tb(){return Math.random().toString(36).substring(2,10)}function jf(l,r){return{usr:l.state,key:l.key,idx:r}}function dd(l,r,o=null,d){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof r=="string"?cl(r):r,state:o,key:r&&r.key||d||tb()}}function ci({pathname:l="/",search:r="",hash:o=""}){return r&&r!=="?"&&(l+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(l+=o.charAt(0)==="#"?o:"#"+o),l}function cl(l){let r={};if(l){let o=l.indexOf("#");o>=0&&(r.hash=l.substring(o),l=l.substring(0,o));let d=l.indexOf("?");d>=0&&(r.search=l.substring(d),l=l.substring(0,d)),l&&(r.pathname=l)}return r}function ab(l,r,o,d={}){let{window:h=document.defaultView,v5Compat:p=!1}=d,b=h.history,w="POP",x=null,g=j();g==null&&(g=0,b.replaceState({...b.state,idx:g},""));function j(){return(b.state||{idx:null}).idx}function f(){w="POP";let R=j(),k=R==null?null:R-g;g=R,x&&x({action:w,location:D.location,delta:k})}function y(R,k){w="PUSH";let I=dd(D.location,R,k);g=j()+1;let L=jf(I,g),C=D.createHref(I);try{b.pushState(L,"",C)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;h.location.assign(C)}p&&x&&x({action:w,location:D.location,delta:1})}function A(R,k){w="REPLACE";let I=dd(D.location,R,k);g=j();let L=jf(I,g),C=D.createHref(I);b.replaceState(L,"",C),p&&x&&x({action:w,location:D.location,delta:0})}function N(R){return sb(R)}let D={get action(){return w},get location(){return l(h,b)},listen(R){if(x)throw new Error("A history only accepts one active listener");return h.addEventListener(yf,f),x=R,()=>{h.removeEventListener(yf,f),x=null}},createHref(R){return r(h,R)},createURL:N,encodeLocation(R){let k=N(R);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:A,go(R){return b.go(R)}};return D}function sb(l,r=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),dt(o,"No window.location.(origin|href) available to create URL");let d=typeof l=="string"?l:ci(l);return d=d.replace(/ $/,"%20"),!r&&d.startsWith("//")&&(d=o+d),new URL(d,o)}function Zf(l,r,o="/"){return nb(l,r,o,!1)}function nb(l,r,o,d){let h=typeof r=="string"?cl(r):r,p=vs(h.pathname||"/",o);if(p==null)return null;let b=Jf(l);lb(b);let w=null;for(let x=0;w==null&&x<b.length;++x){let g=xb(p);w=fb(b[x],g,d)}return w}function Jf(l,r=[],o=[],d="",h=!1){let p=(b,w,x=h,g)=>{let j={relativePath:g===void 0?b.path||"":g,caseSensitive:b.caseSensitive===!0,childrenIndex:w,route:b};if(j.relativePath.startsWith("/")){if(!j.relativePath.startsWith(d)&&x)return;dt(j.relativePath.startsWith(d),`Absolute route path "${j.relativePath}" nested under path "${d}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),j.relativePath=j.relativePath.slice(d.length)}let f=js([d,j.relativePath]),y=o.concat(j);b.children&&b.children.length>0&&(dt(b.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Jf(b.children,r,y,f,x)),!(b.path==null&&!b.index)&&r.push({path:f,score:hb(f,b.index),routesMeta:y})};return l.forEach((b,w)=>{if(b.path===""||!b.path?.includes("?"))p(b,w);else for(let x of Kf(b.path))p(b,w,!0,x)}),r}function Kf(l){let r=l.split("/");if(r.length===0)return[];let[o,...d]=r,h=o.endsWith("?"),p=o.replace(/\?$/,"");if(d.length===0)return h?[p,""]:[p];let b=Kf(d.join("/")),w=[];return w.push(...b.map(x=>x===""?p:[p,x].join("/"))),h&&w.push(...b),w.map(x=>l.startsWith("/")&&x===""?"/":x)}function lb(l){l.sort((r,o)=>r.score!==o.score?o.score-r.score:mb(r.routesMeta.map(d=>d.childrenIndex),o.routesMeta.map(d=>d.childrenIndex)))}var ib=/^:[\w-]+$/,rb=3,ob=2,cb=1,db=10,ub=-2,vf=l=>l==="*";function hb(l,r){let o=l.split("/"),d=o.length;return o.some(vf)&&(d+=ub),r&&(d+=ob),o.filter(h=>!vf(h)).reduce((h,p)=>h+(ib.test(p)?rb:p===""?cb:db),d)}function mb(l,r){return l.length===r.length&&l.slice(0,-1).every((d,h)=>d===r[h])?l[l.length-1]-r[r.length-1]:0}function fb(l,r,o=!1){let{routesMeta:d}=l,h={},p="/",b=[];for(let w=0;w<d.length;++w){let x=d[w],g=w===d.length-1,j=p==="/"?r:r.slice(p.length)||"/",f=Fr({path:x.relativePath,caseSensitive:x.caseSensitive,end:g},j),y=x.route;if(!f&&g&&o&&!d[d.length-1].route.index&&(f=Fr({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},j)),!f)return null;Object.assign(h,f.params),b.push({params:h,pathname:js([p,f.pathname]),pathnameBase:jb(js([p,f.pathnameBase])),route:y}),f.pathnameBase!=="/"&&(p=js([p,f.pathnameBase]))}return b}function Fr(l,r){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[o,d]=pb(l.path,l.caseSensitive,l.end),h=r.match(o);if(!h)return null;let p=h[0],b=p.replace(/(.)\/+$/,"$1"),w=h.slice(1);return{params:d.reduce((g,{paramName:j,isOptional:f},y)=>{if(j==="*"){let N=w[y]||"";b=p.slice(0,p.length-N.length).replace(/(.)\/+$/,"$1")}const A=w[y];return f&&!A?g[j]=void 0:g[j]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:p,pathnameBase:b,pattern:l}}function pb(l,r=!1,o=!0){_a(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let d=[],h="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,w,x)=>(d.push({paramName:w,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(d.push({paramName:"*"}),h+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?h+="\\/*$":l!==""&&l!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,r?void 0:"i"),d]}function xb(l){try{return l.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return _a(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),l}}function vs(l,r){if(r==="/")return l;if(!l.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,d=l.charAt(o);return d&&d!=="/"?null:l.slice(o)||"/"}var gb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function bb(l,r="/"){let{pathname:o,search:d="",hash:h=""}=typeof l=="string"?cl(l):l,p;return o?(o=o.replace(/\/\/+/g,"/"),o.startsWith("/")?p=Nf(o.substring(1),"/"):p=Nf(o,r)):p=r,{pathname:p,search:vb(d),hash:Nb(h)}}function Nf(l,r){let o=r.replace(/\/+$/,"").split("/");return l.split("/").forEach(h=>{h===".."?o.length>1&&o.pop():h!=="."&&o.push(h)}),o.length>1?o.join("/"):"/"}function td(l,r,o,d){return`Cannot include a '${l}' character in a manually specified \`to.${r}\` field [${JSON.stringify(d)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yb(l){return l.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function bd(l){let r=yb(l);return r.map((o,d)=>d===r.length-1?o.pathname:o.pathnameBase)}function yd(l,r,o,d=!1){let h;typeof l=="string"?h=cl(l):(h={...l},dt(!h.pathname||!h.pathname.includes("?"),td("?","pathname","search",h)),dt(!h.pathname||!h.pathname.includes("#"),td("#","pathname","hash",h)),dt(!h.search||!h.search.includes("#"),td("#","search","hash",h)));let p=l===""||h.pathname==="",b=p?"/":h.pathname,w;if(b==null)w=o;else{let f=r.length-1;if(!d&&b.startsWith("..")){let y=b.split("/");for(;y[0]==="..";)y.shift(),f-=1;h.pathname=y.join("/")}w=f>=0?r[f]:"/"}let x=bb(h,w),g=b&&b!=="/"&&b.endsWith("/"),j=(p||b===".")&&o.endsWith("/");return!x.pathname.endsWith("/")&&(g||j)&&(x.pathname+="/"),x}var js=l=>l.join("/").replace(/\/\/+/g,"/"),jb=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),vb=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Nb=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l,wb=class{constructor(l,r,o,d=!1){this.status=l,this.statusText=r||"",this.internal=d,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function Sb(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}function kb(l){return l.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ep=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tp(l,r){let o=l;if(typeof o!="string"||!gb.test(o))return{absoluteURL:void 0,isExternal:!1,to:o};let d=o,h=!1;if(ep)try{let p=new URL(window.location.href),b=o.startsWith("//")?new URL(p.protocol+o):new URL(o),w=vs(b.pathname,r);b.origin===p.origin&&w!=null?o=w+b.search+b.hash:h=!0}catch{_a(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:d,isExternal:h,to:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ap=["POST","PUT","PATCH","DELETE"];new Set(ap);var Cb=["GET",...ap];new Set(Cb);var dl=u.createContext(null);dl.displayName="DataRouter";var Hr=u.createContext(null);Hr.displayName="DataRouterState";var Ab=u.createContext(!1),sp=u.createContext({isTransitioning:!1});sp.displayName="ViewTransition";var Eb=u.createContext(new Map);Eb.displayName="Fetchers";var Tb=u.createContext(null);Tb.displayName="Await";var ha=u.createContext(null);ha.displayName="Navigation";var di=u.createContext(null);di.displayName="Location";var Ga=u.createContext({outlet:null,matches:[],isDataRoute:!1});Ga.displayName="Route";var jd=u.createContext(null);jd.displayName="RouteError";var np="REACT_ROUTER_ERROR",Lb="REDIRECT",Mb="ROUTE_ERROR_RESPONSE";function Db(l){if(l.startsWith(`${np}:${Lb}:{`))try{let r=JSON.parse(l.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function Bb(l){if(l.startsWith(`${np}:${Mb}:{`))try{let r=JSON.parse(l.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new wb(r.status,r.statusText,r.data)}catch{}}function _b(l,{relative:r}={}){dt(ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:d}=u.useContext(ha),{hash:h,pathname:p,search:b}=ui(l,{relative:r}),w=p;return o!=="/"&&(w=p==="/"?o:js([o,p])),d.createHref({pathname:w,search:b,hash:h})}function ul(){return u.useContext(di)!=null}function tn(){return dt(ul(),"useLocation() may be used only in the context of a <Router> component."),u.useContext(di).location}var lp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ip(l){u.useContext(ha).static||u.useLayoutEffect(l)}function vd(){let{isDataRoute:l}=u.useContext(Ga);return l?Yb():Rb()}function Rb(){dt(ul(),"useNavigate() may be used only in the context of a <Router> component.");let l=u.useContext(dl),{basename:r,navigator:o}=u.useContext(ha),{matches:d}=u.useContext(Ga),{pathname:h}=tn(),p=JSON.stringify(bd(d)),b=u.useRef(!1);return ip(()=>{b.current=!0}),u.useCallback((x,g={})=>{if(_a(b.current,lp),!b.current)return;if(typeof x=="number"){o.go(x);return}let j=yd(x,JSON.parse(p),h,g.relative==="path");l==null&&r!=="/"&&(j.pathname=j.pathname==="/"?r:js([r,j.pathname])),(g.replace?o.replace:o.push)(j,g.state,g)},[r,o,p,h,l])}u.createContext(null);function ui(l,{relative:r}={}){let{matches:o}=u.useContext(Ga),{pathname:d}=tn(),h=JSON.stringify(bd(o));return u.useMemo(()=>yd(l,JSON.parse(h),d,r==="path"),[l,h,d,r])}function Ob(l,r){return rp(l,r)}function rp(l,r,o,d,h){dt(ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:p}=u.useContext(ha),{matches:b}=u.useContext(Ga),w=b[b.length-1],x=w?w.params:{},g=w?w.pathname:"/",j=w?w.pathnameBase:"/",f=w&&w.route;{let I=f&&f.path||"";cp(g,!f||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=tn(),A;if(r){let I=typeof r=="string"?cl(r):r;dt(j==="/"||I.pathname?.startsWith(j),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${j}" but pathname "${I.pathname}" was given in the \`location\` prop.`),A=I}else A=y;let N=A.pathname||"/",D=N;if(j!=="/"){let I=j.replace(/^\//,"").split("/");D="/"+N.replace(/^\//,"").split("/").slice(I.length).join("/")}let R=Zf(l,{pathname:D});_a(f||R!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),_a(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Pb(R&&R.map(I=>Object.assign({},I,{params:Object.assign({},x,I.params),pathname:js([j,p.encodeLocation?p.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?j:js([j,p.encodeLocation?p.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),b,o,d,h);return r&&k?u.createElement(di.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},k):k}function Ub(){let l=Wb(),r=Sb(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),o=l instanceof Error?l.stack:null,d="rgba(200,200,200, 0.5)",h={padding:"0.5rem",backgroundColor:d},p={padding:"2px 4px",backgroundColor:d},b=null;return console.error("Error handled by React Router default ErrorBoundary:",l),b=u.createElement(u.Fragment,null,u.createElement("p",null," Hey developer "),u.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",u.createElement("code",{style:p},"ErrorBoundary")," or"," ",u.createElement("code",{style:p},"errorElement")," prop on your route.")),u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},r),o?u.createElement("pre",{style:h},o):null,b)}var zb=u.createElement(Ub,null),op=class extends u.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,r){return r.location!==l.location||r.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:r.error,location:r.location,revalidation:l.revalidation||r.revalidation}}componentDidCatch(l,r){this.props.onError?this.props.onError(l,r):console.error("React Router caught the following error during render",l)}render(){let l=this.state.error;if(this.context&&typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){const o=Bb(l.digest);o&&(l=o)}let r=l!==void 0?u.createElement(Ga.Provider,{value:this.props.routeContext},u.createElement(jd.Provider,{value:l,children:this.props.component})):this.props.children;return this.context?u.createElement(Ib,{error:l},r):r}};op.contextType=Ab;var ad=new WeakMap;function Ib({children:l,error:r}){let{basename:o}=u.useContext(ha);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let d=Db(r.digest);if(d){let h=ad.get(r);if(h)throw h;let p=tp(d.location,o);if(ep&&!ad.get(r))if(p.isExternal||d.reloadDocument)window.location.href=p.absoluteURL||p.to;else{const b=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(p.to,{replace:d.replace}));throw ad.set(r,b),b}return u.createElement("meta",{httpEquiv:"refresh",content:`0;url=${p.absoluteURL||p.to}`})}}return l}function Fb({routeContext:l,match:r,children:o}){let d=u.useContext(dl);return d&&d.static&&d.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=r.route.id),u.createElement(Ga.Provider,{value:l},o)}function Pb(l,r=[],o=null,d=null,h=null){if(l==null){if(!o)return null;if(o.errors)l=o.matches;else if(r.length===0&&!o.initialized&&o.matches.length>0)l=o.matches;else return null}let p=l,b=o?.errors;if(b!=null){let j=p.findIndex(f=>f.route.id&&b?.[f.route.id]!==void 0);dt(j>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(b).join(",")}`),p=p.slice(0,Math.min(p.length,j+1))}let w=!1,x=-1;if(o)for(let j=0;j<p.length;j++){let f=p[j];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(x=j),f.route.id){let{loaderData:y,errors:A}=o,N=f.route.loader&&!y.hasOwnProperty(f.route.id)&&(!A||A[f.route.id]===void 0);if(f.route.lazy||N){w=!0,x>=0?p=p.slice(0,x+1):p=[p[0]];break}}}let g=o&&d?(j,f)=>{d(j,{location:o.location,params:o.matches?.[0]?.params??{},unstable_pattern:kb(o.matches),errorInfo:f})}:void 0;return p.reduceRight((j,f,y)=>{let A,N=!1,D=null,R=null;o&&(A=b&&f.route.id?b[f.route.id]:void 0,D=f.route.errorElement||zb,w&&(x<0&&y===0?(cp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,R=null):x===y&&(N=!0,R=f.route.hydrateFallbackElement||null)));let k=r.concat(p.slice(0,y+1)),I=()=>{let L;return A?L=D:N?L=R:f.route.Component?L=u.createElement(f.route.Component,null):f.route.element?L=f.route.element:L=j,u.createElement(Fb,{match:f,routeContext:{outlet:j,matches:k,isDataRoute:o!=null},children:L})};return o&&(f.route.ErrorBoundary||f.route.errorElement||y===0)?u.createElement(op,{location:o.location,revalidation:o.revalidation,component:D,error:A,children:I(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:g}):I()},null)}function Nd(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hb(l){let r=u.useContext(dl);return dt(r,Nd(l)),r}function $b(l){let r=u.useContext(Hr);return dt(r,Nd(l)),r}function qb(l){let r=u.useContext(Ga);return dt(r,Nd(l)),r}function wd(l){let r=qb(l),o=r.matches[r.matches.length-1];return dt(o.route.id,`${l} can only be used on routes that contain a unique "id"`),o.route.id}function Gb(){return wd("useRouteId")}function Wb(){let l=u.useContext(jd),r=$b("useRouteError"),o=wd("useRouteError");return l!==void 0?l:r.errors?.[o]}function Yb(){let{router:l}=Hb("useNavigate"),r=wd("useNavigate"),o=u.useRef(!1);return ip(()=>{o.current=!0}),u.useCallback(async(h,p={})=>{_a(o.current,lp),o.current&&(typeof h=="number"?await l.navigate(h):await l.navigate(h,{fromRouteId:r,...p}))},[l,r])}var wf={};function cp(l,r,o){!r&&!wf[l]&&(wf[l]=!0,_a(!1,o))}u.memo(Vb);function Vb({routes:l,future:r,state:o,onError:d}){return rp(l,void 0,o,d,r)}function Sn({to:l,replace:r,state:o,relative:d}){dt(ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:h}=u.useContext(ha);_a(!h,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:p}=u.useContext(Ga),{pathname:b}=tn(),w=vd(),x=yd(l,bd(p),b,d==="path"),g=JSON.stringify(x);return u.useEffect(()=>{w(JSON.parse(g),{replace:r,state:o,relative:d})},[w,g,d,r,o]),null}function gs(l){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qb({basename:l="/",children:r=null,location:o,navigationType:d="POP",navigator:h,static:p=!1,unstable_useTransitions:b}){dt(!ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let w=l.replace(/^\/*/,"/"),x=u.useMemo(()=>({basename:w,navigator:h,static:p,unstable_useTransitions:b,future:{}}),[w,h,p,b]);typeof o=="string"&&(o=cl(o));let{pathname:g="/",search:j="",hash:f="",state:y=null,key:A="default"}=o,N=u.useMemo(()=>{let D=vs(g,w);return D==null?null:{location:{pathname:D,search:j,hash:f,state:y,key:A},navigationType:d}},[w,g,j,f,y,A,d]);return _a(N!=null,`<Router basename="${w}"> is not able to match the URL "${g}${j}${f}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:u.createElement(ha.Provider,{value:x},u.createElement(di.Provider,{children:r,value:N}))}function Xb({children:l,location:r}){return Ob(ud(l),r)}function ud(l,r=[]){let o=[];return u.Children.forEach(l,(d,h)=>{if(!u.isValidElement(d))return;let p=[...r,h];if(d.type===u.Fragment){o.push.apply(o,ud(d.props.children,p));return}dt(d.type===gs,`[${typeof d.type=="string"?d.type:d.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!d.props.index||!d.props.children,"An index route cannot have child routes.");let b={id:d.props.id||p.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,middleware:d.props.middleware,loader:d.props.loader,action:d.props.action,hydrateFallbackElement:d.props.hydrateFallbackElement,HydrateFallback:d.props.HydrateFallback,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.hasErrorBoundary===!0||d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(b.children=ud(d.props.children,p)),o.push(b)}),o}var Or="get",Ur="application/x-www-form-urlencoded";function $r(l){return typeof HTMLElement<"u"&&l instanceof HTMLElement}function Zb(l){return $r(l)&&l.tagName.toLowerCase()==="button"}function Jb(l){return $r(l)&&l.tagName.toLowerCase()==="form"}function Kb(l){return $r(l)&&l.tagName.toLowerCase()==="input"}function ey(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function ty(l,r){return l.button===0&&(!r||r==="_self")&&!ey(l)}var Tr=null;function ay(){if(Tr===null)try{new FormData(document.createElement("form"),0),Tr=!1}catch{Tr=!0}return Tr}var sy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sd(l){return l!=null&&!sy.has(l)?(_a(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ur}"`),null):l}function ny(l,r){let o,d,h,p,b;if(Jb(l)){let w=l.getAttribute("action");d=w?vs(w,r):null,o=l.getAttribute("method")||Or,h=sd(l.getAttribute("enctype"))||Ur,p=new FormData(l)}else if(Zb(l)||Kb(l)&&(l.type==="submit"||l.type==="image")){let w=l.form;if(w==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=l.getAttribute("formaction")||w.getAttribute("action");if(d=x?vs(x,r):null,o=l.getAttribute("formmethod")||w.getAttribute("method")||Or,h=sd(l.getAttribute("formenctype"))||sd(w.getAttribute("enctype"))||Ur,p=new FormData(w,l),!ay()){let{name:g,type:j,value:f}=l;if(j==="image"){let y=g?`${g}.`:"";p.append(`${y}x`,"0"),p.append(`${y}y`,"0")}else g&&p.append(g,f)}}else{if($r(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Or,d=null,h=Ur,b=l}return p&&h==="text/plain"&&(b=p,p=void 0),{action:d,method:o.toLowerCase(),encType:h,formData:p,body:b}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sd(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function ly(l,r,o,d){let h=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return o?h.pathname.endsWith("/")?h.pathname=`${h.pathname}_.${d}`:h.pathname=`${h.pathname}.${d}`:h.pathname==="/"?h.pathname=`_root.${d}`:r&&vs(h.pathname,r)==="/"?h.pathname=`${r.replace(/\/$/,"")}/_root.${d}`:h.pathname=`${h.pathname.replace(/\/$/,"")}.${d}`,h}async function iy(l,r){if(l.id in r)return r[l.id];try{let o=await import(l.module);return r[l.id]=o,o}catch(o){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ry(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function oy(l,r,o){let d=await Promise.all(l.map(async h=>{let p=r.routes[h.route.id];if(p){let b=await iy(p,o);return b.links?b.links():[]}return[]}));return hy(d.flat(1).filter(ry).filter(h=>h.rel==="stylesheet"||h.rel==="preload").map(h=>h.rel==="stylesheet"?{...h,rel:"prefetch",as:"style"}:{...h,rel:"prefetch"}))}function Sf(l,r,o,d,h,p){let b=(x,g)=>o[g]?x.route.id!==o[g].route.id:!0,w=(x,g)=>o[g].pathname!==x.pathname||o[g].route.path?.endsWith("*")&&o[g].params["*"]!==x.params["*"];return p==="assets"?r.filter((x,g)=>b(x,g)||w(x,g)):p==="data"?r.filter((x,g)=>{let j=d.routes[x.route.id];if(!j||!j.hasLoader)return!1;if(b(x,g)||w(x,g))return!0;if(x.route.shouldRevalidate){let f=x.route.shouldRevalidate({currentUrl:new URL(h.pathname+h.search+h.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function cy(l,r,{includeHydrateFallback:o}={}){return dy(l.map(d=>{let h=r.routes[d.route.id];if(!h)return[];let p=[h.module];return h.clientActionModule&&(p=p.concat(h.clientActionModule)),h.clientLoaderModule&&(p=p.concat(h.clientLoaderModule)),o&&h.hydrateFallbackModule&&(p=p.concat(h.hydrateFallbackModule)),h.imports&&(p=p.concat(h.imports)),p}).flat(1))}function dy(l){return[...new Set(l)]}function uy(l){let r={},o=Object.keys(l).sort();for(let d of o)r[d]=l[d];return r}function hy(l,r){let o=new Set;return new Set(r),l.reduce((d,h)=>{let p=JSON.stringify(uy(h));return o.has(p)||(o.add(p),d.push({key:p,link:h})),d},[])}function dp(){let l=u.useContext(dl);return Sd(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function my(){let l=u.useContext(Hr);return Sd(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var kd=u.createContext(void 0);kd.displayName="FrameworkContext";function up(){let l=u.useContext(kd);return Sd(l,"You must render this element inside a <HydratedRouter> element"),l}function fy(l,r){let o=u.useContext(kd),[d,h]=u.useState(!1),[p,b]=u.useState(!1),{onFocus:w,onBlur:x,onMouseEnter:g,onMouseLeave:j,onTouchStart:f}=r,y=u.useRef(null);u.useEffect(()=>{if(l==="render"&&b(!0),l==="viewport"){let D=k=>{k.forEach(I=>{b(I.isIntersecting)})},R=new IntersectionObserver(D,{threshold:.5});return y.current&&R.observe(y.current),()=>{R.disconnect()}}},[l]),u.useEffect(()=>{if(d){let D=setTimeout(()=>{b(!0)},100);return()=>{clearTimeout(D)}}},[d]);let A=()=>{h(!0)},N=()=>{h(!1),b(!1)};return o?l!=="intent"?[p,y,{}]:[p,y,{onFocus:li(w,A),onBlur:li(x,N),onMouseEnter:li(g,A),onMouseLeave:li(j,N),onTouchStart:li(f,A)}]:[!1,y,{}]}function li(l,r){return o=>{l&&l(o),o.defaultPrevented||r(o)}}function py({page:l,...r}){let{router:o}=dp(),d=u.useMemo(()=>Zf(o.routes,l,o.basename),[o.routes,l,o.basename]);return d?u.createElement(gy,{page:l,matches:d,...r}):null}function xy(l){let{manifest:r,routeModules:o}=up(),[d,h]=u.useState([]);return u.useEffect(()=>{let p=!1;return oy(l,r,o).then(b=>{p||h(b)}),()=>{p=!0}},[l,r,o]),d}function gy({page:l,matches:r,...o}){let d=tn(),{future:h,manifest:p,routeModules:b}=up(),{basename:w}=dp(),{loaderData:x,matches:g}=my(),j=u.useMemo(()=>Sf(l,r,g,p,d,"data"),[l,r,g,p,d]),f=u.useMemo(()=>Sf(l,r,g,p,d,"assets"),[l,r,g,p,d]),y=u.useMemo(()=>{if(l===d.pathname+d.search+d.hash)return[];let D=new Set,R=!1;if(r.forEach(I=>{let L=p.routes[I.route.id];!L||!L.hasLoader||(!j.some(C=>C.route.id===I.route.id)&&I.route.id in x&&b[I.route.id]?.shouldRevalidate||L.hasClientLoader?R=!0:D.add(I.route.id))}),D.size===0)return[];let k=ly(l,w,h.unstable_trailingSlashAwareDataRequests,"data");return R&&D.size>0&&k.searchParams.set("_routes",r.filter(I=>D.has(I.route.id)).map(I=>I.route.id).join(",")),[k.pathname+k.search]},[w,h.unstable_trailingSlashAwareDataRequests,x,d,p,j,r,l,b]),A=u.useMemo(()=>cy(f,p),[f,p]),N=xy(f);return u.createElement(u.Fragment,null,y.map(D=>u.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...o})),A.map(D=>u.createElement("link",{key:D,rel:"modulepreload",href:D,...o})),N.map(({key:D,link:R})=>u.createElement("link",{key:D,nonce:o.nonce,...R,crossOrigin:R.crossOrigin??o.crossOrigin})))}function by(...l){return r=>{l.forEach(o=>{typeof o=="function"?o(r):o!=null&&(o.current=r)})}}var yy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yy&&(window.__reactRouterVersion="7.13.0")}catch{}function jy({basename:l,children:r,unstable_useTransitions:o,window:d}){let h=u.useRef();h.current==null&&(h.current=eb({window:d,v5Compat:!0}));let p=h.current,[b,w]=u.useState({action:p.action,location:p.location}),x=u.useCallback(g=>{o===!1?w(g):u.startTransition(()=>w(g))},[o]);return u.useLayoutEffect(()=>p.listen(x),[p,x]),u.createElement(Qb,{basename:l,children:r,location:b.location,navigationType:b.action,navigator:p,unstable_useTransitions:o})}var hp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mp=u.forwardRef(function({onClick:r,discover:o="render",prefetch:d="none",relative:h,reloadDocument:p,replace:b,state:w,target:x,to:g,preventScrollReset:j,viewTransition:f,unstable_defaultShouldRevalidate:y,...A},N){let{basename:D,unstable_useTransitions:R}=u.useContext(ha),k=typeof g=="string"&&hp.test(g),I=tp(g,D);g=I.to;let L=_b(g,{relative:h}),[C,v,E]=fy(d,A),q=Sy(g,{replace:b,state:w,target:x,preventScrollReset:j,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:y,unstable_useTransitions:R});function V(se){r&&r(se),se.defaultPrevented||q(se)}let _=u.createElement("a",{...A,...E,href:I.absoluteURL||L,onClick:I.isExternal||p?r:V,ref:by(N,v),target:x,"data-discover":!k&&o==="render"?"true":void 0});return C&&!k?u.createElement(u.Fragment,null,_,u.createElement(py,{page:L})):_});mp.displayName="Link";var vy=u.forwardRef(function({"aria-current":r="page",caseSensitive:o=!1,className:d="",end:h=!1,style:p,to:b,viewTransition:w,children:x,...g},j){let f=ui(b,{relative:g.relative}),y=tn(),A=u.useContext(Hr),{navigator:N,basename:D}=u.useContext(ha),R=A!=null&&Ty(f)&&w===!0,k=N.encodeLocation?N.encodeLocation(f).pathname:f.pathname,I=y.pathname,L=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;o||(I=I.toLowerCase(),L=L?L.toLowerCase():null,k=k.toLowerCase()),L&&D&&(L=vs(L,D)||L);const C=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let v=I===k||!h&&I.startsWith(k)&&I.charAt(C)==="/",E=L!=null&&(L===k||!h&&L.startsWith(k)&&L.charAt(k.length)==="/"),q={isActive:v,isPending:E,isTransitioning:R},V=v?r:void 0,_;typeof d=="function"?_=d(q):_=[d,v?"active":null,E?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let se=typeof p=="function"?p(q):p;return u.createElement(mp,{...g,"aria-current":V,className:_,ref:j,style:se,to:b,viewTransition:w},typeof x=="function"?x(q):x)});vy.displayName="NavLink";var Ny=u.forwardRef(({discover:l="render",fetcherKey:r,navigate:o,reloadDocument:d,replace:h,state:p,method:b=Or,action:w,onSubmit:x,relative:g,preventScrollReset:j,viewTransition:f,unstable_defaultShouldRevalidate:y,...A},N)=>{let{unstable_useTransitions:D}=u.useContext(ha),R=Ay(),k=Ey(w,{relative:g}),I=b.toLowerCase()==="get"?"get":"post",L=typeof w=="string"&&hp.test(w),C=v=>{if(x&&x(v),v.defaultPrevented)return;v.preventDefault();let E=v.nativeEvent.submitter,q=E?.getAttribute("formmethod")||b,V=()=>R(E||v.currentTarget,{fetcherKey:r,method:q,navigate:o,replace:h,state:p,relative:g,preventScrollReset:j,viewTransition:f,unstable_defaultShouldRevalidate:y});D&&o!==!1?u.startTransition(()=>V()):V()};return u.createElement("form",{ref:N,method:I,action:k,onSubmit:d?x:C,...A,"data-discover":!L&&l==="render"?"true":void 0})});Ny.displayName="Form";function wy(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fp(l){let r=u.useContext(dl);return dt(r,wy(l)),r}function Sy(l,{target:r,replace:o,state:d,preventScrollReset:h,relative:p,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:x}={}){let g=vd(),j=tn(),f=ui(l,{relative:p});return u.useCallback(y=>{if(ty(y,r)){y.preventDefault();let A=o!==void 0?o:ci(j)===ci(f),N=()=>g(l,{replace:A,state:d,preventScrollReset:h,relative:p,viewTransition:b,unstable_defaultShouldRevalidate:w});x?u.startTransition(()=>N()):N()}},[j,g,f,o,d,r,l,h,p,b,w,x])}var ky=0,Cy=()=>`__${String(++ky)}__`;function Ay(){let{router:l}=fp("useSubmit"),{basename:r}=u.useContext(ha),o=Gb(),d=l.fetch,h=l.navigate;return u.useCallback(async(p,b={})=>{let{action:w,method:x,encType:g,formData:j,body:f}=ny(p,r);if(b.navigate===!1){let y=b.fetcherKey||Cy();await d(y,o,b.action||w,{unstable_defaultShouldRevalidate:b.unstable_defaultShouldRevalidate,preventScrollReset:b.preventScrollReset,formData:j,body:f,formMethod:b.method||x,formEncType:b.encType||g,flushSync:b.flushSync})}else await h(b.action||w,{unstable_defaultShouldRevalidate:b.unstable_defaultShouldRevalidate,preventScrollReset:b.preventScrollReset,formData:j,body:f,formMethod:b.method||x,formEncType:b.encType||g,replace:b.replace,state:b.state,fromRouteId:o,flushSync:b.flushSync,viewTransition:b.viewTransition})},[d,h,r,o])}function Ey(l,{relative:r}={}){let{basename:o}=u.useContext(ha),d=u.useContext(Ga);dt(d,"useFormAction must be used inside a RouteContext");let[h]=d.matches.slice(-1),p={...ui(l||".",{relative:r})},b=tn();if(l==null){p.search=b.search;let w=new URLSearchParams(p.search),x=w.getAll("index");if(x.some(j=>j==="")){w.delete("index"),x.filter(f=>f).forEach(f=>w.append("index",f));let j=w.toString();p.search=j?`?${j}`:""}}return(!l||l===".")&&h.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(p.pathname=p.pathname==="/"?o:js([o,p.pathname])),ci(p)}function Ty(l,{relative:r}={}){let o=u.useContext(sp);dt(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:d}=fp("useViewTransitionState"),h=ui(l,{relative:r});if(!o.isTransitioning)return!1;let p=vs(o.currentLocation.pathname,d)||o.currentLocation.pathname,b=vs(o.nextLocation.pathname,d)||o.nextLocation.pathname;return Fr(h.pathname,b)!=null||Fr(h.pathname,p)!=null}var Cd=Xf();const Ly="/api/index.php?path=",kf=l=>{if(!l)return"";const r=String(l).replace(/\/+$/,"");return r.includes("?path=")||/\/api\/index\.php$/i.test(r)||/\/index\.php$/i.test(r)||/\/api$/i.test(r)?r:r+"/api"},My=()=>{const l=kf("https://bettorplays247.com/api/index.php?path=");return l||kf(Ly)},en=My(),Dy=en.includes("?path="),xe=(l="",r=null)=>{const o=l?l.startsWith("/")?l:`/${l}`:"",d=r&&Object.keys(r).length>0?new URLSearchParams(r).toString():"";if(Dy){const p=`${en}${o}`;return d?`${p}&${d}`:p}const h=`${en}${o}`;return d?`${h}?${d}`:h};en.replace(/\/api\/?$/,"");const Ks=l=>String(l||"straight").toLowerCase().replace(/-/g,"_").trim(),ge=(l=null)=>{const r={"Content-Type":"application/json","Bypass-Tunnel-Remainder":"true"};return l&&(r.Authorization=`Bearer ${l}`),r},hi=async(l,r)=>{const d=(l.headers.get("content-type")||"").toLowerCase().includes("application/json"),h=await l.text();let p=null;if(d&&h)try{p=JSON.parse(h)}catch{p=null}if(!l.ok){const b=p?.message||(h&&!d?`${r}: received HTML/non-JSON response from ${l.url}`:r);throw new Error(b)}if(d){if(!h)return{};try{return JSON.parse(h)}catch{throw new Error(`${r}: server returned invalid JSON`)}}throw new Error(`${r}: expected JSON but received non-JSON response from ${l.url}`)},By=async(l,r)=>{const o=await fetch(xe("/auth/login"),{method:"POST",headers:ge(),body:JSON.stringify({username:l,password:r})});return hi(o,"Login failed")},_y=async l=>{const r=await fetch(xe("/wallet/balance"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch balance");return r.json()},Ns=async l=>{const r=await fetch(xe("/auth/me"),{headers:ge(l)});if(!r.ok){const o=await r.json().catch(()=>({})),d=new Error(o.message||"Failed to fetch user profile");throw d.status=r.status,d}return r.json()},Ry=async(l,r)=>{const o=await fetch(xe("/auth/profile"),{method:"PUT",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json();throw new Error(d.message||"Failed to update profile")}return o.json()},pp=async()=>{const l=await fetch(xe("/matches"),{headers:ge()});if(!l.ok)throw new Error("Failed to fetch matches");return l.json()},Oy=async()=>{const l=await fetch(xe("/matches",{status:"live"}),{headers:ge()});if(!l.ok)throw new Error("Failed to fetch live matches");return l.json()},Uy=async(l,r)=>{const o=Ks(l?.type||"straight"),d=Array.isArray(l?.selections)?l.selections.map(b=>({...b,type:Ks(b?.type||b?.marketType||"straight")})):void 0,h={...l,type:o,selections:d},p=await fetch(xe("/bets/place"),{method:"POST",headers:ge(r),body:JSON.stringify(h)});if(!p.ok){const b=await p.json();throw new Error(b.message||"Failed to place bet")}return p.json()},zy=async l=>{const r=await fetch(xe("/betting/rules"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch bet mode rules");return r.json()},Ad=async l=>{const r=await fetch(xe("/bets/my-bets"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch my bets");return r.json()},xp=async l=>{const r=await fetch(xe("/casino/categories"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch casino categories");return r.json()},gp=async({token:l,category:r="lobby",search:o="",featured:d=!1,page:h=1,limit:p=48}={})=>{const b=new URLSearchParams;r&&b.set("category",r),o&&b.set("search",o),d&&b.set("featured","true"),b.set("page",String(h)),b.set("limit",String(p));const w=await fetch(xe("/casino/games",Object.fromEntries(b)),{headers:ge(l)});if(!w.ok)throw new Error("Failed to fetch casino games");return w.json()},bp=async(l,r)=>{const o=await fetch(xe(`/casino/games/${l}/launch`),{method:"POST",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to launch casino game")}return o.json()},Iy=async(l,r,o)=>{const d=await fetch(xe("/wallet/request-deposit"),{method:"POST",headers:ge(o),body:JSON.stringify({amount:l,method:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to request deposit")}return d.json()},Fy=async(l,r,o)=>{const d=await fetch(xe("/wallet/request-withdrawal"),{method:"POST",headers:ge(o),body:JSON.stringify({amount:l,method:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to request withdrawal")}return d.json()},Py=async(l,{type:r="",status:o="",limit:d=50}={})=>{const h=new URLSearchParams;r&&h.set("type",r),o&&h.set("status",o),h.set("limit",String(d));const p=await fetch(xe("/wallet/transactions",Object.fromEntries(h)),{headers:ge(l)});if(!p.ok)throw new Error("Failed to fetch wallet transactions");return p.json()},mi=async l=>{const r=await fetch(xe("/admin/agents"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch agents");return r.json()},Hy=async l=>{const r=await fetch(xe("/admin/header-summary"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch admin header summary");return r.json()},$y=async l=>{const r=await fetch(xe("/admin/system-stats"),{headers:ge(l)});if(!r.ok){const o=await r.json().catch(()=>({}));throw new Error(o.message||"Failed to fetch system stats")}return r.json()},qy=async l=>{const r=await fetch(xe("/admin/entity-catalog"),{headers:ge(l)});if(!r.ok){const o=await r.json().catch(()=>({}));throw new Error(o.message||"Failed to fetch admin entity catalog")}return r.json()},Gy=async(l,r)=>{const o=encodeURIComponent(String(l||"week")),d=await fetch(xe("/admin/weekly-figures",{period:o}),{headers:ge(r)});return hi(d,"Failed to fetch weekly figures")},Wy=async l=>{const r=await fetch(xe("/admin/pending"),{headers:ge(l)});return hi(r,"Failed to fetch pending items")},Yy=async(l,r)=>{const o=await fetch(xe("/admin/pending/approve"),{method:"POST",headers:ge(r),body:JSON.stringify({transactionId:l})});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to approve pending item")}return o.json()},Vy=async(l,r)=>{const o=await fetch(xe("/admin/pending/decline"),{method:"POST",headers:ge(r),body:JSON.stringify({transactionId:l})});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to decline pending item")}return o.json()},Qy=async l=>{const r=await fetch(xe("/admin/messages"),{headers:ge(l)});return hi(r,"Failed to fetch messages")},Xy=async(l,r)=>{const o=await fetch(xe(`/admin/messages/${l}/read`),{method:"POST",headers:ge(r)});if(!o.ok)throw new Error("Failed to mark message read");return o.json()},Zy=async(l,r,o)=>{const d=await fetch(xe(`/admin/messages/${l}/reply`),{method:"POST",headers:ge(o),body:JSON.stringify({reply:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to send reply")}return d.json()},Jy=async(l,r)=>{const o=await fetch(xe(`/admin/messages/${l}`),{method:"DELETE",headers:ge(r)});if(!o.ok)throw new Error("Failed to delete message");return o.json()},yp=async l=>{const r=await fetch(xe("/messages/me"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch messages");return r.json()},jp=async(l,r,o)=>{const d=await fetch(xe("/messages"),{method:"POST",headers:ge(o),body:JSON.stringify({subject:l,body:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to send message")}return d.json()},Ky=async l=>{const r=await fetch(xe("/content/tutorials"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch tutorials");return r.json()},ej=async l=>{const r=await fetch(xe("/content/faqs"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch FAQs");return r.json()},hl=async l=>{const r=await fetch(xe("/admin/matches"),{headers:ge(l)});return hi(r,"Failed to fetch matches")},vp=async(l,r)=>{const o=await fetch(xe("/admin/matches"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create match")}return o.json()},Np=async(l,r,o)=>{const d=await fetch(xe(`/admin/matches/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update match")}return d.json()},tj=async l=>{const r=await fetch(xe("/admin/cashier/summary"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch cashier summary");return r.json()},aj=async l=>{const r=await fetch(xe("/admin/third-party-limits"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch third party limits");return r.json()},sj=async(l,r,o)=>{const d=await fetch(xe(`/admin/third-party-limits/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update third party limit")}return d.json()},nj=async(l,r)=>{const o=await fetch(xe("/admin/third-party-limits"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create third party limit")}return o.json()},Ed=async(l,r)=>{const o=new URLSearchParams(l).toString(),d=await fetch(xe("/admin/bets",o?Object.fromEntries(new URLSearchParams(o)):{}),{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch admin bets");return d.json()},lj=async(l,r)=>{const o=new URLSearchParams(l).toString(),d=await fetch(xe("/admin/ip-tracker",o?Object.fromEntries(new URLSearchParams(o)):{}),{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch IP tracker");return d.json()},ij=async(l,r)=>{const o=await fetch(`${en}/admin/ip-tracker/${l}/block`,{method:"POST",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to block IP")}return o.json()},rj=async(l,r)=>{const o=await fetch(`${en}/admin/ip-tracker/${l}/unblock`,{method:"POST",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to unblock IP")}return o.json()},il=async(l,r)=>{const o=new URLSearchParams(l).toString(),d=await fetch(xe("/admin/transactions",o?Object.fromEntries(new URLSearchParams(o)):{}),{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch transactions history");return d.json()},Cf=async(l,r)=>{const o=await fetch(`${en}/admin/transactions`,{method:"DELETE",headers:ge(r),body:JSON.stringify({ids:l})});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to delete transactions")}return o.json()},oj=async(l,r)=>{const o=new URLSearchParams(l).toString(),d=await fetch(xe("/admin/collections",o?Object.fromEntries(new URLSearchParams(o)):{}),{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch collections");return d.json()},cj=async(l,r)=>{const o=new URLSearchParams(l).toString(),d=await fetch(xe("/admin/deleted-wagers",o?Object.fromEntries(new URLSearchParams(o)):{}),{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch deleted wagers");return d.json()},dj=async(l,r)=>{const o=await fetch(xe(`/admin/deleted-wagers/${l}/restore`),{method:"POST",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to restore wager")}return o.json()},uj=async l=>{const r=await fetch(xe("/admin/sportsbook-links"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch sportsbook links");return r.json()},hj=async(l,r)=>{const o=await fetch(xe("/admin/sportsbook-links"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create sportsbook link")}return o.json()},mj=async(l,r,o)=>{const d=await fetch(xe(`/admin/sportsbook-links/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update sportsbook link")}return d.json()},fj=async(l,r)=>{const o=await fetch(xe(`/admin/ip-tracker/${l}/whitelist`),{method:"POST",headers:{Authorization:`Bearer ${r}`}});if(!o.ok){const d=await o.json();throw new Error(d.message||"Failed to whitelist IP")}return o.json()},pj=async(l,r)=>{const o=await fetch(xe(`/admin/sportsbook-links/${l}/test`),{method:"POST",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to test sportsbook link")}return o.json()},wp=async l=>{const r=await fetch(xe("/admin/refresh-odds"),{method:"POST",headers:ge(l)});if(!r.ok){const o=await r.json().catch(()=>({}));throw new Error(o.message||"Failed to refresh odds")}return r.json()},Sp=async()=>{const l=await fetch(xe("/matches/fetch-odds"),{method:"POST"});if(!l.ok){const r=await l.json().catch(()=>({}));throw new Error(r.message||"Failed to fetch odds")}return l.json()},xj=async l=>{const r=await fetch(xe("/admin/clear-cache"),{method:"POST",headers:ge(l)});if(!r.ok){const o=await r.json().catch(()=>({}));throw new Error(o.message||"Failed to clear cache")}return r.json()},gj=async(l,r)=>{const o=await fetch(xe("/admin/collections"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create collection")}return o.json()},bj=async(l,r)=>{const o=await fetch(xe(`/admin/collections/${l}/collect`),{method:"POST",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to collect")}return o.json()},yj=async(l,r)=>{const o=await fetch(xe("/admin/bets"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create bet")}return o.json()},jj=async(l,r)=>{const o=await fetch(xe(`/admin/bets/${l}`),{method:"DELETE",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to delete bet")}return o.json()},vj=async(l,r)=>{const o=await fetch(xe("/bets/settle"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to settle bets")}return o.json()},Nj=async(l,r)=>{const o=new URLSearchParams(l).toString(),d=await fetch(xe("/admin/agent-performance",o?Object.fromEntries(new URLSearchParams(o)):{}),{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch agent performance");return d.json()},wj=async(l,r,o)=>{const d=new URLSearchParams(r||{}).toString(),h=await fetch(xe(`/admin/agent-performance/${l}/details`,d?Object.fromEntries(new URLSearchParams(d)):{}),{headers:ge(o)});if(!h.ok){const p=await h.json().catch(()=>({}));throw new Error(p.message||"Failed to fetch agent performance details")}return h.json()},Sj=async(l,r,o)=>{const d=await fetch(xe(`/agent/permissions/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify({permissions:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update permissions")}return d.json()},Pr=async(l,r)=>{try{if(console.log(" createAgent API called"),console.log(" Token parameter:",r?r.substring(0,50)+"...":"NO TOKEN PARAM"),console.log(" Agent data:",l),!r)throw new Error("No token provided. Please login first.");const o={"Content-Type":"application/json",Authorization:`Bearer ${r}`};console.log(" Request headers:",{"Content-Type":o["Content-Type"],Authorization:o.Authorization?"Bearer "+r.substring(0,30)+"...":"NONE"});const d=await fetch(xe("/admin/create-agent"),{method:"POST",headers:o,body:JSON.stringify(l)});if(console.log(" Response status:",d.status),!d.ok){let p="Failed to create agent";try{const b=await d.json();console.error(" Server error:",b),p=b.message||p}catch{p=`Server error (${d.status}): ${d.statusText}`}throw new Error(p)}const h=await d.json();return console.log(" Agent created:",h),h}catch(o){throw console.error(" Create Agent Error:",o),o instanceof TypeError?new Error("Network error - Unable to reach server. Is the backend running on port 5000?"):o}},kj=async(l,r={})=>{const o=await fetch(xe("/admin/seed-workflow-hierarchy"),{method:"POST",headers:ge(l),body:JSON.stringify({confirm:!0,...r})}),d=await o.json().catch(()=>({}));if(!o.ok)throw new Error(d.message||"Failed to seed workflow hierarchy");return d},kp=async(l,r)=>{try{if(console.log(" createUserByAdmin API called"),console.log(" Token parameter:",r?r.substring(0,50)+"...":"NO TOKEN PARAM"),console.log(" User data:",l),!r)throw new Error("No token provided. Please login first.");const o={"Content-Type":"application/json",Authorization:`Bearer ${r}`};console.log(" Request headers:",{"Content-Type":o["Content-Type"],Authorization:o.Authorization?"Bearer "+r.substring(0,30)+"...":"NONE"});const d=await fetch(xe("/admin/create-user"),{method:"POST",headers:o,body:JSON.stringify(l)});if(console.log(" Response status:",d.status),!d.ok){let p="Failed to create user";try{const b=await d.json();console.error(" Server error:",b),p=b.message||p}catch{p=`Server error (${d.status}): ${d.statusText}`}throw new Error(p)}const h=await d.json();return console.log(" User created:",h),h}catch(o){throw console.error(" Create User Error:",o),o instanceof TypeError?new Error("Network error - Unable to reach server. Is the backend running on port 5000?"):o}},bs=async(l,r,o)=>{try{const d=await fetch(xe(`/admin/users/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)}),h=await d.json();if(!d.ok)throw new Error(h.message||"Failed to update user");return h}catch(d){throw console.error("updateUserByAdmin error:",d),d}},Cp=async(l,r,o,d="")=>{try{const h=await fetch(xe(`/admin/users/${l}/freeplay`),{method:"PUT",headers:ge(o),body:JSON.stringify({freeplayBalance:r,description:d})}),p=await h.json();if(!h.ok)throw new Error(p.message||"Failed to update freeplay");return p}catch(h){throw console.error("updateUserFreeplay error:",h),h}},Cj=async(l,r)=>{try{if(console.log("createPlayerByAgent called with token:",r?r.substring(0,30)+"...":"NO TOKEN"),!r)throw new Error("No token provided. Please login first.");const o=await fetch(xe("/agent/create-user"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){let d="Failed to create player";try{d=(await o.json()).message||d}catch{d=`Server error (${o.status}): ${o.statusText}`}throw new Error(d)}return o.json()}catch(o){throw console.error("Create Player Error:",o),o instanceof TypeError?new Error("Network error - Unable to reach server. Is the backend running on port 5000?"):o}},hd=async l=>{const r=await fetch(xe("/agent/my-users"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch players");return r.json()},ol=async(l,r={})=>{const o=new URLSearchParams;r.q&&o.set("q",r.q);const d=o.toString()?Object.fromEntries(o):{},h=await fetch(xe("/admin/users",d),{headers:ge(l)});if(!h.ok){const p=await h.json().catch(()=>({}));throw new Error(p.message||"Failed to fetch users")}return h.json()},rl=async(l,r,o)=>{const d=await fetch(xe(`/admin/users/${l}/credit`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update user balance")}return d.json()},nd=async(l,r,o)=>{const d=await fetch(xe("/agent/update-balance-owed"),{method:"POST",headers:ge(o),body:JSON.stringify({userId:l,balance:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update balance")}return d.json()},md=async(l,r,o)=>{try{const d=await fetch(xe(`/admin/agent/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json();throw new Error(h.message||"Failed to update agent")}return d.json()}catch(d){throw console.error("Update Agent Error:",d),d}},ka=async(l,r,o)=>{try{const d=await fetch(xe(`/agent/users/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)}),h=await d.json();if(!d.ok)throw new Error(h.message||"Failed to update customer");return h}catch(d){throw console.error("updateUserByAgent error:",d),d}},fd=async(l,r)=>{try{const o=await fetch(xe("/agent/create-sub-agent"),{method:"POST",headers:ge(r),body:JSON.stringify(l)}),d=await o.json();if(!o.ok)throw new Error(d.message||"Failed to create sub-agent");return d}catch(o){throw console.error("createSubAgent error:",o),o}},Aj=async l=>{try{const r=await fetch(xe("/agent/my-sub-agents"),{method:"GET",headers:ge(l)}),o=await r.json();if(!r.ok)throw new Error(o.message||"Failed to fetch sub-agents");return o}catch(r){throw console.error("getMySubAgents error:",r),r}},Ej=async(l,r)=>{try{const o=await fetch(xe(`/admin/users/${l}/stats`),{method:"GET",headers:ge(r)}),d=await o.json();if(!o.ok)throw new Error(d.message||"Failed to fetch user statistics");return d}catch(o){throw console.error("getUserStatistics error:",o),o}},Tj=async(l,r)=>{const o=await fetch(xe("/admin/bets"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create ticket")}return o.json()},Lj=async l=>{const r=await fetch(xe("/admin/billing/summary"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch billing summary");return r.json()},Mj=async(l,r)=>{const o=new URLSearchParams(l).toString(),d=await fetch(xe("/admin/billing/invoices",o?Object.fromEntries(new URLSearchParams(o)):{}),{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch invoices");return d.json()},Dj=async(l,r)=>{const o=await fetch(xe("/admin/billing/invoices"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create invoice")}return o.json()},Bj=async(l,r,o)=>{const d=await fetch(xe(`/admin/billing/invoices/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update invoice")}return d.json()},_j=async l=>{const r=await fetch(xe("/admin/settings"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch settings");return r.json()},Rj=async(l,r)=>{const o=await fetch(xe("/admin/settings"),{method:"PUT",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to update settings")}return o.json()},Oj=async l=>{const r=await fetch(xe("/admin/rules"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch rules");return r.json()},Uj=async(l,r)=>{const o=await fetch(xe("/admin/rules"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create rule")}return o.json()},zj=async(l,r,o)=>{const d=await fetch(xe(`/admin/rules/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update rule")}return d.json()},Ij=async(l,r)=>{const o=await fetch(xe(`/admin/rules/${l}`),{method:"DELETE",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to delete rule")}return o.json()},Fj=async(l,r)=>{const o=new URLSearchParams(l).toString(),d=await fetch(xe("/admin/feedback",o?Object.fromEntries(new URLSearchParams(o)):{}),{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch feedback");return d.json()},Pj=async(l,r,o)=>{const d=await fetch(xe(`/admin/feedback/${l}/reply`),{method:"POST",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to reply feedback")}return d.json()},Hj=async(l,r)=>{const o=await fetch(xe(`/admin/feedback/${l}/reviewed`),{method:"POST",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to mark reviewed")}return o.json()},$j=async(l,r)=>{const o=await fetch(xe(`/admin/feedback/${l}`),{method:"DELETE",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to delete feedback")}return o.json()},qj=async l=>{const r=await fetch(xe("/admin/faqs"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch FAQs");return r.json()},Gj=async(l,r)=>{const o=await fetch(xe("/admin/faqs"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create FAQ")}return o.json()},Wj=async(l,r,o)=>{const d=await fetch(xe(`/admin/faqs/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update FAQ")}return d.json()},Yj=async(l,r)=>{const o=await fetch(xe(`/admin/faqs/${l}`),{method:"DELETE",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to delete FAQ")}return o.json()},Vj=async l=>{const r=await fetch(xe("/admin/manual"),{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch manual");return r.json()},Qj=async(l,r)=>{const o=await fetch(xe("/admin/manual"),{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to create manual section")}return o.json()},Xj=async(l,r,o)=>{const d=await fetch(xe(`/admin/manual/${l}`),{method:"PUT",headers:ge(o),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update manual section")}return d.json()},Zj=async(l,r)=>{const o=await fetch(xe(`/admin/manual/${l}`),{method:"DELETE",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to delete manual section")}return o.json()},Ap=async(l,r)=>{const o=await fetch(xe("/admin/suspend"),{method:"POST",headers:ge(r),body:JSON.stringify({userId:l})});if(!o.ok)throw new Error("Failed to suspend user");return o.json()},Ep=async(l,r)=>{const o=await fetch(xe("/admin/unsuspend"),{method:"POST",headers:ge(r),body:JSON.stringify({userId:l})});if(!o.ok)throw new Error("Failed to unsuspend user");return o.json()},zr=async(l,r,o)=>{const d=await fetch(xe(`/admin/users/${l}/reset-password`),{method:"POST",headers:ge(o),body:JSON.stringify({newPassword:r})});if(!d.ok){const h=await d.json();throw new Error(h.message||"Failed to reset user password")}return d.json()},Tp=async(l,r,o)=>{const d=await fetch(xe(`/admin/agents/${l}/reset-password`),{method:"POST",headers:ge(o),body:JSON.stringify({newPassword:r})});if(!d.ok){const h=await d.json();throw new Error(h.message||"Failed to reset agent password")}return d.json()},qa=async(l,r,o={})=>{const d=String(l||"").trim().toUpperCase().replace(/[^A-Z0-9]/g,"");if(!d)throw new Error("Prefix is required and must contain only letters/numbers");const h={...o};typeof h.suffix=="string"&&(h.suffix=h.suffix.toUpperCase().replace(/[^A-Z0-9]/g,"")),typeof h.type=="string"&&(h.type=h.type.toLowerCase());const p=`/admin/next-username/${encodeURIComponent(d)}`,b=await fetch(xe(p,h),{headers:ge(r)});if(!b.ok){const w=await b.json().catch(()=>({}));throw new Error(w.message||"Failed to fetch next username")}return b.json()},Lp=async(l,r)=>{const o=await fetch(xe(`/admin/impersonate-user/${l}`),{method:"POST",headers:ge(r)});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(d.message||"Failed to impersonate user")}return o.json()},Jj=async l=>{const r=await fetch(xe("/admin/agent-tree"),{headers:ge(l)});if(!r.ok){const o=await r.json().catch(()=>({}));throw new Error(o.message||"Failed to fetch agent tree")}return r.json()},Mp=async(l,r)=>{const o=await fetch(xe(`/admin/users/${l}`),{method:"DELETE",headers:ge(r)});if(!o.ok){const d=await o.json();throw new Error(d.message||"Failed to delete user")}return o.json()},Dp=async(l,r)=>{const o=await fetch(xe(`/admin/agents/${l}`),{method:"DELETE",headers:ge(r)});if(!o.ok){const d=await o.json();throw new Error(d.message||"Failed to delete agent")}return o.json()},Kj=({onLogin:l,isLoggedIn:r})=>{const[o,d]=u.useState(""),[h,p]=u.useState(""),[b,w]=u.useState(!1),[x,g]=u.useState(!1),j=async()=>{if(o&&h){w(!0);try{await l(o,h),d(""),p(""),g(!1)}catch(y){alert(y.message)}finally{w(!1)}}else alert("Please enter username and password")},f=y=>{y.key==="Enter"&&j()};return e.jsxs("header",{className:"main-header",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"/bgremlogo.png",alt:"betterbet365"})}),e.jsx("div",{className:"login-section desktop-only",children:r?e.jsx("button",{className:"btn-login",style:{background:"#00ff66",color:"black",boxShadow:"0 0 30px rgba(0,255,102,0.4)"},children:"WELCOME BACK"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",placeholder:"Username",id:"loginId",value:o,onChange:y=>d(y.target.value),onKeyPress:f}),e.jsx("input",{type:"password",placeholder:"Password",id:"password",value:h,onChange:y=>p(y.target.value),onKeyPress:f})]}),e.jsx("button",{className:"btn-login",onClick:j,style:b?{opacity:.7}:{},children:b?"LOGGING IN...":"SIGN IN"})]})}),e.jsxs("div",{className:"mobile-header-container mobile-only",children:[e.jsxs("div",{className:"top-header",children:[r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"icon-btn",children:[e.jsx("i",{className:"fa-solid fa-magnifying-glass"}),e.jsx("span",{children:"SEARCH"})]}),e.jsxs("div",{className:"icon-btn",children:[e.jsx("i",{className:"fa-solid fa-cash-register"}),e.jsx("span",{children:"CASHIER"})]})]}),e.jsx("div",{className:"right-section",children:r?e.jsx("div",{className:"mobile-user-trigger",onClick:()=>g(!x),children:e.jsx("div",{style:{width:"30px",height:"30px",background:"#00ff66",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"black",fontWeight:"bold"},children:o?o.charAt(0).toUpperCase():"U"})}):e.jsx("div",{style:{display:"flex",alignItems:"center"},children:e.jsx("button",{className:"mobile-login-btn",onClick:()=>g(!x),children:"LOGIN"})})})]}),r&&e.jsxs("div",{className:"tabs-bar",children:[e.jsxs("div",{className:"tab-item active",children:[e.jsx("span",{className:"tab-letter",children:"S"}),e.jsx("span",{className:"tab-text",children:"STRAIGHT"})]}),e.jsxs("div",{className:"tab-item",children:[e.jsx("span",{className:"tab-letter",children:"P"}),e.jsx("span",{className:"tab-text",children:"PARLAY"})]}),e.jsxs("div",{className:"tab-item",children:[e.jsx("span",{className:"tab-letter",children:"T"}),e.jsx("span",{className:"tab-text",children:"TEASER"})]}),e.jsxs("div",{className:"tab-item",children:[e.jsx("span",{className:"tab-letter",children:"I"}),e.jsx("span",{className:"tab-text",children:"IF BET"})]}),e.jsxs("div",{className:"tab-item",children:[e.jsx("i",{className:"fa-solid fa-desktop tab-icon"}),e.jsx("span",{className:"tab-text",children:"BET LIVE"})]})]}),r&&e.jsxs("div",{className:"info-bar",children:[e.jsx("div",{className:"info-bar-item",children:" UP NEXT "}),e.jsx("div",{className:"info-bar-item",children:" FEATURED "})]})]}),x&&Cd.createPortal(e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.8)",zIndex:99998,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Arial, sans-serif",padding:"20px",boxSizing:"border-box",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)"},children:e.jsxs("div",{style:{background:"white",width:"100%",maxWidth:"400px",borderRadius:"12px",boxShadow:"0 30px 100px rgba(0,0,0,0.9)",padding:"30px",display:"flex",flexDirection:"column",gap:"15px",animation:"fadeIn 0.4s ease-out"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[e.jsx("h2",{style:{margin:0,color:"#000",fontSize:"22px",fontWeight:"bold"},children:"SIGN IN"}),e.jsx("span",{onClick:()=>g(!1),style:{cursor:"pointer",fontSize:"28px",fontWeight:"bold",color:"#000",lineHeight:"1"},children:""})]}),r?e.jsxs("div",{style:{textAlign:"center",color:"#000"},children:[e.jsx("div",{style:{marginBottom:"15px",fontWeight:"bold",fontSize:"18px"},children:"WELCOME BACK"}),e.jsx("button",{className:"btn-login",onClick:()=>g(!1),style:{width:"100%",padding:"12px",background:"#dc3545",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"MY ACCOUNT"})]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:"Username",value:o,onChange:y=>d(y.target.value),onKeyPress:f,style:{width:"100%",padding:"12px 15px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"16px",color:"#333",background:"white",boxSizing:"border-box"}}),e.jsx("input",{type:"password",placeholder:"Password",value:h,onChange:y=>p(y.target.value),onKeyPress:f,style:{width:"100%",padding:"12px 15px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"16px",color:"#333",background:"white",boxSizing:"border-box"}}),e.jsx("button",{className:"btn-login",onClick:j,style:{width:"100%",padding:"12px",background:"#dc3545",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",fontWeight:"bold",cursor:b?"not-allowed":"pointer",opacity:b?.7:1},children:b?"SIGNING IN...":"SIGN IN"})]})]})}),document.body)]})},ev=[{id:"all",name:"ALL",icon:"https://upload.wikimedia.org/wikipedia/commons/5/5c/Olympic_rings_without_rims.svg"},{id:"nba",name:"NBA",icon:"https://upload.wikimedia.org/wikipedia/en/0/03/National_Basketball_Association_logo.svg"},{id:"nfl",name:"NFL",icon:"https://upload.wikimedia.org/wikipedia/en/a/a2/National_Football_League_logo.svg"},{id:"mlb",name:"MLB",icon:"/mlb.svg"},{id:"nhl",name:"NHL",icon:"https://upload.wikimedia.org/wikipedia/en/3/3a/05_NHL_Shield.svg"},{id:"soccer",name:"SOCCER",icon:"https://upload.wikimedia.org/wikipedia/commons/a/aa/FIFA_logo_without_slogan.svg"},{id:"boxing",name:"UFC",icon:"https://upload.wikimedia.org/wikipedia/commons/0/0d/UFC_logo.svg"}],tv=({activeLeague:l,onSelectLeague:r})=>e.jsx("nav",{className:"league-nav",children:e.jsx("div",{className:"nav-container",children:e.jsx("div",{className:"league-icons",children:ev.map(o=>e.jsxs("div",{className:`league-item ${l===o.id?"active":""}`,onClick:()=>r(o.id),children:[e.jsx("img",{src:o.icon,alt:o.name}),e.jsx("span",{children:o.name})]},o.id))})})}),ld=[{img:"/hero-banner.png",title:"N.Y KNICKS VS DETROIT",subtitle:"Tonight @ 7:00 P.M | Madison Square Garden"},{img:"/arena-banner.png",title:"UPCOMING NFL SUNDAY",subtitle:"Pre-game Analysis & Live Odds Starts @ 1PM"},{img:"/football-banner.png",title:"PREMIER LEAGUE ACTION",subtitle:"Matchday 24: Liverpool vs Man City"}],av=()=>{const[l,r]=u.useState(0);u.useEffect(()=>{const d=setInterval(()=>{r(h=>(h+1)%ld.length)},5e3);return()=>clearInterval(d)},[]);const o=ld[l];return e.jsxs("div",{className:"hero-container",children:[e.jsxs("section",{className:"hero-section",children:[e.jsx("img",{src:o.img,alt:"Featured Match",id:"heroImage",style:{animation:"fadeIn 0.5s ease-in-out"}}),e.jsxs("div",{className:"hero-overlay",children:[e.jsxs("div",{className:"hero-text",children:[e.jsx("span",{className:"hero-badge",children:"FEATURED MATCH"}),e.jsx("h1",{id:"heroTitle",children:o.title}),e.jsx("p",{id:"heroSubtitle",children:o.subtitle})]}),e.jsx("button",{className:"btn-login",style:{background:"var(--gold)",color:"black"},children:"BET NOW"})]}),e.jsx("div",{className:"hero-controls",children:ld.map((d,h)=>e.jsx("div",{className:`control-dot ${h===l?"active":""}`,onClick:()=>r(h)},h))})]}),e.jsxs("div",{className:"promo-flex-row",children:[e.jsxs("div",{className:"promo-card",children:[e.jsx("img",{src:"/promo-football.png",alt:"NFL Promo"}),e.jsxs("div",{className:"promo-text",children:[e.jsx("h3",{children:"NFL PLAYOFFS"}),e.jsx("p",{children:"Live Odds & Analysis"})]}),e.jsx("div",{className:"promo-badge",children:"betterbet365"})]}),e.jsxs("div",{className:"promo-card",children:[e.jsx("img",{src:"/arena-banner.png",alt:"Arena Promo"}),e.jsxs("div",{className:"promo-text",children:[e.jsx("h3",{children:"NBA FINALS"}),e.jsx("p",{children:"Get in on the action"})]}),e.jsx("div",{className:"promo-badge",children:"betterbet365"})]})]})]})},Af={"leeds united":"https://upload.wikimedia.org/wikipedia/en/5/54/Leeds_United_F.C._logo.svg","nottingham forest":"https://upload.wikimedia.org/wikipedia/en/e/e5/Nottingham_Forest_F.C._logo.svg"},id=new Map,pd=(l="")=>String(l||"").toLowerCase().replace(/[.'-]/g," ").replace(/\s+/g," ").trim(),sv=(l="")=>{const r=pd(l);if(!r)return[];const o=[r,r.replace(/\b(fc|cf|sc|afc|b c|bk|basketball club|football club)\b/g," ").replace(/\s+/g," ").trim(),r.replace(/\b(the)\b/g," ").replace(/\s+/g," ").trim()].filter(Boolean);return Array.from(new Set(o))},nv=l=>l?.strBadge||l?.strTeamBadge||l?.strLogo||l?.strTeamLogo||l?.strJersey||l?.strTeamJersey||"",lv=l=>{let r=0;for(let o=0;o<l.length;o+=1)r=l.charCodeAt(o)+((r<<5)-r);return Math.abs(r)},iv=(l="")=>{const r=String(l).trim().split(/\s+/).filter(Boolean);return r.length===0?"?":r.length===1?r[0].slice(0,2).toUpperCase():`${r[0][0]||""}${r[1][0]||""}`.toUpperCase()},Js=(l="")=>{const r=String(l||"Team"),d=lv(r.toLowerCase())%360,h=(d+36)%360,p=iv(r),b=`
<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80">
  <defs>
    <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="hsl(${d}, 78%, 46%)" />
      <stop offset="100%" stop-color="hsl(${h}, 78%, 36%)" />
    </linearGradient>
  </defs>
  <circle cx="40" cy="40" r="38" fill="url(#g)" />
  <circle cx="40" cy="40" r="36" fill="none" stroke="rgba(255,255,255,.32)" stroke-width="2" />
  <text x="40" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="700" fill="#fff">${p}</text>
</svg>`;return`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(b.trim())}`},Bp=async(l="")=>{const r=pd(l);if(!r)return"";if(Af[r])return Af[r];if(id.has(r))return id.get(r);const o=(async()=>{const d=sv(l);for(const h of d)try{const p=await fetch(`https://www.thesportsdb.com/api/v1/json/123/searchteams.php?t=${encodeURIComponent(h)}`);if(!p.ok)continue;const b=await p.json(),w=Array.isArray(b?.teams)?b.teams:[];if(w.length===0)continue;const g=w.find(f=>pd(f?.strTeam)===r)||w[0],j=nv(g);if(j)return j}catch{}return""})();return id.set(r,o),o},Ef="admin_scoreboard_matches_cache_v1",Tf=10,rv=1500,_p=({onClose:l})=>{const[r,o]=u.useState([]),[d,h]=u.useState(!1),[p,b]=u.useState({}),[w,x]=u.useState({}),[g,j]=u.useState(!1),f=async(C,v,E)=>{let q;try{return await Promise.race([C,new Promise((V,_)=>{q=window.setTimeout(()=>_(new Error(`${E} timed out`)),v)})])}finally{q&&window.clearTimeout(q)}};u.useEffect(()=>{let C=!0,v=!1,E=!1;try{const S=localStorage.getItem(Ef);if(S){const F=JSON.parse(S);Array.isArray(F)&&F.length>0&&(o(F),v=!0,E=!0)}}catch{}v||h(!0);const q=async()=>{const S=localStorage.getItem("token"),F=f(pp(),5e3,"Loading matches"),M=S?f(hl(S),5e3,"Loading admin matches"):Promise.resolve([]),[K,H]=await Promise.allSettled([F,M]),G=K.status==="fulfilled"&&Array.isArray(K.value)?K.value:[],re=H.status==="fulfilled"&&Array.isArray(H.value)?H.value:[];return re.length>0?re:G},V=async({silent:S=!1}={})=>{try{C&&!S&&!E&&h(!0);let F=[];for(let M=0;M<Tf&&(F=await q(),!(F.length>0||M===Tf-1));M+=1)await new Promise(K=>window.setTimeout(K,rv));if(!C)return;if(F.length>0){o(F),E=!0,h(!1);try{localStorage.setItem(Ef,JSON.stringify(F))}catch{}}else E||h(!1)}finally{C&&!E&&h(!1)}},_=async()=>{try{await f(Sp(),5e3,"Refreshing scores")}catch{}C&&await V({silent:!0})},se=window.setTimeout(()=>{C&&j(!0)},2e4);V(),window.setTimeout(()=>{_()},50);const z=window.setInterval(_,6e4);return()=>{C=!1,window.clearTimeout(se),window.clearInterval(z)}},[]);const y=C=>{if(String(C?.status||"").toLowerCase()==="live")return!0;const E=String(C?.score?.event_status||"").toUpperCase();return E.includes("IN_PROGRESS")||E.includes("LIVE")},A=C=>{const v=String(C?.status||"").toLowerCase();if(["scheduled","pre-game","pregame","upcoming","pending"].includes(v))return!0;if(C?.startTime){const E=new Date(C.startTime).getTime();if(!Number.isNaN(E))return E>Date.now()}return!1},N=u.useMemo(()=>{const C=Array.isArray(r)?r:[],v=C.filter(E=>y(E)||A(E));return v.length>0?v:C},[r]),D=u.useMemo(()=>{const C={};return N.forEach(v=>{const E=(v.sport||"Unknown").toUpperCase();C[E]||(C[E]=[]),C[E].push(v)}),C},[N]),R=N.length>0;u.useEffect(()=>{b(C=>{const v={...C};return Object.keys(D).forEach(E=>{typeof v[E]!="boolean"&&(v[E]=!1)}),v})},[D]),u.useEffect(()=>{let C=!0;return(async()=>{const E=new Set;N.forEach(_=>{_?.homeTeam&&E.add(String(_.homeTeam)),_?.awayTeam&&E.add(String(_.awayTeam))});const q=Array.from(E).filter(_=>!w[_]);if(q.length===0)return;const V={};await Promise.all(q.map(async _=>{try{const se=await Bp(_);se&&(V[_]=se)}catch{}})),C&&Object.keys(V).length>0&&x(_=>({..._,...V}))})(),()=>{C=!1}},[N,w]);const k=C=>C.status==="live"?e.jsx("span",{className:"text-danger fw-bold",children:"LIVE"}):C.startTime?new Date(C.startTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",timeZoneName:"short"}):"TBD",I=(C,v)=>C.score?v==="home"?C.score.score_home??C.score.home_score??C.score.scoreHome??0:v==="away"?C.score.score_away??C.score.away_score??C.score.scoreAway??0:"":"",L=(C,v)=>e.jsxs("div",{className:"scoreboard-league",children:[e.jsxs("button",{type:"button",className:"league-header",onClick:()=>b(E=>({...E,[C]:!E[C]})),children:[e.jsx("span",{children:C}),e.jsx("i",{className:`fa-solid ${p[C]?"fa-chevron-down":"fa-chevron-up"}`})]}),!p[C]&&e.jsx("div",{className:"league-games",children:Array.from({length:Math.ceil(v.length/2)},(E,q)=>v.slice(q*2,q*2+2)).map((E,q)=>e.jsxs("div",{className:"scoreboard-game-row",children:[E.map((V,_)=>{const se=V?.broadcast||V?.tv||V?.score?.broadcast||"";return e.jsxs("div",{className:"scoreboard-game-cell",children:[e.jsxs("div",{className:"game-row",children:[e.jsx("span",{className:"game-time",children:k(V)}),e.jsx("span",{className:"game-network",children:se})]}),e.jsxs("div",{className:"game-team",children:[e.jsxs("div",{className:"game-team-main",children:[e.jsx("img",{src:w[V.homeTeam]||Js(V.homeTeam),alt:V.homeTeam,className:"game-logo",onError:z=>{z.currentTarget.src=Js(V.homeTeam)}}),e.jsx("span",{children:V.homeTeam})]}),e.jsx("span",{className:"game-score",children:I(V,"home")})]}),e.jsxs("div",{className:"game-team",children:[e.jsxs("div",{className:"game-team-main",children:[e.jsx("img",{src:w[V.awayTeam]||Js(V.awayTeam),alt:V.awayTeam,className:"game-logo",onError:z=>{z.currentTarget.src=Js(V.awayTeam)}}),e.jsx("span",{children:V.awayTeam})]}),e.jsx("span",{className:"game-score",children:I(V,"away")})]})]},V._id||V.id||`${q}-${_}`)}),E.length===1&&e.jsx("div",{className:"scoreboard-game-cell ghost-cell"})]},`${C}-${q}`))})]},C);return e.jsxs("div",{className:"scoreboard-overlay",children:[e.jsxs("div",{className:"scoreboard-header",children:[e.jsx("h2",{children:"Scoreboard"}),e.jsx("span",{className:"close-btn",onClick:l,children:"Close"})]}),e.jsx("div",{className:"scoreboard-content",children:!R&&d?e.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"Loading scoreboard..."}):Object.keys(D).length===0?e.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"No games found right now."}):Object.entries(D).map(([C,v])=>L(C,v))}),e.jsx("style",{children:`
                .scoreboard-overlay {
                    position: fixed;
                    top: 0;
                    right: 0;
                    width: 350px;
                    height: 100vh;
                    background: #f5f5f5;
                    box-shadow: -5px 0 15px rgba(0,0,0,0.3);
                    z-index: 3000;
                    display: flex;
                    flex-direction: column;
                    font-family: 'Roboto', sans-serif;
                }
                .scoreboard-header {
                    background: #fff;
                    padding: 15px;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    border-bottom: 1px solid #ddd;
                    position: relative;
                }
                .scoreboard-header h2 {
                    margin: 0;
                    font-size: 18px;
                    color: #333;
                    font-weight: bold;
                    text-transform: uppercase;
                }
                .close-btn {
                    position: absolute;
                    right: 15px;
                    color: #d9534f;
                    font-size: 14px;
                    cursor: pointer;
                    text-decoration: underline;
                    font-weight: bold;
                }
                .scoreboard-content {
                    flex: 1;
                    overflow-y: auto;
                }
                .scoreboard-status-row {
                    padding: 6px 12px;
                    background: #fff;
                    border-bottom: 1px solid #ddd;
                }
                .scoreboard-status {
                    font-size: 12px;
                    font-weight: 600;
                }
                .scoreboard-status.syncing {
                    color: #0b7285;
                }
                .scoreboard-status.error {
                    color: #b02a37;
                }
                .league-header {
                    background: #333;
                    color: white;
                    padding: 8px 15px;
                    font-size: 14px;
                    font-weight: bold;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    border-bottom: 1px solid #444;
                    width: 100%;
                    border-left: none;
                    border-right: none;
                    cursor: pointer;
                }
                .league-games {
                    background: #e5e7eb;
                    border-left: 1px solid #c6c8cc;
                }
                .scoreboard-game-row {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                }
                .scoreboard-game-cell {
                    background: #f3f4f6;
                    border-right: 1px solid #c6c8cc;
                    border-bottom: 1px solid #c6c8cc;
                    min-height: 84px;
                }
                .scoreboard-game-cell.ghost-cell {
                    background: #f3f4f6;
                }
                .game-row {
                    display: flex;
                    justify-content: space-between;
                    color: #4b5563;
                    background: #e5e7eb;
                    padding: 4px 8px;
                    font-size: 11px;
                    border-bottom: 1px solid #d1d5db;
                }
                .game-network {
                    font-weight: 700;
                    color: #15803d;
                    min-width: 28px;
                    text-align: right;
                }
                .game-team {
                    display: flex;
                    align-items: center;
                    margin: 5px 0;
                    color: #3f3f46;
                    font-weight: 500;
                    justify-content: space-between;
                    padding: 0 8px;
                }
                .game-team-main {
                    display: flex;
                    align-items: center;
                    gap: 7px;
                    min-width: 0;
                }
                .game-team-main span {
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    max-width: 120px;
                    font-size: 12px;
                }
                .game-logo {
                    width: 18px;
                    height: 18px;
                    border-radius: 50%;
                }
                .game-score {
                    font-weight: 700;
                    color: #111827;
                    font-size: 12px;
                    min-width: 14px;
                    text-align: right;
                }
                .text-danger { color: #dc3545; }
                .fw-bold { font-weight: bold; }
                @media (max-width: 380px) {
                    .scoreboard-game-row {
                        grid-template-columns: 1fr;
                    }
                    .scoreboard-game-cell {
                        border-right: none;
                    }
                }
            `})]})},ov=({onClose:l,balance:r,pendingBalance:o,availableBalance:d})=>{const h=window.innerWidth<=768,p=b=>{if(b==null||b==="")return"";const w=Number(b);return Number.isNaN(w)?"":`$ ${w.toFixed(2)}`};return e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.8)",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',padding:h?"20px":"0",boxSizing:"border-box",overflow:"auto",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)",inset:0},children:[e.jsxs("div",{style:{background:"white",width:h?"100%":"400px",maxWidth:"100%",borderRadius:"8px",boxShadow:"0 30px 100px rgba(0,0,0,0.9)",display:"flex",flexDirection:"column",maxHeight:h?"85vh":"auto",animation:"fadeIn 0.4s ease-out",margin:"auto",marginTop:h?"0":"auto",marginBottom:h?"0":"auto"},children:[e.jsxs("div",{style:{padding:h?"15px 15px":"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #eee"},children:[e.jsx("h3",{style:{margin:0,color:"#333",fontSize:"18px",fontWeight:"bold"},children:"My Account"}),e.jsx("span",{onClick:l,style:{cursor:"pointer",fontSize:"24px",color:"#999",lineHeight:"1"},children:""})]}),e.jsxs("div",{style:{overflowY:"auto",padding:h?"12px":"15px"},children:[e.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"4px",marginBottom:"15px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"bold",color:"#333"},children:"Balance"}),e.jsx("span",{style:{fontWeight:"bold",textDecoration:"underline"},children:p(r)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 15px",borderBottom:"1px solid #eee",background:"#f9f9f9"},children:[e.jsx("span",{style:{fontWeight:"bold",color:"#333"},children:"Pending"}),e.jsx("span",{style:{fontWeight:"bold",textDecoration:"underline"},children:p(o)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 15px"},children:[e.jsx("span",{style:{fontWeight:"bold",color:"#333"},children:"Available"}),e.jsx("span",{style:{fontWeight:"bold",textDecoration:"underline"},children:p(d)})]})]}),e.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"4px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Game Sort (Display)"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"By Time"}),e.jsx("option",{children:"By League"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Select Skin"}),e.jsx("i",{className:"fa-solid fa-desktop",style:{color:"#999",fontSize:"18px"}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Personalize It"}),e.jsx("i",{className:"fa-solid fa-paintbrush",style:{color:"#004d26",fontSize:"18px"}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Time"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"Eastern"}),e.jsx("option",{children:"Central"}),e.jsx("option",{children:"Pacific"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Default Pitcher Setting"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"Action"}),e.jsx("option",{children:"Listed"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Version"}),e.jsx("span",{style:{color:"#333"},children:"43.0.27"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Live Stream Icon"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"Show"}),e.jsx("option",{children:"Hide"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Live Skin"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"Dark"}),e.jsx("option",{children:"Light"})]})]})]})]}),e.jsx("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end",borderTop:"1px solid #eee",background:"#fcfcfc"},children:e.jsx("button",{onClick:l,style:{background:"#d9534f",color:"white",border:"none",padding:"8px 25px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"},children:"Close"})})]}),e.jsx("style",{children:`
                @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(-20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
            `})]})},cv=({onClose:l})=>{const[r,o]=u.useState("BASIC"),[d,h]=u.useState("Gray"),p=["BASIC","NFL","NBA","MLB","NCAA"],b=[{id:"gray",label:"Gray",color:"#007bff"},{id:"white",label:"White",color:"#28a745"},{id:"stadium",label:"Stadium",color:"#dc3545"},{id:"plain",label:"Plain",color:"#dc3545"}];return e.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"350px",height:"100vh",background:"#333",boxShadow:"-5px 0 15px rgba(0,0,0,0.5)",zIndex:3e3,display:"flex",flexDirection:"column",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',color:"white"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"15px 10px",borderBottom:"1px solid #444",background:"#2c2c2c"},children:[e.jsx("span",{onClick:l,style:{cursor:"pointer",fontSize:"18px",color:"#999",marginRight:"20px",padding:"0 5px"},children:""}),e.jsx("div",{style:{display:"flex",gap:"15px",overflowX:"auto"},children:p.map(w=>e.jsx("span",{onClick:()=>o(w),style:{fontSize:"12px",fontWeight:"bold",cursor:"pointer",color:r===w?"#fff":"#888",borderBottom:r===w?"2px solid #fff":"none",paddingBottom:"5px"},children:w},w))})]}),e.jsxs("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:[r==="BASIC"&&e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:b.map(w=>e.jsxs("div",{onClick:()=>h(w.label),style:{background:"#222",padding:"15px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",border:d===w.label?"1px solid #555":"1px solid transparent"},children:[e.jsx("span",{style:{fontSize:"14px"},children:w.label}),e.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",border:`2px solid ${w.color}`,display:"flex",alignItems:"center",justifyContent:"center"},children:d===w.label&&e.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:w.color}})})]},w.id))}),r!=="BASIC"&&e.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#666",fontSize:"14px"},children:["No skins available for ",r," yet."]})]})]})},dv=({username:l,balance:r,pendingBalance:o,availableBalance:d,onViewChange:h,activeBetMode:p="straight",onBetModeChange:b,currentView:w,onToggleSidebar:x,selectedSports:g=[],onContinue:j,onLogout:f,isMobileSportsSelectionMode:y=!1,onHomeClick:A,role:N,unlimitedBalance:D})=>{const[R,k]=u.useState(!1),[I,L]=u.useState(!1),[C,v]=u.useState(!1),[E,q]=u.useState(!1),V=g.length>0,[_,se]=u.useState(!1),[z,S]=u.useState(!1),[F,M]=u.useState(!1),[K,H]=u.useState(!1),[G,re]=u.useState(!1),[je,ee]=u.useState(()=>localStorage.getItem("oddsFormat")||"american");u.useEffect(()=>{localStorage.setItem("oddsFormat",je),window.dispatchEvent(new CustomEvent("oddsFormat:change",{detail:je}))},[je]);const B=$=>{if(D)return"Unlimited";if($==null||$==="")return"";const ue=Number($);return Number.isNaN(ue)?"":`$ ${ue.toFixed(2)}`},Q=()=>{E||(q(!0),window.dispatchEvent(new CustomEvent("matches:refresh")),setTimeout(()=>{q(!1)},3e4))};ys.useEffect(()=>{const $=()=>{q(!1)};return window.addEventListener("matches:refresh-completed",$),()=>window.removeEventListener("matches:refresh-completed",$)},[]);const ne=[{name:"English",flag:"https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg",active:!0},{name:"Spanish",flag:"https://upload.wikimedia.org/wikipedia/commons/9/9a/Flag_of_Spain.svg"},{name:"Chinese",flag:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Flag_of_the_People%27s_Republic_of_China.svg"},{name:"French",flag:"https://upload.wikimedia.org/wikipedia/en/c/c3/Flag_of_France.svg"},{name:"Greek",flag:"https://upload.wikimedia.org/wikipedia/commons/5/5c/Flag_of_Greece.svg"},{name:"Japanese",flag:"https://upload.wikimedia.org/wikipedia/en/9/9e/Flag_of_Japan.svg"},{name:"Korean",flag:"https://upload.wikimedia.org/wikipedia/commons/0/09/Flag_of_South_Korea.svg"},{name:"Vietnamese",flag:"https://upload.wikimedia.org/wikipedia/commons/2/21/Flag_of_Vietnam.svg"}],[Z,J]=u.useState(!1),P=w==="dashboard";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mobile-header-container mobile-only",children:[e.jsxs("div",{className:"top-header",children:[e.jsxs("div",{className:"header-icon-group",children:[e.jsx("div",{className:"menu-circle",onClick:x,children:e.jsx("i",{className:"fa-solid fa-bars"})}),w==="bonus"||w==="prime-live"||w==="ultra-live"||w==="live-casino"||w==="casino"?e.jsxs("div",{className:"icon-btn",onClick:()=>A&&A(),children:[e.jsx("i",{className:"fa-solid fa-house"}),e.jsx("span",{children:"HOME"})]}):V&&!y?e.jsxs("div",{className:"icon-btn",onClick:()=>A&&A(),children:[e.jsx("i",{className:"fa-solid fa-house"}),e.jsx("span",{children:"HOME"})]}):e.jsxs("div",{className:"icon-btn",children:[e.jsx("i",{className:"fa-solid fa-magnifying-glass"}),e.jsx("span",{children:"SEARCH"})]}),e.jsxs("div",{className:`icon-btn ${w==="bonus"?"active-bonus":""}`,onClick:()=>{if(N==="user"){alert("Deposits and Withdrawals are managed by your Agent. Please contact them to update your balance.");return}h&&h("bonus")},children:[e.jsx("i",{className:"fa-solid fa-cash-register"}),e.jsx("span",{children:V?"BONUS":"CASHIER"})]})]}),e.jsxs("div",{className:"right-section",children:[!V||w==="bonus"||V&&!y?e.jsxs("div",{className:"balance-container",children:[e.jsx("div",{className:"balance-amount",children:B(d)}),e.jsx("div",{className:"balance-label",children:"BALANCE"})]}):e.jsx("div",{className:"continue-btn-container",onClick:j||x,children:e.jsxs("button",{className:"mobile-continue-btn",children:["Continue ",e.jsx("i",{className:"fa-solid fa-chevron-right"})]})}),e.jsx("div",{className:"dropdown-chevron",onClick:()=>v(!C),children:e.jsx("i",{className:`fa-solid ${C?"fa-chevron-up":"fa-chevron-down"}`})})]})]}),C&&e.jsxs("div",{className:"user-settings-dropdown mobile-usd",onClick:$=>$.stopPropagation(),children:[e.jsxs("div",{className:"usd-item",onClick:()=>{se(!0),v(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-globe"})}),e.jsx("div",{className:"usd-text",children:"LANGUAGE"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{S(!0),v(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-calculator"})}),e.jsx("div",{className:"usd-text",children:"ODDS DISPLAY"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{M(!0),v(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-chart-simple"})}),e.jsx("div",{className:"usd-text",children:"SCOREBOARD"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{H(!0),v(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-gear"})}),e.jsx("div",{className:"usd-text",children:"SETTINGS"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{re(!0),v(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-sliders"})}),e.jsx("div",{className:"usd-text",children:"PERSONALIZE"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{h&&h("support"),v(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-headset"})}),e.jsx("div",{className:"usd-text",children:"SUPPORT"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{h&&h("my-bets"),v(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-list"})}),e.jsx("div",{className:"usd-text",children:"MY BETS"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item signout",onClick:f,children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-power-off"})}),e.jsx("div",{className:"usd-text",children:"SIGN OUT"})]})]}),e.jsx("div",{className:"tabs-bar",children:[{id:"straight",label:"STRAIGHT",letter:"S"},{id:"parlay",label:"PARLAY",letter:"P"},{id:"teaser",label:"TEASER",letter:"T"},{id:"if_bet",label:"IF BET",letter:"I"},{id:"reverse",label:"REVERSE",letter:"R"}].map($=>e.jsxs("div",{className:`tab-item ${p===$.id?"active":""}`,onClick:()=>b&&b($.id),children:[e.jsx("span",{className:"tab-letter",children:$.letter}),e.jsx("span",{className:"tab-text",children:$.label})]},$.id))}),e.jsxs("div",{className:"info-bar",children:[e.jsx("div",{className:"info-bar-item",children:" UP NEXT "}),e.jsx("div",{className:"info-bar-item",children:" FEATURED "})]})]}),e.jsxs("div",{className:"dash-topbar desktop-only",children:[e.jsxs("div",{className:"dash-nav-links",children:[e.jsxs("div",{className:"dash-nav-item",onClick:()=>A&&A(),children:[e.jsx("span",{children:"SPORTS"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"}),e.jsx("path",{d:"M2.5 12h19M12 2.5v19"})]})})]}),e.jsxs("div",{className:"dash-nav-item",onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),style:{position:"relative",overflow:"visible"},children:[e.jsx("span",{children:"LIVE"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),e.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}),R&&e.jsxs("div",{style:{position:"absolute",top:"100%",left:"0",width:"120px",background:"#333",zIndex:100,border:"1px solid #555",boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:[e.jsxs("div",{style:{padding:"10px",color:"white",borderBottom:"1px solid #444",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},onClick:()=>h&&h("prime-live"),className:"live-menu-item",children:[e.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:"PRIME LIVE"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]}),e.jsxs("div",{style:{padding:"10px",color:"#999",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},className:"live-menu-item",onClick:()=>h&&h("ultra-live"),children:[e.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:"ULTRA LIVE"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})})]})]})]}),e.jsxs("div",{className:"dash-nav-item",onClick:()=>h&&h("casino"),children:[e.jsx("span",{children:"CASINO"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsx("span",{style:{fontSize:"20px",fontWeight:"bold",border:"2px solid white",borderRadius:"4px",padding:"0 4px",color:"#ffd700",borderColor:"#ffd700"},children:"7"})})]}),e.jsxs("div",{className:"dash-nav-item",onClick:()=>h&&h("live-casino"),children:[e.jsx("span",{children:"LIVE CASINO"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("circle",{cx:"12",cy:"12",r:"4"}),e.jsx("circle",{cx:"12",cy:"12",r:"2"})]})})]}),e.jsxs("div",{className:"dash-nav-item",onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),style:{position:"relative",overflow:"visible"},children:[e.jsx("span",{children:"MORE"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),I&&e.jsx("div",{style:{position:"absolute",top:"100%",left:"0",width:"120px",background:"#333",zIndex:100,border:"1px solid #555",boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:e.jsxs("div",{style:{padding:"10px",color:"#999",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},className:"live-menu-item",onClick:()=>h&&h("props"),children:[e.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:"PROPS"}),e.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",border:"1px solid #999",padding:"0 2px"},children:"P+"})]})})]}),e.jsxs("div",{className:"dash-nav-item",style:{color:"#ffd700",cursor:"pointer"},onClick:()=>h&&h("bonus"),children:[e.jsx("span",{children:"BONUS"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 12V8H6a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2"}),e.jsx("path",{d:"M4 6h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z"})]})})]}),e.jsxs("div",{className:"dash-nav-item",style:{cursor:"pointer"},onClick:()=>h&&h("tutorials"),children:[e.jsx("span",{children:"TUTORIALS"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),e.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})})]}),e.jsxs("div",{className:"dash-nav-item",style:{cursor:"pointer"},onClick:()=>h&&h("support"),children:[e.jsx("span",{children:"SUPPORT"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M4 4h16v6H4z"}),e.jsx("path",{d:"M4 10h10v10H4z"}),e.jsx("path",{d:"M14 10h6v4h-6z"})]})})]})]}),e.jsxs("div",{className:"dash-user-info",children:[e.jsxs("div",{className:"dash-balance",children:[e.jsx("span",{children:"CREDIT LIMIT"}),e.jsx("strong",{children:B(r)})]}),e.jsxs("div",{className:"dash-balance",children:[e.jsx("span",{children:"BALANCE OWED"}),e.jsx("strong",{children:B(o)})]}),e.jsxs("div",{className:"dash-balance",children:[e.jsx("span",{children:"AVAILABLE CREDIT"}),e.jsx("strong",{children:B(d)})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",position:"relative"},onClick:()=>v(!C),children:[e.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:l||"WGT73476"}),e.jsx("span",{children:C?"":""}),C&&e.jsxs("div",{className:"user-settings-dropdown",onClick:$=>$.stopPropagation(),children:[e.jsxs("div",{className:"usd-item",onClick:()=>se(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-globe"})}),e.jsx("div",{className:"usd-text",children:"Language"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>S(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-calculator"})}),e.jsx("div",{className:"usd-text",children:"Odds Display"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>M(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-chart-simple"})}),e.jsx("div",{className:"usd-text",children:"Scoreboard"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>H(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-gear"})}),e.jsx("div",{className:"usd-text",children:"Settings"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>re(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-sliders"})}),e.jsx("div",{className:"usd-text",children:"Personalize"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>h&&h("support"),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-headset"})}),e.jsx("div",{className:"usd-text",children:"Support"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>h&&h("my-bets"),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-list"})}),e.jsx("div",{className:"usd-text",children:"My Bets"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item signout",onClick:f,children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-power-off"})}),e.jsx("div",{className:"usd-text",children:"SIGN OUT"})]})]})]})]})]}),w!=="rules"&&w!=="bonus"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:`dash-subheader mobile-subheader desktop-only ${P?"with-sidebar-offset":""}`,style:{display:"flex",borderBottom:"1px solid #ccc",height:"auto",minHeight:"60px"},children:[e.jsx("div",{className:"bet-type-bar",children:[{id:"straight",label:"STRAIGHT",icon:"S"},{id:"parlay",label:"PARLAY",icon:"P"},{id:"teaser",label:"TEASER",icon:"T"},{id:"if_bet",label:"IF BET",icon:"I"},{id:"reverse",label:"REVERSE",icon:"R"}].map($=>e.jsxs("div",{className:`bet-type-item ${p===$.id?"active":""}`,onClick:()=>b&&b($.id),children:[e.jsx("div",{className:"bet-type-letter",children:$.icon}),e.jsx("div",{className:"bet-type-label",children:$.label})]},$.id))}),e.jsxs("div",{className:"bet-action-group",children:[e.jsxs("button",{className:`action-btn refresh-btn ${E?"refresh-loading":""}`,title:"Refresh",onClick:Q,disabled:E,children:[e.jsx("i",{className:`fa-solid fa-arrows-rotate ${E?"fa-spin":""}`,style:{fontSize:"16px"}}),e.jsx("span",{children:E?"REFRESHING...":"REFRESH"})]}),e.jsxs("button",{className:"action-btn green continue-btn",title:"Continue",onClick:j||x,children:[e.jsx("i",{className:"fa-solid fa-chevron-right",style:{fontSize:"16px"}}),e.jsx("span",{children:"CONTINUE"})]})]})]})}),_&&e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.7)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{background:"white",width:"300px",borderRadius:"4px",overflow:"hidden",boxShadow:"0 5px 15px rgba(0,0,0,0.5)"},children:[e.jsxs("div",{style:{padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #eee"},children:[e.jsx("h3",{style:{margin:0,color:"#333",fontSize:"18px"},children:"Available Languages"}),e.jsx("span",{onClick:()=>se(!1),style:{cursor:"pointer",fontSize:"20px",color:"#999"},children:""})]}),e.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:ne.map(($,ue)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 20px",borderBottom:"1px solid #eee",background:$.active?"#004d26":"white",color:$.active?"white":"#333",cursor:"pointer"},children:[e.jsx("span",{style:{fontSize:"16px",fontWeight:$.active?"bold":"normal"},children:$.name}),e.jsx("img",{src:$.flag,alt:$.name,style:{width:"24px",borderRadius:"3px",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}})]},ue))}),e.jsx("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end",borderTop:"1px solid #eee"},children:e.jsx("button",{onClick:()=>se(!1),style:{background:"#d9534f",color:"white",border:"none",padding:"8px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Close"})})]})}),z&&e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.7)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{background:"white",width:"300px",borderRadius:"4px",overflow:"hidden",boxShadow:"0 5px 15px rgba(0,0,0,0.5)",marginBottom:"20vh"},children:[e.jsxs("div",{style:{padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #eee"},children:[e.jsx("h3",{style:{margin:0,color:"#333",fontSize:"18px"},children:"Odds Display"}),e.jsx("span",{onClick:()=>S(!1),style:{cursor:"pointer",fontSize:"20px",color:"#999"},children:""})]}),e.jsx("div",{style:{padding:"20px"},children:e.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden"},children:[e.jsx("div",{style:{padding:"12px 15px",background:je==="american"?"#004d26":"white",color:je==="american"?"white":"#333",fontWeight:"bold",borderBottom:"1px solid #ccc",cursor:"pointer"},onClick:()=>ee("american"),children:"American"}),e.jsx("div",{style:{padding:"12px 15px",background:je==="decimal"?"#004d26":"white",color:je==="decimal"?"white":"#333",cursor:"pointer"},onClick:()=>ee("decimal"),children:"Decimal"})]})}),e.jsx("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end",borderTop:"1px solid #eee"},children:e.jsx("button",{onClick:()=>S(!1),style:{background:"#d9534f",color:"white",border:"none",padding:"8px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Close"})})]})}),F&&e.jsx(_p,{onClose:()=>M(!1)}),K&&Cd.createPortal(e.jsx(ov,{onClose:()=>H(!1),balance:r,pendingBalance:o,availableBalance:d}),document.body),G&&e.jsx(cv,{onClose:()=>re(!1)})]})},xd=[{id:"up-next",label:"UP NEXT",icon:"fa-solid fa-clock",type:"main-link",selectable:!1},{id:"featured",label:"FEATURED",icon:"fa-solid fa-star",type:"main-link",selectable:!1},{id:"commercial-live",label:"COMMERCIAL LIVE",icon:"fa-solid fa-tv",selectable:!0},{id:"football",label:"FOOTBALL",icon:"fa-solid fa-football",selectable:!1,children:[{id:"nfl",label:"NFL",icon:"fa-solid fa-helmet-safety",selectable:!0,children:[{id:"nfl-1st-half",label:"1st Half",selectable:!0,hasChildren:!0},{id:"nfl-1st-quarter",label:"1st Quarter",selectable:!0,hasChildren:!0},{id:"nfl-2nd-quarter",label:"2nd Quarter",selectable:!0,hasChildren:!0}]},{id:"ncaa-football",label:"NCAA Football",icon:"fa-solid fa-building-columns",selectable:!0,children:[{id:"ncaa-1st-half",label:"1st Half",selectable:!0,hasChildren:!0},{id:"ncaa-1st-quarter",label:"1st Quarter",selectable:!0,hasChildren:!0}]},{id:"nfl-1st-scoring",label:"NFL 1ST SCORING PLAY",selectable:!1,hasChildren:!0},{id:"nfl-1st-td-scorer",label:"NFL 1ST TD SCORER",selectable:!1,hasChildren:!0},{id:"nfl-anytime-td",label:"NFL ANYTIME TD SCORER",selectable:!1,hasChildren:!0},{id:"nfl-margin-victory",label:"NFL MARGIN OF VICTORY",selectable:!1,hasChildren:!0},{id:"nfl-player-props",label:"NFL TEXANS VS STEELERS PLAYER PROPS",selectable:!1,hasChildren:!0},{id:"nfl-props-plus",label:"NFL Props Plus +",selectable:!1,icon:"fa-solid fa-arrow-right",type:"props-plus"},{id:"college-props-plus",label:"College Props Plus +",selectable:!1,icon:"fa-solid fa-arrow-right",type:"props-plus"},{id:"afl-props-plus",label:"AFL Props Plus +",selectable:!1,icon:"fa-solid fa-arrow-right",type:"props-plus"}]},{id:"baseball",label:"BASEBALL",icon:"fa-solid fa-baseball-bat-ball",selectable:!1,children:[{id:"mlb",label:"MLB",selectable:!0},{id:"kbo",label:"KBO League",selectable:!0}]},{id:"basketball",label:"BASKETBALL",icon:"fa-solid fa-basketball",selectable:!1,children:[{id:"nba",label:"NBA",selectable:!0},{id:"ncaab",label:"NCAA Basketball",selectable:!0}]},{id:"hockey",label:"HOCKEY",icon:"fa-solid fa-hockey-puck",selectable:!1,children:[{id:"nhl",label:"NHL",selectable:!0}]},{id:"soccer",label:"SOCCER",icon:"fa-solid fa-futbol",selectable:!1,children:[{id:"epl",label:"Premier League",selectable:!0}]},{id:"golf",label:"GOLF",icon:"fa-solid fa-golf-ball-tee",selectable:!1,children:[{id:"pga",label:"PGA Tour",selectable:!0}]},{id:"tennis",label:"TENNIS",icon:"fa-solid fa-table-tennis-paddle-ball",selectable:!1,children:[{id:"atp",label:"ATP",selectable:!0}]},{id:"martial-arts",label:"MARTIAL ARTS",icon:"fa-solid fa-person-hiking",selectable:!0},{id:"boxing",label:"BOXING",icon:"fa-solid fa-hand-fist",selectable:!0},{id:"auto-racing",label:"AUTO RACING",icon:"fa-solid fa-flag-checkered",selectable:!0},{id:"rugby",label:"RUGBY",icon:"fa-solid fa-football",selectable:!0},{id:"olympics",label:"OLYMPICS",icon:"fa-solid fa-fire",selectable:!0}],Rp=({item:l,level:r,selectedIds:o,onToggle:d,expandedIds:h,onToggleExpand:p,className:b=""})=>{const w=h.has(l.id),x=o.includes(l.id),g=l.children&&l.children.length>0||l.hasChildren,j=()=>{const k=l.selectable!==!1;if(g){p(l.id),k&&d(l.id);return}d(l.id)},f=k=>{k.stopPropagation(),d(l.id)},y=l.selectable!==!1&&r>0&&l.type!=="props-plus",A=r===0&&l.icon||l.type==="props-plus",N=l.selectable===!1&&g,D=r>0&&g&&!N,R=r>0&&N;return e.jsxs("div",{className:`sidebar-tree-node ${b}`,children:[e.jsxs("div",{className:`sidebar-item-row ${x?"selected":""} level-${r} item-type-${l.type||"standard"} icon-${l.id}`,onClick:j,"data-sport-id":l.id,children:[y&&e.jsx("div",{className:"sidebar-checkbox-wrapper",onClick:k=>k.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:x,onChange:f,className:"sidebar-small-checkbox"})}),R&&e.jsx("span",{className:`black-expand-arrow ${w?"active":""}`,children:e.jsx("i",{className:"fa-solid fa-chevron-down"})}),D&&e.jsx("span",{className:`blue-expand-arrow ${w?"active":""}`,children:e.jsx("i",{className:"fa-solid fa-chevron-right"})}),e.jsxs("div",{className:"sidebar-item-content",children:[A&&l.icon&&e.jsx("span",{className:`icon ${l.type==="props-plus"?"sidebar-blue-icon":"sidebar-main-icon"}`,children:typeof l.icon=="string"&&l.icon.includes("fa-")?e.jsx("i",{className:l.icon}):l.icon}),e.jsx("span",{className:"sidebar-label-text",children:l.label})]}),r===0&&g&&e.jsx("span",{className:`main-cat-arrow ${w?"expanded":""}`,children:e.jsx("i",{className:"fa-solid fa-chevron-down"})})]}),g&&w&&l.children&&e.jsx("div",{className:"sidebar-children",children:l.children.map(k=>e.jsx(Rp,{item:k,level:r+1,selectedIds:o,onToggle:d,expandedIds:h,onToggleExpand:p},k.id))})]})},Lf=({selectedSports:l=[],onToggleSport:r,betMode:o="straight",isOpen:d=!1,onCloseSidebar:h,onOpenFeedback:p,isMobileSportsSelectionMode:b=!1})=>{const[w,x]=u.useState(new Set(["football","nfl","ncaa-football"])),g=A=>{x(N=>{const D=new Set(N);return D.has(A)?D.delete(A):D.add(A),D})},j=A=>{r(A)},f=["football","baseball","basketball","hockey","soccer","mma"],y=o==="parlay"||o==="teaser"||o==="if_bet"||o==="reverse"?xd.filter(A=>f.includes(A.id)):xd;return e.jsxs("aside",{className:`dash-sidebar ${d?"open":""} ${b?"mobile-sports-selection-mode":""}`,children:[e.jsxs("div",{className:"search-container desktop-search",children:[e.jsx("i",{className:"fa-solid fa-magnifying-glass search-icon"}),e.jsx("input",{type:"text",className:"search-input",placeholder:"SEARCH"})]}),e.jsx("div",{className:"sidebar-header desktop-only",children:"SPORTS SCHEDULE"}),e.jsxs("div",{className:"sidebar-mobile-info mobile-only",children:[e.jsx("div",{className:"info-item",children:"UP NEXT"}),e.jsx("div",{className:"info-item",children:"FEATURED"})]}),e.jsxs("div",{className:"sidebar-content",children:[e.jsx("div",{className:"mobile-only-section",children:e.jsx("div",{className:`sidebar-item-row level-0 ${l.includes("commercial-live")?"selected":""}`,onClick:()=>j("commercial-live"),children:e.jsxs("div",{className:"sidebar-item-content",children:[e.jsx("span",{className:"icon sidebar-main-icon",style:{color:"#007bff"},children:e.jsx("i",{className:"fa-solid fa-desktop"})}),e.jsx("span",{className:"sidebar-label-text",children:"COMMERCIAL LIVE"})]})})}),y.map(A=>e.jsx(Rp,{item:A,level:0,selectedIds:l,onToggle:r,expandedIds:w,onToggleExpand:g,className:A.id==="commercial-live"||A.id==="up-next"||A.id==="featured"?"desktop-only":""},A.id))]}),e.jsx("div",{className:"mobile-only feedback-btn-container",children:e.jsx("button",{className:"mobile-feedback-btn",onClick:p,children:"FEEDBACK"})})]})},uv="true".toLowerCase()==="true",Mf=15e3,hv=45e3;let ii=null,Df=0;const mv=async()=>{const l=Date.now();return ii||(l-Df<hv?null:(ii=Sp().then(r=>(Df=Date.now(),r)).finally(()=>{ii=null}),ii))},Lr=l=>{if(!l)return!1;if((l.status||"").toString().toLowerCase()==="live")return!0;const o=(l.score?.event_status||"").toString().toUpperCase();return o.includes("IN_PROGRESS")||o.includes("LIVE")||o.includes("STATUS_IN_PROGRESS")},Mr=l=>{if(!l)return!1;const r=(l.status||"").toString().toLowerCase();if(["scheduled","pre-game","pregame","upcoming","pending"].includes(r))return!0;const o=(l.score?.event_status||"").toString().toUpperCase();if(o.includes("SCHEDULED")||o.includes("PRE_GAME"))return!0;if(l.startTime){const d=new Date(l.startTime).getTime();if(!Number.isNaN(d))return d>Date.now()}return!1},ll=l=>{if(!l)return!1;const r=(l.status||"").toString().toLowerCase();if(["finished","final","cancelled","canceled","closed"].includes(r))return!0;const o=(l.score?.event_status||"").toString().toUpperCase();return o.includes("FINAL")||o.includes("COMPLETE")||o.includes("STATUS_CLOSED")};function fi(l={}){const[r,o]=u.useState([]),d=(l.status||"all").toString().toLowerCase();return u.useEffect(()=>{let h=!0;const p=l.refreshOdds!==!1,b=async()=>{try{if(p)try{await mv()}catch(A){console.warn("useMatches: odds refresh failed",A)}const j=d==="live"||d==="active"?await Oy():await pp(),f=Array.isArray(j)?j:[];let y=f;d==="live"||d==="active"?(y=f.filter(Lr),y.length===0&&f.length>0&&(y=f)):d==="upcoming"||d==="scheduled"?y=f.filter(A=>!ll(A)&&Mr(A)):(d==="live-upcoming"||d==="active-upcoming")&&(y=f.filter(A=>!ll(A)&&(Lr(A)||Mr(A)||!ll(A)&&!A.status))),h&&o(y),window.dispatchEvent(new CustomEvent("matches:refresh-completed",{detail:{success:!0}}))}catch(j){console.error("useMatches: fetch error",j),window.dispatchEvent(new CustomEvent("matches:refresh-completed",{detail:{success:!1,error:j.message}}))}};b();const w=()=>{b()};window.addEventListener("matches:refresh",w);let x=null,g=null;return uv&&typeof window<"u"&&typeof window.EventSource<"u"&&(x=new window.EventSource(`${en}/matches/stream`),x.addEventListener("matchUpdate",j=>{let f=null;try{f=JSON.parse(j.data)}catch{return}console.debug("useMatches: received matchUpdate",f),o(y=>{if(!f)return y;let A=!0;d==="live"||d==="active"?A=Lr(f):d==="upcoming"||d==="scheduled"?A=!ll(f)&&Mr(f):(d==="live-upcoming"||d==="active-upcoming")&&(A=!ll(f)&&(Lr(f)||Mr(f)||!ll(f)&&!f?.status));const N=f.id||f._id||f.externalId,D=y.findIndex(R=>R.id===N||R._id===N||R.externalId===N);if(!A){if(D>=0){const R=[...y];return R.splice(D,1),R}return y}if(D>=0){const R=[...y];return R[D]={...R[D],...f},R}return[f,...y]})}),x.onerror=()=>{g===null&&(g=window.setInterval(b,Mf))}),g===null&&(g=window.setInterval(b,Mf)),()=>{if(h=!1,g!==null&&window.clearInterval(g),x)try{x.close()}catch{}window.removeEventListener("matches:refresh",w)}},[d,l.refreshOdds]),r}const fv=({sportId:l,selectedItems:r=[],filter:o=null,status:d="live-upcoming",activeBetMode:h="straight"})=>{const[p,b]=u.useState("matches"),[w,x]=u.useState({}),g=ys.useRef(new Set),[j,f]=u.useState({name:"",icon:"",matches:[],scoreboards:[]}),[y,A]=u.useState(!0),N=fi({status:d});ys.useEffect(()=>{const C={nfl:{name:"NFL",icon:"fa-solid fa-football"},nba:{name:"NBA",icon:"fa-solid fa-basketball"},mlb:{name:"MLB",icon:"fa-solid fa-baseball"},nhl:{name:"NHL",icon:"fa-solid fa-hockey-puck"},epl:{name:"EPL (Soccer)",icon:"fa-solid fa-futbol"},boxing:{name:"Boxing",icon:"fa-solid fa-hand-fist"},mma:{name:"MMA/UFC",icon:"fa-solid fa-hand-fist"},ncaaf:{name:"NCAA Football",icon:"fa-solid fa-building-columns"},ncaab:{name:"NCAA Basketball",icon:"fa-solid fa-basketball"}},v=S=>{if(!S)return[];const F=S.toString().toLowerCase();return{nfl:["nfl","americanfootball_nfl","national football","american football"],ncaaf:["ncaaf","ncaa football","college football"],nba:["nba","basketball_nba","national basketball"],ncaab:["ncaab","ncaa basketball","college basketball"],mlb:["mlb","baseball_mlb","major league baseball"],nhl:["nhl","icehockey_nhl","hockey_nhl"],epl:["epl","premier league","english premier league"],soccer:["soccer","football","premier league","la liga","serie a","bundesliga","ligue 1","mls"],basketball:["basketball","nba","ncaab","euroleague"],baseball:["baseball","mlb"],hockey:["hockey","nhl","icehockey"],golf:["golf","pga"],tennis:["tennis","atp","wta"],boxing:["boxing"],mma:["mma","ufc"],rugby:["rugby"],"auto-racing":["racing","motorsport","nascar","formula"],"martial-arts":["mma","ufc","martial"],olympics:["olympics","olympic"]}[F]||[F]};let E=l,q=null;const V=o||l;V&&(V.startsWith("nfl-")?(E="nfl",V.includes("1st-quarter")&&(q="Q1"),V.includes("2nd-quarter")&&(q="Q2"),V.includes("1st-half")&&(q="H1")):V.startsWith("ncaa-")&&(E="ncaaf",V.includes("1st-quarter")&&(q="Q1"),V.includes("2nd-quarter")&&(q="Q2"),V.includes("1st-half")&&(q="H1")));const _=C[E]||{name:"Sports",icon:"fa-solid fa-trophy"},se=()=>{const S=N||[];A(!N||Array.isArray(N)&&N.length===0);const F=v(E);let M=S.filter(H=>{if(!E)return!0;if(!H.sport)return!1;const G=H.sport.toString().toLowerCase();return F.some(re=>G.includes(re))});q&&(M=M.filter(H=>{const G=String(H?.score?.period||"").toUpperCase(),re=String(H?.score?.event_status||"").toUpperCase();return!G&&!re?!0:q==="Q1"?/\bQ1\b|1ST\s*QUARTER/.test(G)||re.includes("1ST_QUARTER"):q==="Q2"?/\bQ2\b|2ND\s*QUARTER/.test(G)||re.includes("2ND_QUARTER"):q==="H1"?G.includes("H1")||G.includes("1H")||re.includes("1ST_HALF"):!0}));const K=(H,G,re)=>{if(!H||!H.odds)return{spread:["-","-"],moneyline:["-","-"],total:["-","-"]};if(H.odds.spread&&H.odds.moneyline&&H.odds.total)return H.odds;const je=Array.isArray(H.odds.markets)?H.odds.markets:[],ee=Ce=>je.find(Me=>String(Me.key||"").toLowerCase()===Ce),B=(Ce,Me)=>{if(!Ce||!Array.isArray(Ce.outcomes))return null;const Re=Ce.outcomes.find(st=>String(st.name||"").toLowerCase()===String(Me||"").toLowerCase());return Re||Ce.outcomes.find(st=>String(st.name||"").toLowerCase().includes(String(Me||"").toLowerCase()))||null},Q=ee("h2h"),ne=ee("spreads"),Z=ee("totals"),J=B(Q,G),P=B(Q,re),$=B(ne,G),ue=B(ne,re),me=Z?.outcomes?.find(Ce=>String(Ce.name||"").toLowerCase().includes("over"))||null,Ne=Z?.outcomes?.find(Ce=>String(Ce.name||"").toLowerCase().includes("under"))||null,we=$?.point??ue?.point;return{spread:[`${we??"-"} (${$?.price??"-"})`,`${we!=null?-we:"-"} (${ue?.price??"-"})`],moneyline:[`${J?.price??"-"}`,`${P?.price??"-"}`],total:[`O ${me?.point??Ne?.point??"-"} (${me?.price??"-"})`,`U ${Ne?.point??me?.point??"-"} (${Ne?.price??"-"})`]}};M=M.map(H=>{const G=H.homeTeam||H.home_team||"",re=H.awayTeam||H.away_team||"";let je=H.score?.score_home??0,ee=H.score?.score_away??0;return{id:H.id||H._id||H.externalId,time:H.startTime?new Date(H.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",date:H.startTime?new Date(H.startTime).toLocaleDateString():"",team1:{name:G,abbr:G.substring(0,3).toUpperCase(),logo:""},team2:{name:re,abbr:re.substring(0,3).toUpperCase(),logo:""},score1:je,score2:ee,period:H.score?.period,status:H.status==="live"||H.score&&(String(H.score.event_status||"").toUpperCase().includes("IN_PROGRESS")||String(H.score.event_status||"").toUpperCase().includes("LIVE"))?"LIVE":H.status||"Scheduled",odds:K(H,G,re),rawMatch:H}}),f({..._,matches:M,scoreboards:[]}),M.length>0&&A(!1)};se();const z=setInterval(se,5e3);return()=>clearInterval(z)},[l,o,N]),ys.useEffect(()=>{Array.from(new Set((j.matches||[]).flatMap(v=>[v.team1?.name,v.team2?.name]).filter(Boolean))).forEach(v=>{!v||g.current.has(v)||(g.current.add(v),Bp(v).then(E=>{x(q=>({...q,[v]:E||""}))}))})},[j.matches]);const D=(C,v,E,q,V,_)=>{window.dispatchEvent(new CustomEvent("betslip:add",{detail:{matchId:C,selection:v,marketType:E,odds:parseFloat(q),matchName:V,marketLabel:_}}))},R=String(h||"straight").toLowerCase().replace(/-/g,"_"),k=["straight","parlay","teaser","if_bet","reverse"].includes(R),I=["straight","parlay","if_bet","reverse"].includes(R),L=["straight","parlay","teaser","if_bet","reverse"].includes(R);return e.jsxs("div",{className:"sport-content-view",children:[e.jsxs("div",{className:"content-header",children:[e.jsxs("div",{className:"content-title",children:[e.jsx("i",{className:j.icon}),e.jsxs("span",{children:[j.name," - Live & Upcoming"]})]}),e.jsxs("div",{className:"content-tabs",children:[e.jsx("button",{className:`tab-btn ${p==="matches"?"active":""}`,onClick:()=>b("matches"),children:"Matches"}),e.jsx("button",{className:`tab-btn ${p==="scoreboards"?"active":""}`,onClick:()=>b("scoreboards"),children:"Scoreboards"})]})]}),p==="matches"&&e.jsx("div",{className:"matches-section",children:y?e.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#888",background:"#fff",borderRadius:"8px"},children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin",style:{fontSize:"48px",marginBottom:"16px",opacity:.5}}),e.jsx("h3",{children:"Loading sports data..."}),e.jsx("p",{children:"Please wait while we load the latest matches."})]}):j.matches.length===0?e.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#888",background:"#fff",borderRadius:"8px"},children:[e.jsx("i",{className:"fa-solid fa-calendar-xmark",style:{fontSize:"48px",marginBottom:"16px",opacity:.5}}),e.jsx("h3",{children:"No Live or Upcoming Matches Found"}),e.jsxs("p",{children:["There are no ",j.name," matches available right now."]}),e.jsx("p",{style:{fontSize:"0.9em"},children:"Check back later for new updates."})]}):j.matches.map(C=>e.jsxs("div",{className:"match-card",children:[e.jsxs("div",{className:"match-header",children:[e.jsxs("div",{className:"match-time",children:[e.jsx("span",{className:"time",children:C.time}),e.jsx("span",{className:"date",children:C.date})]}),e.jsx("span",{className:`match-status ${C.status==="LIVE"?"live":""}`,children:C.status})]}),e.jsxs("div",{className:"match-body",children:[e.jsxs("div",{className:"team-box",children:[e.jsx("span",{className:"team-logo-badge",children:e.jsx("img",{className:"team-logo-image",src:w[C.team1.name]||Js(C.team1.name),alt:`${C.team1.name} logo`,loading:"lazy",onError:v=>{v.currentTarget.onerror=null,v.currentTarget.src=Js(C.team1.name)}})}),e.jsxs("div",{className:"team-info",children:[e.jsx("span",{className:"team-name",children:C.team1.name}),e.jsx("span",{className:"team-abbr",children:C.team1.abbr})]}),e.jsx("span",{className:"score",children:C.score1})]}),e.jsx("div",{className:"vs-separator",children:"vs"}),e.jsxs("div",{className:"team-box",children:[e.jsx("span",{className:"team-logo-badge",children:e.jsx("img",{className:"team-logo-image",src:w[C.team2.name]||Js(C.team2.name),alt:`${C.team2.name} logo`,loading:"lazy",onError:v=>{v.currentTarget.onerror=null,v.currentTarget.src=Js(C.team2.name)}})}),e.jsxs("div",{className:"team-info",children:[e.jsx("span",{className:"team-name",children:C.team2.name}),e.jsx("span",{className:"team-abbr",children:C.team2.abbr})]}),e.jsx("span",{className:"score",children:C.score2})]})]}),C.odds&&e.jsx("div",{className:"match-odds",children:e.jsxs("div",{className:"odds-row",children:[k&&e.jsxs("div",{className:"odds-cell",children:[e.jsx("span",{className:"odds-label",children:"Spread"}),e.jsxs("div",{className:"odds-values-group",children:[e.jsx("button",{className:"odds-value-btn",onClick:()=>D(C.id,C.team1.name,"spreads",C.rawMatch.odds?.markets?.find(v=>v.key==="spreads")?.outcomes.find(v=>v.name===C.team1.name)?.price,`${C.team1.name} vs ${C.team2.name}`,"Spread"),children:C.odds.spread[0]}),e.jsx("button",{className:"odds-value-btn",onClick:()=>D(C.id,C.team2.name,"spreads",C.rawMatch.odds?.markets?.find(v=>v.key==="spreads")?.outcomes.find(v=>v.name===C.team2.name)?.price,`${C.team1.name} vs ${C.team2.name}`,"Spread"),children:C.odds.spread[1]})]})]}),I&&e.jsxs("div",{className:"odds-cell",children:[e.jsx("span",{className:"odds-label",children:"Moneyline"}),e.jsxs("div",{className:"odds-values-group",children:[e.jsx("button",{className:"odds-value-btn",onClick:()=>D(C.id,C.team1.name,"h2h",C.rawMatch.odds?.markets?.find(v=>v.key==="h2h")?.outcomes.find(v=>v.name===C.team1.name)?.price,`${C.team1.name} vs ${C.team2.name}`,"Moneyline"),children:C.odds.moneyline[0]}),e.jsx("button",{className:"odds-value-btn",onClick:()=>D(C.id,C.team2.name,"h2h",C.rawMatch.odds?.markets?.find(v=>v.key==="h2h")?.outcomes.find(v=>v.name===C.team2.name)?.price,`${C.team1.name} vs ${C.team2.name}`,"Moneyline"),children:C.odds.moneyline[1]})]})]}),L&&e.jsxs("div",{className:"odds-cell",children:[e.jsx("span",{className:"odds-label",children:"Total"}),e.jsxs("div",{className:"odds-values-group",children:[e.jsx("button",{className:"odds-value-btn",onClick:()=>D(C.id,"Over","totals",C.rawMatch.odds?.markets?.find(v=>v.key==="totals")?.outcomes.find(v=>v.name.toLowerCase().includes("over"))?.price,`${C.team1.name} vs ${C.team2.name}`,"Total"),children:C.odds.total[0]}),e.jsx("button",{className:"odds-value-btn",onClick:()=>D(C.id,"Under","totals",C.rawMatch.odds?.markets?.find(v=>v.key==="totals")?.outcomes.find(v=>v.name.toLowerCase().includes("under"))?.price,`${C.team1.name} vs ${C.team2.name}`,"Total"),children:C.odds.total[1]})]})]})]})}),e.jsx("div",{className:"match-footer",style:{justifyContent:"center",padding:"10px"},children:e.jsx("span",{style:{fontSize:"0.8em",color:"#888"},children:"Click any odds to place your bet"})})]},C.id))}),p==="scoreboards"&&e.jsx("div",{className:"scoreboards-section",children:j.scoreboards.map((C,v)=>e.jsx("div",{className:"scoreboard-card",children:e.jsx("div",{className:"scoreboard-scores",children:Object.entries(C).map(([E,q])=>e.jsxs("div",{className:"score-cell",children:[e.jsx("span",{className:"score-label",children:E}),e.jsx("span",{className:"score-value",children:q})]},E))})},v))})]})},pv=({selectedSports:l=[],activeBetMode:r="straight"})=>{const o=l.length===0,d=(x,g)=>{for(const j of x){if(j.id===g)return j;if(j.children){const f=d(j.children,g);if(f)return f}}return null},h=l.length>0?l[0]:null,p=h?d(xd,h):null;if(p&&p.type==="props-plus")return e.jsx("main",{className:"dash-main",style:{padding:"20px"},children:e.jsxs("div",{style:{background:"#fff",padding:"20px",borderRadius:"8px",border:"1px solid #e0e0e0",textAlign:"center"},children:[e.jsx("h2",{style:{color:"#007bff"},children:p.label}),e.jsxs("p",{style:{color:"#666",marginTop:"10px"},children:["Props Plus content for ",e.jsx("strong",{children:p.label})," goes here."]}),e.jsxs("div",{style:{marginTop:"20px",display:"inline-block",padding:"10px 20px",background:"#f5f5f5",borderRadius:"4px",fontSize:"14px"},children:["Custom View Component for Type: ",p.type]})]})});const w=(()=>{if(o)return[{sportId:null,filter:null,status:"live-upcoming"}];if(l.includes("up-next"))return[{sportId:null,filter:null,status:"upcoming"}];if(l.includes("featured"))return[{sportId:null,filter:null,status:"live-upcoming"}];if(l.includes("commercial-live"))return[{sportId:null,filter:null,status:"live"}];const x=[],g=new Set;return l.forEach(j=>{j==="up-next"||j==="featured"||j==="commercial-live"||(j==="football"?g.has("nfl")||(x.push({sportId:"nfl",filter:null}),g.add("nfl")):j==="basketball"?g.has("nba")||(x.push({sportId:"nba",filter:null}),g.add("nba")):j==="baseball"?g.has("mlb")||(x.push({sportId:"mlb",filter:null}),g.add("mlb")):j==="hockey"?g.has("nhl")||(x.push({sportId:"nhl",filter:null}),g.add("nhl")):j==="soccer"?g.has("epl")||(x.push({sportId:"epl",filter:null}),g.add("epl")):j==="nfl"&&!g.has("nfl")?(x.push({sportId:"nfl",filter:null}),g.add("nfl")):j.startsWith("nfl-")&&(j.includes("half")||j.includes("quarter"))?g.has("nfl")||(x.push({sportId:"nfl",filter:j}),g.add("nfl")):j==="ncaa-football"&&!g.has("ncaaf")?(x.push({sportId:"ncaaf",filter:null}),g.add("ncaaf")):j.startsWith("ncaa-")&&(j.includes("half")||j.includes("quarter"))?g.has("ncaaf")||(x.push({sportId:"ncaaf",filter:j}),g.add("ncaaf")):j==="nfl-1st-scoring"||j==="nfl-1st-td-scorer"||j==="nfl-anytime-td"||j==="nfl-margin-victory"||j==="nfl-player-props"?g.has("nfl")||(x.push({sportId:"nfl",filter:j}),g.add("nfl")):j==="mlb"&&!g.has("mlb")?(x.push({sportId:"mlb",filter:null}),g.add("mlb")):j==="nba"&&!g.has("nba")?(x.push({sportId:"nba",filter:null}),g.add("nba")):g.has(j)||(x.push({sportId:j,filter:null}),g.add(j)))}),x.length>0?x:[{sportId:null,filter:null}]})();return e.jsxs("main",{className:"dash-main",children:[w.map((x,g)=>e.jsx(ys.Fragment,{children:e.jsx(fv,{sportId:x.sportId,selectedItems:l,filter:x.filter,status:x.status||"live-upcoming",activeBetMode:r})},`${x.sportId}-${g}`)),l.length===0&&e.jsxs("div",{style:{textAlign:"center",padding:"30px",color:"#666"},children:[e.jsx("h3",{children:"Showing all sports"}),e.jsx("p",{style:{fontSize:"13px"},children:"Use the sidebar to filter by a specific sport."})]})]})},xv=()=>{const[l,r]=u.useState("live-upcoming"),[o,d]=u.useState("all"),[h,p]=u.useState(""),[b,w]=u.useState("all"),[x,g]=u.useState(new Set),[j,f]=u.useState(null),y=fi({status:l}),A=(z="")=>{if(!z)return"Unknown";const S=z.toString().split("_").filter(Boolean);return S.length===1?S[0].toUpperCase().replace("-"," "):`${S[0].charAt(0).toUpperCase()+S[0].slice(1)} ${S.slice(1).join(" ").toUpperCase().replace("-"," ")}`},N=u.useMemo(()=>{let S=Array.isArray(y)?y:[];o!=="all"&&(S=S.filter(M=>(M.sport||"").toString()===o));const F=h.trim().toLowerCase();return F&&(S=S.filter(M=>(M.homeTeam||M.home_team||"").toString().toLowerCase().includes(F)||(M.awayTeam||M.away_team||"").toString().toLowerCase().includes(F))),S},[y,o,h]),D=u.useMemo(()=>{const z=Array.isArray(y)?y:[],S=new Map;return z.forEach(F=>{const M=(F.sport||"unknown").toString(),K=S.get(M)||{key:M,label:A(M),count:0};K.count+=1,S.set(M,K)}),Array.from(S.values()).sort((F,M)=>M.count-F.count)},[y]),R=u.useMemo(()=>{const z=new Map;return N.forEach(S=>{const F=(S.sport||"unknown").toString();z.has(F)||z.set(F,[]),z.get(F).push(S)}),Array.from(z.entries()).map(([S,F])=>({sport:S,label:A(S),items:F}))},[N]),k=[{id:"live-upcoming",label:"Live + Upcoming"},{id:"live",label:"Live"},{id:"upcoming",label:"Upcoming"}],I=(z,S)=>(z?.odds?.markets||[]).find(M=>(M.key||"").toLowerCase()===S)||null,L=(z,S)=>{const F=I(z,"spreads");if(!F||!F.outcomes)return{point:"-",price:"-"};const M=F.outcomes.find(K=>(K.name||"").toLowerCase()===(S||"").toLowerCase());return M?{point:M.point??"-",price:M.price??"-"}:{point:"-",price:"-"}},C=(z,S)=>{const F=I(z,"totals");if(!F||!F.outcomes)return{point:"-",price:"-"};const M=F.outcomes.find(K=>(K.name||"").toLowerCase()===S);return M?{point:M.point??"-",price:M.price??"-"}:{point:"-",price:"-"}},v=(z,S)=>{const F=I(z,"h2h");if(!F||!F.outcomes)return"-";const M=F.outcomes.find(K=>(K.name||"").toLowerCase()===(S||"").toLowerCase());return M?M.price??"-":"-"},E=z=>{g(S=>{const F=new Set(S);return F.has(z)?F.delete(z):F.add(z),F})},q=()=>{g(new Set(R.map(z=>z.sport)))},V=()=>{g(new Set)},_=({match:z,selection:S,marketType:F,odds:M,marketLabel:K})=>{if(M==="-"||M===void 0||M===null)return;const H=z.homeTeam||z.home_team||"Home",G=z.awayTeam||z.away_team||"Away",re=z.id||z._id||z.externalId,je=`${re}-${F}-${S}`;f(je),window.dispatchEvent(new CustomEvent("betslip:add",{detail:{matchId:re,selection:S,marketType:F,odds:parseFloat(M),matchName:`${H} vs ${G}`,marketLabel:K}}))},se=()=>{window.dispatchEvent(new CustomEvent("matches:refresh"))};return e.jsx("div",{className:"prime-live-wrapper",children:e.jsxs("div",{className:"prime-layout",children:[e.jsxs("aside",{className:"prime-sidebar",children:[e.jsx("div",{className:"prime-sidebar-search",children:e.jsx("input",{type:"text",className:"prime-sidebar-input",placeholder:"Filter Teams...",value:h,onChange:z=>p(z.target.value)})}),e.jsxs("div",{className:`prime-sidebar-item ${o==="all"?"active":""}`,onClick:()=>d("all"),role:"button",children:[e.jsxs("span",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsx("i",{className:"fa-solid fa-trophy"})," All Sports"]}),e.jsx("span",{className:"prime-badge",children:(y||[]).length})]}),D.map(z=>e.jsxs("div",{className:`prime-sidebar-item ${o===z.key?"active":""}`,onClick:()=>d(z.key),role:"button",children:[e.jsxs("span",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsx("i",{className:"fa-solid fa-medal"})," ",z.label]}),e.jsx("span",{className:"prime-badge",children:z.count})]},z.key))]}),e.jsxs("main",{className:"prime-main",children:[e.jsxs("div",{className:"prime-tools-bar",children:[e.jsxs("div",{className:"prime-toolbar-left",children:[k.map(z=>e.jsx("button",{className:`prime-status-pill ${l===z.id?"active":""}`,onClick:()=>r(z.id),children:z.label},z.id)),e.jsxs("button",{className:"prime-refresh-btn",onClick:se,children:[e.jsx("i",{className:"fa-solid fa-arrows-rotate"})," Refresh"]})]}),e.jsxs("div",{className:"prime-toolbar-right",children:[e.jsxs("div",{className:"prime-market-toggle",children:[e.jsx("button",{className:b==="all"?"active":"",onClick:()=>w("all"),children:"All"}),e.jsx("button",{className:b==="spread"?"active":"",onClick:()=>w("spread"),children:"Spread"}),e.jsx("button",{className:b==="total"?"active":"",onClick:()=>w("total"),children:"Total"}),e.jsx("button",{className:b==="moneyline"?"active":"",onClick:()=>w("moneyline"),children:"Moneyline"})]}),e.jsxs("button",{className:"prime-text-btn",onClick:q,children:[e.jsx("i",{className:"fa-solid fa-compress"})," Collapse"]}),e.jsxs("button",{className:"prime-text-btn",onClick:V,children:[e.jsx("i",{className:"fa-solid fa-expand"})," Expand"]})]})]}),e.jsxs("div",{className:"prime-subtitle",children:["Showing ",e.jsx("strong",{children:o==="all"?"All Sports":A(o)})," (",N.length,")"]}),R.length===0?e.jsxs("div",{className:"prime-empty-state",children:[e.jsx("i",{className:"fa-solid fa-calendar-xmark"}),e.jsx("h3",{children:"No matches found"}),e.jsx("p",{children:"Try another filter or refresh the feed."})]}):R.map(z=>e.jsxs("div",{className:"prime-match-group",children:[e.jsxs("div",{className:"prime-match-header",onClick:()=>E(z.sport),role:"button",children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-flag"})," ",z.label]}),e.jsxs("span",{className:"prime-group-meta",children:[e.jsxs("em",{children:[z.items.length," games"]}),e.jsx("i",{className:`fa-solid ${x.has(z.sport)?"fa-chevron-down":"fa-chevron-up"}`})]})]}),!x.has(z.sport)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"prime-header-row",children:[e.jsx("div",{children:"Match Info"}),e.jsxs("div",{className:"prime-markets-header",children:[(b==="all"||b==="spread")&&e.jsx("span",{children:"Spread"}),(b==="all"||b==="total")&&e.jsx("span",{children:"Total"}),(b==="all"||b==="moneyline")&&e.jsx("span",{children:"Moneyline"})]})]}),z.items.map(S=>{const F=S.homeTeam||S.home_team||"Home",M=S.awayTeam||S.away_team||"Away",K=S.score?.score_home??"-",H=S.score?.score_away??"-",G=S.score?.period||"",je=(S.status||"").toString().toLowerCase()==="live"||String(S.score?.event_status||"").toUpperCase().includes("IN_PROGRESS"),ee=S.startTime?new Date(S.startTime):null,B=je&&G?`${G}`:ee?ee.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",Q=S.id||S._id||S.externalId,ne=L(S,F),Z=L(S,M),J=C(S,"over"),P=C(S,"under"),$=v(S,F),ue=v(S,M);return e.jsxs("div",{className:"prime-match-row",children:[e.jsxs("div",{className:"prime-match-teams",children:[e.jsxs("div",{className:"prime-team",children:[e.jsx("span",{children:F}),e.jsx("span",{className:"prime-score",children:K})]}),e.jsxs("div",{className:"prime-team",children:[e.jsx("span",{children:M}),e.jsx("span",{className:"prime-score",children:H})]}),e.jsxs("div",{className:"prime-time-info",children:[e.jsx("span",{className:`prime-live-pill ${je?"live":""}`,children:je?"LIVE":"SCHEDULED"}),e.jsxs("span",{children:[e.jsx("i",{className:"fa-regular fa-clock"})," ",B]})]})]}),e.jsxs("div",{className:"prime-odds-grid",children:[(b==="all"||b==="spread")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`prime-odd-btn ${j===`${Q}-spreads-${F}`?"selected":""}`,disabled:ne.price==="-",onClick:()=>_({match:S,selection:F,marketType:"spreads",odds:ne.price,marketLabel:"Spread"}),children:[e.jsx("span",{children:ne.point!=="-"?ne.point:"-"}),e.jsx("span",{className:"prime-odd-val",children:ne.price})]}),e.jsxs("button",{className:`prime-odd-btn ${j===`${Q}-spreads-${M}`?"selected":""}`,disabled:Z.price==="-",onClick:()=>_({match:S,selection:M,marketType:"spreads",odds:Z.price,marketLabel:"Spread"}),children:[e.jsx("span",{children:Z.point!=="-"?Z.point:"-"}),e.jsx("span",{className:"prime-odd-val",children:Z.price})]})]}),(b==="all"||b==="total")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`prime-odd-btn ${j===`${Q}-totals-Over`?"selected":""}`,disabled:J.price==="-",onClick:()=>_({match:S,selection:"Over",marketType:"totals",odds:J.price,marketLabel:"Total"}),children:[e.jsxs("span",{children:["o",J.point!=="-"?J.point:"-"]}),e.jsx("span",{className:"prime-odd-val",children:J.price})]}),e.jsxs("button",{className:`prime-odd-btn ${j===`${Q}-totals-Under`?"selected":""}`,disabled:P.price==="-",onClick:()=>_({match:S,selection:"Under",marketType:"totals",odds:P.price,marketLabel:"Total"}),children:[e.jsxs("span",{children:["u",P.point!=="-"?P.point:"-"]}),e.jsx("span",{className:"prime-odd-val",children:P.price})]})]}),(b==="all"||b==="moneyline")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`prime-odd-btn ${j===`${Q}-h2h-${F}`?"selected":""}`,disabled:$==="-",onClick:()=>_({match:S,selection:F,marketType:"h2h",odds:$,marketLabel:"Moneyline"}),children:[e.jsx("span",{children:F}),e.jsx("span",{className:"prime-odd-val",children:$})]}),e.jsxs("button",{className:`prime-odd-btn ${j===`${Q}-h2h-${M}`?"selected":""}`,disabled:ue==="-",onClick:()=>_({match:S,selection:M,marketType:"h2h",odds:ue,marketLabel:"Moneyline"}),children:[e.jsx("span",{children:M}),e.jsx("span",{className:"prime-odd-val",children:ue})]})]})]})]},Q)})]})]},z.sport))]}),e.jsxs("aside",{className:"prime-right-panel",children:[e.jsxs("div",{className:"prime-slip-tabs",children:[e.jsx("div",{className:"prime-slip-tab active",children:"Prime Live"}),e.jsx("div",{className:"prime-slip-tab",children:"Insights"})]}),e.jsxs("div",{className:"prime-slip-content",children:[e.jsxs("div",{className:"prime-side-card",children:[e.jsx("h4",{children:"Live Filters"}),e.jsx("p",{children:"Use the status pills, sport list, and market toggles to fetch and view different data slices from API in real-time."})]}),e.jsxs("div",{className:"prime-side-card",children:[e.jsx("h4",{children:"Quick Actions"}),e.jsxs("button",{className:"prime-side-btn",onClick:se,children:[e.jsx("i",{className:"fa-solid fa-arrows-rotate"})," Refresh Odds"]}),e.jsxs("button",{className:"prime-side-btn",onClick:()=>d("all"),children:[e.jsx("i",{className:"fa-solid fa-list"})," Show All Sports"]}),e.jsxs("button",{className:"prime-side-btn",onClick:V,children:[e.jsx("i",{className:"fa-solid fa-up-right-and-down-left-from-center"})," Expand Leagues"]})]})]})]})]})})},gv=[{id:"in_play",label:"In-Play"},{id:"history",label:"History"},{id:"live_tv",label:"Live TV"}],bv=[{id:"all",label:"All"},{id:"spread",label:"Spread"},{id:"total",label:"Total"},{id:"moneyline",label:"Moneyline"}],Bf=(l="")=>{if(!l)return"Unknown";const r=l.toString().split("_").filter(Boolean);return r.length===1?r[0].toUpperCase().replace("-"," "):`${r[0].charAt(0).toUpperCase()+r[0].slice(1)} ${r.slice(1).join(" ").toUpperCase().replace("-"," ")}`},yv=l=>{const r=(l?.status||"").toString().toLowerCase(),o=(l?.score?.event_status||"").toString().toUpperCase();return r==="live"||o.includes("IN_PROGRESS")||o.includes("LIVE")},jv=l=>{const r=(l?.status||"").toString().toLowerCase(),o=(l?.score?.event_status||"").toString().toUpperCase();return["finished","final","closed","settled","cancelled","canceled"].includes(r)||o.includes("FINAL")||o.includes("COMPLETE")||o.includes("CLOSED")},Sa=l=>l?.id||l?._id||l?.externalId,Td=(l,r)=>(l?.odds?.markets||[]).find(d=>(d.key||"").toLowerCase()===r)||null,_f=(l,r)=>{const o=Td(l,"h2h");return o?.outcomes?o.outcomes.find(h=>(h.name||"").toLowerCase()===(r||"").toLowerCase())?.price??"-":"-"},Rf=(l,r)=>{const o=Td(l,"spreads");if(!o?.outcomes)return{label:"-",price:"-"};const d=o.outcomes.find(p=>(p.name||"").toLowerCase()===(r||"").toLowerCase());return d?{label:`${d.point??"-"}`,price:d.price??"-"}:{label:"-",price:"-"}},Of=(l,r)=>{const o=Td(l,"totals");if(!o?.outcomes)return{label:"-",price:"-"};const d=o.outcomes.find(h=>(h.name||"").toLowerCase()===r);return d?{label:`${r==="over"?"O":"U"} ${d.point??"-"}`,price:d.price??"-"}:{label:"-",price:"-"}},vv=()=>{const[l,r]=u.useState("in_play"),[o,d]=u.useState("all"),[h,p]=u.useState(null),[b,w]=u.useState("all"),[x,g]=u.useState(null),[j,f]=u.useState("bet_slip"),[y,A]=u.useState([]),[N,D]=u.useState(!1),[R,k]=u.useState(""),[I,L]=u.useState({game_winner:!1,spread:!1,total:!1}),v=fi({status:l==="history"?"all":"live-upcoming"}),E=u.useMemo(()=>{const Z=Array.isArray(v)?v:[];return l==="history"?Z.filter(jv):Z.filter(yv)},[v,l]),q=u.useMemo(()=>{const Z=new Map;return E.forEach(J=>{const P=(J.sport||"unknown").toString(),$=Z.get(P)||{key:P,label:Bf(P),count:0};$.count+=1,Z.set(P,$)}),Array.from(Z.values()).sort((J,P)=>P.count-J.count)},[E]),V=u.useMemo(()=>o==="all"?E:E.filter(Z=>(Z.sport||"").toString()===o),[E,o]);u.useEffect(()=>{h&&V.some(Z=>Sa(Z)===h)||p(Sa(V[0])||null)},[h,V]),u.useEffect(()=>{(async()=>{if(j!=="my_bets")return;const J=localStorage.getItem("token");if(!J){A([]),k("Please login to view your bets.");return}try{D(!0),k("");const P=await Ad(J);A(Array.isArray(P)?P:[])}catch(P){k(P.message||"Failed to load bets")}finally{D(!1)}})()},[j]);const _=u.useMemo(()=>V.find(Z=>Sa(Z)===h)||V[0]||null,[V,h]),se=_?.homeTeam||_?.home_team||"Home",z=_?.awayTeam||_?.away_team||"Away",S=_?.score?.score_home??"-",F=_?.score?.score_away??"-",M=_?.score?.period||(l==="history"?"Final":"Live"),K=_?Rf(_,se):{label:"-",price:"-"},H=_?Rf(_,z):{label:"-",price:"-"},G=_?Of(_,"over"):{label:"-",price:"-"},re=_?Of(_,"under"):{label:"-",price:"-"},je=_?_f(_,se):"-",ee=_?_f(_,z):"-",B=()=>{window.dispatchEvent(new CustomEvent("matches:refresh"))},Q=Z=>{L(J=>({...J,[Z]:!J[Z]}))},ne=({selection:Z,marketType:J,odds:P,marketLabel:$})=>{if(!_||P==="-"||P===null||P===void 0)return;const ue=Sa(_),me=`${ue}-${J}-${Z}`;g(me),window.dispatchEvent(new CustomEvent("betslip:add",{detail:{matchId:ue,selection:Z,marketType:J,odds:parseFloat(P),matchName:`${se} vs ${z}`,marketLabel:$}}))};return e.jsxs("div",{className:"ultra-live-wrapper",children:[e.jsxs("aside",{className:"ultra-sidebar",children:[e.jsx("div",{className:"ultra-subnav",children:gv.map(Z=>e.jsx("button",{className:`ultra-subnav-item ${l===Z.id?"active":""}`,onClick:()=>r(Z.id),children:Z.label},Z.id))}),e.jsx("div",{className:"ultra-sidebar-header",children:"Sports"}),e.jsxs("div",{className:`ultra-sidebar-sport ${o==="all"?"active":""}`,onClick:()=>d("all"),children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-trophy"})," All Sports"]}),e.jsx("span",{className:"ultra-chip",children:E.length})]}),q.map(Z=>e.jsxs("div",{className:`ultra-sidebar-sport ${o===Z.key?"active":""}`,onClick:()=>d(Z.key),children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-medal"})," ",Z.label]}),e.jsx("span",{className:"ultra-chip",children:Z.count})]},Z.key)),e.jsx("div",{className:"ultra-sidebar-header",children:"Matches"}),e.jsx("div",{className:"ultra-match-list",children:V.length===0?e.jsx("div",{className:"ultra-empty-mini",children:"No matches for this filter."}):V.map(Z=>{const J=Sa(Z),P=J===Sa(_),$=Z.homeTeam||Z.home_team,ue=Z.awayTeam||Z.away_team;return e.jsxs("div",{className:`ultra-sidebar-match ${P?"active":""}`,onClick:()=>p(J),children:[e.jsxs("div",{className:"ultra-sidebar-match-teams",children:[e.jsx("span",{children:$}),e.jsx("span",{className:"ultra-sidebar-match-score",children:Z.score?.score_home??"-"})]}),e.jsxs("div",{className:"ultra-sidebar-match-teams",children:[e.jsx("span",{children:ue}),e.jsx("span",{className:"ultra-sidebar-match-score",children:Z.score?.score_away??"-"})]}),e.jsx("div",{className:"ultra-sidebar-match-meta",children:Z.score?.period||(l==="history"?"Final":"Live")})]},J)})})]}),e.jsxs("main",{className:"ultra-main",children:[e.jsxs("div",{className:"ultra-toolbar",children:[e.jsx("div",{className:"ultra-market-tabs",children:bv.map(Z=>e.jsx("button",{className:b===Z.id?"active":"",onClick:()=>w(Z.id),children:Z.label},Z.id))}),e.jsxs("button",{className:"ultra-refresh",onClick:B,children:[e.jsx("i",{className:"fa-solid fa-arrows-rotate"})," Refresh"]})]}),e.jsxs("div",{className:"ultra-video-area",children:[e.jsx("div",{className:"ultra-live-indicator",children:l==="history"?"ARCHIVE":"LIVE"}),e.jsxs("div",{className:"ultra-video-center",children:[e.jsx("i",{className:"fa-regular fa-circle-play"}),e.jsx("span",{children:l==="history"?"Match Replay Feed":"Live Stream Feed"})]}),e.jsxs("div",{className:"ultra-video-score",children:[se," ",S," - ",F," ",z]})]}),e.jsxs("div",{className:"ultra-markets-container",children:[e.jsxs("div",{className:"ultra-market-header",children:[e.jsxs("h2",{children:[se," @ ",z]}),e.jsx("div",{className:"ultra-market-status",children:M})]}),(b==="all"||b==="moneyline")&&e.jsxs("div",{className:"ultra-market-section",children:[e.jsxs("button",{className:"ultra-market-title",onClick:()=>Q("game_winner"),children:[e.jsx("span",{children:"Game Winner"}),e.jsx("i",{className:`fa-solid ${I.game_winner?"fa-chevron-down":"fa-chevron-up"}`})]}),!I.game_winner&&e.jsx("div",{className:"ultra-market-rows",children:e.jsxs("div",{className:"ultra-market-row",children:[e.jsxs("button",{className:`ultra-odds-box ${x===`${Sa(_)}-h2h-${se}`?"selected":""}`,disabled:je==="-",onClick:()=>ne({selection:se,marketType:"h2h",odds:je,marketLabel:"Moneyline"}),children:[e.jsx("span",{className:"ultra-odds-label",children:se}),e.jsx("span",{className:"ultra-odds-val",children:je})]}),e.jsxs("button",{className:`ultra-odds-box ${x===`${Sa(_)}-h2h-${z}`?"selected":""}`,disabled:ee==="-",onClick:()=>ne({selection:z,marketType:"h2h",odds:ee,marketLabel:"Moneyline"}),children:[e.jsx("span",{className:"ultra-odds-label",children:z}),e.jsx("span",{className:"ultra-odds-val",children:ee})]})]})})]}),(b==="all"||b==="spread")&&e.jsxs("div",{className:"ultra-market-section",children:[e.jsxs("button",{className:"ultra-market-title",onClick:()=>Q("spread"),children:[e.jsx("span",{children:"Spread"}),e.jsx("i",{className:`fa-solid ${I.spread?"fa-chevron-down":"fa-chevron-up"}`})]}),!I.spread&&e.jsx("div",{className:"ultra-market-rows",children:e.jsxs("div",{className:"ultra-market-row",children:[e.jsxs("button",{className:`ultra-odds-box ${x===`${Sa(_)}-spreads-${se}`?"selected":""}`,disabled:K.price==="-",onClick:()=>ne({selection:se,marketType:"spreads",odds:K.price,marketLabel:"Spread"}),children:[e.jsx("span",{className:"ultra-odds-label",children:K.label}),e.jsx("span",{className:"ultra-odds-val",children:K.price})]}),e.jsxs("button",{className:`ultra-odds-box ${x===`${Sa(_)}-spreads-${z}`?"selected":""}`,disabled:H.price==="-",onClick:()=>ne({selection:z,marketType:"spreads",odds:H.price,marketLabel:"Spread"}),children:[e.jsx("span",{className:"ultra-odds-label",children:H.label}),e.jsx("span",{className:"ultra-odds-val",children:H.price})]})]})})]}),(b==="all"||b==="total")&&e.jsxs("div",{className:"ultra-market-section",children:[e.jsxs("button",{className:"ultra-market-title",onClick:()=>Q("total"),children:[e.jsx("span",{children:"Total"}),e.jsx("i",{className:`fa-solid ${I.total?"fa-chevron-down":"fa-chevron-up"}`})]}),!I.total&&e.jsx("div",{className:"ultra-market-rows",children:e.jsxs("div",{className:"ultra-market-row",children:[e.jsxs("button",{className:`ultra-odds-box ${x===`${Sa(_)}-totals-Over`?"selected":""}`,disabled:G.price==="-",onClick:()=>ne({selection:"Over",marketType:"totals",odds:G.price,marketLabel:"Total"}),children:[e.jsx("span",{className:"ultra-odds-label",children:G.label}),e.jsx("span",{className:"ultra-odds-val",children:G.price})]}),e.jsxs("button",{className:`ultra-odds-box ${x===`${Sa(_)}-totals-Under`?"selected":""}`,disabled:re.price==="-",onClick:()=>ne({selection:"Under",marketType:"totals",odds:re.price,marketLabel:"Total"}),children:[e.jsx("span",{className:"ultra-odds-label",children:re.label}),e.jsx("span",{className:"ultra-odds-val",children:re.price})]})]})})]})]})]}),e.jsxs("aside",{className:"ultra-right-panel",children:[e.jsxs("div",{className:"ultra-tracker",children:[e.jsxs("div",{className:"ultra-tracker-top",children:[e.jsx("span",{children:Bf(_?.sport)}),e.jsx("span",{children:M})]}),e.jsxs("div",{className:"ultra-tracker-body",children:[e.jsx("div",{className:"ultra-tracker-team",children:se}),e.jsxs("div",{className:"ultra-tracker-score",children:[S," - ",F]}),e.jsx("div",{className:"ultra-tracker-team",children:z})]})]}),e.jsxs("div",{className:"ultra-slip-header",children:[e.jsx("button",{className:`ultra-slip-tab ${j==="bet_slip"?"active":""}`,onClick:()=>f("bet_slip"),children:"Bet Slip"}),e.jsx("button",{className:`ultra-slip-tab ${j==="my_bets"?"active":""}`,onClick:()=>f("my_bets"),children:"My Bets"})]}),e.jsxs("div",{className:"ultra-slip-body",children:[j==="bet_slip"&&e.jsxs(e.Fragment,{children:[e.jsx("h4",{children:"Slip Ready"}),e.jsx("p",{children:"Click any odds to add selections to your active betting panel."})]}),j==="my_bets"&&e.jsxs(e.Fragment,{children:[N&&e.jsx("p",{children:"Loading bets..."}),!N&&R&&e.jsx("p",{children:R}),!N&&!R&&y.length===0&&e.jsx("p",{children:"No bets found."}),!N&&!R&&y.length>0&&e.jsx("div",{className:"ultra-my-bets-list",children:y.slice(0,12).map(Z=>e.jsxs("div",{className:"ultra-my-bet-item",children:[e.jsxs("div",{className:"ultra-my-bet-top",children:[e.jsx("span",{children:(Z.type||"bet").toUpperCase()}),e.jsx("span",{className:`ultra-bet-status ${Z.status||"pending"}`,children:Z.status||"pending"})]}),e.jsxs("div",{className:"ultra-my-bet-row",children:["Risk: $",Number(Z.amount||0).toFixed(2)]}),e.jsxs("div",{className:"ultra-my-bet-row",children:["To Win: $",Number(Z.potentialPayout||0).toFixed(2)]})]},Z.id||Z._id))})]})]})]})]})},rd={lobby:{label:"Lobby",icon:"fa-solid fa-table-cells-large"},table_games:{label:"Table Games",icon:"fa-solid fa-playing-cards"},slots:{label:"Slots",icon:"fa-solid fa-dice"},video_poker:{label:"Video Poker",icon:"fa-solid fa-heart"},specialty_games:{label:"Specialty Games",icon:"fa-solid fa-star"}},Nv=()=>{const l=localStorage.getItem("token"),[r,o]=u.useState([]),[d,h]=u.useState("lobby"),[p,b]=u.useState(""),[w,x]=u.useState(""),[g,j]=u.useState(!1),[f,y]=u.useState([]),[A,N]=u.useState(!0),[D,R]=u.useState(""),[k,I]=u.useState(null),L=async()=>{if(l)try{const _=await xp(l);o(Array.isArray(_?.categories)?_.categories:[])}catch(_){console.error("Failed to load casino categories:",_)}},C=async()=>{if(!l){N(!1),R("Please login to access casino games.");return}try{N(!0),R("");const _=await gp({token:l,category:d,search:w,featured:g,page:1,limit:96});y(Array.isArray(_?.games)?_.games:[])}catch(_){console.error("Failed to load casino games:",_),R(_.message||"Failed to load casino games")}finally{N(!1)}};u.useEffect(()=>{L()},[]),u.useEffect(()=>{C()},[d,w,g]);const v=u.useMemo(()=>r.length===0?Object.entries(rd).map(([_,se])=>({id:_,label:se.label,count:0})):r.map(_=>{const se=rd[_.id]||{label:_.label||_.id};return{id:_.id,label:se.label,count:Number(_.count||0)}}),[r]),E=()=>{x(p.trim())},q=async _=>{if(!l){alert("Please login to launch casino games.");return}try{I(_);const se=await bp(_,l);se?.launchUrl?window.open(se.launchUrl,"_blank","noopener,noreferrer"):alert("Launch URL is not available for this game yet.")}catch(se){alert(se.message||"Unable to launch game")}finally{I(null)}},V=(_,se)=>`MIN: $${Number(_||0).toFixed(2)} | MAX: $${Number(se||0).toFixed(2)}`;return e.jsxs("div",{className:"casino-wrapper",children:[e.jsxs("div",{className:"casino-subnav-bar",children:[e.jsx("div",{className:"casino-nav-items",children:v.map(_=>e.jsxs("button",{className:`casino-nav-item ${d===_.id?"active":""}`,onClick:()=>h(_.id),children:[e.jsx("span",{className:"casino-nav-icon",children:e.jsx("i",{className:rd[_.id]?.icon||"fa-solid fa-dice"})}),e.jsx("span",{children:_.label}),e.jsx("span",{className:"casino-count",children:_.count})]},_.id))}),e.jsxs("div",{className:"casino-search-container",children:[e.jsx("input",{type:"text",className:"casino-search-input",placeholder:"Search games",value:p,onChange:_=>b(_.target.value),onKeyDown:_=>_.key==="Enter"&&E()}),e.jsx("button",{className:"casino-search-btn",onClick:E,title:"Search games",children:e.jsx("i",{className:"fa-solid fa-magnifying-glass"})}),e.jsxs("button",{className:`casino-featured-btn ${g?"active":""}`,onClick:()=>j(_=>!_),children:[e.jsx("i",{className:"fa-solid fa-star"}),e.jsx("span",{children:"Featured"})]}),e.jsxs("button",{className:"casino-refresh-btn",onClick:C,children:[e.jsx("i",{className:"fa-solid fa-arrows-rotate"}),e.jsx("span",{children:"Refresh"})]})]})]}),A&&e.jsxs("div",{className:"casino-feedback-state",children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),e.jsx("span",{children:"Loading casino games..."})]}),!A&&D&&e.jsxs("div",{className:"casino-feedback-state error",children:[e.jsx("i",{className:"fa-solid fa-triangle-exclamation"}),e.jsx("span",{children:D})]}),!A&&!D&&f.length===0&&e.jsxs("div",{className:"casino-feedback-state",children:[e.jsx("i",{className:"fa-regular fa-folder-open"}),e.jsx("span",{children:"No games found for this filter."})]}),!A&&!D&&f.length>0&&e.jsx("div",{className:"casino-grid",children:f.map(_=>e.jsxs("article",{className:"casino-card",children:[e.jsxs("div",{className:"casino-card-image",style:{background:`linear-gradient(135deg, #0f172a, ${_.themeColor||"#0f5db3"})`},children:[_.imageUrl?e.jsx("img",{src:_.imageUrl,alt:_.name,className:"casino-game-image"}):e.jsx("span",{className:"casino-fallback-icon",children:e.jsx("i",{className:_.icon||"fa-solid fa-dice"})}),e.jsx("span",{className:`casino-status ${_.status}`,children:_.status}),e.jsx("div",{className:"play-overlay",children:e.jsx("i",{className:"fa-solid fa-play"})})]}),e.jsxs("div",{className:"casino-card-info",children:[e.jsxs("div",{className:"casino-card-top",children:[e.jsx("div",{className:"casino-game-title",children:_.name}),e.jsx("div",{className:"casino-provider",children:_.provider})]}),e.jsx("div",{className:"casino-bet-limits",children:V(_.minBet,_.maxBet)}),e.jsx("button",{className:"casino-play-btn",onClick:()=>q(_.id),disabled:k===_.id||_.status!=="active",children:k===_.id?"Launching...":"Play Now"})]})]},_.id))})]})},Uf=[{id:"lobby",label:"All Games"},{id:"table_games",label:"Table Games"},{id:"slots",label:"Slots"},{id:"video_poker",label:"Video Poker"},{id:"specialty_games",label:"Specialty"}],zf=(l="")=>{const r=l.toLowerCase();return r.includes("blackjack")?"blackjack":r.includes("roulette")?"roulette":r.includes("baccarat")?"baccarat":r.includes("poker")?"poker":r.includes("keno")?"special":"default"},wv=(l="")=>{const r=l.toLowerCase();return r.includes("blackjack")?"Blackjack":r.includes("roulette")?"Roulette":r.includes("baccarat")?"Baccarat":r.includes("poker")?"Poker":r.includes("slot")?"Slots":"Live"},Sv=l=>{const r=["Sarah","James","Elena","Mike","Anna","Lucas","Sophia","Daniel","Eva","Noah"],o=String(l||"").length%r.length;return r[o]},kv=()=>{const l=localStorage.getItem("token"),[r,o]=u.useState([]),[d,h]=u.useState([]),[p,b]=u.useState("lobby"),[w,x]=u.useState(""),[g,j]=u.useState(!0),[f,y]=u.useState(""),[A,N]=u.useState(null),D=async()=>{if(l)try{const C=await xp(l);o(Array.isArray(C?.categories)?C.categories:[])}catch(C){console.error("Failed to fetch casino categories for live page:",C)}},R=async()=>{if(!l){j(!1),y("Please login to access live casino.");return}try{j(!0),y("");const C=await gp({token:l,category:p,search:w,page:1,limit:120});h(Array.isArray(C?.games)?C.games:[])}catch(C){y(C.message||"Failed to load live casino games")}finally{j(!1)}};u.useEffect(()=>{D()},[]),u.useEffect(()=>{R()},[p,w]);const k=u.useMemo(()=>{const C=r.reduce((v,E)=>(v[E.id]=Number(E.count||0),v),{});return Uf.map(v=>({...v,count:v.id==="lobby"?Uf.filter(E=>E.id!=="lobby").reduce((E,q)=>E+(C[q.id]||0),0):C[v.id]||0}))},[r]),I=u.useMemo(()=>d.find(C=>C.isFeatured)||d[0]||null,[d]),L=async C=>{if(l)try{N(C);const v=await bp(C,l);v?.launchUrl?window.open(v.launchUrl,"_blank","noopener,noreferrer"):alert("Launch URL is not available for this game")}catch(v){alert(v.message||"Unable to launch game")}finally{N(null)}};return e.jsxs("div",{className:"live-casino-wrapper",children:[e.jsx("section",{className:`live-hero ${zf(I?.name)}`,children:e.jsxs("div",{className:"live-hero-content",children:[e.jsx("span",{className:"live-hero-badge",children:"Featured Table"}),e.jsx("h1",{children:I?.name||"Live Casino Lobby"}),e.jsx("p",{children:"Professional live-casino experience with real-time seats, game filtering, and direct launch from your wallet-enabled account."}),I&&e.jsxs("button",{className:"play-action-btn",onClick:()=>L(I.id),type:"button",disabled:A===I.id,children:[e.jsx("i",{className:"fa-solid fa-play"})," ",A===I.id?"Launching...":"Join Table"]})]})}),e.jsxs("div",{className:"live-lobby-container",children:[e.jsxs("div",{className:"live-topbar",children:[e.jsx("div",{className:"live-category-bar",children:k.map(C=>e.jsxs("button",{type:"button",className:`live-cat-btn ${p===C.id?"active":""}`,onClick:()=>b(C.id),children:[e.jsx("span",{children:C.label}),e.jsx("small",{children:C.count})]},C.id))}),e.jsx("input",{className:"live-search",type:"text",placeholder:"Search live casino games",value:w,onChange:C=>x(C.target.value)})]}),g&&e.jsx("div",{className:"live-state",children:"Loading live casino games..."}),!g&&f&&e.jsx("div",{className:"live-state error",children:f}),!g&&!f&&d.length===0&&e.jsx("div",{className:"live-state",children:"No games available for this filter."}),!g&&!f&&d.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"live-section-title",children:[e.jsx("i",{className:"fa-solid fa-fire"})," Recommended ",e.jsx("span",{children:"Live Tables"})]}),e.jsx("div",{className:"tables-grid",children:d.slice(0,24).map(C=>e.jsxs("article",{className:`live-table-card theme-${zf(C.name)}`,children:[e.jsxs("div",{className:"table-preview",children:[e.jsx("div",{className:"live-badge",children:wv(C.name)}),e.jsxs("div",{className:"dealer-name",children:[e.jsx("i",{className:"fa-solid fa-user-tie"})," ",Sv(C.name)]})]}),e.jsxs("div",{className:"table-info",children:[e.jsx("div",{className:"table-name",children:C.name}),e.jsxs("div",{className:"table-limits",children:[e.jsxs("span",{children:["Min: $",Number(C.minBet||0).toFixed(2)]}),e.jsxs("span",{children:["Max: $",Number(C.maxBet||0).toFixed(2)]})]}),e.jsx("button",{className:"join-table-btn",type:"button",disabled:A===C.id,onClick:()=>L(C.id),children:A===C.id?"Launching...":"Play Now"})]})]},C.id))})]})]})]})},Cv=()=>{const[l,r]=u.useState("props"),[o,d]=u.useState("builder"),[h,p]=u.useState("all"),[b,w]=u.useState(""),[x,g]=u.useState("popular"),[j,f]=u.useState(null),[y,A]=u.useState({}),[N,D]=u.useState(null),[R,k]=u.useState([]),[I,L]=u.useState(!1),[C,v]=u.useState(""),E=fi({status:"live-upcoming"}),q=u.useMemo(()=>{const F=new Map;return(E||[]).forEach(M=>{const K=String(M.sport||"unknown").toLowerCase(),H=F.get(K)||{id:K,label:Ev(K),count:0};H.count+=1,F.set(K,H)}),Array.from(F.values()).sort((M,K)=>K.count-M.count)},[E]),V=u.useMemo(()=>{const F=b.trim().toLowerCase();return(E||[]).filter(M=>{const K=String(M.sport||"unknown").toLowerCase();if(h!=="all"&&K!==h)return!1;if(!F)return!0;const H=String(M.homeTeam||M.home_team||"").toLowerCase(),G=String(M.awayTeam||M.away_team||"").toLowerCase();return H.includes(F)||G.includes(F)})},[E,h,b]);u.useEffect(()=>{j&&V.some(F=>wn(F)===j)||f(wn(V[0])||null)},[V,j]);const _=u.useMemo(()=>V.find(F=>wn(F)===j)||V[0]||null,[V,j]),se=u.useMemo(()=>{const F=_?.odds?.markets||[];if(!Array.isArray(F))return[];const K={popular:["h2h","spreads","totals"],moneyline:["h2h"],spread:["spreads"],total:["totals"],all:null}[x];return F.filter(H=>K===null||K.includes(String(H.key||"").toLowerCase())).map(H=>({key:String(H.key||"market").toLowerCase(),title:Av(String(H.key||"market")),outcomes:Array.isArray(H.outcomes)?H.outcomes:[]}))},[_,x]);u.useEffect(()=>{if(o!=="my_bets")return;const F=localStorage.getItem("token");if(!F){k([]),v("Please login to view your bets.");return}(async()=>{try{L(!0),v("");const K=await Ad(F);k(Array.isArray(K)?K:[])}catch(K){v(K.message||"Failed to load bets")}finally{L(!1)}})()},[o]);const z=F=>{A(M=>({...M,[F]:!M[F]}))},S=(F,M)=>{if(!_||M?.price==null||M?.price==="-")return;const K=wn(_),H=M.name||"Selection",G=Number(M.price);if(Number.isNaN(G))return;const re=`${K}-${F.key}-${H}`;D(re),window.dispatchEvent(new CustomEvent("betslip:add",{detail:{matchId:K,selection:H,marketType:F.key,odds:G,matchName:`${_.homeTeam||_.home_team} vs ${_.awayTeam||_.away_team}`,marketLabel:F.title}}))};return e.jsxs("div",{className:"props-container",children:[e.jsxs("div",{className:"props-mini-sidebar",children:[e.jsxs("button",{className:`props-ms-item ${l==="props"?"active":""}`,onClick:()=>r("props"),children:[e.jsx("div",{className:"props-ms-icon",children:e.jsx("i",{className:"fa-solid fa-chart-line"})}),e.jsx("div",{children:"PROPS+"})]}),e.jsxs("button",{className:`props-ms-item ${l==="horses"?"active":""}`,onClick:()=>r("horses"),children:[e.jsx("div",{className:"props-ms-icon",children:e.jsx("i",{className:"fa-solid fa-horse"})}),e.jsx("div",{children:"HORSES"})]})]}),e.jsxs("div",{className:"props-selection-sidebar",children:[e.jsxs("div",{className:"props-search-area",children:[e.jsx("div",{className:"props-search-header-row",children:e.jsx("span",{children:"Sports & Games"})}),e.jsx("input",{type:"text",className:"props-search-input",placeholder:"Search teams",value:b,onChange:F=>w(F.target.value)}),e.jsx("button",{className:"props-adv-search-btn",onClick:()=>window.dispatchEvent(new CustomEvent("matches:refresh")),children:"Refresh Board"})]}),e.jsxs("div",{className:"props-track-list",children:[e.jsxs("button",{className:`props-group-header sport-btn ${h==="all"?"active":""}`,onClick:()=>p("all"),children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-trophy"})," All Sports"]}),e.jsx("span",{className:"props-chip",children:V.length})]}),q.map(F=>e.jsxs("button",{className:`props-group-header sport-btn ${h===F.id?"active":""}`,onClick:()=>p(F.id),children:[e.jsx("span",{children:F.label}),e.jsx("span",{className:"props-chip",children:F.count})]},F.id))]}),e.jsx("div",{className:"props-search-area",children:e.jsxs("div",{className:"props-search-header-row",children:[e.jsx("span",{children:"Next Games"}),e.jsx("span",{children:V.length})]})}),e.jsx("div",{className:"props-track-list",children:V.map(F=>{const M=wn(F),K=M===wn(_);return e.jsxs("button",{className:`props-track-item ${K?"active":""}`,onClick:()=>f(M),children:[e.jsx("span",{children:F.homeTeam||F.home_team}),e.jsx("span",{children:F.awayTeam||F.away_team}),e.jsx("div",{className:"props-track-time-badges",children:e.jsx("span",{className:"props-time-badge",children:Tv(F.startTime)})})]},M)})})]}),e.jsxs("div",{className:"props-main",children:[e.jsxs("div",{className:"props-main-header top",children:[e.jsx("div",{className:"props-main-title",children:"Props Builder"}),e.jsxs("div",{className:"props-main-actions",children:[e.jsx("button",{className:`props-top-btn ${o==="builder"?"active":""}`,onClick:()=>d("builder"),children:"Build Mode"}),e.jsx("button",{className:`props-top-btn ${o==="my_bets"?"active":""}`,onClick:()=>d("my_bets"),children:"My Bets"}),e.jsx("button",{className:`props-top-btn ${o==="help"?"active":""}`,onClick:()=>d("help"),children:"Help"})]})]}),e.jsxs("div",{className:"props-main-header secondary",children:[e.jsx("div",{className:"props-match-title",children:_?`${_.homeTeam||_.home_team} @ ${_.awayTeam||_.away_team}`:"No game selected"}),e.jsx("div",{className:"props-market-tabs",children:[{id:"popular",label:"Popular"},{id:"moneyline",label:"Moneyline"},{id:"spread",label:"Spread"},{id:"total",label:"Total"},{id:"all",label:"All Markets"}].map(F=>e.jsx("button",{className:`props-market-tab ${x===F.id?"active":""}`,onClick:()=>g(F.id),children:F.label},F.id))})]}),e.jsxs("div",{className:"props-race-grid",children:[o==="help"&&e.jsxs("div",{className:"props-help-card",children:[e.jsx("h3",{children:"How to use Props Builder"}),e.jsx("p",{children:"1. Select a sport and game from the left board."}),e.jsx("p",{children:"2. Choose a market tab, then click any odds button."}),e.jsx("p",{children:"3. Selection is sent to your live bet slip immediately."}),e.jsx("p",{children:"4. Use mode tabs (Straight/Parlay/Teaser/If Bet/Reverse) at top to control bet rules."})]}),o==="my_bets"&&e.jsxs("div",{className:"props-help-card",children:[e.jsx("h3",{children:"Recent Bets"}),I&&e.jsx("p",{children:"Loading bets..."}),!I&&C&&e.jsx("p",{children:C}),!I&&!C&&R.length===0&&e.jsx("p",{children:"No bets found."}),!I&&!C&&R.slice(0,10).map(F=>e.jsxs("div",{className:"props-bet-row",children:[e.jsx("span",{children:String(F.type||"bet").toUpperCase()}),e.jsxs("span",{children:["$",Number(F.amount||0).toFixed(2)]}),e.jsx("span",{className:`status ${String(F.status||"pending").toLowerCase()}`,children:F.status||"pending"})]},F.id||F._id))]}),o==="builder"&&e.jsxs(e.Fragment,{children:[!_&&e.jsxs("div",{className:"props-help-card",children:[e.jsx("h3",{children:"No games available"}),e.jsx("p",{children:"Try another sport or refresh the board."})]}),_&&se.length===0&&e.jsxs("div",{className:"props-help-card",children:[e.jsx("h3",{children:"No markets for this game"}),e.jsx("p",{children:"Pick another game or switch market tab."})]}),_&&se.map(F=>{const M=!!y[F.key];return e.jsxs("div",{className:"props-market-card",children:[e.jsxs("button",{className:"props-market-header",onClick:()=>z(F.key),children:[e.jsx("span",{children:F.title}),e.jsx("i",{className:`fa-solid ${M?"fa-chevron-down":"fa-chevron-up"}`})]}),!M&&e.jsxs("div",{className:"props-market-outcomes",children:[F.outcomes.length===0&&e.jsx("div",{className:"props-empty-outcomes",children:"No odds currently available."}),F.outcomes.map((K,H)=>{const G=K.point!=null?` (${K.point})`:"",re=`${K.name||`Selection ${H+1}`}${G}`,je=`${wn(_)}-${F.key}-${K.name||H}`,ee=N===je;return e.jsxs("button",{className:`props-odds-btn ${ee?"selected":""}`,onClick:()=>S(F,K),disabled:K.price==null,children:[e.jsx("span",{children:re}),e.jsx("strong",{children:K.price!=null?Number(K.price).toFixed(2):"-"})]},`${F.key}-${K.name||H}`)})]})]},F.key)})]})]})]})]})},Av=l=>{const r={h2h:"Game Winner",spreads:"Spread",totals:"Total"};return r[l]?r[l]:l.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase())},Ev=(l="unknown")=>l.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),wn=l=>l?.id||l?._id||l?.externalId||`${l?.homeTeam||l?.home_team}-${l?.awayTeam||l?.away_team}`,Tv=l=>{if(!l)return"Live";const r=new Date(l);return Number.isNaN(r.getTime())?"Live":r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Lv=()=>{const[l,r]=u.useState(null),o=["GENERAL","FOOTBALL","BASKETBALL","BASEBALL","HOCKEY","SOCCER","GOLF","BOXING/MMA","AUTO RACING","OTHER","SEASON WINS","INTERNET","LIVE BETTING","HORSES"],d=h=>{r(l===h?null:h)};return e.jsx("div",{style:{background:"white",width:"100%",height:"100%",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},children:e.jsx("div",{style:{width:"100%",margin:"0"},children:o.map(h=>e.jsxs("div",{style:{borderBottom:"1px solid #eee"},children:[e.jsx("div",{onClick:()=>d(h),style:{padding:"15px 20px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",background:"white",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#f9f9f9",onMouseLeave:p=>p.currentTarget.style.background="white",children:e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#333",textDecoration:"underline",textDecorationColor:"#333"},children:h})}),l===h&&e.jsxs("div",{style:{padding:"20px",background:"#fcfcfc",borderTop:"1px solid #eee",color:"#555",fontSize:"14px",lineHeight:"1.6"},children:[e.jsxs("p",{children:["Rules and regulations for ",h,"."]}),e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),e.jsx("p",{children:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]},h))})})},Mv=[{id:"deposits",label:"Deposits",icon:"fa-solid fa-arrow-down"},{id:"withdrawals",label:"Withdrawals",icon:"fa-solid fa-arrow-up"},{id:"loyalty",label:"Loyalty",icon:"fa-regular fa-star"},{id:"requests",label:"Requests",icon:"fa-regular fa-file-lines"}],Dr=[{id:"mastercard_visa",label:"Mastercard / Visa",eta:"Instant",fee:"Low fee",icon:"fa-brands fa-cc-visa"},{id:"apple_pay",label:"Apple Pay",eta:"Instant",fee:"No extra fee",icon:"fa-brands fa-apple"},{id:"bitcoin",label:"Bitcoin",eta:"10-30 min",fee:"Network fee",icon:"fa-brands fa-bitcoin"},{id:"ethereum",label:"Ethereum",eta:"5-20 min",fee:"Network fee",icon:"fa-brands fa-ethereum"},{id:"bank_transfer",label:"Bank Transfer",eta:"1-3 days",fee:"No fee",icon:"fa-solid fa-building-columns"}],Br=[{id:"bank_transfer",label:"Bank Transfer",eta:"1-3 days",icon:"fa-solid fa-building-columns"},{id:"crypto",label:"Crypto Wallet",eta:"15-60 min",icon:"fa-solid fa-wallet"},{id:"card_refund",label:"Card Refund",eta:"1-5 days",icon:"fa-brands fa-cc-visa"}],Dv=[25,50,100,250,500,1e3],Zs=l=>`$${Number(l||0).toFixed(2)}`,Bv=()=>{const l=localStorage.getItem("token"),[r,o]=u.useState("deposits"),[d,h]=u.useState({balance:0,pendingBalance:0,availableBalance:0}),[p,b]=u.useState([]),[w,x]=u.useState(!0),[g,j]=u.useState(!1),[f,y]=u.useState(""),[A,N]=u.useState(""),[D,R]=u.useState(Dr[0].id),[k,I]=u.useState(""),[L,C]=u.useState(Br[0].id),[v,E]=u.useState(""),q=async()=>{if(!l){x(!1),y("Please login to access wallet.");return}try{x(!0),y("");const[M,K]=await Promise.all([_y(l),Py(l,{limit:100})]);h({balance:Number(M?.balance||0),pendingBalance:Number(M?.pendingBalance||0),availableBalance:Number(M?.availableBalance||0)}),b(Array.isArray(K?.transactions)?K.transactions:[])}catch(M){y(M.message||"Failed to load wallet data")}finally{x(!1)}};u.useEffect(()=>{q()},[]);const V=u.useMemo(()=>Dr.find(M=>M.id===D)||Dr[0],[D]),_=u.useMemo(()=>Br.find(M=>M.id===L)||Br[0],[L]),se=u.useMemo(()=>{const M=p.filter(ee=>ee.type==="deposit"&&ee.status==="completed").reduce((ee,B)=>ee+Number(B.amount||0),0),K=p.filter(ee=>ee.type==="withdrawal"&&ee.status==="completed").reduce((ee,B)=>ee+Number(B.amount||0),0),H=p.filter(ee=>ee.type==="bet_placed").reduce((ee,B)=>ee+Number(B.amount||0),0),G=Math.floor((M+H)/10),re=4e3,je=Math.min(100,Math.round(G/re*100));return{completedDeposits:M,completedWithdrawals:K,settledBets:H,loyaltyPoints:G,loyaltyTarget:re,loyaltyPct:je}},[p]),z=u.useMemo(()=>[...p].filter(M=>M.type==="deposit"||M.type==="withdrawal").sort((M,K)=>new Date(K.createdAt)-new Date(M.createdAt)),[p]),S=async()=>{const M=Number(k);if(Number.isNaN(M)||M<10){y("Deposit must be at least $10");return}try{j(!0),y("");const K=await Iy(M,D,l);N(K.message||"Deposit request submitted"),I(""),await q()}catch(K){y(K.message||"Failed to submit deposit request")}finally{j(!1)}},F=async()=>{const M=Number(v);if(Number.isNaN(M)||M<20){y("Withdrawal must be at least $20");return}if(M>d.availableBalance){y("Withdrawal exceeds available balance");return}try{j(!0),y("");const K=await Fy(M,L,l);N(K.message||"Withdrawal request submitted"),E(""),await q()}catch(K){y(K.message||"Failed to submit withdrawal request")}finally{j(!1)}};return e.jsx("div",{className:"bonus-view-container",children:e.jsxs("div",{className:"bonus-shell",children:[e.jsxs("aside",{className:"bonus-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("span",{className:"brand-chip",children:"Wallet"}),e.jsx("h2",{children:"Cashier Center"}),e.jsx("p",{children:"Professional cashier flow with secure approval and tracking."})]}),e.jsxs("div",{className:"sidebar-wallet-cards",children:[e.jsxs("div",{className:"wallet-card",children:[e.jsx("span",{children:"Balance"}),e.jsx("strong",{children:Zs(d.balance)})]}),e.jsxs("div",{className:"wallet-card",children:[e.jsx("span",{children:"Available"}),e.jsx("strong",{children:Zs(d.availableBalance)})]}),e.jsxs("div",{className:"wallet-card",children:[e.jsx("span",{children:"Pending"}),e.jsx("strong",{children:Zs(d.pendingBalance)})]})]}),e.jsx("div",{className:"sidebar-nav",children:Mv.map(M=>e.jsxs("button",{className:`sidebar-item ${r===M.id?"active":""}`,type:"button",onClick:()=>o(M.id),children:[e.jsx("i",{className:M.icon}),e.jsx("span",{children:M.label})]},M.id))})]}),e.jsxs("section",{className:"bonus-main",children:[e.jsxs("div",{className:"bonus-main-top",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Wallet & Bonus Operations"}),e.jsx("p",{children:"All actions are DB-backed and approval-aware for sportsbook workflows."})]}),e.jsxs("button",{className:"secondary-btn",onClick:q,type:"button",children:[e.jsx("i",{className:"fa-solid fa-rotate-right"})," Refresh"]})]}),A&&e.jsx("div",{className:"bonus-banner success",children:A}),f&&e.jsx("div",{className:"bonus-banner error",children:f}),w&&e.jsx("div",{className:"bonus-loading",children:"Loading wallet data..."}),!w&&r==="deposits"&&e.jsxs("div",{className:"bonus-content-grid",children:[e.jsxs("div",{className:"bonus-card",children:[e.jsx("h3",{children:"Deposit Methods"}),e.jsx("div",{className:"method-grid",children:Dr.map(M=>e.jsxs("button",{type:"button",className:`method-card ${D===M.id?"selected":""}`,onClick:()=>R(M.id),children:[e.jsxs("div",{className:"method-head",children:[e.jsx("i",{className:M.icon}),e.jsx("strong",{children:M.label})]}),e.jsxs("div",{className:"method-meta",children:[e.jsx("span",{children:M.eta}),e.jsx("span",{children:M.fee})]})]},M.id))})]}),e.jsxs("div",{className:"bonus-card summary",children:[e.jsx("h3",{children:"Submit Deposit Request"}),e.jsx("div",{className:"input-label",children:"Method"}),e.jsx("div",{className:"pill",children:V.label}),e.jsx("div",{className:"input-label",children:"Amount"}),e.jsxs("div",{className:"amount-row",children:[e.jsx("span",{children:"$"}),e.jsx("input",{type:"number",min:"10",value:k,onChange:M=>I(M.target.value),placeholder:"Enter amount"})]}),e.jsx("div",{className:"chips",children:Dv.map(M=>e.jsxs("button",{className:`chip ${Number(k)===M?"active":""}`,onClick:()=>I(String(M)),type:"button",children:["$",M]},M))}),e.jsx("button",{className:"primary-btn",disabled:g,onClick:S,type:"button",children:g?"Submitting...":"Request Deposit"})]})]}),!w&&r==="withdrawals"&&e.jsxs("div",{className:"bonus-content-grid",children:[e.jsxs("div",{className:"bonus-card",children:[e.jsx("h3",{children:"Withdrawal Methods"}),e.jsx("div",{className:"method-grid",children:Br.map(M=>e.jsxs("button",{type:"button",className:`method-card ${L===M.id?"selected":""}`,onClick:()=>C(M.id),children:[e.jsxs("div",{className:"method-head",children:[e.jsx("i",{className:M.icon}),e.jsx("strong",{children:M.label})]}),e.jsxs("div",{className:"method-meta",children:[e.jsx("span",{children:M.eta}),e.jsx("span",{children:"Approval required"})]})]},M.id))})]}),e.jsxs("div",{className:"bonus-card summary",children:[e.jsx("h3",{children:"Submit Withdrawal Request"}),e.jsx("div",{className:"input-label",children:"Available Balance"}),e.jsx("div",{className:"pill",children:Zs(d.availableBalance)}),e.jsx("div",{className:"input-label",children:"Method"}),e.jsx("div",{className:"pill",children:_.label}),e.jsx("div",{className:"input-label",children:"Amount"}),e.jsxs("div",{className:"amount-row",children:[e.jsx("span",{children:"$"}),e.jsx("input",{type:"number",min:"20",value:v,onChange:M=>E(M.target.value),placeholder:"Enter amount"})]}),e.jsx("button",{className:"primary-btn",disabled:g,onClick:F,type:"button",children:g?"Submitting...":"Request Withdrawal"})]})]}),!w&&r==="loyalty"&&e.jsxs("div",{className:"bonus-content-grid",children:[e.jsxs("div",{className:"bonus-card",children:[e.jsx("h3",{children:"Loyalty Progress"}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Current Points"}),e.jsx("strong",{children:se.loyaltyPoints})]}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{style:{width:`${se.loyaltyPct}%`}})}),e.jsxs("div",{className:"metric-row muted",children:[e.jsxs("span",{children:[se.loyaltyPoints," / ",se.loyaltyTarget]}),e.jsxs("span",{children:[se.loyaltyPct,"%"]})]})]}),e.jsxs("div",{className:"bonus-card",children:[e.jsx("h3",{children:"Wallet Performance"}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Completed Deposits"}),e.jsx("strong",{children:Zs(se.completedDeposits)})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Completed Withdrawals"}),e.jsx("strong",{children:Zs(se.completedWithdrawals)})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Settled Bet Volume"}),e.jsx("strong",{children:Zs(se.settledBets)})]})]})]}),!w&&r==="requests"&&e.jsxs("div",{className:"bonus-card full",children:[e.jsx("h3",{children:"Deposit/Withdrawal Requests"}),e.jsxs("div",{className:"request-table",children:[e.jsxs("div",{className:"request-head",children:[e.jsx("span",{children:"Type"}),e.jsx("span",{children:"Amount"}),e.jsx("span",{children:"Status"}),e.jsx("span",{children:"Date"}),e.jsx("span",{children:"Description"})]}),z.length===0&&e.jsx("div",{className:"request-empty",children:"No requests found."}),z.map(M=>e.jsxs("div",{className:"request-row",children:[e.jsx("span",{className:"caps",children:M.type}),e.jsx("span",{children:Zs(M.amount)}),e.jsx("span",{className:`status ${M.status}`,children:M.status}),e.jsx("span",{children:new Date(M.createdAt).toLocaleString()}),e.jsx("span",{children:M.description||"-"})]},M.id))]})]})]})]})})},_v=({onClose:l,onViewChange:r})=>{const o=[{id:"sports",label:"Sports",icon:"fa-solid fa-shield-halved"},{id:"prime-live",label:"Prime Live",icon:"fa-solid fa-tv"},{id:"ultra-live",label:"Ultra Live",icon:"fa-solid fa-display"},{id:"casino",label:"Casino",icon:"fa-solid fa-dice"},{id:"live-casino",label:"Live Casino",icon:"fa-solid fa-circle-dot"},{id:"prop-builder",label:"Prop Builder",icon:"fa-solid fa-arrow-down-1-9"},{id:"world-365",label:"World 365",icon:"fa-solid fa-futbol"},{id:"horses",label:"Horses",icon:"fa-solid fa-horse-head"},{id:"parlay-boosts",label:"Parlay Boosts",icon:"fa-solid fa-bolt-lightning"},{id:"rules",label:"Rules",icon:"fa-solid fa-whistle"},{id:"tutorials",label:"Tutorials",icon:"fa-solid fa-book-open"},{id:"support",label:"Support",icon:"fa-solid fa-headset"}],d=h=>{h==="sports"?r("dashboard"):h==="live-casino"?r("live-casino"):h==="tutorials"||r(h),l()};return e.jsx("div",{className:"mobile-grid-menu-overlay",children:e.jsx("div",{className:"mobile-grid-container",children:o.map(h=>e.jsxs("div",{className:"grid-menu-item",onClick:()=>d(h.id),children:[e.jsx("div",{className:"grid-icon",children:e.jsx("i",{className:h.icon})}),e.jsx("span",{className:"grid-label",children:h.label})]},h.id))})})},Rv=({selectedSports:l=[]})=>{const r=g=>({nfl:"NFL Football","ncaa-football":"College Football",nba:"NBA Basketball","ncaa-basketball":"College Basketball",mlb:"MLB Baseball",nhl:"NHL Hockey",epl:"EPL Soccer",mls:"MLS Soccer",pga:"PGA Golf",wta:"WTA Tennis",atp:"ATP Tennis",boxing:"Boxing",mma:"MMA","auto-racing":"Auto Racing",rugby:"Rugby",volleyball:"Volleyball",cricket:"Cricket",basketball:"Basketball",baseball:"Baseball",hockey:"Hockey",football:"Football",soccer:"Soccer",golf:"Golf",tennis:"Tennis","martial-arts":"Martial Arts"})[g]||g.replace("-"," ").toUpperCase(),o=l&&l.length>0?l[0]:null,h=fi({status:o==="commercial-live"?"live":o==="up-next"?"upcoming":"live-upcoming"}),p=o?r(o):"Selected Sport",b=g=>{if(!g)return[];const j=g.toString().toLowerCase();return{nfl:["nfl","americanfootball_nfl","national football","american football"],"ncaa-football":["ncaaf","ncaa football","college football"],nba:["nba","basketball_nba","national basketball"],"ncaa-basketball":["ncaab","ncaa basketball","college basketball"],mlb:["mlb","baseball_mlb","major league baseball"],nhl:["nhl","icehockey_nhl","hockey_nhl"],epl:["epl","premier league","english premier league"],soccer:["soccer","football","premier league","la liga","serie a","bundesliga","ligue 1","mls"],basketball:["basketball","nba","ncaab","euroleague"],baseball:["baseball","mlb"],hockey:["hockey","nhl","icehockey"],golf:["golf","pga"],tennis:["tennis","atp","wta"],boxing:["boxing"],mma:["mma","ufc"],rugby:["rugby"],"auto-racing":["racing","motorsport","nascar","formula"],"martial-arts":["mma","ufc","martial"]}[j]||[j]},w=(g,j,f)=>{if(!g||!g.odds)return{spreadHomePoint:null,spreadAwayPoint:null,spreadHomePrice:null,spreadAwayPrice:null,moneylineHome:null,moneylineAway:null,totalPoint:null,totalOverPrice:null,totalUnderPrice:null};const y=Array.isArray(g.odds.markets)?g.odds.markets:[],A=V=>y.find(_=>String(_.key||"").toLowerCase()===V),N=(V,_)=>{if(!V||!Array.isArray(V.outcomes))return null;const se=V.outcomes.find(z=>String(z.name||"").toLowerCase()===String(_||"").toLowerCase());return se||V.outcomes.find(z=>String(z.name||"").toLowerCase().includes(String(_||"").toLowerCase()))||null},D=A("h2h"),R=A("spreads"),k=A("totals"),I=N(D,j),L=N(D,f),C=N(R,j),v=N(R,f),E=k?.outcomes?.find(V=>String(V.name||"").toLowerCase().includes("over"))||null,q=k?.outcomes?.find(V=>String(V.name||"").toLowerCase().includes("under"))||null;return{spreadHomePoint:C?.point??null,spreadAwayPoint:v?.point??null,spreadHomePrice:C?.price??null,spreadAwayPrice:v?.price??null,moneylineHome:I?.price??null,moneylineAway:L?.price??null,totalPoint:E?.point??q?.point??null,totalOverPrice:E?.price??null,totalUnderPrice:q?.price??null}},x=ys.useMemo(()=>{const g=(h||[]).map(y=>{const A=y.homeTeam||y.home_team||"",N=y.awayTeam||y.away_team||"",D=w(y,A,N),R=(y.score?.event_status||"").toString().toUpperCase(),k=y.status==="live"||R.includes("IN_PROGRESS")||R.includes("LIVE")||R.includes("STATUS_IN_PROGRESS");return{id:y.id||y._id||y.externalId,sport:y.sport||y.sportTitle||"",team1:A,team2:N,odds:D,isLive:k}});if(!o)return g;const j=b(o),f=g.filter(y=>y.sport&&j.some(A=>y.sport.toLowerCase().includes(A)));return f.length>0?f:g},[h,o]);return e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"#f5f5f5",padding:"0",overflowY:"auto",WebkitOverflowScrolling:"touch"},children:[e.jsxs("div",{style:{padding:"15px 10px",backgroundColor:"#ffffff",borderBottom:"2px solid #e0e0e0",marginBottom:"10px",borderRadius:"4px"},children:[e.jsx("h2",{style:{margin:"0 0 5px 0",fontSize:"18px",fontWeight:"bold",color:"#333"},children:p}),e.jsx("p",{style:{margin:"0",fontSize:"12px",color:"#666",fontWeight:"500"},children:"Upcoming Matches & Events"})]}),e.jsx("div",{style:{flex:1},children:x&&x.length>0?x.map(g=>e.jsxs("div",{style:{backgroundColor:"#ffffff",padding:"12px",marginBottom:"10px",borderRadius:"6px",border:"1px solid #e0e0e0",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("div",{style:{fontSize:"12px",color:"#888",fontWeight:"600"},children:["MATCH ",g.id]}),e.jsx("div",{style:{background:g.isLive?"#007bff":"#6c757d",color:"white",padding:"3px 8px",borderRadius:"3px",fontSize:"11px",fontWeight:"bold"},children:g.isLive?"LIVE":"UPCOMING"})]}),e.jsxs("div",{style:{marginBottom:"10px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #f0f0f0",fontSize:"13px",fontWeight:"600",color:"#333"},children:[e.jsx("span",{children:g.team1}),e.jsx("span",{children:g.odds.spreadHomePoint??"-"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",fontSize:"13px",fontWeight:"600",color:"#333"},children:[e.jsx("span",{children:g.team2}),e.jsx("span",{children:g.odds.spreadAwayPoint??"-"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginTop:"10px"},children:[e.jsxs("button",{style:{padding:"10px",backgroundColor:"#f0f0f0",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",color:"#333",transition:"all 0.2s"},children:["Spread",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#007bff"},children:g.odds.spreadHomePrice??"-"})]}),e.jsxs("button",{style:{padding:"10px",backgroundColor:"#f0f0f0",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",color:"#333",transition:"all 0.2s"},children:["Total",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#007bff"},children:g.odds.totalOverPrice??"-"})]})]})]},g.id)):e.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:e.jsx("p",{style:{fontSize:"14px",margin:0},children:"No matches available"})})})]})},Ov=()=>e.jsxs("div",{className:"promo-card-container",children:[e.jsx("div",{className:"promo-team-header",children:e.jsx("span",{className:"team-text",children:"HOU @ PIT"})}),e.jsxs("div",{className:"promo-main-body",children:[e.jsxs("div",{className:"promo-title-row",children:[e.jsxs("div",{className:"promo-title-group",children:[e.jsx("span",{className:"promo-title",children:"Carry The Night"}),e.jsx("span",{className:"promo-fire-icon",children:" 2"})]}),e.jsxs("div",{className:"promo-badges",children:[e.jsx("span",{className:"badge badge-wa",children:"WA"}),e.jsx("span",{className:"badge badge-sgp",children:"SGP"})]})]}),e.jsx("div",{className:"promo-time",children:"Tomorrow 6:15 AM"}),e.jsxs("div",{className:"promo-props-list",children:[e.jsxs("div",{className:"promo-prop-item",children:[e.jsx("div",{className:"player-photo",children:e.jsx("img",{src:"https://via.placeholder.com/40",alt:"Jaylen Warren"})}),e.jsxs("div",{className:"prop-details",children:[e.jsxs("div",{className:"player-name",children:["Jaylen Warren ",e.jsx("span",{className:"team-tag",children:"(HOU @ PIT)"})]}),e.jsx("div",{className:"prop-value",children:"52 Over - Total Rushing Yards"})]})]}),e.jsxs("div",{className:"promo-prop-item",children:[e.jsx("div",{className:"player-photo",children:e.jsx("img",{src:"https://via.placeholder.com/40",alt:"Woody Marks"})}),e.jsxs("div",{className:"prop-details",children:[e.jsxs("div",{className:"player-name",children:["Woody Marks ",e.jsx("span",{className:"team-tag",children:"(HOU @ PIT)"})]}),e.jsx("div",{className:"prop-value",children:"55 Over - Total Rushing Yards"})]})]}),e.jsxs("div",{className:"promo-prop-item",children:[e.jsx("div",{className:"player-photo",children:e.jsx("img",{src:"https://via.placeholder.com/40",alt:"Kenneth Gainwell"})}),e.jsxs("div",{className:"prop-details",children:[e.jsxs("div",{className:"player-name",children:["Kenneth Gainwell ",e.jsx("span",{className:"team-tag",children:"(HOU @ PIT)"})]}),e.jsx("div",{className:"prop-value",children:"28 Over - Total Rushing Yards"})]})]})]}),e.jsx("div",{className:"more-selections",children:"+ 1 more selection"}),e.jsxs("div",{className:"promo-footer",children:[e.jsxs("div",{className:"odds-group",children:[e.jsx("span",{className:"old-odds",children:"+1176"}),e.jsx("span",{className:"odds-arrow",children:""}),e.jsx("span",{className:"new-odds",children:"+1234"})]}),e.jsx("button",{className:"promo-bet-btn",children:"Bet Now"})]})]}),e.jsxs("div",{className:"promo-pagination",children:[e.jsx("span",{className:"dot active"}),e.jsx("span",{className:"dot"}),e.jsx("span",{className:"dot"}),e.jsx("span",{className:"dot"}),e.jsx("span",{className:"dot"})]})]}),Uv=(l="")=>{const r=l.toLowerCase();return r.includes("beginner")||r.includes("fundamentals")?"Beginner":r.includes("parlay")||r.includes("live")?"Advanced":r.includes("responsible")||r.includes("bankroll")?"Important":r.includes("moneyline")||r.includes("spread")||r.includes("totals")?"Basics":"Guide"},zv=(l="")=>{const r=l.toLowerCase();return r.includes("moneyline")||r.includes("bankroll")?"fa-solid fa-money-bill-wave":r.includes("spread")||r.includes("totals")?"fa-solid fa-chart-line":r.includes("live")?"fa-solid fa-bolt":r.includes("parlay")?"fa-solid fa-layer-group":r.includes("responsible")?"fa-solid fa-shield-heart":"fa-solid fa-book-open"},Iv=()=>{const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(""),[x,g]=u.useState("all"),[j,f]=u.useState(null),y=async()=>{const R=localStorage.getItem("token");if(!R){p("Please login to view tutorials."),d(!1);return}try{d(!0),p("");const k=await Ky(R);r(Array.isArray(k?.tutorials)?k.tutorials:[])}catch(k){p(k.message||"Failed to fetch tutorials")}finally{d(!1)}};u.useEffect(()=>{y()},[]);const A=u.useMemo(()=>l.map(R=>({id:R._id||R.id,title:R.title,desc:R.content,content:R.content,tag:Uv(R.title),icon:zv(R.title),order:R.order||0})),[l]),N=u.useMemo(()=>{const R=new Set(["all"]);return A.forEach(k=>R.add(k.tag.toLowerCase())),Array.from(R)},[A]),D=u.useMemo(()=>{const R=b.trim().toLowerCase();return A.filter(k=>x!=="all"&&k.tag.toLowerCase()!==x?!1:R?k.title.toLowerCase().includes(R)||k.desc.toLowerCase().includes(R):!0).sort((k,I)=>k.order-I.order)},[A,b,x]);return e.jsxs("div",{className:"tutorials-container",children:[e.jsxs("div",{className:"tutorials-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Betting Tutorials & Guides"}),e.jsx("p",{children:"Professional learning hub for sportsbook users: markets, strategy, risk, and execution."})]}),e.jsxs("button",{className:"tutorial-refresh",onClick:y,type:"button",children:[e.jsx("i",{className:"fa-solid fa-rotate-right"})," Refresh"]})]}),e.jsxs("div",{className:"tutorials-toolbar",children:[e.jsx("input",{type:"text",placeholder:"Search tutorials",value:b,onChange:R=>w(R.target.value),className:"tutorial-search"}),e.jsx("div",{className:"tutorial-tags-filter",children:N.map(R=>e.jsx("button",{type:"button",className:`tag-chip ${x===R?"active":""}`,onClick:()=>g(R),children:R==="all"?"All":R},R))})]}),o&&e.jsx("div",{className:"tutorial-state",children:"Loading tutorials..."}),!o&&h&&e.jsx("div",{className:"tutorial-state error",children:h}),!o&&!h&&D.length===0&&e.jsx("div",{className:"tutorial-state",children:"No tutorials found."}),!o&&!h&&D.length>0&&e.jsx("div",{className:"tutorials-grid",children:D.map(R=>e.jsxs("article",{className:"tutorial-card",children:[e.jsx("div",{className:"tutorial-img-placeholder",children:e.jsx("i",{className:R.icon})}),e.jsxs("div",{className:"tutorial-content",children:[e.jsx("div",{className:"tutorial-tags",children:e.jsx("span",{className:"tag",children:R.tag})}),e.jsx("h3",{children:R.title}),e.jsx("p",{children:R.desc}),e.jsxs("button",{className:"read-btn",type:"button",onClick:()=>f(R),children:["Read Article ",e.jsx("i",{className:"fa-solid fa-arrow-right"})]})]})]},R.id))}),j&&e.jsx("div",{className:"tutorial-modal-overlay",onClick:()=>f(null),children:e.jsxs("div",{className:"tutorial-modal",onClick:R=>R.stopPropagation(),children:[e.jsxs("div",{className:"tutorial-modal-head",children:[e.jsx("h3",{children:j.title}),e.jsx("button",{onClick:()=>f(null),type:"button",children:e.jsx("i",{className:"fa-solid fa-xmark"})})]}),e.jsx("div",{className:"tutorial-modal-body",children:j.content})]})})]})},_r=l=>l.status==="closed"?"Closed":Array.isArray(l.replies)&&l.replies.length>0?"Answered":"Open",Fv=()=>{const[l,r]=u.useState([]),[o,d]=u.useState([]),[h,p]=u.useState(""),[b,w]=u.useState(""),[x,g]=u.useState(""),[j,f]=u.useState(!0),[y,A]=u.useState(!1),[N,D]=u.useState(""),[R,k]=u.useState(null),I=async()=>{const E=localStorage.getItem("token");if(!E){D("Please login to contact support."),f(!1);return}try{f(!0),D("");const[q,V]=await Promise.all([yp(E),ej(E)]),_=Array.isArray(q)?q:[];r(_),d(Array.isArray(V?.faqs)?V.faqs:[]),_.length>0&&k(se=>se||_[0]._id||_[0].id)}catch(q){D(q.message||"Failed to load support data")}finally{f(!1)}};u.useEffect(()=>{I()},[]);const L=u.useMemo(()=>l.find(E=>(E._id||E.id)===R)||l[0]||null,[l,R]),C=u.useMemo(()=>{const E=x.trim().toLowerCase();return E?o.filter(q=>String(q.question||"").toLowerCase().includes(E)||String(q.answer||"").toLowerCase().includes(E)):o},[o,x]),v=async E=>{E.preventDefault();const q=localStorage.getItem("token");if(!q){D("Please login to contact support.");return}if(!b.trim()){D("Message is required.");return}try{A(!0);const V=h.trim()||b.trim().split(" ").slice(0,6).join(" "),_=await jp(V,b.trim(),q);r(se=>[_,...se]),k(_._id||_.id),p(""),w(""),D("")}catch(V){D(V.message||"Failed to send message")}finally{A(!1)}};return e.jsxs("div",{className:"support-container",children:[e.jsxs("div",{className:"support-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Support Center"}),e.jsx("p",{children:"Contact operations team, track responses, and browse sportsbook FAQs."})]}),e.jsxs("button",{type:"button",className:"support-refresh",onClick:I,children:[e.jsx("i",{className:"fa-solid fa-rotate-right"})," Refresh"]})]}),N&&e.jsx("div",{className:"support-error",children:N}),e.jsxs("div",{className:"support-layout",children:[e.jsxs("section",{className:"support-left",children:[e.jsxs("div",{className:"support-card",children:[e.jsx("h2",{children:"Create Ticket"}),e.jsxs("form",{onSubmit:v,className:"support-form",children:[e.jsxs("label",{children:["Subject (optional)",e.jsx("input",{type:"text",value:h,onChange:E=>p(E.target.value),placeholder:"Bet settlement, payout delay, limit issue..."})]}),e.jsxs("label",{children:["Message",e.jsx("textarea",{rows:6,value:b,onChange:E=>w(E.target.value),placeholder:"Describe issue with relevant bet IDs, timestamps, and details."})]}),e.jsx("button",{type:"submit",className:"primary-btn",disabled:y,children:y?"Sending...":"Submit Ticket"})]})]}),e.jsxs("div",{className:"support-card",children:[e.jsxs("div",{className:"thread-list-head",children:[e.jsx("h2",{children:"Your Tickets"}),e.jsx("span",{children:l.length})]}),j&&e.jsx("div",{className:"support-empty",children:"Loading messages..."}),!j&&l.length===0&&e.jsx("div",{className:"support-empty",children:"No support tickets yet."}),!j&&l.length>0&&e.jsx("div",{className:"thread-list",children:l.map(E=>{const q=E._id||E.id;return e.jsxs("button",{type:"button",className:`thread-item ${q===(L?._id||L?.id)?"active":""}`,onClick:()=>k(q),children:[e.jsxs("div",{children:[e.jsx("strong",{children:E.subject}),e.jsx("p",{children:new Date(E.createdAt).toLocaleString()})]}),e.jsx("span",{className:`status ${_r(E).toLowerCase()}`,children:_r(E)})]},q)})})]})]}),e.jsx("section",{className:"support-middle",children:e.jsxs("div",{className:"support-card thread-view",children:[e.jsx("h2",{children:"Ticket Thread"}),!L&&e.jsx("div",{className:"support-empty",children:"Select a ticket to view thread."}),L&&e.jsxs("div",{className:"thread-content",children:[e.jsxs("div",{className:"thread-main-message",children:[e.jsxs("div",{className:"thread-meta",children:[e.jsx("span",{children:new Date(L.createdAt).toLocaleString()}),e.jsx("span",{className:`status ${_r(L).toLowerCase()}`,children:_r(L)})]}),e.jsx("h3",{children:L.subject}),e.jsx("p",{children:L.body})]}),e.jsxs("div",{className:"thread-replies",children:[(L.replies||[]).length===0&&e.jsx("div",{className:"support-empty",children:"No replies yet."}),(L.replies||[]).map((E,q)=>e.jsxs("div",{className:"reply-item",children:[e.jsxs("div",{className:"thread-meta",children:[e.jsx("span",{children:new Date(E.createdAt).toLocaleString()}),e.jsx("span",{children:"Support"})]}),e.jsx("p",{children:E.message})]},`${L._id||L.id}-reply-${q}`))]})]})]})}),e.jsx("section",{className:"support-right",children:e.jsxs("div",{className:"support-card",children:[e.jsx("h2",{children:"FAQ"}),e.jsx("input",{type:"text",className:"faq-search",placeholder:"Search FAQ",value:x,onChange:E=>g(E.target.value)}),C.length===0&&e.jsx("div",{className:"support-empty",children:"No FAQs found."}),e.jsx("div",{className:"faq-list",children:C.map(E=>e.jsxs("details",{className:"faq-item",children:[e.jsx("summary",{children:E.question}),e.jsx("p",{children:E.answer})]},E._id||E.id))})]})})]})]})},Pv=()=>{const[l,r]=u.useState(!1),[o,d]=u.useState([]),[h,p]=u.useState(""),[b,w]=u.useState(!1),[x,g]=u.useState(""),j=u.useRef(null),f=()=>{j.current?.scrollIntoView({behavior:"smooth"})};u.useEffect(()=>{f()},[o]);const y=async()=>{const N=localStorage.getItem("token");if(!N){g("Please login to message support.");return}try{w(!0);const D=await yp(N),R=[];D.forEach(k=>{R.push({id:`${k._id}-user`,text:k.body,sender:"user",createdAt:k.createdAt}),(k.replies||[]).forEach((I,L)=>{R.push({id:`${k._id}-reply-${L}`,text:I.message,sender:"agent",createdAt:I.createdAt})})}),R.sort((k,I)=>new Date(k.createdAt)-new Date(I.createdAt)),d(R),g("")}catch(D){console.error("Failed to load messages:",D),g(D.message||"Failed to load messages")}finally{w(!1)}},A=async N=>{if(N.preventDefault(),!h.trim())return;const D=localStorage.getItem("token");if(!D){g("Please login to message support.");return}const R=h.trim(),k=R.split(" ").slice(0,6).join(" ");try{w(!0);const I=await jp(k,R,D);d(L=>[...L,{id:`${I._id}-user`,text:I.body,sender:"user",createdAt:I.createdAt}]),p(""),g("")}catch(I){g(I.message||"Failed to send message")}finally{w(!1)}};return u.useEffect(()=>{l&&y()},[l]),e.jsxs("div",{className:"chat-widget-container",style:{position:"fixed",bottom:"30px",right:"30px",zIndex:1e3,fontFamily:"Inter, sans-serif"},children:[l&&e.jsxs("div",{style:{width:"350px",height:"500px",background:"white",borderRadius:"16px",boxShadow:"0 10px 40px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column",overflow:"hidden",marginBottom:"20px",border:"1px solid #e0e0e0",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)"},children:[e.jsxs("div",{style:{background:"#00703c",color:"white",padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{style:{width:"30px",height:"30px",background:"white",borderRadius:"50%",color:"#00703c",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:"fa-solid fa-headset"})}),e.jsx("div",{style:{width:"8px",height:"8px",background:"#00ff00",borderRadius:"50%",position:"absolute",bottom:"0",right:"0",border:"1px solid #00703c"}})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"700",fontSize:"14px"},children:"Support Team"}),e.jsx("div",{style:{fontSize:"10px",opacity:.8},children:"Online"})]})]}),e.jsx("button",{onClick:()=>r(!1),style:{background:"transparent",border:"none",color:"white",cursor:"pointer",fontSize:"16px"},children:e.jsx("i",{className:"fa-solid fa-xmark"})})]}),e.jsxs("div",{style:{flex:1,padding:"20px",overflowY:"auto",background:"#f9f9f9",display:"flex",flexDirection:"column",gap:"15px"},children:[b&&e.jsx("div",{style:{fontSize:"12px",color:"#777"},children:"Loading messages..."}),x&&e.jsx("div",{style:{fontSize:"12px",color:"#b00020"},children:x}),!b&&!x&&o.length===0&&e.jsx("div",{style:{fontSize:"12px",color:"#777"},children:"No messages yet. Start a conversation below."}),o.map(N=>e.jsxs("div",{style:{alignSelf:N.sender==="user"?"flex-end":"flex-start",maxWidth:"80%"},children:[e.jsx("div",{style:{background:N.sender==="user"?"#00703c":"white",color:N.sender==="user"?"white":"#333",padding:"12px 16px",borderRadius:N.sender==="user"?"16px 16px 0 16px":"16px 16px 16px 0",boxShadow:N.sender==="agent"?"0 2px 5px rgba(0,0,0,0.05)":"none",fontSize:"13px",lineHeight:"1.4"},children:N.text}),e.jsx("div",{style:{fontSize:"10px",color:"#aaa",marginTop:"5px",textAlign:N.sender==="user"?"right":"left"},children:N.createdAt?new Date(N.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]},N.id)),e.jsx("div",{ref:j})]}),e.jsxs("form",{onSubmit:A,style:{padding:"15px",background:"white",borderTop:"1px solid #eee",display:"flex",gap:"10px"},children:[e.jsx("input",{type:"text",value:h,onChange:N=>p(N.target.value),placeholder:"Type a message...",style:{flex:1,padding:"10px 15px",borderRadius:"20px",border:"1px solid #ddd",fontSize:"13px",outline:"none"}}),e.jsx("button",{type:"submit",style:{width:"40px",height:"40px",borderRadius:"50%",background:"#00703c",color:"white",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:e.jsx("i",{className:"fa-solid fa-paper-plane"})})]})]}),!l&&e.jsx("button",{onClick:()=>r(!0),style:{width:"60px",height:"60px",borderRadius:"50%",background:"#00703c",color:"white",border:"none",boxShadow:"0 4px 20px rgba(0, 112, 60, 0.4)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",transition:"transform 0.2s",animation:"bounceIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},onMouseEnter:N=>N.target.style.transform="scale(1.1)",onMouseLeave:N=>N.target.style.transform="scale(1)",children:e.jsx("i",{className:"fa-solid fa-comment-dots"})}),e.jsx("style",{children:`
                @keyframes slideUp {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                @keyframes bounceIn {
                    from { opacity: 0; transform: scale(0.5); }
                    to { opacity: 1; transform: scale(1); }
                }
                `})]})},Hv=()=>{const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,p]=u.useState(null);return u.useEffect(()=>{(async()=>{const w=localStorage.getItem("token");if(!w){p("Please login to view your bets"),d(!1);return}try{const x=await Ad(w);r(x)}catch(x){console.error("Failed to fetch bets:",x),p("Failed to load bets")}finally{d(!1)}})()},[]),o?e.jsx("div",{style:{color:"white",padding:"20px"},children:"Loading history..."}):h?e.jsx("div",{style:{color:"red",padding:"20px"},children:h}):e.jsxs("div",{style:{padding:"20px",color:"white"},children:[e.jsx("h2",{children:"My Bets History"}),l.length===0?e.jsx("p",{children:"No bets placed yet."}):e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#333",textAlign:"left"},children:[e.jsx("th",{style:{padding:"10px"},children:"Date"}),e.jsx("th",{style:{padding:"10px"},children:"Match"}),e.jsx("th",{style:{padding:"10px"},children:"Selection"}),e.jsx("th",{style:{padding:"10px"},children:"Stake"}),e.jsx("th",{style:{padding:"10px"},children:"Odds"}),e.jsx("th",{style:{padding:"10px"},children:"Potential Payout"}),e.jsx("th",{style:{padding:"10px"},children:"Status"})]})}),e.jsx("tbody",{children:l.map(b=>e.jsxs("tr",{style:{borderBottom:"1px solid #444"},children:[e.jsx("td",{style:{padding:"10px"},children:new Date(b.createdAt).toLocaleString()}),e.jsx("td",{style:{padding:"10px"},children:b.matchId?`${b.matchSnapshot?.homeTeam||b.matchId.homeTeam} vs ${b.matchSnapshot?.awayTeam||b.matchId.awayTeam}`:"Unknown Match"}),e.jsx("td",{style:{padding:"10px",color:"#ffd700"},children:b.selection}),e.jsxs("td",{style:{padding:"10px"},children:["$",parseFloat(b.amount).toFixed(2)]}),e.jsx("td",{style:{padding:"10px"},children:parseFloat(b.odds).toFixed(2)}),e.jsxs("td",{style:{padding:"10px"},children:["$",parseFloat(b.potentialPayout).toFixed(2)]}),e.jsx("td",{style:{padding:"10px"},children:e.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",backgroundColor:b.status==="won"?"#28a745":b.status==="lost"?"#dc3545":b.status==="pending"?"#ffc107":"#6c757d",color:b.status==="pending"?"black":"white"},children:b.status.toUpperCase()})})]},b._id))})]})})]})},Op={dashboard:"dashboard","weekly-figures":"weeklyFigures",pending:"pending",messaging:"messaging","game-admin":"gameAdmin","customer-admin":"customerAdmin","agent-manager":"agentManager",cashier:"cashier","add-customer":"addCustomer","third-party-limits":"thirdPartyLimits",props:"props","agent-performance":"agentPerformance",analysis:"analysis","ip-tracker":"ipTracker","transactions-history":"transactionsHistory",collections:"collections","deleted-wagers":"deletedWagers","games-events":"gamesEvents","sportsbook-links":"sportsbookLinks","bet-ticker":"betTicker",ticketwriter:"ticketwriter",scores:"scores","master-agent-admin":"masterAgentAdmin",billing:"billing",settings:"settings",monitor:"monitor",rules:"rules",feedback:"feedback",faq:"faq","user-manual":"userManual",profile:"profile"},Up=l=>l==="admin"||l==="master_agent"||l==="super_agent",oi=(l,r,o)=>{if(Up(l))return!0;const d=Op[o];return d?r?.views?.[d]!==!1:!0},$v=(l,r)=>Up(l)?!0:r?.ipTracker?.manage!==!1,zp=[{id:"dashboard",label:"Dashboard",sidebarIcon:"",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!1},{id:"weekly-figures",label:"Weekly Figures",sidebarIcon:"",dashboardIcon:"fa-solid fa-chart-line",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"pending",label:"Pending",sidebarIcon:"",dashboardIcon:"fa-solid fa-calendar-check",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"messaging",label:"Messaging",sidebarIcon:"",dashboardIcon:"fa-solid fa-envelope",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"game-admin",label:"Game Admin",sidebarIcon:"",dashboardIcon:"fa-solid fa-gamepad",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"customer-admin",label:"Customer Admin",sidebarIcon:"",dashboardIcon:"fa-solid fa-user-shield",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"agent-manager",label:"Agent Management",sidebarIcon:"",dashboardIcon:"fa-solid fa-users-gear",dashboardColor:"teal",roles:["admin","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"cashier",label:"Cashier",sidebarIcon:"",dashboardIcon:"fa-solid fa-money-bill-wave",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"add-customer",label:"Add Customer",sidebarIcon:"",dashboardIcon:"fa-solid fa-user-plus",dashboardColor:"light-gray",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"third-party-limits",label:"3rd Party Limits",sidebarIcon:"",dashboardIcon:"fa-solid fa-lock",dashboardColor:"light-gray",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"props",label:"Props / Betting",sidebarIcon:"",dashboardIcon:"fa-solid fa-bullseye",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"agent-performance",label:"Agent Performance",sidebarIcon:"",dashboardIcon:"fa-solid fa-list-check",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"analysis",label:"Analysis",sidebarIcon:"",dashboardIcon:"fa-solid fa-arrow-trend-up",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"ip-tracker",label:"IP Tracker",sidebarIcon:"",dashboardIcon:"fa-solid fa-globe",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"transactions-history",label:"Transactions History",sidebarIcon:"",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!1},{id:"collections",label:"Collections",sidebarIcon:"",dashboardIcon:"fa-solid fa-box-archive",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"deleted-wagers",label:"Deleted Wagers",sidebarIcon:"",dashboardIcon:"fa-solid fa-trash",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"games-events",label:"Games & Events",sidebarIcon:"",dashboardIcon:"fa-solid fa-calendar-days",dashboardColor:"orange",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"sportsbook-links",label:"Sportsbook Links",sidebarIcon:"",dashboardIcon:"fa-solid fa-lines-leaning",dashboardColor:"orange",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"bet-ticker",label:"Bet Ticker",sidebarIcon:"",dashboardIcon:"fa-solid fa-clock",dashboardColor:"orange",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"ticketwriter",label:"TicketWriter",sidebarIcon:"",dashboardIcon:"fa-solid fa-pen-to-square",dashboardColor:"orange",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"scores",label:"Scores",sidebarIcon:"",dashboardIcon:"fa-solid fa-trophy",dashboardColor:"orange",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"master-agent-admin",label:"Master Agent Admin",sidebarIcon:"",dashboardIcon:"fa-solid fa-user-tie",dashboardColor:"green",roles:["admin","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"billing",label:"Billing",sidebarIcon:"",dashboardIcon:"fa-solid fa-sack-dollar",dashboardColor:"green",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"settings",label:"Settings",sidebarIcon:"",dashboardIcon:"fa-solid fa-gear",dashboardColor:"green",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"monitor",label:"System Monitor",sidebarIcon:"",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!1},{id:"rules",label:"Rules",sidebarIcon:"",dashboardIcon:"fa-solid fa-list-check",dashboardColor:"green",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"feedback",label:"Feedback",sidebarIcon:"",dashboardIcon:"fa-solid fa-wrench",dashboardColor:"light-gray",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"faq",label:"FAQ",sidebarIcon:"",dashboardIcon:"fa-solid fa-circle-question",dashboardColor:"black",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"user-manual",label:"User Manual",sidebarIcon:"",dashboardIcon:"fa-solid fa-book",dashboardColor:"black",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0}];function If({onMenuClick:l,onOpenScoreboard:r,role:o="admin",layoutPref:d="tiles",isMobile:h=!1,permissions:p=null}){const b=o||"admin",w=zp.filter(x=>x.showInDashboard&&x.roles&&x.roles.includes(b)&&oi(b,p,x.id));return h&&d==="sidebar"?e.jsx("div",{className:"admin-dashboard",children:e.jsxs("div",{style:{textAlign:"center",padding:"50px",color:"#666"},children:[e.jsx("h2",{children:"Welcome"}),e.jsx("p",{children:"Select an option from the sidebar to get started."})]})}):e.jsx("div",{className:"admin-dashboard",children:e.jsx("div",{className:"dashboard-grid",children:w.map(x=>e.jsxs("button",{type:"button",className:`grid-card ${x.dashboardColor}`,onClick:()=>{if(x.id==="scores"&&typeof r=="function"){r();return}l(x.id)},children:[e.jsx("div",{className:"card-icon",children:e.jsx("i",{className:x.dashboardIcon})}),e.jsx("div",{className:"card-label",children:x.label})]},x.id))})})}function qv({onClose:l,onGo:r,initialQuery:o=""}){const[d,h]=u.useState(!0),[p,b]=u.useState(null),[w,x]=u.useState(""),[g,j]=u.useState(new Set),[f,y]=u.useState(null);u.useEffect(()=>{(async()=>{try{h(!0);const R=localStorage.getItem("token"),k=await Jj(R);b(k),k.root&&j(new Set([k.root.id]))}catch(R){console.error("Failed to fetch agent tree:",R),y("Failed to load tree")}finally{h(!1)}})()},[]),u.useEffect(()=>{x(o||"")},[o]),u.useEffect(()=>{const D=R=>{R.key==="Escape"&&l?.()};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[l]);const A=D=>{const R=new Set(g);R.has(D)?R.delete(D):R.add(D),j(R)},N=(D,R=0)=>{const k=g.has(D.id),I=D.role!=="player",L=D.children&&D.children.length>0,C=D.isDead||D.username?.toUpperCase()==="DEAD",v=D.username.toLowerCase().includes(w.toLowerCase()),E=D.children?.some(q=>q.username.toLowerCase().includes(w.toLowerCase())||q.children?.length>0);return w&&!v&&!E?null:e.jsxs("div",{className:`tree-node-wrapper depth-${R}`,children:[e.jsxs("div",{className:`tree-node ${C?"dead-node":""}`,children:[e.jsxs("div",{className:"node-content",onClick:()=>I&&A(D.id),children:[I?e.jsx("span",{className:"node-toggle",children:k?"":"+"}):e.jsx("span",{className:"node-dot",children:""}),e.jsx("span",{className:"node-icon",children:C?"":I?"":""}),e.jsx("span",{className:"node-name",children:D.username.toUpperCase()}),C&&e.jsx("span",{className:"dead-tag",children:"DEAD"})]}),e.jsx("button",{className:"node-go-btn",onClick:()=>r(D.id,D.role),children:"Go"})]}),I&&(k||w)&&L&&e.jsx("div",{className:"node-children",children:D.children.map(q=>N(q,R+1))})]},D.id)};return e.jsx("div",{className:"agent-tree-sidebar-wrap",children:e.jsxs("aside",{className:"agent-tree-container agent-tree-sidebar glass-effect",children:[e.jsxs("div",{className:"tree-header",children:[e.jsx("h3",{children:"Agent Tree"}),e.jsx("button",{className:"close-x",onClick:l,children:""})]}),e.jsx("div",{className:"tree-search",children:e.jsxs("div",{className:"search-pill",children:[e.jsx("span",{className:"pill-label",children:"Agents"}),e.jsx("input",{type:"text",placeholder:"Search accounts...",value:w,onChange:D=>x(D.target.value)})]})}),e.jsx("div",{className:"tree-scroll-area",children:d?e.jsx("div",{className:"tree-loading",children:"Loading Tree..."}):f?e.jsx("div",{className:"tree-error",children:f}):p?e.jsxs("div",{className:"tree-root",children:[e.jsxs("div",{className:"tree-node depth-0 root-node",children:[e.jsxs("div",{className:"node-content",onClick:()=>A(p.root.id),children:[e.jsx("span",{className:"node-toggle",children:g.has(p.root.id)?"":"+"}),e.jsx("span",{className:"node-icon",children:""}),e.jsxs("span",{className:"node-name",children:[p.root.username.toUpperCase()," (You)"]})]}),e.jsx("button",{className:"node-go-btn",onClick:()=>r(p.root.id,p.root.role),children:"Go"})]}),(g.has(p.root.id)||w)&&e.jsx("div",{className:"node-children",children:p.tree.map(D=>N(D,1))})]}):null})]})})}function Gv({onMenuToggle:l,onLogout:r,onViewChange:o,onSwitchContext:d,onRestoreBaseContext:h,canRestoreBaseContext:p=!1,baseContextLabel:b="Admin",role:w="admin"}){const[x,g]=u.useState(!1),[j,f]=u.useState(!1),[y,A]=u.useState(""),[N,D]=u.useState(""),[R,k]=u.useState({totalBalance:null,weekNet:null,todayNet:null,activeAccounts:null}),[I,L]=u.useState(null);u.useEffect(()=>{(async()=>{const K=localStorage.getItem("token");if(K)try{const[H,G]=await Promise.all([Hy(K),Ns(K)]);k({totalBalance:H?.totalBalance??0,totalOutstanding:H?.totalOutstanding??0,weekNet:H?.weekNet??0,todayNet:H?.todayNet??0,activeAccounts:H?.activeAccounts??0}),L(G||null)}catch(H){console.error("Failed to load admin header summary:",H)}})()},[]);const C=M=>{if(M==null)return"";const K=Number(M);return Number.isNaN(K)?"":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(K)},v=M=>{if(M==null)return"";const K=Number(M);return Number.isNaN(K)?"":K.toLocaleString("en-US")},E=()=>{r&&r()},q=M=>{o&&o(M)},V=M=>{M.preventDefault(),D(y.trim()),f(!0)},_=I?.username?I.username.toUpperCase():(sessionStorage.getItem(`${w}Username`)||sessionStorage.getItem("super_agentUsername")||sessionStorage.getItem("agentUsername")||sessionStorage.getItem("adminUsername")||localStorage.getItem("userRole")||"USER").toUpperCase(),se=(I?.role||w||"admin").toLowerCase(),z=se==="master_agent"||se==="super_agent"?"MASTER":se==="agent"?"AGENT":"ADMIN",S=_,F=I?.unlimitedBalance?"Unlimited":I?.balance??null;return e.jsxs("div",{className:"admin-header",children:[e.jsxs("div",{className:"admin-header-top",children:[e.jsxs("div",{className:"admin-header-left",children:[e.jsxs("button",{type:"button",className:"home-nav-btn",onClick:()=>q("dashboard"),"aria-label":"Go to admin home",children:[e.jsx("i",{className:"fa-solid fa-house","aria-hidden":"true"}),e.jsx("span",{children:"Home"})]}),e.jsx("button",{type:"button",className:"mobile-search-toggle",onClick:()=>{D(y.trim()),f(!0)},"aria-label":"Search accounts",title:"Search accounts",children:e.jsx("i",{className:"fa-solid fa-magnifying-glass","aria-hidden":"true"})}),e.jsx("button",{type:"button",className:"mobile-menu-toggle",onClick:l,"aria-label":"Toggle menu",children:""}),e.jsxs("form",{className:"admin-header-search",onSubmit:V,children:[e.jsx("span",{className:"search-icon","aria-hidden":"true",children:""}),e.jsx("input",{type:"text",placeholder:"Search accounts...",value:y,onChange:M=>A(M.target.value)})]})]}),e.jsx("div",{className:"admin-header-right",children:e.jsxs("div",{className:"header-actions",children:[e.jsxs("button",{type:"button",className:"user-chip",onClick:()=>g(M=>!M),title:"Open account menu",children:[e.jsxs("span",{className:"user-chip-desktop",children:[z,": ",_]}),e.jsx("span",{className:"user-chip-mobile",children:S})]}),x&&e.jsxs("div",{className:"dropdown-menu user-chip-menu",children:[e.jsx("button",{type:"button",onClick:()=>{g(!1),q("profile")},children:"Profile"}),e.jsx("button",{type:"button",onClick:()=>{g(!1),q("settings")},children:"Settings"}),p&&e.jsxs("button",{type:"button",onClick:()=>{g(!1),h?.()},children:["Back to ",b]})]}),e.jsx("button",{type:"button",className:"tree-view-trigger",onClick:()=>f(!0),children:" Agent Tree"}),e.jsx("button",{type:"button",className:"power-logout-btn",onClick:E,"aria-label":"Log out",title:"Log out",children:""})]})})]}),e.jsx("div",{className:"admin-header-bottom",children:e.jsxs("div",{className:"admin-stats-grid",children:[e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-label",children:"Week"}),e.jsx("span",{className:"stat-value green",children:C(R.weekNet)})]}),e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-label",children:"Today"}),e.jsx("span",{className:"stat-value green",children:C(R.todayNet)})]}),e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-label",children:"Active Accts"}),e.jsx("span",{className:"stat-value highlight",children:v(R.activeAccounts)})]}),e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-label",children:"Balance"}),e.jsx("span",{className:"stat-value",children:F==="Unlimited"?"Unlimited":C(F)})]})]})}),j&&e.jsx(qv,{onClose:()=>f(!1),initialQuery:N,onGo:(M,K)=>{f(!1),d&&d(M,K)}})]})}function Wv({activeView:l,onViewChange:r,onOpenScoreboard:o,isOpen:d,role:h="admin",permissions:p=null}){const b=h||"admin",w=zp.filter(x=>x.showInSidebar&&x.roles&&x.roles.includes(b)&&oi(b,p,x.id));return e.jsx("aside",{className:`admin-sidebar ${d?"open":""}`,children:e.jsx("nav",{className:"sidebar-nav",children:w.map(x=>e.jsxs("button",{className:`nav-item ${l===x.id?"active":""}`,onClick:()=>{if(x.id==="scores"&&typeof o=="function"){o();return}r(x.id)},title:x.label,children:[e.jsx("span",{className:"nav-icon",children:x.sidebarIcon}),e.jsx("span",{className:"nav-label",children:x.label})]},x.id))})})}function Yv(){const[l,r]=u.useState("this-week"),[o,d]=u.useState(""),[h,p]=u.useState(null),[b,w]=u.useState([]),[x,g]=u.useState(!0),[j,f]=u.useState(""),y=N=>{if(N==null)return"";const D=Number(N);return Number.isNaN(D)?"":D.toFixed(2)};u.useEffect(()=>{(async()=>{const D=localStorage.getItem("token");if(!D){f("Please login to view weekly figures."),g(!1);return}try{g(!0);const R=await Gy(l,D);p(R.summary),w(R.customers||[]),f("")}catch(R){console.error("Failed to fetch weekly figures:",R),f(R.message||"Failed to load weekly figures")}finally{g(!1)}})()},[l]);const A=b.filter(N=>N.username?.toLowerCase().includes(o.toLowerCase())||N.name?.toLowerCase().includes(o.toLowerCase())||N.phoneNumber?.toLowerCase().includes(o.toLowerCase()));return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Weekly Figures - Summary & Customer Tracking"}),e.jsxs("div",{className:"period-filter",children:[e.jsx("button",{className:l==="this-week"?"active":"",onClick:()=>r("this-week"),children:"This Week"}),e.jsx("button",{className:l==="last-week"?"active":"",onClick:()=>r("last-week"),children:"Last Week"}),e.jsx("button",{className:l==="previous"?"active":"",onClick:()=>r("previous"),children:"Previous Weeks"})]})]}),e.jsxs("div",{className:"view-content",children:[x&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading weekly figures..."}),j&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:j}),!x&&!j&&h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"summary-section",children:[e.jsx("div",{className:"summary-header",children:e.jsx("h3",{children:"Summary"})}),e.jsxs("table",{className:"summary-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Carry"}),h.days.map((N,D)=>e.jsx("th",{children:N.day},D)),e.jsx("th",{children:"Week"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Pending"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("strong",{children:[h.totalPlayers," Players"]})}),h.days.map((N,D)=>e.jsx("td",{style:{color:N.amount<0?"#e74c3c":"#27ae60"},children:y(N.amount)},D)),e.jsx("td",{style:{color:h.weekTotal<0?"#e74c3c":"#27ae60"},children:y(h.weekTotal)}),e.jsx("td",{style:{color:h.balanceTotal<0?"#e74c3c":"#27ae60"},children:y(h.balanceTotal)}),e.jsx("td",{children:y(h.pendingTotal)})]})})]}),e.jsxs("div",{className:"dead-agents-row",children:[e.jsx("span",{children:e.jsx("strong",{children:"DEAD / AGENTS / MANAGERS"})}),e.jsxs("span",{className:"value",children:[h.deadAccounts," / ",h.agentsManagers]})]})]}),e.jsxs("div",{className:"customer-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"Customer"}),e.jsx("input",{type:"text",placeholder:"Search accounts...",value:o,onChange:N=>d(N.target.value),className:"search-input"})]}),e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"data-table customer-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Phone Number"}),e.jsx("th",{children:"Carry"}),h.days.map((N,D)=>e.jsx("th",{children:N.day},D)),e.jsx("th",{children:"Week"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Pending"})]})}),e.jsx("tbody",{children:A.map((N,D)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:N.username})}),e.jsx("td",{children:N.name}),e.jsx("td",{children:N.phoneNumber}),e.jsx("td",{style:{color:N.carry<0?"#e74c3c":"#27ae60"},children:y(N.carry)}),N.daily.map((R,k)=>e.jsx("td",{children:y(R)},k)),e.jsx("td",{children:y(N.week)}),e.jsx("td",{style:{color:N.balance<0?"#e74c3c":"#27ae60"},children:y(N.balance)}),e.jsx("td",{children:y(N.pending)})]},D))})]})})]})]})]})]})}function Vv(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(null);u.useEffect(()=>{(async()=>{const y=localStorage.getItem("token");if(!y){p("Please login to view pending items."),d(!1);return}try{d(!0);const A=await Wy(y);r(A||[]),p("")}catch(A){console.error("Failed to load pending items:",A),p(A.message||"Failed to load pending items")}finally{d(!1)}})()},[]);const x=async f=>{const y=localStorage.getItem("token");if(!y){p("Please login to approve items.");return}try{w(f),await Yy(f,y),r(A=>A.filter(N=>N.id!==f))}catch(A){p(A.message||"Failed to approve item")}finally{w(null)}},g=async f=>{const y=localStorage.getItem("token");if(!y){p("Please login to decline items.");return}try{w(f),await Vy(f,y),r(A=>A.filter(N=>N.id!==f))}catch(A){p(A.message||"Failed to decline item")}finally{w(null)}},j=f=>{if(f==null)return"";const y=Number(f);return Number.isNaN(y)?"":`$${y.toFixed(2)}`};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Pending Items"}),e.jsxs("p",{className:"count",children:[l.length," pending items"]})]}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading pending items..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(f=>e.jsxs("tr",{children:[e.jsx("td",{children:f.type}),e.jsx("td",{children:j(f.amount)}),e.jsx("td",{children:f.user}),e.jsx("td",{children:new Date(f.date).toLocaleDateString()}),e.jsx("td",{children:e.jsx("span",{className:"badge pending",children:f.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small btn-approve",onClick:()=>x(f.id),disabled:b===f.id,children:b===f.id?"Working...":"Approve"}),e.jsx("button",{className:"btn-small btn-decline",onClick:()=>g(f.id),disabled:b===f.id,children:b===f.id?"Working...":"Decline"})]})]},f.id))})]})})]})]})}function Qv(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(null);u.useEffect(()=>{(async()=>{const y=localStorage.getItem("token")||sessionStorage.getItem("token");if(!y){p("Please login to view messages."),d(!1);return}try{d(!0);const A=await Qy(y);r(A||[]),p("")}catch(A){console.error("Failed to fetch messages:",A),p(A.message||"Failed to load messages")}finally{d(!1)}})()},[]);const x=async f=>{const y=localStorage.getItem("token")||sessionStorage.getItem("token");if(!y){p("Please login to reply.");return}const A=window.prompt("Enter your reply:");if(A)try{w(f),await Zy(f,A,y),r(N=>N.map(D=>D._id===f?{...D,read:!0,replies:[...D.replies||[],{message:A,createdAt:new Date}]}:D))}catch(N){p(N.message||"Failed to send reply")}finally{w(null)}},g=async f=>{const y=localStorage.getItem("token")||sessionStorage.getItem("token");if(!y){p("Please login to delete messages.");return}try{w(f),await Jy(f,y),r(A=>A.filter(N=>N._id!==f))}catch(A){p(A.message||"Failed to delete message")}finally{w(null)}},j=async f=>{const y=localStorage.getItem("token")||sessionStorage.getItem("token");if(y)try{await Xy(f,y),r(A=>A.map(N=>N._id===f?{...N,read:!0}:N))}catch(A){console.error("Failed to mark read:",A)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Messaging Center"}),e.jsxs("p",{className:"count",children:["Unread: ",l.filter(f=>!f.read).length]})]}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading messages..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsx("div",{className:"messaging-container",children:e.jsx("div",{className:"message-list",children:l.map(f=>e.jsxs("div",{className:`message-item ${f.read?"":"unread"}`,onClick:()=>j(f._id),children:[e.jsxs("div",{className:"message-header",children:[e.jsx("h4",{children:f.fromName}),e.jsx("span",{className:"date",children:new Date(f.createdAt).toLocaleString()})]}),e.jsx("p",{className:"subject",children:f.subject}),e.jsx("p",{className:"subject",style:{opacity:.8},children:f.body}),e.jsxs("div",{className:"message-actions",children:[e.jsx("button",{className:"btn-small",onClick:y=>{y.stopPropagation(),x(f._id)},disabled:b===f._id,children:b===f._id?"Working...":"Reply"}),e.jsx("button",{className:"btn-small",onClick:y=>{y.stopPropagation(),g(f._id)},disabled:b===f._id,children:b===f._id?"Working...":"Delete"})]})]},f._id))})})]})]})}function Xv(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(!1),[x,g]=u.useState(!1),[j,f]=u.useState(!1),[y,A]=u.useState(null),[N,D]=u.useState({homeTeam:"",awayTeam:"",sport:"",startTime:"",status:"scheduled"}),R=V=>{if(V==null)return"";const _=Number(V);return Number.isNaN(_)?"":`$${_.toFixed(2)}`},k=async()=>{const V=localStorage.getItem("token")||sessionStorage.getItem("token");if(!V){p("Please login to manage games."),d(!1);return}try{d(!0);const _=await hl(V);r(_||[]),p("")}catch(_){console.error("Failed to load games:",_),p(_.message||"Failed to load games")}finally{d(!1)}};u.useEffect(()=>{k()},[]);const I=()=>{D({homeTeam:"",awayTeam:"",sport:"",startTime:"",status:"scheduled"}),w(!0)},L=V=>{A(V),D({homeTeam:V.homeTeam,awayTeam:V.awayTeam,sport:V.sport,startTime:new Date(V.startTime).toISOString().slice(0,16),status:V.status}),g(!0)},C=V=>{A(V),f(!0)},v=V=>{const{name:_,value:se}=V.target;D(z=>({...z,[_]:se}))},E=async V=>{V.preventDefault();const _=localStorage.getItem("token")||sessionStorage.getItem("token");if(!_){p("Please login to add games.");return}try{const se={...N,startTime:new Date(N.startTime).toISOString()},z=await vp(se,_);r(S=>[...S,{id:z._id||z.id,homeTeam:z.homeTeam,awayTeam:z.awayTeam,sport:z.sport,startTime:z.startTime,status:z.status,activeBets:0,revenue:0}]),w(!1)}catch(se){p(se.message||"Failed to create match")}},q=async V=>{V.preventDefault();const _=localStorage.getItem("token")||sessionStorage.getItem("token");if(!_){p("Please login to update games.");return}try{const se={...N,startTime:new Date(N.startTime).toISOString()},z=await Np(y.id||y._id,se,_);r(S=>S.map(F=>(F.id||F._id)===(y.id||y._id)?{...F,homeTeam:z.homeTeam,awayTeam:z.awayTeam,sport:z.sport,startTime:z.startTime,status:z.status}:F)),g(!1)}catch(se){p(se.message||"Failed to update match")}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Game Administration"}),e.jsx("button",{className:"btn-primary",onClick:I,children:"Add New Game"})]}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading games..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Match"}),e.jsx("th",{children:"Sport"}),e.jsx("th",{children:"Start Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Active Bets"}),e.jsx("th",{children:"Revenue"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(V=>e.jsxs("tr",{children:[e.jsxs("td",{children:[V.homeTeam," vs ",V.awayTeam]}),e.jsx("td",{children:V.sport}),e.jsx("td",{children:new Date(V.startTime).toLocaleString()}),e.jsx("td",{children:e.jsx("span",{className:`badge ${V.status}`,children:V.status})}),e.jsx("td",{children:V.activeBets}),e.jsx("td",{children:R(V.revenue)}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>L(V),children:"Edit"}),e.jsx("button",{className:"btn-small",onClick:()=>C(V),children:"View"})]})]},V.id||V._id))})]})})]}),b&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),children:[e.jsx("h3",{children:"Add New Game"}),e.jsxs("form",{onSubmit:E,className:"admin-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Home Team"}),e.jsx("input",{name:"homeTeam",value:N.homeTeam,onChange:v,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Away Team"}),e.jsx("input",{name:"awayTeam",value:N.awayTeam,onChange:v,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sport"}),e.jsx("input",{name:"sport",value:N.sport,onChange:v,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Time"}),e.jsx("input",{type:"datetime-local",name:"startTime",value:N.startTime,onChange:v,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{name:"status",value:N.status,onChange:v,children:[e.jsx("option",{value:"scheduled",children:"scheduled"}),e.jsx("option",{value:"live",children:"live"}),e.jsx("option",{value:"finished",children:"finished"}),e.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Create"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Cancel"})]})]})]})}),x&&y&&e.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:e.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),children:[e.jsx("h3",{children:"Edit Game"}),e.jsxs("form",{onSubmit:q,className:"admin-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Home Team"}),e.jsx("input",{name:"homeTeam",value:N.homeTeam,onChange:v,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Away Team"}),e.jsx("input",{name:"awayTeam",value:N.awayTeam,onChange:v,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sport"}),e.jsx("input",{name:"sport",value:N.sport,onChange:v,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Time"}),e.jsx("input",{type:"datetime-local",name:"startTime",value:N.startTime,onChange:v,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{name:"status",value:N.status,onChange:v,children:[e.jsx("option",{value:"scheduled",children:"scheduled"}),e.jsx("option",{value:"live",children:"live"}),e.jsx("option",{value:"finished",children:"finished"}),e.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>g(!1),children:"Cancel"})]})]})]})}),j&&y&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),children:[e.jsx("h3",{children:"Game Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Match:"})," ",y.homeTeam," vs ",y.awayTeam]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sport:"})," ",y.sport]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Start Time:"})," ",new Date(y.startTime).toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",y.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Active Bets:"})," ",y.activeBets]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Revenue:"})," ",R(y.revenue)]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>f(!1),children:"Close"})})]})})]})}function Zv({onViewChange:l}){const[r,o]=u.useState([]),[d,h]=u.useState([]),[p,b]=u.useState(!0),[w,x]=u.useState(""),[g,j]=u.useState(null),[f,y]=u.useState(!1),[A,N]=u.useState({username:"",phoneNumber:"",password:"",firstName:"",lastName:"",fullName:"",agentId:"",referredByUserId:"",balance:"",minBet:"25",maxBet:"200",creditLimit:"1000",balanceOwed:"200",defaultMinBet:"25",defaultMaxBet:"200",defaultCreditLimit:"1000",defaultSettleLimit:"200",agentPrefix:"",parentAgentId:""}),[D,R]=u.useState("player"),[k,I]=u.useState("admin"),[L,C]=u.useState(!1),[v,E]=u.useState(!1),[q,V]=u.useState(null),[_,se]=u.useState({phoneNumber:"",firstName:"",lastName:"",fullName:"",password:"",minBet:"25",maxBet:"200",creditLimit:"1000",balanceOwed:"0",apps:{venmo:"",cashapp:"",applePay:"",zelle:"",paypal:"",btc:"",other:""}}),[z,S]=u.useState(!1),[F,M]=u.useState({customerId:null,username:"",currentBalance:0,nextBalance:""}),[K,H]=u.useState(""),[G,re]=u.useState(""),[je,ee]=u.useState(!1),[B,Q]=u.useState({}),[ne,Z]=u.useState(null),[J,P]=u.useState(null),[$,ue]=u.useState({}),[me,Ne]=u.useState(""),[we,Ce]=u.useState(!1),[Me,Re]=u.useState(""),[st,Ke]=u.useState(""),[mt,vt]=u.useState(!1),[Be,ft]=u.useState({open:!1,type:"",customerId:null,username:"",value:""}),[Gt,Ut]=u.useState(""),[ta,At]=u.useState("");u.useEffect(()=>{(async()=>{try{b(!0);const te=localStorage.getItem("token")||sessionStorage.getItem("token");if(!te){o([]),x("Please login to load users.");return}const Y=await Ns(te);if(I(Y?.role||"admin"),Ut(Y?.username||""),At(Y?.id||Y?._id||""),C(!!Y?.viewOnly),(Y?.role||"admin")==="agent"){const ce=await hd(te);o(ce||[])}else{const ce=await ol(te);o(ce||[]);const be=await mi(te);h(be||[])}if(x(""),Y?.username)try{const{nextUsername:ce}=await qa(Y.username,te,{type:"player"});N(be=>({...be,username:ce}))}catch(ce){console.error("Failed to prefetch next username:",ce)}}catch(te){console.error("Error fetching users:",te),x("Failed to load users: "+te.message)}finally{b(!1)}})()},[]);const ml=async()=>{try{y(!0);const O=localStorage.getItem("token")||sessionStorage.getItem("token");if(!O){x("Please login to create users.");return}if(!String(A.username||"").trim()||!String(A.firstName||"").trim()||!String(A.lastName||"").trim()||!String(A.phoneNumber||"").trim()||!String(A.password||"").trim()){x("Username, first name, last name, phone number, and password are required.");return}if(D==="player"&&(String(A.minBet??"").trim()===""||String(A.maxBet??"").trim()===""||String(A.creditLimit??"").trim()===""||String(A.balanceOwed??"").trim()==="")){x("Min bet, max bet, credit limit, and settle limit are required for players.");return}const Y={...A};Y.balance===""&&delete Y.balance,Y.referredByUserId||delete Y.referredByUserId,(D==="agent"||D==="super_agent")&&Y.agentId&&(Y.parentAgentId=Y.agentId),D==="player"?k==="agent"||k==="super_agent"||k==="master_agent"?await Cj(Y,O):await kp(Y,O):D==="agent"?k==="admin"?await Pr({...Y,role:"agent"},O):await fd({...Y,role:"agent"},O):D==="super_agent"&&(k==="admin"?await Pr({...Y,role:"master_agent"},O):await fd({...Y,role:"master_agent"},O)),alert(`${D==="player"?"Player":D==="agent"?"Agent":"Master Agent"} initialized successfully!`);const ce=D;if(N({username:"",phoneNumber:"",password:"",firstName:"",lastName:"",fullName:"",agentId:"",referredByUserId:"",balance:"",minBet:"",maxBet:"",creditLimit:"",balanceOwed:"",defaultMinBet:"",defaultMaxBet:"",defaultCreditLimit:"",defaultSettleLimit:"",agentPrefix:"",parentAgentId:""}),R(ce),Ke(""),vt(!1),x(""),k==="agent"){const ve=await hd(O);o(ve||[])}else{const ve=await ol(O);o(ve||[])}}catch(O){console.error("Create user failed:",O),x(O.message||"Failed to create user")}finally{y(!1)}},Wa=async O=>{const te=O.toUpperCase().replace(/[^A-Z0-9]/g,"");if(N(Y=>({...Y,agentPrefix:te})),te.length>=2){const Y=localStorage.getItem("token")||sessionStorage.getItem("token"),ce=D==="super_agent"?"MA":"";try{const{nextUsername:be}=await qa(te,Y,{suffix:ce,type:"agent"});N(ve=>({...ve,username:be}))}catch(be){console.error("Failed to get next username from prefix:",be)}}else N(Y=>({...Y,username:""}))},Ya=async O=>{const te=localStorage.getItem("token")||sessionStorage.getItem("token");if(!te)return;N(be=>({...be,agentId:O,referredByUserId:""}));const Y=D==="player"?"player":"agent",ce=D==="super_agent"?"MA":"";if(O){const be=d.find(ve=>(ve.id||ve._id)===O);if(be){Ke(be.username||"");try{const{nextUsername:ve}=await qa(be.username,te,{suffix:ce,type:Y});N(Ae=>({...Ae,username:ve}))}catch(ve){console.error("Failed to get next username:",ve)}}}else if(Ke(""),Gt)try{const{nextUsername:be}=await qa(Gt,te,{suffix:ce,type:Y});N(ve=>({...ve,username:be}))}catch(be){console.error("Failed to fetch username for admin:",be),N(ve=>({...ve,username:""}))}else N(be=>({...be,username:""}))},pt=async O=>{R(O);const te=localStorage.getItem("token");if(te)if(O==="super_agent"||O==="agent"){const Y=O==="super_agent"?"MA":"";let ce=A.agentPrefix;const be="agent";if(ce)try{const{nextUsername:ve}=await qa(ce,te,{suffix:Y,type:be});N(Ae=>({...Ae,username:ve,agentPrefix:ce}))}catch(ve){console.error("Failed to re-fetch username on type change",ve)}else N(ve=>({...ve,username:""}))}else Ya(""),N(Y=>({...Y,referredByUserId:""}))},ws=(O,te,Y)=>{if(O&&te&&Y){const ce=Y.slice(-4),be=O.slice(0,3).toUpperCase(),ve=te.slice(0,3).toUpperCase(),Ae=`${be}${ve}${ce}`.toUpperCase();N(Ge=>({...Ge,password:Ae}))}},Ra=O=>{const te=O.toUpperCase();N(Y=>{const ce={...Y,firstName:te};return ws(te,ce.lastName,ce.phoneNumber),ce})},Ss=O=>{const te=O.toUpperCase();N(Y=>{const ce={...Y,lastName:te};return ws(ce.firstName,te,ce.phoneNumber),ce})},fl=O=>{const te=O.replace(/\D/g,"");let Y=te;te.length>0&&(te.length<=3?Y=te:te.length<=6?Y=`${te.slice(0,3)}-${te.slice(3)}`:Y=`${te.slice(0,3)}-${te.slice(3,6)}-${te.slice(6,10)}`),N(ce=>{const be={...ce,phoneNumber:Y};return ws(be.firstName,be.lastName,Y),be})},Dt=O=>{if(O==null||O==="")return"";const te=Number(O);return Number.isNaN(te)?"":`$${te.toFixed(2)}`},Tt=!L&&!f&&!!String(A.username||"").trim()&&!!String(A.firstName||"").trim()&&!!String(A.lastName||"").trim()&&!!String(A.phoneNumber||"").trim()&&!!String(A.password||"").trim()&&(D!=="player"||String(A.minBet??"").trim()!==""&&String(A.maxBet??"").trim()!==""&&String(A.creditLimit??"").trim()!==""&&String(A.balanceOwed??"").trim()!==""),ma=O=>{M({customerId:O.id||O._id,username:O.username,currentBalance:O.balance??0,nextBalance:`${O.balance??0}`}),S(!0),x("")},Nt=async O=>{O.preventDefault();const{customerId:te,nextBalance:Y}=F,ce=Number(Y);if(Number.isNaN(ce)||ce<0){x("Balance must be a non-negative number.");return}try{const be=localStorage.getItem("token")||sessionStorage.getItem("token");if(!be){x("Please login to update balance.");return}j(te),k==="agent"?await nd(te,ce,be):await rl(te,{balance:ce},be),o(ve=>ve.map(Ae=>(Ae.id||Ae._id)===te?{...Ae,balance:ce,availableBalance:Math.max(0,ce-Number(Ae.pendingBalance||0))}:Ae)),S(!1),x("")}catch(be){console.error("Balance update failed:",be),x(be.message||"Failed to update balance")}finally{j(null)}},an=O=>{const te=O.id||O._id,Y={sports:O.settings?.sports??!0,casino:O.settings?.casino??!0,racebook:O.settings?.racebook??!0};return B[te]||Y},ks=(O,te)=>{const Y=O.id||O._id,ce=an(O);Q(be=>({...be,[Y]:{...ce,[te]:!ce[te]}}))},Cs=async O=>{const te=O.id||O._id,Y=B[te];if(Y)try{const ce=localStorage.getItem("token")||sessionStorage.getItem("token");if(!ce)return;j(te);const be={settings:{...O.settings||{},sports:!!Y.sports,casino:!!Y.casino,racebook:!!Y.racebook}};k==="agent"?await ka(te,be,ce):await bs(te,be,ce),o(ve=>ve.map(Ae=>(Ae.id||Ae._id)===te?{...Ae,settings:be.settings}:Ae)),Q(ve=>{const Ae={...ve};return delete Ae[te],Ae}),x("")}catch(ce){console.error("Addon save failed:",ce),x(ce.message||"Failed to save add-ons")}finally{j(null)}},Va=async O=>{const te=O.id||O._id,Y=window.prompt(`Enter new password for ${O.username}:`,"");if(Y!==null){if(Y.length<6){alert("Password must be at least 6 characters long");return}try{const ce=localStorage.getItem("token")||sessionStorage.getItem("token");if(!ce){x("Please login to reset password.");return}j(te),await zr(te,Y,ce),alert(`Password for ${O.username} has been reset successfully.`),x("")}catch(ce){console.error("Password reset failed:",ce),x(ce.message||"Failed to reset password")}finally{j(null)}}},Oa=O=>{V(O),se({phoneNumber:"",firstName:"",lastName:"",fullName:"",password:"",minBet:"",maxBet:"",creditLimit:"",balanceOwed:"",apps:{venmo:"",cashapp:"",applePay:"",zelle:"",paypal:"",btc:"",other:""}}),E(!0)},Qa=async O=>{O.preventDefault();const te=q.id||q._id;try{const Y=localStorage.getItem("token")||sessionStorage.getItem("token"),ce={};_.phoneNumber.trim()&&(ce.phoneNumber=_.phoneNumber.trim()),_.firstName.trim()&&(ce.firstName=_.firstName.trim()),_.lastName.trim()&&(ce.lastName=_.lastName.trim()),_.fullName.trim()&&(ce.fullName=_.fullName.trim()),_.password.trim()&&(ce.password=_.password.trim()),_.minBet!==""&&(ce.minBet=Number(_.minBet)),_.maxBet!==""&&(ce.maxBet=Number(_.maxBet)),_.creditLimit!==""&&(ce.creditLimit=Number(_.creditLimit)),_.balanceOwed!==""&&(ce.balanceOwed=Number(_.balanceOwed));const be=Object.entries(_.apps||{}).filter(([,ve])=>(ve||"").trim()!=="");if(be.length>0&&(ce.apps=Object.fromEntries(be.map(([ve,Ae])=>[ve,Ae.trim()]))),Object.keys(ce).length===0){x("Enter at least one value before saving.");return}k==="agent"?await ka(te,ce,Y):await bs(te,ce,Y),o(ve=>ve.map(Ae=>(Ae.id||Ae._id)===te?{...Ae,...ce}:Ae)),E(!1),x("")}catch(Y){console.error("Update customer failed:",Y),x(Y.message||"Failed to update customer")}},Lt=u.useMemo(()=>d.filter(O=>k==="admin"||k==="super_agent"||k==="master_agent"),[d,k]),xt=O=>{if(!O)return"";if(typeof O=="string")return O;if(typeof O=="object"){if(typeof O._id=="string")return O._id;if(typeof O.id=="string")return O.id;if(typeof O.$oid=="string")return O.$oid}return""},Ca=u.useMemo(()=>Lt.filter(O=>st.trim()?(O.username||"").toLowerCase().includes(st.trim().toLowerCase()):!0),[Lt,st]),sn=u.useMemo(()=>Lt.filter(O=>me.trim()?(O.username||"").toLowerCase().includes(me.trim().toLowerCase()):!0),[Lt,me]),Aa=u.useMemo(()=>r.filter(O=>O.role==="user"),[r]),fa=Lt.find(O=>xt(O.id||O._id)===xt(Me)),It=!!fa&&(fa.role==="master_agent"||fa.role==="super_agent"),Ft=xt(Me),Ua=u.useMemo(()=>!It||!Ft?[]:Lt.filter(O=>{if((O.role||"").toLowerCase()!=="agent")return!1;const te=xt(O.createdBy),Y=xt(O.parentAgentId),ce=Ft;return te===ce||Y===ce}),[It,Lt,Ft]),Ea=u.useMemo(()=>{if(!Me)return Aa;if(!It)return Aa.filter(ce=>xt(ce.agentId)===Ft);const O=new Set(Ua.map(ce=>xt(ce.id||ce._id)).filter(Boolean)),te=Aa.filter(ce=>O.has(xt(ce.agentId))),Y=Aa.filter(ce=>xt(ce.agentId)===Ft);return[...te,...Y]},[Me,It,Aa,Ua,Ft]),As=u.useMemo(()=>{if(!It)return Ea.map(Y=>({type:"player",player:Y}));const O=[];Ua.forEach(Y=>{const ce=xt(Y.id||Y._id),be=Ea.filter(ve=>xt(ve.agentId)===ce);O.push({type:"group",label:Y.username}),be.forEach(ve=>O.push({type:"player",player:ve}))});const te=Ea.filter(Y=>xt(Y.agentId)===Ft);return te.length>0&&(O.push({type:"group",label:`${fa.username} (Direct)`}),te.forEach(Y=>O.push({type:"player",player:Y}))),O},[It,Ea,Ua,Ft,fa]),aa=Ea,pa=O=>{H(O),re(""),ee(!0)},Le=()=>{switch(K){case"minBet":return"Min Bet";case"maxBet":return"Max Bet";case"creditLimit":return"Credit Limit";case"settleLimit":return"Settle Limit";case"balanceAdjust":return"Balance Adjustment";case"status":return"Status";default:return""}},Xa=O=>{const te=(O||"").toString().toLowerCase();return te==="active"?"Active":te==="read_only"||te==="readonly"?"Read Only":"Disabled"},Pt=async O=>{O.preventDefault();const te=localStorage.getItem("token")||sessionStorage.getItem("token");if(!te){x("Please login to update players.");return}if(aa.length===0){x("No players available for bulk update.");return}let Y=null;const ce=new Set(aa.map(be=>be.id||be._id));if(K==="status")Y={status:G||"active"};else if(K==="balanceAdjust"){const be=Number(G);if(Number.isNaN(be)){x("Please enter a valid number for balance adjustment.");return}j("bulk-update"),await Promise.all(aa.map(ve=>{const Ae=ve.id||ve._id,Ge=Number(ve.balance||0)+be;return k==="agent"?nd(Ae,Ge,te):rl(Ae,{balance:Ge},te)})),o(ve=>ve.map(Ae=>{const Ge=Ae.id||Ae._id;return ce.has(Ge)?{...Ae,balance:Number(Ae.balance||0)+be}:Ae})),ee(!1),x(""),j(null);return}else{const be=Number(G);if(Number.isNaN(be)||be<0){x("Please enter a valid non-negative number.");return}K==="minBet"&&(Y={minBet:be}),K==="maxBet"&&(Y={maxBet:be,wagerLimit:be}),K==="creditLimit"&&(Y={creditLimit:be}),K==="settleLimit"&&(Y={balanceOwed:be})}try{j("bulk-update"),await Promise.all(aa.map(be=>{const ve=be.id||be._id;return k==="agent"?ka(ve,Y,te):bs(ve,Y,te)})),o(be=>be.map(ve=>{const Ae=ve.id||ve._id;return ce.has(Ae)?{...ve,...Y}:ve})),ee(!1),x("")}catch(be){console.error("Bulk update failed:",be),x(be.message||"Failed to update players")}finally{j(null)}},ut=(()=>{const O=r.filter(te=>te.role==="user");return D!=="player"&&D!=="agent"&&D!=="super_agent"?[]:k==="agent"?O:A.agentId?O.filter(te=>String(te.agentId?._id||te.agentId||"")===String(A.agentId)):k==="master_agent"||k==="super_agent"?O.filter(te=>String(te.agentId?._id||te.agentId||"")===String(ta)):O})(),ht=O=>{l&&l("user-details",O.id||O._id)},lt=async O=>{const te=O.role==="agent"||O.role==="master_agent",Y=te?"Agent":"Player";if(window.confirm(`Are you sure you want to PERMANENTLY DELETE ${Y} "${O.username}"?

This action cannot be undone.`))try{const ce=localStorage.getItem("token")||sessionStorage.getItem("token");if(!ce){x("Please login to delete.");return}j(O.id||O._id),te?await Dp(O.id||O._id,ce):await Mp(O.id||O._id,ce),o(be=>be.filter(ve=>(ve.id||ve._id)!==(O.id||O._id))),te&&h(be=>be.filter(ve=>(ve.id||ve._id)!==(O.id||O._id))),alert(`${Y} "${O.username}" deleted successfully.`),x("")}catch(ce){console.error("Delete failed:",ce),alert(`Failed to delete: ${ce.message}`)}finally{j(null)}},Ta=O=>{const te=O.id||O._id;return $[te]||{firstName:O.firstName||"",lastName:O.lastName||"",password:"",minBet:String(O.minBet??0),maxBet:String(O.wagerLimit??O.maxBet??0),creditLimit:String(O.creditLimit??0),settleLimit:String(O.balanceOwed??0),status:(O.status||"active").toLowerCase(),sports:O.settings?.sports??!0,casino:O.settings?.casino??!0,racebook:O.settings?.racebook??!0}},nn=O=>{const te=O.id||O._id;Z(Y=>Y===te?null:te),P(Y=>Y===te?null:Y)},kn=O=>{const te=O.id||O._id;Z(te),P(te),ue(Y=>({...Y,[te]:Ta(O)}))},sa=(O,te,Y)=>{const ce=O.id||O._id,be=Ta(O);ue(ve=>({...ve,[ce]:{...be,...ve[ce]||{},[te]:Y}}))},Za=async O=>{const te=O.id||O._id,Y=Ta(O),ce=localStorage.getItem("token")||sessionStorage.getItem("token");if(!ce)return;const be={firstName:Y.firstName.trim(),lastName:Y.lastName.trim(),fullName:`${Y.firstName.trim()} ${Y.lastName.trim()}`.trim(),minBet:Number(Y.minBet||0),maxBet:Number(Y.maxBet||0),wagerLimit:Number(Y.maxBet||0),creditLimit:Number(Y.creditLimit||0),balanceOwed:Number(Y.settleLimit||0),status:Y.status,settings:{...O.settings||{},sports:!!Y.sports,casino:!!Y.casino,racebook:!!Y.racebook}};try{j(te),k==="agent"?await ka(te,be,ce):await bs(te,be,ce),(Y.password||"").trim()!==""&&(k==="admin"?await zr(te,Y.password.trim(),ce):await ka(te,{password:Y.password.trim()},ce)),o(ve=>ve.map(Ae=>(Ae.id||Ae._id)===te?{...Ae,...be}:Ae)),P(null),ue(ve=>{const Ae={...ve};return delete Ae[te],Ae}),x("")}catch(ve){console.error("Inline save failed:",ve),x(ve.message||"Failed to save user details")}finally{j(null)}},Ja=(O,te)=>{const Y=O.id||O._id;let ce="";te==="name"&&(ce=`${O.firstName||""} ${O.lastName||""}`.trim()),te==="password"&&(ce=O.displayPassword||""),te==="balance"&&(ce=String(O.balance??0)),ft({open:!0,type:te,customerId:Y,username:O.username,value:ce})},za=async O=>{O.preventDefault();const te=localStorage.getItem("token")||sessionStorage.getItem("token");if(!(!te||!Be.customerId))try{if(j(Be.customerId),Be.type==="name"){const Y=Be.value.trim().split(/\s+/).filter(Boolean),ce=Y[0]||"",be=Y.slice(1).join(" "),ve={firstName:ce,lastName:be,fullName:Be.value.trim()};k==="agent"?await ka(Be.customerId,ve,te):await bs(Be.customerId,ve,te),o(Ae=>Ae.map(Ge=>(Ge.id||Ge._id)===Be.customerId?{...Ge,...ve}:Ge))}if(Be.type==="password"){const Y=Be.value.trim();if(Y.length<6){x("Password must be at least 6 characters.");return}k==="admin"?await zr(Be.customerId,Y,te):await ka(Be.customerId,{password:Y},te),o(ce=>ce.map(be=>(be.id||be._id)===Be.customerId?{...be,displayPassword:Y}:be))}if(Be.type==="balance"){const Y=Number(Be.value);if(Number.isNaN(Y)){x("Balance must be numeric.");return}k==="agent"?await nd(Be.customerId,Y,te):await rl(Be.customerId,{balance:Y},te),o(ce=>ce.map(be=>(be.id||be._id)===Be.customerId?{...be,balance:Y}:be))}ft({open:!1,type:"",customerId:null,username:"",value:""}),x("")}catch(Y){console.error("Quick edit failed:",Y),x(Y.message||"Failed to update value")}finally{j(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsxs("div",{className:"header-icon-title",children:[e.jsx("div",{className:"glow-accent"}),e.jsx("h2",{children:"Administration Console"})]}),e.jsxs("div",{className:"agent-search-picker header-agent-picker",onFocus:()=>Ce(!0),onBlur:()=>setTimeout(()=>Ce(!1),120),tabIndex:0,children:[e.jsxs("div",{className:"agent-search-head",children:[e.jsx("span",{className:"agent-search-label",children:"Agents"}),e.jsx("input",{type:"text",value:me,onChange:O=>{Ne(O.target.value),Ce(!0)},placeholder:"Search agent..."})]}),we&&e.jsxs("div",{className:"agent-search-list",children:[e.jsx("button",{type:"button",className:`agent-search-item ${Me?"":"selected"}`,onClick:()=>{Re(""),Ne(""),Ce(!1)},children:e.jsx("span",{children:"All Agents"})}),sn.map(O=>{const te=O.id||O._id,Y=O.role==="master_agent"||O.role==="super_agent";return e.jsxs("button",{type:"button",className:`agent-search-item ${String(Me||"")===String(te)?"selected":""}`,onClick:()=>{Re(te),Ne(O.username||""),Ce(!1)},children:[e.jsx("span",{children:O.username}),e.jsx("span",{className:`agent-type-badge ${Y?"master":"agent"}`,children:Y?"M":"A"})]},te)}),sn.length===0&&e.jsx("div",{className:"agent-search-empty",children:"No matching agents"})]})]})]}),e.jsxs("div",{className:"view-content",children:[p&&e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("span",{children:"Loading Entries..."})]}),w&&e.jsx("div",{className:"error-state",children:w}),!p&&!w&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"20px",alignItems:"end"},children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type"}),e.jsx("div",{className:"s-wrapper",children:e.jsxs("select",{value:D,onChange:O=>pt(O.target.value),children:[e.jsx("option",{value:"player",children:"Player"}),(k==="admin"||k==="super_agent"||k==="master_agent")&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"agent",children:"Agent"}),e.jsx("option",{value:"super_agent",children:"Master Agent"})]})]})})]}),(D==="agent"||D==="super_agent")&&(k!=="super_agent"&&k!=="master_agent"||D==="super_agent")&&e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",value:A.agentPrefix,onChange:O=>Wa(O.target.value),placeholder:"Enter prefix",maxLength:5})]}),(D==="player"||D==="agent"||D==="super_agent")&&(k==="admin"||k==="super_agent"||k==="master_agent")&&e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:D==="player"?"Assign to Agent":"Assign to Master Agent"}),e.jsxs("div",{className:"agent-search-picker",onFocus:()=>vt(!0),onBlur:()=>setTimeout(()=>vt(!1),120),tabIndex:0,children:[e.jsxs("div",{className:"agent-search-head",children:[e.jsx("span",{className:"agent-search-label",children:"Agents"}),e.jsx("input",{type:"text",value:st,onChange:O=>{Ke(O.target.value),vt(!0)},placeholder:"Search agent..."})]}),mt&&e.jsxs("div",{className:"agent-search-list",children:[e.jsx("button",{type:"button",className:`agent-search-item ${A.agentId?"":"selected"}`,onClick:()=>{Ya(""),vt(!1)},children:e.jsx("span",{children:D==="player"?"Direct (Under Me)":"Direct (Created By Me)"})}),Ca.map(O=>{const te=O.id||O._id,Y=O.role==="master_agent"||O.role==="super_agent";return(D==="agent"||D==="super_agent")&&!Y?null:e.jsxs("button",{type:"button",className:`agent-search-item ${String(A.agentId||"")===String(te)?"selected":""}`,onClick:()=>{Ya(te),vt(!1)},children:[e.jsx("span",{children:O.username}),e.jsx("span",{className:`agent-type-badge ${Y?"master":"agent"}`,children:Y?"M":"A"})]},te)}),Ca.length===0&&e.jsx("div",{className:"agent-search-empty",children:"No matching agents"})]})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Username"}),e.jsx("input",{type:"text",value:A.username,placeholder:"Auto-generated",readOnly:!0,className:"readonly-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",value:A.firstName,onChange:O=>Ra(O.target.value),placeholder:"Enter first name"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",value:A.lastName,onChange:O=>Ss(O.target.value),placeholder:"Enter last name"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:A.phoneNumber,onChange:O=>fl(O.target.value),placeholder:"User contact"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"text",value:A.password.toUpperCase(),onChange:O=>N(te=>({...te,password:O.target.value.toUpperCase()})),placeholder:"Set password"})]}),(D==="player"||D==="agent"||D==="super_agent")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Min bet:"}),e.jsx("input",{type:"number",value:A.minBet,onChange:O=>N(te=>({...te,minBet:O.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Max bet:"}),e.jsx("input",{type:"number",value:A.maxBet,onChange:O=>N(te=>({...te,maxBet:O.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Credit limit:"}),e.jsx("input",{type:"number",value:A.creditLimit,onChange:O=>N(te=>({...te,creditLimit:O.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Settle limit:"}),e.jsx("input",{type:"number",value:A.balanceOwed,onChange:O=>N(te=>({...te,balanceOwed:O.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Referred By Player"}),e.jsx("div",{className:"s-wrapper",children:e.jsxs("select",{value:A.referredByUserId,onChange:O=>N(te=>({...te,referredByUserId:O.target.value})),children:[e.jsx("option",{value:"",children:"No referral"}),ut.map(O=>e.jsxs("option",{value:O.id||O._id,children:[(O.username||"").toUpperCase(),O.fullName?` - ${O.fullName}`:""]},O.id||O._id))]})})]})]}),(D==="agent"||D==="super_agent")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Min bet: (Standard)"}),e.jsx("input",{type:"number",value:A.defaultMinBet,onChange:O=>N(te=>({...te,defaultMinBet:O.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Max bet: (Standard)"}),e.jsx("input",{type:"number",value:A.defaultMaxBet,onChange:O=>N(te=>({...te,defaultMaxBet:O.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Credit limit: (Standard)"}),e.jsx("input",{type:"number",value:A.defaultCreditLimit,onChange:O=>N(te=>({...te,defaultCreditLimit:O.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Settle limit: (Standard)"}),e.jsx("input",{type:"number",value:A.defaultSettleLimit,onChange:O=>N(te=>({...te,defaultSettleLimit:O.target.value}))})]})]}),e.jsxs("div",{className:"filter-group",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{className:"btn-primary",style:{flex:1},onClick:ml,disabled:!Tt,children:f?"Deploying...":`Create ${D==="player"?"Player":D==="agent"?"Agent":"Master Agent"}`}),e.jsx("button",{type:"button",className:"btn-secondary",style:{backgroundColor:"#17a2b8",color:"white",flex:.5},onClick:()=>{const O=A.password||"N/A";let te="";D==="player"?te=`Heres your account info. PLEASE READ ALL RULES THOROUGHLY.

Login: ${A.username}
Password: ${O}
Min bet: $${A.minBet||25}
Max bet: $${A.maxBet||200}
Credit: $${A.creditLimit||1e3}


PAYOUTS
PAY-INS are Tuesday and PAY-OUTS are Tuesday/Wednesday by end of day. Week starts Tuesday and ends Monday night. Settle ups are +/-$200 so anything under $200 will push to the following week. You must bet $500 of your own money to collect your FIRST payout. If your account is inactive for 2 weeks youll be required to settle your balance even if its under $200. Max weekly payouts are 2-3x your credit limit depending on size. Balance will still be paid out but will roll to the following week.

All we ask for is communication when it comes to payouts so we can get everyone paid quickly and as smoothly as possible. If you cant pay right away let us know and we can set up a payment schedule. We accept Venmo, Cashapp and Apple Pay. You are REQUIRED to have multiple apps to send or receive payment on. PLEASE DO NOT SEND MONEY without asking where to send first and DO NOT LABEL anything to do with sports or gambling. We will let you know Tuesday where to send. 

We kick back 20% freeplay of all losses if you pay ON TIME and in FULL and 30% if you pay in CASH. If you are a hassle to collect from and dont respond or dont pay on time or in full then you will be shown the same reciprocation when it comes to payouts. 

REFFERALS
$200 freeplay bonuses for any ACTIVE  and TRUSTWORTHY referrals. YOU are responsible for your referrals debt if they DO NOT PAY and vise versa. In order for you to get your free play bonus your refferal must go through one settle up of $200.

RULES
NO BOTS OR SHARP PLAY. We have IT monitoring to make sure there is no cheating. If we find out you are using a VPN and there are multiple people using your IP address or someone is logging into the same account, or you are using a system to place bets for you, you will be automatically kicked off and we reserve the right to not pay. No excuses. Weve heard them all so dont waste your time. 

FREEPLAY
I start all NEW players off with $200 in freeplay. In order to collect your winnings you have to place $500 of bets with your own money. (This is to prevent everyone who abuses the free play to win free money and leave). When you place a bet you have to click Use your freeplay balance $ (If you dont youre using your own money). Since we are very generous with freeplay unfortunately it is limited to straight bets only and no parlays. I offer 20% free play to anyone above settle to roll your balance to limit transactions. If you chose to roll for free play you must be actively betting with your own money or your free play will not count. 

I need active players so if you could do me a solid and place a bet today even if its with freeplay. Good luck! Lmk that youve read all the rules and or if you have any questions and need me to adjust anything!
`:te=`Welcome to the team! Heres your ${D==="agent"?"Agent":"Master Agent"} administrative account info.

Login: ${A.username}
Password: ${O}

Standard Min bet: $${A.defaultMinBet||25}
Standard Max bet: $${A.defaultMaxBet||200}
Standard Credit: $${A.defaultCreditLimit||1e3}

Please ensure you manage your sectors responsibly and maintain clear communication with your assigned accounts. Good luck!
`,navigator.clipboard.writeText(te).then(()=>alert("Copied to clipboard!"))},children:"Copy Info"})]})]}),e.jsx("div",{className:"table-container",children:e.jsx("div",{className:"scroll-wrapper",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Password"}),e.jsx("th",{children:"First Name"}),e.jsx("th",{children:"Last Name"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>pa("minBet"),children:"Min Bet"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>pa("maxBet"),children:"Max Bet"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>pa("creditLimit"),children:"Credit Limit"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>pa("settleLimit"),children:"Settle Limit"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>pa("balanceAdjust"),children:"Balance"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>pa("status"),children:"Status"}),e.jsx("th",{children:"Sportsbook"}),e.jsx("th",{children:"Casino"}),e.jsx("th",{children:"Horses"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:As.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:14,className:"empty-msg",children:"No records found."})}):As.map((O,te)=>{if(O.type==="group")return e.jsx("tr",{className:"agent-group-row",children:e.jsx("td",{colSpan:14,children:O.label})},`group-${O.label}-${te}`);const Y=O.player,ce=Y.id||Y._id,be=an(Y),ve=!!B[ce],Ae=ne===ce,Ge=J===ce,Ht=Ta(Y);return e.jsxs(ys.Fragment,{children:[e.jsxs("tr",{className:`customer-row role-${Y.role}`,children:[e.jsxs("td",{className:"user-cell",children:[e.jsx("button",{className:"user-link-btn",onClick:()=>ht(Y),children:e.jsx("span",{children:Y.username.toUpperCase()})}),Y.role==="user"&&e.jsx("button",{className:"row-expand-btn",type:"button",onClick:()=>nn(Y),children:Ae?"":""})]}),e.jsx("td",{className:"pass-cell",children:e.jsx("span",{children:Y.displayPassword||""})}),e.jsx("td",{children:Y.firstName||""}),e.jsx("td",{children:Y.lastName||""}),e.jsx("td",{children:Number(Y.minBet??0).toLocaleString()}),e.jsx("td",{children:Number(Y.wagerLimit??Y.maxBet??0).toLocaleString()}),e.jsx("td",{className:"highlight-cell",children:Number(Y.creditLimit||1e3).toLocaleString()}),e.jsx("td",{className:"highlight-cell",children:Number(Y.balanceOwed||0).toLocaleString()}),e.jsx("td",{className:`balance-cell ${Number(Y.balance)<0?"neg":"pos"}`,children:Dt(Y.balance)}),e.jsx("td",{children:Xa(Y.status)}),e.jsx("td",{children:Y.role==="user"?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!be.sports,onChange:()=>ks(Y,"sports")}),e.jsx("span",{className:"slider-mini"})]}):""}),e.jsx("td",{children:Y.role==="user"?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!be.casino,onChange:()=>ks(Y,"casino")}),e.jsx("span",{className:"slider-mini"})]}):""}),e.jsx("td",{children:Y.role==="user"?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!be.racebook,onChange:()=>ks(Y,"racebook")}),e.jsx("span",{className:"slider-mini"})]}):""}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons-cell",style:{display:"flex",gap:"8px"},children:[Y.role==="user"?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:`btn-secondary ${ve?"btn-save-dirty":"btn-save-clean"}`,type:"button",onClick:()=>Cs(Y),disabled:!ve||g===ce,children:"Save"}),e.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>Ge?Za(Y):kn(Y),disabled:g===ce,children:Ge?"SAVE":"EDIT"})]}):e.jsx("button",{className:"btn-icon",title:"Edit Customer",onClick:()=>Oa(Y),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),k==="admin"&&e.jsx("button",{className:"btn-icon delete-btn",title:"Delete Customer",onClick:()=>lt(Y),style:{color:"#ff4d4d"},children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]}),Y.role==="user"&&Ae&&e.jsx("tr",{className:"expanded-detail-row",children:e.jsx("td",{colSpan:14,children:e.jsxs("div",{className:`expanded-detail-grid ${Ge?"is-editing":""}`,children:[e.jsxs("div",{className:"detail-card",children:[e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Password"}),e.jsx("span",{children:Y.displayPassword||""})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Name"}),e.jsxs("span",{children:[`${Y.firstName||""} ${Y.lastName||""}`.trim()||""," ",e.jsx("button",{type:"button",className:"link-edit-btn",onClick:()=>Ja(Y,"name"),children:"change"})]})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Min Bet"}),e.jsx("span",{children:Ge?e.jsx("input",{type:"number",value:Ht.minBet,onChange:Wt=>sa(Y,"minBet",Wt.target.value)}):`$${Number(Y.minBet??0).toLocaleString()}`})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Max Bet"}),e.jsx("span",{children:Ge?e.jsx("input",{type:"number",value:Ht.maxBet,onChange:Wt=>sa(Y,"maxBet",Wt.target.value)}):`$${Number(Y.wagerLimit??Y.maxBet??0).toLocaleString()}`})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Credit Limit"}),e.jsx("span",{children:Ge?e.jsx("input",{type:"number",value:Ht.creditLimit,onChange:Wt=>sa(Y,"creditLimit",Wt.target.value)}):`$${Number(Y.creditLimit||0).toLocaleString()}`})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Settle Limit"}),e.jsx("span",{children:Ge?e.jsx("input",{type:"number",value:Ht.settleLimit,onChange:Wt=>sa(Y,"settleLimit",Wt.target.value)}):`$${Number(Y.balanceOwed||0).toLocaleString()}`})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Balance"}),e.jsxs("span",{className:Number(Y.balance)<0?"neg":"pos",children:[Dt(Y.balance)," ",e.jsx("button",{type:"button",className:"link-edit-btn",onClick:()=>Ja(Y,"balance"),children:"change"})]})]})]}),e.jsxs("div",{className:"detail-card",children:[e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Pending"}),e.jsx("span",{children:Dt(Y.pendingBalance||0)})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Available"}),e.jsx("span",{children:Dt(Y.availableBalance??Y.balance??0)})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"FP Balance"}),e.jsx("span",{children:Dt(Y.freeplayBalance||0)})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Parlay Max Wager"}),e.jsx("span",{children:"$0"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Parlay Max Payout"}),e.jsx("span",{children:"$6,000"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Status"}),e.jsx("span",{children:Ge?e.jsxs("select",{value:Ht.status,onChange:Wt=>sa(Y,"status",Wt.target.value),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"read_only",children:"Read Only"})]}):Xa(Y.status)})]})]}),e.jsxs("div",{className:"detail-card",children:[e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Max Contest Wager"}),e.jsx("span",{children:"$0"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Max Contest Payout"}),e.jsx("span",{children:"$5,000"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Max Soccer Wager"}),e.jsx("span",{children:"$0"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Sportsbook"}),e.jsx("span",{children:Ge?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!Ht.sports,onChange:()=>sa(Y,"sports",!Ht.sports)}),e.jsx("span",{className:"slider-mini"})]}):Y.settings?.sports??!0?"On":"Off"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Casino"}),e.jsx("span",{children:Ge?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!Ht.casino,onChange:()=>sa(Y,"casino",!Ht.casino)}),e.jsx("span",{className:"slider-mini"})]}):Y.settings?.casino??!0?"On":"Off"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Horses"}),e.jsx("span",{children:Ge?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!Ht.racebook,onChange:()=>sa(Y,"racebook",!Ht.racebook)}),e.jsx("span",{className:"slider-mini"})]}):Y.settings?.racebook??!0?"On":"Off"})]})]})]})})})]},ce)})})]})})}),v&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("h3",{children:["Edit ",q?.role==="user"?"Player":q?.role==="agent"?"Agent":"Master Agent",": ",q?.username]}),e.jsxs("form",{onSubmit:Qa,children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",value:_.firstName,onChange:O=>se({..._,firstName:O.target.value}),placeholder:q?.firstName||"First name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",value:_.lastName,onChange:O=>se({..._,lastName:O.target.value}),placeholder:q?.lastName||"Last name"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:_.phoneNumber,onChange:O=>se({..._,phoneNumber:O.target.value}),placeholder:q?.phoneNumber||"Phone number"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Min bet:"}),e.jsx("input",{type:"number",value:_.minBet,onChange:O=>se({..._,minBet:O.target.value}),placeholder:`${q?.minBet??25}`})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Max bet:"}),e.jsx("input",{type:"number",value:_.maxBet,onChange:O=>se({..._,maxBet:O.target.value}),placeholder:`${q?.maxBet??200}`})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Credit limit:"}),e.jsx("input",{type:"number",value:_.creditLimit,onChange:O=>se({..._,creditLimit:O.target.value}),placeholder:`${q?.creditLimit??1e3}`})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Settle Limit:"}),e.jsx("input",{type:"number",value:_.balanceOwed,onChange:O=>se({..._,balanceOwed:O.target.value}),placeholder:`${q?.balanceOwed??0}`})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"New Password (leave blank to keep)"}),e.jsx("input",{type:"password",value:_.password,onChange:O=>se({..._,password:O.target.value})})]}),e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-icon",title:"View Details",onClick:()=>ht(q),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"btn-icon",title:"Detailed View (Edit)",onClick:()=>Oa(q),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"btn-icon",title:"Adjust Balance / Settle",onClick:()=>ma(q),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),e.jsx("button",{className:"btn-icon",title:"Reset Password",onClick:()=>Va(q),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),k==="admin"&&e.jsx("button",{className:"btn-icon delete-btn",title:"Delete Customer",onClick:()=>lt(q),style:{color:"#ff4d4d"},children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),e.jsxs("div",{className:"payment-apps-section",children:[e.jsx("h4",{className:"section-title",style:{color:"#0d3b5c",marginBottom:"15px"},children:"Payment Apps"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Venmo"}),e.jsx("input",{type:"text",value:_.apps.venmo,onChange:O=>se({..._,apps:{..._.apps,venmo:O.target.value}}),placeholder:"@username"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cashapp"}),e.jsx("input",{type:"text",value:_.apps.cashapp,onChange:O=>se({..._,apps:{..._.apps,cashapp:O.target.value}}),placeholder:"$cashtag"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Apple Pay"}),e.jsx("input",{type:"text",value:_.apps.applePay,onChange:O=>se({..._,apps:{..._.apps,applePay:O.target.value}}),placeholder:"Phone/Email"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Zelle"}),e.jsx("input",{type:"text",value:_.apps.zelle,onChange:O=>se({..._,apps:{..._.apps,zelle:O.target.value}}),placeholder:"Phone/Email"})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>E(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-secondary",style:{marginLeft:"auto",backgroundColor:"#17a2b8",color:"white"},onClick:()=>{const O=_.password||"N/A",te=`Heres your account info. PLEASE READ ALL RULES THOROUGHLY.

Login: ${_.username||q.username}
Password: ${O}
Min bet: $${_.minBet}
Max bet: $${_.maxBet}
Credit: $${_.creditLimit}


PAYOUTS
PAY-INS are Tuesday and PAY-OUTS are Tuesday/Wednesday by end of day. Week starts Tuesday and ends Monday night. Settle ups are +/-$200 so anything under $200 will push to the following week. You must bet $500 of your own money to collect your FIRST payout. If your account is inactive for 2 weeks youll be required to settle your balance even if its under $200. Max weekly payouts are 2-3x your credit limit depending on size. Balance will still be paid out but will roll to the following week.

All we ask for is communication when it comes to payouts so we can get everyone paid quickly and as smoothly as possible. If you cant pay right away let us know and we can set up a payment schedule. We accept Venmo, Cashapp and Apple Pay. You are REQUIRED to have multiple apps to send or receive payment on. PLEASE DO NOT SEND MONEY without asking where to send first and DO NOT LABEL anything to do with sports or gambling. We will let you know Tuesday where to send. 

We kick back 20% freeplay of all losses if you pay ON TIME and in FULL and 30% if you pay in CASH. If you are a hassle to collect from and dont respond or dont pay on time or in full then you will be shown the same reciprocation when it comes to payouts. 

REFFERALS
$200 freeplay bonuses for any ACTIVE  and TRUSTWORTHY referrals. YOU are responsible for your referrals debt if they DO NOT PAY and vise versa. In order for you to get your free play bonus your refferal must go through one settle up of $200.

RULES
NO BOTS OR SHARP PLAY. We have IT monitoring to make sure there is no cheating. If we find out you are using a VPN and there are multiple people using your IP address or someone is logging into the same account, or you are using a system to place bets for you, you will be automatically kicked off and we reserve the right to not pay. No excuses. Weve heard them all so dont waste your time. 

FREEPLAY
I start all NEW players off with $200 in freeplay. In order to collect your winnings you have to place $500 of bets with your own money. (This is to prevent everyone who abuses the free play to win free money and leave). When you place a bet you have to click Use your freeplay balance $ (If you dont youre using your own money). Since we are very generous with freeplay unfortunately it is limited to straight bets only and no parlays. I offer 20% free play to anyone above settle to roll your balance to limit transactions. If you chose to roll for free play you must be actively betting with your own money or your free play will not count. 

I need active players so if you could do me a solid and place a bet today even if its with freeplay. Good luck! Lmk that youve read all the rules and or if you have any questions and need me to adjust anything!
`;navigator.clipboard.writeText(te).then(()=>alert("Copied to clipboard!"))},children:"Copy Info"})]})]})]})}),je&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content bulk-edit-modal",children:[e.jsxs("h3",{children:["Edit ",Le()]}),e.jsxs("form",{onSubmit:Pt,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:Le()}),K==="status"?e.jsxs("select",{value:G,onChange:O=>re(O.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"read_only",children:"Read Only"})]}):e.jsx("input",{type:"number",step:"1",min:K==="balanceAdjust"?void 0:"0",value:G,onChange:O=>re(O.target.value),placeholder:K==="balanceAdjust"?"Enter + / - amount":"Enter amount",required:!0})]}),e.jsx("p",{className:"bulk-edit-hint",children:K==="balanceAdjust"?"This adds or subtracts from balance for all players shown in the current list.":"This updates all players shown in the current list."}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:g==="bulk-update",children:g==="bulk-update"?"Saving...":"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>ee(!1),children:"Cancel"})]})]})]})}),Be.open&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content bulk-edit-modal",children:[e.jsxs("h3",{children:["Edit ",Be.type==="name"?"Name":Be.type==="password"?"Password":"Balance",": ",Be.username]}),e.jsxs("form",{onSubmit:za,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:Be.type==="name"?"Name":Be.type==="password"?"Password":"Balance"}),e.jsx("input",{type:Be.type==="balance"?"number":"text",value:Be.value,onChange:O=>ft(te=>({...te,value:O.target.value})),autoFocus:!0,required:!0})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:g===Be.customerId,children:g===Be.customerId?"Saving...":"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>ft({open:!1,type:"",customerId:null,username:"",value:""}),children:"Cancel"})]})]})]})}),z&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-glass-content",children:[e.jsxs("h3",{children:["Adjust Balance: ",F.username]}),e.jsxs("form",{onSubmit:Nt,children:[e.jsxs("div",{className:"premium-field-info",children:[e.jsx("label",{children:"Current Net Balance"}),e.jsx("div",{className:`large-val ${F.currentBalance<0?"neg":"pos"}`,children:Dt(F.currentBalance)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"New Net Balance"}),e.jsxs("div",{className:"input-with-symbol",children:[e.jsx("span",{className:"sym",children:"$"}),e.jsx("input",{type:"number",step:"0.01",value:F.nextBalance,onChange:O=>M({...F,nextBalance:O.target.value}),autoFocus:!0,required:!0})]}),e.jsx("small",{className:"field-hint",children:"Setting a new net balance will adjust the credit/owed amount accordingly."})]}),e.jsxs("div",{className:"modal-premium-actions",children:[e.jsx("button",{type:"submit",className:"btn-save-premium",disabled:g!==null,children:g!==null?"Updating...":"Confirm Adjustment"}),e.jsx("button",{type:"button",className:"btn-cancel-premium",onClick:()=>S(!1),children:"Cancel"})]})]})]})}),e.jsx("style",{children:`
        .premium-admin-theme { 
          background: #0f172a; 
          min-height: 100vh; color: #f8fafc; 
          font-family: 'Inter', sans-serif;
          padding: 24px;
        }
        .view-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px; border: none; padding: 0; }
        .header-icon-title { display: flex; align-items: center; gap: 16px; }
        .glow-accent { width: 8px; height: 32px; background: #3b82f6; border-radius: 4px; box-shadow: 0 0 15px #3b82f6; }
        .view-header h2 { font-size: 28px; font-weight: 800; margin: 0; color: #0f172a; }
        
        .btn-create-premium {
          background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
          color: white; border: none; padding: 12px 24px; border-radius: 12px;
          font-weight: 700; display: flex; align-items: center; gap: 10px;
          cursor: pointer; box-shadow: 0 10px 20px rgba(37,99,235,0.2);
          transition: all 0.2s;
        }
        .btn-create-premium:hover { transform: translateY(-2px); box-shadow: 0 15px 30px rgba(37,99,235,0.3); }

        .premium-toolbar {
          background: rgba(30, 41, 59, 0.5); border: 1px solid rgba(255,255,255,0.1);
          border-radius: 20px; padding: 24px; display: flex; flex-direction: column; gap: 20px;
          margin-bottom: 32px; backdrop-filter: blur(10px);
        }
        .toolbar-section { display: flex; gap: 20px; flex-wrap: wrap; align-items: flex-end; }
        .t-group { display: flex; flex-direction: column; gap: 8px; flex: 1; min-width: 150px; }
        .t-group.small { flex: 0 1 100px; min-width: 80px; }
        .t-group label { font-size: 11px; text-transform: uppercase; font-weight: 800; color: #64748b; letter-spacing: 0.5px; }
        .t-group input, .t-group select {
          background: #0f172a; border: 1px solid rgba(255,255,255,0.1); color: white;
          padding: 10px 14px; border-radius: 8px; font-size: 14px; outline: none; transition: all 0.2s;
        }
        .t-group input:focus { border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59,130,246,0.1); }
        .readonly-input { background: rgba(0,0,0,0.2) !important; color: #64748b !important; }

        .btn-submit-premium {
          background: #f8fafc; color: #0f172a; border: none; padding: 12px 24px;
          border-radius: 10px; font-weight: 700; cursor: pointer; transition: all 0.2s;
        }
        .btn-submit-premium:hover { background: #fff; transform: scale(1.02); }

        .agent-search-picker {
          position: relative;
          border: 1px solid #cbd5e1;
          border-radius: 8px;
          background: #f8fafc;
        }
        .header-agent-picker {
          min-width: 320px;
          max-width: 420px;
        }
        .agent-search-head {
          display: grid;
          grid-template-columns: auto 1fr;
          align-items: center;
        }
        .agent-search-label {
          padding: 8px 10px;
          border-right: 1px solid #cbd5e1;
          color: #334155;
          font-size: 13px;
          font-weight: 600;
          white-space: nowrap;
        }
        .agent-search-head input {
          border: none !important;
          background: transparent !important;
          padding: 8px 10px !important;
          outline: none;
        }
        .agent-search-list {
          position: absolute;
          z-index: 30;
          left: 0;
          right: 0;
          top: calc(100% + 4px);
          max-height: 220px;
          overflow-y: auto;
          border: 1px solid #cbd5e1;
          border-radius: 8px;
          background: #ffffff;
          box-shadow: 0 12px 22px rgba(15, 23, 42, 0.15);
        }
        .agent-search-item {
          width: 100%;
          border: none;
          background: #fff;
          padding: 8px 10px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          cursor: pointer;
          font-size: 13px;
          color: #1e293b;
          border-bottom: 1px solid #e2e8f0;
        }
        .agent-search-item:hover,
        .agent-search-item.selected {
          background: #e2f2ff;
        }
        .agent-type-badge {
          font-weight: 800;
          font-size: 13px;
          line-height: 1;
        }
        .agent-type-badge.master { color: #0f8a0f; }
        .agent-type-badge.agent { color: #dc2626; }
        .agent-search-empty {
          padding: 10px;
          color: #64748b;
          font-size: 12px;
        }

        .table-glass-container {
          background: rgba(30, 41, 59, 0.3); border: 1px solid rgba(255,255,255,0.05);
          border-radius: 24px; padding: 20px;
        }
        .table-actions { margin-bottom: 20px; display: flex; justify-content: space-between; }
        .clickable-col-head { cursor: pointer; text-decoration: underline; text-decoration-style: dotted; }
        .clickable-col-head:hover { color: #3b82f6; }

        .scroll-wrapper { overflow-x: auto; }
        .row-expand-btn {
          border: none;
          background: transparent;
          color: #475569;
          font-size: 20px;
          line-height: 1;
          cursor: pointer;
          margin-left: 8px;
        }
        .user-cell {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 6px;
        }
        .expanded-detail-row td {
          background: #f0f6b3;
          padding: 12px 16px;
        }
        .expanded-detail-grid {
          display: grid;
          grid-template-columns: repeat(3, minmax(0, 1fr));
          gap: 12px;
        }
        .detail-card {
          background: #f8fafc;
          border: 1px solid #cbd5e1;
          border-radius: 6px;
        }
        .detail-line {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 10px;
          padding: 12px 14px;
          border-bottom: 1px solid #e2e8f0;
          font-size: 15px;
          color: #1e293b;
        }
        .detail-line:last-child {
          border-bottom: none;
        }
        .detail-line input,
        .detail-line select {
          width: 140px;
          border: 1px solid #94a3b8;
          border-radius: 4px;
          padding: 4px 8px;
          font-size: 14px;
          color: #0f172a;
          background: #fff;
        }
        .link-edit-btn {
          border: none;
          background: transparent;
          color: #2563eb;
          text-decoration: underline;
          cursor: pointer;
          margin-left: 8px;
          font-size: 12px;
          text-transform: uppercase;
        }
        .premium-table { width: 100%; border-collapse: separate; border-spacing: 0 8px; }
        .premium-table th { text-align: left; padding: 12px 16px; font-size: 11px; text-transform: uppercase; color: #64748b; font-weight: 800; }
        .customer-row { background: rgba(255,255,255,0.02); transition: all 0.2s; }
        .customer-row:hover { background: rgba(255,255,255,0.05); transform: translateY(-1px); }
        .customer-row td { padding: 16px; border-top: 1px solid rgba(255,255,255,0.02); border-bottom: 1px solid rgba(255,255,255,0.02); }
        .customer-row td:first-child { border-left: 1px solid rgba(255,255,255,0.02); border-radius: 12px 0 0 12px; }
        .customer-row td:last-child { border-right: 1px solid rgba(255,255,255,0.02); border-radius: 0 12px 12px 0; }
        .agent-group-row td {
          background: #073b53;
          color: #e8f5ff;
          font-weight: 700;
          letter-spacing: 0.3px;
          padding: 9px 12px;
        }

        .user-link-btn {
          background: none; border: none; display: flex; align-items: center; gap: 12px;
          color: #3b82f6; font-weight: 700; cursor: pointer; padding: 0;
        }
        .btn-save-clean {
          background: #94a3b8 !important;
          color: #fff !important;
          opacity: 0.7;
        }
        .btn-save-dirty {
          background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%) !important;
          color: #fff !important;
          box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.2);
        }
        .btn-save-dirty:hover {
          filter: brightness(1.05);
        }
        .avatar-small {
          width: 32px; height: 32px; background: #334155; color: white;
          border-radius: 50%; display: flex; align-items: center; justify-content: center;
          font-size: 12px; font-weight: 800; border: 2px solid rgba(59,130,246,0.3);
        }
        
        .highlight-cell { color: #10b981; font-weight: 700; }
        .balance-cell button {
          background: none; border: none; font-weight: 800; cursor: pointer;
          color: inherit; text-decoration: underline; text-decoration-style: dotted;
        }
        .balance-cell.pos { color: #10b981; }
        .balance-cell.neg { color: #ef4444; }

        .status-select {
          background: none; border: none; color: white; font-weight: 700;
          text-transform: uppercase; font-size: 10px; cursor: pointer; padding: 4px 8px;
          border-radius: 6px; min-width: 90px;
        }
        .status-select.active { background: rgba(16,185,129,0.1); color: #10b981; }
        .status-select.disabled, .status-select.suspended { background: rgba(239,68,68,0.1); color: #ef4444; }

        .switch-mini {
          position: relative;
          display: inline-block;
          width: 52px;
          height: 28px;
        }
        .switch-mini input { opacity: 0; width: 0; height: 0; }
        .slider-mini {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #94a3b8;
          transition: .2s;
          border-radius: 999px;
        }
        .slider-mini:before {
          position: absolute;
          content: "";
          height: 20px;
          width: 20px;
          left: 4px;
          top: 4px;
          background-color: white;
          transition: .2s;
          border-radius: 50%;
        }
        .switch-mini input:checked + .slider-mini { background-color: #10b981; }
        .switch-mini input:checked + .slider-mini:before { transform: translateX(24px); }

        .bulk-edit-modal { max-width: 560px; }
        .bulk-edit-hint { margin-top: 8px; color: #64748b; font-size: 13px; }

        @media (max-width: 1200px) {
          .expanded-detail-grid { grid-template-columns: 1fr; }
        }

        .capability-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px; }
        .cap-tag {
          border: none; border-radius: 4px; padding: 2px 4px; font-size: 9px;
          font-weight: 800; cursor: pointer; transition: all 0.2s;
        }
        .cap-tag.on { background: #10b981; color: white; }
        .cap-tag.off { background: rgba(255,255,255,0.05); color: #64748b; }

        .loading-state { padding: 40px; text-align: center; display: flex; flex-direction: column; align-items: center; gap: 16px; }
        .spinner { width: 40px; height: 40px; border: 4px solid rgba(59,130,246,0.1); border-top-color: #3b82f6; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* Modal Enhancements */
        .modal-overlay { position: fixed; inset: 0; background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(8px); display: flex; align-items: center; justify-content: center; z-index: 1000; padding: 20px; }
        .modal-glass-content { background: #1e293b; border: 1px solid rgba(255,255,255,0.1); border-radius: 24px; padding: 32px; width: 100%; max-width: 650px; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); }
        .modal-glass-content h3 { margin: 0 0 24px 0; font-size: 20px; font-weight: 800; color: #fff; }
        
        .p-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .p-field { display: flex; flex-direction: column; gap: 8px; margin-bottom: 20px; }
        .p-field label { font-size: 11px; text-transform: uppercase; font-weight: 800; color: #64748b; letter-spacing: 0.5px; }
        .p-field input { background: #0f172a; border: 1px solid rgba(255,255,255,0.1); color: white; padding: 12px 16px; border-radius: 12px; font-size: 14px; outline: none; }
        .p-field input:focus { border-color: #3b82f6; }
        
        .modal-premium-actions { display: flex; gap: 12px; margin-top: 32px; }
        .btn-save-premium { flex: 2; background: #3b82f6; color: white; border: none; padding: 14px; border-radius: 12px; font-weight: 700; cursor: pointer; transition: all 0.2s; }
        .btn-save-premium:hover { background: #2563eb; transform: translateY(-1px); }
        .btn-cancel-premium { flex: 1; background: rgba(255,255,255,0.05); color: #94a3b8; border: none; padding: 14px; border-radius: 12px; font-weight: 700; cursor: pointer; }
        
        .premium-field-info { background: rgba(0,0,0,0.2); border-radius: 16px; padding: 20px; margin-bottom: 24px; text-align: center; }
        .premium-field-info label { display: block; font-size: 11px; text-transform: uppercase; color: #64748b; margin-bottom: 8px; font-weight: 800; }
        .large-val { font-size: 32px; font-weight: 900; }
        .input-with-symbol { position: relative; }
        .input-with-symbol .sym { position: absolute; left: 16px; top: 50%; transform: translateY(-50%); color: #64748b; font-weight: 700; }
        .input-with-symbol input { padding-left: 32px; width: 100%; font-size: 18px; font-weight: 800; }
        .field-hint { font-size: 12px; color: #64748b; margin-top: 4px; }

        /* Role Colors & Badges */
        .role-user { border-left: 3px solid #3b82f6; }
        .role-agent { border-left: 3px solid #10b981; }
        .role-super_agent { border-left: 3px solid #eab308; }

        .avatar-small.role-agent { border-color: #10b981; background: rgba(16,185,129,0.1); }
        .avatar-small.role-super_agent { border-color: #eab308; background: rgba(234,179,8,0.1); }

        .role-badge {
          display: inline-block; padding: 2px 8px; border-radius: 6px;
          font-size: 10px; font-weight: 800; text-transform: uppercase;
          margin-bottom: 4px;
        }
        .role-badge.user { background: rgba(59,130,246,0.1); color: #3b82f6; }
        .role-badge.agent { background: rgba(16,185,129,0.1); color: #10b981; }
        .role-badge.super_agent { background: rgba(234,179,8,0.1); color: #eab308; }

        .hierarchy-info { display: flex; flex-direction: column; gap: 4px; }
        .capability-mini-grid { display: flex; gap: 4px; }
        .cap-dot { width: 6px; height: 6px; border-radius: 50%; background: #10b981; }

      `})]})]})]})}const Jv=[{value:"deposit",label:"Deposit"},{value:"withdrawal",label:"Withdraw"},{value:"credit_adj",label:"Credit Adj"},{value:"debit_adj",label:"Debit Adj"},{value:"fp_deposit",label:"FP Deposit"}],Kv=10,e0=(l=new Date)=>{const r=new Date(l);if(Number.isNaN(r.getTime()))return"";const o=r.getFullYear(),d=String(r.getMonth()+1).padStart(2,"0"),h=String(r.getDate()).padStart(2,"0");return`${o}-${d}-${h}`},Ir={deposit:"Customer Deposit",withdrawal:"Customer Withdrawal",credit_adj:"Customer Credit Adjustment",debit_adj:"Customer Debit Adjustment",fp_deposit:"Customer Freeplay Deposit"},od=(l,r="")=>({id:l,agentId:r,searchQuery:"",selectedUserId:"",type:"deposit",amount:"",figureDate:e0(),description:Ir.deposit,searchOpen:!1,busy:!1,error:""});function t0(){const[l,r]=u.useState("admin"),[o,d]=u.useState([]),[h,p]=u.useState([]),[b,w]=u.useState("manual"),[x,g]=u.useState(""),[j,f]=u.useState({}),[y,A]=u.useState(()=>Array.from({length:Kv},($,ue)=>od(`manual-${ue+1}`))),[N,D]=u.useState({}),[R,k]=u.useState({totalDeposits:0,totalWithdrawals:0,pendingCount:0}),[I,L]=u.useState([]),[C,v]=u.useState([]),[E,q]=u.useState(!0),[V,_]=u.useState(!1),[se,z]=u.useState(""),[S,F]=u.useState(""),M=u.useMemo(()=>{const $=new Map;for(const ue of o){const me=String(ue.id||ue._id||"");me&&$.set(me,ue)}return $},[o]),K=u.useMemo(()=>{const $=x.trim().toLowerCase();return $?h.filter(ue=>{const me=String(ue.username||"").toLowerCase(),Ne=String(ue.phoneNumber||"").toLowerCase();return me.includes($)||Ne.includes($)}):h},[h,x]),H=async($,ue)=>{if(ue==="admin")try{const me=await tj($);k({totalDeposits:Number(me?.totalDeposits||0),totalWithdrawals:Number(me?.totalWithdrawals||0),pendingCount:Number(me?.pendingCount||0)})}catch{}},G=async($,ue)=>{if(ue!=="admin"){L(C);return}try{const me=await il({user:"",type:"all",status:"all",time:"30d",limit:30},$);L(Array.isArray(me?.transactions)?me.transactions:[])}catch{L(C)}},re=async()=>{const $=localStorage.getItem("token");if(!$){z("Please login to view cashier data."),q(!1);return}try{q(!0),z("");const ue=await Ns($),me=String(ue?.role||"admin");r(me);let Ne=[];if(me==="admin"?Ne=await ol($):Ne=await hd($),d(Array.isArray(Ne)?Ne:[]),me==="admin"||me==="master_agent"||me==="super_agent")try{const we=await mi($),Ce=Array.isArray(we)?we:[];p(Ce),f(Me=>{const Re={...Me};for(const st of Ce){const Ke=String(st.id||st._id||"");Ke&&typeof Re[Ke]!="boolean"&&(Re[Ke]=!1)}return Re}),D(Me=>{const Re={...Me};for(const st of Ce){const Ke=String(st.id||st._id||"");Ke&&!Re[Ke]&&(Re[Ke]=od(Ke,Ke))}return Re})}catch{p([])}else p([]);await Promise.all([H($,me),G($,me)])}catch(ue){z(ue.message||"Failed to load cashier data")}finally{q(!1)}};u.useEffect(()=>{re()},[]),u.useEffect(()=>{l!=="admin"&&L(C)},[C,l]);const je=$=>{if($==null)return"";const ue=Number($);return Number.isNaN(ue)?"":`$${ue.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`},ee=$=>{const ue=String($.searchQuery||"").trim().toLowerCase();return o.filter(we=>$.agentId?String(we?.agentId?._id||we?.agentId||"")===String($.agentId):!0).filter(we=>{if(!ue)return!0;const Ce=String(we.username||"").toLowerCase(),Me=String(we.fullName||`${we.firstName||""} ${we.lastName||""}`).toLowerCase(),Re=String(we.phoneNumber||"").toLowerCase();return Ce.includes(ue)||Me.includes(ue)||Re.includes(ue)}).slice(0,12)},B=$=>{const ue=String($?.reason||"").toUpperCase(),me=String($?.type||"").toLowerCase();return ue==="FREEPLAY_ADJUSTMENT"?"FP Deposit":ue==="CASHIER_DEPOSIT"||me==="deposit"?"Deposit":ue==="CASHIER_WITHDRAWAL"||me==="withdrawal"?"Withdraw":ue==="CASHIER_CREDIT_ADJUSTMENT"?"Credit Adj":ue==="CASHIER_DEBIT_ADJUSTMENT"?"Debit Adj":"Adjustment"},Q=$=>$==="deposit"||$==="credit_adj",ne=($,ue,me=!1)=>{if(me){D(Ne=>{const we=Ne[$];return we?{...Ne,[$]:ue(we)}:Ne});return}A(Ne=>Ne.map(we=>we.id===$?ue(we):we))},Z=async($,ue=!1)=>{const me=localStorage.getItem("token");if(!me){z("Please login to continue.");return}const Ne=Number($.amount||0),we=String($.selectedUserId||""),Ce=M.get(we);if(!Ce){ne($.id,mt=>({...mt,error:"Select a customer first."}),ue);return}if(!Number.isFinite(Ne)||Ne<=0){ne($.id,mt=>({...mt,error:"Enter a valid amount."}),ue);return}const Me=Number(Ce.balance||0),Re=Number(Ce.freeplayBalance||0),st=($.description||"").trim()||Ir[$.type],Ke=$.figureDate?`${st} (Figure Date: ${$.figureDate})`:st;ne($.id,mt=>({...mt,busy:!0,error:""}),ue),_(!0),z(""),F("");try{let mt=Me,vt=Re,Be="CASHIER_CREDIT_ADJUSTMENT",ft="adjustment";$.type==="fp_deposit"?(vt=Re+Ne,await Cp(we,vt,me,Ke)):(mt=Q($.type)?Me+Ne:Math.max(0,Me-Ne),$.type==="deposit"?(Be="CASHIER_DEPOSIT",ft="deposit"):$.type==="withdrawal"?(Be="CASHIER_WITHDRAWAL",ft="withdrawal"):$.type==="credit_adj"?(Be="CASHIER_CREDIT_ADJUSTMENT",ft="adjustment"):(Be="CASHIER_DEBIT_ADJUSTMENT",ft="adjustment"),await rl(we,{balance:mt,type:ft,reason:Be,description:Ke},me)),d(Ut=>Ut.map(ta=>String(ta.id||ta._id||"")!==we?ta:{...ta,balance:mt,freeplayBalance:vt}));const Gt={id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,type:$.type==="deposit"?"deposit":$.type==="withdrawal"?"withdrawal":"adjustment",user:Ce.username,userId:we,amount:Ne,date:new Date().toISOString(),status:"completed",reason:$.type==="fp_deposit"?"FREEPLAY_ADJUSTMENT":Be,description:Ke};v(Ut=>[Gt,...Ut].slice(0,30)),await Promise.all([H(me,l),G(me,l)]),ne($.id,Ut=>({...Ut,amount:"",description:Ir[Ut.type],busy:!1,error:""}),ue),F(`Transaction applied for ${Ce.username}.`)}catch(mt){ne($.id,vt=>({...vt,busy:!1,error:mt.message||"Failed to apply transaction."}),ue)}finally{_(!1)}},J=($,ue,me)=>{const Ne=ee($);return e.jsxs("div",{className:"cashier-customer-cell",children:[e.jsx("button",{type:"button",className:"cashier-find-btn",children:"Find"}),e.jsxs("div",{className:"cashier-customer-search",children:[e.jsx("input",{type:"text",placeholder:"Search ...",value:$.searchQuery,onFocus:()=>ue({...$,searchOpen:!0}),onBlur:()=>setTimeout(()=>ue({...$,searchOpen:!1}),120),onChange:we=>ue({...$,searchQuery:we.target.value,searchOpen:!0,selectedUserId:""})}),$.searchOpen&&e.jsx("div",{className:"cashier-search-dropdown",children:Ne.length===0?e.jsx("div",{className:"cashier-search-empty",children:"No matching users"}):Ne.map(we=>{const Ce=String(we.id||we._id||"");return e.jsxs("button",{type:"button",className:"cashier-search-item",onMouseDown:()=>me(we),children:[e.jsx("span",{children:String(we.username||"").toUpperCase()}),e.jsx("small",{children:we.fullName||`${we.firstName||""} ${we.lastName||""}`})]},Ce)})})]})]})},P=($,ue=!1)=>{const me=M.get(String($.selectedUserId||"")),Ne=Number(me?.balanceOwed||0),we=Number(me?.balance||0),Ce=Me=>{ne($.id,()=>Me,ue)};return e.jsxs("tr",{children:[e.jsx("td",{children:J($,Ce,Me=>{const Re=String(Me.id||Me._id||"");Ce({...$,selectedUserId:Re,searchQuery:Me.username||"",searchOpen:!1,error:""})})}),e.jsx("td",{className:"cashier-num",children:me?je(Ne):"--"}),e.jsx("td",{className:"cashier-num",children:me?je(we):"--"}),e.jsx("td",{children:e.jsx("select",{value:$.type,onChange:Me=>Ce({...$,type:Me.target.value,description:Ir[Me.target.value]||$.description}),children:Jv.map(Me=>e.jsx("option",{value:Me.value,children:Me.label},Me.value))})}),e.jsx("td",{children:e.jsxs("div",{className:"cashier-amount-wrap",children:[e.jsx("input",{type:"number",min:"0",step:"0.01",placeholder:"Amount",value:$.amount,onChange:Me=>Ce({...$,amount:Me.target.value})}),e.jsx("button",{type:"button",className:"cashier-zero-btn",onClick:()=>Ce({...$,amount:"0"}),children:"Zero"})]})}),e.jsx("td",{children:e.jsx("input",{type:"date",value:$.figureDate,onChange:Me=>Ce({...$,figureDate:Me.target.value})})}),e.jsx("td",{children:e.jsx("input",{type:"text",placeholder:"Description",value:$.description,onChange:Me=>Ce({...$,description:Me.target.value})})}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"cashier-continue-btn",disabled:$.busy||V,onClick:()=>Z($,ue),children:$.busy?"Saving...":"Continue"}),$.error&&e.jsx("div",{className:"cashier-row-error",children:$.error})]})]},$.id)};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Cashier"})}),e.jsxs("div",{className:"view-content cashier-v2",children:[E&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading cashier data..."}),!E&&e.jsxs(e.Fragment,{children:[se&&e.jsx("div",{className:"alert error",children:se}),S&&e.jsx("div",{className:"alert success",children:S}),e.jsxs("div",{className:"cashier-summary",children:[e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total Deposits (Today)"}),e.jsx("p",{className:"amount",children:je(R.totalDeposits)})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total Withdrawals (Today)"}),e.jsx("p",{className:"amount",children:je(R.totalWithdrawals)})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Pending Transactions"}),e.jsx("p",{className:"amount",children:Number(R.pendingCount||0)})]})]}),e.jsxs("div",{className:"cashier-top-filters",children:[e.jsxs("div",{className:"cashier-agent-filter",children:[e.jsx("span",{children:"Agents"}),e.jsx("input",{type:"text",placeholder:"Search ...",value:x,onChange:$=>g($.target.value)})]}),e.jsxs("select",{value:b,onChange:$=>w($.target.value),children:[e.jsx("option",{value:"manual",children:"Manual Mode"}),e.jsx("option",{value:"agent",children:"Agent Mode"})]})]}),b==="manual"?e.jsx("div",{className:"cashier-grid-wrap",children:e.jsxs("table",{className:"data-table cashier-entry-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Settle"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Transaction"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Figure Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:y.map($=>P($,!1))})]})}):e.jsx("div",{className:"cashier-agent-mode",children:K.length===0?e.jsx("div",{className:"cashier-empty",children:"No agents found."}):K.map($=>{const ue=String($.id||$._id||""),me=N[ue]||od(ue,ue),Ne=!!j[ue];return e.jsxs("div",{className:"cashier-agent-card",children:[e.jsxs("button",{type:"button",className:"cashier-agent-head",onClick:()=>f(we=>({...we,[ue]:!we[ue]})),children:[e.jsx("span",{children:Ne?"":"+"}),e.jsx("span",{children:String($.username||"").toUpperCase()})]}),Ne&&e.jsx("div",{className:"cashier-agent-body",children:e.jsxs("table",{className:"data-table cashier-entry-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Settle"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Transaction"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Figure Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:P(me,!0)})]})})]},ue)})}),e.jsxs("div",{className:"table-container",children:[e.jsx("h3",{children:"Recent Transactions"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:I.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"empty-msg",children:"No recent transactions."})}):I.map($=>{const ue=B($),me=ue==="Deposit"||ue==="Credit Adj"||ue==="FP Deposit";return e.jsxs("tr",{children:[e.jsx("td",{children:ue}),e.jsx("td",{children:$.user||"Unknown"}),e.jsx("td",{className:me?"positive":"negative",children:je($.amount)}),e.jsx("td",{children:$.date?new Date($.date).toLocaleString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${$.status||"completed"}`,children:$.status||"completed"})}),e.jsx("td",{children:$.description||""})]},$.id)})})]})]})]})]})]})}const Ff="admin_add_customer_recent_v2",Pf={sports:!0,casino:!0,racebook:!0,live:!0,props:!0,liveCasino:!0},Hf=()=>new Date().toLocaleString(),a0=()=>{const l="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let r="";for(let o=0;o<4;o+=1)r+=l[Math.floor(Math.random()*l.length)];return r},$f=l=>{const r=String(l||"").match(/(\d+)/g);return!r||!r.length?"":r[r.length-1]},s0=(l,r)=>{const o=String(l||"").replace(/\D/g,"");if(o.length<7)return"";const d=Number(o);return Number.isNaN(d)?"":String(d+Number(r||0)).padStart(o.length,"0")};function n0({onBack:l}){const[r,o]=u.useState(""),[d,h]=u.useState(!0),[p,b]=u.useState(!1),[w,x]=u.useState(!0),[g,j]=u.useState(""),[f,y]=u.useState(""),[A,N]=u.useState([]),[D,R]=u.useState(null),[k,I]=u.useState([]),[L,C]=u.useState({count:1,agentId:"",prefix:"",startingAccount:"",startPhone:"",firstName:"PLAYER",lastName:"USER",manualPasswordBase:"",randomPasswordEnabled:!0,minBet:"",maxBet:"",creditLimit:"1000",balanceOwed:"0",freeplayBalance:"200",settings:{...Pf}}),[v,E]=u.useState({fullName:"",phoneNumber:"",password:"",prefix:"",username:"",parentMasterId:"",inheritFromId:"",defaultMinBet:"25",defaultMaxBet:"200",defaultCreditLimit:"1000",defaultSettleLimit:"0",settings:{...Pf}}),q=u.useMemo(()=>A.filter(P=>(P.role||"").toLowerCase()==="agent"),[A]),V=u.useMemo(()=>A.filter(P=>["master_agent","super_agent"].includes((P.role||"").toLowerCase())),[A]);u.useEffect(()=>{(async()=>{try{const $=localStorage.getItem("token");if(!$)return;const[ue,me]=await Promise.all([mi($),Ns($)]),Ne=Array.isArray(ue)?ue:[];N(Ne),R(me||null);const we=localStorage.getItem(Ff);if(we){const Ce=JSON.parse(we);Array.isArray(Ce)&&I(Ce)}}catch($){j($.message||"Failed to load add customer context.")}finally{x(!1)}})()},[]);const _=P=>{I(P),localStorage.setItem(Ff,JSON.stringify(P))},se=P=>{const $=[...P,...k].slice(0,100);_($)},z=()=>{j(""),y("")},S=async P=>{if(z(),o(P),h(!1),P==="player"&&!L.startingAccount){const ue=(q.find(me=>(me.id||me._id)===L.agentId)?.username||D?.username||"").toUpperCase();if(ue)try{const me=localStorage.getItem("token"),Ne=await qa(ue,me,{type:"player"}),we=$f(Ne?.nextUsername||"");C(Ce=>({...Ce,prefix:ue,startingAccount:we||Ce.startingAccount}))}catch{C(me=>({...me,prefix:ue}))}}},F=async(P,$)=>{if(z(),P==="agentId"){const me=(q.find(Ne=>(Ne.id||Ne._id)===$)?.username||"").toUpperCase();if(C(Ne=>({...Ne,agentId:$,prefix:me})),me)try{const Ne=localStorage.getItem("token"),we=await qa(me,Ne,{type:"player"}),Ce=$f(we?.nextUsername||"");Ce&&C(Me=>({...Me,startingAccount:Ce}))}catch(Ne){console.error("Failed to preload next player account:",Ne)}return}C(ue=>({...ue,[P]:$}))},M=async(P,$,ue=r)=>{if(z(),P==="inheritFromId"){const me=V.find(Ne=>(Ne.id||Ne._id)===$);if(me){E(Ne=>({...Ne,inheritFromId:$,defaultMinBet:String(me.defaultMinBet??Ne.defaultMinBet),defaultMaxBet:String(me.defaultMaxBet??Ne.defaultMaxBet),defaultCreditLimit:String(me.defaultCreditLimit??Ne.defaultCreditLimit),defaultSettleLimit:String(me.defaultSettleLimit??Ne.defaultSettleLimit)}));return}}if(P==="prefix"){const me=String($||"").toUpperCase().replace(/[^A-Z0-9]/g,"");if(E(Ne=>({...Ne,prefix:me,username:""})),me.length>=2)try{const Ne=localStorage.getItem("token"),Ce=await qa(me,Ne,ue==="master"?{suffix:"MA",type:"agent"}:{type:"agent"});E(Me=>({...Me,username:Ce?.nextUsername||""}))}catch(Ne){console.error("Failed to preload next agent username:",Ne)}return}E(me=>({...me,[P]:$}))},K=P=>{C($=>({...$,settings:{...$.settings,[P]:!$.settings[P]}}))},H=P=>{E($=>({...$,settings:{...$.settings,[P]:!$.settings[P]}}))},G=async()=>{const P=localStorage.getItem("token");if(!P)throw new Error("No authentication token found.");const $=Math.max(1,Math.min(20,Number(L.count||1)));if(!L.agentId)throw new Error("Select an agent first.");if(!L.prefix.trim())throw new Error("Prefix is required.");if(!L.startingAccount||Number(L.startingAccount)<=0)throw new Error("Starting account number must be greater than zero.");const ue=q.find(Re=>(Re.id||Re._id)===L.agentId),me=ue?.id||ue?._id||"";if(!me)throw new Error("Invalid agent selection.");const Ne=Number(L.startingAccount),we=[];let Ce=0,Me=0;for(let Re=0;Re<$;Re+=1){const st=`${L.prefix.toUpperCase()}${Ne+Re}`,mt=s0(L.startPhone,Re)||`${Date.now().toString().slice(-7)}${Re}`,vt=L.randomPasswordEnabled?a0():`${(L.manualPasswordBase||"PASS").toUpperCase()}${Ne+Re}`,Be={username:st,phoneNumber:mt,password:vt,firstName:$>1?`${L.firstName}${Re+1}`:L.firstName,lastName:L.lastName,agentId:me,minBet:Number(L.minBet||1),maxBet:Number(L.maxBet||5e3),creditLimit:Number(L.creditLimit||1e3),balanceOwed:Number(L.balanceOwed||0),freeplayBalance:Number(L.freeplayBalance||200),apps:{sportsbook:!!L.settings.sports,casino:!!L.settings.casino,racebook:!!L.settings.racebook,live:!!L.settings.live,props:!!L.settings.props,liveCasino:!!L.settings.liveCasino}};try{const ft=await kp(Be,P);Ce+=1,we.push({id:`recent_${Date.now()}_${Re}`,type:"Player",username:ft?.user?.username||st,parent:ue?.username||"DIRECT",createdAt:Hf(),entityId:ft?.user?.id||"",entityType:"user"})}catch{Me+=1}}if(we.length&&se(we),Ce===0)throw new Error("No player account was created. Check prefix/phone/username conflicts.");y(`Created ${Ce} player account(s).${Me?` ${Me} failed due to validation/conflict.`:""}`)},re=async P=>{const $=localStorage.getItem("token");if(!$)throw new Error("No authentication token found.");if(!v.fullName.trim())throw new Error("Agent name is required.");if(!v.phoneNumber.trim())throw new Error("Phone number is required.");if(!v.password.trim())throw new Error("Password is required.");if(!v.prefix.trim())throw new Error("Prefix is required.");if(!v.username.trim())throw new Error("Username is required. Use Prefix first.");const ue={username:v.username.toUpperCase(),phoneNumber:v.phoneNumber,password:v.password,fullName:v.fullName,role:P==="master"?"master_agent":"agent",defaultMinBet:Number(v.defaultMinBet||25),defaultMaxBet:Number(v.defaultMaxBet||200),defaultCreditLimit:Number(v.defaultCreditLimit||1e3),defaultSettleLimit:Number(v.defaultSettleLimit||0)},me=await Pr(ue,$);se([{id:`recent_${Date.now()}_agent`,type:P==="master"?"Master Agent":"Agent",username:me?.agent?.username||ue.username,parent:P==="master"?D?.username||"ADMIN":V.find(Ne=>(Ne.id||Ne._id)===v.parentMasterId)?.username||D?.username||"ADMIN",createdAt:Hf(),entityId:me?.agent?.id||"",entityType:"agent"}]),y(`${P==="master"?"Master agent":"Agent"} created successfully.`)},je=async()=>{z(),b(!0);try{if(r==="player")await G();else if(r==="agent"||r==="master")await re(r);else throw new Error("Choose account type first.")}catch(P){j(P.message||"Creation failed.")}finally{b(!1)}},ee=async P=>{const $=localStorage.getItem("token");z(),b(!0);try{P.entityId&&$&&(P.entityType==="user"?await Mp(P.entityId,$):P.entityType==="agent"&&await Dp(P.entityId,$));const ue=k.filter(me=>me.id!==P.id);_(ue),y(`${P.username} deleted successfully.`)}catch(ue){j(ue.message||"Delete failed.")}finally{b(!1)}},B=()=>e.jsx("div",{className:"picker-overlay",onClick:()=>h(!1),children:e.jsxs("div",{className:"picker-modal",onClick:P=>P.stopPropagation(),children:[e.jsxs("div",{className:"picker-header",children:[e.jsx("span",{children:"Add Customer"}),e.jsx("button",{type:"button",onClick:()=>h(!1),children:""})]}),e.jsxs("button",{type:"button",className:"picker-option",onClick:()=>S("player"),children:[e.jsx("i",{className:"fa-solid fa-user-plus"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Player"}),e.jsx("p",{children:"Add one or many players under an agent account."})]})]}),e.jsxs("button",{type:"button",className:"picker-option",onClick:()=>S("agent"),children:[e.jsx("i",{className:"fa-solid fa-user-gear"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Agent"}),e.jsx("p",{children:"Create a new agent account. Agents can own player accounts."})]})]}),e.jsxs("button",{type:"button",className:"picker-option",onClick:()=>S("master"),children:[e.jsx("i",{className:"fa-solid fa-user-tie"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Master"}),e.jsx("p",{children:"Create a master agent account that can manage sub-agents."})]})]})]})}),Q=(P,$)=>e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:"Market Capabilities"}),e.jsx("div",{className:"capabilities-premium-grid",children:[{key:"sports",label:"Sportsbook",desc:"Standard sports betting markets"},{key:"casino",label:"LV Casino",desc:"Las Vegas style virtual casino"},{key:"racebook",label:"Racebook",desc:"Global horse and greyhound racing"},{key:"live",label:"Dynamic Live",desc:"Real-time in-game betting"},{key:"props",label:"Prop Plus",desc:"Advanced player and game props"},{key:"liveCasino",label:"Dealer Live",desc:"Live dealer tables and streams"}].map(ue=>e.jsxs("button",{type:"button",className:`cap-card ${P[ue.key]?"active":""}`,onClick:()=>$(ue.key),children:[e.jsxs("div",{className:"cap-meta",children:[e.jsx("span",{className:"cap-label",children:ue.label}),e.jsx("p",{className:"cap-desc",children:ue.desc})]}),e.jsx("div",{className:"cap-toggle-ui",children:e.jsx("div",{className:"toggle-dot"})})]},ue.key))})]}),ne=()=>e.jsxs("div",{className:"form-sections",children:[e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:"Player Creation"}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"How many accounts to add?"}),e.jsx("input",{type:"number",min:"1",max:"20",value:L.count,onChange:P=>F("count",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Under which agent?"}),e.jsxs("select",{value:L.agentId,onChange:P=>F("agentId",P.target.value),children:[e.jsx("option",{value:"",children:"Select agent"}),q.map(P=>e.jsx("option",{value:P.id||P._id,children:P.username},P.id||P._id))]})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",maxLength:"8",value:L.prefix,onChange:P=>F("prefix",P.target.value.toUpperCase())})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Starting Account #"}),e.jsx("input",{type:"number",min:"1",value:L.startingAccount,onChange:P=>F("startingAccount",P.target.value)})]})]}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Base phone number"}),e.jsx("input",{type:"tel",value:L.startPhone,onChange:P=>F("startPhone",P.target.value),placeholder:"For multiple accounts auto-increment"})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",value:L.firstName,onChange:P=>F("firstName",P.target.value.toUpperCase())})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",value:L.lastName,onChange:P=>F("lastName",P.target.value.toUpperCase())})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Password Base"}),e.jsx("input",{type:"text",value:L.manualPasswordBase,onChange:P=>F("manualPasswordBase",P.target.value),disabled:L.randomPasswordEnabled,placeholder:"Used when random password is OFF"})]})]}),e.jsx("div",{className:"inline-controls-row",children:e.jsxs("label",{className:"switch-label",children:[e.jsx("span",{children:"Generate random password (ex: A7B3)"}),e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:L.randomPasswordEnabled,onChange:P=>F("randomPasswordEnabled",P.target.checked)}),e.jsx("span",{className:"slider-mini"})]})]})})]}),e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:"Operational Limits"}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Min bet"}),e.jsx("input",{type:"number",value:L.minBet,onChange:P=>F("minBet",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Max bet"}),e.jsx("input",{type:"number",value:L.maxBet,onChange:P=>F("maxBet",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Credit limit"}),e.jsx("input",{type:"number",value:L.creditLimit,onChange:P=>F("creditLimit",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Settle limit"}),e.jsx("input",{type:"number",value:L.balanceOwed,onChange:P=>F("balanceOwed",P.target.value)})]})]})]}),Q(L.settings,K)]}),Z=()=>e.jsxs("div",{className:"form-sections",children:[e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:r==="master"?"Master Agent Setup":"Agent Setup"}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Agent Name"}),e.jsx("input",{type:"text",value:v.fullName,onChange:P=>M("fullName",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:v.phoneNumber,onChange:P=>M("phoneNumber",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Agent Password"}),e.jsx("input",{type:"text",value:v.password,onChange:P=>M("password",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:r==="master"?"Master Prefix":"Agent Prefix"}),e.jsx("input",{type:"text",maxLength:"6",value:v.prefix,onChange:P=>M("prefix",P.target.value,r)})]})]}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Generated Username"}),e.jsx("input",{type:"text",value:v.username,readOnly:!0,className:"readonly-input"})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Under which Master Agent?"}),e.jsxs("select",{value:v.parentMasterId,onChange:P=>M("parentMasterId",P.target.value),children:[e.jsx("option",{value:"",children:"Select master (reference)"}),V.map(P=>e.jsx("option",{value:P.id||P._id,children:P.username},P.id||P._id))]})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Inherit Settings?"}),e.jsxs("select",{value:v.inheritFromId,onChange:P=>M("inheritFromId",P.target.value),children:[e.jsx("option",{value:"",children:"No inheritance"}),V.map(P=>e.jsx("option",{value:P.id||P._id,children:P.username},P.id||P._id))]})]}),e.jsxs("div",{className:"p-field helper-note-block",children:[e.jsx("label",{children:"Behavior"}),e.jsx("p",{children:r==="master"?"Master agents can manage sub-agents but not direct players.":"Agents can manage players. Hierarchy assignment can be adjusted later in Agent Management."})]})]})]}),e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:"Default Limits"}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Default Min Bet"}),e.jsx("input",{type:"number",value:v.defaultMinBet,onChange:P=>M("defaultMinBet",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Default Max Bet"}),e.jsx("input",{type:"number",value:v.defaultMaxBet,onChange:P=>M("defaultMaxBet",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Default Credit Limit"}),e.jsx("input",{type:"number",value:v.defaultCreditLimit,onChange:P=>M("defaultCreditLimit",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Default Settle Limit"}),e.jsx("input",{type:"number",value:v.defaultSettleLimit,onChange:P=>M("defaultSettleLimit",P.target.value)})]})]})]}),Q(v.settings,H)]}),J=r==="player"?"Add Player":r==="agent"?"Add Agent":r==="master"?"Add Master Agent":"Add Customer";return e.jsxs("div",{className:"admin-view premium-admin-theme",children:[e.jsxs("div",{className:"view-header",children:[e.jsxs("button",{className:"btn-back-premium",onClick:()=>l?l():o(""),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),e.jsx("polyline",{points:"12 19 5 12 12 5"})]}),"Back to Dashboard"]}),e.jsx("div",{className:"header-copy",children:e.jsxs("div",{className:"header-icon-title",children:[e.jsx("div",{className:"glow-accent"}),e.jsx("h2",{children:J})]})}),e.jsx("button",{className:"btn-type-switch",type:"button",onClick:()=>h(!0),children:"Choose Type"})]}),e.jsx("div",{className:"view-content central-card",children:e.jsxs("div",{className:"premium-card glass-effect",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{children:r?"Configuration Panel":"Choose Account Type"}),e.jsx("p",{children:r?"Define functionality, limits, and hierarchy rules before continue.":"Select Player, Agent, or Master to continue."})]}),e.jsx("div",{className:"premium-form",children:w?e.jsx("div",{className:"status-msg",children:"Loading context..."}):e.jsxs(e.Fragment,{children:[!r&&e.jsxs("div",{className:"inline-type-grid",children:[e.jsx("button",{type:"button",onClick:()=>S("player"),children:"Player"}),e.jsx("button",{type:"button",onClick:()=>S("agent"),children:"Agent"}),e.jsx("button",{type:"button",onClick:()=>S("master"),children:"Master"})]}),r==="player"&&ne(),(r==="agent"||r==="master")&&Z(),g&&e.jsx("div",{className:"premium-error-msg",children:g}),f&&e.jsx("div",{className:"premium-success-msg",children:f}),r&&e.jsx("div",{className:"form-footer-premium",children:e.jsx("button",{type:"button",className:"btn-deploy-premium",onClick:je,disabled:p,children:p?"Processing...":"Continue"})}),e.jsxs("div",{className:"recent-section",children:[e.jsx("h4",{children:"Recently Added Customers"}),k.length===0?e.jsx("div",{className:"status-msg",children:"No records yet."}):e.jsx("div",{className:"recent-table-wrap",children:e.jsxs("table",{className:"recent-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Username"}),e.jsx("th",{children:"Parent"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:k.map(P=>e.jsxs("tr",{children:[e.jsx("td",{children:P.type}),e.jsx("td",{children:P.username}),e.jsx("td",{children:P.parent||"-"}),e.jsx("td",{children:P.createdAt}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn-delete-mini",disabled:p,onClick:()=>ee(P),children:"Delete"})})]},P.id))})]})})]})]})})]})}),d&&B(),e.jsx("style",{children:`
        .premium-admin-theme {
          background: #d3d3d3;
          min-height: 100vh;
          color: #2f343a;
          font-family: 'Segoe UI', Tahoma, sans-serif;
          padding: 16px;
        }
        .view-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 24px; gap: 16px; }
        .btn-back-premium {
          background: #f4f4f4; color: #2f343a; border: 1px solid #b8b8b8;
          padding: 10px 16px; border-radius: 3px; font-weight: 600;
          display: flex; align-items: center; gap: 8px; cursor: pointer; white-space: nowrap;
        }
        .btn-back-premium:hover { background: #ffffff; }
        .header-copy { flex: 1; min-width: 0; }
        .header-icon-title { display: flex; align-items: center; gap: 12px; }
        .glow-accent { width: 6px; height: 28px; background: #0b4f6c; border-radius: 2px; }
        .header-icon-title h2 { margin: 0; font-size: 28px; font-weight: 700; color: #0b4f6c; }
        .btn-type-switch {
          background: #0b4f6c; color: #fff; border: 1px solid #07384d; border-radius: 3px;
          padding: 10px 14px; font-weight: 600; cursor: pointer;
        }
        .btn-type-switch:hover { background: #0a455e; }

        .central-card { display: flex; justify-content: center; }
        .premium-card {
          background: #efefef;
          width: 100%;
          max-width: 100%;
          border-radius: 0;
          border: 1px solid #c6c6c6;
          overflow: hidden;
          box-shadow: none;
        }

        .card-header { padding: 10px 14px; background: #0b4f6c; border-bottom: 1px solid #07384d; }
        .card-header h3 { margin: 0 0 3px; font-size: 17px; font-weight: 700; color: #fff; }
        .card-header p { margin: 0; color: #d5e6ee; font-size: 12px; }

        .premium-form { padding: 14px; }
        .form-sections { display: flex; flex-direction: column; gap: 24px; }
        .f-section { background: #efefef; border: 1px solid #d3d3d3; border-radius: 0; padding: 4px 0 0; }
        .section-tag {
          font-size: 15px;
          text-transform: uppercase;
          font-weight: 600;
          color: #2f343a;
          letter-spacing: 0.5px;
          margin: 0 0 12px;
          border-left: 0;
          padding-left: 0;
        }

        .input-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 14px; }
        .input-row.grid-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }

        .p-field { display: flex; flex-direction: column; gap: 6px; }
        .p-field label {
          font-size: 15px;
          text-transform: none;
          font-weight: 500;
          color: #3f4348;
          letter-spacing: 0;
        }
        .p-field input, .p-field select {
          background: #ffffff;
          border: 1px solid #bfc7cd;
          color: #2f343a;
          padding: 9px 10px;
          border-radius: 2px;
          font-size: 14px;
          outline: none;
          transition: border-color 0.2s ease, box-shadow 0.2s ease;
          height: 42px;
        }
        .p-field input:focus, .p-field select:focus { border-color: #53a6d6; box-shadow: none; }
        .readonly-input { background: #edf1f4 !important; color: #5b6671 !important; }

        .helper-note-block p {
          margin: 0;
          background: #f3f3f3;
          border: 1px solid #d4d7da;
          color: #39424a;
          border-radius: 2px;
          padding: 10px;
          min-height: 44px;
          font-size: 14px;
        }

        .inline-controls-row { margin-top: 8px; }
        .switch-label {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 14px;
          padding: 10px 12px;
          border-radius: 2px;
          background: #efefef;
          border: 0;
          color: #2f343a;
        }

        .switch-mini {
          position: relative;
          width: 44px;
          height: 24px;
          display: inline-block;
          cursor: pointer;
        }
        .switch-mini input {
          opacity: 0;
          width: 0;
          height: 0;
        }
        .slider-mini {
          position: absolute;
          inset: 0;
          border-radius: 16px;
          background: #9da8b2;
          transition: 0.2s;
        }
        .slider-mini:before {
          content: '';
          position: absolute;
          height: 18px;
          width: 18px;
          left: 3px;
          top: 3px;
          border-radius: 50%;
          background: #fff;
          transition: 0.2s;
        }
        .switch-mini input:checked + .slider-mini {
          background: #0ea44b;
        }
        .switch-mini input:checked + .slider-mini:before {
          transform: translateX(20px);
          background: #fff;
        }

        .capabilities-premium-grid { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 14px; }
        .cap-card {
          border: 1px solid #b8cde2;
          background: #f8fbff;
          color: inherit;
          border-radius: 8px;
          padding: 14px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 8px;
          text-align: left;
          cursor: pointer;
          transition: border-color 0.2s ease, background-color 0.2s ease;
        }
        .cap-card:hover { border-color: #6aa8d5; background: #f4f9ff; }
        .cap-card.active { border-color: #4298d4; background: #edf6ff; }
        .cap-meta { display: flex; flex-direction: column; gap: 3px; }
        .cap-label { font-size: 16px; font-weight: 700; color: #263746; }
        .cap-desc { margin: 0; font-size: 13px; color: #637687; }
        .cap-toggle-ui { width: 44px; height: 24px; border-radius: 20px; background: #2f80ed; position: relative; flex-shrink: 0; }
        .toggle-dot { width: 18px; height: 18px; border-radius: 999px; background: #fff; position: absolute; top: 3px; left: 23px; }
        .cap-card:not(.active) .cap-toggle-ui { background: #a8b2bc; }
        .cap-card:not(.active) .toggle-dot { left: 3px; background: #fff; }

        .premium-error-msg {
          margin-top: 12px;
          background: #ffe9e9;
          border: 1px solid #efb7b7;
          color: #ab3434;
          padding: 10px;
          border-radius: 2px;
          font-weight: 600;
          font-size: 13px;
        }
        .premium-success-msg {
          margin-top: 12px;
          background: #e8f8ec;
          border: 1px solid #afdec0;
          color: #257747;
          padding: 10px;
          border-radius: 2px;
          font-weight: 600;
          font-size: 13px;
        }

        .form-footer-premium { margin-top: 14px; }
        .btn-deploy-premium {
          width: 100%;
          background: #37b24d;
          border: 1px solid #2f9e44;
          color: #fff;
          font-weight: 600;
          padding: 10px;
          border-radius: 2px;
          cursor: pointer;
          font-size: 14px;
        }
        .btn-deploy-premium:disabled { opacity: 0.65; cursor: not-allowed; }

        .recent-section {
          margin-top: 18px;
          border: 1px solid #cfd4d9;
          border-radius: 2px;
          overflow: hidden;
          background: #fff;
        }
        .recent-section h4 {
          margin: 0;
          padding: 12px;
          font-size: 14px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          color: #30424f;
          background: #e9eef2;
        }
        .status-msg { padding: 12px; color: #6f7a84; }
        .recent-table-wrap { overflow: auto; }
        .recent-table { width: 100%; border-collapse: collapse; }
        .recent-table thead { background: #f2f5f7; }
        .recent-table th, .recent-table td {
          border-top: 1px solid #dbe1e6;
          padding: 10px;
          font-size: 13px;
          text-align: left;
          white-space: nowrap;
          color: #2f343a;
        }
        .recent-table tbody tr:nth-child(even) { background: #fafcfe; }
        .btn-delete-mini {
          border: 0;
          border-radius: 2px;
          background: #dc2626;
          color: #fff;
          font-size: 12px;
          font-weight: 700;
          padding: 7px 10px;
          cursor: pointer;
        }

        .inline-type-grid {
          display: grid;
          gap: 12px;
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
        .inline-type-grid button {
          border: 1px solid #bfd1df;
          background: #ffffff;
          color: #244153;
          border-radius: 2px;
          padding: 16px;
          font-weight: 600;
          font-size: 15px;
          cursor: pointer;
        }
        .inline-type-grid button:hover { background: #f6fbff; border-color: #8fb5cd; }

        .picker-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.4);
          display: flex;
          align-items: flex-start;
          justify-content: center;
          z-index: 1200;
          padding-top: 95px;
        }
        .picker-modal {
          width: 100%;
          max-width: 560px;
          background: #fff;
          border-radius: 2px;
          box-shadow: 0 8px 24px rgba(0,0,0,0.3);
          overflow: hidden;
        }
        .picker-header {
          background: #0b4f6c;
          color: #fff;
          padding: 12px 14px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          font-weight: 700;
        }
        .picker-header button {
          background: transparent;
          border: 0;
          color: #fff;
          font-size: 20px;
          cursor: pointer;
        }
        .picker-option {
          width: 100%;
          border: 0;
          border-top: 1px solid #d8dee4;
          background: #fff;
          padding: 14px;
          display: grid;
          grid-template-columns: 44px 1fr;
          gap: 10px;
          text-align: left;
          cursor: pointer;
          transition: background-color 0.2s ease;
        }
        .picker-option:hover { background: #f7fafc; }
        .picker-option i { color: #334155; font-size: 20px; margin-top: 3px; }
        .picker-option p { margin: 4px 0 0; color: #4b5563; font-size: 13px; }

        @media (max-width: 1100px) {
          .input-row.grid-4, .capabilities-premium-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        }
        @media (max-width: 760px) {
          .premium-admin-theme { padding: 12px; }
          .view-header { flex-wrap: wrap; align-items: stretch; }
          .input-row, .input-row.grid-4, .capabilities-premium-grid, .inline-type-grid { grid-template-columns: 1fr; }
          .btn-type-switch { width: 100%; }
          .picker-overlay { padding: 40px 10px 10px; }
        }
      `})]})}function l0(){const[l,r]=u.useState(""),[o,d]=u.useState("all"),[h,p]=u.useState("all"),[b,w]=u.useState([]),[x,g]=u.useState(!0),[j,f]=u.useState(""),[y,A]=u.useState(null),[N,D]=u.useState({dailyLimit:"",monthlyLimit:"",used:"",status:"active"}),[R,k]=u.useState({provider:"",dailyLimit:0,monthlyLimit:0,used:0,status:"active"}),[I,L]=u.useState(!1),C=M=>`$${Number(M||0).toLocaleString()}`,v=M=>{const K=M.monthlyLimit||1;return Math.min(M.used/K*100,100)},E=M=>M>=85?"critical":M>=65?"warning":"normal",q=u.useMemo(()=>b.reduce((M,K)=>(M.daily+=K.dailyLimit,M.monthly+=K.monthlyLimit,M.used+=K.used,M),{daily:0,monthly:0,used:0}),[b]),V=async()=>{try{g(!0);const M=localStorage.getItem("token");if(!M){w([]),f("Please login to load limits.");return}const K=await aj(M);w(K),f("")}catch(M){console.error("Error loading third party limits:",M),f(M.message||"Failed to load limits")}finally{g(!1)}};u.useEffect(()=>{V();const M=setInterval(()=>{document.hidden||V()},12e4);return()=>clearInterval(M)},[]);const _=b.filter(M=>{const K=M.provider.toLowerCase().includes(l.toLowerCase()),H=o==="all"||M.status===o,G=v(M),re=h==="all"||h==="over-80"&&G>=80||h==="60-80"&&G>=60&&G<80||h==="under-60"&&G<60;return K&&H&&re}),se=M=>{A(M.id),D({dailyLimit:M.dailyLimit,monthlyLimit:M.monthlyLimit,used:M.used,status:M.status})},z=()=>{A(null),D({dailyLimit:"",monthlyLimit:"",used:"",status:"active"})},S=async M=>{try{const K=localStorage.getItem("token");if(!K){f("Please login to update limits.");return}const H={dailyLimit:Number(N.dailyLimit)||0,monthlyLimit:Number(N.monthlyLimit)||0,used:Number(N.used)||0,status:N.status},G=await sj(M,H,K);w(re=>re.map(je=>je.id===M?{...je,...G.limit}:je)),z(),f("")}catch(K){console.error("Error updating limit:",K),f(K.message||"Failed to update limit")}},F=async()=>{try{L(!0);const M=localStorage.getItem("token");if(!M){f("Please login to create limits.");return}const K={provider:R.provider.trim(),dailyLimit:Number(R.dailyLimit)||0,monthlyLimit:Number(R.monthlyLimit)||0,used:Number(R.used)||0,status:R.status},H=await nj(K,M);w(G=>[...G,H.limit]),k({provider:"",dailyLimit:0,monthlyLimit:0,used:0,status:"active"}),f("")}catch(M){console.error("Error creating limit:",M),f(M.message||"Failed to create limit")}finally{L(!1)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"3rd Party Limits"}),e.jsxs("span",{className:"count",children:[_.length," providers"]})]}),e.jsxs("div",{className:"view-content",children:[x&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading limits..."}),j&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:j}),!x&&!j&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Provider"}),e.jsx("input",{type:"text",placeholder:"Provider name",value:R.provider,onChange:M=>k(K=>({...K,provider:M.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Daily Limit"}),e.jsx("input",{type:"number",value:R.dailyLimit,onChange:M=>k(K=>({...K,dailyLimit:M.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Monthly Limit"}),e.jsx("input",{type:"number",value:R.monthlyLimit,onChange:M=>k(K=>({...K,monthlyLimit:M.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Used"}),e.jsx("input",{type:"number",value:R.used,onChange:M=>k(K=>({...K,used:M.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:R.status,onChange:M=>k(K=>({...K,status:M.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"paused",children:"Paused"})]})]}),e.jsx("button",{className:"btn-primary",onClick:F,disabled:I||!R.provider.trim(),children:I?"Saving...":"Add Provider"})]}),e.jsxs("div",{className:"stats-container limits-summary",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Providers"}),e.jsx("div",{className:"amount",children:b.length}),e.jsxs("p",{className:"change",children:["Active: ",b.filter(M=>M.status==="active").length]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Daily Limit Total"}),e.jsx("div",{className:"amount",children:C(q.daily)}),e.jsx("p",{className:"change",children:"Across all providers"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Monthly Limit Total"}),e.jsx("div",{className:"amount",children:C(q.monthly)}),e.jsx("p",{className:"change",children:"Capacity for the month"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Used This Month"}),e.jsx("div",{className:"amount",children:C(q.used)}),e.jsxs("p",{className:"change",children:["Utilization: ",(q.used/(q.monthly||1)*100).toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Provider"}),e.jsx("input",{type:"text",placeholder:"Search provider",value:l,onChange:M=>r(M.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:o,onChange:M=>d(M.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"paused",children:"Paused"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Utilization"}),e.jsxs("select",{value:h,onChange:M=>p(M.target.value),children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"over-80",children:"Over 80%"}),e.jsx("option",{value:"60-80",children:"60% - 80%"}),e.jsx("option",{value:"under-60",children:"Under 60%"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Provider"}),e.jsx("th",{children:"Daily Limit"}),e.jsx("th",{children:"Monthly Limit"}),e.jsx("th",{children:"Used"}),e.jsx("th",{children:"Utilization"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last Sync"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:_.map(M=>{const K=v(M);return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:M.provider})}),e.jsx("td",{children:y===M.id?e.jsx("input",{type:"number",value:N.dailyLimit,onChange:H=>D(G=>({...G,dailyLimit:H.target.value})),className:"inline-input"}):C(M.dailyLimit)}),e.jsx("td",{children:y===M.id?e.jsx("input",{type:"number",value:N.monthlyLimit,onChange:H=>D(G=>({...G,monthlyLimit:H.target.value})),className:"inline-input"}):C(M.monthlyLimit)}),e.jsx("td",{children:y===M.id?e.jsx("input",{type:"number",value:N.used,onChange:H=>D(G=>({...G,used:H.target.value})),className:"inline-input"}):C(M.used)}),e.jsx("td",{children:e.jsxs("div",{className:"usage-meter",children:[e.jsx("div",{className:"usage-bar",children:e.jsx("div",{className:`usage-fill ${E(K)}`,style:{width:`${K}%`}})}),e.jsxs("span",{className:"usage-text",children:[K.toFixed(1),"%"]})]})}),e.jsx("td",{children:y===M.id?e.jsxs("select",{value:N.status,onChange:H=>D(G=>({...G,status:H.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"paused",children:"Paused"})]}):e.jsx("span",{className:`badge ${M.status}`,children:M.status})}),e.jsx("td",{children:M.lastSync?new Date(M.lastSync).toLocaleString():""}),e.jsx("td",{children:e.jsx("div",{className:"table-actions",children:y===M.id?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn-small",onClick:()=>S(M.id),children:"Save"}),e.jsx("button",{className:"btn-small",onClick:z,children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn-small",onClick:()=>se(M),children:"Edit"}),e.jsx("button",{className:"btn-small",children:"View"})]})})})]},M.id)})})]})})]})]})]})}function i0(){const[l,r]=u.useState("agents"),[o,d]=u.useState(""),[h,p]=u.useState(""),[b,w]=u.useState("any"),[x,g]=u.useState("today"),[j,f]=u.useState("all-types"),[y,A]=u.useState([]),[N,D]=u.useState(!0),[R,k]=u.useState(""),[I,L]=u.useState(""),[C,v]=u.useState([]),[E,q]=u.useState([]),[V,_]=u.useState(!1),[se,z]=u.useState(null),[S,F]=u.useState({userId:"",matchId:"",amount:50,odds:1.9,type:"straight",selection:"",status:"pending"}),M=J=>Number(String(J).replace(/[^0-9.-]+/g,""))||0,K=J=>`$${Number(J||0).toLocaleString()}`,H=(J,P)=>P==="any"?!0:P==="under-100"?J<100:P==="100-500"?J>=100&&J<=500:P==="500-1000"?J>500&&J<=1e3:P==="over-1000"?J>1e3:!0,G=J=>{if(J?.type)return J.type;const P=(J?.description||"").toLowerCase();return P.includes("parlay")?"parlay":P.includes("teaser")?"teaser":"straight"},re=y.filter(J=>{const P=J.agent.toLowerCase().includes(o.toLowerCase()),$=J.customer.toLowerCase().includes(h.toLowerCase()),ue=M(J.risk),me=j==="all-types"||G(J)===j;return P&&$&&me&&H(ue,b)}).sort((J,P)=>l==="agents"?J.agent.localeCompare(P.agent):J.customer.localeCompare(P.customer)),je=re.reduce((J,P)=>(J.risk+=M(P.risk),J.toWin+=M(P.toWin),J),{risk:0,toWin:0}),ee=()=>{d(""),p(""),w("any"),g("today"),f("all-types")},B=async J=>{try{D(!0);const P=localStorage.getItem("token");if(!P){A([]),k("Please login to load bets.");return}const ue=(await Ed(J,P)).bets.map(me=>({...me,risk:Number(me.risk||0),toWin:Number(me.toWin||0),accepted:new Date(me.accepted).toLocaleString()}));A(ue),k("")}catch(P){console.error("Error loading bets:",P),k(P.message||"Failed to load bets")}finally{D(!1)}};u.useEffect(()=>{B({time:x,type:j,amount:b}),(async()=>{try{const $=localStorage.getItem("token");if(!$)return;const[ue,me]=await Promise.all([ol($),hl($)]);v(ue||[]),q(me||[])}catch($){console.error("Error loading reference data:",$)}})();const P=setInterval(()=>{document.hidden||B({agent:o,customer:h,amount:b,time:x,type:j})},9e4);return()=>clearInterval(P)},[o,h,b,x,j]);const Q=async()=>{try{_(!0),L("");const J=localStorage.getItem("token");if(!J){k("Please login to create bets.");return}const P={userId:S.userId,matchId:S.matchId,amount:Number(S.amount)||0,odds:Number(S.odds)||0,type:S.type,selection:S.selection.trim(),status:S.status};if(P.amount<=0||P.odds<=0)throw new Error("Amount and odds must be greater than 0");await yj(P,J),F({userId:"",matchId:"",amount:50,odds:1.9,type:"straight",selection:"",status:"pending"}),k(""),L("Bet created successfully."),B({agent:o,customer:h,amount:b,time:x,type:j})}catch(J){console.error("Error creating bet:",J),k(J.message||"Failed to create bet")}finally{_(!1)}},ne=async J=>{const P=localStorage.getItem("token");if(!P){k("Please login to delete bets.");return}if(window.confirm("Delete this bet? This cannot be undone."))try{L(""),z(J),await jj(J,P),k(""),L("Bet deleted successfully."),await B({agent:o,customer:h,amount:b,time:x,type:j})}catch($){k($.message||"Failed to delete bet")}finally{z(null)}},Z=()=>{L(""),B({agent:o,customer:h,amount:b,time:x,type:j})};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Props / Betting Management"})}),e.jsxs("div",{className:"view-content",children:[N&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading bets..."}),R&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:R}),I&&e.jsx("div",{style:{padding:"12px 20px",color:"#15803d",textAlign:"center",fontWeight:600},children:I}),!N&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Customer"}),e.jsxs("select",{value:S.userId,onChange:J=>F(P=>({...P,userId:J.target.value})),children:[e.jsx("option",{value:"",children:"Select customer"}),C.map(J=>e.jsx("option",{value:J.id||J._id,children:J.username},J.id||J._id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Match"}),e.jsxs("select",{value:S.matchId,onChange:J=>F(P=>({...P,matchId:J.target.value})),children:[e.jsx("option",{value:"",children:"Select match"}),E.map(J=>e.jsxs("option",{value:J.id,children:[J.homeTeam," vs ",J.awayTeam]},J.id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",min:"0.01",value:S.amount,onChange:J=>F(P=>({...P,amount:J.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Odds"}),e.jsx("input",{type:"number",step:"0.01",min:"0.01",value:S.odds,onChange:J=>F(P=>({...P,odds:J.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:S.type,onChange:J=>F(P=>({...P,type:J.target.value})),children:[e.jsx("option",{value:"straight",children:"Straight"}),e.jsx("option",{value:"parlay",children:"Parlay"}),e.jsx("option",{value:"teaser",children:"Teaser"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Selection"}),e.jsx("input",{type:"text",placeholder:"Selection",value:S.selection,onChange:J=>F(P=>({...P,selection:J.target.value}))})]}),e.jsx("button",{className:"btn-primary",onClick:Q,disabled:V||!S.userId||!S.matchId||!S.selection.trim()||Number(S.amount)<=0||Number(S.odds)<=0,children:V?"Saving...":"Create Bet"}),!S.userId||!S.matchId||!S.selection.trim()?e.jsx("div",{style:{alignSelf:"end",color:"#9a3412",fontSize:"12px"},children:"Select customer, match, and selection to create bet."}):null]}),e.jsxs("div",{className:"stats-container",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Tickets"}),e.jsx("div",{className:"amount",children:re.length}),e.jsx("p",{className:"change",children:"Filtered by current criteria"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Risk"}),e.jsxs("div",{className:"amount",children:["$",je.risk.toLocaleString()]}),e.jsx("p",{className:"change",children:"Across all tickets"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total To Win"}),e.jsxs("div",{className:"amount",children:["$",je.toWin.toLocaleString()]}),e.jsx("p",{className:"change",children:"Potential payouts"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Average Risk"}),e.jsxs("div",{className:"amount",children:["$",(re.length?je.risk/re.length:0).toFixed(0)]}),e.jsx("p",{className:"change",children:"Per ticket"})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Agents"}),e.jsx("input",{type:"text",placeholder:"Search",value:o,onChange:J=>d(J.target.value),className:"search-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Players"}),e.jsx("input",{type:"text",placeholder:"Search",value:h,onChange:J=>p(J.target.value),className:"search-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Amount"}),e.jsxs("select",{value:b,onChange:J=>w(J.target.value),children:[e.jsx("option",{value:"any",children:"Any Amount"}),e.jsx("option",{value:"under-100",children:"Under $100"}),e.jsx("option",{value:"100-500",children:"$100 - $500"}),e.jsx("option",{value:"500-1000",children:"$500 - $1000"}),e.jsx("option",{value:"over-1000",children:"Over $1000"})]})]}),e.jsx("button",{className:"btn-primary",onClick:Z,children:"Search"}),e.jsx("button",{className:"btn-secondary",onClick:ee,children:"Reset Filters"})]}),e.jsxs("div",{className:"tabs-container",children:[e.jsx("button",{className:`tab ${l==="agents"?"active":""}`,onClick:()=>r("agents"),children:"Agents"}),e.jsx("button",{className:`tab ${l==="players"?"active":""}`,onClick:()=>r("players"),children:"Players"})]}),e.jsxs("div",{className:"additional-filters",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Time"}),e.jsxs("select",{value:x,onChange:J=>g(J.target.value),children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"this-week",children:"This Week"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:j,onChange:J=>f(J.target.value),children:[e.jsx("option",{value:"all-types",children:"All Types"}),e.jsx("option",{value:"straight",children:"Straight"}),e.jsx("option",{value:"parlay",children:"Parlay"}),e.jsx("option",{value:"teaser",children:"Teaser"})]})]})]}),e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"data-table betting-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agent"}),e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Accepted (EST)"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Risk"}),e.jsx("th",{children:"To Win"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:re.map(J=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:J.agent})}),e.jsx("td",{children:e.jsx("strong",{children:J.customer})}),e.jsx("td",{children:J.accepted}),e.jsx("td",{children:e.jsx("span",{className:`badge ${G(J)}`,children:G(J)})}),e.jsx("td",{className:"description-cell",children:J.description.split(`
`).map((P,$)=>e.jsx("div",{children:P},$))}),e.jsx("td",{children:e.jsx("span",{className:"amount-risk",children:K(J.risk)})}),e.jsx("td",{children:e.jsx("span",{className:"amount-towin",children:K(J.toWin)})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${J.status}`,children:J.status})}),e.jsx("td",{children:e.jsx("button",{className:"btn-delete",onClick:()=>ne(J.id),disabled:se===J.id||J.status!=="pending",title:J.status==="pending"?"Delete bet":"Only pending bets can be deleted",children:se===J.id?"...":""})})]},J.id))})]})}),e.jsxs("div",{className:"summary-footer",children:[e.jsxs("span",{children:["Total Records: ",re.length]}),e.jsxs("span",{className:"risk-summary",children:["Risking: ",e.jsxs("span",{className:"amount-risk",children:["$",je.risk.toLocaleString()]}),"To Win: ",e.jsxs("span",{className:"amount-towin",children:["$",je.toWin.toLocaleString()]})]})]})]})]})]})}function r0(){const[l,r]=u.useState(""),[o,d]=u.useState("all"),[h,p]=u.useState("revenue"),[b,w]=u.useState("30d"),[x,g]=u.useState([]),[j,f]=u.useState({revenue:0,customers:0,avgWinRate:0,upAgents:0}),[y,A]=u.useState(!0),[N,D]=u.useState(""),[R,k]=u.useState(!1),[I,L]=u.useState(!1),[C,v]=u.useState(""),[E,q]=u.useState(null),V=S=>`$${Number(S||0).toLocaleString(void 0,{maximumFractionDigits:0})}`,_=x.filter(S=>{const F=S.name.toLowerCase().includes(l.toLowerCase()),M=o==="all"||S.trend===o;return F&&M}).sort((S,F)=>h==="customers"?F.customers-S.customers:h==="winRate"?F.winRate-S.winRate:F.revenue-S.revenue),se=async()=>{try{A(!0);const S=localStorage.getItem("token");if(!S){g([]),D("Please login to load performance.");return}const F=await Nj({period:b},S),M=(F.agents||[]).map(K=>({...K,lastActive:K.lastActive?new Date(K.lastActive).toLocaleString():""}));g(M),f(F.summary||{revenue:0,customers:0,avgWinRate:0,upAgents:0}),D("")}catch(S){console.error("Error loading agent performance:",S),D(S.message||"Failed to load agent performance")}finally{A(!1)}};u.useEffect(()=>{se();const S=setInterval(()=>{document.hidden||se()},12e4);return()=>clearInterval(S)},[b]);const z=async S=>{try{k(!0),L(!0),v(""),q(null);const F=localStorage.getItem("token");if(!F)throw new Error("Please login to view details.");const M=await wj(S.id,{period:b},F);q(M)}catch(F){v(F.message||"Failed to load details")}finally{L(!1)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Agent Performance"}),e.jsxs("span",{className:"count",children:[_.length," agents"]})]}),e.jsxs("div",{className:"view-content",children:[y&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading performance..."}),N&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:N}),!y&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"stats-container",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Revenue"}),e.jsx("div",{className:"amount",children:V(j.revenue)}),e.jsx("p",{className:"change",children:"Across filtered agents"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Active Customers"}),e.jsx("div",{className:"amount",children:j.customers}),e.jsx("p",{className:"change",children:"1+ bets in last 7 days"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Avg. Win Rate"}),e.jsxs("div",{className:"amount",children:[Number(j.avgWinRate||0).toFixed(1),"%"]}),e.jsx("p",{className:"change",children:"Active-customer settled bets"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Trending Up"}),e.jsx("div",{className:"amount",children:j.upAgents}),e.jsx("p",{className:"change",children:"Agents improving"})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Agent"}),e.jsx("input",{type:"text",placeholder:"Search agent",value:l,onChange:S=>r(S.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Trend"}),e.jsxs("select",{value:o,onChange:S=>d(S.target.value),children:[e.jsx("option",{value:"all",children:"All Trends"}),e.jsx("option",{value:"up",children:"Trending Up"}),e.jsx("option",{value:"stable",children:"Stable"}),e.jsx("option",{value:"down",children:"Trending Down"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Sort By"}),e.jsxs("select",{value:h,onChange:S=>p(S.target.value),children:[e.jsx("option",{value:"revenue",children:"Revenue"}),e.jsx("option",{value:"customers",children:"Active Customers"}),e.jsx("option",{value:"winRate",children:"Win Rate"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Period"}),e.jsxs("select",{value:b,onChange:S=>w(S.target.value),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"all",children:"All Time"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agent"}),e.jsx("th",{children:"Tier"}),e.jsx("th",{children:"Revenue"}),e.jsx("th",{children:"Active / Total Customers"}),e.jsx("th",{children:"Win Rate"}),e.jsx("th",{children:"Trend"}),e.jsx("th",{children:"Last Active"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:_.map(S=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:S.name})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${S.tier}`,children:S.tier})}),e.jsx("td",{children:V(S.revenue)}),e.jsxs("td",{children:[S.customers," / ",S.totalCustomers||0]}),e.jsx("td",{children:e.jsxs("div",{className:"win-rate",children:[e.jsx("div",{className:"win-rate-bar",children:e.jsx("div",{className:"win-rate-fill",style:{width:`${Math.min(S.winRate,100)}%`}})}),e.jsxs("span",{className:"win-rate-value",children:[Number(S.winRate||0).toFixed(1),"%"]})]})}),e.jsx("td",{children:e.jsx("span",{className:`trend ${S.trend}`,children:S.trend==="up"?"":S.trend==="down"?"":""})}),e.jsx("td",{children:S.lastActive}),e.jsx("td",{children:e.jsx("div",{className:"table-actions",children:e.jsx("button",{className:"btn-small",onClick:()=>z(S),children:"View Details"})})})]},S.id))})]})})]})]}),R&&e.jsx("div",{className:"modal-overlay",onClick:()=>k(!1),children:e.jsxs("div",{className:"modal-content",style:{width:"min(980px, 95vw)",maxHeight:"86vh",overflowY:"auto"},onClick:S=>S.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsx("h3",{style:{margin:0},children:"Agent Details"}),e.jsx("button",{className:"btn-secondary",onClick:()=>k(!1),children:"Close"})]}),I&&e.jsx("div",{style:{padding:"12px"},children:"Loading details..."}),C&&e.jsx("div",{style:{padding:"12px",color:"red"},children:C}),E&&!I&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"14px",fontWeight:700},children:[E.agent?.name," | Period: ",E.summary?.period?.toUpperCase()]}),e.jsxs("div",{className:"stats-container",style:{marginBottom:"16px"},children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Active Customers"}),e.jsxs("div",{className:"amount",children:[E.summary.activeCustomers," / ",E.summary.totalCustomers]}),e.jsx("p",{className:"change",children:"1+ bets in last 7 days"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Win Rate"}),e.jsxs("div",{className:"amount",children:[Number(E.summary.winRate||0).toFixed(1),"%"]}),e.jsx("p",{className:"change",children:"Settled bets only"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Handle / GGR"}),e.jsxs("div",{className:"amount",children:[V(E.summary.totalRisk)," / ",V(E.summary.ggr)]}),e.jsxs("p",{className:"change",children:["Hold: ",Number(E.summary.holdPct||0).toFixed(1),"%"]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Bets"}),e.jsx("div",{className:"amount",children:E.summary.betsPlaced}),e.jsxs("p",{className:"change",children:["Settled: ",E.summary.settledBets," | Pending: ",E.summary.pendingBets]})]})]}),e.jsxs("div",{className:"table-container",style:{marginBottom:"14px"},children:[e.jsx("h4",{style:{margin:"0 0 8px 0"},children:"Top Customers"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Bets"}),e.jsx("th",{children:"Risk"}),e.jsx("th",{children:"Win Rate"})]})}),e.jsxs("tbody",{children:[(E.topCustomers||[]).map(S=>e.jsxs("tr",{children:[e.jsx("td",{children:S.username}),e.jsx("td",{children:S.bets}),e.jsx("td",{children:V(S.risk)}),e.jsxs("td",{children:[Number(S.winRate||0).toFixed(1),"%"]})]},S.userId)),(!E.topCustomers||E.topCustomers.length===0)&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",children:"No customer performance data for this period."})})]})]})]}),e.jsxs("div",{className:"table-container",children:[e.jsx("h4",{style:{margin:"0 0 8px 0"},children:"Recent Bets"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Accepted"}),e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Selection"}),e.jsx("th",{children:"Risk"}),e.jsx("th",{children:"To Win"}),e.jsx("th",{children:"Status"})]})}),e.jsxs("tbody",{children:[(E.recentBets||[]).map(S=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(S.accepted).toLocaleString()}),e.jsx("td",{children:S.customer}),e.jsx("td",{children:S.type}),e.jsx("td",{children:S.selection}),e.jsx("td",{children:V(S.risk)}),e.jsx("td",{children:V(S.toWin)}),e.jsx("td",{children:e.jsx("span",{className:`badge ${S.status}`,children:S.status})})]},S.id)),(!E.recentBets||E.recentBets.length===0)&&e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"No bets in this period."})})]})]})]})]})]})})]})}function o0(){return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Analysis"})}),e.jsx("div",{className:"view-content",children:e.jsxs("div",{className:"analysis-container",children:[e.jsxs("div",{className:"analysis-card",children:[e.jsx("h3",{children:"Betting Trends"}),e.jsx("p",{children:"Track and analyze betting patterns across all sports and markets."}),e.jsx("button",{className:"btn-small",children:"View Details"})]}),e.jsxs("div",{className:"analysis-card",children:[e.jsx("h3",{children:"Customer Analytics"}),e.jsx("p",{children:"Analyze customer behavior, retention rates, and spending patterns."}),e.jsx("button",{className:"btn-small",children:"View Details"})]}),e.jsxs("div",{className:"analysis-card",children:[e.jsx("h3",{children:"Revenue Analysis"}),e.jsx("p",{children:"Comprehensive revenue breakdown by sport, market, and time period."}),e.jsx("button",{className:"btn-small",children:"View Details"})]}),e.jsxs("div",{className:"analysis-card",children:[e.jsx("h3",{children:"Risk Analysis"}),e.jsx("p",{children:"Identify and assess potential risk factors in betting operations."}),e.jsx("button",{className:"btn-small",children:"View Details"})]})]})})]})}function c0({canManage:l=!0}){const[r,o]=u.useState([]),[d,h]=u.useState(!0),[p,b]=u.useState(""),[w,x]=u.useState(""),[g,j]=u.useState("all"),[f,y]=u.useState(null),[A,N]=u.useState(null),[D,R]=u.useState(!1),k=async()=>{const E=localStorage.getItem("token");if(!E){b("Please login to view IP tracker."),h(!1);return}try{h(!0);const q=await lj({search:w,status:g},E);o(q.logs||[]),b("")}catch(q){console.error("Failed to load IP tracker:",q),b(q.message||"Failed to load IP tracker")}finally{h(!1)}};u.useEffect(()=>{k()},[w,g]);const I=async E=>{const q=localStorage.getItem("token");if(!q){b("Please login to block IPs.");return}if(!l){b("You do not have permission to manage IP actions.");return}try{y(E),await ij(E,q),o(V=>V.map(_=>_.id===E?{..._,status:"blocked"}:_))}catch(V){b(V.message||"Failed to block IP")}finally{y(null)}},L=async E=>{const q=localStorage.getItem("token");if(!q){b("Please login to unblock IPs.");return}if(!l){b("You do not have permission to manage IP actions.");return}try{y(E),await rj(E,q),o(V=>V.map(_=>_.id===E?{..._,status:"active"}:_))}catch(V){b(V.message||"Failed to unblock IP")}finally{y(null)}},C=async E=>{const q=localStorage.getItem("token");if(!q){b("Please login to whitelist IPs.");return}if(!l){b("You do not have permission to manage IP actions.");return}try{y(E),await fj(E,q),o(V=>V.map(_=>_.id===E?{..._,status:"whitelisted"}:_))}catch(V){b(V.message||"Failed to whitelist IP")}finally{y(null)}},v=E=>{N(E),R(!0)};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"IP Tracker"})}),e.jsxs("div",{className:"view-content",children:[d&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading IP logs..."}),p&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:p}),!d&&!p&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Search"}),e.jsx("input",{type:"text",value:w,onChange:E=>x(E.target.value),placeholder:"User or IP"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:g,onChange:E=>j(E.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"blocked",children:"Blocked"})]})]})]}),!l&&e.jsx("div",{style:{marginBottom:"12px",color:"#f59e0b",fontWeight:600},children:"View-only mode: IP actions are disabled by your permissions."}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"IP Address"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Country"}),e.jsx("th",{children:"City"}),e.jsx("th",{children:"Last Active"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:r.map(E=>e.jsxs("tr",{children:[e.jsx("td",{className:"monospace",children:E.ip}),e.jsx("td",{children:E.user}),e.jsx("td",{children:E.country||"Unknown"}),e.jsx("td",{children:E.city||"Unknown"}),e.jsx("td",{children:E.lastActive?new Date(E.lastActive).toLocaleString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${E.status}`,children:E.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>v(E),children:"View"}),E.status==="blocked"?e.jsx("button",{className:"btn-small",onClick:()=>L(E.id),disabled:f===E.id||!l,children:f===E.id?"Working...":"Unblock"}):E.status==="whitelisted"?e.jsx("button",{className:"btn-small",onClick:()=>L(E.id),disabled:f===E.id||!l,children:f===E.id?"Working...":"Un-whitelist"}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn-small btn-danger",onClick:()=>I(E.id),disabled:f===E.id||!l,children:f===E.id?"Working...":"Block"}),e.jsx("button",{className:"btn-small btn-primary",onClick:()=>C(E.id),disabled:f===E.id||!l,style:{marginLeft:"4px",backgroundColor:"#3b82f6"},children:f===E.id?"...":"Whitelist"})]})]})]},E.id))})]})})]})]}),D&&A&&e.jsx("div",{className:"modal-overlay",onClick:()=>R(!1),children:e.jsxs("div",{className:"modal-content",onClick:E=>E.stopPropagation(),children:[e.jsx("h3",{children:"IP Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"IP:"})," ",A.ip]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",A.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Country:"})," ",A.country||"Unknown"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"City:"})," ",A.city||"Unknown"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",A.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Active:"})," ",A.lastActive?new Date(A.lastActive).toLocaleString():""]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User Agent:"})," ",A.userAgent||""]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>R(!1),children:"Close"})})]})})]})}function d0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(""),[x,g]=u.useState("all"),[j,f]=u.useState("all"),[y,A]=u.useState("30d"),[N,D]=u.useState(null),[R,k]=u.useState(!1),I=async()=>{const v=localStorage.getItem("token");if(!v){p("Please login to view transaction history."),d(!1);return}try{d(!0);const E=await il({user:b,type:x,status:j,time:y,limit:200},v);r(E.transactions||[]),p("")}catch(E){console.error("Failed to load transaction history:",E),p(E.message||"Failed to load transaction history")}finally{d(!1)}};u.useEffect(()=>{I()},[b,x,j,y]);const L=v=>{if(v==null)return"";const E=Number(v);return Number.isNaN(E)?"":`$${E.toFixed(2)}`},C=v=>{D(v),k(!0)};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Transactions History"})}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading transactions..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"User"}),e.jsx("input",{type:"text",value:b,onChange:v=>w(v.target.value),placeholder:"Search user"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:x,onChange:v=>g(v.target.value),children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"deposit",children:"Deposit"}),e.jsx("option",{value:"withdrawal",children:"Withdrawal"}),e.jsx("option",{value:"bet_placed",children:"Bet Placed"}),e.jsx("option",{value:"bet_won",children:"Bet Won"}),e.jsx("option",{value:"bet_refund",children:"Bet Refund"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:j,onChange:v=>f(v.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"failed",children:"Failed"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Time"}),e.jsxs("select",{value:y,onChange:v=>A(v.target.value),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:v.type}),e.jsx("td",{children:v.user}),e.jsx("td",{className:v.type==="withdrawal"||v.type==="bet_placed"?"negative":"positive",children:L(v.amount)}),e.jsx("td",{children:v.date?new Date(v.date).toLocaleString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${v.status}`,children:v.status})}),e.jsx("td",{children:e.jsx("button",{className:"btn-small",onClick:()=>C(v),children:"View"})})]},v.id))})]})})]})]}),R&&N&&e.jsx("div",{className:"modal-overlay",onClick:()=>k(!1),children:e.jsxs("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[e.jsx("h3",{children:"Transaction Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",N.type]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",N.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",L(N.amount)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",N.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",N.date?new Date(N.date).toLocaleString():""]}),N.description&&e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",N.description]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>k(!1),children:"Close"})})]})})]})}function u0(){const[l,r]=u.useState([]),[o,d]=u.useState({totalOutstanding:0}),[h,p]=u.useState(!0),[b,w]=u.useState(""),[x,g]=u.useState(null),[j,f]=u.useState([]),[y,A]=u.useState({user:"",status:"all",overdue:"0"}),[N,D]=u.useState(!1),[R,k]=u.useState({userId:"",amount:"",dueDate:"",notes:""}),[I,L]=u.useState(null),[C,v]=u.useState(!1),E=async()=>{const z=localStorage.getItem("token");if(!z){w("Please login to view collections."),p(!1);return}try{p(!0);const S=await oj({user:y.user,status:y.status,overdue:y.overdue,limit:200},z);r(S.collections||[]),d(S.summary||{totalOutstanding:0}),w("")}catch(S){console.error("Failed to load collections:",S),w(S.message||"Failed to load collections")}finally{p(!1)}};u.useEffect(()=>{E()},[y]),u.useEffect(()=>{(async()=>{const S=localStorage.getItem("token");if(S)try{const F=await ol(S);f(Array.isArray(F)?F:[])}catch(F){console.error("Failed to load customers:",F)}})()},[]);const q=async()=>{const z=localStorage.getItem("token");if(!z){w("Please login to create collections.");return}try{D(!0),await gj({userId:R.userId,amount:Number(R.amount)||0,dueDate:R.dueDate||null,notes:R.notes.trim()||null},z),k({userId:"",amount:"",dueDate:"",notes:""}),w(""),E()}catch(S){w(S.message||"Failed to create collection")}finally{D(!1)}},V=async z=>{const S=localStorage.getItem("token");if(!S){w("Please login to collect.");return}try{g(z),await bj(z,S),r(F=>F.map(M=>M.id===z?{...M,status:"collected",attempts:(M.attempts||0)+1,lastAttemptAt:new Date().toISOString()}:M))}catch(F){w(F.message||"Failed to collect")}finally{g(null)}},_=z=>{L(z),v(!0)},se=z=>{if(z==null)return"";const S=Number(z);return Number.isNaN(S)?"":`$${S.toFixed(2)}`};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Collections"}),e.jsxs("p",{className:"count",children:["Total Outstanding: ",se(o.totalOutstanding)]})]}),e.jsxs("div",{className:"view-content",children:[h&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading collections..."}),b&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:b}),!h&&!b&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"User"}),e.jsx("input",{type:"text",value:y.user,onChange:z=>A(S=>({...S,user:z.target.value})),placeholder:"Search user"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:y.status,onChange:z=>A(S=>({...S,status:z.target.value})),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"overdue",children:"Overdue"}),e.jsx("option",{value:"collected",children:"Collected"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Overdue Only"}),e.jsxs("select",{value:y.overdue,onChange:z=>A(S=>({...S,overdue:z.target.value})),children:[e.jsx("option",{value:"0",children:"No"}),e.jsx("option",{value:"1",children:"Yes"})]})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Customer"}),e.jsxs("select",{value:R.userId,onChange:z=>k(S=>({...S,userId:z.target.value})),children:[e.jsx("option",{value:"",children:"Select customer"}),j.map(z=>e.jsx("option",{value:z.id||z._id,children:z.username},z.id||z._id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:R.amount,onChange:z=>k(S=>({...S,amount:z.target.value})),placeholder:"0.00"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Due Date"}),e.jsx("input",{type:"date",value:R.dueDate,onChange:z=>k(S=>({...S,dueDate:z.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:R.notes,onChange:z=>k(S=>({...S,notes:z.target.value})),placeholder:"Optional"})]}),e.jsx("button",{className:"btn-primary",onClick:q,disabled:N||!R.userId||!R.amount,children:N?"Saving...":"Create Collection"})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Due Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Attempts"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(z=>e.jsxs("tr",{children:[e.jsx("td",{children:z.user}),e.jsx("td",{children:se(z.amount)}),e.jsx("td",{children:z.dueDate?new Date(z.dueDate).toLocaleDateString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${z.status}`,children:z.status})}),e.jsx("td",{children:z.attempts||0}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>V(z.id),disabled:z.status==="collected"||x===z.id,children:x===z.id?"Working...":"Collect"}),e.jsx("button",{className:"btn-small",onClick:()=>_(z),children:"View"})]})]},z.id))})]})})]})]}),C&&I&&e.jsx("div",{className:"modal-overlay",onClick:()=>v(!1),children:e.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),children:[e.jsx("h3",{children:"Collection Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",I.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",se(I.amount)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Due Date:"})," ",I.dueDate?new Date(I.dueDate).toLocaleDateString():""]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",I.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Attempts:"})," ",I.attempts||0]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Attempt:"})," ",I.lastAttemptAt?new Date(I.lastAttemptAt).toLocaleString():""]}),I.notes&&e.jsxs("p",{children:[e.jsx("strong",{children:"Notes:"})," ",I.notes]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>v(!1),children:"Close"})})]})})]})}function h0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState({user:"",sport:"all",status:"all",time:"30d"}),[x,g]=u.useState(null),[j,f]=u.useState(null),[y,A]=u.useState(!1),N=async()=>{const I=localStorage.getItem("token");if(!I){p("Please login to view deleted wagers."),d(!1);return}try{d(!0);const L=await cj(b,I);r(L.wagers||[]),p("")}catch(L){console.error("Failed to load deleted wagers:",L),p(L.message||"Failed to load deleted wagers")}finally{d(!1)}};u.useEffect(()=>{N()},[b]);const D=async I=>{const L=localStorage.getItem("token");if(!L){p("Please login to restore wagers.");return}try{g(I),await dj(I,L),r(C=>C.map(v=>v.id===I?{...v,status:"restored",restoredAt:new Date().toISOString()}:v))}catch(C){p(C.message||"Failed to restore wager")}finally{g(null)}},R=I=>{f(I),A(!0)},k=I=>{if(I==null)return"";const L=Number(I);return Number.isNaN(L)?"":`$${L.toFixed(2)}`};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Deleted Wagers"})}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading deleted wagers..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"User"}),e.jsx("input",{type:"text",value:b.user,onChange:I=>w(L=>({...L,user:I.target.value})),placeholder:"Search user"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Sport"}),e.jsxs("select",{value:b.sport,onChange:I=>w(L=>({...L,sport:I.target.value})),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"NBA",children:"NBA"}),e.jsx("option",{value:"NFL",children:"NFL"}),e.jsx("option",{value:"MLB",children:"MLB"}),e.jsx("option",{value:"NHL",children:"NHL"}),e.jsx("option",{value:"Soccer",children:"Soccer"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:b.status,onChange:I=>w(L=>({...L,status:I.target.value})),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"deleted",children:"Deleted"}),e.jsx("option",{value:"restored",children:"Restored"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Time"}),e.jsxs("select",{value:b.time,onChange:I=>w(L=>({...L,time:I.target.value})),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Sport"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Reason"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(I=>e.jsxs("tr",{children:[e.jsx("td",{children:I.user}),e.jsx("td",{children:k(I.amount)}),e.jsx("td",{children:I.sport}),e.jsx("td",{children:I.deletedAt?new Date(I.deletedAt).toLocaleDateString():""}),e.jsx("td",{children:I.reason}),e.jsx("td",{children:e.jsx("span",{className:`badge ${I.status}`,children:I.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>R(I),children:"View"}),e.jsx("button",{className:"btn-small",onClick:()=>D(I.id),disabled:I.status==="restored"||x===I.id,children:x===I.id?"Working...":"Restore"})]})]},I.id))})]})})]})]}),y&&j&&e.jsx("div",{className:"modal-overlay",onClick:()=>A(!1),children:e.jsxs("div",{className:"modal-content",onClick:I=>I.stopPropagation(),children:[e.jsx("h3",{children:"Deleted Wager Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",j.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",k(j.amount)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sport:"})," ",j.sport]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Reason:"})," ",j.reason]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",j.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Deleted At:"})," ",j.deletedAt?new Date(j.deletedAt).toLocaleString():""]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Restored At:"})," ",j.restoredAt?new Date(j.restoredAt).toLocaleString():""]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>A(!1),children:"Close"})})]})})]})}function m0(){const[l,r]=u.useState("game"),[o,d]=u.useState("all"),[h,p]=u.useState([]),[b,w]=u.useState(!1),[x,g]=u.useState([]),[j,f]=u.useState(!0),[y,A]=u.useState(""),[N,D]=u.useState(""),[R,k]=u.useState(!1),[I,L]=u.useState({homeTeam:"",awayTeam:"",startTime:"",sport:"basketball",status:"scheduled"}),C=600,v=[{id:"nfl",label:"NFL",icon:""},{id:"nba",label:"NBA",icon:""},{id:"mlb",label:"MLB",icon:""},{id:"nhl",label:"NHL",icon:""},{id:"soccer",label:"Soccer",icon:""},{id:"tennis",label:"Tennis",icon:""},{id:"golf",label:"Golf",icon:""},{id:"boxing",label:"Boxing",icon:""},{id:"esports",label:"Esports",icon:""},{id:"props",label:"Props",icon:""},{id:"futures",label:"Futures",icon:""},{id:"contests",label:"Contests",icon:""}],E=G=>{p(re=>re.includes(G)?re.filter(je=>je!==G):[...re,G])},q=[{header:"Period",key:"period"},{header:"Game",key:"game"},{header:"Time",key:"time"},{header:"Event",key:"event"},{header:"Spread",key:"spread"},{header:"Moneyline",key:"moneyline"},{header:"Total",key:"total"},{header:"Team Total",key:"teamTotal"},{header:"OS",key:"os"},{header:"US",key:"us"}],V=async()=>{const G=localStorage.getItem("token");if(!G){A("Please login to load games."),f(!1);return}try{f(!0);const re=await hl(G);g(re||[]),A("")}catch(re){console.error("Failed to load matches:",re),A(re.message||"Failed to load matches")}finally{f(!1)}};u.useEffect(()=>{V()},[]);const _=G=>{if(!G?.startTime)return o==="all";if(o==="all")return!0;const re=new Date(G.startTime),je=new Date,ee=new Date(je.getFullYear(),je.getMonth(),je.getDate()),B=new Date(ee.getTime()+1440*60*1e3),Q=new Date(B.getTime()+1440*60*1e3),ne=new Date(ee.getTime()+10080*60*1e3);return o==="today"?re>=ee&&re<B:o==="tomorrow"?re>=B&&re<Q:o==="this-week"?re>=ee&&re<ne:!0},se=G=>l==="game"?!0:G?.status===l,z=G=>{if(!h.length)return!0;const re=String(G?.sport||"").toLowerCase();return h.includes(re)},S=x.filter(_).filter(se).filter(z);u.useEffect(()=>{!j&&S.length===0&&w(!0)},[j,S.length]);const F=async()=>{const G=localStorage.getItem("token");if(!G){A("Please login to add games.");return}try{D("add"),await vp({homeTeam:I.homeTeam.trim(),awayTeam:I.awayTeam.trim(),startTime:I.startTime,sport:I.sport,status:I.status},G),L({homeTeam:"",awayTeam:"",startTime:"",sport:"basketball",status:"scheduled"}),k(!1),V()}catch(re){A(re.message||"Failed to add game")}finally{D("")}},M=async()=>{const G=localStorage.getItem("token");if(!G){A("Please login to update odds.");return}try{const re=Date.now();D("odds"),await wp(G),V()}catch(re){A(re.message||"Failed to update odds")}finally{const re=Date.now()-startedAt;re<C&&await new Promise(je=>setTimeout(je,C-re)),D("")}},K=async()=>{const G=localStorage.getItem("token");if(!G){A("Please login to clear cache.");return}try{D("cache"),await xj(G)}catch(re){A(re.message||"Failed to clear cache")}finally{D("")}},H=async G=>{const re=localStorage.getItem("token");if(!re){A("Please login to settle matches.");return}const je=window.prompt(`Set winner for ${G.homeTeam} vs ${G.awayTeam}. Type "home" or "away":`,"home");if(!je)return;const ee=je.trim().toLowerCase();if(ee!=="home"&&ee!=="away"){A('Winner must be "home" or "away".');return}const B=ee==="home"?G.homeTeam:G.awayTeam;try{D(`settle-${G.id||G._id}`),await vj({matchId:G.id||G._id,winner:B},re),await V(),A(""),alert("Match settled successfully.")}catch(Q){A(Q.message||"Failed to settle match")}finally{D("")}};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Games & Events Management"})}),N==="odds"&&Cd.createPortal(e.jsx("div",{className:"admin-loading-overlay",children:e.jsxs("div",{className:"admin-loading-card",children:[e.jsx("div",{className:"admin-spinner"}),e.jsx("div",{children:"Refreshing odds & scores..."})]})}),document.body),e.jsxs("div",{className:"view-content",children:[j&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading games..."}),y&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:y}),!j&&!y&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"games-controls",children:[e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Period:"}),e.jsxs("select",{value:l,onChange:G=>r(G.target.value),children:[e.jsx("option",{value:"game",children:"Game"}),e.jsx("option",{value:"live",children:"Live"}),e.jsx("option",{value:"finished",children:"Finished"}),e.jsx("option",{value:"scheduled",children:"Scheduled"})]})]}),e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Games to show:"}),e.jsxs("select",{value:o,onChange:G=>d(G.target.value),children:[e.jsx("option",{value:"all",children:"All Games"}),e.jsx("option",{value:"today",children:"Today Only"}),e.jsx("option",{value:"tomorrow",children:"Tomorrow"}),e.jsx("option",{value:"this-week",children:"This Week"})]})]})]}),e.jsx("div",{className:"sports-icons-container",children:v.map(G=>e.jsxs("button",{className:`sport-icon-btn ${h.includes(G.id)?"active":""}`,onClick:()=>E(G.id),title:G.label,children:[e.jsx("span",{className:"icon",children:G.icon}),e.jsx("span",{className:"dropdown-arrow",children:""})]},G.id))}),!b&&e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"data-table events-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[q.map(G=>e.jsx("th",{children:G.header},G.key)),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:S.map(G=>e.jsxs("tr",{children:[e.jsx("td",{children:G.status||"scheduled"}),e.jsxs("td",{children:[G.homeTeam," vs ",G.awayTeam]}),e.jsx("td",{children:G.startTime?new Date(G.startTime).toLocaleString():""}),e.jsx("td",{children:G.sport||""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:e.jsx("button",{className:"btn-small",onClick:()=>H(G),disabled:N===`settle-${G.id||G._id}`,children:N===`settle-${G.id||G._id}`?"Settling...":"Settle"})})]},G.id||G._id))})]})}),b&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content no-events-modal",children:[e.jsx("button",{className:"modal-close",onClick:()=>w(!1),children:""}),e.jsx("h3",{children:"Today there aren't any event's"}),e.jsx("p",{children:"There are no games for today, would you like to view the Full Board?"}),e.jsxs("div",{className:"modal-buttons",children:[e.jsx("button",{className:"btn-success",onClick:()=>{w(!1),d("all")},children:"Yes"}),e.jsx("button",{className:"btn-danger",onClick:()=>w(!1),children:"No"})]})]})}),e.jsxs("div",{className:"game-status-legend",children:[e.jsx("h4",{children:"Status Legend:"}),e.jsxs("div",{className:"legend-items",children:[e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"status-badge live",children:"Live"}),e.jsx("span",{children:"Game is currently in progress"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"status-badge scheduled",children:"Scheduled"}),e.jsx("span",{children:"Game is scheduled for future date"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"status-badge finished",children:"Finished"}),e.jsx("span",{children:"Game has ended"})]})]})]}),e.jsxs("div",{className:"quick-actions",children:[e.jsx("h4",{children:"Quick Actions:"}),e.jsx("button",{className:"btn-primary",onClick:()=>k(!0),children:"Add Game"}),e.jsx("button",{className:"btn-secondary",onClick:M,disabled:N==="odds",children:N==="odds"?e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{className:"admin-inline-spinner"})," Working..."]}):"Import Games"}),e.jsx("button",{className:"btn-secondary",onClick:M,disabled:N==="odds",children:N==="odds"?e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{className:"admin-inline-spinner"})," Working..."]}):"Update Odds"}),e.jsx("button",{className:"btn-danger",onClick:K,disabled:N==="cache",children:N==="cache"?"Working...":"Clear Cache"})]})]})]}),R&&e.jsx("div",{className:"modal-overlay",onClick:()=>k(!1),children:e.jsxs("div",{className:"modal-content",onClick:G=>G.stopPropagation(),children:[e.jsx("h3",{children:"Add Game"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Home Team"}),e.jsx("input",{type:"text",value:I.homeTeam,onChange:G=>L(re=>({...re,homeTeam:G.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Away Team"}),e.jsx("input",{type:"text",value:I.awayTeam,onChange:G=>L(re=>({...re,awayTeam:G.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Start Time"}),e.jsx("input",{type:"datetime-local",value:I.startTime,onChange:G=>L(re=>({...re,startTime:G.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Sport"}),e.jsxs("select",{value:I.sport,onChange:G=>L(re=>({...re,sport:G.target.value})),children:[e.jsx("option",{value:"basketball",children:"Basketball"}),e.jsx("option",{value:"football",children:"Football"}),e.jsx("option",{value:"baseball",children:"Baseball"}),e.jsx("option",{value:"hockey",children:"Hockey"}),e.jsx("option",{value:"soccer",children:"Soccer"}),e.jsx("option",{value:"tennis",children:"Tennis"}),e.jsx("option",{value:"golf",children:"Golf"}),e.jsx("option",{value:"boxing",children:"Boxing"}),e.jsx("option",{value:"esports",children:"Esports"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:I.status,onChange:G=>L(re=>({...re,status:G.target.value})),children:[e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"live",children:"Live"}),e.jsx("option",{value:"finished",children:"Finished"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>k(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:F,disabled:N==="add"||!I.homeTeam.trim()||!I.awayTeam.trim()||!I.startTime,children:N==="add"?"Saving...":"Add Game"})]})]})})]})}function f0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(!1),[x,g]=u.useState(null),[j,f]=u.useState(null),[y,A]=u.useState({name:"",url:"",status:"active",notes:""}),[N,D]=u.useState(!1),R=async()=>{const E=localStorage.getItem("token");if(!E){p("Please login to view sportsbook links."),d(!1);return}try{d(!0);const q=await uj(E);r(q.links||[]),p("")}catch(q){console.error("Failed to load sportsbook links:",q),p(q.message||"Failed to load sportsbook links")}finally{d(!1)}};u.useEffect(()=>{R()},[]);const k=()=>{g(null),A({name:"",url:"",status:"active",notes:""}),w(!0)},I=E=>{g(E),A({name:E.name,url:E.url,status:E.status,notes:E.notes||""}),w(!0)},L=E=>{g(E),D(!0)},C=async()=>{const E=localStorage.getItem("token");if(!E){p("Please login to save links.");return}try{f(x?.id||"new"),x?await mj(x.id,y,E):await hj(y,E),w(!1),R()}catch(q){p(q.message||"Failed to save link")}finally{f(null)}},v=async E=>{const q=localStorage.getItem("token");if(!q){p("Please login to test links.");return}try{f(E);const V=await pj(E,q);r(_=>_.map(se=>se.id===E?{...se,lastSync:V.lastSync}:se))}catch(V){p(V.message||"Failed to test link")}finally{f(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Sportsbook Links"}),e.jsx("button",{className:"btn-primary",onClick:k,children:"Add New Link"})]}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading links..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Provider Name"}),e.jsx("th",{children:"API URL"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last Sync"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(E=>e.jsxs("tr",{children:[e.jsx("td",{children:E.name}),e.jsx("td",{className:"monospace",children:E.url}),e.jsx("td",{children:e.jsx("span",{className:`badge ${E.status}`,children:E.status})}),e.jsx("td",{children:E.lastSync?new Date(E.lastSync).toLocaleString():""}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>I(E),children:"Edit"}),e.jsx("button",{className:"btn-small",onClick:()=>v(E.id),disabled:j===E.id,children:j===E.id?"Working...":"Test"}),e.jsx("button",{className:"btn-small",onClick:()=>L(E),children:"View"})]})]},E.id))})]})})]}),b&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:E=>E.stopPropagation(),children:[e.jsx("h3",{children:x?"Edit Link":"Add Link"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",value:y.name,onChange:E=>A(q=>({...q,name:E.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"URL"}),e.jsx("input",{type:"text",value:y.url,onChange:E=>A(q=>({...q,url:E.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:y.status,onChange:E=>A(q=>({...q,status:E.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:y.notes,onChange:E=>A(q=>({...q,notes:E.target.value})),placeholder:"Optional"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:C,disabled:j||!y.name.trim()||!y.url.trim(),children:j?"Saving...":"Save"})]})]})}),N&&x&&e.jsx("div",{className:"modal-overlay",onClick:()=>D(!1),children:e.jsxs("div",{className:"modal-content",onClick:E=>E.stopPropagation(),children:[e.jsx("h3",{children:"Link Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",x.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"URL:"})," ",x.url]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",x.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Sync:"})," ",x.lastSync?new Date(x.lastSync).toLocaleString():""]}),x.notes&&e.jsxs("p",{children:[e.jsx("strong",{children:"Notes:"})," ",x.notes]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>D(!1),children:"Close"})})]})})]})}function p0(){const[l,r]=u.useState([]),[o,d]=u.useState("all"),[h,p]=u.useState(!0),b=async()=>{try{const x=localStorage.getItem("token");if(!x)return;const g=await Ed({},x);if(g&&Array.isArray(g.bets)){const j=g.bets.map(f=>({id:f._id||f.id,user:f.userId?.username||"Unknown",type:f.matchSnapshot?.status==="live"?"LIVE":"UPCOMING",match:f.description||(f.matchSnapshot?`${f.matchSnapshot.homeTeam} vs ${f.matchSnapshot.awayTeam}`:"Unknown Match"),bet:`${f.selection} @ ${parseFloat(f.odds).toFixed(2)}`,amount:`$${parseFloat(f.amount).toFixed(2)}`,odds:parseFloat(f.odds).toFixed(2),time:new Date(f.createdAt).toLocaleTimeString(),status:f.matchSnapshot?.status==="live"?"LIVE":"UPCOMING",originalStatus:f.status}));r(j)}}catch(x){console.error("Failed to fetch admin bets:",x)}finally{p(!1)}};u.useEffect(()=>{b();const x=setInterval(()=>{document.hidden||b()},45e3);return()=>clearInterval(x)},[]);const w=o==="all"?l:l.filter(x=>x.type.toLowerCase()===o.toLowerCase());return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Live Bet Ticker"}),e.jsxs("div",{className:"ticker-filter",children:[e.jsx("button",{className:o==="all"?"active":"",onClick:()=>d("all"),children:"All Bets"}),e.jsx("button",{className:o==="live"?"active":"",onClick:()=>d("live"),children:" Live"}),e.jsx("button",{className:o==="upcoming"?"active":"",onClick:()=>d("upcoming"),children:" Upcoming"})]})]}),e.jsxs("div",{className:"view-content",children:[e.jsx("div",{className:"ticker-container",children:e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"ticker-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Status"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Match"}),e.jsx("th",{children:"Bet Details"}),e.jsx("th",{children:"Odds"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"Loading bets..."})}):w.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"No bets found"})}):w.map(x=>e.jsxs("tr",{className:`ticker-row ${x.status.toLowerCase()}`,children:[e.jsx("td",{children:e.jsx("span",{className:`status-badge ${x.status.toLowerCase()}`,children:x.status==="LIVE"?" LIVE":" UPCOMING"})}),e.jsx("td",{children:e.jsx("strong",{children:x.user})}),e.jsx("td",{className:"match-cell",children:x.match}),e.jsx("td",{className:"bet-cell",children:x.bet}),e.jsx("td",{className:"odds-cell",children:e.jsx("span",{className:"odds-highlight",children:x.odds})}),e.jsx("td",{className:"amount-cell",children:e.jsx("strong",{children:x.amount})}),e.jsx("td",{children:x.time}),e.jsx("td",{children:e.jsx("button",{className:"btn-tiny",children:"Details"})})]},x.id))})]})})}),e.jsxs("div",{className:"ticker-summary",children:[e.jsxs("div",{className:"summary-stat",children:[e.jsx("span",{className:"label",children:"Live Bets"}),e.jsx("span",{className:"value",children:l.filter(x=>x.status==="LIVE").length})]}),e.jsxs("div",{className:"summary-stat",children:[e.jsx("span",{className:"label",children:"Total Wagered"}),e.jsxs("span",{className:"value",children:["$",l.reduce((x,g)=>x+parseFloat(g.amount.replace("$","")),0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{className:"summary-stat",children:[e.jsx("span",{className:"label",children:"Avg Odds"}),e.jsx("span",{className:"value",children:l.length>0?(l.reduce((x,g)=>x+parseFloat(g.odds),0)/l.length).toFixed(2):"0.00"})]})]})]})]})}function x0(){const[l,r]=u.useState({betType:"straight",matchId:"",selection:"",odds:"1.90",amount:"50",userId:""}),[o,d]=u.useState([]),[h,p]=u.useState([]),[b,w]=u.useState(!0),[x,g]=u.useState(""),[j,f]=u.useState(!1),y=N=>{const{name:D,value:R}=N.target;r(k=>({...k,[D]:R}))},A=async N=>{N.preventDefault();const D=localStorage.getItem("token");if(!D){g("Please login to create tickets.");return}try{f(!0),await Tj({userId:l.userId,matchId:l.matchId,amount:Number(l.amount)||0,odds:Number(l.odds)||0,type:l.betType,selection:l.selection.trim(),status:"pending"},D),r({betType:"straight",matchId:"",selection:"",odds:"1.90",amount:"50",userId:""}),g("")}catch(R){console.error("Ticket creation failed:",R),g(R.message||"Failed to create ticket")}finally{f(!1)}};return u.useEffect(()=>{(async()=>{const D=localStorage.getItem("token");if(!D){g("Please login to load ticket data."),w(!1);return}try{w(!0);const[R,k]=await Promise.all([hl(D),ol(D)]);d(Array.isArray(R)?R:[]),p(Array.isArray(k)?k:[]),g("")}catch(R){console.error("Failed to load ticket data:",R),g(R.message||"Failed to load ticket data")}finally{w(!1)}})()},[]),e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Ticket Writer"}),e.jsx("p",{className:"subtitle",children:"Create custom betting tickets"})]}),e.jsxs("div",{className:"view-content",children:[b&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading ticket data..."}),x&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:x}),!b&&!x&&e.jsx("div",{className:"form-container",children:e.jsxs("form",{onSubmit:A,className:"admin-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Ticket Details"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer:"}),e.jsxs("select",{name:"userId",value:l.userId,onChange:y,required:!0,children:[e.jsx("option",{value:"",children:"Select customer"}),h.map(N=>e.jsx("option",{value:N.id||N._id,children:N.username},N.id||N._id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bet Type:"}),e.jsxs("select",{name:"betType",value:l.betType,onChange:y,children:[e.jsx("option",{value:"straight",children:"Straight"}),e.jsx("option",{value:"parlay",children:"Parlay"}),e.jsx("option",{value:"teaser",children:"Teaser"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Match:"}),e.jsxs("select",{name:"matchId",value:l.matchId,onChange:y,required:!0,children:[e.jsx("option",{value:"",children:"Select match"}),o.map(N=>e.jsxs("option",{value:N.id||N._id,children:[N.homeTeam," vs ",N.awayTeam]},N.id||N._id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Selection:"}),e.jsx("input",{type:"text",name:"selection",value:l.selection,onChange:y,placeholder:"e.g., Lakers to win",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Odds:"}),e.jsx("input",{type:"number",name:"odds",value:l.odds,onChange:y,placeholder:"e.g., 1.95",step:"0.01",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bet Amount:"}),e.jsx("input",{type:"number",name:"amount",value:l.amount,onChange:y,placeholder:"e.g., 100",step:"0.01",required:!0})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:j,children:j?"Saving...":"Create Ticket"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>r({betType:"straight",matchId:"",selection:"",odds:"1.90",amount:"50",userId:""}),children:"Clear"})]})]})})]})]})}function g0(){const[l,r]=u.useState("all"),[o,d]=u.useState([]),[h,p]=u.useState(!0),[b,w]=u.useState(""),[x,g]=u.useState(null),[j,f]=u.useState(!1),[y,A]=u.useState({scoreHome:"",scoreAway:"",status:"scheduled"}),[N,D]=u.useState(!1),R=async()=>{const v=localStorage.getItem("token");if(!v){w("Please login to view scores."),p(!1);return}try{p(!0);const E=await hl(v);d(E||[]),w("")}catch(E){console.error("Failed to load matches:",E),w(E.message||"Failed to load matches")}finally{p(!1)}};u.useEffect(()=>{R()},[]);const k=l==="all"?o:o.filter(v=>String(v.sport||"").toLowerCase()===l.toLowerCase()),I=v=>{const E=v.score?.score_home??v.score?.scoreHome??"",q=v.score?.score_away??v.score?.scoreAway??"";g(v),A({scoreHome:E===0?0:E,scoreAway:q===0?0:q,status:v.status||"scheduled"}),f(!0)},L=async()=>{const v=localStorage.getItem("token");if(!v){w("Please login to update scores.");return}try{D(!0),await Np(x.id||x._id,{status:y.status,score:{scoreHome:Number(y.scoreHome)||0,scoreAway:Number(y.scoreAway)||0},lastUpdated:new Date},v),f(!1),R()}catch(E){w(E.message||"Failed to update score")}finally{D(!1)}},C=v=>v.status||"scheduled";return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Featured Matches & Scores"}),e.jsxs("div",{className:"sport-filter",children:[e.jsx("button",{className:l==="all"?"active":"",onClick:()=>r("all"),children:"All Sports"}),e.jsx("button",{className:l==="soccer"?"active":"",onClick:()=>r("soccer"),children:" Soccer"}),e.jsx("button",{className:l==="basketball"?"active":"",onClick:()=>r("basketball"),children:" NBA"}),e.jsx("button",{className:l==="tennis"?"active":"",onClick:()=>r("tennis"),children:" Tennis"}),e.jsx("button",{className:l==="football"?"active":"",onClick:()=>r("football"),children:" Football"})]})]}),e.jsxs("div",{className:"view-content",children:[h&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading scores..."}),b&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:b}),!h&&!b&&e.jsx("div",{className:"filtered-matches-section",children:e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"data-table live-matches-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Match"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Score"}),e.jsx("th",{children:"Odds"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:k.map(v=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("strong",{children:[v.homeTeam," vs ",v.awayTeam]})}),e.jsx("td",{children:v.startTime?new Date(v.startTime).toLocaleString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${C(v)}`,children:C(v)})}),e.jsxs("td",{children:[v.score?.score_home??v.score?.scoreHome??0," - ",v.score?.score_away??v.score?.scoreAway??0]}),e.jsx("td",{children:v.odds?JSON.stringify(v.odds):""}),e.jsx("td",{children:e.jsx("button",{className:"btn-small",onClick:()=>I(v),children:"Update"})})]},v.id||v._id))})]})})})]}),j&&x&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[e.jsx("h3",{children:"Update Score"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Home Score"}),e.jsx("input",{type:"number",value:y.scoreHome,onChange:v=>A(E=>({...E,scoreHome:v.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Away Score"}),e.jsx("input",{type:"number",value:y.scoreAway,onChange:v=>A(E=>({...E,scoreAway:v.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:y.status,onChange:v=>A(E=>({...E,status:v.target.value})),children:[e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"live",children:"Live"}),e.jsx("option",{value:"finished",children:"Finished"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>f(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:L,disabled:N,children:N?"Saving...":"Save"})]})]})})]})}const qf={updateInfo:!0,suspendWagering:!0,enterDepositsWithdrawals:!0,deleteTransactions:!0,enterBettingAdjustments:!0,moveAccounts:!0,addAccounts:!0,changeCreditLimit:!0,setMinBet:!0,changeWagerLimit:!0,adjustParlayTeaser:!0,setGlobalTeamLimit:!0,maxWagerSetup:!0,allowDeny:!0,juiceSetup:!0,changeTempCredit:!0,changeSettleFigure:!0,views:Object.values(Op).reduce((l,r)=>(l[r]=!0,l),{}),ipTracker:{manage:!0}},Gf={dashboard:"Dashboard",weeklyFigures:"Weekly Figures",pending:"Pending",messaging:"Messaging",gameAdmin:"Game Admin",customerAdmin:"Customer Admin",agentManager:"Agent Management",cashier:"Cashier",addCustomer:"Add Customer",thirdPartyLimits:"3rd Party Limits",props:"Props / Betting",agentPerformance:"Agent Performance",analysis:"Analysis",ipTracker:"IP Tracker",transactionsHistory:"Transactions History",collections:"Collections",deletedWagers:"Deleted Wagers",gamesEvents:"Games & Events",sportsbookLinks:"Sportsbook Links",betTicker:"Bet Ticker",ticketwriter:"TicketWriter",scores:"Scores",masterAgentAdmin:"Master Agent Admin",billing:"Billing",settings:"Settings",monitor:"System Monitor",rules:"Rules",feedback:"Feedback",faq:"FAQ",userManual:"User Manual",profile:"Profile"},Ip=(l,r)=>{if(!r||typeof r!="object")return l;const o={...l};return Object.keys(r).forEach(d=>{const h=r[d];h&&typeof h=="object"&&!Array.isArray(h)?o[d]=Ip(l[d]||{},h):o[d]=h}),o};function Fp({agent:l,onClose:r,onUpdate:o}){const[d,h]=u.useState(qf),[p,b]=u.useState(!1);u.useEffect(()=>{l&&h(Ip(qf,l.permissions||{}))},[l]);const w=y=>{h(A=>({...A,[y]:!A[y]}))},x=(y,A)=>{h(N=>({...N,[y]:{...N[y]||{},[A]:!N?.[y]?.[A]}}))},g=async()=>{b(!0);try{const y=localStorage.getItem("token");await Sj(l.id||l._id,d,y),alert("Permissions updated successfully"),o&&o(),r()}catch(y){console.error("Error updating permissions:",y),alert("Failed to update permissions: "+y.message)}finally{b(!1)}},j=(y,A)=>e.jsx("div",{className:"permission-item",children:e.jsxs("label",{className:"checkbox-container",children:[e.jsx("input",{type:"checkbox",checked:d[y],onChange:()=>w(y)}),e.jsx("span",{className:"checkmark"}),A]})},y),f=(y,A,N)=>e.jsx("div",{className:"permission-item",children:e.jsxs("label",{className:"checkbox-container",children:[e.jsx("input",{type:"checkbox",checked:!!d?.[y]?.[A],onChange:()=>x(y,A)}),e.jsx("span",{className:"checkmark"}),N]})},`${y}.${A}`);return e.jsxs("div",{className:"modal-overlay",children:[e.jsxs("div",{className:"modal-content permission-modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:["Permissions: ",l.username]}),e.jsx("button",{className:"close-btn",onClick:r,children:""})]}),e.jsxs("div",{className:"scrollable-content",children:[e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"General Account Setup"}),j("updateInfo","Update Info"),j("suspendWagering","Suspend Wagering"),j("enterDepositsWithdrawals","Enter Deposits / Withdrawals"),j("deleteTransactions","Delete Transactions"),j("enterBettingAdjustments","Enter Betting Adjustments"),j("moveAccounts","Move Accounts"),j("addAccounts","Add Accounts")]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Limit And Sport Setup"}),j("changeCreditLimit","Change Credit Limit"),j("setMinBet","Set Minimum Bet Amount"),j("changeWagerLimit","Change Wager Limit"),j("adjustParlayTeaser","Adjust Parlay/Teaser Setup"),j("setGlobalTeamLimit","Set Global Team Limit"),j("maxWagerSetup","Max Wager Setup"),j("allowDeny","Allow / Deny"),j("juiceSetup","Juice Setup"),j("changeTempCredit","Change Temp Credit"),j("changeSettleFigure","Change Settle Figure")]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Dashboard Access"}),Object.keys(Gf).map(y=>f("views",y,Gf[y]))]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"IP Tracker Actions"}),f("ipTracker","manage","Allow Block / Unblock / Whitelist")]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn-secondary",onClick:r,disabled:p,children:"Cancel"}),e.jsx("button",{className:"btn-primary",onClick:g,disabled:p,children:p?"Saving...":"Save"})]})]}),e.jsx("style",{children:`
        .permission-modal {
            width: 500px;
            max-width: 90vw;
            display: flex;
            flex-direction: column;
            max-height: 80vh;
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #333;
            padding-bottom: 1rem;
            margin-bottom: 1rem;
        }
        .close-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 1.5rem;
            cursor: pointer;
        }
        .scrollable-content {
            overflow-y: auto;
            flex: 1;
            padding-right: 0.5rem;
        }
        .section {
            margin-bottom: 1.5rem;
        }
        .section h4 {
            color: #ccc;
            border-bottom: 1px solid #444;
            padding-bottom: 0.5rem;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        .permission-item {
            margin-bottom: 0.5rem;
        }
        .checkbox-container {
            display: block;
            position: relative;
            padding-left: 30px;
            margin-bottom: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            user-select: none;
            color: #eee;
        }
        .checkbox-container input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }
        .checkmark {
            position: absolute;
            top: 2px;
            left: 0;
            height: 18px;
            width: 18px;
            background-color: #eee;
            border-radius: 3px;
        }
        .checkbox-container:hover input ~ .checkmark {
            background-color: #ccc;
        }
        .checkbox-container input:checked ~ .checkmark {
            background-color: #e67e22; /* Warning/Orange color often used in betting apps */
        }
        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
        }
        .checkbox-container input:checked ~ .checkmark:after {
            display: block;
        }
        .checkbox-container .checkmark:after {
            left: 6px;
            top: 2px;
            width: 4px;
            height: 9px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }
        .modal-footer {
            border-top: 1px solid #333;
            padding-top: 1rem;
            margin-top: 1rem;
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }
      `})]})}function Wf(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,p]=u.useState(!1),[b,w]=u.useState(!1),[x,g]=u.useState(!1),[j,f]=u.useState(!1),[y,A]=u.useState(null),[N,D]=u.useState({username:"",phoneNumber:"",password:"",agentPrefix:""}),[R,k]=u.useState({id:"",phoneNumber:"",password:"",agentBillingRate:"",agentBillingStatus:"paid"}),[I,L]=u.useState(null),[C,v]=u.useState("all"),[E,q]=u.useState(!1),V=l.filter(ee=>C==="all"?!0:C==="admin"?ee.createdByModel==="Admin":C==="master_agent"?ee.createdByModel==="Agent":!0),_=ee=>{if(ee==null||ee==="")return"";const B=Number(ee);return Number.isNaN(B)?"":`$${B.toFixed(2)}`};ys.useEffect(()=>{se()},[]);const se=async()=>{try{const ee=localStorage.getItem("token");if(!ee)return;const B=await mi(ee);r(B||[]),L(null)}catch(ee){console.error("Failed to fetch agents:",ee),L(ee.message||"Failed to fetch agents")}finally{d(!1)}},z=async ee=>{const B=ee.toUpperCase();if(D(Q=>({...Q,agentPrefix:B})),B.length>=2){const Q=localStorage.getItem("token");try{const{nextUsername:ne}=await qa(B,Q,{suffix:"MA",type:"agent"});D(Z=>({...Z,username:ne}))}catch(ne){console.error("Failed to get next username from prefix:",ne)}}else D(Q=>({...Q,username:""}))},S=async ee=>{ee.preventDefault();try{const B=localStorage.getItem("token");if(!B)throw new Error("No token found");await Pr(N,B),alert("Master Agent created successfully"),p(!1),D({username:"",phoneNumber:"",password:"",agentPrefix:""}),se()}catch(B){console.error("Agent creation error:",B),alert("Failed to create agent: "+B.message)}},F=async ee=>{const B=ee.status==="suspended",Q=B?"unsuspend":"suspend";if(window.confirm(`Are you sure you want to ${Q} ${ee.username}?`))try{const ne=localStorage.getItem("token");B?await Ep(ee.id||ee._id,ne):await Ap(ee.id||ee._id,ne),se()}catch(ne){alert(`Failed to ${Q} agent: `+ne.message)}},M=ee=>{k({id:ee.id||ee._id,phoneNumber:ee.phoneNumber||"",password:"",agentBillingRate:ee.agentBillingRate??"",agentBillingStatus:ee.agentBillingStatus||"paid"}),A(ee),w(!0)},K=async ee=>{ee.preventDefault();try{const B=localStorage.getItem("token");if(!B)throw new Error("No token found");const Q={phoneNumber:R.phoneNumber,agentBillingRate:R.agentBillingRate,agentBillingStatus:R.agentBillingStatus};R.password&&(Q.password=R.password),await md(R.id,Q,B),alert("Agent updated successfully"),w(!1),se()}catch(B){console.error("Update Error:",B),alert("Failed to update agent: "+B.message)}},H=ee=>{A(ee),g(!0)},G=async ee=>{const B=ee.id||ee._id,Q=ee.balance??0,ne=window.prompt("Enter new agent balance:",`${Q}`);if(ne===null)return;const Z=Number(ne);if(Number.isNaN(Z)){alert("Balance must be a valid number.");return}try{const J=localStorage.getItem("token");if(!J)throw new Error("No token found");await md(B,{balance:Z},J),se()}catch(J){alert("Failed to update agent balance: "+(J.message||"Unknown error"))}},re=async ee=>{const B=ee.id||ee._id,Q=window.prompt(`Enter new password for agent ${ee.username}:`,"");if(Q!==null){if(Q.length<6){alert("Password must be at least 6 characters long");return}try{const ne=localStorage.getItem("token");if(!ne)throw new Error("No token found");await Tp(B,Q,ne),alert(`Password for agent ${ee.username} has been reset successfully.`)}catch(ne){console.error("Agent password reset failed:",ne),alert(ne.message||"Failed to reset agent password")}}},je=async()=>{if(window.confirm(`Create workflow demo hierarchy now?

This will add:
- 10 master agents created by admin
- 5 master agents under the first master agent
- 10 agents under each master agent
- 10 players under each agent

This action adds many records and cannot be undone automatically.`))try{q(!0);const B=localStorage.getItem("token");if(!B)throw new Error("No token found");const Q=await kj(B),ne=Q?.summary||{};alert(`Workflow seed complete.
Batch: ${Q?.batchTag||"N/A"}
Masters: ${ne.totalMasters||0}
Agents: ${ne.totalAgents||0}
Players: ${ne.totalPlayers||0}`),await se()}catch(B){alert("Failed to seed workflow hierarchy: "+(B.message||"Unknown error"))}finally{q(!1)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Master Agent Administration"}),e.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e.jsxs("select",{value:C,onChange:ee=>v(ee.target.value),style:{padding:"0.5rem",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#333",color:"white"},children:[e.jsx("option",{value:"all",children:"Show All Creators"}),e.jsx("option",{value:"admin",children:"Created by Admin"}),e.jsx("option",{value:"master_agent",children:"Created by Master Agent"})]}),e.jsx("button",{className:"btn-secondary",onClick:je,disabled:E,title:"Create full workflow test hierarchy",children:E?"Seeding...":"Seed Workflow Demo"}),e.jsx("button",{className:"btn-primary",onClick:()=>p(!0),children:"Add Master Agent"})]})]}),h&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"New Master Agent"}),e.jsxs("form",{onSubmit:S,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",value:N.agentPrefix,onChange:ee=>z(ee.target.value),placeholder:"Enter prefix",maxLength:5,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Username"}),e.jsx("input",{type:"text",value:N.username,readOnly:!0,style:{background:"#222",color:"#888"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:N.phoneNumber,onChange:ee=>D({...N,phoneNumber:ee.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:N.password,onChange:ee=>D({...N,password:ee.target.value}),required:!0})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Create"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>p(!1),children:"Cancel"})]})]})]})}),b&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("h3",{children:["Edit Agent: ",y?.username]}),e.jsxs("form",{onSubmit:K,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:R.phoneNumber,onChange:ee=>k({...R,phoneNumber:ee.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"New Password (leave blank to keep)"}),e.jsx("input",{type:"password",value:R.password,onChange:ee=>k({...R,password:ee.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Rate per Customer (Weekly)"}),e.jsx("input",{type:"number",min:"0",value:R.agentBillingRate,onChange:ee=>k({...R,agentBillingRate:ee.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Status"}),e.jsxs("select",{value:R.agentBillingStatus,onChange:ee=>k({...R,agentBillingStatus:ee.target.value}),style:{width:"100%",padding:"0.5rem",background:"#333",border:"1px solid #444",color:"#fff",borderRadius:"4px"},children:[e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"unpaid",children:"Unpaid"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Cancel"})]})]})]})}),x&&y&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"Agent Details"}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Username:"})," ",e.jsx("span",{children:y.username})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Phone Number:"})," ",e.jsx("span",{children:y.phoneNumber})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Status:"})," ",e.jsx("span",{className:`badge ${y.status}`,children:y.status})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Created By:"})," ",e.jsx("span",{children:y.createdBy?.username||"System"})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Created At:"})," ",e.jsx("span",{children:new Date(y.createdAt).toLocaleString()})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Customers:"})," ",e.jsx("span",{children:y.userCount})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Active Customers:"})," ",e.jsx("span",{children:y.activeCustomerCount||0})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Balance:"})," ",e.jsx("span",{children:_(y.balance)})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Outstanding Balance:"})," ",e.jsx("span",{children:_(y.balanceOwed)})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Rate per Customer:"})," ",e.jsxs("span",{children:["$",Number(y.agentBillingRate||0).toFixed(2)]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Weekly Charge:"})," ",e.jsxs("span",{children:["$",Number(y.weeklyCharge||0).toFixed(2)]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Billing Status:"})," ",e.jsx("span",{children:y.agentBillingStatus||"paid"})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"View Only:"})," ",e.jsx("span",{children:y.viewOnly?"Yes":"No"})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>g(!1),children:"Close"})})]})}),j&&y&&e.jsx(Fp,{agent:y,onClose:()=>f(!1),onUpdate:se}),e.jsx("div",{className:"view-content",children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agent Name"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Phone Number"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created By"}),e.jsx("th",{children:"Sub-Agents"}),e.jsx("th",{children:"Total Users"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Outstanding"}),e.jsx("th",{children:"Rate/Customer"}),e.jsx("th",{children:"Weekly Charge"}),e.jsx("th",{children:"Billing"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:o?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",children:"Loading agents..."})}):I?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",children:I})}):V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",children:"No agents found matching filter."})}):V.map(ee=>e.jsxs("tr",{children:[e.jsx("td",{children:ee.username}),e.jsx("td",{children:e.jsx("span",{className:`badge ${ee.role==="master_agent"?"btn-primary":"btn-secondary"}`,style:{fontSize:"0.75rem",textTransform:"capitalize"},children:ee.role?.replace("_"," ")||"agent"})}),e.jsx("td",{children:ee.phoneNumber}),e.jsx("td",{children:e.jsx("span",{className:`badge ${ee.status||""}`,children:ee.status||"unknown"})}),e.jsx("td",{style:{fontWeight:"bold",color:ee.createdBy?"#e67e22":"#999"},children:ee.createdBy?e.jsxs(e.Fragment,{children:[e.jsxs("span",{style:{fontSize:"0.8em",color:"#888",marginRight:"4px"},children:["[",ee.createdByModel==="Admin"?"Admin":"MA","]"]}),ee.createdBy.username]}):"System"}),e.jsx("td",{children:ee.role==="master_agent"?ee.subAgentCount||0:""}),e.jsx("td",{children:ee.role==="master_agent"?ee.totalUsersInHierarchy||0:ee.userCount||0}),e.jsx("td",{children:_(ee.balance)}),e.jsx("td",{children:_(ee.balanceOwed)}),e.jsxs("td",{children:["$",Number(ee.agentBillingRate||0).toFixed(2)]}),e.jsxs("td",{children:["$",Number(ee.weeklyCharge||0).toFixed(2)]}),e.jsx("td",{children:e.jsx("span",{className:`badge ${ee.agentBillingStatus==="unpaid"?"warning":"active"}`,children:ee.agentBillingStatus||"paid"})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>M(ee),children:"Edit"}),e.jsx("button",{className:"btn-small",onClick:()=>H(ee),children:"View"}),e.jsx("button",{className:"btn-small",onClick:()=>{A(ee),f(!0)},children:"Permissions"}),e.jsx("button",{className:"btn-small",onClick:()=>G(ee),children:"Adjust Balance"}),e.jsx("button",{className:`btn-small ${ee.status==="suspended"?"btn-success":"btn-danger"}`,onClick:()=>F(ee),children:ee.status==="suspended"?"Activate":"Deactivate"}),e.jsx("button",{className:"btn-small btn-secondary",onClick:()=>re(ee),children:"Reset Pass"})]})]},ee.id||ee._id))})]})})}),e.jsx("style",{children:`
        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.7); display: flex; justify-content: center; align-items: center; z-index: 1000;
        }
        .modal-content {
            background: #1e1e1e; padding: 2rem; border-radius: 8px; width: 400px; border: 1px solid #333; color: #fff;
        }
        .form-group { margin-bottom: 1rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; color: #aaa; }
        .form-group input { width: 100%; padding: 0.5rem; background: #333; border: 1px solid #444; color: #fff; border-radius: 4px; }
        .modal-actions { display: flex; gap: 1rem; margin-top: 1.5rem; }
        .detail-row { display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #333; }
        .detail-row label { color: #888; }
        .btn-success { background-color: #27ae60 !important; }
      `})]})}function b0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,p]=u.useState(!1),[b,w]=u.useState(!1),[x,g]=u.useState(!1),[j,f]=u.useState(null),[y,A]=u.useState({username:"",phoneNumber:"",password:"",fullName:"",agentPrefix:"",role:"agent"}),[N,D]=u.useState({id:"",phoneNumber:"",password:""}),[R,k]=u.useState(null),[I,L]=u.useState("");u.useEffect(()=>{v(),C()},[]);const C=async()=>{try{const S=localStorage.getItem("token");if(S){const F=await Ns(S);L(F?.username||"")}}catch(S){console.error("Failed to fetch profile:",S)}},v=async()=>{try{const S=localStorage.getItem("token");if(!S)return;const F=await Aj(S);r(F||[]),k(null)}catch(S){console.error("Failed to fetch agents:",S),k(S.message||"Failed to fetch agents")}finally{d(!1)}},E=async S=>{const F=S.toUpperCase();if(A(M=>({...M,agentPrefix:F})),F.length>=2){const M=localStorage.getItem("token");try{const{nextUsername:K}=await qa(F,M,{type:"agent"});A(H=>({...H,username:K}))}catch(K){console.error("Failed to get next username from prefix:",K)}}else A(M=>({...M,username:""}))},q=async S=>{S.preventDefault();try{const F=localStorage.getItem("token");if(!F)throw new Error("No token found");await fd(y,F),alert("Agent created successfully"),p(!1),A({username:"",phoneNumber:"",password:"",fullName:"",agentPrefix:"",role:"agent"}),v()}catch(F){alert("Failed to create agent: "+F.message)}},V=S=>{D({id:S.id||S._id,phoneNumber:S.phoneNumber||"",password:""}),f(S),w(!0)},_=async S=>{S.preventDefault();try{const F=localStorage.getItem("token"),M={phoneNumber:N.phoneNumber};N.password&&(M.password=N.password),await md(N.id,M,F),alert("Agent updated successfully"),w(!1),v()}catch(F){alert("Failed to update agent: "+F.message)}},se=async S=>{const F=S.status==="suspended",M=F?"unsuspend":"suspend";if(window.confirm(`Are you sure you want to ${M} ${S.username}?`))try{const K=localStorage.getItem("token");F?await Ep(S.id||S._id,K):await Ap(S.id||S._id,K),v()}catch(K){alert(`Failed to ${M} agent: `+K.message)}},z=async S=>{const F=window.prompt(`Enter new password for agent ${S.username}:`);if(F)try{const M=localStorage.getItem("token");await Tp(S.id||S._id,F,M),alert("Password reset successful")}catch(M){alert("Reset failed: "+M.message)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Agent Management"}),localStorage.getItem("userRole")!=="admin"&&e.jsx("button",{className:"btn-primary",onClick:()=>{p(!0),I&&E(I)},children:"Add Agent"})]}),h&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"New Agent"}),e.jsxs("form",{onSubmit:q,children:[!I&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",value:y.agentPrefix,onChange:S=>E(S.target.value),placeholder:"Enter prefix",maxLength:5,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role"}),e.jsxs("select",{value:y.role,onChange:S=>A({...y,role:S.target.value}),style:{width:"100%",padding:"0.5rem",background:"#333",color:"white",marginBottom:"1rem",border:"1px solid #444"},children:[e.jsx("option",{value:"agent",children:"Agent"}),e.jsx("option",{value:"master_agent",children:"Master Agent"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Username"}),e.jsx("input",{type:"text",value:y.username,readOnly:!0,style:{background:"#222",color:"#888"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:S=>A({...y,phoneNumber:S.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:y.password,onChange:S=>A({...y,password:S.target.value}),required:!0})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Create"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>p(!1),children:"Cancel"})]})]})]})}),b&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("h3",{children:["Edit Sub-Agent: ",j?.username]}),e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:N.phoneNumber,onChange:S=>D({...N,phoneNumber:S.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"New Password (leave blank to keep)"}),e.jsx("input",{type:"password",value:N.password,onChange:S=>D({...N,password:S.target.value})})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Cancel"})]})]})]})}),x&&j&&e.jsx(Fp,{agent:j,onClose:()=>g(!1),onUpdate:v}),e.jsx("div",{className:"view-content",children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Username"}),e.jsx("th",{children:"Phone Number"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Users"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:o?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"Loading agents..."})}):R?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"error",children:R})}):l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"No agents found."})}):l.map(S=>e.jsxs("tr",{children:[e.jsx("td",{children:S.username}),e.jsx("td",{children:S.phoneNumber}),e.jsx("td",{children:e.jsx("span",{className:"badge",children:S.role==="master_agent"?"Master Agent":"Agent"})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${S.status}`,children:S.status})}),e.jsx("td",{children:S.userCount||0}),e.jsxs("td",{children:["$",Number(S.balance||0).toFixed(2)]}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>V(S),children:"Edit"}),e.jsx("button",{className:"btn-small",onClick:()=>{f(S),g(!0)},children:"Perms"}),e.jsx("button",{className:`btn-small ${S.status==="suspended"?"btn-success":"btn-danger"}`,onClick:()=>se(S),children:S.status==="suspended"?"Activate":"Deactivate"}),e.jsx("button",{className:"btn-small btn-secondary",onClick:()=>z(S),children:"Reset Path"})]})]},S.id||S._id))})]})})}),e.jsx("style",{children:`
        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.7); display: flex; justify-content: center; align-items: center; z-index: 1000;
        }
        .modal-content {
            background: #1e1e1e; padding: 2rem; border-radius: 8px; width: 400px; border: 1px solid #333; color: #fff;
        }
        .form-group { margin-bottom: 1rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; color: #aaa; }
        .form-group input { width: 100%; padding: 0.5rem; background: #333; border: 1px solid #444; color: #fff; border-radius: 4px; }
        .modal-actions { display: flex; gap: 1rem; margin-top: 1.5rem; }
      `})]})}function y0(){const[l,r]=u.useState([]),[o,d]=u.useState({paid:0,outstanding:0,total:0}),[h,p]=u.useState(!0),[b,w]=u.useState(""),[x,g]=u.useState(!1),[j,f]=u.useState(!1),[y,A]=u.useState(null),[N,D]=u.useState(null),[R,k]=u.useState("all"),[I,L]=u.useState({invoiceNumber:"",amount:"",status:"pending",dueDate:"",notes:""}),C=async()=>{const z=localStorage.getItem("token");if(!z){w("Please login to view billing."),p(!1);return}try{p(!0);const[S,F]=await Promise.all([Lj(z),Mj({status:R,limit:200},z)]);d(S||{paid:0,outstanding:0,total:0}),r(F.invoices||[]),w("")}catch(S){console.error("Failed to load billing:",S),w(S.message||"Failed to load billing")}finally{p(!1)}};u.useEffect(()=>{C()},[R]);const v=z=>{if(z==null)return"";const S=Number(z);return Number.isNaN(S)?"":`$${S.toFixed(2)}`},E=()=>{L({invoiceNumber:"",amount:"",status:"pending",dueDate:"",notes:""}),g(!0)},q=z=>{A(z),f(!0)},V=async()=>{const z=localStorage.getItem("token");if(!z){w("Please login to save invoices.");return}try{D("new"),await Dj({invoiceNumber:I.invoiceNumber.trim(),amount:Number(I.amount)||0,status:I.status,dueDate:I.dueDate||null,notes:I.notes.trim()||null},z),g(!1),C()}catch(S){w(S.message||"Failed to create invoice")}finally{D(null)}},_=async z=>{const S=localStorage.getItem("token");if(!S){w("Please login to update invoices.");return}try{D(z.id),await Bj(z.id,{status:"paid"},S),C()}catch(F){w(F.message||"Failed to update invoice")}finally{D(null)}},se=z=>{const S=JSON.stringify(z,null,2),F=new Blob([S],{type:"application/json"}),M=URL.createObjectURL(F),K=document.createElement("a");K.href=M,K.download=`${z.invoice||"invoice"}.json`,K.click(),URL.revokeObjectURL(M)};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Billing Management"}),e.jsx("button",{className:"btn-primary",onClick:E,children:"Create Invoice"})]}),e.jsxs("div",{className:"view-content",children:[h&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading billing..."}),b&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:b}),!h&&!b&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"billing-summary",children:[e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total Paid"}),e.jsx("p",{className:"amount",children:v(o.paid)})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total Outstanding"}),e.jsx("p",{className:"amount",children:v(o.outstanding)})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total All Time"}),e.jsx("p",{className:"amount",children:v(o.total)})]})]}),e.jsx("div",{className:"filter-section",children:e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:R,onChange:z=>k(z.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"overdue",children:"Overdue"})]})]})}),e.jsxs("div",{className:"table-container",children:[e.jsx("h3",{children:"Recent Invoices"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Invoice #"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(z=>e.jsxs("tr",{children:[e.jsx("td",{children:z.invoice}),e.jsx("td",{children:z.date?new Date(z.date).toLocaleDateString():""}),e.jsx("td",{children:v(z.amount)}),e.jsx("td",{children:e.jsx("span",{className:`badge ${z.status}`,children:z.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>se(z),children:"Download"}),e.jsx("button",{className:"btn-small",onClick:()=>q(z),children:"View"}),z.status!=="paid"&&e.jsx("button",{className:"btn-small",onClick:()=>_(z),disabled:N===z.id,children:N===z.id?"Working...":"Mark Paid"})]})]},z.id))})]})]})]})]}),x&&e.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:e.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),children:[e.jsx("h3",{children:"Create Invoice"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Invoice #"}),e.jsx("input",{type:"text",value:I.invoiceNumber,onChange:z=>L(S=>({...S,invoiceNumber:z.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:I.amount,onChange:z=>L(S=>({...S,amount:z.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:I.status,onChange:z=>L(S=>({...S,status:z.target.value})),children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"overdue",children:"Overdue"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Due Date"}),e.jsx("input",{type:"date",value:I.dueDate,onChange:z=>L(S=>({...S,dueDate:z.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:I.notes,onChange:z=>L(S=>({...S,notes:z.target.value}))})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>g(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:V,disabled:N||!I.invoiceNumber.trim()||!I.amount,children:N?"Saving...":"Save"})]})]})}),j&&y&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),children:[e.jsx("h3",{children:"Invoice Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Invoice:"})," ",y.invoice]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",v(y.amount)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",y.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",y.date?new Date(y.date).toLocaleString():""]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Due Date:"})," ",y.dueDate?new Date(y.dueDate).toLocaleDateString():""]}),y.notes&&e.jsxs("p",{children:[e.jsx("strong",{children:"Notes:"})," ",y.notes]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>f(!1),children:"Close"})})]})})]})}function j0(){const[l,r]=u.useState({platformName:"Sports Betting Platform",dailyBetLimit:"10000",weeklyBetLimit:"50000",maxOdds:"100",minBet:"1",maxBet:"5000",maintenanceMode:!1,smsNotifications:!0,twoFactor:!0}),[o,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(!1);u.useEffect(()=>{(async()=>{const f=localStorage.getItem("token");if(!f){p("Please login to load settings."),d(!1);return}try{d(!0);const y=await _j(f);r({platformName:y.platformName,dailyBetLimit:y.dailyBetLimit,weeklyBetLimit:y.weeklyBetLimit,maxOdds:y.maxOdds,minBet:y.minBet,maxBet:y.maxBet,maintenanceMode:y.maintenanceMode,smsNotifications:y.smsNotifications,twoFactor:y.twoFactor}),p("")}catch(y){console.error("Failed to load settings:",y),p(y.message||"Failed to load settings")}finally{d(!1)}})()},[]);const x=j=>{const{name:f,value:y,type:A,checked:N}=j.target;r(D=>({...D,[f]:A==="checkbox"?N:y}))},g=async()=>{const j=localStorage.getItem("token");if(!j){p("Please login to save settings.");return}try{w(!0),await Rj(l,j),p("")}catch(f){p(f.message||"Failed to save settings")}finally{w(!1)}};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Platform Settings"})}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading settings..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsx("div",{className:"settings-container",children:e.jsxs("form",{className:"settings-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"General Settings"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Platform Name:"}),e.jsx("input",{type:"text",name:"platformName",value:l.platformName,onChange:x})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Bet Limits"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Daily Bet Limit ($):"}),e.jsx("input",{type:"number",name:"dailyBetLimit",value:l.dailyBetLimit,onChange:x})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Weekly Bet Limit ($):"}),e.jsx("input",{type:"number",name:"weeklyBetLimit",value:l.weeklyBetLimit,onChange:x})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Max Odds:"}),e.jsx("input",{type:"number",name:"maxOdds",value:l.maxOdds,onChange:x,step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Minimum Bet ($):"}),e.jsx("input",{type:"number",name:"minBet",value:l.minBet,onChange:x,step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Maximum Bet ($):"}),e.jsx("input",{type:"number",name:"maxBet",value:l.maxBet,onChange:x})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Security Settings"}),e.jsxs("div",{className:"form-group checkbox",children:[e.jsx("input",{type:"checkbox",name:"twoFactor",checked:l.twoFactor,onChange:x,id:"twoFactor"}),e.jsx("label",{htmlFor:"twoFactor",children:"Require Two-Factor Authentication"})]}),e.jsxs("div",{className:"form-group checkbox",children:[e.jsx("input",{type:"checkbox",name:"maintenanceMode",checked:l.maintenanceMode,onChange:x,id:"maintenanceMode"}),e.jsx("label",{htmlFor:"maintenanceMode",children:"Maintenance Mode"})]}),e.jsxs("div",{className:"form-group checkbox",children:[e.jsx("input",{type:"checkbox",name:"smsNotifications",checked:l.smsNotifications,onChange:x,id:"smsNotifications"}),e.jsx("label",{htmlFor:"smsNotifications",children:"Enable SMS Notifications"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:g,className:"btn-primary",disabled:b,children:b?"Saving...":"Save Settings"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>window.location.reload(),children:"Reset"})]})]})})]})]})}function v0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(!1),[x,g]=u.useState(null),[j,f]=u.useState({title:"",items:"",status:"active"}),[y,A]=u.useState(null),N=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to view rules."),d(!1);return}try{d(!0);const C=await Oj(L);r(C.rules||[]),p("")}catch(C){console.error("Failed to load rules:",C),p(C.message||"Failed to load rules")}finally{d(!1)}};u.useEffect(()=>{N()},[]);const D=()=>{g(null),f({title:"",items:"",status:"active"}),w(!0)},R=L=>{g(L),f({title:L.title,items:(L.items||[]).join(`
`),status:L.status||"active"}),w(!0)},k=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to save rules.");return}try{A(x?.id||"new");const C={title:j.title.trim(),items:j.items.split(`
`).map(v=>v.trim()).filter(Boolean),status:j.status};x?await zj(x.id||x._id,C,L):await Uj(C,L),w(!1),N()}catch(C){p(C.message||"Failed to save rule")}finally{A(null)}},I=async L=>{const C=localStorage.getItem("token");if(!C){p("Please login to delete rules.");return}try{A(L),await Ij(L,C),r(v=>v.filter(E=>(E.id||E._id)!==L))}catch(v){p(v.message||"Failed to delete rule")}finally{A(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Rules & Regulations"}),e.jsx("button",{className:"btn-primary",onClick:D,children:"Add New Rule"})]}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading rules..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsx("div",{className:"rules-container",children:l.map(L=>e.jsxs("div",{className:"rule-card",children:[e.jsx("h3",{children:L.title}),e.jsx("ul",{children:(L.items||[]).map((C,v)=>e.jsx("li",{children:C},v))}),e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{className:"btn-small",onClick:()=>R(L),children:"Edit"}),e.jsx("button",{className:"btn-small btn-danger",onClick:()=>I(L.id||L._id),disabled:y===(L.id||L._id),children:y===(L.id||L._id)?"Working...":"Delete"})]})]},L.id||L._id))})]}),b&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[e.jsx("h3",{children:x?"Edit Rule":"Add Rule"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Title"}),e.jsx("input",{type:"text",value:j.title,onChange:L=>f(C=>({...C,title:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Items (one per line)"}),e.jsx("textarea",{rows:"6",value:j.items,onChange:L=>f(C=>({...C,items:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:j.status,onChange:L=>f(C=>({...C,status:L.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:k,disabled:y||!j.title.trim(),children:y?"Saving...":"Save"})]})]})})]})}function N0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState("all"),[x,g]=u.useState(null),[j,f]=u.useState(""),[y,A]=u.useState(!1),[N,D]=u.useState(null),R=async()=>{const v=localStorage.getItem("token");if(!v){p("Please login to view feedback."),d(!1);return}try{d(!0);const E=await Fj({status:b},v);r(E.feedbacks||[]),p("")}catch(E){console.error("Failed to load feedback:",E),p(E.message||"Failed to load feedback")}finally{d(!1)}};u.useEffect(()=>{R()},[b]);const k=v=>{g(v),f(v.adminReply||""),A(!0)},I=async()=>{const v=localStorage.getItem("token");if(!v){p("Please login to reply.");return}try{D(x.id),await Pj(x.id,{reply:j},v),A(!1),R()}catch(E){p(E.message||"Failed to reply")}finally{D(null)}},L=async v=>{const E=localStorage.getItem("token");if(!E){p("Please login to mark reviewed.");return}try{D(v),await Hj(v,E),R()}catch(q){p(q.message||"Failed to mark reviewed")}finally{D(null)}},C=async v=>{const E=localStorage.getItem("token");if(!E){p("Please login to delete feedback.");return}try{D(v),await $j(v,E),r(q=>q.filter(V=>V.id!==v))}catch(q){p(q.message||"Failed to delete feedback")}finally{D(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Customer Feedback"})}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading feedback..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"filter-section",children:e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:b,onChange:v=>w(v.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"reviewed",children:"Reviewed"})]})]})}),e.jsx("div",{className:"feedback-container",children:l.map(v=>e.jsxs("div",{className:"feedback-card",children:[e.jsxs("div",{className:"feedback-header",children:[e.jsx("h4",{children:v.user}),e.jsx("div",{className:"rating",children:"".repeat(v.rating||0)}),e.jsx("span",{className:"date",children:v.date?new Date(v.date).toLocaleDateString():""})]}),e.jsx("p",{className:"feedback-message",children:v.message}),v.adminReply&&e.jsxs("p",{className:"feedback-message",children:[e.jsx("strong",{children:"Reply:"})," ",v.adminReply]}),e.jsxs("div",{className:"feedback-actions",children:[e.jsx("button",{className:"btn-small",onClick:()=>k(v),children:"Reply"}),e.jsx("button",{className:"btn-small",onClick:()=>L(v.id),disabled:N===v.id,children:N===v.id?"Working...":"Mark as Reviewed"}),e.jsx("button",{className:"btn-small btn-danger",onClick:()=>C(v.id),disabled:N===v.id,children:N===v.id?"Working...":"Delete"})]})]},v.id))})]})]}),y&&x&&e.jsx("div",{className:"modal-overlay",onClick:()=>A(!1),children:e.jsxs("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[e.jsx("h3",{children:"Reply to Feedback"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",x.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Message:"})," ",x.message]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Reply"}),e.jsx("textarea",{rows:"4",value:j,onChange:v=>f(v.target.value)})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>A(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:I,disabled:N===x.id||!j.trim(),children:N===x.id?"Saving...":"Save Reply"})]})]})})]})}function w0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(!1),[x,g]=u.useState(null),[j,f]=u.useState({question:"",answer:"",status:"active",order:0}),[y,A]=u.useState(null),N=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to view FAQs."),d(!1);return}try{d(!0);const C=await qj(L);r(C.faqs||[]),p("")}catch(C){console.error("Failed to load FAQs:",C),p(C.message||"Failed to load FAQs")}finally{d(!1)}};u.useEffect(()=>{N()},[]);const D=()=>{g(null),f({question:"",answer:"",status:"active",order:0}),w(!0)},R=L=>{g(L),f({question:L.question,answer:L.answer,status:L.status||"active",order:L.order||0}),w(!0)},k=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to save FAQs.");return}try{A(x?.id||"new");const C={question:j.question.trim(),answer:j.answer.trim(),status:j.status,order:Number(j.order)||0};x?await Wj(x.id||x._id,C,L):await Gj(C,L),w(!1),N()}catch(C){p(C.message||"Failed to save FAQ")}finally{A(null)}},I=async L=>{const C=localStorage.getItem("token");if(!C){p("Please login to delete FAQs.");return}try{A(L),await Yj(L,C),r(v=>v.filter(E=>(E.id||E._id)!==L))}catch(v){p(v.message||"Failed to delete FAQ")}finally{A(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"FAQ Management"}),e.jsx("button",{className:"btn-primary",onClick:D,children:"Add New FAQ"})]}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading FAQs..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&e.jsx("div",{className:"faq-container",children:l.map(L=>e.jsxs("div",{className:"faq-item",children:[e.jsxs("div",{className:"faq-question",children:[e.jsxs("h4",{children:["Q: ",L.question]}),e.jsx("button",{className:"btn-small",onClick:()=>R(L),children:"Edit"}),e.jsx("button",{className:"btn-small btn-danger",onClick:()=>I(L.id||L._id),disabled:y===(L.id||L._id),children:y===(L.id||L._id)?"Working...":"Delete"})]}),e.jsx("div",{className:"faq-answer",children:e.jsxs("p",{children:["A: ",L.answer]})})]},L.id||L._id))})]}),b&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[e.jsx("h3",{children:x?"Edit FAQ":"Add FAQ"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Question"}),e.jsx("input",{type:"text",value:j.question,onChange:L=>f(C=>({...C,question:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Answer"}),e.jsx("textarea",{rows:"4",value:j.answer,onChange:L=>f(C=>({...C,answer:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:j.status,onChange:L=>f(C=>({...C,status:L.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Order"}),e.jsx("input",{type:"number",value:j.order,onChange:L=>f(C=>({...C,order:L.target.value}))})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:k,disabled:y||!j.question.trim()||!j.answer.trim(),children:y?"Saving...":"Save"})]})]})})]})}function S0(){const[l,r]=u.useState([]),[o,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(!1),[x,g]=u.useState(null),[j,f]=u.useState({title:"",content:"",order:0,status:"active"}),[y,A]=u.useState(null),N=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to view manual."),d(!1);return}try{d(!0);const C=await Vj(L);r(C.sections||[]),p("")}catch(C){console.error("Failed to load manual:",C),p(C.message||"Failed to load manual")}finally{d(!1)}};u.useEffect(()=>{N()},[]);const D=()=>{g(null),f({title:"",content:"",order:0,status:"active"}),w(!0)},R=L=>{g(L),f({title:L.title,content:L.content,order:L.order||0,status:L.status||"active"}),w(!0)},k=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to save manual sections.");return}try{A(x?.id||"new");const C={title:j.title.trim(),content:j.content.trim(),order:Number(j.order)||0,status:j.status};x?await Xj(x.id||x._id,C,L):await Qj(C,L),w(!1),N()}catch(C){p(C.message||"Failed to save section")}finally{A(null)}},I=async L=>{const C=localStorage.getItem("token");if(!C){p("Please login to delete sections.");return}try{A(L),await Zj(L,C),r(v=>v.filter(E=>(E.id||E._id)!==L))}catch(v){p(v.message||"Failed to delete section")}finally{A(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"User Manual"}),e.jsx("button",{className:"btn-primary",onClick:D,children:"Add Section"})]}),e.jsx("div",{className:"view-content",children:e.jsxs("div",{className:"manual-container",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading manual..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&l.map(L=>e.jsxs("section",{className:"manual-section",children:[e.jsx("h3",{children:L.title}),e.jsx("p",{children:L.content}),e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{className:"btn-small",onClick:()=>R(L),children:"Edit"}),e.jsx("button",{className:"btn-small btn-danger",onClick:()=>I(L.id||L._id),disabled:y===(L.id||L._id),children:y===(L.id||L._id)?"Working...":"Delete"})]})]},L.id||L._id))]})}),b&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[e.jsx("h3",{children:x?"Edit Section":"Add Section"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Title"}),e.jsx("input",{type:"text",value:j.title,onChange:L=>f(C=>({...C,title:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Content"}),e.jsx("textarea",{rows:"6",value:j.content,onChange:L=>f(C=>({...C,content:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Order"}),e.jsx("input",{type:"number",value:j.order,onChange:L=>f(C=>({...C,order:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:j.status,onChange:L=>f(C=>({...C,status:L.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:k,disabled:y||!j.title.trim()||!j.content.trim(),children:y?"Saving...":"Save"})]})]})})]})}const k0=()=>{const[l,r]=u.useState(null),[o,d]=u.useState(null),[h,p]=u.useState(!0),[b,w]=u.useState(null),x=async()=>{try{const N=localStorage.getItem("token");if(!N)throw new Error("Please login to view system monitor");const[D,R]=await Promise.all([$y(N),qy(N)]);r(D),d(R),w(new Date),p(!1)}catch(N){console.error("Monitor Error:",N),p(!1)}};if(u.useEffect(()=>{x();const N=setInterval(()=>{document.hidden||x()},6e4);return()=>clearInterval(N)},[]),h&&!l)return e.jsx("div",{className:"admin-content-card",children:"Loading System Monitor..."});const g=l?.counts||{users:0,bets:0,matches:0},j=l?.liveMatches||[],f=o?.items||[],y=o?.summary||{links:0,collections:0,rows:0},A=async()=>{try{const N=localStorage.getItem("token");if(!N)throw new Error("Please login first");const D=await wp(N);alert(`Odds Refreshed! Created: ${D.results?.created||0}, Updated: ${D.results?.updated||0}`),x()}catch(N){console.error("Refresh error:",N),alert(N.message||"Error refreshing odds")}};return e.jsxs("div",{className:"admin-view-container",children:[e.jsxs("div",{className:"admin-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h2",{style:{color:"#fff",margin:0},children:"System Monitor"}),e.jsxs("div",{style:{color:"#aaa",fontSize:"0.9rem"},children:["Last updated: ",b?b.toLocaleTimeString():"Never"]}),e.jsx("button",{onClick:A,style:{background:"#e67e22",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:" Refresh Live Odds"})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon users",children:e.jsx("i",{className:"fa-solid fa-users"})}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h3",{children:"Total Users"}),e.jsx("p",{children:g.users})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon bets",children:e.jsx("i",{className:"fa-solid fa-ticket"})}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h3",{children:"Total Bets"}),e.jsx("p",{children:g.bets})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon matches",children:e.jsx("i",{className:"fa-solid fa-futbol"})}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h3",{children:"Active Matches"}),e.jsx("p",{children:g.matches})]})]})]}),e.jsxs("div",{className:"admin-content-card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{children:[e.jsx("i",{className:"fa-solid fa-satellite-dish"})," Live & Scored Matches (DB View)"]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"admin-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Sport"}),e.jsx("th",{children:"Match"}),e.jsx("th",{children:"Scores"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last Updated"})]})}),e.jsx("tbody",{children:j.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center",children:"No live or scored matches found."})}):j.map(N=>e.jsxs("tr",{children:[e.jsx("td",{children:N.sport?.replace("_"," ").toUpperCase()}),e.jsxs("td",{children:[N.homeTeam," ",e.jsx("span",{className:"vs",children:"vs"})," ",N.awayTeam]}),e.jsxs("td",{className:"score-cell",children:[e.jsx("span",{className:"score-badge home",children:N.score?.score_home??N.score?.scoreHome??0}),"-",e.jsx("span",{className:"score-badge away",children:N.score?.score_away??N.score?.scoreAway??0})]}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${N.status}`,children:N.status})}),e.jsx("td",{children:new Date(N.lastUpdated).toLocaleTimeString()})]},N.id||N._id))})]})})]}),e.jsxs("div",{className:"admin-content-card",style:{marginTop:"20px"},children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{children:[e.jsx("i",{className:"fa-solid fa-diagram-project"})," Dashboard Link to Entity/Table Map"]})}),e.jsxs("div",{style:{color:"#666",marginBottom:"10px",fontSize:"0.9rem"},children:["Links: ",y.links," | Collections: ",y.collections," | Total Rows: ",y.rows]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"admin-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Dashboard Link"}),e.jsx("th",{children:"Collections"}),e.jsx("th",{children:"Tables / Views"}),e.jsx("th",{children:"API Routes"})]})}),e.jsx("tbody",{children:f.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"text-center",children:"No entity catalog data found."})}):f.map(N=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("strong",{children:N.label}),e.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:N.id})]}),e.jsx("td",{children:(N.collections||[]).map(D=>e.jsxs("div",{style:{marginBottom:"4px"},children:[e.jsx("code",{children:D.collection})," (",D.rows,")"]},`${N.id}-${D.collection}`))}),e.jsx("td",{children:(N.collections||[]).map(D=>e.jsxs("div",{style:{marginBottom:"4px",fontSize:"0.85rem"},children:[e.jsxs("div",{children:[e.jsx("code",{children:D.table})," ",D.exists?"":"(missing)"]}),e.jsxs("div",{children:[e.jsx("code",{children:D.entityView})," | ",e.jsx("code",{children:D.flatTable})]})]},`${N.id}-${D.collection}-table`))}),e.jsx("td",{children:(N.routes||[]).map(D=>e.jsx("div",{style:{marginBottom:"2px",fontSize:"0.85rem"},children:e.jsx("code",{children:D})},`${N.id}-${D}`))})]},N.id))})]})})]}),e.jsx("style",{children:`
                .view-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 2rem;
                }
                .last-updated {
                    font-size: 0.9rem;
                    color: #888;
                    font-family: monospace;
                }
                .stats-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                    gap: 1.5rem;
                    margin-bottom: 2rem;
                }
                .stat-card {
                    background: #1e1e1e;
                    border-radius: 12px;
                    padding: 1.5rem;
                    display: flex;
                    align-items: center;
                    gap: 1.5rem;
                    border: 1px solid #333;
                }
                .stat-icon {
                    width: 50px;
                    height: 50px;
                    border-radius: 10px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.5rem;
                }
                .stat-icon.users { background: rgba(52, 152, 219, 0.2); color: #3498db; }
                .stat-icon.bets { background: rgba(46, 204, 113, 0.2); color: #2ecc71; }
                .stat-icon.matches { background: rgba(231, 76, 60, 0.2); color: #e74c3c; }
                .stat-info h3 { margin: 0; font-size: 0.9rem; color: #888; }
                .stat-info p { margin: 0; font-size: 1.8rem; font-weight: bold; color: #fff; }
                
                .admin-table th {
                    background-color: #333;
                    color: white;
                    padding: 12px;
                    text-align: left;
                }
                .admin-table td {
                    padding: 12px;
                    border-bottom: 1px solid #eee;
                    color: #333; /* Dark text for readability */
                    background-color: #fff; /* Ensure white background */
                }
                .admin-table tr:hover td {
                    background-color: #f5f5f5;
                }
                .score-cell { font-weight: bold; color: #000; }
                .score-badge { 
                    display: inline-block; 
                    padding: 2px 6px; 
                    background: #eee; 
                    color: #333;
                    border: 1px solid #ccc;
                    border-radius: 4px; 
                    margin: 0 4px;
                }
                .vs { color: #555; font-size: 0.8rem; }
            `})]})},ri=l=>{const r=Number(l);return Number.isNaN(r)?"":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(r)};function C0(){const[l,r]=u.useState(null),[o,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(!1),x=async g=>{const j=g.target.value;w(!0);try{const f=localStorage.getItem("token");await Ry({dashboardLayout:j},f),r(y=>({...y,dashboardLayout:j})),alert("Layout updated. The page will reload to apply changes."),window.location.reload()}catch(f){alert("Failed to update layout: "+f.message)}finally{w(!1)}};return u.useEffect(()=>{(async()=>{const j=localStorage.getItem("token");if(!j){p("Please login to view profile."),d(!1);return}try{d(!0);const f=await Ns(j);r(f),p("")}catch(f){p(f.message||"Failed to load profile")}finally{d(!1)}})()},[]),e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"My Profile"})}),e.jsxs("div",{className:"view-content",children:[o&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading profile..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!o&&!h&&l&&e.jsx("div",{className:"settings-container",children:e.jsxs("div",{className:"settings-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Account"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Username:"}),e.jsx("input",{type:"text",value:l.username||"",readOnly:!0})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Preferences"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Dashboard Layout:"}),e.jsxs("select",{value:l.dashboardLayout||"tiles",onChange:x,disabled:b,style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc"},children:[e.jsx("option",{value:"tiles",children:"Tiles (Default)"}),e.jsx("option",{value:"sidebar",children:"Sidebar Navigation"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number:"}),e.jsx("input",{type:"text",value:l.phoneNumber||"",readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role:"}),e.jsx("input",{type:"text",value:l.role||"",readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Super Admin:"}),e.jsx("input",{type:"text",value:l.isSuperAdmin?"Yes":"No",readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Unlimited Balance:"}),e.jsx("input",{type:"text",value:l.unlimitedBalance?"Enabled":"Disabled",readOnly:!0})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Balances"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Balance:"}),e.jsx("input",{type:"text",value:ri(l.balance),readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pending Balance:"}),e.jsx("input",{type:"text",value:ri(l.pendingBalance),readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Available Balance:"}),e.jsx("input",{type:"text",value:ri(l.availableBalance),readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Outstanding (Settle Limit):"}),e.jsx("input",{type:"text",value:ri(l.balanceOwed),readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Credit Limit:"}),e.jsx("input",{type:"text",value:ri(l.creditLimit),readOnly:!0})]})]})]})})]})]})}const Yf={password:"",firstName:"",lastName:"",phoneNumber:"",minBet:0,agentId:"",status:"active",creditLimit:0,wagerLimit:0,settleLimit:0,accountType:"credit",zeroBalanceWeekly:"standard",tempCredit:0,expiresOn:"",enableCaptcha:!1,cryptoPromoPct:0,promoType:"promo_credit",playerNotes:"",sportsbook:!0,casino:!0,horses:!0,messaging:!1,dynamicLive:!0,propPlus:!0,liveCasino:!1,freePlayPercent:20,maxFpCredit:0,dlMinStraightBet:25,dlMaxStraightBet:250,dlMaxPerOffering:500,dlMaxBetPerEvent:500,dlMaxWinSingleBet:1e3,dlMaxWinEvent:3e3,dlDelaySec:7,dlMaxFavoriteLine:-1e4,dlMaxDogLine:1e4,dlMinParlayBet:10,dlMaxParlayBet:100,dlMaxWinEventParlay:3e3,dlMaxDogLineParlays:1e3,dlWagerCoolOffSec:30,dlLiveParlays:!1,dlBlockPriorStart:!0,dlBlockHalftime:!0,dlIncludeGradedInLimits:!1,dlUseRiskLimits:!1,casinoDefaultMaxWinDay:1e4,casinoDefaultMaxLossDay:1e4,casinoDefaultMaxWinWeek:1e4,casinoDefaultMaxLossWeek:1e4,casinoAgentMaxWinDay:1e3,casinoAgentMaxLossDay:1e3,casinoAgentMaxWinWeek:5e3,casinoAgentMaxLossWeek:5e3,casinoPlayerMaxWinDay:1e3,casinoPlayerMaxLossDay:1e3,casinoPlayerMaxWinWeek:5e3,casinoPlayerMaxLossWeek:5e3};function A0({userId:l,onBack:r,role:o="admin"}){const[d,h]=u.useState(!0),[p,b]=u.useState(!1),[w,x]=u.useState(""),[g,j]=u.useState(""),[f,y]=u.useState(null),[A,N]=u.useState({}),[D,R]=u.useState([]),[k,I]=u.useState(Yf),[L,C]=u.useState(!1),[v,E]=u.useState("basics"),[q,V]=u.useState([]),[_,se]=u.useState(!1),[z,S]=u.useState(""),[F,M]=u.useState(""),[K,H]=u.useState("7d"),[G,re]=u.useState("all"),[je,ee]=u.useState("all"),[B,Q]=u.useState([]),[ne,Z]=u.useState(!1),[J,P]=u.useState("credit"),[$,ue]=u.useState(""),[me,Ne]=u.useState(""),[we,Ce]=u.useState("daily"),[Me,Re]=u.useState(!1),[st,Ke]=u.useState(""),[mt,vt]=u.useState([]),[Be,ft]=u.useState(""),[Gt,Ut]=u.useState([]),[ta,At]=u.useState([]),[ml,Wa]=u.useState(!1),[Ya,pt]=u.useState(""),[ws,Ra]=u.useState(""),[Ss,fl]=u.useState("7d"),[Dt,Tt]=u.useState([]),[ma,Nt]=u.useState(!1),[an,ks]=u.useState(""),[Cs,Va]=u.useState(""),[Oa,Qa]=u.useState(!1),[Lt,xt]=u.useState(""),[Ca,sn]=u.useState(""),[Aa,fa]=u.useState(!1),[It,Ft]=u.useState(""),[Ua,Ea]=u.useState(""),[As,aa]=u.useState(""),pa=[{id:"basics",label:"The Basics",icon:""},{id:"transactions",label:"Transactions",icon:""},{id:"pending",label:"Pending",icon:""},{id:"performance",label:"Performance",icon:""},{id:"analysis",label:"Analysis",icon:""},{id:"freeplays",label:"Free Plays",icon:""},{id:"dynamic-live",label:"Dynamic Live",icon:""},{id:"live-casino",label:"Live Casino",icon:""},{id:"crash",label:"Crash",icon:""},{id:"player-info",label:"Player Info",icon:""},{id:"offerings",label:"Offerings",icon:""},{id:"limits",label:"Limits",icon:""},{id:"vig-setup",label:"Vig Setup",icon:""},{id:"parlays",label:"Parlays",icon:""},{id:"teasers",label:"Teasers",icon:"8"},{id:"buying-pts",label:"Buying Pts",icon:""},{id:"risk-mngmt",label:"Risk Mngmt",icon:""},{id:"communication",label:"Communication",icon:""}];u.useEffect(()=>{l&&(async()=>{try{h(!0),x(""),j(""),M(""),S(""),y(null),I(Yf),E("basics");const ye=localStorage.getItem("token");if(!ye){x("Please login to view details.");return}const[Ee,Ve]=await Promise.all([Ej(l,ye),["admin","super_agent","master_agent"].includes(o)?mi(ye):Promise.resolve([])]),$e=Ee?.user,ze=$e?.settings||{},Qe=ze.dynamicLiveLimits||{},it=ze.dynamicLiveFlags||{},$t=ze.liveCasinoLimits||{},Vt=$t.default||{},na=$t.agent||{},Ka=$t.player||{};if(!$e){x("User not found.");return}y($e),N(Ee?.stats||{}),R(Array.isArray(Ve)?Ve:[]),I({password:"",firstName:$e.firstName||"",lastName:$e.lastName||"",phoneNumber:$e.phoneNumber||"",minBet:Number($e.minBet||0),agentId:$e.agentId?._id||$e.agentId||"",status:($e.status||"active").toLowerCase(),creditLimit:Number($e.creditLimit||0),wagerLimit:Number($e.wagerLimit??$e.maxBet??0),settleLimit:Number($e.balanceOwed||0),accountType:ze.accountType||"credit",zeroBalanceWeekly:ze.zeroBalanceWeekly||"standard",tempCredit:Number(ze.tempCredit||0),expiresOn:ze.expiresOn||"",enableCaptcha:!!ze.enableCaptcha,cryptoPromoPct:Number(ze.cryptoPromoPct||0),promoType:ze.promoType||"promo_credit",playerNotes:ze.playerNotes||"",sportsbook:ze.sports??!0,casino:ze.casino??!0,horses:ze.racebook??!0,messaging:ze.messaging??!1,dynamicLive:ze.live??!0,propPlus:ze.props??!0,liveCasino:ze.liveCasino??!1,freePlayPercent:Number(ze.freePlayPercent??20),maxFpCredit:Number(ze.maxFpCredit??0),dlMinStraightBet:Number(Qe.minStraightBet??25),dlMaxStraightBet:Number(Qe.maxStraightBet??250),dlMaxPerOffering:Number(Qe.maxPerOffering??500),dlMaxBetPerEvent:Number(Qe.maxBetPerEvent??500),dlMaxWinSingleBet:Number(Qe.maxWinSingleBet??1e3),dlMaxWinEvent:Number(Qe.maxWinEvent??3e3),dlDelaySec:Number(Qe.delaySec??7),dlMaxFavoriteLine:Number(Qe.maxFavoriteLine??-1e4),dlMaxDogLine:Number(Qe.maxDogLine??1e4),dlMinParlayBet:Number(Qe.minParlayBet??10),dlMaxParlayBet:Number(Qe.maxParlayBet??100),dlMaxWinEventParlay:Number(Qe.maxWinEventParlay??3e3),dlMaxDogLineParlays:Number(Qe.maxDogLineParlays??1e3),dlWagerCoolOffSec:Number(Qe.wagerCoolOffSec??30),dlLiveParlays:!!it.liveParlays,dlBlockPriorStart:it.blockPriorStart??!0,dlBlockHalftime:it.blockHalftime??!0,dlIncludeGradedInLimits:!!it.includeGradedInLimits,dlUseRiskLimits:!!it.useRiskLimits,casinoDefaultMaxWinDay:Number(Vt.maxWinDay??1e4),casinoDefaultMaxLossDay:Number(Vt.maxLossDay??1e4),casinoDefaultMaxWinWeek:Number(Vt.maxWinWeek??1e4),casinoDefaultMaxLossWeek:Number(Vt.maxLossWeek??1e4),casinoAgentMaxWinDay:Number(na.maxWinDay??1e3),casinoAgentMaxLossDay:Number(na.maxLossDay??1e3),casinoAgentMaxWinWeek:Number(na.maxWinWeek??5e3),casinoAgentMaxLossWeek:Number(na.maxLossWeek??5e3),casinoPlayerMaxWinDay:Number(Ka.maxWinDay??1e3),casinoPlayerMaxLossDay:Number(Ka.maxLossDay??1e3),casinoPlayerMaxWinWeek:Number(Ka.maxWinWeek??5e3),casinoPlayerMaxLossWeek:Number(Ka.maxLossWeek??5e3)})}catch(ye){console.error("Failed to load player details:",ye),x(ye.message||"Failed to load details")}finally{h(!1)}})()},[o,l]),u.useEffect(()=>{(async()=>{if(!(v!=="transactions"||!f))try{se(!0),S("");const ye=localStorage.getItem("token");if(!ye){S("Please login to view transactions.");return}const Ee=await il({user:f.username||"",type:G,status:je,time:K,limit:300},ye),$e=(Array.isArray(Ee?.transactions)?Ee.transactions:[]).filter(ze=>String(ze.userId||"")===String(l));V($e)}catch(ye){S(ye.message||"Failed to load transactions")}finally{se(!1)}})()},[v,f,G,je,K,l]),u.useEffect(()=>{(async()=>{if(!(v!=="performance"||!f?.username))try{Re(!0),Ke("");const ye=localStorage.getItem("token");if(!ye){Ke("Please login to view performance.");return}const Ee=await Ed({customer:f.username,time:"30d",type:"all-types",limit:500},ye),Ve=Array.isArray(Ee?.bets)?Ee.bets:[],$e=new Map;for(const it of Ve){const $t=it?.createdAt,Vt=new Date($t);if(Number.isNaN(Vt.getTime()))continue;const na=Vt.getFullYear(),Ka=String(Vt.getMonth()+1).padStart(2,"0"),xi=String(Vt.getDate()).padStart(2,"0"),Ia=`${na}-${Ka}-${xi}`,gi=Number(it?.amount||0),bi=Number(it?.potentialPayout||0),pl=String(it?.status||"").toLowerCase(),An=pl==="won"?Math.max(0,bi-gi):pl==="lost"?-gi:0;$e.has(Ia)||$e.set(Ia,{date:Vt,net:0,wagers:[]});const yi=$e.get(Ia);yi.net+=An,yi.wagers.push({id:it.id,label:`${it?.match?.awayTeam||""} vs ${it?.match?.homeTeam||""}`.trim()||it.selection||"Wager",amount:An})}const ze=Array.from($e.entries()).map(([it,$t])=>({key:it,date:$t.date,periodLabel:$t.date.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",weekday:"long"}),net:$t.net,wagers:$t.wagers})).sort((it,$t)=>$t.key.localeCompare(it.key));vt(ze);const Qe=ze[0]?.key||"";ft(Qe),Ut(ze[0]?.wagers||[])}catch(ye){Ke(ye.message||"Failed to load performance"),vt([]),ft(""),Ut([])}finally{Re(!1)}})()},[v,f?.username]),u.useEffect(()=>{(async()=>{if(!(v!=="freeplays"||!f?.username))try{Wa(!0),pt("");const ye=localStorage.getItem("token");if(!ye){pt("Please login to view free play.");return}const Ee=await il({user:f.username,type:"adjustment",status:"all",time:Ss,limit:300},ye),$e=(Array.isArray(Ee?.transactions)?Ee.transactions:[]).filter(ze=>{if(String(ze.userId||"")!==String(l))return!1;const Qe=String(ze.reason||"").toUpperCase(),it=String(ze.description||"").toLowerCase();return Qe==="FREEPLAY_ADJUSTMENT"||it.includes("freeplay")||it.includes("free play")});At($e)}catch(ye){pt(ye.message||"Failed to load free play")}finally{Wa(!1)}})()},[v,f?.username,Ss,l]);const Le=(U,ye)=>{I(Ee=>({...Ee,[U]:ye}))},Xa=u.useMemo(()=>{const U=`${k.firstName||""} ${k.lastName||""}`.trim();return U||(f?.fullName?f.fullName:"")},[k.firstName,k.lastName,f?.fullName]);u.useMemo(()=>Xa||f?.username||"Player",[Xa,f?.username]);const Pt=u.useMemo(()=>f?f.displayPassword||"Not set":"",[f]),ut=u.useMemo(()=>Number(k.creditLimit||0)-Number(f?.pendingBalance||0),[k.creditLimit,f?.pendingBalance]),ht=u.useMemo(()=>{let U=0;for(const ye of q)ye?.status==="pending"&&String(ye?.type||"").toLowerCase().includes("casino")&&(U+=Number(ye.amount||0));return{pending:Number(f?.pendingBalance||0),available:Number(ut||0),carry:Number(f?.balance||0),nonPostedCasino:U}},[q,f?.pendingBalance,f?.balance,ut]),lt=U=>Number(U||0).toLocaleString("en-US",{style:"currency",currency:"USD"}),Ta=async()=>{try{const U=localStorage.getItem("token"),ye=await Lp(l,U);localStorage.setItem("token",ye.token),localStorage.setItem("user",JSON.stringify(ye)),window.location.href="/dashboard"}catch(U){x("Impersonation failed: "+U.message)}},nn=async(U,ye="Copied")=>{try{const Ee=String(U??"");if(!Ee)return;await navigator.clipboard.writeText(Ee),aa(`${ye} copied`),window.setTimeout(()=>aa(""),1400)}catch{aa("Copy failed"),window.setTimeout(()=>aa(""),1400)}},kn=async()=>{const U=[`Login: ${f?.username||""}`,`Password: ${Pt||""}`,`Min bet: ${Number(f?.minBet??0)}`,`Max bet: ${Number(f?.maxBet??f?.wagerLimit??k.wagerLimit??0)}`,`Credit: ${Number(k.creditLimit||f?.creditLimit||0)}`,`Settle: ${Number(k.settleLimit||f?.balanceOwed||0)}`].join(`
`);await nn(U,"All details")},sa=async()=>{try{b(!0),x(""),j("");const U=localStorage.getItem("token");if(!U){x("Please login again.");return}const ye={firstName:k.firstName.trim(),lastName:k.lastName.trim(),phoneNumber:k.phoneNumber.trim(),fullName:Xa,status:k.status,minBet:Number(k.minBet||0),creditLimit:Number(k.creditLimit||0),maxBet:Number(k.wagerLimit||0),wagerLimit:Number(k.wagerLimit||0),balanceOwed:Number(k.settleLimit||0),settings:{accountType:k.accountType,zeroBalanceWeekly:k.zeroBalanceWeekly,tempCredit:Number(k.tempCredit||0),expiresOn:k.expiresOn||"",enableCaptcha:!!k.enableCaptcha,cryptoPromoPct:Number(k.cryptoPromoPct||0),promoType:k.promoType,playerNotes:k.playerNotes,sports:!!k.sportsbook,casino:!!k.casino,racebook:!!k.horses,messaging:!!k.messaging,live:!!k.dynamicLive,props:!!k.propPlus,liveCasino:!!k.liveCasino}};["admin","super_agent","master_agent"].includes(o)&&k.agentId&&(ye.agentId=k.agentId),o==="agent"?await ka(l,ye,U):await bs(l,ye,U),(k.password||"").trim()!==""&&(o==="admin"?await zr(l,k.password.trim(),U):await ka(l,{password:k.password.trim()},U)),y(Ee=>({...Ee,...ye,settings:{...Ee?.settings||{},...ye.settings}})),I(Ee=>({...Ee,password:""})),j("Changes saved successfully.")}catch(U){console.error("Failed to save player details:",U),x(U.message||"Failed to save details")}finally{b(!1)}},Za=async()=>{try{const U=localStorage.getItem("token");if(!U||!f)return;await rl(l,{balance:Number(f.balance||0)},U),j("Balance updated."),x("")}catch(U){x(U.message||"Failed to update balance")}},Ja=U=>{if(!U)return"";const ye=U?.$date||U,Ee=new Date(ye);return Number.isNaN(Ee.getTime())?"":Ee.toLocaleString()},za=U=>{const ye=String(U?.type||"").toLowerCase();return["withdrawal","bet_placed","bet_lost","fee","debit"].includes(ye)},O=U=>{U==="transactions"?(E("transactions"),H("7d"),re("adjustment"),ee("all")):U==="pending"?(E("transactions"),H("7d"),re("adjustment"),ee("pending")):E(U==="performance"?"performance":U==="freeplays"?"freeplays":U==="dynamic-live"?"dynamic-live":U==="live-casino"?"live-casino":"basics"),C(!1),j(""),M(""),x(""),S(""),Ke(""),pt(""),Ra(""),xt(""),sn(""),Ft(""),Ea("")},te=u.useMemo(()=>mt.find(U=>U.key===Be)||null,[mt,Be]);u.useEffect(()=>{if(!te){Ut([]);return}Ut(te.wagers||[])},[te]);const Y=u.useMemo(()=>Gt.reduce((U,ye)=>U+Number(ye.amount||0),0),[Gt]),ce=u.useMemo(()=>ta.filter(U=>String(U.status||"").toLowerCase()==="pending").reduce((U,ye)=>U+Number(ye.amount||0),0),[ta]),be=Number(f?.freeplayBalance||0),ve=async()=>{if(f?.username)try{Wa(!0);const U=localStorage.getItem("token");if(!U)return;const ye=await il({user:f.username,type:"adjustment",status:"all",time:Ss,limit:300},U),Ee=Array.isArray(ye?.transactions)?ye.transactions:[];At(Ee.filter(Ve=>{if(String(Ve.userId||"")!==String(l))return!1;const $e=String(Ve.reason||"").toUpperCase(),ze=String(Ve.description||"").toLowerCase();return $e==="FREEPLAY_ADJUSTMENT"||ze.includes("freeplay")||ze.includes("free play")}))}catch(U){pt(U.message||"Failed to refresh free play")}finally{Wa(!1)}},Ae=async()=>{try{const U=Number(an||0);if(U<=0||Number.isNaN(U)){pt("Enter a valid free play amount greater than 0.");return}const ye=localStorage.getItem("token");if(!ye||!f){pt("Please login again.");return}const Ee=Number(f.freeplayBalance||0)+U;await Cp(l,Ee,ye,Cs.trim()),y(Ve=>({...Ve,freeplayBalance:Ee})),Cs.trim()?Ra(`Free play added. Note: "${Cs.trim()}"`):Ra("Free play added successfully."),pt(""),Nt(!1),ks(""),Va(""),await ve()}catch(U){pt(U.message||"Failed to add free play")}},Ge=U=>{Tt(ye=>ye.includes(U)?ye.filter(Ee=>Ee!==U):[...ye,U])},Ht=async()=>{try{if(Dt.length===0)return;const U=localStorage.getItem("token");if(!U){pt("Please login again.");return}const ye=await Cf(Dt,U),Ee=Number(ye?.deleted||0),Ve=Number(ye?.skipped||0);Tt([]),Ra(`Deleted ${Ee} free play transaction(s).${Ve>0?` Skipped ${Ve}.`:""}`),pt(""),await ve()}catch(U){pt(U.message||"Failed to delete free play transactions")}},Wt=async()=>{try{const U=localStorage.getItem("token");if(!U){pt("Please login again.");return}const ye={settings:{freePlayPercent:Number(k.freePlayPercent||0),maxFpCredit:Number(k.maxFpCredit||0)}};o==="agent"?await ka(l,ye,U):await bs(l,ye,U),Ra("Free play settings saved."),pt("")}catch(U){pt(U.message||"Failed to save free play settings")}},pi=async()=>{try{Qa(!0);const U=localStorage.getItem("token");if(!U){xt("Please login again.");return}const ye={settings:{dynamicLiveLimits:{minStraightBet:Number(k.dlMinStraightBet||0),maxStraightBet:Number(k.dlMaxStraightBet||0),maxPerOffering:Number(k.dlMaxPerOffering||0),maxBetPerEvent:Number(k.dlMaxBetPerEvent||0),maxWinSingleBet:Number(k.dlMaxWinSingleBet||0),maxWinEvent:Number(k.dlMaxWinEvent||0),delaySec:Number(k.dlDelaySec||0),maxFavoriteLine:Number(k.dlMaxFavoriteLine||0),maxDogLine:Number(k.dlMaxDogLine||0),minParlayBet:Number(k.dlMinParlayBet||0),maxParlayBet:Number(k.dlMaxParlayBet||0),maxWinEventParlay:Number(k.dlMaxWinEventParlay||0),maxDogLineParlays:Number(k.dlMaxDogLineParlays||0),wagerCoolOffSec:Number(k.dlWagerCoolOffSec||0)},dynamicLiveFlags:{liveParlays:!!k.dlLiveParlays,blockPriorStart:!!k.dlBlockPriorStart,blockHalftime:!!k.dlBlockHalftime,includeGradedInLimits:!!k.dlIncludeGradedInLimits,useRiskLimits:!!k.dlUseRiskLimits}}};o==="agent"?await ka(l,ye,U):await bs(l,ye,U),sn("Dynamic Live settings saved."),xt("")}catch(U){xt(U.message||"Failed to save Dynamic Live settings")}finally{Qa(!1)}},qr=async()=>{try{fa(!0);const U=localStorage.getItem("token");if(!U){Ft("Please login again.");return}const ye={settings:{liveCasinoLimits:{default:{maxWinDay:Number(k.casinoDefaultMaxWinDay||0),maxLossDay:Number(k.casinoDefaultMaxLossDay||0),maxWinWeek:Number(k.casinoDefaultMaxWinWeek||0),maxLossWeek:Number(k.casinoDefaultMaxLossWeek||0)},agent:{maxWinDay:Number(k.casinoAgentMaxWinDay||0),maxLossDay:Number(k.casinoAgentMaxLossDay||0),maxWinWeek:Number(k.casinoAgentMaxWinWeek||0),maxLossWeek:Number(k.casinoAgentMaxLossWeek||0)},player:{maxWinDay:Number(k.casinoPlayerMaxWinDay||0),maxLossDay:Number(k.casinoPlayerMaxLossDay||0),maxWinWeek:Number(k.casinoPlayerMaxWinWeek||0),maxLossWeek:Number(k.casinoPlayerMaxLossWeek||0)}}}};o==="agent"?await ka(l,ye,U):await bs(l,ye,U),Ea("Live Casino limits saved."),Ft("")}catch(U){Ft(U.message||"Failed to save Live Casino limits")}finally{fa(!1)}},ln=async()=>{if(f){se(!0);try{const U=localStorage.getItem("token");if(!U)return;const ye=await il({user:f.username||"",type:G,status:je,time:K,limit:300},U),Ee=Array.isArray(ye?.transactions)?ye.transactions:[];V(Ee.filter(Ve=>String(Ve.userId||"")===String(l)))}catch(U){S(U.message||"Failed to refresh transactions")}finally{se(!1)}}},Cn=async()=>{try{const U=Number($||0);if(U<=0||Number.isNaN(U)){S("Enter a valid amount greater than 0.");return}const ye=localStorage.getItem("token");if(!ye||!f){S("Please login again.");return}const Ee=Number(f.balance||0),Ve=J==="credit"?Ee+U:Math.max(0,Ee-U);await rl(l,{balance:Ve},ye),y($e=>({...$e,balance:Ve})),M("Transaction saved and balance updated."),S(""),Z(!1),ue(""),Ne(""),await ln()}catch(U){S(U.message||"Failed to save transaction")}},La=U=>{Q(ye=>ye.includes(U)?ye.filter(Ee=>Ee!==U):[...ye,U])},Yt=async()=>{try{if(B.length===0)return;const U=localStorage.getItem("token");if(!U){S("Please login again.");return}const ye=await Cf(B,U);Q([]),await ln();const Ee=Number(ye?.deleted||0),Ve=Number(ye?.skipped||0);M(`Deleted ${Ee} transaction(s).${Ve>0?` Skipped ${Ve} (non-adjustment or invalid).`:""}`),S("")}catch(U){S(U.message||"Failed to delete selected transactions")}};return d?e.jsx("div",{className:"admin-view",children:e.jsx("div",{className:"view-content",children:"Loading player details..."})}):f?e.jsxs("div",{className:"customer-details-v2",children:[e.jsxs("div",{className:"top-panel",children:[e.jsxs("div",{className:"top-left",children:[e.jsx("button",{className:"btn btn-back",onClick:r,children:"Customer Admin"}),e.jsxs("div",{className:"player-card",children:[e.jsxs("div",{className:"player-card-head",children:[e.jsxs("div",{className:"player-title-wrap",children:[e.jsx("h2",{children:f.username||"USER"}),e.jsx("span",{className:"player-badge",children:"PLAYER"})]}),e.jsxs("div",{className:"top-actions",children:[e.jsx("button",{className:"btn btn-user",onClick:Ta,children:"Login User"}),e.jsx("button",{className:"btn btn-copy-all",onClick:kn,children:"Copy Details"})]})]}),e.jsxs("div",{className:"creds-box",children:[e.jsxs("div",{className:"creds-row",children:[e.jsx("span",{children:"Login:"}),e.jsx("div",{className:"creds-pill",children:f.username||""}),e.jsx("button",{className:"copy-mini",onClick:()=>nn(f.username,"Login"),children:""})]}),e.jsxs("div",{className:"creds-row",children:[e.jsx("span",{children:"Password:"}),e.jsx("div",{className:"creds-pill",children:Pt}),e.jsx("button",{className:"copy-mini",onClick:()=>nn(Pt,"Password"),children:""})]})]}),e.jsxs("div",{className:"limits-box",children:[e.jsxs("div",{className:"limit-item",children:[e.jsx("label",{children:"Min bet:"}),e.jsx("strong",{children:Number(f.minBet??0).toLocaleString()})]}),e.jsxs("div",{className:"limit-item",children:[e.jsx("label",{children:"Max bet:"}),e.jsx("strong",{children:Number(f.maxBet??f.wagerLimit??k.wagerLimit??0).toLocaleString()})]}),e.jsxs("div",{className:"limit-item",children:[e.jsx("label",{children:"Credit:"}),e.jsx("strong",{className:"money-green",children:Number(k.creditLimit||f.creditLimit||0).toLocaleString()})]}),e.jsxs("div",{className:"limit-item",children:[e.jsx("label",{children:"Settle:"}),e.jsx("strong",{className:"money-green",children:Number(k.settleLimit||f.balanceOwed||0).toLocaleString()})]})]})]}),As&&e.jsx("div",{className:"copy-notice",children:As}),e.jsxs("div",{className:"agent-line",children:["Agent ",f.agentUsername||f.agentId?.username||""]}),e.jsxs("div",{className:"top-actions mobile-only",children:[e.jsx("button",{className:"btn btn-user",onClick:Ta,children:"Login User"}),e.jsx("button",{className:"btn btn-copy-all",onClick:kn,children:"Copy Details"})]})]}),e.jsxs("div",{className:"top-right",children:[e.jsxs("button",{type:"button",className:`metric ${v==="transactions"?"metric-active":""}`,onClick:()=>O("transactions"),children:[e.jsx("span",{children:"Balance"}),e.jsx("b",{className:Number(f.balance||0)<0?"neg":"pos",children:lt(f.balance||0)})]}),e.jsxs("button",{type:"button",className:`metric ${v==="transactions"&&je==="pending"?"metric-active":""}`,onClick:()=>O("pending"),children:[e.jsx("span",{children:"Pending"}),e.jsx("b",{className:"neutral",children:lt(f.pendingBalance||0)})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{children:"Available"}),e.jsx("b",{className:"neutral",children:lt(ut)})]}),e.jsxs("button",{type:"button",className:`metric ${v==="freeplays"?"metric-active":""}`,onClick:()=>O("freeplays"),children:[e.jsx("span",{children:"Freeplay"}),e.jsx("b",{className:"neutral",children:lt(f.freeplayBalance||0)})]}),e.jsxs("button",{type:"button",className:`metric ${v==="performance"?"metric-active":""}`,onClick:()=>O("performance"),children:[e.jsx("span",{children:"Lifetime +/-"}),e.jsx("b",{className:Number(A.netProfit||0)<0?"neg":"pos",children:lt(A.netProfit||0)})]})]})]}),e.jsxs("div",{className:"basics-header",children:[e.jsxs("div",{className:"basics-left",children:[e.jsx("button",{type:"button",className:"dot-grid-btn",onClick:()=>C(U=>!U),"aria-label":"Open quick sections menu",children:e.jsxs("div",{className:"dot-grid","aria-hidden":"true",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})}),e.jsx("h3",{children:v==="transactions"?"Transactions":v==="performance"?"Performance":v==="freeplays"?"Free Play":v==="dynamic-live"?"Dynamic Live":v==="live-casino"?"Live Casino":"The Basics"})]}),v==="transactions"?e.jsx("button",{className:"btn btn-back",onClick:()=>Z(!0),children:"New transaction"}):v==="freeplays"?e.jsx("button",{className:"btn btn-back",onClick:()=>Nt(!0),children:"New Free Play"}):v==="dynamic-live"?e.jsx("button",{className:"btn btn-save",onClick:pi,disabled:Oa,children:Oa?"Saving...":"Save"}):v==="live-casino"?e.jsx("button",{className:"btn btn-save",onClick:qr,disabled:Aa,children:Aa?"Saving...":"Save"}):v==="performance"?e.jsx("span",{}):e.jsx("button",{className:"btn btn-save",onClick:sa,disabled:p,children:p?"Saving...":"Save"})]}),L&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"menu-backdrop",onClick:()=>C(!1),"aria-label":"Close quick sections menu"}),e.jsxs("div",{className:"basics-quick-menu",children:[e.jsx("button",{type:"button",className:"menu-close",onClick:()=>C(!1),"aria-label":"Close menu",children:"x"}),e.jsx("div",{className:"menu-grid",children:pa.map(U=>e.jsxs("button",{type:"button",className:"menu-item",onClick:()=>O(U.id),children:[e.jsx("span",{className:"menu-icon",children:U.icon}),e.jsx("span",{className:"menu-label",children:U.label})]},U.id))})]})]}),v==="transactions"?z&&e.jsx("div",{className:"alert error",children:z}):v==="performance"?st&&e.jsx("div",{className:"alert error",children:st}):v==="freeplays"?Ya&&e.jsx("div",{className:"alert error",children:Ya}):v==="dynamic-live"?Lt&&e.jsx("div",{className:"alert error",children:Lt}):v==="live-casino"?It&&e.jsx("div",{className:"alert error",children:It}):w&&e.jsx("div",{className:"alert error",children:w}),v==="transactions"?F&&e.jsx("div",{className:"alert success",children:F}):v==="freeplays"?ws&&e.jsx("div",{className:"alert success",children:ws}):v==="dynamic-live"?Ca&&e.jsx("div",{className:"alert success",children:Ca}):v==="live-casino"?Ua&&e.jsx("div",{className:"alert success",children:Ua}):g&&e.jsx("div",{className:"alert success",children:g}),v==="transactions"?e.jsxs("div",{className:"transactions-wrap",children:[e.jsxs("div",{className:"tx-controls",children:[e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Display"}),e.jsxs("select",{value:K,onChange:U=>H(U.target.value),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Filter Transactions"}),e.jsxs("select",{value:G,onChange:U=>re(U.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"adjustment",children:"Non-Wager"}),e.jsx("option",{value:"deposit",children:"Deposits"}),e.jsx("option",{value:"withdrawal",children:"Withdrawals"}),e.jsx("option",{value:"bet_placed",children:"Wagers"})]})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Pending"}),e.jsx("b",{children:lt(ht.pending)})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Available"}),e.jsx("b",{children:lt(ht.available)})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Carry"}),e.jsx("b",{className:ht.carry<0?"neg":"",children:lt(ht.carry)})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Non-Posted Casino"}),e.jsx("b",{children:lt(ht.nonPostedCasino)})]})]}),e.jsx("div",{className:"tx-table-wrap",children:e.jsxs("table",{className:"tx-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Credit"}),e.jsx("th",{children:"Debit"}),e.jsx("th",{children:"Balance"})]})}),e.jsx("tbody",{children:_?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"tx-empty",children:"Loading transactions..."})}):q.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"tx-empty",children:"No transactions found"})}):q.map(U=>{const ye=za(U),Ee=Number(U.amount||0),Ve=ye?0:Ee,$e=ye?Ee:0,ze=B.includes(U.id);return e.jsxs("tr",{className:ze?"selected":"",onClick:()=>La(U.id),children:[e.jsx("td",{children:Ja(U.date)}),e.jsx("td",{children:U.description||U.type||"Transaction"}),e.jsx("td",{children:Ve>0?lt(Ve):""}),e.jsx("td",{children:$e>0?lt($e):""}),e.jsx("td",{className:Number(f.balance||0)<0?"neg":"",children:lt(f.balance||0)})]},U.id)})})]})}),e.jsx("button",{className:"btn btn-danger",onClick:Yt,disabled:B.length===0,children:"Delete"})]}):v==="performance"?e.jsxs("div",{className:"performance-wrap",children:[e.jsx("div",{className:"perf-controls",children:e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Time"}),e.jsx("select",{value:we,onChange:U=>Ce(U.target.value),children:e.jsx("option",{value:"daily",children:"Daily"})})]})}),e.jsxs("div",{className:"performance-grid",children:[e.jsx("div",{className:"perf-left",children:e.jsxs("table",{className:"perf-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Period"}),e.jsx("th",{children:"Net"})]})}),e.jsx("tbody",{children:Me?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"tx-empty",children:"Loading performance..."})}):mt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"tx-empty",children:"No performance data"})}):mt.map(U=>e.jsxs("tr",{className:Be===U.key?"selected":"",onClick:()=>ft(U.key),children:[e.jsx("td",{children:U.periodLabel}),e.jsx("td",{children:Number(U.net||0).toFixed(2)})]},U.key))})]})}),e.jsxs("div",{className:"perf-right",children:[e.jsxs("div",{className:"perf-title-row",children:[e.jsxs("div",{children:["Wagers: ",e.jsx("b",{children:Gt.length})]}),e.jsxs("div",{children:["Result: ",e.jsx("b",{children:lt(Y)})]})]}),e.jsxs("table",{className:"perf-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:te?.periodLabel||"Selected Day"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{children:Gt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"tx-empty",children:"No data available in table"})}):Gt.map(U=>e.jsxs("tr",{children:[e.jsx("td",{children:U.label||"Wager"}),e.jsx("td",{children:Number(U.amount||0).toFixed(2)})]},U.id))})]})]})]})]}):v==="freeplays"?e.jsxs("div",{className:"transactions-wrap",children:[e.jsxs("div",{className:"tx-controls freeplay-controls",children:[e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Display"}),e.jsxs("select",{value:Ss,onChange:U=>fl(U.target.value),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Balance"}),e.jsx("b",{children:Number(be).toFixed(2)})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Pending"}),e.jsx("b",{children:Number(ce).toFixed(2)})]})]}),e.jsx("div",{className:"tx-table-wrap",children:e.jsxs("table",{className:"tx-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Credit"}),e.jsx("th",{children:"Debit"}),e.jsx("th",{children:"Balance"})]})}),e.jsx("tbody",{children:ml?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"tx-empty",children:"Loading free play..."})}):ta.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"tx-empty",children:"No free play transactions found"})}):ta.map(U=>{const ye=Number(U.amount||0),Ee=ye>0?ye:0,Ve=Dt.includes(U.id);return e.jsxs("tr",{className:Ve?"selected":"",onClick:()=>Ge(U.id),children:[e.jsx("td",{children:f.username}),e.jsx("td",{children:Ja(U.date)}),e.jsx("td",{children:U.description||"Free Play Adjustment"}),e.jsx("td",{children:Ee>0?Number(Ee).toFixed(2):""}),e.jsx("td",{children:""}),e.jsx("td",{children:Number(be).toFixed(2)})]},U.id)})})]})}),e.jsxs("div",{className:"freeplay-bottom-row",children:[e.jsx("button",{className:"btn btn-danger",onClick:Ht,disabled:Dt.length===0,children:"Delete"}),e.jsx("button",{className:"btn btn-back freeplay-settings-btn",onClick:Wt,children:"Detailed Free Play Settings"}),e.jsxs("div",{className:"freeplay-inputs",children:[e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Free Play %"}),e.jsx("input",{type:"number",value:k.freePlayPercent,onChange:U=>Le("freePlayPercent",U.target.value)})]}),e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Max FP Credit"}),e.jsx("input",{type:"number",value:k.maxFpCredit,onChange:U=>Le("maxFpCredit",U.target.value)})]})]})]})]}):v==="dynamic-live"?e.jsxs("div",{className:"dynamic-live-wrap",children:[e.jsxs("div",{className:"tx-field dl-top-select",children:[e.jsx("label",{children:"View Settings"}),e.jsx("select",{value:"wagering_limits",readOnly:!0,children:e.jsx("option",{value:"wagering_limits",children:"Wagering Limits"})})]}),e.jsxs("div",{className:"dynamic-live-grid",children:[e.jsxs("div",{className:"dl-col",children:[e.jsx("label",{children:"Min Straight Bet :"}),e.jsx("input",{type:"number",value:k.dlMinStraightBet,onChange:U=>Le("dlMinStraightBet",U.target.value)}),e.jsx("label",{children:"Max Straight Bet :"}),e.jsx("input",{type:"number",value:k.dlMaxStraightBet,onChange:U=>Le("dlMaxStraightBet",U.target.value)}),e.jsx("label",{children:"Max Per Offering :"}),e.jsx("input",{type:"number",value:k.dlMaxPerOffering,onChange:U=>Le("dlMaxPerOffering",U.target.value)}),e.jsx("label",{children:"Max Bet Per Event :"}),e.jsx("input",{type:"number",value:k.dlMaxBetPerEvent,onChange:U=>Le("dlMaxBetPerEvent",U.target.value)}),e.jsx("label",{children:"Max Win for Single Bet :"}),e.jsx("input",{type:"number",value:k.dlMaxWinSingleBet,onChange:U=>Le("dlMaxWinSingleBet",U.target.value)}),e.jsx("label",{children:"Max Win for Event :"}),e.jsx("input",{type:"number",value:k.dlMaxWinEvent,onChange:U=>Le("dlMaxWinEvent",U.target.value)}),e.jsx("label",{children:"Delay (sec) - minimum 5 :"}),e.jsx("input",{type:"number",value:k.dlDelaySec,onChange:U=>Le("dlDelaySec",U.target.value)})]}),e.jsxs("div",{className:"dl-col",children:[e.jsx("label",{children:"Max Favorite Line :"}),e.jsx("input",{type:"number",value:k.dlMaxFavoriteLine,onChange:U=>Le("dlMaxFavoriteLine",U.target.value)}),e.jsx("label",{children:"Max Dog Line :"}),e.jsx("input",{type:"number",value:k.dlMaxDogLine,onChange:U=>Le("dlMaxDogLine",U.target.value)}),e.jsx("label",{children:"Min Parlay Bet :"}),e.jsx("input",{type:"number",value:k.dlMinParlayBet,onChange:U=>Le("dlMinParlayBet",U.target.value)}),e.jsx("label",{children:"Max Parlay Bet :"}),e.jsx("input",{type:"number",value:k.dlMaxParlayBet,onChange:U=>Le("dlMaxParlayBet",U.target.value)}),e.jsx("label",{children:"Max Win for Event(parlay only) :"}),e.jsx("input",{type:"number",value:k.dlMaxWinEventParlay,onChange:U=>Le("dlMaxWinEventParlay",U.target.value)}),e.jsx("label",{children:"Max Dog Line (Parlays) :"}),e.jsx("input",{type:"number",value:k.dlMaxDogLineParlays,onChange:U=>Le("dlMaxDogLineParlays",U.target.value)}),e.jsx("label",{children:"Wager Cool-Off (sec) :"}),e.jsx("input",{type:"number",value:k.dlWagerCoolOffSec,onChange:U=>Le("dlWagerCoolOffSec",U.target.value)})]}),e.jsx("div",{className:"dl-col-toggles",children:[["Live Parlays","dlLiveParlays"],["Block Wagering Prior To Start","dlBlockPriorStart"],["Block Wagering at Halftime","dlBlockHalftime"],["Include Graded Wagers in Limits","dlIncludeGradedInLimits"],["Use Risk (not Volume) for Limits","dlUseRiskLimits"]].map(([U,ye])=>e.jsxs("div",{className:"switch-row",children:[e.jsxs("span",{children:[U," :"]}),e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:!!k[ye],onChange:Ee=>Le(ye,Ee.target.checked)}),e.jsx("span",{className:"slider"})]})]},ye))})]})]}):v==="live-casino"?e.jsxs("div",{className:"live-casino-wrap",children:[e.jsxs("div",{className:"live-casino-grid",children:[e.jsx("div",{}),e.jsx("div",{className:"lc-col-head",children:"Default"}),e.jsx("div",{className:"lc-col-head",children:"Agent"}),e.jsx("div",{className:"lc-col-head",children:"Player"}),e.jsx("div",{className:"lc-label",children:"Max Win Per Day"}),e.jsx("input",{type:"number",value:k.casinoDefaultMaxWinDay,onChange:U=>Le("casinoDefaultMaxWinDay",U.target.value)}),e.jsx("input",{type:"number",value:k.casinoAgentMaxWinDay,onChange:U=>Le("casinoAgentMaxWinDay",U.target.value)}),e.jsx("input",{type:"number",value:k.casinoPlayerMaxWinDay,onChange:U=>Le("casinoPlayerMaxWinDay",U.target.value)}),e.jsx("div",{className:"lc-label",children:"Max Loss Per Day"}),e.jsx("input",{type:"number",value:k.casinoDefaultMaxLossDay,onChange:U=>Le("casinoDefaultMaxLossDay",U.target.value)}),e.jsx("input",{type:"number",value:k.casinoAgentMaxLossDay,onChange:U=>Le("casinoAgentMaxLossDay",U.target.value)}),e.jsx("input",{type:"number",value:k.casinoPlayerMaxLossDay,onChange:U=>Le("casinoPlayerMaxLossDay",U.target.value)}),e.jsx("div",{className:"lc-label",children:"Max Win Per Week"}),e.jsx("input",{type:"number",value:k.casinoDefaultMaxWinWeek,onChange:U=>Le("casinoDefaultMaxWinWeek",U.target.value)}),e.jsx("input",{type:"number",value:k.casinoAgentMaxWinWeek,onChange:U=>Le("casinoAgentMaxWinWeek",U.target.value)}),e.jsx("input",{type:"number",value:k.casinoPlayerMaxWinWeek,onChange:U=>Le("casinoPlayerMaxWinWeek",U.target.value)}),e.jsx("div",{className:"lc-label",children:"Max Loss Per Week"}),e.jsx("input",{type:"number",value:k.casinoDefaultMaxLossWeek,onChange:U=>Le("casinoDefaultMaxLossWeek",U.target.value)}),e.jsx("input",{type:"number",value:k.casinoAgentMaxLossWeek,onChange:U=>Le("casinoAgentMaxLossWeek",U.target.value)}),e.jsx("input",{type:"number",value:k.casinoPlayerMaxLossWeek,onChange:U=>Le("casinoPlayerMaxLossWeek",U.target.value)})]}),e.jsx("p",{className:"lc-note",children:"*Players that do not have a limit will be assigned the default limit or agent limit if one exists. Once player limits are assigned they will have to be manually overridden either by changing them individually or by changing an agent and sending through the new default limits they want to apply."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"basics-grid",children:[e.jsxs("div",{className:"col-card",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{value:k.firstName,placeholder:"Enter first name",onChange:U=>Le("firstName",U.target.value)}),e.jsx("label",{children:"Last Name"}),e.jsx("input",{value:k.lastName,placeholder:"Enter last name",onChange:U=>Le("lastName",U.target.value)}),e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:k.phoneNumber,placeholder:"Enter phone number",onChange:U=>Le("phoneNumber",U.target.value)}),e.jsx("label",{children:"Password"}),e.jsx("input",{value:k.password,placeholder:Pt,onChange:U=>Le("password",U.target.value)}),e.jsx("label",{children:"Master Agent"}),["admin","super_agent","master_agent"].includes(o)?e.jsxs("select",{value:k.agentId,onChange:U=>Le("agentId",U.target.value),children:[e.jsx("option",{value:"",children:"None"}),D.map(U=>{const ye=U.id||U._id;return e.jsx("option",{value:ye,children:U.username},ye)})]}):e.jsx("input",{value:f.agentUsername||"",readOnly:!0}),e.jsx("label",{children:"Account Status"}),e.jsxs("select",{value:k.status,onChange:U=>Le("status",U.target.value),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"read_only",children:"Read Only"})]}),e.jsx("div",{className:"switch-list",children:[["Sportsbook","sportsbook"],["LV Casino","casino"],["Racebook","horses"],["Messaging","messaging"],["Dynamic Live","dynamicLive"],["Prop Plus","propPlus"],["Live Casino","liveCasino"]].map(([U,ye])=>e.jsxs("div",{className:"switch-row",children:[e.jsx("span",{children:U}),e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:!!k[ye],onChange:Ee=>Le(ye,Ee.target.checked)}),e.jsx("span",{className:"slider"})]})]},ye))})]}),e.jsxs("div",{className:"col-card",children:[e.jsx("label",{children:"Website"}),e.jsx("input",{value:window.location.hostname,readOnly:!0}),e.jsx("label",{children:"Account Type"}),e.jsxs("select",{value:k.accountType,onChange:U=>Le("accountType",U.target.value),children:[e.jsx("option",{value:"credit",children:"Credit"}),e.jsx("option",{value:"post_up",children:"Post Up"})]}),e.jsx("label",{children:"Min bet"}),e.jsx("input",{type:"number",value:k.minBet,onChange:U=>Le("minBet",U.target.value)}),e.jsx("label",{children:"Max bet"}),e.jsx("input",{type:"number",value:k.wagerLimit,onChange:U=>Le("wagerLimit",U.target.value)}),e.jsx("label",{children:"Credit Limit"}),e.jsx("input",{type:"number",value:k.creditLimit,onChange:U=>Le("creditLimit",U.target.value)}),e.jsx("label",{children:"Settle Limit"}),e.jsx("input",{type:"number",value:k.settleLimit,onChange:U=>Le("settleLimit",U.target.value)}),e.jsx("label",{children:"Zero Balance / Weekly"}),e.jsxs("select",{value:k.zeroBalanceWeekly,onChange:U=>Le("zeroBalanceWeekly",U.target.value),children:[e.jsx("option",{value:"standard",children:"Standard"}),e.jsx("option",{value:"zero_balance",children:"Zero Balance"}),e.jsx("option",{value:"weekly",children:"Weekly"})]}),e.jsx("label",{children:"Temporary Credit"}),e.jsx("input",{type:"number",value:k.tempCredit,onChange:U=>Le("tempCredit",U.target.value)})]}),e.jsxs("div",{className:"col-card",children:[e.jsxs("div",{className:"switch-row inline-top",children:[e.jsx("span",{children:"Enable Captcha"}),e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:k.enableCaptcha,onChange:U=>Le("enableCaptcha",U.target.checked)}),e.jsx("span",{className:"slider"})]})]}),e.jsx("label",{children:"Crypto Promo (%)"}),e.jsx("input",{type:"number",value:k.cryptoPromoPct,onChange:U=>Le("cryptoPromoPct",U.target.value)}),e.jsx("label",{children:"Promo Type"}),e.jsxs("select",{value:k.promoType,onChange:U=>Le("promoType",U.target.value),children:[e.jsx("option",{value:"promo_credit",children:"Promo Credit"}),e.jsx("option",{value:"bonus_credit",children:"Bonus Credit"}),e.jsx("option",{value:"none",children:"None"})]}),e.jsx("label",{children:"Expires On"}),e.jsx("input",{type:"date",value:k.expiresOn,onChange:U=>Le("expiresOn",U.target.value)}),e.jsx("label",{children:"Player Notes"}),e.jsx("textarea",{rows:9,placeholder:"For agent reference only",value:k.playerNotes,onChange:U=>Le("playerNotes",U.target.value)}),e.jsx("label",{children:"Balance"}),e.jsx("input",{type:"number",value:f.balance??0,onChange:U=>y(ye=>({...ye,balance:Number(U.target.value||0)}))}),e.jsx("button",{className:"btn btn-user",onClick:Za,children:"Update Balance"})]})]}),e.jsxs("div",{className:"bottom-line",children:[e.jsxs("span",{children:["Total Wagered: ",lt(A.totalWagered||0)]}),e.jsxs("span",{children:["Net: ",e.jsx("b",{className:Number(A.netProfit||0)<0?"neg":"pos",children:lt(A.netProfit||0)})]})]})]}),ne&&e.jsx("div",{className:"modal-overlay",onClick:()=>Z(!1),children:e.jsxs("div",{className:"modal-card",onClick:U=>U.stopPropagation(),children:[e.jsx("h4",{children:"New transaction"}),e.jsx("label",{children:"Type"}),e.jsxs("select",{value:J,onChange:U=>P(U.target.value),children:[e.jsx("option",{value:"credit",children:"Credit"}),e.jsx("option",{value:"debit",children:"Debit"})]}),e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:$,onChange:U=>ue(U.target.value),placeholder:"0.00"}),e.jsx("label",{children:"Description"}),e.jsx("input",{value:me,onChange:U=>Ne(U.target.value),placeholder:"Optional note"}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"btn btn-back",onClick:()=>Z(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-save",onClick:Cn,children:"Save"})]})]})}),ma&&e.jsx("div",{className:"modal-overlay",onClick:()=>Nt(!1),children:e.jsxs("div",{className:"modal-card",onClick:U=>U.stopPropagation(),children:[e.jsx("h4",{children:"New Free Play"}),e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:an,onChange:U=>ks(U.target.value),placeholder:"0.00"}),e.jsx("label",{children:"Description"}),e.jsx("input",{value:Cs,onChange:U=>Va(U.target.value),placeholder:"Optional note"}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"btn btn-back",onClick:()=>Nt(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-save",onClick:Ae,children:"Save"})]})]})}),e.jsx("style",{children:`
        .customer-details-v2 { background:#f3f4f6; min-height:100vh; padding:16px; color:#1f2937; }
        .top-panel { display:flex; justify-content:space-between; align-items:flex-start; background:#fff; border:1px solid #d1d5db; border-radius:8px; padding:16px; box-shadow:0 1px 6px rgba(15, 23, 42, 0.04); }
        .top-left h2 { margin:0; font-size:18px; line-height:1.2; }
        .agent-line { margin-top:4px; color:#4b5563; font-size:14px; }
        .top-actions { display:flex; gap:8px; }

        .btn { border:none; border-radius:3px; cursor:pointer; font-weight:600; }
        .btn-back { background:#3db3d7; color:#fff; padding:8px 14px; }
        .btn-user { background:#2f7fb6; color:#fff; padding:8px 14px; }
        .btn-copy-all { background:#139cc9; color:#fff; padding:8px 14px; }
        .btn-save { background:#35b49f; color:#fff; padding:9px 20px; min-width:130px; font-size:14px; }

        .player-card {
          margin-top: 10px;
          border: 1px solid #d6e2f3;
          border-radius: 4px;
          padding: 12px;
          background: #fff;
          max-width: 720px;
          box-shadow: none;
        }
        .player-card-head {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 8px;
          margin-bottom: 10px;
        }
        .player-title-wrap {
          display: flex;
          align-items: center;
          gap: 10px;
        }
        .player-badge {
          display: inline-flex;
          align-items: center;
          padding: 5px 10px;
          border-radius: 4px;
          border: 1px solid #9ec4f2;
          color: #1f5fb9;
          font-weight: 700;
          font-size: 13px;
        }
        .creds-box {
          border: 1px solid #d6e2f3;
          border-radius: 4px;
          padding: 10px;
          background: #fff;
        }
        .creds-row {
          display: grid;
          grid-template-columns: 120px 160px 32px;
          align-items: center;
          gap: 8px;
          margin-bottom: 8px;
        }
        .creds-row:last-child { margin-bottom: 0; }
        .creds-row span {
          font-size: 14px;
          font-weight: 700;
          color: #64748b;
        }
        .creds-pill {
          border: none;
          background: transparent;
          border-radius: 0;
          padding: 0;
          font-size: 14px;
          font-weight: 700;
          color: #334155;
          line-height: 1.1;
        }
        .copy-mini {
          border: none;
          background: transparent;
          color: #5b93ed;
          cursor: pointer;
          font-size: 18px;
          line-height: 1;
        }
        .limits-box {
          margin-top: 12px;
          border: 1px solid #d6e2f3;
          border-radius: 4px;
          padding: 12px;
          background: #fff;
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 12px 28px;
        }
        .limit-item label {
          display: block;
          margin: 0 0 4px;
          text-transform: uppercase;
          color: #8aa0bc;
          font-size: 12px;
          font-weight: 700;
          letter-spacing: 0.3px;
        }
        .limit-item strong {
          color: #1e293b;
          font-size: 16px;
          line-height: 1;
        }
        .limit-item .money-green {
          color: #08916a;
        }
        .copy-notice {
          margin-top: 6px;
          color: #1f5fb9;
          font-size: 13px;
          font-weight: 700;
        }
        .mobile-only { display: none; }

        .top-right { text-align:right; display:flex; flex-direction:column; gap:8px; }
        .metric {
          border: none;
          background: transparent;
          text-align: right;
          cursor: pointer;
          padding: 0;
        }
        .metric.metric-active { opacity: 1; }
        .metric:not(.metric-active) { opacity: 0.95; }
        .metric span { display:block; font-size:12px; color:#374151; }
        .metric b { font-size:16px; line-height:1.1; font-weight:700; }
        .metric .neg { color:#dc2626; }
        .metric .pos { color:#15803d; }
        .metric .neutral { color:#111827; }
        .metric-circle { background: transparent; border: none; border-radius: 0; padding: 0; margin-top: 0; }

        .basics-header { margin-top:8px; background:#fff; border:1px solid #d1d5db; border-radius:10px; padding:10px 12px; display:flex; align-items:center; justify-content:space-between; }
        .basics-left { display:flex; align-items:center; gap:10px; }
        .basics-left h3 { margin:0; font-size:22px; line-height:1.1; font-weight:700; }
        .dot-grid { width:20px; display:grid; grid-template-columns:repeat(3, 4px); gap:3px; }
        .dot-grid span { width:4px; height:4px; background:#4b5563; border-radius:50%; display:block; }
        .dot-grid-btn {
          border: none;
          background: transparent;
          padding: 2px;
          cursor: pointer;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          border-radius: 4px;
        }
        .dot-grid-btn:hover { background: #e5e7eb; }

        .menu-backdrop {
          position: fixed;
          inset: 0;
          z-index: 40;
          border: none;
          background: rgba(15, 23, 42, 0.15);
        }
        .basics-quick-menu {
          position: absolute;
          z-index: 50;
          left: 24px;
          top: 245px;
          width: 300px;
          height: 300px;
          max-width: calc(100vw - 48px);
          background: #ffffff;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          box-shadow: 0 14px 28px rgba(0, 0, 0, 0.2);
          padding: 10px 8px 10px;
          overflow: hidden;
        }
        .menu-close {
          border: none;
          background: #374151;
          color: #fff;
          width: 28px;
          height: 28px;
          border-radius: 50%;
          cursor: pointer;
          margin-left: auto;
          display: block;
          font-weight: 700;
        }
        .menu-grid {
          display: grid;
          grid-template-columns: repeat(3, minmax(0, 1fr));
          gap: 14px 10px;
          padding: 8px 2px 2px;
          height: 248px;
          overflow-y: auto;
        }
        .menu-item {
          border: none;
          background: transparent;
          text-align: center;
          cursor: pointer;
          padding: 4px;
          color: #1f2937;
        }
        .menu-item:hover .menu-icon {
          transform: translateY(-1px);
        }
        .menu-icon {
          width: 40px;
          height: 40px;
          border-radius: 8px;
          margin: 0 auto 6px;
          display: grid;
          place-items: center;
          font-size: 20px;
          line-height: 1;
          color: #1f2937;
          background: #f3f4f6;
          transition: transform 0.15s ease;
        }
        .menu-item:nth-child(1) .menu-icon { color:#ef4444; }
        .menu-item:nth-child(2) .menu-icon { color:#65a30d; }
        .menu-item:nth-child(3) .menu-icon { color:#3b82f6; }
        .menu-item:nth-child(4) .menu-icon { color:#a16207; }
        .menu-item:nth-child(5) .menu-icon { color:#0d9488; }
        .menu-item:nth-child(6) .menu-icon { color:#f97316; }
        .menu-item:nth-child(7) .menu-icon { color:#111827; }
        .menu-item:nth-child(8) .menu-icon { color:#1d4ed8; }
        .menu-item:nth-child(9) .menu-icon { color:#4b5563; }
        .menu-item:nth-child(10) .menu-icon { color:#0ea5e9; }
        .menu-item:nth-child(11) .menu-icon { color:#4f46e5; }
        .menu-item:nth-child(12) .menu-icon { color:#b91c1c; }
        .menu-item:nth-child(13) .menu-icon { color:#60a5fa; }
        .menu-item:nth-child(14) .menu-icon { color:#6b7280; }
        .menu-item:nth-child(15) .menu-icon { color:#84a34a; }
        .menu-item:nth-child(16) .menu-icon { color:#c084fc; }
        .menu-item:nth-child(17) .menu-icon { color:#d97706; }
        .menu-item:nth-child(18) .menu-icon { color:#16a34a; }
        .menu-label {
          font-size: 11px;
          font-weight: 600;
          line-height: 1.1;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }

        .alert { margin-top:8px; padding:10px 12px; border-radius:3px; }
        .alert.error { background:#fee2e2; color:#991b1b; border:1px solid #fecaca; }
        .alert.success { background:#dcfce7; color:#166534; border:1px solid #bbf7d0; }

        .transactions-wrap {
          margin-top: 8px;
          background: #fff;
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 12px;
        }
        .tx-controls {
          display: grid;
          grid-template-columns: 1.2fr 1.2fr repeat(4, 1fr);
          gap: 10px;
          margin-bottom: 12px;
        }
        .tx-field label, .tx-stat label {
          display: block;
          color: #4b5563;
          font-size: 12px;
          margin-bottom: 4px;
        }
        .tx-field select {
          width: 100%;
          border: none;
          border-bottom: 1px solid #6b7280;
          background: transparent;
          font-size: 16px;
          padding: 4px 0;
          color: #111827;
          outline: none;
        }
        .tx-field input {
          width: 100%;
          border: none;
          border-bottom: 1px solid #6b7280;
          background: transparent;
          font-size: 16px;
          padding: 4px 0;
          color: #111827;
          outline: none;
        }
        .tx-stat b {
          display: block;
          font-size: 22px;
          line-height: 1.05;
          font-weight: 500;
          color: #111827;
        }
        .tx-stat .neg { color: #dc2626; }
        .tx-table-wrap {
          border: 1px solid #cbd5e1;
          min-height: 360px;
          overflow: auto;
          background: #fff;
        }
        .tx-table {
          width: 100%;
          border-collapse: collapse;
        }
        .tx-table th {
          background: #1f3345;
          color: #fff;
          text-align: left;
          font-size: 16px;
          padding: 10px 12px;
          position: sticky;
          top: 0;
        }
        .tx-table td {
          border-bottom: 1px solid #e5e7eb;
          padding: 8px 12px;
          font-size: 14px;
          color: #1f2937;
        }
        .tx-table tr.selected td { background: #eff6ff; }
        .tx-table tr { cursor: pointer; }
        .tx-empty {
          text-align: center;
          padding: 24px !important;
          color: #6b7280 !important;
        }
        .btn-danger {
          margin-top: 10px;
          background: #dc3f51;
          color: #fff;
          padding: 10px 30px;
        }
        .btn-danger:disabled {
          opacity: 0.45;
          cursor: not-allowed;
        }
        .freeplay-controls {
          grid-template-columns: 1.2fr 1fr 1fr;
        }
        .freeplay-bottom-row {
          margin-top: 10px;
          display: grid;
          grid-template-columns: auto 1fr auto;
          align-items: end;
          gap: 12px;
        }
        .freeplay-settings-btn {
          justify-self: center;
          min-width: 320px;
          text-align: center;
        }
        .freeplay-inputs {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
          min-width: 360px;
        }

        .performance-wrap {
          margin-top: 8px;
          background: #fff;
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 12px;
        }
        .perf-controls {
          display: grid;
          grid-template-columns: 220px;
          gap: 10px;
          margin-bottom: 10px;
        }
        .performance-grid {
          display: grid;
          grid-template-columns: 480px 1fr;
          gap: 16px;
          min-height: 420px;
        }
        .perf-left {
          border: 1px solid #cbd5e1;
          max-height: 420px;
          overflow-y: auto;
        }
        .perf-right {
          border: 1px solid #cbd5e1;
          padding: 0;
        }
        .perf-title-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          font-size: 18px;
          line-height: 1;
          padding: 8px 0 8px 0;
        }
        .perf-title-row b { font-size: 26px; font-weight: 700; }
        .perf-table {
          width: 100%;
          border-collapse: collapse;
        }
        .perf-table th {
          background: #1f3345;
          color: #fff;
          text-align: left;
          font-size: 14px;
          padding: 8px 10px;
          position: sticky;
          top: 0;
        }
        .perf-table td {
          border-bottom: 1px solid #e5e7eb;
          padding: 8px 10px;
          font-size: 14px;
          color: #1f2937;
        }
        .perf-table tr.selected td { background: #f1f5f9; }

        .dynamic-live-wrap {
          margin-top: 8px;
          background: #fff;
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 12px;
        }
        .dl-top-select {
          width: 220px;
          margin-bottom: 12px;
        }
        .dynamic-live-grid {
          display: grid;
          grid-template-columns: 1fr 1fr 1fr;
          gap: 28px;
        }
        .dl-col, .dl-col-toggles {
          display: flex;
          flex-direction: column;
          gap: 6px;
        }
        .dl-col label {
          font-size: 13px;
          color: #4b5563;
        }
        .dl-col input {
          border: none;
          border-bottom: 1px solid #6b7280;
          background: transparent;
          font-size: 16px;
          line-height: 1;
          color: #111827;
          padding: 2px 0 4px;
          outline: none;
        }
        .dl-col-toggles .switch-row {
          justify-content: space-between;
          font-size: 15px;
          line-height: 1.15;
          padding: 10px 0;
        }

        .live-casino-wrap {
          margin-top: 8px;
          background: #fff;
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 12px 18px 22px;
        }
        .live-casino-grid {
          display: grid;
          grid-template-columns: 220px 130px 130px 130px;
          gap: 10px 20px;
          align-items: center;
          max-width: 760px;
        }
        .lc-col-head {
          font-size: 18px;
          color: #374151;
          font-weight: 700;
        }
        .lc-label {
          font-size: 14px;
          color: #374151;
          font-weight: 600;
        }
        .live-casino-grid input {
          width: 100%;
          border: 1px solid #d1d5db;
          background: #fff;
          border-radius: 4px;
          font-size: 14px;
          line-height: 1;
          padding: 4px 8px;
          color: #111827;
        }
        .lc-note {
          margin-top: 16px;
          max-width: 1200px;
          font-size: 13px;
          line-height: 1.35;
          color: #374151;
        }

        .basics-grid { margin-top:8px; display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; }
        .col-card { background:#fff; border:1px solid #d1d5db; padding:12px; display:flex; flex-direction:column; min-height:560px; }
        .col-card label { color:#4b5563; font-size:13px; margin-top:8px; margin-bottom:4px; }
        .col-card input, .col-card select, .col-card textarea { width:100%; border:none; border-bottom:1px solid #6b7280; background:transparent; font-size:18px; padding:4px 0; color:#111827; outline:none; }
        .col-card textarea { border:1px solid #6b7280; min-height:160px; font-size:16px; padding:6px; }

        .switch-list { margin-top:8px; }
        .switch-row { display:flex; align-items:center; justify-content:space-between; padding:6px 0; font-size:16px; }
        .switch-row.inline-top { margin-top:8px; }
        .switch {
          position:relative;
          display:inline-block;
          width:58px;
          height:32px;
          flex-shrink:0;
        }
        .switch input { opacity:0; width:0; height:0; }
        .slider {
          position:absolute;
          cursor:pointer;
          top:0;
          left:0;
          right:0;
          bottom:0;
          background-color:#b0b7c3;
          transition:.2s;
          border-radius:999px;
        }
        .slider:before {
          position:absolute;
          content:'';
          height:24px;
          width:24px;
          left:4px;
          top:4px;
          background:white;
          transition:.2s;
          border-radius:50%;
        }
        .switch input:checked + .slider { background:#16a34a; }
        .switch input:checked + .slider:before { transform:translateX(26px); }

        .bottom-line { margin-top:10px; font-size:14px; color:#374151; display:flex; gap:22px; }
        .bottom-line .neg { color:#dc2626; }
        .bottom-line .pos { color:#15803d; }

        .modal-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.35);
          z-index: 120;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .modal-card {
          width: 380px;
          max-width: calc(100vw - 32px);
          border-radius: 8px;
          background: #fff;
          padding: 16px;
          border: 1px solid #d1d5db;
          box-shadow: 0 12px 30px rgba(0,0,0,0.25);
          display: flex;
          flex-direction: column;
          gap: 6px;
        }
        .modal-card h4 { margin: 0 0 6px; font-size: 18px; }
        .modal-card label { font-size: 13px; color: #4b5563; }
        .modal-card input, .modal-card select {
          border: 1px solid #cbd5e1;
          border-radius: 4px;
          padding: 8px 10px;
          font-size: 14px;
          color: #111827;
        }
        .modal-actions {
          margin-top: 8px;
          display: flex;
          justify-content: flex-end;
          gap: 8px;
        }

        @media (max-width: 1300px) {
          .basics-grid { grid-template-columns:1fr; }
          .top-panel { flex-direction:column; gap:12px; }
          .top-right { text-align:left; }
          .player-card { max-width: 100%; }
          .player-card-head { flex-direction: column; align-items: flex-start; }
          .creds-row { grid-template-columns: 90px 1fr 32px; }
          .limits-box { grid-template-columns: 1fr; }
          .top-actions { display: none; }
          .mobile-only { display: flex; margin-top: 8px; }
          .tx-controls { grid-template-columns: 1fr 1fr; }
          .tx-stat b { font-size: 20px; }
          .freeplay-controls { grid-template-columns: 1fr 1fr; }
          .freeplay-bottom-row { grid-template-columns: 1fr; }
          .freeplay-inputs { min-width: 0; grid-template-columns: 1fr; }
          .performance-grid { grid-template-columns: 1fr; }
          .perf-left { max-height: 300px; }
          .perf-title-row { font-size: 20px; }
          .perf-title-row b { font-size: 24px; }
          .dynamic-live-grid { grid-template-columns: 1fr; }
          .dl-col input { font-size: 20px; }
          .dl-col-toggles .switch-row { font-size: 18px; }
          .live-casino-grid { grid-template-columns: 1fr 1fr; max-width: none; }
          .lc-col-head, .lc-label, .live-casino-grid input { font-size: 18px; }
          .lc-note { font-size: 14px; }
        }
      `})]}):e.jsx("div",{className:"admin-view",children:e.jsx("div",{className:"view-content",children:"User not found."})})}class E0 extends ys.Component{constructor(r){super(r),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,o){console.error("Uncaught error:",r,o),this.setState({error:r,errorInfo:o})}render(){return this.state.hasError?e.jsxs("div",{className:"error-boundary p-4 bg-red-100 border border-red-400 text-red-700 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Something went wrong."}),e.jsx("span",{className:"block sm:inline",children:" The view could not be loaded."}),e.jsx("br",{}),e.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),e.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),e.jsx("button",{className:"mt-2 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",onClick:()=>this.setState({hasError:!1}),children:"Try Again"})]}):this.props.children}}const T0=["dashboard","weekly-figures","customer-admin","add-customer","cashier","settings","profile"];function cd({onExit:l,role:r="admin"}){const[o,d]=u.useState("dashboard"),[h,p]=u.useState(!1),[b,w]=u.useState(null),[x,g]=u.useState("tiles"),[j,f]=u.useState(window.innerWidth<=768),[y,A]=u.useState(null),[N,D]=u.useState(r),[R,k]=u.useState(!1),[I,L]=u.useState("Admin");u.useEffect(()=>{(async()=>{try{const se=localStorage.getItem("token");if(se){const z=await Ns(se);z&&(z.dashboardLayout&&g(z.dashboardLayout),A(z.permissions||null),z.role&&D(z.role))}}catch(se){console.error("Failed to fetch layout pref",se)}})()},[]),u.useEffect(()=>{const _=()=>{f(window.innerWidth<=768)};return window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]);const C=(_,se=null)=>{oi(N,y,_)&&(d(_),se&&w(se),p(!1))};u.useEffect(()=>{if(!oi(N,y,o)){const _=T0.find(se=>oi(N,y,se))||"dashboard";d(_)}},[o,y,N]);const v=()=>{l()},E=async _=>{try{const se=localStorage.getItem("token")||sessionStorage.getItem("token");if(!se||!_)return;if(!sessionStorage.getItem("impersonationBaseToken")){const F=await Ns(se),M=String(F?.role||r||"admin").toLowerCase(),K=M==="master_agent"?"Master Agent":M==="super_agent"?"Super Agent":M==="agent"?"Agent":"Admin";sessionStorage.setItem("impersonationBaseToken",se),sessionStorage.setItem("impersonationBaseRole",M),sessionStorage.setItem("impersonationBaseUsername",String(F?.username||K))}const S=await Lp(_,se);if(!S?.token)return;if(localStorage.setItem("token",S.token),sessionStorage.setItem("token",S.token),S.role&&localStorage.setItem("userRole",S.role),S.username&&S.role){const F=S.role==="admin"?"admin":S.role==="super_agent"||S.role==="master_agent"?"super_agent":"agent";sessionStorage.setItem(`${F}Username`,S.username)}window.location.reload()}catch(se){console.error("Context switch failed:",se),alert(se.message||"Failed to switch context")}},q=()=>{const _=sessionStorage.getItem("impersonationBaseToken");if(!_)return;localStorage.setItem("token",_),sessionStorage.setItem("token",_);const se=sessionStorage.getItem("impersonationBaseRole");se&&localStorage.setItem("userRole",se),sessionStorage.removeItem("impersonationBaseToken"),sessionStorage.removeItem("impersonationBaseRole"),sessionStorage.removeItem("impersonationBaseUsername"),window.location.reload()};u.useEffect(()=>{const _=sessionStorage.getItem("impersonationBaseRole"),se=sessionStorage.getItem("impersonationBaseUsername");if(!_){L("Admin");return}const z=_==="master_agent"?"Master Agent":_==="super_agent"?"Super Agent":_==="agent"?"Agent":"Admin";L(se?`${z} (${String(se).toUpperCase()})`:z)},[]);const V=()=>{switch(o){case"dashboard":return e.jsx(If,{onMenuClick:C,onOpenScoreboard:()=>k(!0),role:N,layoutPref:x,isMobile:j,permissions:y});case"user-details":return e.jsx(A0,{userId:b,onBack:()=>d("customer-admin"),role:N});case"weekly-figures":return e.jsx(Yv,{});case"pending":return e.jsx(Vv,{});case"messaging":return e.jsx(Qv,{});case"game-admin":return e.jsx(Xv,{});case"customer-admin":return e.jsx(Zv,{onViewChange:C});case"cashier":return e.jsx(t0,{});case"add-customer":return e.jsx(n0,{});case"third-party-limits":return e.jsx(l0,{});case"props":return e.jsx(i0,{});case"agent-performance":return e.jsx(r0,{});case"analysis":return e.jsx(o0,{});case"ip-tracker":return e.jsx(c0,{canManage:$v(N,y)});case"transactions-history":return e.jsx(d0,{});case"collections":return e.jsx(u0,{});case"deleted-wagers":return e.jsx(h0,{});case"games-events":return e.jsx(m0,{});case"sportsbook-links":return e.jsx(f0,{});case"bet-ticker":return e.jsx(p0,{});case"ticketwriter":return e.jsx(x0,{});case"scores":return e.jsx(g0,{});case"agent-admin":return e.jsx(Wf,{});case"agent-manager":return e.jsx(b0,{});case"master-agent-admin":return e.jsx(Wf,{});case"billing":return e.jsx(y0,{});case"settings":return e.jsx(j0,{});case"profile":return e.jsx(C0,{});case"rules":return e.jsx(v0,{});case"feedback":return e.jsx(N0,{});case"faq":return e.jsx(w0,{});case"user-manual":return e.jsx(S0,{});case"monitor":return e.jsx(k0,{});default:return e.jsx(If,{onMenuClick:C,onOpenScoreboard:()=>k(!0),role:N,permissions:y})}};return e.jsxs("div",{className:"admin-panel",children:[e.jsx(Gv,{onMenuToggle:()=>p(!h),onLogout:v,onViewChange:C,onSwitchContext:E,onRestoreBaseContext:q,canRestoreBaseContext:!!sessionStorage.getItem("impersonationBaseToken"),baseContextLabel:I,role:N}),e.jsxs("div",{className:"admin-container",children:[e.jsx(Wv,{activeView:o,onViewChange:C,onOpenScoreboard:()=>k(!0),isOpen:h,role:N,permissions:y}),e.jsx("div",{className:"admin-content",children:e.jsx(E0,{children:V()})})]}),R&&e.jsx(_p,{onClose:()=>k(!1)})]})}const L0=({onLogin:l,isLoggedIn:r})=>{const[o,d]=u.useState({username:"",password:""}),[h,p]=u.useState(""),[b,w]=u.useState("all");return e.jsxs("div",{className:"landing-page",children:[e.jsx(Kj,{onLogin:l,isLoggedIn:r}),e.jsx(tv,{activeLeague:b,onSelectLeague:w}),e.jsx(av,{}),e.jsxs("div",{className:"banner-content-centered",children:[e.jsx("img",{src:"/bgremlogo.png",alt:"betterbet365",className:"banner-logo"}),e.jsx("div",{className:"banner-divider"}),e.jsx("p",{className:"banner-tagline",children:"THE PREMIUM CHOICE FOR WINNERS"})]}),e.jsx("footer",{className:"main-footer",children:e.jsxs("div",{className:"footer-content",children:[e.jsxs("div",{className:"footer-left",children:[e.jsx("img",{src:"/bgremlogo.png",alt:"Logo",className:"footer-logo"}),e.jsx("p",{className:"copyright",children:" 2026 betterbet365 | All Rights Reserved"})]}),e.jsxs("div",{className:"footer-right",children:[e.jsx("span",{children:"RESPONSIBLE GAMING"}),e.jsx("span",{children:"TERMS & CONDITIONS"}),e.jsx("span",{children:"PRIVACY POLICY"})]})]})})]})},Vf={straight:{minLegs:1,maxLegs:1,teaserPointOptions:[],payoutProfile:{multipliers:{}}},parlay:{minLegs:2,maxLegs:12,teaserPointOptions:[],payoutProfile:{multipliers:{}}},teaser:{minLegs:2,maxLegs:6,teaserPointOptions:[6,6.5,7],payoutProfile:{multipliers:{2:1.8,3:2.6,4:4,5:6.5,6:9.5}}},if_bet:{minLegs:2,maxLegs:2,teaserPointOptions:[],payoutProfile:{multipliers:{}}},reverse:{minLegs:2,maxLegs:2,teaserPointOptions:[],payoutProfile:{multipliers:{}}}},Qf=[{id:"straight",label:"STRAIGHT",icon:"S"},{id:"parlay",label:"PARLAY",icon:"P"},{id:"teaser",label:"TEASER",icon:"T"},{id:"if_bet",label:"IF BET",icon:"I"},{id:"reverse",label:"REVERSE",icon:"R"}],Rr=l=>{const r=Number(l);return Number.isFinite(r)?r.toFixed(2):"0.00"},M0=(l,r)=>{const o=l?.payoutProfile?.multipliers?.[String(r)],d=Number(o);return Number.isFinite(d)&&d>0?d:1},D0=({user:l,balance:r=0,mode:o,onModeChange:d,selections:h,onSelectionsChange:p,wager:b,onWagerChange:w,teaserPoints:x,onTeaserPointsChange:g,rulesByMode:j,onBetPlaced:f})=>{const[y,A]=u.useState(null),[N,D]=u.useState(!1),[R,k]=u.useState(!1),[I,L]=u.useState(!1);u.useEffect(()=>{const B=window.matchMedia("(max-width: 768px)"),Q=()=>k(B.matches);return Q(),B.addEventListener("change",Q),()=>B.removeEventListener("change",Q)},[]);const C=Ks(o),v=j[C]||Vf[C]||Vf.straight,E=h.length,q=Number(b),V=Number(x||0),_=C!=="teaser"||!Array.isArray(v.teaserPointOptions)||v.teaserPointOptions.length===0||v.teaserPointOptions.includes(V),se=u.useMemo(()=>{const B=[];return(E<v.minLegs||E>v.maxLegs)&&B.push(`${Qf.find(Q=>Q.id===C)?.label||"MODE"} requires ${v.minLegs===v.maxLegs?v.minLegs:`${v.minLegs}-${v.maxLegs}`} selections`),(!Number.isFinite(q)||q<=0)&&B.push("Enter a valid wager amount"),_||B.push(`Select teaser points: ${v.teaserPointOptions.join(", ")}`),h.every(Q=>Number.isFinite(Number(Q.odds))&&Number(Q.odds)>0)||B.push("One or more selections have invalid odds"),B},[E,C,v,h,q,_]),z=u.useMemo(()=>{if(!Number.isFinite(q)||q<=0||E===0)return 0;if(C==="straight")return q*Number(h[0]?.odds||0);if(C==="parlay"){const B=h.reduce((Q,ne)=>Q*Number(ne.odds||1),1);return q*B}if(C==="teaser")return q*M0(v,E);if(C==="if_bet"||C==="reverse"){const B=h.slice(0,2).reduce((Q,ne)=>Q*Number(ne.odds||1),1);return q*B}return 0},[q,E,C,h,v]),S=C==="reverse"?q*2:q,F=se.length===0&&!N,M=E>0,[K,H]=u.useState(M);u.useEffect(()=>{M&&H(!0)},[M]);const G=B=>{p(h.filter(Q=>Q.id!==B))},re=()=>{p([]),w(""),A(null),L(!1)},je=async()=>{const B=localStorage.getItem("token");if(!B){L(!0),A({type:"error",text:"Please login to place bets"});return}if(L(!0),!F)return;const Q={type:C,amount:q,teaserPoints:C==="teaser"?V:0};if(C==="straight"){const ne=h[0];Q.matchId=ne.matchId,Q.selection=ne.selection,Q.odds=Number(ne.odds),Q.type=C}else Q.selections=h.map(ne=>({matchId:ne.matchId,selection:ne.selection,odds:Number(ne.odds),type:ne.marketType||"straight"}));try{D(!0);const ne=await Uy(Q,B);A({type:"success",text:ne?.message||"Bet placed successfully"}),re(),window.dispatchEvent(new Event("user:refresh")),f&&f()}catch(ne){A({type:"error",text:ne.message||"Failed to place bet"})}finally{D(!1)}},ee=R?{position:"fixed",left:0,right:0,bottom:0,maxHeight:"62vh",zIndex:1200,borderTopLeftRadius:16,borderTopRightRadius:16}:{position:"fixed",right:16,top:150,width:360,maxHeight:"calc(100vh - 170px)",zIndex:1200,borderRadius:14};return K?e.jsxs("div",{style:{...ee,display:"flex",flexDirection:"column",background:"#f8f9fb",border:"1px solid #d9dbe0",overflow:"hidden",boxShadow:"0 8px 24px rgba(0,0,0,0.18)"},children:[e.jsx("div",{style:{background:"#0f5db3",color:"white",padding:"10px 12px"},children:e.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[Qf.map(B=>e.jsxs("button",{onClick:()=>d(B.id),style:{flex:1,border:"none",borderRadius:6,padding:"7px 4px",fontSize:11,fontWeight:700,color:Ks(o)===B.id?"#0f5db3":"#ffffff",background:Ks(o)===B.id?"#ffffff":"rgba(255,255,255,0.18)",cursor:"pointer"},children:[B.icon," ",B.label]},B.id)),e.jsx("button",{onClick:()=>H(!1),title:"Minimize",style:{border:"none",background:"rgba(255,255,255,0.2)",color:"#fff",borderRadius:6,width:34,height:34,cursor:"pointer",flexShrink:0},children:e.jsx("i",{className:"fa-solid fa-minus"})})]})}),e.jsxs("div",{style:{padding:12,overflowY:"auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsxs("strong",{children:["Selections (",E,")"]}),e.jsx("button",{onClick:re,style:{border:"none",background:"transparent",color:"#666",cursor:"pointer"},children:"Clear"})]}),E===0&&e.jsx("div",{style:{fontSize:13,color:"#666",padding:"8px 0"},children:"Click odds from the board to add selections."}),h.map(B=>e.jsxs("div",{style:{border:"1px solid #d7dbe3",borderRadius:8,padding:8,marginBottom:8,background:"#fff"},children:[e.jsx("div",{style:{fontSize:12,color:"#555"},children:B.matchName}),e.jsx("div",{style:{fontSize:13,fontWeight:700},children:B.selection}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:4,fontSize:12},children:[e.jsx("span",{children:B.marketLabel}),e.jsx("span",{children:Rr(B.odds)})]}),e.jsx("div",{style:{marginTop:6},children:e.jsx("button",{onClick:()=>G(B.id),style:{border:"none",background:"#f2f3f6",color:"#444",borderRadius:5,padding:"3px 8px",cursor:"pointer",fontSize:11},children:"Remove"})})]},B.id)),e.jsxs("div",{style:{marginTop:10},children:[e.jsx("label",{style:{display:"block",fontSize:12,marginBottom:4},children:"Stake"}),e.jsx("input",{type:"number",min:"0",value:b,onChange:B=>w(B.target.value),placeholder:"0.00",style:{width:"100%",padding:10,borderRadius:8,border:"1px solid #cfd4dd"}}),e.jsxs("div",{style:{fontSize:11,color:"#666",marginTop:4},children:["Balance: $",Rr(r)]})]}),C==="teaser"&&Array.isArray(v.teaserPointOptions)&&v.teaserPointOptions.length>0&&e.jsxs("div",{style:{marginTop:10},children:[e.jsx("label",{style:{display:"block",fontSize:12,marginBottom:4},children:"Teaser Points"}),e.jsxs("select",{value:x,onChange:B=>g(B.target.value),style:{width:"100%",padding:10,borderRadius:8,border:"1px solid #cfd4dd"},children:[e.jsx("option",{value:"",children:"Select points"}),v.teaserPointOptions.map(B=>e.jsx("option",{value:B,children:B},B))]})]}),e.jsxs("div",{style:{marginTop:10,padding:10,borderRadius:8,background:"#eef3fa",fontSize:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Total Risk"}),e.jsxs("strong",{children:["$",Rr(S)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:6},children:[e.jsx("span",{children:"Potential Payout"}),e.jsxs("strong",{children:["$",Rr(z)]})]})]}),se.map(B=>I?e.jsx("div",{style:{color:"#a11",fontSize:12,marginTop:7},children:B},B):null).filter(Boolean),y&&e.jsx("div",{style:{color:y.type==="error"?"#a11":"#0b6623",fontSize:12,marginTop:7},children:y.text}),e.jsx("button",{onClick:je,disabled:!F,style:{width:"100%",marginTop:12,border:"none",borderRadius:8,padding:"12px 10px",fontWeight:800,color:"white",background:F?"#0f5db3":"#9ca5b3",cursor:F?"pointer":"not-allowed"},children:N?"Placing...":"Place Bet"})]})]}):e.jsx("button",{onClick:()=>H(!0),title:"Open Bet Panel",style:{position:"fixed",right:18,bottom:18,width:58,height:58,borderRadius:"50%",border:"none",background:"#0f5db3",color:"#fff",zIndex:1200,boxShadow:"0 8px 20px rgba(0,0,0,0.28)",cursor:"pointer",fontSize:22,fontWeight:900},children:e.jsx("i",{className:"fa-solid fa-ticket"})})},B0={straight:{minLegs:1,maxLegs:1,teaserPointOptions:[],payoutProfile:{multipliers:{}}},parlay:{minLegs:2,maxLegs:12,teaserPointOptions:[],payoutProfile:{multipliers:{}}},teaser:{minLegs:2,maxLegs:6,teaserPointOptions:[6,6.5,7],payoutProfile:{multipliers:{2:1.8,3:2.6,4:4,5:6.5,6:9.5}}},if_bet:{minLegs:2,maxLegs:2,teaserPointOptions:[],payoutProfile:{multipliers:{}}},reverse:{minLegs:2,maxLegs:2,teaserPointOptions:[],payoutProfile:{multipliers:{}}}};function _0(){const l=vd(),[r,o]=u.useState(localStorage.getItem("token")||null),[d,h]=u.useState(!!r),[p,b]=u.useState("all"),[w,x]=u.useState("dashboard"),[g,j]=u.useState([]),[f,y]=u.useState("straight"),[A,N]=u.useState([]),[D,R]=u.useState(""),[k,I]=u.useState(""),[L,C]=u.useState(B0),[v,E]=u.useState(!1),[q,V]=u.useState(!1),[_,se]=u.useState(!1),z=typeof window<"u"&&window.matchMedia&&window.matchMedia("(max-width: 768px)").matches,[S,F]=u.useState(null);u.useEffect(()=>{window.dispatchEvent(new CustomEvent("matches:refresh")),r?(h(!0),document.body.classList.add("dashboard-mode"),M(r)):(h(!1),document.body.classList.remove("dashboard-mode"))},[r]),u.useEffect(()=>{(async()=>{if(r)try{const Z=((await zy(r))?.rules||[]).reduce((J,P)=>(J[Ks(P.mode)]=P,J),{});Object.keys(Z).length>0&&C(J=>({...J,...Z}))}catch(ne){console.warn("Failed to load bet mode rules:",ne.message)}})()},[r]),u.useEffect(()=>{const Q=ne=>{const Z=ne.detail||{};if(!Z.matchId||!Z.selection)return;const J=Ks(f),P=`${Z.matchId}-${Z.marketType}-${Z.selection}`;N($=>{if($.find(Ne=>Ne.dedupeKey===P))return $;const me=[...$,{...Z,id:Date.now()+Math.random(),dedupeKey:P}];return J==="straight"?[me[me.length-1]]:me})};return window.addEventListener("betslip:add",Q),()=>window.removeEventListener("betslip:add",Q)},[f]),u.useEffect(()=>{if(S&&(S.role==="admin"||S.role==="agent"||S.role==="super_agent"||S.role==="master_agent")){const Q=S.role==="admin"?"/admin/dashboard":S.role==="super_agent"||S.role==="master_agent"?"/super_agent/dashboard":"/agent/dashboard";l(Q,{replace:!0})}},[S,l]),u.useEffect(()=>{const Q=()=>{r&&M(r)};return window.addEventListener("user:refresh",Q),()=>{window.removeEventListener("user:refresh",Q)}},[r]);const M=async Q=>{try{const ne=await Ns(Q);F(ne)}catch(ne){console.error("Failed to fetch user data",ne),(ne?.status===401||ne?.status===403)&&H()}},K=async(Q,ne)=>{try{const Z=await By(Q,ne);if(o(Z.token),localStorage.setItem("token",Z.token),sessionStorage.setItem("token",Z.token),localStorage.setItem("userRole",Z.role),F({username:Z.username,phoneNumber:Z.phoneNumber,balance:Z.balance,pendingBalance:Z.pendingBalance,availableBalance:Z.availableBalance,id:Z.id,role:Z.role,unlimitedBalance:Z.unlimitedBalance}),h(!0),document.body.classList.add("dashboard-mode"),Z.role==="admin"||Z.role==="agent"||Z.role==="super_agent"||Z.role==="master_agent"){const J=Z.role==="admin"?"admin":Z.role==="super_agent"||Z.role==="master_agent"?"super_agent":"agent";sessionStorage.setItem(`${J}Authenticated`,"true"),sessionStorage.setItem(`${J}Username`,Z.username),l(`/${J}/dashboard`)}}catch(Z){throw Z}},H=()=>{o(null),F(null),h(!1),N([]),R(""),I(""),localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("userRole"),document.body.classList.remove("dashboard-mode"),je()},G=Q=>{x(Q),E(!1)},re=Q=>{const ne=Ks(Q);y(ne),ne==="straight"&&N(Z=>Z.length>0?[Z[Z.length-1]]:[])},je=()=>{x("dashboard"),j([]),b("all"),se(!1),E(!1)},ee=()=>{se(!1)},B=Q=>{const ne=new Set(["up-next","featured","commercial-live"]);j(Z=>Z.includes(Q)?Z.filter(P=>P!==Q):ne.has(Q)?[Q]:[...Z.filter(P=>!ne.has(P)),Q])};return e.jsx("div",{className:"app-container",children:d?e.jsxs("div",{className:"dashboard-layout",children:[e.jsx(dv,{username:S?.username||"Guest",balance:S?.balance??null,pendingBalance:S?.pendingBalance??null,availableBalance:S?.availableBalance??S?.balance??null,role:S?.role,unlimitedBalance:S?.unlimitedBalance,onLogout:H,onViewChange:G,activeBetMode:f,onBetModeChange:re,currentView:w,onToggleSidebar:()=>E(!v),selectedSports:g,onContinue:ee,isMobileSportsSelectionMode:_,onHomeClick:je}),e.jsxs("div",{className:`dashboard-content-area ${_?"mobile-sports-mode":""}`,style:{position:"relative",marginTop:"0"},children:[v&&e.jsx(_v,{onClose:()=>E(!1),onViewChange:G}),w==="dashboard"&&e.jsx(e.Fragment,{children:z&&_?e.jsx(Lf,{selectedSports:g,onToggleSport:B,betMode:f,isOpen:!0,onCloseSidebar:()=>E(!1),isMobileSportsSelectionMode:_}):z&&g&&g.length>0?e.jsx(Rv,{selectedSports:g}):e.jsxs(e.Fragment,{children:[e.jsx(Lf,{selectedSports:g,onToggleSport:B,betMode:f,isOpen:v,onCloseSidebar:()=>E(!1),isMobileSportsSelectionMode:_}),e.jsxs("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column"},children:[q&&e.jsx(Ov,{}),e.jsx("div",{style:{flex:1},children:e.jsx(pv,{selectedSports:g,activeBetMode:f})})]})]})}),w==="prime-live"&&e.jsx(xv,{}),w==="ultra-live"&&e.jsx(vv,{}),w==="casino"&&e.jsx(Nv,{}),w==="live-casino"&&e.jsx("div",{style:{flex:1,backgroundColor:"#505050",minHeight:"calc(100vh - 125px)"},children:e.jsx(kv,{})}),w==="props"&&e.jsx(Cv,{}),w==="rules"&&e.jsx(Lv,{}),w==="bonus"&&e.jsx(Bv,{}),w==="tutorials"&&e.jsx(Iv,{}),w==="support"&&e.jsx(Fv,{}),w==="my-bets"&&e.jsx(Hv,{})]}),e.jsx(Pv,{}),e.jsx("div",{className:"desktop-feedback-trigger",style:{position:"fixed",bottom:"0",left:"0",width:"260px",background:"#004d26",color:"white",padding:"10px",textAlign:"center",fontWeight:"bold",fontSize:"12px",zIndex:100},children:"FEEDBACK"}),d&&S&&S.role==="user"&&e.jsx(D0,{user:S,balance:S.availableBalance??S.balance,mode:f,onModeChange:re,selections:A,onSelectionsChange:N,wager:D,onWagerChange:R,teaserPoints:k,onTeaserPointsChange:I,rulesByMode:L,onBetPlaced:()=>M(r)}),e.jsx("div",{style:{position:"fixed",bottom:"40px",left:"20px",width:"50px",height:"50px",background:"#a30000",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",zIndex:21,boxShadow:"0 2px 5px rgba(0,0,0,0.3)",border:"2px solid white"},children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"})})})]}):e.jsx(L0,{onLogin:K,isLoggedIn:d})})}const R0=({children:l})=>sessionStorage.getItem("adminAuthenticated")==="true"?l:e.jsx(Sn,{to:"/admin",replace:!0}),O0=({children:l})=>sessionStorage.getItem("agentAuthenticated")==="true"?l:e.jsx(Sn,{to:"/",replace:!0}),U0=({children:l})=>sessionStorage.getItem("super_agentAuthenticated")==="true"?l:e.jsx(Sn,{to:"/",replace:!0});Kg.createRoot(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(jy,{children:e.jsxs(Xb,{children:[e.jsx(gs,{path:"/",element:e.jsx(_0,{})}),e.jsx(gs,{path:"/admin",element:e.jsx(Sn,{to:"/",replace:!0})}),e.jsx(gs,{path:"/agent",element:e.jsx(Sn,{to:"/",replace:!0})}),e.jsx(gs,{path:"/super_agent",element:e.jsx(Sn,{to:"/",replace:!0})}),e.jsx(gs,{path:"/admin/dashboard",element:e.jsx(R0,{children:e.jsx(cd,{role:"admin",onExit:()=>{sessionStorage.removeItem("adminAuthenticated"),sessionStorage.removeItem("adminUsername"),localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("userRole"),window.location.href="/"}})})}),e.jsx(gs,{path:"/agent/dashboard",element:e.jsx(O0,{children:e.jsx(cd,{role:"agent",onExit:()=>{sessionStorage.removeItem("agentAuthenticated"),sessionStorage.removeItem("agentUsername"),localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("userRole"),window.location.href="/"}})})}),e.jsx(gs,{path:"/super_agent/dashboard",element:e.jsx(U0,{children:e.jsx(cd,{role:"super_agent",onExit:()=>{sessionStorage.removeItem("super_agentAuthenticated"),sessionStorage.removeItem("super_agentUsername"),localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("userRole"),window.location.href="/"}})})}),e.jsx(gs,{path:"*",element:e.jsx(Sn,{to:"/",replace:!0})})]})})}));

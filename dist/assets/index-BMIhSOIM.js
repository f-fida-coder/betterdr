(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))d(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function c(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function d(h){if(h.ep)return;h.ep=!0;const p=c(h);fetch(h.href,p)}})();function $x(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Vc={exports:{}},ai={};var rf;function Ix(){if(rf)return ai;rf=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function c(d,h,p){var y=null;if(p!==void 0&&(y=""+p),h.key!==void 0&&(y=""+h.key),"key"in h){p={};for(var N in h)N!=="key"&&(p[N]=h[N])}else p=h;return h=p.ref,{$$typeof:l,type:d,key:y,ref:h!==void 0?h:null,props:p}}return ai.Fragment=r,ai.jsx=c,ai.jsxs=c,ai}var of;function Hx(){return of||(of=1,Vc.exports=Ix()),Vc.exports}var e=Hx(),Qc={exports:{}},Be={};var cf;function qx(){if(cf)return Be;cf=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),y=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),v=Symbol.iterator;function A(_){return _===null||typeof _!="object"?null:(_=v&&_[v]||_["@@iterator"],typeof _=="function"?_:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,R={};function w(_,Q,se){this.props=_,this.context=Q,this.refs=R,this.updater=se||E}w.prototype.isReactComponent={},w.prototype.setState=function(_,Q){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,Q,"setState")},w.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function z(){}z.prototype=w.prototype;function L(_,Q,se){this.props=_,this.context=Q,this.refs=R,this.updater=se||E}var C=L.prototype=new z;C.constructor=L,D(C,w.prototype),C.isPureReactComponent=!0;var j=Array.isArray;function S(){}var $={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function B(_,Q,se){var J=se.ref;return{$$typeof:l,type:_,key:Q,ref:J!==void 0?J:null,props:se}}function oe(_,Q){return B(_.type,Q,_.props)}function F(_){return typeof _=="object"&&_!==null&&_.$$typeof===l}function k(_){var Q={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(se){return Q[se]})}var I=/\/+/g;function M(_,Q){return typeof _=="object"&&_!==null&&_.key!=null?k(""+_.key):Q.toString(36)}function ae(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(S,S):(_.status="pending",_.then(function(Q){_.status==="pending"&&(_.status="fulfilled",_.value=Q)},function(Q){_.status==="pending"&&(_.status="rejected",_.reason=Q)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function H(_,Q,se,J,Z){var P=typeof _;(P==="undefined"||P==="boolean")&&(_=null);var q=!1;if(_===null)q=!0;else switch(P){case"bigint":case"string":case"number":q=!0;break;case"object":switch(_.$$typeof){case l:case r:q=!0;break;case b:return q=_._init,H(q(_._payload),Q,se,J,Z)}}if(q)return Z=Z(_),q=J===""?"."+M(_,0):J,j(Z)?(se="",q!=null&&(se=q.replace(I,"$&/")+"/"),H(Z,Q,se,"",function(ve){return ve})):Z!=null&&(F(Z)&&(Z=oe(Z,se+(Z.key==null||_&&_.key===Z.key?"":(""+Z.key).replace(I,"$&/")+"/")+q)),Q.push(Z)),1;q=0;var ue=J===""?".":J+":";if(j(_))for(var me=0;me<_.length;me++)J=_[me],P=ue+M(J,me),q+=H(J,Q,se,P,Z);else if(me=A(_),typeof me=="function")for(_=me.call(_),me=0;!(J=_.next()).done;)J=J.value,P=ue+M(J,me++),q+=H(J,Q,se,P,Z);else if(P==="object"){if(typeof _.then=="function")return H(ae(_),Q,se,J,Z);throw Q=String(_),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return q}function G(_,Q,se){if(_==null)return _;var J=[],Z=0;return H(_,J,"","",function(P){return Q.call(se,P,Z++)}),J}function ie(_){if(_._status===-1){var Q=_._result;Q=Q(),Q.then(function(se){(_._status===0||_._status===-1)&&(_._status=1,_._result=se)},function(se){(_._status===0||_._status===-1)&&(_._status=2,_._result=se)}),_._status===-1&&(_._status=0,_._result=Q)}if(_._status===1)return _._result.default;throw _._result}var je=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},K={map:G,forEach:function(_,Q,se){G(_,function(){Q.apply(this,arguments)},se)},count:function(_){var Q=0;return G(_,function(){Q++}),Q},toArray:function(_){return G(_,function(Q){return Q})||[]},only:function(_){if(!F(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return Be.Activity=f,Be.Children=K,Be.Component=w,Be.Fragment=c,Be.Profiler=h,Be.PureComponent=L,Be.StrictMode=d,Be.Suspense=g,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Be.__COMPILER_RUNTIME={__proto__:null,c:function(_){return $.H.useMemoCache(_)}},Be.cache=function(_){return function(){return _.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(_,Q,se){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var J=D({},_.props),Z=_.key;if(Q!=null)for(P in Q.key!==void 0&&(Z=""+Q.key),Q)!V.call(Q,P)||P==="key"||P==="__self"||P==="__source"||P==="ref"&&Q.ref===void 0||(J[P]=Q[P]);var P=arguments.length-2;if(P===1)J.children=se;else if(1<P){for(var q=Array(P),ue=0;ue<P;ue++)q[ue]=arguments[ue+2];J.children=q}return B(_.type,Z,J)},Be.createContext=function(_){return _={$$typeof:y,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:p,_context:_},_},Be.createElement=function(_,Q,se){var J,Z={},P=null;if(Q!=null)for(J in Q.key!==void 0&&(P=""+Q.key),Q)V.call(Q,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(Z[J]=Q[J]);var q=arguments.length-2;if(q===1)Z.children=se;else if(1<q){for(var ue=Array(q),me=0;me<q;me++)ue[me]=arguments[me+2];Z.children=ue}if(_&&_.defaultProps)for(J in q=_.defaultProps,q)Z[J]===void 0&&(Z[J]=q[J]);return B(_,P,Z)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(_){return{$$typeof:N,render:_}},Be.isValidElement=F,Be.lazy=function(_){return{$$typeof:b,_payload:{_status:-1,_result:_},_init:ie}},Be.memo=function(_,Q){return{$$typeof:x,type:_,compare:Q===void 0?null:Q}},Be.startTransition=function(_){var Q=$.T,se={};$.T=se;try{var J=_(),Z=$.S;Z!==null&&Z(se,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(S,je)}catch(P){je(P)}finally{Q!==null&&se.types!==null&&(Q.types=se.types),$.T=Q}},Be.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Be.use=function(_){return $.H.use(_)},Be.useActionState=function(_,Q,se){return $.H.useActionState(_,Q,se)},Be.useCallback=function(_,Q){return $.H.useCallback(_,Q)},Be.useContext=function(_){return $.H.useContext(_)},Be.useDebugValue=function(){},Be.useDeferredValue=function(_,Q){return $.H.useDeferredValue(_,Q)},Be.useEffect=function(_,Q){return $.H.useEffect(_,Q)},Be.useEffectEvent=function(_){return $.H.useEffectEvent(_)},Be.useId=function(){return $.H.useId()},Be.useImperativeHandle=function(_,Q,se){return $.H.useImperativeHandle(_,Q,se)},Be.useInsertionEffect=function(_,Q){return $.H.useInsertionEffect(_,Q)},Be.useLayoutEffect=function(_,Q){return $.H.useLayoutEffect(_,Q)},Be.useMemo=function(_,Q){return $.H.useMemo(_,Q)},Be.useOptimistic=function(_,Q){return $.H.useOptimistic(_,Q)},Be.useReducer=function(_,Q,se){return $.H.useReducer(_,Q,se)},Be.useRef=function(_){return $.H.useRef(_)},Be.useState=function(_){return $.H.useState(_)},Be.useSyncExternalStore=function(_,Q,se){return $.H.useSyncExternalStore(_,Q,se)},Be.useTransition=function(){return $.H.useTransition()},Be.version="19.2.4",Be}var df;function pd(){return df||(df=1,Qc.exports=qx()),Qc.exports}var u=pd();const ys=$x(u);var Xc={exports:{}},si={},Jc={exports:{}},Zc={};var uf;function Gx(){return uf||(uf=1,(function(l){function r(H,G){var ie=H.length;H.push(G);e:for(;0<ie;){var je=ie-1>>>1,K=H[je];if(0<h(K,G))H[je]=G,H[ie]=K,ie=je;else break e}}function c(H){return H.length===0?null:H[0]}function d(H){if(H.length===0)return null;var G=H[0],ie=H.pop();if(ie!==G){H[0]=ie;e:for(var je=0,K=H.length,_=K>>>1;je<_;){var Q=2*(je+1)-1,se=H[Q],J=Q+1,Z=H[J];if(0>h(se,ie))J<K&&0>h(Z,se)?(H[je]=Z,H[J]=ie,je=J):(H[je]=se,H[Q]=ie,je=Q);else if(J<K&&0>h(Z,ie))H[je]=Z,H[J]=ie,je=J;else break e}}return G}function h(H,G){var ie=H.sortIndex-G.sortIndex;return ie!==0?ie:H.id-G.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;l.unstable_now=function(){return p.now()}}else{var y=Date,N=y.now();l.unstable_now=function(){return y.now()-N}}var g=[],x=[],b=1,f=null,v=3,A=!1,E=!1,D=!1,R=!1,w=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function C(H){for(var G=c(x);G!==null;){if(G.callback===null)d(x);else if(G.startTime<=H)d(x),G.sortIndex=G.expirationTime,r(g,G);else break;G=c(x)}}function j(H){if(D=!1,C(H),!E)if(c(g)!==null)E=!0,S||(S=!0,k());else{var G=c(x);G!==null&&ae(j,G.startTime-H)}}var S=!1,$=-1,V=5,B=-1;function oe(){return R?!0:!(l.unstable_now()-B<V)}function F(){if(R=!1,S){var H=l.unstable_now();B=H;var G=!0;try{e:{E=!1,D&&(D=!1,z($),$=-1),A=!0;var ie=v;try{t:{for(C(H),f=c(g);f!==null&&!(f.expirationTime>H&&oe());){var je=f.callback;if(typeof je=="function"){f.callback=null,v=f.priorityLevel;var K=je(f.expirationTime<=H);if(H=l.unstable_now(),typeof K=="function"){f.callback=K,C(H),G=!0;break t}f===c(g)&&d(g),C(H)}else d(g);f=c(g)}if(f!==null)G=!0;else{var _=c(x);_!==null&&ae(j,_.startTime-H),G=!1}}break e}finally{f=null,v=ie,A=!1}G=void 0}}finally{G?k():S=!1}}}var k;if(typeof L=="function")k=function(){L(F)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,M=I.port2;I.port1.onmessage=F,k=function(){M.postMessage(null)}}else k=function(){w(F,0)};function ae(H,G){$=w(function(){H(l.unstable_now())},G)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(H){H.callback=null},l.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<H?Math.floor(1e3/H):5},l.unstable_getCurrentPriorityLevel=function(){return v},l.unstable_next=function(H){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var ie=v;v=G;try{return H()}finally{v=ie}},l.unstable_requestPaint=function(){R=!0},l.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=v;v=H;try{return G()}finally{v=ie}},l.unstable_scheduleCallback=function(H,G,ie){var je=l.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?je+ie:je):ie=je,H){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ie+K,H={id:b++,callback:G,priorityLevel:H,startTime:ie,expirationTime:K,sortIndex:-1},ie>je?(H.sortIndex=ie,r(x,H),c(g)===null&&H===c(x)&&(D?(z($),$=-1):D=!0,ae(j,ie-je))):(H.sortIndex=K,r(g,H),E||A||(E=!0,S||(S=!0,k()))),H},l.unstable_shouldYield=oe,l.unstable_wrapCallback=function(H){var G=v;return function(){var ie=v;v=G;try{return H.apply(this,arguments)}finally{v=ie}}}})(Zc)),Zc}var hf;function Wx(){return hf||(hf=1,Jc.exports=Gx()),Jc.exports}var Kc={exports:{}},Ft={};var mf;function Yx(){if(mf)return Ft;mf=1;var l=pd();function r(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)x+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var d={d:{f:c,r:function(){throw Error(r(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},h=Symbol.for("react.portal");function p(g,x,b){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:f==null?null:""+f,children:g,containerInfo:x,implementation:b}}var y=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function N(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,Ft.createPortal=function(g,x){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(r(299));return p(g,x,null,b)},Ft.flushSync=function(g){var x=y.T,b=d.p;try{if(y.T=null,d.p=2,g)return g()}finally{y.T=x,d.p=b,d.d.f()}},Ft.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,d.d.C(g,x))},Ft.prefetchDNS=function(g){typeof g=="string"&&d.d.D(g)},Ft.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var b=x.as,f=N(b,x.crossOrigin),v=typeof x.integrity=="string"?x.integrity:void 0,A=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;b==="style"?d.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:f,integrity:v,fetchPriority:A}):b==="script"&&d.d.X(g,{crossOrigin:f,integrity:v,fetchPriority:A,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Ft.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var b=N(x.as,x.crossOrigin);d.d.M(g,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&d.d.M(g)},Ft.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var b=x.as,f=N(b,x.crossOrigin);d.d.L(g,b,{crossOrigin:f,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Ft.preloadModule=function(g,x){if(typeof g=="string")if(x){var b=N(x.as,x.crossOrigin);d.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else d.d.m(g)},Ft.requestFormReset=function(g){d.d.r(g)},Ft.unstable_batchedUpdates=function(g,x){return g(x)},Ft.useFormState=function(g,x,b){return y.H.useFormState(g,x,b)},Ft.useFormStatus=function(){return y.H.useHostTransitionStatus()},Ft.version="19.2.4",Ft}var ff;function Qf(){if(ff)return Kc.exports;ff=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),Kc.exports=Yx(),Kc.exports}var pf;function Vx(){if(pf)return si;pf=1;var l=Wx(),r=pd(),c=Qf();function d(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function y(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function N(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function g(t){if(p(t)!==t)throw Error(d(188))}function x(t){var a=t.alternate;if(!a){if(a=p(t),a===null)throw Error(d(188));return a!==t?null:t}for(var s=t,n=a;;){var i=s.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===s)return g(i),t;if(o===n)return g(i),a;o=o.sibling}throw Error(d(188))}if(s.return!==n.return)s=i,n=o;else{for(var m=!1,T=i.child;T;){if(T===s){m=!0,s=i,n=o;break}if(T===n){m=!0,n=i,s=o;break}T=T.sibling}if(!m){for(T=o.child;T;){if(T===s){m=!0,s=o,n=i;break}if(T===n){m=!0,n=o,s=i;break}T=T.sibling}if(!m)throw Error(d(189))}}if(s.alternate!==n)throw Error(d(190))}if(s.tag!==3)throw Error(d(188));return s.stateNode.current===s?t:a}function b(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=b(t),a!==null)return a;t=t.sibling}return null}var f=Object.assign,v=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),L=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function M(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case w:return"Profiler";case R:return"StrictMode";case j:return"Suspense";case S:return"SuspenseList";case B:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case L:return t.displayName||"Context";case z:return(t._context.displayName||"Context")+".Consumer";case C:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return a=t.displayName||null,a!==null?a:M(t.type)||"Memo";case V:a=t._payload,t=t._init;try{return M(t(a))}catch{}}return null}var ae=Array.isArray,H=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},je=[],K=-1;function _(t){return{current:t}}function Q(t){0>K||(t.current=je[K],je[K]=null,K--)}function se(t,a){K++,je[K]=t.current,t.current=a}var J=_(null),Z=_(null),P=_(null),q=_(null);function ue(t,a){switch(se(P,a),se(Z,t),se(J,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?Tm(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=Tm(a),t=Lm(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(J),se(J,t)}function me(){Q(J),Q(Z),Q(P)}function ve(t){t.memoizedState!==null&&se(q,t);var a=J.current,s=Lm(a,t.type);a!==s&&(se(Z,t),se(J,s))}function we(t){Z.current===t&&(Q(J),Q(Z)),q.current===t&&(Q(q),Zl._currentValue=ie)}var Ae,_e;function De(t){if(Ae===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Ae=a&&a[1]||"",_e=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ae+t+_e}var Ge=!1;function st(t,a){if(!t||Ge)return"";Ge=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(a){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ce){var re=ce}Reflect.construct(t,[],pe)}else{try{pe.call()}catch(ce){re=ce}t.call(pe.prototype)}}else{try{throw Error()}catch(ce){re=ce}(pe=t())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ce){if(ce&&re&&typeof ce.stack=="string")return[ce.stack,re.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=n.DetermineComponentFrameRoot(),m=o[0],T=o[1];if(m&&T){var W=m.split(`
`),le=T.split(`
`);for(i=n=0;n<W.length&&!W[n].includes("DetermineComponentFrameRoot");)n++;for(;i<le.length&&!le[i].includes("DetermineComponentFrameRoot");)i++;if(n===W.length||i===le.length)for(n=W.length-1,i=le.length-1;1<=n&&0<=i&&W[n]!==le[i];)i--;for(;1<=n&&0<=i;n--,i--)if(W[n]!==le[i]){if(n!==1||i!==1)do if(n--,i--,0>i||W[n]!==le[i]){var he=`
`+W[n].replace(" at new "," at ");return t.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",t.displayName)),he}while(1<=n&&0<=i);break}}}finally{Ge=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?De(s):""}function nt(t,a){switch(t.tag){case 26:case 27:case 5:return De(t.type);case 16:return De("Lazy");case 13:return t.child!==a&&a!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return st(t.type,!1);case 11:return st(t.type.render,!1);case 1:return st(t.type,!0);case 31:return De("Activity");default:return""}}function Et(t){try{var a="",s=null;do a+=nt(t,s),s=t,t=t.return;while(t);return a}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Tt=Object.prototype.hasOwnProperty,ct=l.unstable_scheduleCallback,Ue=l.unstable_cancelCallback,kt=l.unstable_shouldYield,qt=l.unstable_requestPaint,Ct=l.unstable_now,hl=l.unstable_getCurrentPriorityLevel,Ya=l.unstable_ImmediatePriority,en=l.unstable_UserBlockingPriority,mt=l.unstable_NormalPriority,Ns=l.unstable_LowPriority,Oa=l.unstable_IdlePriority,Ua=l.log,ml=l.unstable_setDisableYieldValue,da=null,Lt=null;function Dt(t){if(typeof Ua=="function"&&ml(t),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(da,t)}catch{}}var jt=Math.clz32?Math.clz32:Va,Nn=Math.log,wn=Math.LN2;function Va(t){return t>>>=0,t===0?32:31-(Nn(t)/wn|0)|0}var ka=256,Qa=262144,Xa=4194304;function ea(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ca(t,a,s){var n=t.pendingLanes;if(n===0)return 0;var i=0,o=t.suspendedLanes,m=t.pingedLanes;t=t.warmLanes;var T=n&134217727;return T!==0?(n=T&~o,n!==0?i=ea(n):(m&=T,m!==0?i=ea(m):s||(s=T&~t,s!==0&&(i=ea(s))))):(T=n&~o,T!==0?i=ea(T):m!==0?i=ea(m):s||(s=n&~t,s!==0&&(i=ea(s)))),i===0?0:a!==0&&a!==i&&(a&o)===0&&(o=i&-i,s=a&-a,o>=s||o===32&&(s&4194048)!==0)?a:i}function Mt(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function tn(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ws(){var t=Xa;return Xa<<=1,(Xa&62914560)===0&&(Xa=4194304),t}function za(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function ua(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ha(t,a,s,n,i,o){var m=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,W=t.expirationTimes,le=t.hiddenUpdates;for(s=m&~s;0<s;){var he=31-jt(s),pe=1<<he;T[he]=0,W[he]=-1;var re=le[he];if(re!==null)for(le[he]=null,he=0;he<re.length;he++){var ce=re[he];ce!==null&&(ce.lane&=-536870913)}s&=~pe}n!==0&&Aa(t,n,0),o!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=o&~(m&~a))}function Aa(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var n=31-jt(a);t.entangledLanes|=a,t.entanglements[n]=t.entanglements[n]|1073741824|s&261930}function Fa(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var n=31-jt(s),i=1<<n;i&a|t[n]&a&&(t[n]|=a),s&=~i}}function Ea(t,a){var s=a&-a;return s=(s&42)!==0?1:Ta(s),(s&(t.suspendedLanes|a))!==0?0:s}function Ta(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ss(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ee(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:Km(t.type))}function Ja(t,a){var s=G.p;try{return G.p=t,a()}finally{G.p=s}}var zt=Math.random().toString(36).slice(2),ht="__reactFiber$"+zt,ft="__reactProps$"+zt,lt="__reactContainer$"+zt,Za="__reactEvents$"+zt,Pa="__reactListeners$"+zt,Sn="__reactHandles$"+zt,kn="__reactResources$"+zt,Pt="__reactMarker$"+zt;function ks(t){delete t[ht],delete t[ft],delete t[Za],delete t[Pa],delete t[Sn]}function ma(t){var a=t[ht];if(a)return a;for(var s=t.parentNode;s;){if(a=s[lt]||s[ht]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=Um(t);t!==null;){if(s=t[ht])return s;t=Um(t)}return a}t=s,s=t.parentNode}return null}function Gt(t){if(t=t[ht]||t[lt]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function U(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(d(33))}function ee(t){var a=t[kn];return a||(a=t[kn]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Y(t){t[Pt]=!0}var de=new Set,ye={};function Ne(t,a){Te(t,a),Te(t+"Capture",a)}function Te(t,a){for(ye[t]=a,t=0;t<a.length;t++)de.add(a[t])}var xt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$t={},fa={};function Hr(t){return Tt.call(fa,t)?!0:Tt.call($t,t)?!1:xt.test(t)?fa[t]=!0:($t[t]=!0,!1)}function an(t,a,s){if(Hr(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var n=a.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function Cn(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function La(t,a,s,n){if(n===null)t.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+n)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function be(t,a,s){var n=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return i.call(this)},set:function(m){s=""+m,o.call(this,m)}}),Object.defineProperty(t,a,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Ce(t){if(!t._valueTracker){var a=O(t)?"checked":"value";t._valueTracker=be(t,a,""+t[a])}}function We(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),n="";return t&&(n=O(t)?t.checked?"true":"false":t.value),t=n,t!==s?(a.setValue(t),!0):!1}function He(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ze=/[\n"\\]/g;function Qe(t){return t.replace(ze,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function it(t,a,s,n,i,o,m,T){t.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.type=m:t.removeAttribute("type"),a!=null?m==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Wt(a)):t.value!==""+Wt(a)&&(t.value=""+Wt(a)):m!=="submit"&&m!=="reset"||t.removeAttribute("value"),a!=null?Yt(t,m,Wt(a)):s!=null?Yt(t,m,Wt(s)):n!=null&&t.removeAttribute("value"),i==null&&o!=null&&(t.defaultChecked=!!o),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Wt(T):t.removeAttribute("name")}function It(t,a,s,n,i,o,m,T){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.type=o),a!=null||s!=null){if(!(o!=="submit"&&o!=="reset"||a!=null)){Ce(t);return}s=s!=null?""+Wt(s):"",a=a!=null?""+Wt(a):s,T||a===t.value||(t.value=a),t.defaultValue=a}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=T?t.checked:!!n,t.defaultChecked=!!n,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.name=m),Ce(t)}function Yt(t,a,s){a==="number"&&He(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ta(t,a,s,n){if(t=t.options,a){a={};for(var i=0;i<s.length;i++)a["$"+s[i]]=!0;for(s=0;s<t.length;s++)i=a.hasOwnProperty("$"+t[s].value),t[s].selected!==i&&(t[s].selected=i),i&&n&&(t[s].defaultSelected=!0)}else{for(s=""+Wt(s),a=null,i=0;i<t.length;i++){if(t[i].value===s){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}a!==null||t[i].disabled||(a=t[i])}a!==null&&(a.selected=!0)}}function Ka(t,a,s){if(a!=null&&(a=""+Wt(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+Wt(s):""}function pi(t,a,s,n){if(a==null){if(n!=null){if(s!=null)throw Error(d(92));if(ae(n)){if(1<n.length)throw Error(d(93));n=n[0]}s=n}s==null&&(s=""),a=s}s=Wt(a),t.defaultValue=s,n=t.textContent,n===s&&n!==""&&n!==null&&(t.value=n),Ce(t)}function $a(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var gi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xi(t,a,s){var n=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?n?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":n?t.setProperty(a,s):typeof s!="number"||s===0||gi.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function fl(t,a,s){if(a!=null&&typeof a!="object")throw Error(d(62));if(t=t.style,s!=null){for(var n in s)!s.hasOwnProperty(n)||a!=null&&a.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var i in a)n=a[i],a.hasOwnProperty(i)&&s[i]!==n&&xi(t,i,n)}else for(var o in a)a.hasOwnProperty(o)&&xi(t,o,a[o])}function An(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bi=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(t){return zp.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function es(){}var qr=null;function Gr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var En=null,Tn=null;function Ed(t){var a=Gt(t);if(a&&(t=a.stateNode)){var s=t[ft]||null;e:switch(t=a.stateNode,a.type){case"input":if(it(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Qe(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var n=s[a];if(n!==t&&n.form===t.form){var i=n[ft]||null;if(!i)throw Error(d(90));it(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(a=0;a<s.length;a++)n=s[a],n.form===t.form&&We(n)}break e;case"textarea":Ka(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&ta(t,!!s.multiple,a,!1)}}}var Wr=!1;function Td(t,a,s){if(Wr)return t(a,s);Wr=!0;try{var n=t(a);return n}finally{if(Wr=!1,(En!==null||Tn!==null)&&(ir(),En&&(a=En,t=Tn,Tn=En=null,Ed(a),t)))for(a=0;a<t.length;a++)Ed(t[a])}}function pl(t,a){var s=t.stateNode;if(s===null)return null;var n=s[ft]||null;if(n===null)return null;s=n[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(d(231,a,typeof s));return s}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yr=!1;if(ts)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{Yr=!1}var Cs=null,Vr=null,ji=null;function Ld(){if(ji)return ji;var t,a=Vr,s=a.length,n,i="value"in Cs?Cs.value:Cs.textContent,o=i.length;for(t=0;t<s&&a[t]===i[t];t++);var m=s-t;for(n=1;n<=m&&a[s-n]===i[o-n];n++);return ji=i.slice(t,1<n?1-n:void 0)}function vi(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Ni(){return!0}function Md(){return!1}function Vt(t){function a(s,n,i,o,m){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=m,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(o):o[T]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ni:Md,this.isPropagationStopped=Md,this}return f(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),a}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Vt(sn),xl=f({},sn,{view:0,detail:0}),Fp=Vt(xl),Qr,Xr,bl,Si=f({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bl&&(bl&&t.type==="mousemove"?(Qr=t.screenX-bl.screenX,Xr=t.screenY-bl.screenY):Xr=Qr=0,bl=t),Qr)},movementY:function(t){return"movementY"in t?t.movementY:Xr}}),_d=Vt(Si),Pp=f({},Si,{dataTransfer:0}),$p=Vt(Pp),Ip=f({},xl,{relatedTarget:0}),Jr=Vt(Ip),Hp=f({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),qp=Vt(Hp),Gp=f({},sn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wp=Vt(Gp),Yp=f({},sn,{data:0}),Dd=Vt(Yp),Vp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jp(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Xp[t])?!!a[t]:!1}function Zr(){return Jp}var Zp=f({},xl,{key:function(t){if(t.key){var a=Vp[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=vi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(t){return t.type==="keypress"?vi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kp=Vt(Zp),eg=f({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=Vt(eg),tg=f({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),ag=Vt(tg),sg=f({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ng=Vt(sg),lg=f({},Si,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ig=Vt(lg),rg=f({},sn,{newState:0,oldState:0}),og=Vt(rg),cg=[9,13,27,32],Kr=ts&&"CompositionEvent"in window,yl=null;ts&&"documentMode"in document&&(yl=document.documentMode);var dg=ts&&"TextEvent"in window&&!yl,Rd=ts&&(!Kr||yl&&8<yl&&11>=yl),Od=" ",Ud=!1;function zd(t,a){switch(t){case"keyup":return cg.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ln=!1;function ug(t,a){switch(t){case"compositionend":return Fd(a);case"keypress":return a.which!==32?null:(Ud=!0,Od);case"textInput":return t=a.data,t===Od&&Ud?null:t;default:return null}}function hg(t,a){if(Ln)return t==="compositionend"||!Kr&&zd(t,a)?(t=Ld(),ji=Vr=Cs=null,Ln=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Rd&&a.locale!=="ko"?null:a.data;default:return null}}var mg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pd(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!mg[t.type]:a==="textarea"}function $d(t,a,s,n){En?Tn?Tn.push(n):Tn=[n]:En=n,a=mr(a,"onChange"),0<a.length&&(s=new wi("onChange","change",null,s,n),t.push({event:s,listeners:a}))}var jl=null,vl=null;function fg(t){wm(t,0)}function ki(t){var a=U(t);if(We(a))return t}function Id(t,a){if(t==="change")return a}var Hd=!1;if(ts){var eo;if(ts){var to="oninput"in document;if(!to){var qd=document.createElement("div");qd.setAttribute("oninput","return;"),to=typeof qd.oninput=="function"}eo=to}else eo=!1;Hd=eo&&(!document.documentMode||9<document.documentMode)}function Gd(){jl&&(jl.detachEvent("onpropertychange",Wd),vl=jl=null)}function Wd(t){if(t.propertyName==="value"&&ki(vl)){var a=[];$d(a,vl,t,Gr(t)),Td(fg,a)}}function pg(t,a,s){t==="focusin"?(Gd(),jl=a,vl=s,jl.attachEvent("onpropertychange",Wd)):t==="focusout"&&Gd()}function gg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ki(vl)}function xg(t,a){if(t==="click")return ki(a)}function bg(t,a){if(t==="input"||t==="change")return ki(a)}function yg(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var aa=typeof Object.is=="function"?Object.is:yg;function Nl(t,a){if(aa(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),n=Object.keys(a);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!Tt.call(a,i)||!aa(t[i],a[i]))return!1}return!0}function Yd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vd(t,a){var s=Yd(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=a&&n>=a)return{node:s,offset:a-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Yd(s)}}function Qd(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Qd(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Xd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=He(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=He(t.document)}return a}function ao(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var jg=ts&&"documentMode"in document&&11>=document.documentMode,Mn=null,so=null,wl=null,no=!1;function Jd(t,a,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;no||Mn==null||Mn!==He(n)||(n=Mn,"selectionStart"in n&&ao(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wl&&Nl(wl,n)||(wl=n,n=mr(so,"onSelect"),0<n.length&&(a=new wi("onSelect","select",null,a,s),t.push({event:a,listeners:n}),a.target=Mn)))}function nn(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var _n={animationend:nn("Animation","AnimationEnd"),animationiteration:nn("Animation","AnimationIteration"),animationstart:nn("Animation","AnimationStart"),transitionrun:nn("Transition","TransitionRun"),transitionstart:nn("Transition","TransitionStart"),transitioncancel:nn("Transition","TransitionCancel"),transitionend:nn("Transition","TransitionEnd")},lo={},Zd={};ts&&(Zd=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function ln(t){if(lo[t])return lo[t];if(!_n[t])return t;var a=_n[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in Zd)return lo[t]=a[s];return t}var Kd=ln("animationend"),eu=ln("animationiteration"),tu=ln("animationstart"),vg=ln("transitionrun"),Ng=ln("transitionstart"),wg=ln("transitioncancel"),au=ln("transitionend"),su=new Map,io="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");io.push("scrollEnd");function Ma(t,a){su.set(t,a),Ne(a,[t])}var Ci=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},pa=[],Dn=0,ro=0;function Ai(){for(var t=Dn,a=ro=Dn=0;a<t;){var s=pa[a];pa[a++]=null;var n=pa[a];pa[a++]=null;var i=pa[a];pa[a++]=null;var o=pa[a];if(pa[a++]=null,n!==null&&i!==null){var m=n.pending;m===null?i.next=i:(i.next=m.next,m.next=i),n.pending=i}o!==0&&nu(s,i,o)}}function Ei(t,a,s,n){pa[Dn++]=t,pa[Dn++]=a,pa[Dn++]=s,pa[Dn++]=n,ro|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function oo(t,a,s,n){return Ei(t,a,s,n),Ti(t)}function rn(t,a){return Ei(t,null,null,a),Ti(t)}function nu(t,a,s){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s);for(var i=!1,o=t.return;o!==null;)o.childLanes|=s,n=o.alternate,n!==null&&(n.childLanes|=s),o.tag===22&&(t=o.stateNode,t===null||t._visibility&1||(i=!0)),t=o,o=o.return;return t.tag===3?(o=t.stateNode,i&&a!==null&&(i=31-jt(s),t=o.hiddenUpdates,n=t[i],n===null?t[i]=[a]:n.push(a),a.lane=s|536870912),o):null}function Ti(t){if(50<Gl)throw Gl=0,bc=null,Error(d(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Bn={};function Sg(t,a,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(t,a,s,n){return new Sg(t,a,s,n)}function co(t){return t=t.prototype,!(!t||!t.isReactComponent)}function as(t,a){var s=t.alternate;return s===null?(s=sa(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function lu(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Li(t,a,s,n,i,o){var m=0;if(n=t,typeof t=="function")co(t)&&(m=1);else if(typeof t=="string")m=Tx(t,s,J.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case B:return t=sa(31,s,a,i),t.elementType=B,t.lanes=o,t;case D:return on(s.children,i,o,a);case R:m=8,i|=24;break;case w:return t=sa(12,s,a,i|2),t.elementType=w,t.lanes=o,t;case j:return t=sa(13,s,a,i),t.elementType=j,t.lanes=o,t;case S:return t=sa(19,s,a,i),t.elementType=S,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L:m=10;break e;case z:m=9;break e;case C:m=11;break e;case $:m=14;break e;case V:m=16,n=null;break e}m=29,s=Error(d(130,t===null?"null":typeof t,"")),n=null}return a=sa(m,s,a,i),a.elementType=t,a.type=n,a.lanes=o,a}function on(t,a,s,n){return t=sa(7,t,n,a),t.lanes=s,t}function uo(t,a,s){return t=sa(6,t,null,a),t.lanes=s,t}function iu(t){var a=sa(18,null,null,0);return a.stateNode=t,a}function ho(t,a,s){return a=sa(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var ru=new WeakMap;function ga(t,a){if(typeof t=="object"&&t!==null){var s=ru.get(t);return s!==void 0?s:(a={value:t,source:a,stack:Et(a)},ru.set(t,a),a)}return{value:t,source:a,stack:Et(a)}}var Rn=[],On=0,Mi=null,Sl=0,xa=[],ba=0,As=null,Ia=1,Ha="";function ss(t,a){Rn[On++]=Sl,Rn[On++]=Mi,Mi=t,Sl=a}function ou(t,a,s){xa[ba++]=Ia,xa[ba++]=Ha,xa[ba++]=As,As=t;var n=Ia;t=Ha;var i=32-jt(n)-1;n&=~(1<<i),s+=1;var o=32-jt(a)+i;if(30<o){var m=i-i%5;o=(n&(1<<m)-1).toString(32),n>>=m,i-=m,Ia=1<<32-jt(a)+i|s<<i|n,Ha=o+t}else Ia=1<<o|s<<i|n,Ha=t}function mo(t){t.return!==null&&(ss(t,1),ou(t,1,0))}function fo(t){for(;t===Mi;)Mi=Rn[--On],Rn[On]=null,Sl=Rn[--On],Rn[On]=null;for(;t===As;)As=xa[--ba],xa[ba]=null,Ha=xa[--ba],xa[ba]=null,Ia=xa[--ba],xa[ba]=null}function cu(t,a){xa[ba++]=Ia,xa[ba++]=Ha,xa[ba++]=As,Ia=a.id,Ha=a.overflow,As=t}var Bt=null,rt=null,qe=!1,Es=null,ya=!1,po=Error(d(519));function Ts(t){var a=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw kl(ga(a,t)),po}function du(t){var a=t.stateNode,s=t.type,n=t.memoizedProps;switch(a[ht]=t,a[ft]=n,s){case"dialog":Pe("cancel",a),Pe("close",a);break;case"iframe":case"object":case"embed":Pe("load",a);break;case"video":case"audio":for(s=0;s<Yl.length;s++)Pe(Yl[s],a);break;case"source":Pe("error",a);break;case"img":case"image":case"link":Pe("error",a),Pe("load",a);break;case"details":Pe("toggle",a);break;case"input":Pe("invalid",a),It(a,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Pe("invalid",a);break;case"textarea":Pe("invalid",a),pi(a,n.value,n.defaultValue,n.children)}s=n.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||n.suppressHydrationWarning===!0||Am(a.textContent,s)?(n.popover!=null&&(Pe("beforetoggle",a),Pe("toggle",a)),n.onScroll!=null&&Pe("scroll",a),n.onScrollEnd!=null&&Pe("scrollend",a),n.onClick!=null&&(a.onclick=es),a=!0):a=!1,a||Ts(t,!0)}function uu(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:ya=!1;return;case 27:case 3:ya=!0;return;default:Bt=Bt.return}}function Un(t){if(t!==Bt)return!1;if(!qe)return uu(t),qe=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Dc(t.type,t.memoizedProps)),s=!s),s&&rt&&Ts(t),uu(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));rt=Om(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));rt=Om(t)}else a===27?(a=rt,Hs(t.type)?(t=zc,zc=null,rt=t):rt=a):rt=Bt?va(t.stateNode.nextSibling):null;return!0}function cn(){rt=Bt=null,qe=!1}function go(){var t=Es;return t!==null&&(Zt===null?Zt=t:Zt.push.apply(Zt,t),Es=null),t}function kl(t){Es===null?Es=[t]:Es.push(t)}var xo=_(null),dn=null,ns=null;function Ls(t,a,s){se(xo,a._currentValue),a._currentValue=s}function ls(t){t._currentValue=xo.current,Q(xo)}function bo(t,a,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,n!==null&&(n.childLanes|=a)):n!==null&&(n.childLanes&a)!==a&&(n.childLanes|=a),t===s)break;t=t.return}}function yo(t,a,s,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){var m=i.child;o=o.firstContext;e:for(;o!==null;){var T=o;o=i;for(var W=0;W<a.length;W++)if(T.context===a[W]){o.lanes|=s,T=o.alternate,T!==null&&(T.lanes|=s),bo(o.return,s,t),n||(m=null);break e}o=T.next}}else if(i.tag===18){if(m=i.return,m===null)throw Error(d(341));m.lanes|=s,o=m.alternate,o!==null&&(o.lanes|=s),bo(m,s,t),m=null}else m=i.child;if(m!==null)m.return=i;else for(m=i;m!==null;){if(m===t){m=null;break}if(i=m.sibling,i!==null){i.return=m.return,m=i;break}m=m.return}i=m}}function zn(t,a,s,n){t=null;for(var i=a,o=!1;i!==null;){if(!o){if((i.flags&524288)!==0)o=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var m=i.alternate;if(m===null)throw Error(d(387));if(m=m.memoizedProps,m!==null){var T=i.type;aa(i.pendingProps.value,m.value)||(t!==null?t.push(T):t=[T])}}else if(i===q.current){if(m=i.alternate,m===null)throw Error(d(387));m.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Zl):t=[Zl])}i=i.return}t!==null&&yo(a,t,s,n),a.flags|=262144}function _i(t){for(t=t.firstContext;t!==null;){if(!aa(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function un(t){dn=t,ns=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Rt(t){return hu(dn,t)}function Di(t,a){return dn===null&&un(t),hu(t,a)}function hu(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},ns===null){if(t===null)throw Error(d(308));ns=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else ns=ns.next=a;return s}var kg=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,n){t.push(n)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},Cg=l.unstable_scheduleCallback,Ag=l.unstable_NormalPriority,vt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jo(){return{controller:new kg,data:new Map,refCount:0}}function Cl(t){t.refCount--,t.refCount===0&&Cg(Ag,function(){t.controller.abort()})}var Al=null,vo=0,Fn=0,Pn=null;function Eg(t,a){if(Al===null){var s=Al=[];vo=0,Fn=Sc(),Pn={status:"pending",value:void 0,then:function(n){s.push(n)}}}return vo++,a.then(mu,mu),a}function mu(){if(--vo===0&&Al!==null){Pn!==null&&(Pn.status="fulfilled");var t=Al;Al=null,Fn=0,Pn=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function Tg(t,a){var s=[],n={status:"pending",value:null,reason:null,then:function(i){s.push(i)}};return t.then(function(){n.status="fulfilled",n.value=a;for(var i=0;i<s.length;i++)(0,s[i])(a)},function(i){for(n.status="rejected",n.reason=i,i=0;i<s.length;i++)(0,s[i])(void 0)}),n}var fu=H.S;H.S=function(t,a){Jh=Ct(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Eg(t,a),fu!==null&&fu(t,a)};var hn=_(null);function No(){var t=hn.current;return t!==null?t:at.pooledCache}function Bi(t,a){a===null?se(hn,hn.current):se(hn,a.pool)}function pu(){var t=No();return t===null?null:{parent:vt._currentValue,pool:t}}var $n=Error(d(460)),wo=Error(d(474)),Ri=Error(d(542)),Oi={then:function(){}};function gu(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xu(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(es,es),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,yu(t),t;default:if(typeof a.status=="string")a.then(es,es);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(d(482));t=a,t.status="pending",t.then(function(n){if(a.status==="pending"){var i=a;i.status="fulfilled",i.value=n}},function(n){if(a.status==="pending"){var i=a;i.status="rejected",i.reason=n}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,yu(t),t}throw fn=a,$n}}function mn(t){try{var a=t._init;return a(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(fn=s,$n):s}}var fn=null;function bu(){if(fn===null)throw Error(d(459));var t=fn;return fn=null,t}function yu(t){if(t===$n||t===Ri)throw Error(d(483))}var In=null,El=0;function Ui(t){var a=El;return El+=1,In===null&&(In=[]),xu(In,t,a)}function Tl(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function zi(t,a){throw a.$$typeof===v?Error(d(525)):(t=Object.prototype.toString.call(a),Error(d(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function ju(t){function a(te,X){if(t){var ne=te.deletions;ne===null?(te.deletions=[X],te.flags|=16):ne.push(X)}}function s(te,X){if(!t)return null;for(;X!==null;)a(te,X),X=X.sibling;return null}function n(te){for(var X=new Map;te!==null;)te.key!==null?X.set(te.key,te):X.set(te.index,te),te=te.sibling;return X}function i(te,X){return te=as(te,X),te.index=0,te.sibling=null,te}function o(te,X,ne){return te.index=ne,t?(ne=te.alternate,ne!==null?(ne=ne.index,ne<X?(te.flags|=67108866,X):ne):(te.flags|=67108866,X)):(te.flags|=1048576,X)}function m(te){return t&&te.alternate===null&&(te.flags|=67108866),te}function T(te,X,ne,fe){return X===null||X.tag!==6?(X=uo(ne,te.mode,fe),X.return=te,X):(X=i(X,ne),X.return=te,X)}function W(te,X,ne,fe){var Le=ne.type;return Le===D?he(te,X,ne.props.children,fe,ne.key):X!==null&&(X.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===V&&mn(Le)===X.type)?(X=i(X,ne.props),Tl(X,ne),X.return=te,X):(X=Li(ne.type,ne.key,ne.props,null,te.mode,fe),Tl(X,ne),X.return=te,X)}function le(te,X,ne,fe){return X===null||X.tag!==4||X.stateNode.containerInfo!==ne.containerInfo||X.stateNode.implementation!==ne.implementation?(X=ho(ne,te.mode,fe),X.return=te,X):(X=i(X,ne.children||[]),X.return=te,X)}function he(te,X,ne,fe,Le){return X===null||X.tag!==7?(X=on(ne,te.mode,fe,Le),X.return=te,X):(X=i(X,ne),X.return=te,X)}function pe(te,X,ne){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=uo(""+X,te.mode,ne),X.return=te,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return ne=Li(X.type,X.key,X.props,null,te.mode,ne),Tl(ne,X),ne.return=te,ne;case E:return X=ho(X,te.mode,ne),X.return=te,X;case V:return X=mn(X),pe(te,X,ne)}if(ae(X)||k(X))return X=on(X,te.mode,ne,null),X.return=te,X;if(typeof X.then=="function")return pe(te,Ui(X),ne);if(X.$$typeof===L)return pe(te,Di(te,X),ne);zi(te,X)}return null}function re(te,X,ne,fe){var Le=X!==null?X.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Le!==null?null:T(te,X,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return ne.key===Le?W(te,X,ne,fe):null;case E:return ne.key===Le?le(te,X,ne,fe):null;case V:return ne=mn(ne),re(te,X,ne,fe)}if(ae(ne)||k(ne))return Le!==null?null:he(te,X,ne,fe,null);if(typeof ne.then=="function")return re(te,X,Ui(ne),fe);if(ne.$$typeof===L)return re(te,X,Di(te,ne),fe);zi(te,ne)}return null}function ce(te,X,ne,fe,Le){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return te=te.get(ne)||null,T(X,te,""+fe,Le);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case A:return te=te.get(fe.key===null?ne:fe.key)||null,W(X,te,fe,Le);case E:return te=te.get(fe.key===null?ne:fe.key)||null,le(X,te,fe,Le);case V:return fe=mn(fe),ce(te,X,ne,fe,Le)}if(ae(fe)||k(fe))return te=te.get(ne)||null,he(X,te,fe,Le,null);if(typeof fe.then=="function")return ce(te,X,ne,Ui(fe),Le);if(fe.$$typeof===L)return ce(te,X,ne,Di(X,fe),Le);zi(X,fe)}return null}function Se(te,X,ne,fe){for(var Le=null,Ye=null,ke=X,Oe=X=0,Ie=null;ke!==null&&Oe<ne.length;Oe++){ke.index>Oe?(Ie=ke,ke=null):Ie=ke.sibling;var Ve=re(te,ke,ne[Oe],fe);if(Ve===null){ke===null&&(ke=Ie);break}t&&ke&&Ve.alternate===null&&a(te,ke),X=o(Ve,X,Oe),Ye===null?Le=Ve:Ye.sibling=Ve,Ye=Ve,ke=Ie}if(Oe===ne.length)return s(te,ke),qe&&ss(te,Oe),Le;if(ke===null){for(;Oe<ne.length;Oe++)ke=pe(te,ne[Oe],fe),ke!==null&&(X=o(ke,X,Oe),Ye===null?Le=ke:Ye.sibling=ke,Ye=ke);return qe&&ss(te,Oe),Le}for(ke=n(ke);Oe<ne.length;Oe++)Ie=ce(ke,te,Oe,ne[Oe],fe),Ie!==null&&(t&&Ie.alternate!==null&&ke.delete(Ie.key===null?Oe:Ie.key),X=o(Ie,X,Oe),Ye===null?Le=Ie:Ye.sibling=Ie,Ye=Ie);return t&&ke.forEach(function(Vs){return a(te,Vs)}),qe&&ss(te,Oe),Le}function Me(te,X,ne,fe){if(ne==null)throw Error(d(151));for(var Le=null,Ye=null,ke=X,Oe=X=0,Ie=null,Ve=ne.next();ke!==null&&!Ve.done;Oe++,Ve=ne.next()){ke.index>Oe?(Ie=ke,ke=null):Ie=ke.sibling;var Vs=re(te,ke,Ve.value,fe);if(Vs===null){ke===null&&(ke=Ie);break}t&&ke&&Vs.alternate===null&&a(te,ke),X=o(Vs,X,Oe),Ye===null?Le=Vs:Ye.sibling=Vs,Ye=Vs,ke=Ie}if(Ve.done)return s(te,ke),qe&&ss(te,Oe),Le;if(ke===null){for(;!Ve.done;Oe++,Ve=ne.next())Ve=pe(te,Ve.value,fe),Ve!==null&&(X=o(Ve,X,Oe),Ye===null?Le=Ve:Ye.sibling=Ve,Ye=Ve);return qe&&ss(te,Oe),Le}for(ke=n(ke);!Ve.done;Oe++,Ve=ne.next())Ve=ce(ke,te,Oe,Ve.value,fe),Ve!==null&&(t&&Ve.alternate!==null&&ke.delete(Ve.key===null?Oe:Ve.key),X=o(Ve,X,Oe),Ye===null?Le=Ve:Ye.sibling=Ve,Ye=Ve);return t&&ke.forEach(function(Px){return a(te,Px)}),qe&&ss(te,Oe),Le}function tt(te,X,ne,fe){if(typeof ne=="object"&&ne!==null&&ne.type===D&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:e:{for(var Le=ne.key;X!==null;){if(X.key===Le){if(Le=ne.type,Le===D){if(X.tag===7){s(te,X.sibling),fe=i(X,ne.props.children),fe.return=te,te=fe;break e}}else if(X.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===V&&mn(Le)===X.type){s(te,X.sibling),fe=i(X,ne.props),Tl(fe,ne),fe.return=te,te=fe;break e}s(te,X);break}else a(te,X);X=X.sibling}ne.type===D?(fe=on(ne.props.children,te.mode,fe,ne.key),fe.return=te,te=fe):(fe=Li(ne.type,ne.key,ne.props,null,te.mode,fe),Tl(fe,ne),fe.return=te,te=fe)}return m(te);case E:e:{for(Le=ne.key;X!==null;){if(X.key===Le)if(X.tag===4&&X.stateNode.containerInfo===ne.containerInfo&&X.stateNode.implementation===ne.implementation){s(te,X.sibling),fe=i(X,ne.children||[]),fe.return=te,te=fe;break e}else{s(te,X);break}else a(te,X);X=X.sibling}fe=ho(ne,te.mode,fe),fe.return=te,te=fe}return m(te);case V:return ne=mn(ne),tt(te,X,ne,fe)}if(ae(ne))return Se(te,X,ne,fe);if(k(ne)){if(Le=k(ne),typeof Le!="function")throw Error(d(150));return ne=Le.call(ne),Me(te,X,ne,fe)}if(typeof ne.then=="function")return tt(te,X,Ui(ne),fe);if(ne.$$typeof===L)return tt(te,X,Di(te,ne),fe);zi(te,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,X!==null&&X.tag===6?(s(te,X.sibling),fe=i(X,ne),fe.return=te,te=fe):(s(te,X),fe=uo(ne,te.mode,fe),fe.return=te,te=fe),m(te)):s(te,X)}return function(te,X,ne,fe){try{El=0;var Le=tt(te,X,ne,fe);return In=null,Le}catch(ke){if(ke===$n||ke===Ri)throw ke;var Ye=sa(29,ke,null,te.mode);return Ye.lanes=fe,Ye.return=te,Ye}}}var pn=ju(!0),vu=ju(!1),Ms=!1;function So(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ko(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _s(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ds(t,a,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(Xe&2)!==0){var i=n.pending;return i===null?a.next=a:(a.next=i.next,i.next=a),n.pending=a,a=Ti(t),nu(t,null,s),a}return Ei(t,n,a,s),Ti(t)}function Ll(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var n=a.lanes;n&=t.pendingLanes,s|=n,a.lanes=s,Fa(t,s)}}function Co(t,a){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var m={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};o===null?i=o=m:o=o.next=m,s=s.next}while(s!==null);o===null?i=o=a:o=o.next=a}else i=o=a;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,callbacks:n.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var Ao=!1;function Ml(){if(Ao){var t=Pn;if(t!==null)throw t}}function _l(t,a,s,n){Ao=!1;var i=t.updateQueue;Ms=!1;var o=i.firstBaseUpdate,m=i.lastBaseUpdate,T=i.shared.pending;if(T!==null){i.shared.pending=null;var W=T,le=W.next;W.next=null,m===null?o=le:m.next=le,m=W;var he=t.alternate;he!==null&&(he=he.updateQueue,T=he.lastBaseUpdate,T!==m&&(T===null?he.firstBaseUpdate=le:T.next=le,he.lastBaseUpdate=W))}if(o!==null){var pe=i.baseState;m=0,he=le=W=null,T=o;do{var re=T.lane&-536870913,ce=re!==T.lane;if(ce?($e&re)===re:(n&re)===re){re!==0&&re===Fn&&(Ao=!0),he!==null&&(he=he.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=t,Me=T;re=a;var tt=s;switch(Me.tag){case 1:if(Se=Me.payload,typeof Se=="function"){pe=Se.call(tt,pe,re);break e}pe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Me.payload,re=typeof Se=="function"?Se.call(tt,pe,re):Se,re==null)break e;pe=f({},pe,re);break e;case 2:Ms=!0}}re=T.callback,re!==null&&(t.flags|=64,ce&&(t.flags|=8192),ce=i.callbacks,ce===null?i.callbacks=[re]:ce.push(re))}else ce={lane:re,tag:T.tag,payload:T.payload,callback:T.callback,next:null},he===null?(le=he=ce,W=pe):he=he.next=ce,m|=re;if(T=T.next,T===null){if(T=i.shared.pending,T===null)break;ce=T,T=ce.next,ce.next=null,i.lastBaseUpdate=ce,i.shared.pending=null}}while(!0);he===null&&(W=pe),i.baseState=W,i.firstBaseUpdate=le,i.lastBaseUpdate=he,o===null&&(i.shared.lanes=0),zs|=m,t.lanes=m,t.memoizedState=pe}}function Nu(t,a){if(typeof t!="function")throw Error(d(191,t));t.call(a)}function wu(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Nu(s[t],a)}var Hn=_(null),Fi=_(0);function Su(t,a){t=fs,se(Fi,t),se(Hn,a),fs=t|a.baseLanes}function Eo(){se(Fi,fs),se(Hn,Hn.current)}function To(){fs=Fi.current,Q(Hn),Q(Fi)}var na=_(null),ja=null;function Bs(t){var a=t.alternate;se(bt,bt.current&1),se(na,t),ja===null&&(a===null||Hn.current!==null||a.memoizedState!==null)&&(ja=t)}function Lo(t){se(bt,bt.current),se(na,t),ja===null&&(ja=t)}function ku(t){t.tag===22?(se(bt,bt.current),se(na,t),ja===null&&(ja=t)):Rs()}function Rs(){se(bt,bt.current),se(na,na.current)}function la(t){Q(na),ja===t&&(ja=null),Q(bt)}var bt=_(0);function Pi(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Oc(s)||Uc(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var is=0,Re=null,Ke=null,Nt=null,$i=!1,qn=!1,gn=!1,Ii=0,Dl=0,Gn=null,Lg=0;function pt(){throw Error(d(321))}function Mo(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!aa(t[s],a[s]))return!1;return!0}function _o(t,a,s,n,i,o){return is=o,Re=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=t===null||t.memoizedState===null?oh:Yo,gn=!1,o=s(n,i),gn=!1,qn&&(o=Au(a,s,n,i)),Cu(t),o}function Cu(t){H.H=Ol;var a=Ke!==null&&Ke.next!==null;if(is=0,Nt=Ke=Re=null,$i=!1,Dl=0,Gn=null,a)throw Error(d(300));t===null||wt||(t=t.dependencies,t!==null&&_i(t)&&(wt=!0))}function Au(t,a,s,n){Re=t;var i=0;do{if(qn&&(Gn=null),Dl=0,qn=!1,25<=i)throw Error(d(301));if(i+=1,Nt=Ke=null,t.updateQueue!=null){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}H.H=ch,o=a(s,n)}while(qn);return o}function Mg(){var t=H.H,a=t.useState()[0];return a=typeof a.then=="function"?Bl(a):a,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Re.flags|=1024),a}function Do(){var t=Ii!==0;return Ii=0,t}function Bo(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function Ro(t){if($i){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}$i=!1}is=0,Nt=Ke=Re=null,qn=!1,Dl=Ii=0,Gn=null}function Ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Re.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function yt(){if(Ke===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var a=Nt===null?Re.memoizedState:Nt.next;if(a!==null)Nt=a,Ke=t;else{if(t===null)throw Re.alternate===null?Error(d(467)):Error(d(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Nt===null?Re.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Hi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(t){var a=Dl;return Dl+=1,Gn===null&&(Gn=[]),t=xu(Gn,t,a),a=Re,(Nt===null?a.memoizedState:Nt.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?oh:Yo),t}function qi(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bl(t);if(t.$$typeof===L)return Rt(t)}throw Error(d(438,String(t)))}function Oo(t){var a=null,s=Re.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var n=Re.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(a={data:n.data.map(function(i){return i.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Hi(),Re.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),n=0;n<t;n++)s[n]=oe;return a.index++,s}function rs(t,a){return typeof a=="function"?a(t):a}function Gi(t){var a=yt();return Uo(a,Ke,t)}function Uo(t,a,s){var n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=s;var i=t.baseQueue,o=n.pending;if(o!==null){if(i!==null){var m=i.next;i.next=o.next,o.next=m}a.baseQueue=i=o,n.pending=null}if(o=t.baseState,i===null)t.memoizedState=o;else{a=i.next;var T=m=null,W=null,le=a,he=!1;do{var pe=le.lane&-536870913;if(pe!==le.lane?($e&pe)===pe:(is&pe)===pe){var re=le.revertLane;if(re===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),pe===Fn&&(he=!0);else if((is&re)===re){le=le.next,re===Fn&&(he=!0);continue}else pe={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},W===null?(T=W=pe,m=o):W=W.next=pe,Re.lanes|=re,zs|=re;pe=le.action,gn&&s(o,pe),o=le.hasEagerState?le.eagerState:s(o,pe)}else re={lane:pe,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},W===null?(T=W=re,m=o):W=W.next=re,Re.lanes|=pe,zs|=pe;le=le.next}while(le!==null&&le!==a);if(W===null?m=o:W.next=T,!aa(o,t.memoizedState)&&(wt=!0,he&&(s=Pn,s!==null)))throw s;t.memoizedState=o,t.baseState=m,t.baseQueue=W,n.lastRenderedState=o}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function zo(t){var a=yt(),s=a.queue;if(s===null)throw Error(d(311));s.lastRenderedReducer=t;var n=s.dispatch,i=s.pending,o=a.memoizedState;if(i!==null){s.pending=null;var m=i=i.next;do o=t(o,m.action),m=m.next;while(m!==i);aa(o,a.memoizedState)||(wt=!0),a.memoizedState=o,a.baseQueue===null&&(a.baseState=o),s.lastRenderedState=o}return[o,n]}function Eu(t,a,s){var n=Re,i=yt(),o=qe;if(o){if(s===void 0)throw Error(d(407));s=s()}else s=a();var m=!aa((Ke||i).memoizedState,s);if(m&&(i.memoizedState=s,wt=!0),i=i.queue,$o(Mu.bind(null,n,i,t),[t]),i.getSnapshot!==a||m||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,Wn(9,{destroy:void 0},Lu.bind(null,n,i,s,a),null),at===null)throw Error(d(349));o||(is&127)!==0||Tu(n,a,s)}return s}function Tu(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=Re.updateQueue,a===null?(a=Hi(),Re.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function Lu(t,a,s,n){a.value=s,a.getSnapshot=n,_u(a)&&Du(t)}function Mu(t,a,s){return s(function(){_u(a)&&Du(t)})}function _u(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!aa(t,s)}catch{return!0}}function Du(t){var a=rn(t,2);a!==null&&Kt(a,t,2)}function Fo(t){var a=Ht();if(typeof t=="function"){var s=t;if(t=s(),gn){Dt(!0);try{s()}finally{Dt(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},a}function Bu(t,a,s,n){return t.baseState=s,Uo(t,Ke,typeof n=="function"?n:rs)}function _g(t,a,s,n,i){if(Vi(t))throw Error(d(485));if(t=a.action,t!==null){var o={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){o.listeners.push(m)}};H.T!==null?s(!0):o.isTransition=!1,n(o),s=a.pending,s===null?(o.next=a.pending=o,Ru(a,o)):(o.next=s.next,a.pending=s.next=o)}}function Ru(t,a){var s=a.action,n=a.payload,i=t.state;if(a.isTransition){var o=H.T,m={};H.T=m;try{var T=s(i,n),W=H.S;W!==null&&W(m,T),Ou(t,a,T)}catch(le){Po(t,a,le)}finally{o!==null&&m.types!==null&&(o.types=m.types),H.T=o}}else try{o=s(i,n),Ou(t,a,o)}catch(le){Po(t,a,le)}}function Ou(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(n){Uu(t,a,n)},function(n){return Po(t,a,n)}):Uu(t,a,s)}function Uu(t,a,s){a.status="fulfilled",a.value=s,zu(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,Ru(t,s)))}function Po(t,a,s){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do a.status="rejected",a.reason=s,zu(a),a=a.next;while(a!==n)}t.action=null}function zu(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Fu(t,a){return a}function Pu(t,a){if(qe){var s=at.formState;if(s!==null){e:{var n=Re;if(qe){if(rt){t:{for(var i=rt,o=ya;i.nodeType!==8;){if(!o){i=null;break t}if(i=va(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){rt=va(i.nextSibling),n=i.data==="F!";break e}}Ts(n)}n=!1}n&&(a=s[0])}}return s=Ht(),s.memoizedState=s.baseState=a,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:a},s.queue=n,s=lh.bind(null,Re,n),n.dispatch=s,n=Fo(!1),o=Wo.bind(null,Re,!1,n.queue),n=Ht(),i={state:a,dispatch:null,action:t,pending:null},n.queue=i,s=_g.bind(null,Re,i,o,s),i.dispatch=s,n.memoizedState=t,[a,s,!1]}function $u(t){var a=yt();return Iu(a,Ke,t)}function Iu(t,a,s){if(a=Uo(t,a,Fu)[0],t=Gi(rs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var n=Bl(a)}catch(m){throw m===$n?Ri:m}else n=a;a=yt();var i=a.queue,o=i.dispatch;return s!==a.memoizedState&&(Re.flags|=2048,Wn(9,{destroy:void 0},Dg.bind(null,i,s),null)),[n,o,t]}function Dg(t,a){t.action=a}function Hu(t){var a=yt(),s=Ke;if(s!==null)return Iu(a,s,t);yt(),a=a.memoizedState,s=yt();var n=s.queue.dispatch;return s.memoizedState=t,[a,n,!1]}function Wn(t,a,s,n){return t={tag:t,create:s,deps:n,inst:a,next:null},a=Re.updateQueue,a===null&&(a=Hi(),Re.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,a.lastEffect=t),t}function qu(){return yt().memoizedState}function Wi(t,a,s,n){var i=Ht();Re.flags|=t,i.memoizedState=Wn(1|a,{destroy:void 0},s,n===void 0?null:n)}function Yi(t,a,s,n){var i=yt();n=n===void 0?null:n;var o=i.memoizedState.inst;Ke!==null&&n!==null&&Mo(n,Ke.memoizedState.deps)?i.memoizedState=Wn(a,o,s,n):(Re.flags|=t,i.memoizedState=Wn(1|a,o,s,n))}function Gu(t,a){Wi(8390656,8,t,a)}function $o(t,a){Yi(2048,8,t,a)}function Bg(t){Re.flags|=4;var a=Re.updateQueue;if(a===null)a=Hi(),Re.updateQueue=a,a.events=[t];else{var s=a.events;s===null?a.events=[t]:s.push(t)}}function Wu(t){var a=yt().memoizedState;return Bg({ref:a,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(d(440));return a.impl.apply(void 0,arguments)}}function Yu(t,a){return Yi(4,2,t,a)}function Vu(t,a){return Yi(4,4,t,a)}function Qu(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Xu(t,a,s){s=s!=null?s.concat([t]):null,Yi(4,4,Qu.bind(null,a,t),s)}function Io(){}function Ju(t,a){var s=yt();a=a===void 0?null:a;var n=s.memoizedState;return a!==null&&Mo(a,n[1])?n[0]:(s.memoizedState=[t,a],t)}function Zu(t,a){var s=yt();a=a===void 0?null:a;var n=s.memoizedState;if(a!==null&&Mo(a,n[1]))return n[0];if(n=t(),gn){Dt(!0);try{t()}finally{Dt(!1)}}return s.memoizedState=[n,a],n}function Ho(t,a,s){return s===void 0||(is&1073741824)!==0&&($e&261930)===0?t.memoizedState=a:(t.memoizedState=s,t=Kh(),Re.lanes|=t,zs|=t,s)}function Ku(t,a,s,n){return aa(s,a)?s:Hn.current!==null?(t=Ho(t,s,n),aa(t,a)||(wt=!0),t):(is&42)===0||(is&1073741824)!==0&&($e&261930)===0?(wt=!0,t.memoizedState=s):(t=Kh(),Re.lanes|=t,zs|=t,a)}function eh(t,a,s,n,i){var o=G.p;G.p=o!==0&&8>o?o:8;var m=H.T,T={};H.T=T,Wo(t,!1,a,s);try{var W=i(),le=H.S;if(le!==null&&le(T,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var he=Tg(W,n);Rl(t,a,he,oa(t))}else Rl(t,a,n,oa(t))}catch(pe){Rl(t,a,{then:function(){},status:"rejected",reason:pe},oa())}finally{G.p=o,m!==null&&T.types!==null&&(m.types=T.types),H.T=m}}function Rg(){}function qo(t,a,s,n){if(t.tag!==5)throw Error(d(476));var i=th(t).queue;eh(t,i,a,ie,s===null?Rg:function(){return ah(t),s(n)})}function th(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:ie},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function ah(t){var a=th(t);a.next===null&&(a=t.alternate.memoizedState),Rl(t,a.next.queue,{},oa())}function Go(){return Rt(Zl)}function sh(){return yt().memoizedState}function nh(){return yt().memoizedState}function Og(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=oa();t=_s(s);var n=Ds(a,t,s);n!==null&&(Kt(n,a,s),Ll(n,a,s)),a={cache:jo()},t.payload=a;return}a=a.return}}function Ug(t,a,s){var n=oa();s={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Vi(t)?ih(a,s):(s=oo(t,a,s,n),s!==null&&(Kt(s,t,n),rh(s,a,n)))}function lh(t,a,s){var n=oa();Rl(t,a,s,n)}function Rl(t,a,s,n){var i={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Vi(t))ih(a,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=a.lastRenderedReducer,o!==null))try{var m=a.lastRenderedState,T=o(m,s);if(i.hasEagerState=!0,i.eagerState=T,aa(T,m))return Ei(t,a,i,0),at===null&&Ai(),!1}catch{}if(s=oo(t,a,i,n),s!==null)return Kt(s,t,n),rh(s,a,n),!0}return!1}function Wo(t,a,s,n){if(n={lane:2,revertLane:Sc(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Vi(t)){if(a)throw Error(d(479))}else a=oo(t,s,n,2),a!==null&&Kt(a,t,2)}function Vi(t){var a=t.alternate;return t===Re||a!==null&&a===Re}function ih(t,a){qn=$i=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function rh(t,a,s){if((s&4194048)!==0){var n=a.lanes;n&=t.pendingLanes,s|=n,a.lanes=s,Fa(t,s)}}var Ol={readContext:Rt,use:qi,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Ol.useEffectEvent=pt;var oh={readContext:Rt,use:qi,useCallback:function(t,a){return Ht().memoizedState=[t,a===void 0?null:a],t},useContext:Rt,useEffect:Gu,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,Wi(4194308,4,Qu.bind(null,a,t),s)},useLayoutEffect:function(t,a){return Wi(4194308,4,t,a)},useInsertionEffect:function(t,a){Wi(4,2,t,a)},useMemo:function(t,a){var s=Ht();a=a===void 0?null:a;var n=t();if(gn){Dt(!0);try{t()}finally{Dt(!1)}}return s.memoizedState=[n,a],n},useReducer:function(t,a,s){var n=Ht();if(s!==void 0){var i=s(a);if(gn){Dt(!0);try{s(a)}finally{Dt(!1)}}}else i=a;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=Ug.bind(null,Re,t),[n.memoizedState,t]},useRef:function(t){var a=Ht();return t={current:t},a.memoizedState=t},useState:function(t){t=Fo(t);var a=t.queue,s=lh.bind(null,Re,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:Io,useDeferredValue:function(t,a){var s=Ht();return Ho(s,t,a)},useTransition:function(){var t=Fo(!1);return t=eh.bind(null,Re,t.queue,!0,!1),Ht().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var n=Re,i=Ht();if(qe){if(s===void 0)throw Error(d(407));s=s()}else{if(s=a(),at===null)throw Error(d(349));($e&127)!==0||Tu(n,a,s)}i.memoizedState=s;var o={value:s,getSnapshot:a};return i.queue=o,Gu(Mu.bind(null,n,o,t),[t]),n.flags|=2048,Wn(9,{destroy:void 0},Lu.bind(null,n,o,s,a),null),s},useId:function(){var t=Ht(),a=at.identifierPrefix;if(qe){var s=Ha,n=Ia;s=(n&~(1<<32-jt(n)-1)).toString(32)+s,a="_"+a+"R_"+s,s=Ii++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=Lg++,a="_"+a+"r_"+s.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:Go,useFormState:Pu,useActionState:Pu,useOptimistic:function(t){var a=Ht();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Wo.bind(null,Re,!0,s),s.dispatch=a,[t,a]},useMemoCache:Oo,useCacheRefresh:function(){return Ht().memoizedState=Og.bind(null,Re)},useEffectEvent:function(t){var a=Ht(),s={impl:t};return a.memoizedState=s,function(){if((Xe&2)!==0)throw Error(d(440));return s.impl.apply(void 0,arguments)}}},Yo={readContext:Rt,use:qi,useCallback:Ju,useContext:Rt,useEffect:$o,useImperativeHandle:Xu,useInsertionEffect:Yu,useLayoutEffect:Vu,useMemo:Zu,useReducer:Gi,useRef:qu,useState:function(){return Gi(rs)},useDebugValue:Io,useDeferredValue:function(t,a){var s=yt();return Ku(s,Ke.memoizedState,t,a)},useTransition:function(){var t=Gi(rs)[0],a=yt().memoizedState;return[typeof t=="boolean"?t:Bl(t),a]},useSyncExternalStore:Eu,useId:sh,useHostTransitionStatus:Go,useFormState:$u,useActionState:$u,useOptimistic:function(t,a){var s=yt();return Bu(s,Ke,t,a)},useMemoCache:Oo,useCacheRefresh:nh};Yo.useEffectEvent=Wu;var ch={readContext:Rt,use:qi,useCallback:Ju,useContext:Rt,useEffect:$o,useImperativeHandle:Xu,useInsertionEffect:Yu,useLayoutEffect:Vu,useMemo:Zu,useReducer:zo,useRef:qu,useState:function(){return zo(rs)},useDebugValue:Io,useDeferredValue:function(t,a){var s=yt();return Ke===null?Ho(s,t,a):Ku(s,Ke.memoizedState,t,a)},useTransition:function(){var t=zo(rs)[0],a=yt().memoizedState;return[typeof t=="boolean"?t:Bl(t),a]},useSyncExternalStore:Eu,useId:sh,useHostTransitionStatus:Go,useFormState:Hu,useActionState:Hu,useOptimistic:function(t,a){var s=yt();return Ke!==null?Bu(s,Ke,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Oo,useCacheRefresh:nh};ch.useEffectEvent=Wu;function Vo(t,a,s,n){a=t.memoizedState,s=s(n,a),s=s==null?a:f({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Qo={enqueueSetState:function(t,a,s){t=t._reactInternals;var n=oa(),i=_s(n);i.payload=a,s!=null&&(i.callback=s),a=Ds(t,i,n),a!==null&&(Kt(a,t,n),Ll(a,t,n))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var n=oa(),i=_s(n);i.tag=1,i.payload=a,s!=null&&(i.callback=s),a=Ds(t,i,n),a!==null&&(Kt(a,t,n),Ll(a,t,n))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=oa(),n=_s(s);n.tag=2,a!=null&&(n.callback=a),a=Ds(t,n,s),a!==null&&(Kt(a,t,s),Ll(a,t,s))}};function dh(t,a,s,n,i,o,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,m):a.prototype&&a.prototype.isPureReactComponent?!Nl(s,n)||!Nl(i,o):!0}function uh(t,a,s,n){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,n),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,n),a.state!==t&&Qo.enqueueReplaceState(a,a.state,null)}function xn(t,a){var s=a;if("ref"in a){s={};for(var n in a)n!=="ref"&&(s[n]=a[n])}if(t=t.defaultProps){s===a&&(s=f({},s));for(var i in t)s[i]===void 0&&(s[i]=t[i])}return s}function hh(t){Ci(t)}function mh(t){console.error(t)}function fh(t){Ci(t)}function Qi(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(n){setTimeout(function(){throw n})}}function ph(t,a,s){try{var n=t.onCaughtError;n(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Xo(t,a,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){Qi(t,a)},s}function gh(t){return t=_s(t),t.tag=3,t}function xh(t,a,s,n){var i=s.type.getDerivedStateFromError;if(typeof i=="function"){var o=n.value;t.payload=function(){return i(o)},t.callback=function(){ph(a,s,n)}}var m=s.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(t.callback=function(){ph(a,s,n),typeof i!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var T=n.stack;this.componentDidCatch(n.value,{componentStack:T!==null?T:""})})}function zg(t,a,s,n,i){if(s.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(a=s.alternate,a!==null&&zn(a,s,i,!0),s=na.current,s!==null){switch(s.tag){case 31:case 13:return ja===null?rr():s.alternate===null&&gt===0&&(gt=3),s.flags&=-257,s.flags|=65536,s.lanes=i,n===Oi?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([n]):a.add(n),vc(t,n,i)),!1;case 22:return s.flags|=65536,n===Oi?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([n])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([n]):s.add(n)),vc(t,n,i)),!1}throw Error(d(435,s.tag))}return vc(t,n,i),rr(),!1}if(qe)return a=na.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=i,n!==po&&(t=Error(d(422),{cause:n}),kl(ga(t,s)))):(n!==po&&(a=Error(d(423),{cause:n}),kl(ga(a,s))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=ga(n,s),i=Xo(t.stateNode,n,i),Co(t,i),gt!==4&&(gt=2)),!1;var o=Error(d(520),{cause:n});if(o=ga(o,s),ql===null?ql=[o]:ql.push(o),gt!==4&&(gt=2),a===null)return!0;n=ga(n,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=i&-i,s.lanes|=t,t=Xo(s.stateNode,n,t),Co(s,t),!1;case 1:if(a=s.type,o=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))))return s.flags|=65536,i&=-i,s.lanes|=i,i=gh(i),xh(i,t,s,n),Co(s,i),!1}s=s.return}while(s!==null);return!1}var Jo=Error(d(461)),wt=!1;function Ot(t,a,s,n){a.child=t===null?vu(a,null,s,n):pn(a,t.child,s,n)}function bh(t,a,s,n,i){s=s.render;var o=a.ref;if("ref"in n){var m={};for(var T in n)T!=="ref"&&(m[T]=n[T])}else m=n;return un(a),n=_o(t,a,s,m,o,i),T=Do(),t!==null&&!wt?(Bo(t,a,i),os(t,a,i)):(qe&&T&&mo(a),a.flags|=1,Ot(t,a,n,i),a.child)}function yh(t,a,s,n,i){if(t===null){var o=s.type;return typeof o=="function"&&!co(o)&&o.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=o,jh(t,a,o,n,i)):(t=Li(s.type,null,n,a,a.mode,i),t.ref=a.ref,t.return=a,a.child=t)}if(o=t.child,!lc(t,i)){var m=o.memoizedProps;if(s=s.compare,s=s!==null?s:Nl,s(m,n)&&t.ref===a.ref)return os(t,a,i)}return a.flags|=1,t=as(o,n),t.ref=a.ref,t.return=a,a.child=t}function jh(t,a,s,n,i){if(t!==null){var o=t.memoizedProps;if(Nl(o,n)&&t.ref===a.ref)if(wt=!1,a.pendingProps=n=o,lc(t,i))(t.flags&131072)!==0&&(wt=!0);else return a.lanes=t.lanes,os(t,a,i)}return Zo(t,a,s,n,i)}function vh(t,a,s,n){var i=n.children,o=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((a.flags&128)!==0){if(o=o!==null?o.baseLanes|s:s,t!==null){for(n=a.child=t.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~o}else n=0,a.child=null;return Nh(t,a,o,s,n)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bi(a,o!==null?o.cachePool:null),o!==null?Su(a,o):Eo(),ku(a);else return n=a.lanes=536870912,Nh(t,a,o!==null?o.baseLanes|s:s,s,n)}else o!==null?(Bi(a,o.cachePool),Su(a,o),Rs(),a.memoizedState=null):(t!==null&&Bi(a,null),Eo(),Rs());return Ot(t,a,i,s),a.child}function Ul(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Nh(t,a,s,n,i){var o=No();return o=o===null?null:{parent:vt._currentValue,pool:o},a.memoizedState={baseLanes:s,cachePool:o},t!==null&&Bi(a,null),Eo(),ku(a),t!==null&&zn(t,a,n,!0),a.childLanes=i,null}function Xi(t,a){return a=Zi({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function wh(t,a,s){return pn(a,t.child,null,s),t=Xi(a,a.pendingProps),t.flags|=2,la(a),a.memoizedState=null,t}function Fg(t,a,s){var n=a.pendingProps,i=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(qe){if(n.mode==="hidden")return t=Xi(a,n),a.lanes=536870912,Ul(null,t);if(Lo(a),(t=rt)?(t=Rm(t,ya),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:As!==null?{id:Ia,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},s=iu(t),s.return=a,a.child=s,Bt=a,rt=null)):t=null,t===null)throw Ts(a);return a.lanes=536870912,null}return Xi(a,n)}var o=t.memoizedState;if(o!==null){var m=o.dehydrated;if(Lo(a),i)if(a.flags&256)a.flags&=-257,a=wh(t,a,s);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(d(558));else if(wt||zn(t,a,s,!1),i=(s&t.childLanes)!==0,wt||i){if(n=at,n!==null&&(m=Ea(n,s),m!==0&&m!==o.retryLane))throw o.retryLane=m,rn(t,m),Kt(n,t,m),Jo;rr(),a=wh(t,a,s)}else t=o.treeContext,rt=va(m.nextSibling),Bt=a,qe=!0,Es=null,ya=!1,t!==null&&cu(a,t),a=Xi(a,n),a.flags|=4096;return a}return t=as(t.child,{mode:n.mode,children:n.children}),t.ref=a.ref,a.child=t,t.return=a,t}function Ji(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(d(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function Zo(t,a,s,n,i){return un(a),s=_o(t,a,s,n,void 0,i),n=Do(),t!==null&&!wt?(Bo(t,a,i),os(t,a,i)):(qe&&n&&mo(a),a.flags|=1,Ot(t,a,s,i),a.child)}function Sh(t,a,s,n,i,o){return un(a),a.updateQueue=null,s=Au(a,n,s,i),Cu(t),n=Do(),t!==null&&!wt?(Bo(t,a,o),os(t,a,o)):(qe&&n&&mo(a),a.flags|=1,Ot(t,a,s,o),a.child)}function kh(t,a,s,n,i){if(un(a),a.stateNode===null){var o=Bn,m=s.contextType;typeof m=="object"&&m!==null&&(o=Rt(m)),o=new s(n,o),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Qo,a.stateNode=o,o._reactInternals=a,o=a.stateNode,o.props=n,o.state=a.memoizedState,o.refs={},So(a),m=s.contextType,o.context=typeof m=="object"&&m!==null?Rt(m):Bn,o.state=a.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Vo(a,s,m,n),o.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(m=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),m!==o.state&&Qo.enqueueReplaceState(o,o.state,null),_l(a,n,o,i),Ml(),o.state=a.memoizedState),typeof o.componentDidMount=="function"&&(a.flags|=4194308),n=!0}else if(t===null){o=a.stateNode;var T=a.memoizedProps,W=xn(s,T);o.props=W;var le=o.context,he=s.contextType;m=Bn,typeof he=="object"&&he!==null&&(m=Rt(he));var pe=s.getDerivedStateFromProps;he=typeof pe=="function"||typeof o.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,he||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(T||le!==m)&&uh(a,o,n,m),Ms=!1;var re=a.memoizedState;o.state=re,_l(a,n,o,i),Ml(),le=a.memoizedState,T||re!==le||Ms?(typeof pe=="function"&&(Vo(a,s,pe,n),le=a.memoizedState),(W=Ms||dh(a,s,W,n,re,le,m))?(he||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(a.flags|=4194308)):(typeof o.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=n,a.memoizedState=le),o.props=n,o.state=le,o.context=m,n=W):(typeof o.componentDidMount=="function"&&(a.flags|=4194308),n=!1)}else{o=a.stateNode,ko(t,a),m=a.memoizedProps,he=xn(s,m),o.props=he,pe=a.pendingProps,re=o.context,le=s.contextType,W=Bn,typeof le=="object"&&le!==null&&(W=Rt(le)),T=s.getDerivedStateFromProps,(le=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(m!==pe||re!==W)&&uh(a,o,n,W),Ms=!1,re=a.memoizedState,o.state=re,_l(a,n,o,i),Ml();var ce=a.memoizedState;m!==pe||re!==ce||Ms||t!==null&&t.dependencies!==null&&_i(t.dependencies)?(typeof T=="function"&&(Vo(a,s,T,n),ce=a.memoizedState),(he=Ms||dh(a,s,he,n,re,ce,W)||t!==null&&t.dependencies!==null&&_i(t.dependencies))?(le||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,ce,W),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,ce,W)),typeof o.componentDidUpdate=="function"&&(a.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof o.componentDidUpdate!="function"||m===t.memoizedProps&&re===t.memoizedState||(a.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&re===t.memoizedState||(a.flags|=1024),a.memoizedProps=n,a.memoizedState=ce),o.props=n,o.state=ce,o.context=W,n=he):(typeof o.componentDidUpdate!="function"||m===t.memoizedProps&&re===t.memoizedState||(a.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&re===t.memoizedState||(a.flags|=1024),n=!1)}return o=n,Ji(t,a),n=(a.flags&128)!==0,o||n?(o=a.stateNode,s=n&&typeof s.getDerivedStateFromError!="function"?null:o.render(),a.flags|=1,t!==null&&n?(a.child=pn(a,t.child,null,i),a.child=pn(a,null,s,i)):Ot(t,a,s,i),a.memoizedState=o.state,t=a.child):t=os(t,a,i),t}function Ch(t,a,s,n){return cn(),a.flags|=256,Ot(t,a,s,n),a.child}var Ko={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ec(t){return{baseLanes:t,cachePool:pu()}}function tc(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=ra),t}function Ah(t,a,s){var n=a.pendingProps,i=!1,o=(a.flags&128)!==0,m;if((m=o)||(m=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),m&&(i=!0,a.flags&=-129),m=(a.flags&32)!==0,a.flags&=-33,t===null){if(qe){if(i?Bs(a):Rs(),(t=rt)?(t=Rm(t,ya),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:As!==null?{id:Ia,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},s=iu(t),s.return=a,a.child=s,Bt=a,rt=null)):t=null,t===null)throw Ts(a);return Uc(t)?a.lanes=32:a.lanes=536870912,null}var T=n.children;return n=n.fallback,i?(Rs(),i=a.mode,T=Zi({mode:"hidden",children:T},i),n=on(n,i,s,null),T.return=a,n.return=a,T.sibling=n,a.child=T,n=a.child,n.memoizedState=ec(s),n.childLanes=tc(t,m,s),a.memoizedState=Ko,Ul(null,n)):(Bs(a),ac(a,T))}var W=t.memoizedState;if(W!==null&&(T=W.dehydrated,T!==null)){if(o)a.flags&256?(Bs(a),a.flags&=-257,a=sc(t,a,s)):a.memoizedState!==null?(Rs(),a.child=t.child,a.flags|=128,a=null):(Rs(),T=n.fallback,i=a.mode,n=Zi({mode:"visible",children:n.children},i),T=on(T,i,s,null),T.flags|=2,n.return=a,T.return=a,n.sibling=T,a.child=n,pn(a,t.child,null,s),n=a.child,n.memoizedState=ec(s),n.childLanes=tc(t,m,s),a.memoizedState=Ko,a=Ul(null,n));else if(Bs(a),Uc(T)){if(m=T.nextSibling&&T.nextSibling.dataset,m)var le=m.dgst;m=le,n=Error(d(419)),n.stack="",n.digest=m,kl({value:n,source:null,stack:null}),a=sc(t,a,s)}else if(wt||zn(t,a,s,!1),m=(s&t.childLanes)!==0,wt||m){if(m=at,m!==null&&(n=Ea(m,s),n!==0&&n!==W.retryLane))throw W.retryLane=n,rn(t,n),Kt(m,t,n),Jo;Oc(T)||rr(),a=sc(t,a,s)}else Oc(T)?(a.flags|=192,a.child=t.child,a=null):(t=W.treeContext,rt=va(T.nextSibling),Bt=a,qe=!0,Es=null,ya=!1,t!==null&&cu(a,t),a=ac(a,n.children),a.flags|=4096);return a}return i?(Rs(),T=n.fallback,i=a.mode,W=t.child,le=W.sibling,n=as(W,{mode:"hidden",children:n.children}),n.subtreeFlags=W.subtreeFlags&65011712,le!==null?T=as(le,T):(T=on(T,i,s,null),T.flags|=2),T.return=a,n.return=a,n.sibling=T,a.child=n,Ul(null,n),n=a.child,T=t.child.memoizedState,T===null?T=ec(s):(i=T.cachePool,i!==null?(W=vt._currentValue,i=i.parent!==W?{parent:W,pool:W}:i):i=pu(),T={baseLanes:T.baseLanes|s,cachePool:i}),n.memoizedState=T,n.childLanes=tc(t,m,s),a.memoizedState=Ko,Ul(t.child,n)):(Bs(a),s=t.child,t=s.sibling,s=as(s,{mode:"visible",children:n.children}),s.return=a,s.sibling=null,t!==null&&(m=a.deletions,m===null?(a.deletions=[t],a.flags|=16):m.push(t)),a.child=s,a.memoizedState=null,s)}function ac(t,a){return a=Zi({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Zi(t,a){return t=sa(22,t,null,a),t.lanes=0,t}function sc(t,a,s){return pn(a,t.child,null,s),t=ac(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Eh(t,a,s){t.lanes|=a;var n=t.alternate;n!==null&&(n.lanes|=a),bo(t.return,a,s)}function nc(t,a,s,n,i,o){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i,treeForkCount:o}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=n,m.tail=s,m.tailMode=i,m.treeForkCount=o)}function Th(t,a,s){var n=a.pendingProps,i=n.revealOrder,o=n.tail;n=n.children;var m=bt.current,T=(m&2)!==0;if(T?(m=m&1|2,a.flags|=128):m&=1,se(bt,m),Ot(t,a,n,s),n=qe?Sl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Eh(t,s,a);else if(t.tag===19)Eh(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(s=a.child,i=null;s!==null;)t=s.alternate,t!==null&&Pi(t)===null&&(i=s),s=s.sibling;s=i,s===null?(i=a.child,a.child=null):(i=s.sibling,s.sibling=null),nc(a,!1,i,s,o,n);break;case"backwards":case"unstable_legacy-backwards":for(s=null,i=a.child,a.child=null;i!==null;){if(t=i.alternate,t!==null&&Pi(t)===null){a.child=i;break}t=i.sibling,i.sibling=s,s=i,i=t}nc(a,!0,s,null,o,n);break;case"together":nc(a,!1,null,null,void 0,n);break;default:a.memoizedState=null}return a.child}function os(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),zs|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(zn(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(d(153));if(a.child!==null){for(t=a.child,s=as(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=as(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function lc(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&_i(t)))}function Pg(t,a,s){switch(a.tag){case 3:ue(a,a.stateNode.containerInfo),Ls(a,vt,t.memoizedState.cache),cn();break;case 27:case 5:ve(a);break;case 4:ue(a,a.stateNode.containerInfo);break;case 10:Ls(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Lo(a),null;break;case 13:var n=a.memoizedState;if(n!==null)return n.dehydrated!==null?(Bs(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Ah(t,a,s):(Bs(a),t=os(t,a,s),t!==null?t.sibling:null);Bs(a);break;case 19:var i=(t.flags&128)!==0;if(n=(s&a.childLanes)!==0,n||(zn(t,a,s,!1),n=(s&a.childLanes)!==0),i){if(n)return Th(t,a,s);a.flags|=128}if(i=a.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),se(bt,bt.current),n)break;return null;case 22:return a.lanes=0,vh(t,a,s,a.pendingProps);case 24:Ls(a,vt,t.memoizedState.cache)}return os(t,a,s)}function Lh(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)wt=!0;else{if(!lc(t,s)&&(a.flags&128)===0)return wt=!1,Pg(t,a,s);wt=(t.flags&131072)!==0}else wt=!1,qe&&(a.flags&1048576)!==0&&ou(a,Sl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var n=a.pendingProps;if(t=mn(a.elementType),a.type=t,typeof t=="function")co(t)?(n=xn(t,n),a.tag=1,a=kh(null,a,t,n,s)):(a.tag=0,a=Zo(null,a,t,n,s));else{if(t!=null){var i=t.$$typeof;if(i===C){a.tag=11,a=bh(null,a,t,n,s);break e}else if(i===$){a.tag=14,a=yh(null,a,t,n,s);break e}}throw a=M(t)||t,Error(d(306,a,""))}}return a;case 0:return Zo(t,a,a.type,a.pendingProps,s);case 1:return n=a.type,i=xn(n,a.pendingProps),kh(t,a,n,i,s);case 3:e:{if(ue(a,a.stateNode.containerInfo),t===null)throw Error(d(387));n=a.pendingProps;var o=a.memoizedState;i=o.element,ko(t,a),_l(a,n,null,s);var m=a.memoizedState;if(n=m.cache,Ls(a,vt,n),n!==o.cache&&yo(a,[vt],s,!0),Ml(),n=m.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:m.cache},a.updateQueue.baseState=o,a.memoizedState=o,a.flags&256){a=Ch(t,a,n,s);break e}else if(n!==i){i=ga(Error(d(424)),a),kl(i),a=Ch(t,a,n,s);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=va(t.firstChild),Bt=a,qe=!0,Es=null,ya=!0,s=vu(a,null,n,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(cn(),n===i){a=os(t,a,s);break e}Ot(t,a,n,s)}a=a.child}return a;case 26:return Ji(t,a),t===null?(s=$m(a.type,null,a.pendingProps,null))?a.memoizedState=s:qe||(s=a.type,t=a.pendingProps,n=fr(P.current).createElement(s),n[ht]=a,n[ft]=t,Ut(n,s,t),Y(n),a.stateNode=n):a.memoizedState=$m(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return ve(a),t===null&&qe&&(n=a.stateNode=zm(a.type,a.pendingProps,P.current),Bt=a,ya=!0,i=rt,Hs(a.type)?(zc=i,rt=va(n.firstChild)):rt=i),Ot(t,a,a.pendingProps.children,s),Ji(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&qe&&((i=n=rt)&&(n=gx(n,a.type,a.pendingProps,ya),n!==null?(a.stateNode=n,Bt=a,rt=va(n.firstChild),ya=!1,i=!0):i=!1),i||Ts(a)),ve(a),i=a.type,o=a.pendingProps,m=t!==null?t.memoizedProps:null,n=o.children,Dc(i,o)?n=null:m!==null&&Dc(i,m)&&(a.flags|=32),a.memoizedState!==null&&(i=_o(t,a,Mg,null,null,s),Zl._currentValue=i),Ji(t,a),Ot(t,a,n,s),a.child;case 6:return t===null&&qe&&((t=s=rt)&&(s=xx(s,a.pendingProps,ya),s!==null?(a.stateNode=s,Bt=a,rt=null,t=!0):t=!1),t||Ts(a)),null;case 13:return Ah(t,a,s);case 4:return ue(a,a.stateNode.containerInfo),n=a.pendingProps,t===null?a.child=pn(a,null,n,s):Ot(t,a,n,s),a.child;case 11:return bh(t,a,a.type,a.pendingProps,s);case 7:return Ot(t,a,a.pendingProps,s),a.child;case 8:return Ot(t,a,a.pendingProps.children,s),a.child;case 12:return Ot(t,a,a.pendingProps.children,s),a.child;case 10:return n=a.pendingProps,Ls(a,a.type,n.value),Ot(t,a,n.children,s),a.child;case 9:return i=a.type._context,n=a.pendingProps.children,un(a),i=Rt(i),n=n(i),a.flags|=1,Ot(t,a,n,s),a.child;case 14:return yh(t,a,a.type,a.pendingProps,s);case 15:return jh(t,a,a.type,a.pendingProps,s);case 19:return Th(t,a,s);case 31:return Fg(t,a,s);case 22:return vh(t,a,s,a.pendingProps);case 24:return un(a),n=Rt(vt),t===null?(i=No(),i===null&&(i=at,o=jo(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=s),i=o),a.memoizedState={parent:n,cache:i},So(a),Ls(a,vt,i)):((t.lanes&s)!==0&&(ko(t,a),_l(a,null,null,s),Ml()),i=t.memoizedState,o=a.memoizedState,i.parent!==n?(i={parent:n,cache:n},a.memoizedState=i,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=i),Ls(a,vt,n)):(n=o.cache,Ls(a,vt,n),n!==i.cache&&yo(a,[vt],s,!0))),Ot(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(d(156,a.tag))}function cs(t){t.flags|=4}function ic(t,a,s,n,i){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(sm())t.flags|=8192;else throw fn=Oi,wo}else t.flags&=-16777217}function Mh(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wm(a))if(sm())t.flags|=8192;else throw fn=Oi,wo}function Ki(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?ws():536870912,t.lanes|=a,Xn|=a)}function zl(t,a){if(!qe)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ot(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(a)for(var i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=s,a}function $g(t,a,s){var n=a.pendingProps;switch(fo(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(a),null;case 1:return ot(a),null;case 3:return s=a.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),a.memoizedState.cache!==n&&(a.flags|=2048),ls(vt),me(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Un(a)?cs(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,go())),ot(a),null;case 26:var i=a.type,o=a.memoizedState;return t===null?(cs(a),o!==null?(ot(a),Mh(a,o)):(ot(a),ic(a,i,null,n,s))):o?o!==t.memoizedState?(cs(a),ot(a),Mh(a,o)):(ot(a),a.flags&=-16777217):(t=t.memoizedProps,t!==n&&cs(a),ot(a),ic(a,i,t,n,s)),null;case 27:if(we(a),s=P.current,i=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==n&&cs(a);else{if(!n){if(a.stateNode===null)throw Error(d(166));return ot(a),null}t=J.current,Un(a)?du(a):(t=zm(i,n,s),a.stateNode=t,cs(a))}return ot(a),null;case 5:if(we(a),i=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==n&&cs(a);else{if(!n){if(a.stateNode===null)throw Error(d(166));return ot(a),null}if(o=J.current,Un(a))du(a);else{var m=fr(P.current);switch(o){case 1:o=m.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=m.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":o=m.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof n.is=="string"?m.createElement("select",{is:n.is}):m.createElement("select"),n.multiple?o.multiple=!0:n.size&&(o.size=n.size);break;default:o=typeof n.is=="string"?m.createElement(i,{is:n.is}):m.createElement(i)}}o[ht]=a,o[ft]=n;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=o;e:switch(Ut(o,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&cs(a)}}return ot(a),ic(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,s),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==n&&cs(a);else{if(typeof n!="string"&&a.stateNode===null)throw Error(d(166));if(t=P.current,Un(a)){if(t=a.stateNode,s=a.memoizedProps,n=null,i=Bt,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}t[ht]=a,t=!!(t.nodeValue===s||n!==null&&n.suppressHydrationWarning===!0||Am(t.nodeValue,s)),t||Ts(a,!0)}else t=fr(t).createTextNode(n),t[ht]=a,a.stateNode=t}return ot(a),null;case 31:if(s=a.memoizedState,t===null||t.memoizedState!==null){if(n=Un(a),s!==null){if(t===null){if(!n)throw Error(d(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(557));t[ht]=a}else cn(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),t=!1}else s=go(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return a.flags&256?(la(a),a):(la(a),null);if((a.flags&128)!==0)throw Error(d(558))}return ot(a),null;case 13:if(n=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Un(a),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(d(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));i[ht]=a}else cn(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),i=!1}else i=go(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return a.flags&256?(la(a),a):(la(a),null)}return la(a),(a.flags&128)!==0?(a.lanes=s,a):(s=n!==null,t=t!==null&&t.memoizedState!==null,s&&(n=a.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048)),s!==t&&s&&(a.child.flags|=8192),Ki(a,a.updateQueue),ot(a),null);case 4:return me(),t===null&&Ec(a.stateNode.containerInfo),ot(a),null;case 10:return ls(a.type),ot(a),null;case 19:if(Q(bt),n=a.memoizedState,n===null)return ot(a),null;if(i=(a.flags&128)!==0,o=n.rendering,o===null)if(i)zl(n,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(o=Pi(t),o!==null){for(a.flags|=128,zl(n,!1),t=o.updateQueue,a.updateQueue=t,Ki(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)lu(s,t),s=s.sibling;return se(bt,bt.current&1|2),qe&&ss(a,n.treeForkCount),a.child}t=t.sibling}n.tail!==null&&Ct()>nr&&(a.flags|=128,i=!0,zl(n,!1),a.lanes=4194304)}else{if(!i)if(t=Pi(o),t!==null){if(a.flags|=128,i=!0,t=t.updateQueue,a.updateQueue=t,Ki(a,t),zl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!qe)return ot(a),null}else 2*Ct()-n.renderingStartTime>nr&&s!==536870912&&(a.flags|=128,i=!0,zl(n,!1),a.lanes=4194304);n.isBackwards?(o.sibling=a.child,a.child=o):(t=n.last,t!==null?t.sibling=o:a.child=o,n.last=o)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Ct(),t.sibling=null,s=bt.current,se(bt,i?s&1|2:s&1),qe&&ss(a,n.treeForkCount),t):(ot(a),null);case 22:case 23:return la(a),To(),n=a.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(a.flags|=8192):n&&(a.flags|=8192),n?(s&536870912)!==0&&(a.flags&128)===0&&(ot(a),a.subtreeFlags&6&&(a.flags|=8192)):ot(a),s=a.updateQueue,s!==null&&Ki(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==s&&(a.flags|=2048),t!==null&&Q(hn),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),ls(vt),ot(a),null;case 25:return null;case 30:return null}throw Error(d(156,a.tag))}function Ig(t,a){switch(fo(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ls(vt),me(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return we(a),null;case 31:if(a.memoizedState!==null){if(la(a),a.alternate===null)throw Error(d(340));cn()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(la(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(d(340));cn()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return Q(bt),null;case 4:return me(),null;case 10:return ls(a.type),null;case 22:case 23:return la(a),To(),t!==null&&Q(hn),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return ls(vt),null;case 25:return null;default:return null}}function _h(t,a){switch(fo(a),a.tag){case 3:ls(vt),me();break;case 26:case 27:case 5:we(a);break;case 4:me();break;case 31:a.memoizedState!==null&&la(a);break;case 13:la(a);break;case 19:Q(bt);break;case 10:ls(a.type);break;case 22:case 23:la(a),To(),t!==null&&Q(hn);break;case 24:ls(vt)}}function Fl(t,a){try{var s=a.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var i=n.next;s=i;do{if((s.tag&t)===t){n=void 0;var o=s.create,m=s.inst;n=o(),m.destroy=n}s=s.next}while(s!==i)}}catch(T){Ze(a,a.return,T)}}function Os(t,a,s){try{var n=a.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&t)===t){var m=n.inst,T=m.destroy;if(T!==void 0){m.destroy=void 0,i=a;var W=s,le=T;try{le()}catch(he){Ze(i,W,he)}}}n=n.next}while(n!==o)}}catch(he){Ze(a,a.return,he)}}function Dh(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{wu(a,s)}catch(n){Ze(t,t.return,n)}}}function Bh(t,a,s){s.props=xn(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(n){Ze(t,a,n)}}function Pl(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof s=="function"?t.refCleanup=s(n):s.current=n}}catch(i){Ze(t,a,i)}}function qa(t,a){var s=t.ref,n=t.refCleanup;if(s!==null)if(typeof n=="function")try{n()}catch(i){Ze(t,a,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(i){Ze(t,a,i)}else s.current=null}function Rh(t){var a=t.type,s=t.memoizedProps,n=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break e;case"img":s.src?n.src=s.src:s.srcSet&&(n.srcset=s.srcSet)}}catch(i){Ze(t,t.return,i)}}function rc(t,a,s){try{var n=t.stateNode;dx(n,t.type,s,a),n[ft]=a}catch(i){Ze(t,t.return,i)}}function Oh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hs(t.type)||t.tag===4}function oc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Oh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cc(t,a,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=es));else if(n!==4&&(n===27&&Hs(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(cc(t,a,s),t=t.sibling;t!==null;)cc(t,a,s),t=t.sibling}function er(t,a,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(n!==4&&(n===27&&Hs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(er(t,a,s),t=t.sibling;t!==null;)er(t,a,s),t=t.sibling}function Uh(t){var a=t.stateNode,s=t.memoizedProps;try{for(var n=t.type,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Ut(a,n,s),a[ht]=t,a[ft]=s}catch(o){Ze(t,t.return,o)}}var ds=!1,St=!1,dc=!1,zh=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Hg(t,a){if(t=t.containerInfo,Mc=vr,t=Xd(t),ao(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var m=0,T=-1,W=-1,le=0,he=0,pe=t,re=null;t:for(;;){for(var ce;pe!==s||i!==0&&pe.nodeType!==3||(T=m+i),pe!==o||n!==0&&pe.nodeType!==3||(W=m+n),pe.nodeType===3&&(m+=pe.nodeValue.length),(ce=pe.firstChild)!==null;)re=pe,pe=ce;for(;;){if(pe===t)break t;if(re===s&&++le===i&&(T=m),re===o&&++he===n&&(W=m),(ce=pe.nextSibling)!==null)break;pe=re,re=pe.parentNode}pe=ce}s=T===-1||W===-1?null:{start:T,end:W}}else s=null}s=s||{start:0,end:0}}else s=null;for(_c={focusedElem:t,selectionRange:s},vr=!1,_t=a;_t!==null;)if(a=_t,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,_t=t;else for(;_t!==null;){switch(a=_t,o=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)i=t[s],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&o!==null){t=void 0,s=a,i=o.memoizedProps,o=o.memoizedState,n=s.stateNode;try{var Se=xn(s.type,i);t=n.getSnapshotBeforeUpdate(Se,o),n.__reactInternalSnapshotBeforeUpdate=t}catch(Me){Ze(s,s.return,Me)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)Rc(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(d(163))}if(t=a.sibling,t!==null){t.return=a.return,_t=t;break}_t=a.return}}function Fh(t,a,s){var n=s.flags;switch(s.tag){case 0:case 11:case 15:hs(t,s),n&4&&Fl(5,s);break;case 1:if(hs(t,s),n&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(m){Ze(s,s.return,m)}else{var i=xn(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(i,a,t.__reactInternalSnapshotBeforeUpdate)}catch(m){Ze(s,s.return,m)}}n&64&&Dh(s),n&512&&Pl(s,s.return);break;case 3:if(hs(t,s),n&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{wu(t,a)}catch(m){Ze(s,s.return,m)}}break;case 27:a===null&&n&4&&Uh(s);case 26:case 5:hs(t,s),a===null&&n&4&&Rh(s),n&512&&Pl(s,s.return);break;case 12:hs(t,s);break;case 31:hs(t,s),n&4&&Ih(t,s);break;case 13:hs(t,s),n&4&&Hh(t,s),n&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Zg.bind(null,s),bx(t,s))));break;case 22:if(n=s.memoizedState!==null||ds,!n){a=a!==null&&a.memoizedState!==null||St,i=ds;var o=St;ds=n,(St=a)&&!o?ms(t,s,(s.subtreeFlags&8772)!==0):hs(t,s),ds=i,St=o}break;case 30:break;default:hs(t,s)}}function Ph(t){var a=t.alternate;a!==null&&(t.alternate=null,Ph(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&ks(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,Qt=!1;function us(t,a,s){for(s=s.child;s!==null;)$h(t,a,s),s=s.sibling}function $h(t,a,s){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(da,s)}catch{}switch(s.tag){case 26:St||qa(s,a),us(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:St||qa(s,a);var n=dt,i=Qt;Hs(s.type)&&(dt=s.stateNode,Qt=!1),us(t,a,s),Ql(s.stateNode),dt=n,Qt=i;break;case 5:St||qa(s,a);case 6:if(n=dt,i=Qt,dt=null,us(t,a,s),dt=n,Qt=i,dt!==null)if(Qt)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(s.stateNode)}catch(o){Ze(s,a,o)}else try{dt.removeChild(s.stateNode)}catch(o){Ze(s,a,o)}break;case 18:dt!==null&&(Qt?(t=dt,Dm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),nl(t)):Dm(dt,s.stateNode));break;case 4:n=dt,i=Qt,dt=s.stateNode.containerInfo,Qt=!0,us(t,a,s),dt=n,Qt=i;break;case 0:case 11:case 14:case 15:Os(2,s,a),St||Os(4,s,a),us(t,a,s);break;case 1:St||(qa(s,a),n=s.stateNode,typeof n.componentWillUnmount=="function"&&Bh(s,a,n)),us(t,a,s);break;case 21:us(t,a,s);break;case 22:St=(n=St)||s.memoizedState!==null,us(t,a,s),St=n;break;default:us(t,a,s)}}function Ih(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{nl(t)}catch(s){Ze(a,a.return,s)}}}function Hh(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{nl(t)}catch(s){Ze(a,a.return,s)}}function qg(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new zh),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new zh),a;default:throw Error(d(435,t.tag))}}function tr(t,a){var s=qg(t);a.forEach(function(n){if(!s.has(n)){s.add(n);var i=Kg.bind(null,t,n);n.then(i,i)}})}function Xt(t,a){var s=a.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n],o=t,m=a,T=m;e:for(;T!==null;){switch(T.tag){case 27:if(Hs(T.type)){dt=T.stateNode,Qt=!1;break e}break;case 5:dt=T.stateNode,Qt=!1;break e;case 3:case 4:dt=T.stateNode.containerInfo,Qt=!0;break e}T=T.return}if(dt===null)throw Error(d(160));$h(o,m,i),dt=null,Qt=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)qh(a,t),a=a.sibling}var _a=null;function qh(t,a){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xt(a,t),Jt(t),n&4&&(Os(3,t,t.return),Fl(3,t),Os(5,t,t.return));break;case 1:Xt(a,t),Jt(t),n&512&&(St||s===null||qa(s,s.return)),n&64&&ds&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?n:s.concat(n))));break;case 26:var i=_a;if(Xt(a,t),Jt(t),n&512&&(St||s===null||qa(s,s.return)),n&4){var o=s!==null?s.memoizedState:null;if(n=t.memoizedState,s===null)if(n===null)if(t.stateNode===null){e:{n=t.type,s=t.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":o=i.getElementsByTagName("title")[0],(!o||o[Pt]||o[ht]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(n),i.head.insertBefore(o,i.querySelector("head > title"))),Ut(o,n,s),o[ht]=t,Y(o),n=o;break e;case"link":var m=qm("link","href",i).get(n+(s.href||""));if(m){for(var T=0;T<m.length;T++)if(o=m[T],o.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&o.getAttribute("rel")===(s.rel==null?null:s.rel)&&o.getAttribute("title")===(s.title==null?null:s.title)&&o.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){m.splice(T,1);break t}}o=i.createElement(n),Ut(o,n,s),i.head.appendChild(o);break;case"meta":if(m=qm("meta","content",i).get(n+(s.content||""))){for(T=0;T<m.length;T++)if(o=m[T],o.getAttribute("content")===(s.content==null?null:""+s.content)&&o.getAttribute("name")===(s.name==null?null:s.name)&&o.getAttribute("property")===(s.property==null?null:s.property)&&o.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&o.getAttribute("charset")===(s.charSet==null?null:s.charSet)){m.splice(T,1);break t}}o=i.createElement(n),Ut(o,n,s),i.head.appendChild(o);break;default:throw Error(d(468,n))}o[ht]=t,Y(o),n=o}t.stateNode=n}else Gm(i,t.type,t.stateNode);else t.stateNode=Hm(i,n,t.memoizedProps);else o!==n?(o===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):o.count--,n===null?Gm(i,t.type,t.stateNode):Hm(i,n,t.memoizedProps)):n===null&&t.stateNode!==null&&rc(t,t.memoizedProps,s.memoizedProps)}break;case 27:Xt(a,t),Jt(t),n&512&&(St||s===null||qa(s,s.return)),s!==null&&n&4&&rc(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Xt(a,t),Jt(t),n&512&&(St||s===null||qa(s,s.return)),t.flags&32){i=t.stateNode;try{$a(i,"")}catch(Se){Ze(t,t.return,Se)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,rc(t,i,s!==null?s.memoizedProps:i)),n&1024&&(dc=!0);break;case 6:if(Xt(a,t),Jt(t),n&4){if(t.stateNode===null)throw Error(d(162));n=t.memoizedProps,s=t.stateNode;try{s.nodeValue=n}catch(Se){Ze(t,t.return,Se)}}break;case 3:if(xr=null,i=_a,_a=pr(a.containerInfo),Xt(a,t),_a=i,Jt(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{nl(a.containerInfo)}catch(Se){Ze(t,t.return,Se)}dc&&(dc=!1,Gh(t));break;case 4:n=_a,_a=pr(t.stateNode.containerInfo),Xt(a,t),Jt(t),_a=n;break;case 12:Xt(a,t),Jt(t);break;case 31:Xt(a,t),Jt(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,tr(t,n)));break;case 13:Xt(a,t),Jt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(sr=Ct()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,tr(t,n)));break;case 22:i=t.memoizedState!==null;var W=s!==null&&s.memoizedState!==null,le=ds,he=St;if(ds=le||i,St=he||W,Xt(a,t),St=he,ds=le,Jt(t),n&8192)e:for(a=t.stateNode,a._visibility=i?a._visibility&-2:a._visibility|1,i&&(s===null||W||ds||St||bn(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){W=s=a;try{if(o=W.stateNode,i)m=o.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{T=W.stateNode;var pe=W.memoizedProps.style,re=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;T.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Se){Ze(W,W.return,Se)}}}else if(a.tag===6){if(s===null){W=a;try{W.stateNode.nodeValue=i?"":W.memoizedProps}catch(Se){Ze(W,W.return,Se)}}}else if(a.tag===18){if(s===null){W=a;try{var ce=W.stateNode;i?Bm(ce,!0):Bm(W.stateNode,!1)}catch(Se){Ze(W,W.return,Se)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}n&4&&(n=t.updateQueue,n!==null&&(s=n.retryQueue,s!==null&&(n.retryQueue=null,tr(t,s))));break;case 19:Xt(a,t),Jt(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,tr(t,n)));break;case 30:break;case 21:break;default:Xt(a,t),Jt(t)}}function Jt(t){var a=t.flags;if(a&2){try{for(var s,n=t.return;n!==null;){if(Oh(n)){s=n;break}n=n.return}if(s==null)throw Error(d(160));switch(s.tag){case 27:var i=s.stateNode,o=oc(t);er(t,o,i);break;case 5:var m=s.stateNode;s.flags&32&&($a(m,""),s.flags&=-33);var T=oc(t);er(t,T,m);break;case 3:case 4:var W=s.stateNode.containerInfo,le=oc(t);cc(t,le,W);break;default:throw Error(d(161))}}catch(he){Ze(t,t.return,he)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Gh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Gh(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function hs(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Fh(t,a.alternate,a),a=a.sibling}function bn(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Os(4,a,a.return),bn(a);break;case 1:qa(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Bh(a,a.return,s),bn(a);break;case 27:Ql(a.stateNode);case 26:case 5:qa(a,a.return),bn(a);break;case 22:a.memoizedState===null&&bn(a);break;case 30:bn(a);break;default:bn(a)}t=t.sibling}}function ms(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var n=a.alternate,i=t,o=a,m=o.flags;switch(o.tag){case 0:case 11:case 15:ms(i,o,s),Fl(4,o);break;case 1:if(ms(i,o,s),n=o,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(le){Ze(n,n.return,le)}if(n=o,i=n.updateQueue,i!==null){var T=n.stateNode;try{var W=i.shared.hiddenCallbacks;if(W!==null)for(i.shared.hiddenCallbacks=null,i=0;i<W.length;i++)Nu(W[i],T)}catch(le){Ze(n,n.return,le)}}s&&m&64&&Dh(o),Pl(o,o.return);break;case 27:Uh(o);case 26:case 5:ms(i,o,s),s&&n===null&&m&4&&Rh(o),Pl(o,o.return);break;case 12:ms(i,o,s);break;case 31:ms(i,o,s),s&&m&4&&Ih(i,o);break;case 13:ms(i,o,s),s&&m&4&&Hh(i,o);break;case 22:o.memoizedState===null&&ms(i,o,s),Pl(o,o.return);break;case 30:break;default:ms(i,o,s)}a=a.sibling}}function uc(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Cl(s))}function hc(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Cl(t))}function Da(t,a,s,n){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Wh(t,a,s,n),a=a.sibling}function Wh(t,a,s,n){var i=a.flags;switch(a.tag){case 0:case 11:case 15:Da(t,a,s,n),i&2048&&Fl(9,a);break;case 1:Da(t,a,s,n);break;case 3:Da(t,a,s,n),i&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Cl(t)));break;case 12:if(i&2048){Da(t,a,s,n),t=a.stateNode;try{var o=a.memoizedProps,m=o.id,T=o.onPostCommit;typeof T=="function"&&T(m,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(W){Ze(a,a.return,W)}}else Da(t,a,s,n);break;case 31:Da(t,a,s,n);break;case 13:Da(t,a,s,n);break;case 23:break;case 22:o=a.stateNode,m=a.alternate,a.memoizedState!==null?o._visibility&2?Da(t,a,s,n):$l(t,a):o._visibility&2?Da(t,a,s,n):(o._visibility|=2,Yn(t,a,s,n,(a.subtreeFlags&10256)!==0||!1)),i&2048&&uc(m,a);break;case 24:Da(t,a,s,n),i&2048&&hc(a.alternate,a);break;default:Da(t,a,s,n)}}function Yn(t,a,s,n,i){for(i=i&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var o=t,m=a,T=s,W=n,le=m.flags;switch(m.tag){case 0:case 11:case 15:Yn(o,m,T,W,i),Fl(8,m);break;case 23:break;case 22:var he=m.stateNode;m.memoizedState!==null?he._visibility&2?Yn(o,m,T,W,i):$l(o,m):(he._visibility|=2,Yn(o,m,T,W,i)),i&&le&2048&&uc(m.alternate,m);break;case 24:Yn(o,m,T,W,i),i&&le&2048&&hc(m.alternate,m);break;default:Yn(o,m,T,W,i)}a=a.sibling}}function $l(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,n=a,i=n.flags;switch(n.tag){case 22:$l(s,n),i&2048&&uc(n.alternate,n);break;case 24:$l(s,n),i&2048&&hc(n.alternate,n);break;default:$l(s,n)}a=a.sibling}}var Il=8192;function Vn(t,a,s){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)Yh(t,a,s),t=t.sibling}function Yh(t,a,s){switch(t.tag){case 26:Vn(t,a,s),t.flags&Il&&t.memoizedState!==null&&Lx(s,_a,t.memoizedState,t.memoizedProps);break;case 5:Vn(t,a,s);break;case 3:case 4:var n=_a;_a=pr(t.stateNode.containerInfo),Vn(t,a,s),_a=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Il,Il=16777216,Vn(t,a,s),Il=n):Vn(t,a,s));break;default:Vn(t,a,s)}}function Vh(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Hl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];_t=n,Xh(n,t)}Vh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qh(t),t=t.sibling}function Qh(t){switch(t.tag){case 0:case 11:case 15:Hl(t),t.flags&2048&&Os(9,t,t.return);break;case 3:Hl(t);break;case 12:Hl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,ar(t)):Hl(t);break;default:Hl(t)}}function ar(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];_t=n,Xh(n,t)}Vh(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Os(8,a,a.return),ar(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,ar(a));break;default:ar(a)}t=t.sibling}}function Xh(t,a){for(;_t!==null;){var s=_t;switch(s.tag){case 0:case 11:case 15:Os(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var n=s.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Cl(s.memoizedState.cache)}if(n=s.child,n!==null)n.return=s,_t=n;else e:for(s=t;_t!==null;){n=_t;var i=n.sibling,o=n.return;if(Ph(n),n===s){_t=null;break e}if(i!==null){i.return=o,_t=i;break e}_t=o}}}var Gg={getCacheForType:function(t){var a=Rt(vt),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s},cacheSignal:function(){return Rt(vt).controller.signal}},Wg=typeof WeakMap=="function"?WeakMap:Map,Xe=0,at=null,Fe=null,$e=0,Je=0,ia=null,Us=!1,Qn=!1,mc=!1,fs=0,gt=0,zs=0,yn=0,fc=0,ra=0,Xn=0,ql=null,Zt=null,pc=!1,sr=0,Jh=0,nr=1/0,lr=null,Fs=null,At=0,Ps=null,Jn=null,ps=0,gc=0,xc=null,Zh=null,Gl=0,bc=null;function oa(){return(Xe&2)!==0&&$e!==0?$e&-$e:H.T!==null?Sc():Ee()}function Kh(){if(ra===0)if(($e&536870912)===0||qe){var t=Qa;Qa<<=1,(Qa&3932160)===0&&(Qa=262144),ra=t}else ra=536870912;return t=na.current,t!==null&&(t.flags|=32),ra}function Kt(t,a,s){(t===at&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Zn(t,0),$s(t,$e,ra,!1)),ua(t,s),((Xe&2)===0||t!==at)&&(t===at&&((Xe&2)===0&&(yn|=s),gt===4&&$s(t,$e,ra,!1)),Ga(t))}function em(t,a,s){if((Xe&6)!==0)throw Error(d(327));var n=!s&&(a&127)===0&&(a&t.expiredLanes)===0||Mt(t,a),i=n?Qg(t,a):jc(t,a,!0),o=n;do{if(i===0){Qn&&!n&&$s(t,a,0,!1);break}else{if(s=t.current.alternate,o&&!Yg(s)){i=jc(t,a,!1),o=!1;continue}if(i===2){if(o=a,t.errorRecoveryDisabledLanes&o)var m=0;else m=t.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){a=m;e:{var T=t;i=ql;var W=T.current.memoizedState.isDehydrated;if(W&&(Zn(T,m).flags|=256),m=jc(T,m,!1),m!==2){if(mc&&!W){T.errorRecoveryDisabledLanes|=o,yn|=o,i=4;break e}o=Zt,Zt=i,o!==null&&(Zt===null?Zt=o:Zt.push.apply(Zt,o))}i=m}if(o=!1,i!==2)continue}}if(i===1){Zn(t,0),$s(t,a,0,!0);break}e:{switch(n=t,o=i,o){case 0:case 1:throw Error(d(345));case 4:if((a&4194048)!==a)break;case 6:$s(n,a,ra,!Us);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error(d(329))}if((a&62914560)===a&&(i=sr+300-Ct(),10<i)){if($s(n,a,ra,!Us),Ca(n,0,!0)!==0)break e;ps=a,n.timeoutHandle=Mm(tm.bind(null,n,s,Zt,lr,pc,a,ra,yn,Xn,Us,o,"Throttled",-0,0),i);break e}tm(n,s,Zt,lr,pc,a,ra,yn,Xn,Us,o,null,-0,0)}}break}while(!0);Ga(t)}function tm(t,a,s,n,i,o,m,T,W,le,he,pe,re,ce){if(t.timeoutHandle=-1,pe=a.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:es},Yh(a,o,pe);var Se=(o&62914560)===o?sr-Ct():(o&4194048)===o?Jh-Ct():0;if(Se=Mx(pe,Se),Se!==null){ps=o,t.cancelPendingCommit=Se(cm.bind(null,t,a,o,s,n,i,m,T,W,he,pe,null,re,ce)),$s(t,o,m,!le);return}}cm(t,a,o,s,n,i,m,T,W)}function Yg(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var n=0;n<s.length;n++){var i=s[n],o=i.getSnapshot;i=i.value;try{if(!aa(o(),i))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function $s(t,a,s,n){a&=~fc,a&=~yn,t.suspendedLanes|=a,t.pingedLanes&=~a,n&&(t.warmLanes|=a),n=t.expirationTimes;for(var i=a;0<i;){var o=31-jt(i),m=1<<o;n[o]=-1,i&=~m}s!==0&&Aa(t,s,a)}function ir(){return(Xe&6)===0?(Wl(0),!1):!0}function yc(){if(Fe!==null){if(Je===0)var t=Fe.return;else t=Fe,ns=dn=null,Ro(t),In=null,El=0,t=Fe;for(;t!==null;)_h(t.alternate,t),t=t.return;Fe=null}}function Zn(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,mx(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ps=0,yc(),at=t,Fe=s=as(t.current,null),$e=a,Je=0,ia=null,Us=!1,Qn=Mt(t,a),mc=!1,Xn=ra=fc=yn=zs=gt=0,Zt=ql=null,pc=!1,(a&8)!==0&&(a|=a&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=a;0<n;){var i=31-jt(n),o=1<<i;a|=t[i],n&=~o}return fs=a,Ai(),s}function am(t,a){Re=null,H.H=Ol,a===$n||a===Ri?(a=bu(),Je=3):a===wo?(a=bu(),Je=4):Je=a===Jo?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ia=a,Fe===null&&(gt=1,Qi(t,ga(a,t.current)))}function sm(){var t=na.current;return t===null?!0:($e&4194048)===$e?ja===null:($e&62914560)===$e||($e&536870912)!==0?t===ja:!1}function nm(){var t=H.H;return H.H=Ol,t===null?Ol:t}function lm(){var t=H.A;return H.A=Gg,t}function rr(){gt=4,Us||($e&4194048)!==$e&&na.current!==null||(Qn=!0),(zs&134217727)===0&&(yn&134217727)===0||at===null||$s(at,$e,ra,!1)}function jc(t,a,s){var n=Xe;Xe|=2;var i=nm(),o=lm();(at!==t||$e!==a)&&(lr=null,Zn(t,a)),a=!1;var m=gt;e:do try{if(Je!==0&&Fe!==null){var T=Fe,W=ia;switch(Je){case 8:yc(),m=6;break e;case 3:case 2:case 9:case 6:na.current===null&&(a=!0);var le=Je;if(Je=0,ia=null,Kn(t,T,W,le),s&&Qn){m=0;break e}break;default:le=Je,Je=0,ia=null,Kn(t,T,W,le)}}Vg(),m=gt;break}catch(he){am(t,he)}while(!0);return a&&t.shellSuspendCounter++,ns=dn=null,Xe=n,H.H=i,H.A=o,Fe===null&&(at=null,$e=0,Ai()),m}function Vg(){for(;Fe!==null;)im(Fe)}function Qg(t,a){var s=Xe;Xe|=2;var n=nm(),i=lm();at!==t||$e!==a?(lr=null,nr=Ct()+500,Zn(t,a)):Qn=Mt(t,a);e:do try{if(Je!==0&&Fe!==null){a=Fe;var o=ia;t:switch(Je){case 1:Je=0,ia=null,Kn(t,a,o,1);break;case 2:case 9:if(gu(o)){Je=0,ia=null,rm(a);break}a=function(){Je!==2&&Je!==9||at!==t||(Je=7),Ga(t)},o.then(a,a);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:gu(o)?(Je=0,ia=null,rm(a)):(Je=0,ia=null,Kn(t,a,o,7));break;case 5:var m=null;switch(Fe.tag){case 26:m=Fe.memoizedState;case 5:case 27:var T=Fe;if(m?Wm(m):T.stateNode.complete){Je=0,ia=null;var W=T.sibling;if(W!==null)Fe=W;else{var le=T.return;le!==null?(Fe=le,or(le)):Fe=null}break t}}Je=0,ia=null,Kn(t,a,o,5);break;case 6:Je=0,ia=null,Kn(t,a,o,6);break;case 8:yc(),gt=6;break e;default:throw Error(d(462))}}Xg();break}catch(he){am(t,he)}while(!0);return ns=dn=null,H.H=n,H.A=i,Xe=s,Fe!==null?0:(at=null,$e=0,Ai(),gt)}function Xg(){for(;Fe!==null&&!kt();)im(Fe)}function im(t){var a=Lh(t.alternate,t,fs);t.memoizedProps=t.pendingProps,a===null?or(t):Fe=a}function rm(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=Sh(s,a,a.pendingProps,a.type,void 0,$e);break;case 11:a=Sh(s,a,a.pendingProps,a.type.render,a.ref,$e);break;case 5:Ro(a);default:_h(s,a),a=Fe=lu(a,fs),a=Lh(s,a,fs)}t.memoizedProps=t.pendingProps,a===null?or(t):Fe=a}function Kn(t,a,s,n){ns=dn=null,Ro(a),In=null,El=0;var i=a.return;try{if(zg(t,i,a,s,$e)){gt=1,Qi(t,ga(s,t.current)),Fe=null;return}}catch(o){if(i!==null)throw Fe=i,o;gt=1,Qi(t,ga(s,t.current)),Fe=null;return}a.flags&32768?(qe||n===1?t=!0:Qn||($e&536870912)!==0?t=!1:(Us=t=!0,(n===2||n===9||n===3||n===6)&&(n=na.current,n!==null&&n.tag===13&&(n.flags|=16384))),om(a,t)):or(a)}function or(t){var a=t;do{if((a.flags&32768)!==0){om(a,Us);return}t=a.return;var s=$g(a.alternate,a,fs);if(s!==null){Fe=s;return}if(a=a.sibling,a!==null){Fe=a;return}Fe=a=t}while(a!==null);gt===0&&(gt=5)}function om(t,a){do{var s=Ig(t.alternate,t);if(s!==null){s.flags&=32767,Fe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=s}while(t!==null);gt=6,Fe=null}function cm(t,a,s,n,i,o,m,T,W){t.cancelPendingCommit=null;do cr();while(At!==0);if((Xe&6)!==0)throw Error(d(327));if(a!==null){if(a===t.current)throw Error(d(177));if(o=a.lanes|a.childLanes,o|=ro,ha(t,s,o,m,T,W),t===at&&(Fe=at=null,$e=0),Jn=a,Ps=t,ps=s,gc=o,xc=i,Zh=n,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ex(mt,function(){return fm(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||n){n=H.T,H.T=null,i=G.p,G.p=2,m=Xe,Xe|=4;try{Hg(t,a,s)}finally{Xe=m,G.p=i,H.T=n}}At=1,dm(),um(),hm()}}function dm(){if(At===1){At=0;var t=Ps,a=Jn,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var n=G.p;G.p=2;var i=Xe;Xe|=4;try{qh(a,t);var o=_c,m=Xd(t.containerInfo),T=o.focusedElem,W=o.selectionRange;if(m!==T&&T&&T.ownerDocument&&Qd(T.ownerDocument.documentElement,T)){if(W!==null&&ao(T)){var le=W.start,he=W.end;if(he===void 0&&(he=le),"selectionStart"in T)T.selectionStart=le,T.selectionEnd=Math.min(he,T.value.length);else{var pe=T.ownerDocument||document,re=pe&&pe.defaultView||window;if(re.getSelection){var ce=re.getSelection(),Se=T.textContent.length,Me=Math.min(W.start,Se),tt=W.end===void 0?Me:Math.min(W.end,Se);!ce.extend&&Me>tt&&(m=tt,tt=Me,Me=m);var te=Vd(T,Me),X=Vd(T,tt);if(te&&X&&(ce.rangeCount!==1||ce.anchorNode!==te.node||ce.anchorOffset!==te.offset||ce.focusNode!==X.node||ce.focusOffset!==X.offset)){var ne=pe.createRange();ne.setStart(te.node,te.offset),ce.removeAllRanges(),Me>tt?(ce.addRange(ne),ce.extend(X.node,X.offset)):(ne.setEnd(X.node,X.offset),ce.addRange(ne))}}}}for(pe=[],ce=T;ce=ce.parentNode;)ce.nodeType===1&&pe.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<pe.length;T++){var fe=pe[T];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}vr=!!Mc,_c=Mc=null}finally{Xe=i,G.p=n,H.T=s}}t.current=a,At=2}}function um(){if(At===2){At=0;var t=Ps,a=Jn,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var n=G.p;G.p=2;var i=Xe;Xe|=4;try{Fh(t,a.alternate,a)}finally{Xe=i,G.p=n,H.T=s}}At=3}}function hm(){if(At===4||At===3){At=0,qt();var t=Ps,a=Jn,s=ps,n=Zh;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?At=5:(At=0,Jn=Ps=null,mm(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Fs=null),Ss(s),a=a.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(da,a,void 0,(a.current.flags&128)===128)}catch{}if(n!==null){a=H.T,i=G.p,G.p=2,H.T=null;try{for(var o=t.onRecoverableError,m=0;m<n.length;m++){var T=n[m];o(T.value,{componentStack:T.stack})}}finally{H.T=a,G.p=i}}(ps&3)!==0&&cr(),Ga(t),i=t.pendingLanes,(s&261930)!==0&&(i&42)!==0?t===bc?Gl++:(Gl=0,bc=t):Gl=0,Wl(0)}}function mm(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Cl(a)))}function cr(){return dm(),um(),hm(),fm()}function fm(){if(At!==5)return!1;var t=Ps,a=gc;gc=0;var s=Ss(ps),n=H.T,i=G.p;try{G.p=32>s?32:s,H.T=null,s=xc,xc=null;var o=Ps,m=ps;if(At=0,Jn=Ps=null,ps=0,(Xe&6)!==0)throw Error(d(331));var T=Xe;if(Xe|=4,Qh(o.current),Wh(o,o.current,m,s),Xe=T,Wl(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(da,o)}catch{}return!0}finally{G.p=i,H.T=n,mm(t,a)}}function pm(t,a,s){a=ga(s,a),a=Xo(t.stateNode,a,2),t=Ds(t,a,2),t!==null&&(ua(t,2),Ga(t))}function Ze(t,a,s){if(t.tag===3)pm(t,t,s);else for(;a!==null;){if(a.tag===3){pm(a,t,s);break}else if(a.tag===1){var n=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fs===null||!Fs.has(n))){t=ga(s,t),s=gh(2),n=Ds(a,s,2),n!==null&&(xh(s,n,a,t),ua(n,2),Ga(n));break}}a=a.return}}function vc(t,a,s){var n=t.pingCache;if(n===null){n=t.pingCache=new Wg;var i=new Set;n.set(a,i)}else i=n.get(a),i===void 0&&(i=new Set,n.set(a,i));i.has(s)||(mc=!0,i.add(s),t=Jg.bind(null,t,a,s),a.then(t,t))}function Jg(t,a,s){var n=t.pingCache;n!==null&&n.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,at===t&&($e&s)===s&&(gt===4||gt===3&&($e&62914560)===$e&&300>Ct()-sr?(Xe&2)===0&&Zn(t,0):fc|=s,Xn===$e&&(Xn=0)),Ga(t)}function gm(t,a){a===0&&(a=ws()),t=rn(t,a),t!==null&&(ua(t,a),Ga(t))}function Zg(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),gm(t,s)}function Kg(t,a){var s=0;switch(t.tag){case 31:case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(d(314))}n!==null&&n.delete(a),gm(t,s)}function ex(t,a){return ct(t,a)}var dr=null,el=null,Nc=!1,ur=!1,wc=!1,Is=0;function Ga(t){t!==el&&t.next===null&&(el===null?dr=el=t:el=el.next=t),ur=!0,Nc||(Nc=!0,ax())}function Wl(t,a){if(!wc&&ur){wc=!0;do for(var s=!1,n=dr;n!==null;){if(t!==0){var i=n.pendingLanes;if(i===0)var o=0;else{var m=n.suspendedLanes,T=n.pingedLanes;o=(1<<31-jt(42|t)+1)-1,o&=i&~(m&~T),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(s=!0,jm(n,o))}else o=$e,o=Ca(n,n===at?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(o&3)===0||Mt(n,o)||(s=!0,jm(n,o));n=n.next}while(s);wc=!1}}function tx(){xm()}function xm(){ur=Nc=!1;var t=0;Is!==0&&hx()&&(t=Is);for(var a=Ct(),s=null,n=dr;n!==null;){var i=n.next,o=bm(n,a);o===0?(n.next=null,s===null?dr=i:s.next=i,i===null&&(el=s)):(s=n,(t!==0||(o&3)!==0)&&(ur=!0)),n=i}At!==0&&At!==5||Wl(t),Is!==0&&(Is=0)}function bm(t,a){for(var s=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes&-62914561;0<o;){var m=31-jt(o),T=1<<m,W=i[m];W===-1?((T&s)===0||(T&n)!==0)&&(i[m]=tn(T,a)):W<=a&&(t.expiredLanes|=T),o&=~T}if(a=at,s=$e,s=Ca(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,s===0||t===a&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&Ue(n),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Mt(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(n!==null&&Ue(n),Ss(s)){case 2:case 8:s=en;break;case 32:s=mt;break;case 268435456:s=Oa;break;default:s=mt}return n=ym.bind(null,t),s=ct(s,n),t.callbackPriority=a,t.callbackNode=s,a}return n!==null&&n!==null&&Ue(n),t.callbackPriority=2,t.callbackNode=null,2}function ym(t,a){if(At!==0&&At!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(cr()&&t.callbackNode!==s)return null;var n=$e;return n=Ca(t,t===at?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(em(t,n,a),bm(t,Ct()),t.callbackNode!=null&&t.callbackNode===s?ym.bind(null,t):null)}function jm(t,a){if(cr())return null;em(t,a,!0)}function ax(){fx(function(){(Xe&6)!==0?ct(Ya,tx):xm()})}function Sc(){if(Is===0){var t=Fn;t===0&&(t=ka,ka<<=1,(ka&261888)===0&&(ka=256)),Is=t}return Is}function vm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:yi(""+t)}function Nm(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function sx(t,a,s,n,i){if(a==="submit"&&s&&s.stateNode===i){var o=vm((i[ft]||null).action),m=n.submitter;m&&(a=(a=m[ft]||null)?vm(a.formAction):m.getAttribute("formAction"),a!==null&&(o=a,m=null));var T=new wi("action","action",null,n,i);t.push({event:T,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Is!==0){var W=m?Nm(i,m):new FormData(i);qo(s,{pending:!0,data:W,method:i.method,action:o},null,W)}}else typeof o=="function"&&(T.preventDefault(),W=m?Nm(i,m):new FormData(i),qo(s,{pending:!0,data:W,method:i.method,action:o},o,W))},currentTarget:i}]})}}for(var kc=0;kc<io.length;kc++){var Cc=io[kc],nx=Cc.toLowerCase(),lx=Cc[0].toUpperCase()+Cc.slice(1);Ma(nx,"on"+lx)}Ma(Kd,"onAnimationEnd"),Ma(eu,"onAnimationIteration"),Ma(tu,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(vg,"onTransitionRun"),Ma(Ng,"onTransitionStart"),Ma(wg,"onTransitionCancel"),Ma(au,"onTransitionEnd"),Te("onMouseEnter",["mouseout","mouseover"]),Te("onMouseLeave",["mouseout","mouseover"]),Te("onPointerEnter",["pointerout","pointerover"]),Te("onPointerLeave",["pointerout","pointerover"]),Ne("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ne("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ne("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ne("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ne("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ne("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ix=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function wm(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],i=n.event;n=n.listeners;e:{var o=void 0;if(a)for(var m=n.length-1;0<=m;m--){var T=n[m],W=T.instance,le=T.currentTarget;if(T=T.listener,W!==o&&i.isPropagationStopped())break e;o=T,i.currentTarget=le;try{o(i)}catch(he){Ci(he)}i.currentTarget=null,o=W}else for(m=0;m<n.length;m++){if(T=n[m],W=T.instance,le=T.currentTarget,T=T.listener,W!==o&&i.isPropagationStopped())break e;o=T,i.currentTarget=le;try{o(i)}catch(he){Ci(he)}i.currentTarget=null,o=W}}}}function Pe(t,a){var s=a[Za];s===void 0&&(s=a[Za]=new Set);var n=t+"__bubble";s.has(n)||(Sm(a,t,2,!1),s.add(n))}function Ac(t,a,s){var n=0;a&&(n|=4),Sm(s,t,n,a)}var hr="_reactListening"+Math.random().toString(36).slice(2);function Ec(t){if(!t[hr]){t[hr]=!0,de.forEach(function(s){s!=="selectionchange"&&(ix.has(s)||Ac(s,!1,t),Ac(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[hr]||(a[hr]=!0,Ac("selectionchange",!1,a))}}function Sm(t,a,s,n){switch(Km(a)){case 2:var i=Bx;break;case 8:i=Rx;break;default:i=Hc}s=i.bind(null,a,s,t),i=void 0,!Yr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(a,s,{capture:!0,passive:i}):t.addEventListener(a,s,!0):i!==void 0?t.addEventListener(a,s,{passive:i}):t.addEventListener(a,s,!1)}function Tc(t,a,s,n,i){var o=n;if((a&1)===0&&(a&2)===0&&n!==null)e:for(;;){if(n===null)return;var m=n.tag;if(m===3||m===4){var T=n.stateNode.containerInfo;if(T===i)break;if(m===4)for(m=n.return;m!==null;){var W=m.tag;if((W===3||W===4)&&m.stateNode.containerInfo===i)return;m=m.return}for(;T!==null;){if(m=ma(T),m===null)return;if(W=m.tag,W===5||W===6||W===26||W===27){n=o=m;continue e}T=T.parentNode}}n=n.return}Td(function(){var le=o,he=Gr(s),pe=[];e:{var re=su.get(t);if(re!==void 0){var ce=wi,Se=t;switch(t){case"keypress":if(vi(s)===0)break e;case"keydown":case"keyup":ce=Kp;break;case"focusin":Se="focus",ce=Jr;break;case"focusout":Se="blur",ce=Jr;break;case"beforeblur":case"afterblur":ce=Jr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=_d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=$p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=ag;break;case Kd:case eu:case tu:ce=qp;break;case au:ce=ng;break;case"scroll":case"scrollend":ce=Fp;break;case"wheel":ce=ig;break;case"copy":case"cut":case"paste":ce=Wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Bd;break;case"toggle":case"beforetoggle":ce=og}var Me=(a&4)!==0,tt=!Me&&(t==="scroll"||t==="scrollend"),te=Me?re!==null?re+"Capture":null:re;Me=[];for(var X=le,ne;X!==null;){var fe=X;if(ne=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ne===null||te===null||(fe=pl(X,te),fe!=null&&Me.push(Vl(X,fe,ne))),tt)break;X=X.return}0<Me.length&&(re=new ce(re,Se,null,s,he),pe.push({event:re,listeners:Me}))}}if((a&7)===0){e:{if(re=t==="mouseover"||t==="pointerover",ce=t==="mouseout"||t==="pointerout",re&&s!==qr&&(Se=s.relatedTarget||s.fromElement)&&(ma(Se)||Se[lt]))break e;if((ce||re)&&(re=he.window===he?he:(re=he.ownerDocument)?re.defaultView||re.parentWindow:window,ce?(Se=s.relatedTarget||s.toElement,ce=le,Se=Se?ma(Se):null,Se!==null&&(tt=p(Se),Me=Se.tag,Se!==tt||Me!==5&&Me!==27&&Me!==6)&&(Se=null)):(ce=null,Se=le),ce!==Se)){if(Me=_d,fe="onMouseLeave",te="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(Me=Bd,fe="onPointerLeave",te="onPointerEnter",X="pointer"),tt=ce==null?re:U(ce),ne=Se==null?re:U(Se),re=new Me(fe,X+"leave",ce,s,he),re.target=tt,re.relatedTarget=ne,fe=null,ma(he)===le&&(Me=new Me(te,X+"enter",Se,s,he),Me.target=ne,Me.relatedTarget=tt,fe=Me),tt=fe,ce&&Se)t:{for(Me=rx,te=ce,X=Se,ne=0,fe=te;fe;fe=Me(fe))ne++;fe=0;for(var Le=X;Le;Le=Me(Le))fe++;for(;0<ne-fe;)te=Me(te),ne--;for(;0<fe-ne;)X=Me(X),fe--;for(;ne--;){if(te===X||X!==null&&te===X.alternate){Me=te;break t}te=Me(te),X=Me(X)}Me=null}else Me=null;ce!==null&&km(pe,re,ce,Me,!1),Se!==null&&tt!==null&&km(pe,tt,Se,Me,!0)}}e:{if(re=le?U(le):window,ce=re.nodeName&&re.nodeName.toLowerCase(),ce==="select"||ce==="input"&&re.type==="file")var Ye=Id;else if(Pd(re))if(Hd)Ye=bg;else{Ye=gg;var ke=pg}else ce=re.nodeName,!ce||ce.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?le&&An(le.elementType)&&(Ye=Id):Ye=xg;if(Ye&&(Ye=Ye(t,le))){$d(pe,Ye,s,he);break e}ke&&ke(t,re,le),t==="focusout"&&le&&re.type==="number"&&le.memoizedProps.value!=null&&Yt(re,"number",re.value)}switch(ke=le?U(le):window,t){case"focusin":(Pd(ke)||ke.contentEditable==="true")&&(Mn=ke,so=le,wl=null);break;case"focusout":wl=so=Mn=null;break;case"mousedown":no=!0;break;case"contextmenu":case"mouseup":case"dragend":no=!1,Jd(pe,s,he);break;case"selectionchange":if(jg)break;case"keydown":case"keyup":Jd(pe,s,he)}var Oe;if(Kr)e:{switch(t){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ln?zd(t,s)&&(Ie="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ie="onCompositionStart");Ie&&(Rd&&s.locale!=="ko"&&(Ln||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ln&&(Oe=Ld()):(Cs=he,Vr="value"in Cs?Cs.value:Cs.textContent,Ln=!0)),ke=mr(le,Ie),0<ke.length&&(Ie=new Dd(Ie,t,null,s,he),pe.push({event:Ie,listeners:ke}),Oe?Ie.data=Oe:(Oe=Fd(s),Oe!==null&&(Ie.data=Oe)))),(Oe=dg?ug(t,s):hg(t,s))&&(Ie=mr(le,"onBeforeInput"),0<Ie.length&&(ke=new Dd("onBeforeInput","beforeinput",null,s,he),pe.push({event:ke,listeners:Ie}),ke.data=Oe)),sx(pe,t,le,s,he)}wm(pe,a)})}function Vl(t,a,s){return{instance:t,listener:a,currentTarget:s}}function mr(t,a){for(var s=a+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=pl(t,s),i!=null&&n.unshift(Vl(t,i,o)),i=pl(t,a),i!=null&&n.push(Vl(t,i,o))),t.tag===3)return n;t=t.return}return[]}function rx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function km(t,a,s,n,i){for(var o=a._reactName,m=[];s!==null&&s!==n;){var T=s,W=T.alternate,le=T.stateNode;if(T=T.tag,W!==null&&W===n)break;T!==5&&T!==26&&T!==27||le===null||(W=le,i?(le=pl(s,o),le!=null&&m.unshift(Vl(s,le,W))):i||(le=pl(s,o),le!=null&&m.push(Vl(s,le,W)))),s=s.return}m.length!==0&&t.push({event:a,listeners:m})}var ox=/\r\n?/g,cx=/\u0000|\uFFFD/g;function Cm(t){return(typeof t=="string"?t:""+t).replace(ox,`
`).replace(cx,"")}function Am(t,a){return a=Cm(a),Cm(t)===a}function et(t,a,s,n,i,o){switch(s){case"children":typeof n=="string"?a==="body"||a==="textarea"&&n===""||$a(t,n):(typeof n=="number"||typeof n=="bigint")&&a!=="body"&&$a(t,""+n);break;case"className":Cn(t,"class",n);break;case"tabIndex":Cn(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,s,n);break;case"style":fl(t,n,o);break;case"data":if(a!=="object"){Cn(t,"data",n);break}case"src":case"href":if(n===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(s);break}n=yi(""+n),t.setAttribute(s,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(s==="formAction"?(a!=="input"&&et(t,a,"name",i.name,i,null),et(t,a,"formEncType",i.formEncType,i,null),et(t,a,"formMethod",i.formMethod,i,null),et(t,a,"formTarget",i.formTarget,i,null)):(et(t,a,"encType",i.encType,i,null),et(t,a,"method",i.method,i,null),et(t,a,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(s);break}n=yi(""+n),t.setAttribute(s,n);break;case"onClick":n!=null&&(t.onclick=es);break;case"onScroll":n!=null&&Pe("scroll",t);break;case"onScrollEnd":n!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(d(61));if(s=n.__html,s!=null){if(i.children!=null)throw Error(d(60));t.innerHTML=s}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}s=yi(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,""+n):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":n===!0?t.setAttribute(s,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,n):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(s,n):t.removeAttribute(s);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(s):t.setAttribute(s,n);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),an(t,"popover",n);break;case"xlinkActuate":La(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":La(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":La(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":La(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":La(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":La(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":La(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":La(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":La(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":an(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=bi.get(s)||s,an(t,s,n))}}function Lc(t,a,s,n,i,o){switch(s){case"style":fl(t,n,o);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(d(61));if(s=n.__html,s!=null){if(i.children!=null)throw Error(d(60));t.innerHTML=s}}break;case"children":typeof n=="string"?$a(t,n):(typeof n=="number"||typeof n=="bigint")&&$a(t,""+n);break;case"onScroll":n!=null&&Pe("scroll",t);break;case"onScrollEnd":n!=null&&Pe("scrollend",t);break;case"onClick":n!=null&&(t.onclick=es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ye.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(i=s.endsWith("Capture"),a=s.slice(2,i?s.length-7:void 0),o=t[ft]||null,o=o!=null?o[s]:null,typeof o=="function"&&t.removeEventListener(a,o,i),typeof n=="function")){typeof o!="function"&&o!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,n,i);break e}s in t?t[s]=n:n===!0?t.setAttribute(s,""):an(t,s,n)}}}function Ut(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var n=!1,i=!1,o;for(o in s)if(s.hasOwnProperty(o)){var m=s[o];if(m!=null)switch(o){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,a));default:et(t,a,o,m,s,null)}}i&&et(t,a,"srcSet",s.srcSet,s,null),n&&et(t,a,"src",s.src,s,null);return;case"input":Pe("invalid",t);var T=o=m=i=null,W=null,le=null;for(n in s)if(s.hasOwnProperty(n)){var he=s[n];if(he!=null)switch(n){case"name":i=he;break;case"type":m=he;break;case"checked":W=he;break;case"defaultChecked":le=he;break;case"value":o=he;break;case"defaultValue":T=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(d(137,a));break;default:et(t,a,n,he,s,null)}}It(t,o,T,W,le,m,i,!1);return;case"select":Pe("invalid",t),n=m=o=null;for(i in s)if(s.hasOwnProperty(i)&&(T=s[i],T!=null))switch(i){case"value":o=T;break;case"defaultValue":m=T;break;case"multiple":n=T;default:et(t,a,i,T,s,null)}a=o,s=m,t.multiple=!!n,a!=null?ta(t,!!n,a,!1):s!=null&&ta(t,!!n,s,!0);return;case"textarea":Pe("invalid",t),o=i=n=null;for(m in s)if(s.hasOwnProperty(m)&&(T=s[m],T!=null))switch(m){case"value":n=T;break;case"defaultValue":i=T;break;case"children":o=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(d(91));break;default:et(t,a,m,T,s,null)}pi(t,n,i,o);return;case"option":for(W in s)s.hasOwnProperty(W)&&(n=s[W],n!=null)&&(W==="selected"?t.selected=n&&typeof n!="function"&&typeof n!="symbol":et(t,a,W,n,s,null));return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(n=0;n<Yl.length;n++)Pe(Yl[n],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in s)if(s.hasOwnProperty(le)&&(n=s[le],n!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,a));default:et(t,a,le,n,s,null)}return;default:if(An(a)){for(he in s)s.hasOwnProperty(he)&&(n=s[he],n!==void 0&&Lc(t,a,he,n,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(n=s[T],n!=null&&et(t,a,T,n,s,null))}function dx(t,a,s,n){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,m=null,T=null,W=null,le=null,he=null;for(ce in s){var pe=s[ce];if(s.hasOwnProperty(ce)&&pe!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":W=pe;default:n.hasOwnProperty(ce)||et(t,a,ce,null,n,pe)}}for(var re in n){var ce=n[re];if(pe=s[re],n.hasOwnProperty(re)&&(ce!=null||pe!=null))switch(re){case"type":o=ce;break;case"name":i=ce;break;case"checked":le=ce;break;case"defaultChecked":he=ce;break;case"value":m=ce;break;case"defaultValue":T=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(d(137,a));break;default:ce!==pe&&et(t,a,re,ce,n,pe)}}it(t,m,T,W,le,he,o,i);return;case"select":ce=m=T=re=null;for(o in s)if(W=s[o],s.hasOwnProperty(o)&&W!=null)switch(o){case"value":break;case"multiple":ce=W;default:n.hasOwnProperty(o)||et(t,a,o,null,n,W)}for(i in n)if(o=n[i],W=s[i],n.hasOwnProperty(i)&&(o!=null||W!=null))switch(i){case"value":re=o;break;case"defaultValue":T=o;break;case"multiple":m=o;default:o!==W&&et(t,a,i,o,n,W)}a=T,s=m,n=ce,re!=null?ta(t,!!s,re,!1):!!n!=!!s&&(a!=null?ta(t,!!s,a,!0):ta(t,!!s,s?[]:"",!1));return;case"textarea":ce=re=null;for(T in s)if(i=s[T],s.hasOwnProperty(T)&&i!=null&&!n.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,a,T,null,n,i)}for(m in n)if(i=n[m],o=s[m],n.hasOwnProperty(m)&&(i!=null||o!=null))switch(m){case"value":re=i;break;case"defaultValue":ce=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(d(91));break;default:i!==o&&et(t,a,m,i,n,o)}Ka(t,re,ce);return;case"option":for(var Se in s)re=s[Se],s.hasOwnProperty(Se)&&re!=null&&!n.hasOwnProperty(Se)&&(Se==="selected"?t.selected=!1:et(t,a,Se,null,n,re));for(W in n)re=n[W],ce=s[W],n.hasOwnProperty(W)&&re!==ce&&(re!=null||ce!=null)&&(W==="selected"?t.selected=re&&typeof re!="function"&&typeof re!="symbol":et(t,a,W,re,n,ce));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in s)re=s[Me],s.hasOwnProperty(Me)&&re!=null&&!n.hasOwnProperty(Me)&&et(t,a,Me,null,n,re);for(le in n)if(re=n[le],ce=s[le],n.hasOwnProperty(le)&&re!==ce&&(re!=null||ce!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(d(137,a));break;default:et(t,a,le,re,n,ce)}return;default:if(An(a)){for(var tt in s)re=s[tt],s.hasOwnProperty(tt)&&re!==void 0&&!n.hasOwnProperty(tt)&&Lc(t,a,tt,void 0,n,re);for(he in n)re=n[he],ce=s[he],!n.hasOwnProperty(he)||re===ce||re===void 0&&ce===void 0||Lc(t,a,he,re,n,ce);return}}for(var te in s)re=s[te],s.hasOwnProperty(te)&&re!=null&&!n.hasOwnProperty(te)&&et(t,a,te,null,n,re);for(pe in n)re=n[pe],ce=s[pe],!n.hasOwnProperty(pe)||re===ce||re==null&&ce==null||et(t,a,pe,re,n,ce)}function Em(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ux(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,s=performance.getEntriesByType("resource"),n=0;n<s.length;n++){var i=s[n],o=i.transferSize,m=i.initiatorType,T=i.duration;if(o&&T&&Em(m)){for(m=0,T=i.responseEnd,n+=1;n<s.length;n++){var W=s[n],le=W.startTime;if(le>T)break;var he=W.transferSize,pe=W.initiatorType;he&&Em(pe)&&(W=W.responseEnd,m+=he*(W<T?1:(T-le)/(W-le)))}if(--n,a+=8*(o+m)/(i.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Mc=null,_c=null;function fr(t){return t.nodeType===9?t:t.ownerDocument}function Tm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lm(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Dc(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bc=null;function hx(){var t=window.event;return t&&t.type==="popstate"?t===Bc?!1:(Bc=t,!0):(Bc=null,!1)}var Mm=typeof setTimeout=="function"?setTimeout:void 0,mx=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,fx=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(t){return _m.resolve(null).then(t).catch(px)}:Mm;function px(t){setTimeout(function(){throw t})}function Hs(t){return t==="head"}function Dm(t,a){var s=a,n=0;do{var i=s.nextSibling;if(t.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"||s==="/&"){if(n===0){t.removeChild(i),nl(a);return}n--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")n++;else if(s==="html")Ql(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Ql(s);for(var o=s.firstChild;o;){var m=o.nextSibling,T=o.nodeName;o[Pt]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&o.rel.toLowerCase()==="stylesheet"||s.removeChild(o),o=m}}else s==="body"&&Ql(t.ownerDocument.body);s=i}while(s);nl(a)}function Bm(t,a){var s=t;t=0;do{var n=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=n}while(s)}function Rc(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rc(s),ks(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function gx(t,a,s,n){for(;t.nodeType===1;){var i=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[Pt])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(o=t.getAttribute("rel"),o==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(o!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(o=t.getAttribute("src"),(o!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===o)return t}else return t;if(t=va(t.nextSibling),t===null)break}return null}function xx(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=va(t.nextSibling),t===null))return null;return t}function Rm(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=va(t.nextSibling),t===null))return null;return t}function Oc(t){return t.data==="$?"||t.data==="$~"}function Uc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function bx(t,a){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||s.readyState!=="loading")a();else{var n=function(){a(),s.removeEventListener("DOMContentLoaded",n)};s.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function va(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var zc=null;function Om(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(a===0)return va(t.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}t=t.nextSibling}return null}function Um(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return t;a--}else s!=="/$"&&s!=="/&"||a++}t=t.previousSibling}return null}function zm(t,a,s){switch(a=fr(s),t){case"html":if(t=a.documentElement,!t)throw Error(d(452));return t;case"head":if(t=a.head,!t)throw Error(d(453));return t;case"body":if(t=a.body,!t)throw Error(d(454));return t;default:throw Error(d(451))}}function Ql(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ks(t)}var Na=new Map,Fm=new Set;function pr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=G.d;G.d={f:yx,r:jx,D:vx,C:Nx,L:wx,m:Sx,X:Cx,S:kx,M:Ax};function yx(){var t=gs.f(),a=ir();return t||a}function jx(t){var a=Gt(t);a!==null&&a.tag===5&&a.type==="form"?ah(a):gs.r(t)}var tl=typeof document>"u"?null:document;function Pm(t,a,s){var n=tl;if(n&&typeof a=="string"&&a){var i=Qe(a);i='link[rel="'+t+'"][href="'+i+'"]',typeof s=="string"&&(i+='[crossorigin="'+s+'"]'),Fm.has(i)||(Fm.add(i),t={rel:t,crossOrigin:s,href:a},n.querySelector(i)===null&&(a=n.createElement("link"),Ut(a,"link",t),Y(a),n.head.appendChild(a)))}}function vx(t){gs.D(t),Pm("dns-prefetch",t,null)}function Nx(t,a){gs.C(t,a),Pm("preconnect",t,a)}function wx(t,a,s){gs.L(t,a,s);var n=tl;if(n&&t&&a){var i='link[rel="preload"][as="'+Qe(a)+'"]';a==="image"&&s&&s.imageSrcSet?(i+='[imagesrcset="'+Qe(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(i+='[imagesizes="'+Qe(s.imageSizes)+'"]')):i+='[href="'+Qe(t)+'"]';var o=i;switch(a){case"style":o=al(t);break;case"script":o=sl(t)}Na.has(o)||(t=f({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),Na.set(o,t),n.querySelector(i)!==null||a==="style"&&n.querySelector(Xl(o))||a==="script"&&n.querySelector(Jl(o))||(a=n.createElement("link"),Ut(a,"link",t),Y(a),n.head.appendChild(a)))}}function Sx(t,a){gs.m(t,a);var s=tl;if(s&&t){var n=a&&typeof a.as=="string"?a.as:"script",i='link[rel="modulepreload"][as="'+Qe(n)+'"][href="'+Qe(t)+'"]',o=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=sl(t)}if(!Na.has(o)&&(t=f({rel:"modulepreload",href:t},a),Na.set(o,t),s.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Jl(o)))return}n=s.createElement("link"),Ut(n,"link",t),Y(n),s.head.appendChild(n)}}}function kx(t,a,s){gs.S(t,a,s);var n=tl;if(n&&t){var i=ee(n).hoistableStyles,o=al(t);a=a||"default";var m=i.get(o);if(!m){var T={loading:0,preload:null};if(m=n.querySelector(Xl(o)))T.loading=5;else{t=f({rel:"stylesheet",href:t,"data-precedence":a},s),(s=Na.get(o))&&Fc(t,s);var W=m=n.createElement("link");Y(W),Ut(W,"link",t),W._p=new Promise(function(le,he){W.onload=le,W.onerror=he}),W.addEventListener("load",function(){T.loading|=1}),W.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gr(m,a,n)}m={type:"stylesheet",instance:m,count:1,state:T},i.set(o,m)}}}function Cx(t,a){gs.X(t,a);var s=tl;if(s&&t){var n=ee(s).hoistableScripts,i=sl(t),o=n.get(i);o||(o=s.querySelector(Jl(i)),o||(t=f({src:t,async:!0},a),(a=Na.get(i))&&Pc(t,a),o=s.createElement("script"),Y(o),Ut(o,"link",t),s.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}function Ax(t,a){gs.M(t,a);var s=tl;if(s&&t){var n=ee(s).hoistableScripts,i=sl(t),o=n.get(i);o||(o=s.querySelector(Jl(i)),o||(t=f({src:t,async:!0,type:"module"},a),(a=Na.get(i))&&Pc(t,a),o=s.createElement("script"),Y(o),Ut(o,"link",t),s.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}function $m(t,a,s,n){var i=(i=P.current)?pr(i):null;if(!i)throw Error(d(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=al(s.href),s=ee(i).hoistableStyles,n=s.get(a),n||(n={type:"style",instance:null,count:0,state:null},s.set(a,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=al(s.href);var o=ee(i).hoistableStyles,m=o.get(t);if(m||(i=i.ownerDocument||i,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(t,m),(o=i.querySelector(Xl(t)))&&!o._p&&(m.instance=o,m.state.loading=5),Na.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Na.set(t,s),o||Ex(i,t,s,m.state))),a&&n===null)throw Error(d(528,""));return m}if(a&&n!==null)throw Error(d(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=sl(s),s=ee(i).hoistableScripts,n=s.get(a),n||(n={type:"script",instance:null,count:0,state:null},s.set(a,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,t))}}function al(t){return'href="'+Qe(t)+'"'}function Xl(t){return'link[rel="stylesheet"]['+t+"]"}function Im(t){return f({},t,{"data-precedence":t.precedence,precedence:null})}function Ex(t,a,s,n){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?n.loading=1:(a=t.createElement("link"),n.preload=a,a.addEventListener("load",function(){return n.loading|=1}),a.addEventListener("error",function(){return n.loading|=2}),Ut(a,"link",s),Y(a),t.head.appendChild(a))}function sl(t){return'[src="'+Qe(t)+'"]'}function Jl(t){return"script[async]"+t}function Hm(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var n=t.querySelector('style[data-href~="'+Qe(s.href)+'"]');if(n)return a.instance=n,Y(n),n;var i=f({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),Y(n),Ut(n,"style",i),gr(n,s.precedence,t),a.instance=n;case"stylesheet":i=al(s.href);var o=t.querySelector(Xl(i));if(o)return a.state.loading|=4,a.instance=o,Y(o),o;n=Im(s),(i=Na.get(i))&&Fc(n,i),o=(t.ownerDocument||t).createElement("link"),Y(o);var m=o;return m._p=new Promise(function(T,W){m.onload=T,m.onerror=W}),Ut(o,"link",n),a.state.loading|=4,gr(o,s.precedence,t),a.instance=o;case"script":return o=sl(s.src),(i=t.querySelector(Jl(o)))?(a.instance=i,Y(i),i):(n=s,(i=Na.get(o))&&(n=f({},s),Pc(n,i)),t=t.ownerDocument||t,i=t.createElement("script"),Y(i),Ut(i,"link",n),t.head.appendChild(i),a.instance=i);case"void":return null;default:throw Error(d(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(n=a.instance,a.state.loading|=4,gr(n,s.precedence,t));return a.instance}function gr(t,a,s){for(var n=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,o=i,m=0;m<n.length;m++){var T=n[m];if(T.dataset.precedence===a)o=T;else if(o!==i)break}o?o.parentNode.insertBefore(t,o.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function Fc(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Pc(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var xr=null;function qm(t,a,s){if(xr===null){var n=new Map,i=xr=new Map;i.set(s,n)}else i=xr,n=i.get(s),n||(n=new Map,i.set(s,n));if(n.has(t))return n;for(n.set(t,null),s=s.getElementsByTagName(t),i=0;i<s.length;i++){var o=s[i];if(!(o[Pt]||o[ht]||t==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var m=o.getAttribute(a)||"";m=t+m;var T=n.get(m);T?T.push(o):n.set(m,[o])}}return n}function Gm(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function Tx(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Wm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Lx(t,a,s,n){if(s.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var i=al(n.href),o=a.querySelector(Xl(i));if(o){a=o._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=br.bind(t),a.then(t,t)),s.state.loading|=4,s.instance=o,Y(o);return}o=a.ownerDocument||a,n=Im(n),(i=Na.get(i))&&Fc(n,i),o=o.createElement("link"),Y(o);var m=o;m._p=new Promise(function(T,W){m.onload=T,m.onerror=W}),Ut(o,"link",n),s.instance=o}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=br.bind(t),a.addEventListener("load",s),a.addEventListener("error",s))}}var $c=0;function Mx(t,a){return t.stylesheets&&t.count===0&&jr(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var n=setTimeout(function(){if(t.stylesheets&&jr(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4+a);0<t.imgBytes&&$c===0&&($c=62500*ux());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&jr(t,t.stylesheets),t.unsuspend)){var o=t.unsuspend;t.unsuspend=null,o()}},(t.imgBytes>$c?50:800)+a);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function br(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yr=null;function jr(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yr=new Map,a.forEach(_x,t),yr=null,br.call(t))}function _x(t,a){if(!(a.state.loading&4)){var s=yr.get(t);if(s)var n=s.get(null);else{s=new Map,yr.set(t,s);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var m=i[o];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(s.set(m.dataset.precedence,m),n=m)}n&&s.set(null,n)}i=a.instance,m=i.getAttribute("data-precedence"),o=s.get(m)||n,o===n&&s.set(null,i),s.set(m,i),this.count++,n=br.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),o?o.parentNode.insertBefore(i,o.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),a.state.loading|=4}}var Zl={$$typeof:L,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Dx(t,a,s,n,i,o,m,T,W){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=za(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=za(0),this.hiddenUpdates=za(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function Ym(t,a,s,n,i,o,m,T,W,le,he,pe){return t=new Dx(t,a,s,m,W,le,he,pe,T),a=1,o===!0&&(a|=24),o=sa(3,null,null,a),t.current=o,o.stateNode=t,a=jo(),a.refCount++,t.pooledCache=a,a.refCount++,o.memoizedState={element:n,isDehydrated:s,cache:a},So(o),t}function Vm(t){return t?(t=Bn,t):Bn}function Qm(t,a,s,n,i,o){i=Vm(i),n.context===null?n.context=i:n.pendingContext=i,n=_s(a),n.payload={element:s},o=o===void 0?null:o,o!==null&&(n.callback=o),s=Ds(t,n,a),s!==null&&(Kt(s,t,a),Ll(s,t,a))}function Xm(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function Ic(t,a){Xm(t,a),(t=t.alternate)&&Xm(t,a)}function Jm(t){if(t.tag===13||t.tag===31){var a=rn(t,67108864);a!==null&&Kt(a,t,67108864),Ic(t,67108864)}}function Zm(t){if(t.tag===13||t.tag===31){var a=oa();a=Ta(a);var s=rn(t,a);s!==null&&Kt(s,t,a),Ic(t,a)}}var vr=!0;function Bx(t,a,s,n){var i=H.T;H.T=null;var o=G.p;try{G.p=2,Hc(t,a,s,n)}finally{G.p=o,H.T=i}}function Rx(t,a,s,n){var i=H.T;H.T=null;var o=G.p;try{G.p=8,Hc(t,a,s,n)}finally{G.p=o,H.T=i}}function Hc(t,a,s,n){if(vr){var i=qc(n);if(i===null)Tc(t,a,n,Nr,s),ef(t,n);else if(Ux(i,t,a,s,n))n.stopPropagation();else if(ef(t,n),a&4&&-1<Ox.indexOf(t)){for(;i!==null;){var o=Gt(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var m=ea(o.pendingLanes);if(m!==0){var T=o;for(T.pendingLanes|=2,T.entangledLanes|=2;m;){var W=1<<31-jt(m);T.entanglements[1]|=W,m&=~W}Ga(o),(Xe&6)===0&&(nr=Ct()+500,Wl(0))}}break;case 31:case 13:T=rn(o,2),T!==null&&Kt(T,o,2),ir(),Ic(o,2)}if(o=qc(n),o===null&&Tc(t,a,n,Nr,s),o===i)break;i=o}i!==null&&n.stopPropagation()}else Tc(t,a,n,null,s)}}function qc(t){return t=Gr(t),Gc(t)}var Nr=null;function Gc(t){if(Nr=null,t=ma(t),t!==null){var a=p(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=y(a),t!==null)return t;t=null}else if(s===31){if(t=N(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Nr=t,null}function Km(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hl()){case Ya:return 2;case en:return 8;case mt:case Ns:return 32;case Oa:return 268435456;default:return 32}default:return 32}}var Wc=!1,qs=null,Gs=null,Ws=null,Kl=new Map,ei=new Map,Ys=[],Ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ef(t,a){switch(t){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Kl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ei.delete(a.pointerId)}}function ti(t,a,s,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:a,domEventName:s,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},a!==null&&(a=Gt(a),a!==null&&Jm(a)),t):(t.eventSystemFlags|=n,a=t.targetContainers,i!==null&&a.indexOf(i)===-1&&a.push(i),t)}function Ux(t,a,s,n,i){switch(a){case"focusin":return qs=ti(qs,t,a,s,n,i),!0;case"dragenter":return Gs=ti(Gs,t,a,s,n,i),!0;case"mouseover":return Ws=ti(Ws,t,a,s,n,i),!0;case"pointerover":var o=i.pointerId;return Kl.set(o,ti(Kl.get(o)||null,t,a,s,n,i)),!0;case"gotpointercapture":return o=i.pointerId,ei.set(o,ti(ei.get(o)||null,t,a,s,n,i)),!0}return!1}function tf(t){var a=ma(t.target);if(a!==null){var s=p(a);if(s!==null){if(a=s.tag,a===13){if(a=y(s),a!==null){t.blockedOn=a,Ja(t.priority,function(){Zm(s)});return}}else if(a===31){if(a=N(s),a!==null){t.blockedOn=a,Ja(t.priority,function(){Zm(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wr(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=qc(t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);qr=n,s.target.dispatchEvent(n),qr=null}else return a=Gt(s),a!==null&&Jm(a),t.blockedOn=s,!1;a.shift()}return!0}function af(t,a,s){wr(t)&&s.delete(a)}function zx(){Wc=!1,qs!==null&&wr(qs)&&(qs=null),Gs!==null&&wr(Gs)&&(Gs=null),Ws!==null&&wr(Ws)&&(Ws=null),Kl.forEach(af),ei.forEach(af)}function Sr(t,a){t.blockedOn===a&&(t.blockedOn=null,Wc||(Wc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,zx)))}var kr=null;function sf(t){kr!==t&&(kr=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){kr===t&&(kr=null);for(var a=0;a<t.length;a+=3){var s=t[a],n=t[a+1],i=t[a+2];if(typeof n!="function"){if(Gc(n||s)===null)continue;break}var o=Gt(s);o!==null&&(t.splice(a,3),a-=3,qo(o,{pending:!0,data:i,method:s.method,action:n},n,i))}}))}function nl(t){function a(W){return Sr(W,t)}qs!==null&&Sr(qs,t),Gs!==null&&Sr(Gs,t),Ws!==null&&Sr(Ws,t),Kl.forEach(a),ei.forEach(a);for(var s=0;s<Ys.length;s++){var n=Ys[s];n.blockedOn===t&&(n.blockedOn=null)}for(;0<Ys.length&&(s=Ys[0],s.blockedOn===null);)tf(s),s.blockedOn===null&&Ys.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(n=0;n<s.length;n+=3){var i=s[n],o=s[n+1],m=i[ft]||null;if(typeof o=="function")m||sf(s);else if(m){var T=null;if(o&&o.hasAttribute("formAction")){if(i=o,m=o[ft]||null)T=m.formAction;else if(Gc(i)!==null)continue}else T=m.action;typeof T=="function"?s[n+1]=T:(s.splice(n,3),n-=3),sf(s)}}}function nf(){function t(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(m){return i=m})},focusReset:"manual",scroll:"manual"})}function a(){i!==null&&(i(),i=null),n||setTimeout(s,20)}function s(){if(!n&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){n=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),i!==null&&(i(),i=null)}}}function Yc(t){this._internalRoot=t}Cr.prototype.render=Yc.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(d(409));var s=a.current,n=oa();Qm(s,n,t,a,null,null)},Cr.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Qm(t.current,2,null,t,null,null),ir(),a[lt]=null}};function Cr(t){this._internalRoot=t}Cr.prototype.unstable_scheduleHydration=function(t){if(t){var a=Ee();t={blockedOn:null,target:t,priority:a};for(var s=0;s<Ys.length&&a!==0&&a<Ys[s].priority;s++);Ys.splice(s,0,t),s===0&&tf(t)}};var lf=r.version;if(lf!=="19.2.4")throw Error(d(527,lf,"19.2.4"));G.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(d(188)):(t=Object.keys(t).join(","),Error(d(268,t)));return t=x(a),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Fx={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ar=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ar.isDisabled&&Ar.supportsFiber)try{da=Ar.inject(Fx),Lt=Ar}catch{}}return si.createRoot=function(t,a){if(!h(t))throw Error(d(299));var s=!1,n="",i=hh,o=mh,m=fh;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=Ym(t,1,!1,null,null,s,n,null,i,o,m,nf),t[lt]=a.current,Ec(t),new Yc(a)},si.hydrateRoot=function(t,a,s){if(!h(t))throw Error(d(299));var n=!1,i="",o=hh,m=mh,T=fh,W=null;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onUncaughtError!==void 0&&(o=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(W=s.formState)),a=Ym(t,1,!0,a,s??null,n,i,W,o,m,T,nf),a.context=Vm(null),s=a.current,n=oa(),n=Ta(n),i=_s(n),i.callback=null,Ds(s,i,n),s=n,a.current.lanes=s,ua(a,s),Ga(a),t[lt]=a.current,Ec(t),new Cr(a)},si.version="19.2.4",si}var gf;function Qx(){if(gf)return Xc.exports;gf=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),Xc.exports=Vx(),Xc.exports}var Xx=Qx();var xf="popstate";function Jx(l={}){function r(d,h){let{pathname:p,search:y,hash:N}=d.location;return od("",{pathname:p,search:y,hash:N},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function c(d,h){return typeof h=="string"?h:oi(h)}return Kx(r,c,null,l)}function ut(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function Ra(l,r){if(!l){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Zx(){return Math.random().toString(36).substring(2,10)}function bf(l,r){return{usr:l.state,key:l.key,idx:r}}function od(l,r,c=null,d){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof r=="string"?ol(r):r,state:c,key:r&&r.key||d||Zx()}}function oi({pathname:l="/",search:r="",hash:c=""}){return r&&r!=="?"&&(l+=r.charAt(0)==="?"?r:"?"+r),c&&c!=="#"&&(l+=c.charAt(0)==="#"?c:"#"+c),l}function ol(l){let r={};if(l){let c=l.indexOf("#");c>=0&&(r.hash=l.substring(c),l=l.substring(0,c));let d=l.indexOf("?");d>=0&&(r.search=l.substring(d),l=l.substring(0,d)),l&&(r.pathname=l)}return r}function Kx(l,r,c,d={}){let{window:h=document.defaultView,v5Compat:p=!1}=d,y=h.history,N="POP",g=null,x=b();x==null&&(x=0,y.replaceState({...y.state,idx:x},""));function b(){return(y.state||{idx:null}).idx}function f(){N="POP";let R=b(),w=R==null?null:R-x;x=R,g&&g({action:N,location:D.location,delta:w})}function v(R,w){N="PUSH";let z=od(D.location,R,w);x=b()+1;let L=bf(z,x),C=D.createHref(z);try{y.pushState(L,"",C)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;h.location.assign(C)}p&&g&&g({action:N,location:D.location,delta:1})}function A(R,w){N="REPLACE";let z=od(D.location,R,w);x=b();let L=bf(z,x),C=D.createHref(z);y.replaceState(L,"",C),p&&g&&g({action:N,location:D.location,delta:0})}function E(R){return eb(R)}let D={get action(){return N},get location(){return l(h,y)},listen(R){if(g)throw new Error("A history only accepts one active listener");return h.addEventListener(xf,f),g=R,()=>{h.removeEventListener(xf,f),g=null}},createHref(R){return r(h,R)},createURL:E,encodeLocation(R){let w=E(R);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:A,go(R){return y.go(R)}};return D}function eb(l,r=!1){let c="http://localhost";typeof window<"u"&&(c=window.location.origin!=="null"?window.location.origin:window.location.href),ut(c,"No window.location.(origin|href) available to create URL");let d=typeof l=="string"?l:oi(l);return d=d.replace(/ $/,"%20"),!r&&d.startsWith("//")&&(d=c+d),new URL(d,c)}function Xf(l,r,c="/"){return tb(l,r,c,!1)}function tb(l,r,c,d){let h=typeof r=="string"?ol(r):r,p=vs(h.pathname||"/",c);if(p==null)return null;let y=Jf(l);ab(y);let N=null;for(let g=0;N==null&&g<y.length;++g){let x=mb(p);N=ub(y[g],x,d)}return N}function Jf(l,r=[],c=[],d="",h=!1){let p=(y,N,g=h,x)=>{let b={relativePath:x===void 0?y.path||"":x,caseSensitive:y.caseSensitive===!0,childrenIndex:N,route:y};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(d)&&g)return;ut(b.relativePath.startsWith(d),`Absolute route path "${b.relativePath}" nested under path "${d}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(d.length)}let f=js([d,b.relativePath]),v=c.concat(b);y.children&&y.children.length>0&&(ut(y.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Jf(y.children,r,v,f,g)),!(y.path==null&&!y.index)&&r.push({path:f,score:cb(f,y.index),routesMeta:v})};return l.forEach((y,N)=>{if(y.path===""||!y.path?.includes("?"))p(y,N);else for(let g of Zf(y.path))p(y,N,!0,g)}),r}function Zf(l){let r=l.split("/");if(r.length===0)return[];let[c,...d]=r,h=c.endsWith("?"),p=c.replace(/\?$/,"");if(d.length===0)return h?[p,""]:[p];let y=Zf(d.join("/")),N=[];return N.push(...y.map(g=>g===""?p:[p,g].join("/"))),h&&N.push(...y),N.map(g=>l.startsWith("/")&&g===""?"/":g)}function ab(l){l.sort((r,c)=>r.score!==c.score?c.score-r.score:db(r.routesMeta.map(d=>d.childrenIndex),c.routesMeta.map(d=>d.childrenIndex)))}var sb=/^:[\w-]+$/,nb=3,lb=2,ib=1,rb=10,ob=-2,yf=l=>l==="*";function cb(l,r){let c=l.split("/"),d=c.length;return c.some(yf)&&(d+=ob),r&&(d+=lb),c.filter(h=>!yf(h)).reduce((h,p)=>h+(sb.test(p)?nb:p===""?ib:rb),d)}function db(l,r){return l.length===r.length&&l.slice(0,-1).every((d,h)=>d===r[h])?l[l.length-1]-r[r.length-1]:0}function ub(l,r,c=!1){let{routesMeta:d}=l,h={},p="/",y=[];for(let N=0;N<d.length;++N){let g=d[N],x=N===d.length-1,b=p==="/"?r:r.slice(p.length)||"/",f=Fr({path:g.relativePath,caseSensitive:g.caseSensitive,end:x},b),v=g.route;if(!f&&x&&c&&!d[d.length-1].route.index&&(f=Fr({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!f)return null;Object.assign(h,f.params),y.push({params:h,pathname:js([p,f.pathname]),pathnameBase:xb(js([p,f.pathnameBase])),route:v}),f.pathnameBase!=="/"&&(p=js([p,f.pathnameBase]))}return y}function Fr(l,r){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[c,d]=hb(l.path,l.caseSensitive,l.end),h=r.match(c);if(!h)return null;let p=h[0],y=p.replace(/(.)\/+$/,"$1"),N=h.slice(1);return{params:d.reduce((x,{paramName:b,isOptional:f},v)=>{if(b==="*"){let E=N[v]||"";y=p.slice(0,p.length-E.length).replace(/(.)\/+$/,"$1")}const A=N[v];return f&&!A?x[b]=void 0:x[b]=(A||"").replace(/%2F/g,"/"),x},{}),pathname:p,pathnameBase:y,pattern:l}}function hb(l,r=!1,c=!0){Ra(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let d=[],h="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,N,g)=>(d.push({paramName:N,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(d.push({paramName:"*"}),h+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?h+="\\/*$":l!==""&&l!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,r?void 0:"i"),d]}function mb(l){try{return l.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Ra(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),l}}function vs(l,r){if(r==="/")return l;if(!l.toLowerCase().startsWith(r.toLowerCase()))return null;let c=r.endsWith("/")?r.length-1:r.length,d=l.charAt(c);return d&&d!=="/"?null:l.slice(c)||"/"}var fb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function pb(l,r="/"){let{pathname:c,search:d="",hash:h=""}=typeof l=="string"?ol(l):l,p;return c?(c=c.replace(/\/\/+/g,"/"),c.startsWith("/")?p=jf(c.substring(1),"/"):p=jf(c,r)):p=r,{pathname:p,search:bb(d),hash:yb(h)}}function jf(l,r){let c=r.replace(/\/+$/,"").split("/");return l.split("/").forEach(h=>{h===".."?c.length>1&&c.pop():h!=="."&&c.push(h)}),c.length>1?c.join("/"):"/"}function ed(l,r,c,d){return`Cannot include a '${l}' character in a manually specified \`to.${r}\` field [${JSON.stringify(d)}].  Please separate it out to the \`to.${c}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gb(l){return l.filter((r,c)=>c===0||r.route.path&&r.route.path.length>0)}function gd(l){let r=gb(l);return r.map((c,d)=>d===r.length-1?c.pathname:c.pathnameBase)}function xd(l,r,c,d=!1){let h;typeof l=="string"?h=ol(l):(h={...l},ut(!h.pathname||!h.pathname.includes("?"),ed("?","pathname","search",h)),ut(!h.pathname||!h.pathname.includes("#"),ed("#","pathname","hash",h)),ut(!h.search||!h.search.includes("#"),ed("#","search","hash",h)));let p=l===""||h.pathname==="",y=p?"/":h.pathname,N;if(y==null)N=c;else{let f=r.length-1;if(!d&&y.startsWith("..")){let v=y.split("/");for(;v[0]==="..";)v.shift(),f-=1;h.pathname=v.join("/")}N=f>=0?r[f]:"/"}let g=pb(h,N),x=y&&y!=="/"&&y.endsWith("/"),b=(p||y===".")&&c.endsWith("/");return!g.pathname.endsWith("/")&&(x||b)&&(g.pathname+="/"),g}var js=l=>l.join("/").replace(/\/\/+/g,"/"),xb=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),bb=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,yb=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l,jb=class{constructor(l,r,c,d=!1){this.status=l,this.statusText=r||"",this.internal=d,c instanceof Error?(this.data=c.toString(),this.error=c):this.data=c}};function vb(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}function Nb(l){return l.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Kf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ep(l,r){let c=l;if(typeof c!="string"||!fb.test(c))return{absoluteURL:void 0,isExternal:!1,to:c};let d=c,h=!1;if(Kf)try{let p=new URL(window.location.href),y=c.startsWith("//")?new URL(p.protocol+c):new URL(c),N=vs(y.pathname,r);y.origin===p.origin&&N!=null?c=N+y.search+y.hash:h=!0}catch{Ra(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:d,isExternal:h,to:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tp=["POST","PUT","PATCH","DELETE"];new Set(tp);var wb=["GET",...tp];new Set(wb);var cl=u.createContext(null);cl.displayName="DataRouter";var $r=u.createContext(null);$r.displayName="DataRouterState";var Sb=u.createContext(!1),ap=u.createContext({isTransitioning:!1});ap.displayName="ViewTransition";var kb=u.createContext(new Map);kb.displayName="Fetchers";var Cb=u.createContext(null);Cb.displayName="Await";var ca=u.createContext(null);ca.displayName="Navigation";var di=u.createContext(null);di.displayName="Location";var Wa=u.createContext({outlet:null,matches:[],isDataRoute:!1});Wa.displayName="Route";var bd=u.createContext(null);bd.displayName="RouteError";var sp="REACT_ROUTER_ERROR",Ab="REDIRECT",Eb="ROUTE_ERROR_RESPONSE";function Tb(l){if(l.startsWith(`${sp}:${Ab}:{`))try{let r=JSON.parse(l.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function Lb(l){if(l.startsWith(`${sp}:${Eb}:{`))try{let r=JSON.parse(l.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new jb(r.status,r.statusText,r.data)}catch{}}function Mb(l,{relative:r}={}){ut(dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:c,navigator:d}=u.useContext(ca),{hash:h,pathname:p,search:y}=ui(l,{relative:r}),N=p;return c!=="/"&&(N=p==="/"?c:js([c,p])),d.createHref({pathname:N,search:y,hash:h})}function dl(){return u.useContext(di)!=null}function Zs(){return ut(dl(),"useLocation() may be used only in the context of a <Router> component."),u.useContext(di).location}var np="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lp(l){u.useContext(ca).static||u.useLayoutEffect(l)}function yd(){let{isDataRoute:l}=u.useContext(Wa);return l?qb():_b()}function _b(){ut(dl(),"useNavigate() may be used only in the context of a <Router> component.");let l=u.useContext(cl),{basename:r,navigator:c}=u.useContext(ca),{matches:d}=u.useContext(Wa),{pathname:h}=Zs(),p=JSON.stringify(gd(d)),y=u.useRef(!1);return lp(()=>{y.current=!0}),u.useCallback((g,x={})=>{if(Ra(y.current,np),!y.current)return;if(typeof g=="number"){c.go(g);return}let b=xd(g,JSON.parse(p),h,x.relative==="path");l==null&&r!=="/"&&(b.pathname=b.pathname==="/"?r:js([r,b.pathname])),(x.replace?c.replace:c.push)(b,x.state,x)},[r,c,p,h,l])}u.createContext(null);function ui(l,{relative:r}={}){let{matches:c}=u.useContext(Wa),{pathname:d}=Zs(),h=JSON.stringify(gd(c));return u.useMemo(()=>xd(l,JSON.parse(h),d,r==="path"),[l,h,d,r])}function Db(l,r){return ip(l,r)}function ip(l,r,c,d,h){ut(dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:p}=u.useContext(ca),{matches:y}=u.useContext(Wa),N=y[y.length-1],g=N?N.params:{},x=N?N.pathname:"/",b=N?N.pathnameBase:"/",f=N&&N.route;{let z=f&&f.path||"";op(x,!f||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let v=Zs(),A;if(r){let z=typeof r=="string"?ol(r):r;ut(b==="/"||z.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${z.pathname}" was given in the \`location\` prop.`),A=z}else A=v;let E=A.pathname||"/",D=E;if(b!=="/"){let z=b.replace(/^\//,"").split("/");D="/"+E.replace(/^\//,"").split("/").slice(z.length).join("/")}let R=Xf(l,{pathname:D});Ra(f||R!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ra(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=zb(R&&R.map(z=>Object.assign({},z,{params:Object.assign({},g,z.params),pathname:js([b,p.encodeLocation?p.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?b:js([b,p.encodeLocation?p.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),y,c,d,h);return r&&w?u.createElement(di.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},w):w}function Bb(){let l=Hb(),r=vb(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),c=l instanceof Error?l.stack:null,d="rgba(200,200,200, 0.5)",h={padding:"0.5rem",backgroundColor:d},p={padding:"2px 4px",backgroundColor:d},y=null;return console.error("Error handled by React Router default ErrorBoundary:",l),y=u.createElement(u.Fragment,null,u.createElement("p",null," Hey developer "),u.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",u.createElement("code",{style:p},"ErrorBoundary")," or"," ",u.createElement("code",{style:p},"errorElement")," prop on your route.")),u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},r),c?u.createElement("pre",{style:h},c):null,y)}var Rb=u.createElement(Bb,null),rp=class extends u.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,r){return r.location!==l.location||r.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:r.error,location:r.location,revalidation:l.revalidation||r.revalidation}}componentDidCatch(l,r){this.props.onError?this.props.onError(l,r):console.error("React Router caught the following error during render",l)}render(){let l=this.state.error;if(this.context&&typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){const c=Lb(l.digest);c&&(l=c)}let r=l!==void 0?u.createElement(Wa.Provider,{value:this.props.routeContext},u.createElement(bd.Provider,{value:l,children:this.props.component})):this.props.children;return this.context?u.createElement(Ob,{error:l},r):r}};rp.contextType=Sb;var td=new WeakMap;function Ob({children:l,error:r}){let{basename:c}=u.useContext(ca);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let d=Tb(r.digest);if(d){let h=td.get(r);if(h)throw h;let p=ep(d.location,c);if(Kf&&!td.get(r))if(p.isExternal||d.reloadDocument)window.location.href=p.absoluteURL||p.to;else{const y=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(p.to,{replace:d.replace}));throw td.set(r,y),y}return u.createElement("meta",{httpEquiv:"refresh",content:`0;url=${p.absoluteURL||p.to}`})}}return l}function Ub({routeContext:l,match:r,children:c}){let d=u.useContext(cl);return d&&d.static&&d.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=r.route.id),u.createElement(Wa.Provider,{value:l},c)}function zb(l,r=[],c=null,d=null,h=null){if(l==null){if(!c)return null;if(c.errors)l=c.matches;else if(r.length===0&&!c.initialized&&c.matches.length>0)l=c.matches;else return null}let p=l,y=c?.errors;if(y!=null){let b=p.findIndex(f=>f.route.id&&y?.[f.route.id]!==void 0);ut(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(y).join(",")}`),p=p.slice(0,Math.min(p.length,b+1))}let N=!1,g=-1;if(c)for(let b=0;b<p.length;b++){let f=p[b];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(g=b),f.route.id){let{loaderData:v,errors:A}=c,E=f.route.loader&&!v.hasOwnProperty(f.route.id)&&(!A||A[f.route.id]===void 0);if(f.route.lazy||E){N=!0,g>=0?p=p.slice(0,g+1):p=[p[0]];break}}}let x=c&&d?(b,f)=>{d(b,{location:c.location,params:c.matches?.[0]?.params??{},unstable_pattern:Nb(c.matches),errorInfo:f})}:void 0;return p.reduceRight((b,f,v)=>{let A,E=!1,D=null,R=null;c&&(A=y&&f.route.id?y[f.route.id]:void 0,D=f.route.errorElement||Rb,N&&(g<0&&v===0?(op("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):g===v&&(E=!0,R=f.route.hydrateFallbackElement||null)));let w=r.concat(p.slice(0,v+1)),z=()=>{let L;return A?L=D:E?L=R:f.route.Component?L=u.createElement(f.route.Component,null):f.route.element?L=f.route.element:L=b,u.createElement(Ub,{match:f,routeContext:{outlet:b,matches:w,isDataRoute:c!=null},children:L})};return c&&(f.route.ErrorBoundary||f.route.errorElement||v===0)?u.createElement(rp,{location:c.location,revalidation:c.revalidation,component:D,error:A,children:z(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:x}):z()},null)}function jd(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fb(l){let r=u.useContext(cl);return ut(r,jd(l)),r}function Pb(l){let r=u.useContext($r);return ut(r,jd(l)),r}function $b(l){let r=u.useContext(Wa);return ut(r,jd(l)),r}function vd(l){let r=$b(l),c=r.matches[r.matches.length-1];return ut(c.route.id,`${l} can only be used on routes that contain a unique "id"`),c.route.id}function Ib(){return vd("useRouteId")}function Hb(){let l=u.useContext(bd),r=Pb("useRouteError"),c=vd("useRouteError");return l!==void 0?l:r.errors?.[c]}function qb(){let{router:l}=Fb("useNavigate"),r=vd("useNavigate"),c=u.useRef(!1);return lp(()=>{c.current=!0}),u.useCallback(async(h,p={})=>{Ra(c.current,np),c.current&&(typeof h=="number"?await l.navigate(h):await l.navigate(h,{fromRouteId:r,...p}))},[l,r])}var vf={};function op(l,r,c){!r&&!vf[l]&&(vf[l]=!0,Ra(!1,c))}u.memo(Gb);function Gb({routes:l,future:r,state:c,onError:d}){return ip(l,void 0,c,d,r)}function vn({to:l,replace:r,state:c,relative:d}){ut(dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:h}=u.useContext(ca);Ra(!h,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:p}=u.useContext(Wa),{pathname:y}=Zs(),N=yd(),g=xd(l,gd(p),y,d==="path"),x=JSON.stringify(g);return u.useEffect(()=>{N(JSON.parse(x),{replace:r,state:c,relative:d})},[N,x,d,r,c]),null}function xs(l){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Wb({basename:l="/",children:r=null,location:c,navigationType:d="POP",navigator:h,static:p=!1,unstable_useTransitions:y}){ut(!dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let N=l.replace(/^\/*/,"/"),g=u.useMemo(()=>({basename:N,navigator:h,static:p,unstable_useTransitions:y,future:{}}),[N,h,p,y]);typeof c=="string"&&(c=ol(c));let{pathname:x="/",search:b="",hash:f="",state:v=null,key:A="default"}=c,E=u.useMemo(()=>{let D=vs(x,N);return D==null?null:{location:{pathname:D,search:b,hash:f,state:v,key:A},navigationType:d}},[N,x,b,f,v,A,d]);return Ra(E!=null,`<Router basename="${N}"> is not able to match the URL "${x}${b}${f}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:u.createElement(ca.Provider,{value:g},u.createElement(di.Provider,{children:r,value:E}))}function Yb({children:l,location:r}){return Db(cd(l),r)}function cd(l,r=[]){let c=[];return u.Children.forEach(l,(d,h)=>{if(!u.isValidElement(d))return;let p=[...r,h];if(d.type===u.Fragment){c.push.apply(c,cd(d.props.children,p));return}ut(d.type===xs,`[${typeof d.type=="string"?d.type:d.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!d.props.index||!d.props.children,"An index route cannot have child routes.");let y={id:d.props.id||p.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,middleware:d.props.middleware,loader:d.props.loader,action:d.props.action,hydrateFallbackElement:d.props.hydrateFallbackElement,HydrateFallback:d.props.HydrateFallback,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.hasErrorBoundary===!0||d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(y.children=cd(d.props.children,p)),c.push(y)}),c}var Rr="get",Or="application/x-www-form-urlencoded";function Ir(l){return typeof HTMLElement<"u"&&l instanceof HTMLElement}function Vb(l){return Ir(l)&&l.tagName.toLowerCase()==="button"}function Qb(l){return Ir(l)&&l.tagName.toLowerCase()==="form"}function Xb(l){return Ir(l)&&l.tagName.toLowerCase()==="input"}function Jb(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Zb(l,r){return l.button===0&&(!r||r==="_self")&&!Jb(l)}var Er=null;function Kb(){if(Er===null)try{new FormData(document.createElement("form"),0),Er=!1}catch{Er=!0}return Er}var ey=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ad(l){return l!=null&&!ey.has(l)?(Ra(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Or}"`),null):l}function ty(l,r){let c,d,h,p,y;if(Qb(l)){let N=l.getAttribute("action");d=N?vs(N,r):null,c=l.getAttribute("method")||Rr,h=ad(l.getAttribute("enctype"))||Or,p=new FormData(l)}else if(Vb(l)||Xb(l)&&(l.type==="submit"||l.type==="image")){let N=l.form;if(N==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=l.getAttribute("formaction")||N.getAttribute("action");if(d=g?vs(g,r):null,c=l.getAttribute("formmethod")||N.getAttribute("method")||Rr,h=ad(l.getAttribute("formenctype"))||ad(N.getAttribute("enctype"))||Or,p=new FormData(N,l),!Kb()){let{name:x,type:b,value:f}=l;if(b==="image"){let v=x?`${x}.`:"";p.append(`${v}x`,"0"),p.append(`${v}y`,"0")}else x&&p.append(x,f)}}else{if(Ir(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');c=Rr,d=null,h=Or,y=l}return p&&h==="text/plain"&&(y=p,p=void 0),{action:d,method:c.toLowerCase(),encType:h,formData:p,body:y}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Nd(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function ay(l,r,c,d){let h=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return c?h.pathname.endsWith("/")?h.pathname=`${h.pathname}_.${d}`:h.pathname=`${h.pathname}.${d}`:h.pathname==="/"?h.pathname=`_root.${d}`:r&&vs(h.pathname,r)==="/"?h.pathname=`${r.replace(/\/$/,"")}/_root.${d}`:h.pathname=`${h.pathname.replace(/\/$/,"")}.${d}`,h}async function sy(l,r){if(l.id in r)return r[l.id];try{let c=await import(l.module);return r[l.id]=c,c}catch(c){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(c),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ny(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function ly(l,r,c){let d=await Promise.all(l.map(async h=>{let p=r.routes[h.route.id];if(p){let y=await sy(p,c);return y.links?y.links():[]}return[]}));return cy(d.flat(1).filter(ny).filter(h=>h.rel==="stylesheet"||h.rel==="preload").map(h=>h.rel==="stylesheet"?{...h,rel:"prefetch",as:"style"}:{...h,rel:"prefetch"}))}function Nf(l,r,c,d,h,p){let y=(g,x)=>c[x]?g.route.id!==c[x].route.id:!0,N=(g,x)=>c[x].pathname!==g.pathname||c[x].route.path?.endsWith("*")&&c[x].params["*"]!==g.params["*"];return p==="assets"?r.filter((g,x)=>y(g,x)||N(g,x)):p==="data"?r.filter((g,x)=>{let b=d.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(y(g,x)||N(g,x))return!0;if(g.route.shouldRevalidate){let f=g.route.shouldRevalidate({currentUrl:new URL(h.pathname+h.search+h.hash,window.origin),currentParams:c[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function iy(l,r,{includeHydrateFallback:c}={}){return ry(l.map(d=>{let h=r.routes[d.route.id];if(!h)return[];let p=[h.module];return h.clientActionModule&&(p=p.concat(h.clientActionModule)),h.clientLoaderModule&&(p=p.concat(h.clientLoaderModule)),c&&h.hydrateFallbackModule&&(p=p.concat(h.hydrateFallbackModule)),h.imports&&(p=p.concat(h.imports)),p}).flat(1))}function ry(l){return[...new Set(l)]}function oy(l){let r={},c=Object.keys(l).sort();for(let d of c)r[d]=l[d];return r}function cy(l,r){let c=new Set;return new Set(r),l.reduce((d,h)=>{let p=JSON.stringify(oy(h));return c.has(p)||(c.add(p),d.push({key:p,link:h})),d},[])}function cp(){let l=u.useContext(cl);return Nd(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function dy(){let l=u.useContext($r);return Nd(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var wd=u.createContext(void 0);wd.displayName="FrameworkContext";function dp(){let l=u.useContext(wd);return Nd(l,"You must render this element inside a <HydratedRouter> element"),l}function uy(l,r){let c=u.useContext(wd),[d,h]=u.useState(!1),[p,y]=u.useState(!1),{onFocus:N,onBlur:g,onMouseEnter:x,onMouseLeave:b,onTouchStart:f}=r,v=u.useRef(null);u.useEffect(()=>{if(l==="render"&&y(!0),l==="viewport"){let D=w=>{w.forEach(z=>{y(z.isIntersecting)})},R=new IntersectionObserver(D,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[l]),u.useEffect(()=>{if(d){let D=setTimeout(()=>{y(!0)},100);return()=>{clearTimeout(D)}}},[d]);let A=()=>{h(!0)},E=()=>{h(!1),y(!1)};return c?l!=="intent"?[p,v,{}]:[p,v,{onFocus:ni(N,A),onBlur:ni(g,E),onMouseEnter:ni(x,A),onMouseLeave:ni(b,E),onTouchStart:ni(f,A)}]:[!1,v,{}]}function ni(l,r){return c=>{l&&l(c),c.defaultPrevented||r(c)}}function hy({page:l,...r}){let{router:c}=cp(),d=u.useMemo(()=>Xf(c.routes,l,c.basename),[c.routes,l,c.basename]);return d?u.createElement(fy,{page:l,matches:d,...r}):null}function my(l){let{manifest:r,routeModules:c}=dp(),[d,h]=u.useState([]);return u.useEffect(()=>{let p=!1;return ly(l,r,c).then(y=>{p||h(y)}),()=>{p=!0}},[l,r,c]),d}function fy({page:l,matches:r,...c}){let d=Zs(),{future:h,manifest:p,routeModules:y}=dp(),{basename:N}=cp(),{loaderData:g,matches:x}=dy(),b=u.useMemo(()=>Nf(l,r,x,p,d,"data"),[l,r,x,p,d]),f=u.useMemo(()=>Nf(l,r,x,p,d,"assets"),[l,r,x,p,d]),v=u.useMemo(()=>{if(l===d.pathname+d.search+d.hash)return[];let D=new Set,R=!1;if(r.forEach(z=>{let L=p.routes[z.route.id];!L||!L.hasLoader||(!b.some(C=>C.route.id===z.route.id)&&z.route.id in g&&y[z.route.id]?.shouldRevalidate||L.hasClientLoader?R=!0:D.add(z.route.id))}),D.size===0)return[];let w=ay(l,N,h.unstable_trailingSlashAwareDataRequests,"data");return R&&D.size>0&&w.searchParams.set("_routes",r.filter(z=>D.has(z.route.id)).map(z=>z.route.id).join(",")),[w.pathname+w.search]},[N,h.unstable_trailingSlashAwareDataRequests,g,d,p,b,r,l,y]),A=u.useMemo(()=>iy(f,p),[f,p]),E=my(f);return u.createElement(u.Fragment,null,v.map(D=>u.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...c})),A.map(D=>u.createElement("link",{key:D,rel:"modulepreload",href:D,...c})),E.map(({key:D,link:R})=>u.createElement("link",{key:D,nonce:c.nonce,...R,crossOrigin:R.crossOrigin??c.crossOrigin})))}function py(...l){return r=>{l.forEach(c=>{typeof c=="function"?c(r):c!=null&&(c.current=r)})}}var gy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gy&&(window.__reactRouterVersion="7.13.0")}catch{}function xy({basename:l,children:r,unstable_useTransitions:c,window:d}){let h=u.useRef();h.current==null&&(h.current=Jx({window:d,v5Compat:!0}));let p=h.current,[y,N]=u.useState({action:p.action,location:p.location}),g=u.useCallback(x=>{c===!1?N(x):u.startTransition(()=>N(x))},[c]);return u.useLayoutEffect(()=>p.listen(g),[p,g]),u.createElement(Wb,{basename:l,children:r,location:y.location,navigationType:y.action,navigator:p,unstable_useTransitions:c})}var up=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hp=u.forwardRef(function({onClick:r,discover:c="render",prefetch:d="none",relative:h,reloadDocument:p,replace:y,state:N,target:g,to:x,preventScrollReset:b,viewTransition:f,unstable_defaultShouldRevalidate:v,...A},E){let{basename:D,unstable_useTransitions:R}=u.useContext(ca),w=typeof x=="string"&&up.test(x),z=ep(x,D);x=z.to;let L=Mb(x,{relative:h}),[C,j,S]=uy(d,A),$=vy(x,{replace:y,state:N,target:g,preventScrollReset:b,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:v,unstable_useTransitions:R});function V(oe){r&&r(oe),oe.defaultPrevented||$(oe)}let B=u.createElement("a",{...A,...S,href:z.absoluteURL||L,onClick:z.isExternal||p?r:V,ref:py(E,j),target:g,"data-discover":!w&&c==="render"?"true":void 0});return C&&!w?u.createElement(u.Fragment,null,B,u.createElement(hy,{page:L})):B});hp.displayName="Link";var by=u.forwardRef(function({"aria-current":r="page",caseSensitive:c=!1,className:d="",end:h=!1,style:p,to:y,viewTransition:N,children:g,...x},b){let f=ui(y,{relative:x.relative}),v=Zs(),A=u.useContext($r),{navigator:E,basename:D}=u.useContext(ca),R=A!=null&&Cy(f)&&N===!0,w=E.encodeLocation?E.encodeLocation(f).pathname:f.pathname,z=v.pathname,L=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;c||(z=z.toLowerCase(),L=L?L.toLowerCase():null,w=w.toLowerCase()),L&&D&&(L=vs(L,D)||L);const C=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let j=z===w||!h&&z.startsWith(w)&&z.charAt(C)==="/",S=L!=null&&(L===w||!h&&L.startsWith(w)&&L.charAt(w.length)==="/"),$={isActive:j,isPending:S,isTransitioning:R},V=j?r:void 0,B;typeof d=="function"?B=d($):B=[d,j?"active":null,S?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let oe=typeof p=="function"?p($):p;return u.createElement(hp,{...x,"aria-current":V,className:B,ref:b,style:oe,to:y,viewTransition:N},typeof g=="function"?g($):g)});by.displayName="NavLink";var yy=u.forwardRef(({discover:l="render",fetcherKey:r,navigate:c,reloadDocument:d,replace:h,state:p,method:y=Rr,action:N,onSubmit:g,relative:x,preventScrollReset:b,viewTransition:f,unstable_defaultShouldRevalidate:v,...A},E)=>{let{unstable_useTransitions:D}=u.useContext(ca),R=Sy(),w=ky(N,{relative:x}),z=y.toLowerCase()==="get"?"get":"post",L=typeof N=="string"&&up.test(N),C=j=>{if(g&&g(j),j.defaultPrevented)return;j.preventDefault();let S=j.nativeEvent.submitter,$=S?.getAttribute("formmethod")||y,V=()=>R(S||j.currentTarget,{fetcherKey:r,method:$,navigate:c,replace:h,state:p,relative:x,preventScrollReset:b,viewTransition:f,unstable_defaultShouldRevalidate:v});D&&c!==!1?u.startTransition(()=>V()):V()};return u.createElement("form",{ref:E,method:z,action:w,onSubmit:d?g:C,...A,"data-discover":!L&&l==="render"?"true":void 0})});yy.displayName="Form";function jy(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mp(l){let r=u.useContext(cl);return ut(r,jy(l)),r}function vy(l,{target:r,replace:c,state:d,preventScrollReset:h,relative:p,viewTransition:y,unstable_defaultShouldRevalidate:N,unstable_useTransitions:g}={}){let x=yd(),b=Zs(),f=ui(l,{relative:p});return u.useCallback(v=>{if(Zb(v,r)){v.preventDefault();let A=c!==void 0?c:oi(b)===oi(f),E=()=>x(l,{replace:A,state:d,preventScrollReset:h,relative:p,viewTransition:y,unstable_defaultShouldRevalidate:N});g?u.startTransition(()=>E()):E()}},[b,x,f,c,d,r,l,h,p,y,N,g])}var Ny=0,wy=()=>`__${String(++Ny)}__`;function Sy(){let{router:l}=mp("useSubmit"),{basename:r}=u.useContext(ca),c=Ib(),d=l.fetch,h=l.navigate;return u.useCallback(async(p,y={})=>{let{action:N,method:g,encType:x,formData:b,body:f}=ty(p,r);if(y.navigate===!1){let v=y.fetcherKey||wy();await d(v,c,y.action||N,{unstable_defaultShouldRevalidate:y.unstable_defaultShouldRevalidate,preventScrollReset:y.preventScrollReset,formData:b,body:f,formMethod:y.method||g,formEncType:y.encType||x,flushSync:y.flushSync})}else await h(y.action||N,{unstable_defaultShouldRevalidate:y.unstable_defaultShouldRevalidate,preventScrollReset:y.preventScrollReset,formData:b,body:f,formMethod:y.method||g,formEncType:y.encType||x,replace:y.replace,state:y.state,fromRouteId:c,flushSync:y.flushSync,viewTransition:y.viewTransition})},[d,h,r,c])}function ky(l,{relative:r}={}){let{basename:c}=u.useContext(ca),d=u.useContext(Wa);ut(d,"useFormAction must be used inside a RouteContext");let[h]=d.matches.slice(-1),p={...ui(l||".",{relative:r})},y=Zs();if(l==null){p.search=y.search;let N=new URLSearchParams(p.search),g=N.getAll("index");if(g.some(b=>b==="")){N.delete("index"),g.filter(f=>f).forEach(f=>N.append("index",f));let b=N.toString();p.search=b?`?${b}`:""}}return(!l||l===".")&&h.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),c!=="/"&&(p.pathname=p.pathname==="/"?c:js([c,p.pathname])),oi(p)}function Cy(l,{relative:r}={}){let c=u.useContext(ap);ut(c!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:d}=mp("useViewTransitionState"),h=ui(l,{relative:r});if(!c.isTransitioning)return!1;let p=vs(c.currentLocation.pathname,d)||c.currentLocation.pathname,y=vs(c.nextLocation.pathname,d)||c.nextLocation.pathname;return Fr(h.pathname,y)!=null||Fr(h.pathname,p)!=null}var Sd=Qf();const Ay="/api/index.php?path=",wf=l=>{if(!l)return"";const r=String(l).replace(/\/+$/,"");return r.includes("?path=")||/\/api\/index\.php$/i.test(r)||/\/index\.php$/i.test(r)||/\/api$/i.test(r)?r:r+"/api"},Ey=()=>{const l=wf("https://bettorplays247.com/api/index.php?path=");return l||wf(Ay)},ge=Ey();ge.replace(/\/api\/?$/,"");const Js=l=>String(l||"straight").toLowerCase().replace(/-/g,"_").trim(),xe=(l=null)=>{const r={"Content-Type":"application/json","Bypass-Tunnel-Remainder":"true"};return l&&(r.Authorization=`Bearer ${l}`),r},hi=async(l,r)=>{const d=(l.headers.get("content-type")||"").toLowerCase().includes("application/json"),h=await l.text();let p=null;if(d&&h)try{p=JSON.parse(h)}catch{p=null}if(!l.ok){const y=p?.message||(h&&!d?`${r}: received HTML/non-JSON response from ${l.url}`:r);throw new Error(y)}if(d){if(!h)return{};try{return JSON.parse(h)}catch{throw new Error(`${r}: server returned invalid JSON`)}}throw new Error(`${r}: expected JSON but received non-JSON response from ${l.url}`)},Ty=async(l,r)=>{const c=await fetch(`${ge}/auth/login`,{method:"POST",headers:xe(),body:JSON.stringify({username:l,password:r})});return hi(c,"Login failed")},Ly=async l=>{const r=await fetch(`${ge}/wallet/balance`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch balance");return r.json()},Ks=async l=>{const r=await fetch(`${ge}/auth/me`,{headers:xe(l)});if(!r.ok){const c=await r.json().catch(()=>({})),d=new Error(c.message||"Failed to fetch user profile");throw d.status=r.status,d}return r.json()},My=async(l,r)=>{const c=await fetch(`${ge}/auth/profile`,{method:"PUT",headers:xe(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json();throw new Error(d.message||"Failed to update profile")}return c.json()},fp=async()=>{const l=await fetch(`${ge}/matches`,{headers:xe()});if(!l.ok)throw new Error("Failed to fetch matches");return l.json()},_y=async()=>{const l=await fetch(`${ge}/matches?status=live`,{headers:xe()});if(!l.ok)throw new Error("Failed to fetch live matches");return l.json()},Dy=async(l,r)=>{const c=Js(l?.type||"straight"),d=Array.isArray(l?.selections)?l.selections.map(y=>({...y,type:Js(y?.type||y?.marketType||"straight")})):void 0,h={...l,type:c,selections:d},p=await fetch(`${ge}/bets/place`,{method:"POST",headers:xe(r),body:JSON.stringify(h)});if(!p.ok){const y=await p.json();throw new Error(y.message||"Failed to place bet")}return p.json()},By=async l=>{const r=await fetch(`${ge}/betting/rules`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch bet mode rules");return r.json()},kd=async l=>{const r=await fetch(`${ge}/bets/my-bets`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch my bets");return r.json()},pp=async l=>{const r=await fetch(`${ge}/casino/categories`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch casino categories");return r.json()},gp=async({token:l,category:r="lobby",search:c="",featured:d=!1,page:h=1,limit:p=48}={})=>{const y=new URLSearchParams;r&&y.set("category",r),c&&y.set("search",c),d&&y.set("featured","true"),y.set("page",String(h)),y.set("limit",String(p));const N=await fetch(`${ge}/casino/games?${y.toString()}`,{headers:xe(l)});if(!N.ok)throw new Error("Failed to fetch casino games");return N.json()},xp=async(l,r)=>{const c=await fetch(`${ge}/casino/games/${l}/launch`,{method:"POST",headers:xe(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to launch casino game")}return c.json()},Ry=async(l,r,c)=>{const d=await fetch(`${ge}/wallet/request-deposit`,{method:"POST",headers:xe(c),body:JSON.stringify({amount:l,method:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to request deposit")}return d.json()},Oy=async(l,r,c)=>{const d=await fetch(`${ge}/wallet/request-withdrawal`,{method:"POST",headers:xe(c),body:JSON.stringify({amount:l,method:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to request withdrawal")}return d.json()},Uy=async(l,{type:r="",status:c="",limit:d=50}={})=>{const h=new URLSearchParams;r&&h.set("type",r),c&&h.set("status",c),h.set("limit",String(d));const p=await fetch(`${ge}/wallet/transactions?${h.toString()}`,{headers:xe(l)});if(!p.ok)throw new Error("Failed to fetch wallet transactions");return p.json()},mi=async l=>{const r=await fetch(`${ge}/admin/agents`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch agents");return r.json()},zy=async l=>{const r=await fetch(`${ge}/admin/header-summary`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch admin header summary");return r.json()},Fy=async l=>{const r=await fetch(`${ge}/admin/system-stats`,{headers:xe(l)});if(!r.ok){const c=await r.json().catch(()=>({}));throw new Error(c.message||"Failed to fetch system stats")}return r.json()},Py=async(l,r)=>{const c=await fetch(`${ge}/admin/weekly-figures?period=${encodeURIComponent(l)}`,{headers:xe(r)});return hi(c,"Failed to fetch weekly figures")},$y=async l=>{const r=await fetch(`${ge}/admin/pending`,{headers:xe(l)});return hi(r,"Failed to fetch pending items")},Iy=async(l,r)=>{const c=await fetch(`${ge}/admin/pending/approve`,{method:"POST",headers:xe(r),body:JSON.stringify({transactionId:l})});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to approve pending item")}return c.json()},Hy=async(l,r)=>{const c=await fetch(`${ge}/admin/pending/decline`,{method:"POST",headers:xe(r),body:JSON.stringify({transactionId:l})});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to decline pending item")}return c.json()},qy=async l=>{const r=await fetch(`${ge}/admin/messages`,{headers:xe(l)});return hi(r,"Failed to fetch messages")},Gy=async(l,r)=>{const c=await fetch(`${ge}/admin/messages/${l}/read`,{method:"POST",headers:xe(r)});if(!c.ok)throw new Error("Failed to mark message read");return c.json()},Wy=async(l,r,c)=>{const d=await fetch(`${ge}/admin/messages/${l}/reply`,{method:"POST",headers:xe(c),body:JSON.stringify({reply:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to send reply")}return d.json()},Yy=async(l,r)=>{const c=await fetch(`${ge}/admin/messages/${l}`,{method:"DELETE",headers:xe(r)});if(!c.ok)throw new Error("Failed to delete message");return c.json()},bp=async l=>{const r=await fetch(`${ge}/messages/me`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch messages");return r.json()},yp=async(l,r,c)=>{const d=await fetch(`${ge}/messages`,{method:"POST",headers:xe(c),body:JSON.stringify({subject:l,body:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to send message")}return d.json()},Vy=async l=>{const r=await fetch(`${ge}/content/tutorials`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch tutorials");return r.json()},Qy=async l=>{const r=await fetch(`${ge}/content/faqs`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch FAQs");return r.json()},ul=async l=>{const r=await fetch(`${ge}/admin/matches`,{headers:xe(l)});return hi(r,"Failed to fetch matches")},jp=async(l,r)=>{const c=await fetch(`${ge}/admin/matches`,{method:"POST",headers:xe(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create match")}return c.json()},vp=async(l,r,c)=>{const d=await fetch(`${ge}/admin/matches/${l}`,{method:"PUT",headers:xe(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update match")}return d.json()},Xy=async l=>{const r=await fetch(`${ge}/admin/cashier/summary`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch cashier summary");return r.json()},Jy=async l=>{const r=await fetch(`${ge}/admin/third-party-limits`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch third party limits");return r.json()},Zy=async(l,r,c)=>{const d=await fetch(`${ge}/admin/third-party-limits/${l}`,{method:"PUT",headers:xe(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update third party limit")}return d.json()},Ky=async(l,r)=>{const c=await fetch(`${ge}/admin/third-party-limits`,{method:"POST",headers:xe(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create third party limit")}return c.json()},Cd=async(l,r)=>{const c=new URLSearchParams(l).toString(),d=await fetch(`${ge}/admin/bets?${c}`,{headers:xe(r)});if(!d.ok)throw new Error("Failed to fetch admin bets");return d.json()},ej=async(l,r)=>{const c=new URLSearchParams(l).toString(),d=await fetch(`${ge}/admin/ip-tracker?${c}`,{headers:xe(r)});if(!d.ok)throw new Error("Failed to fetch IP tracker");return d.json()},tj=async(l,r)=>{const c=await fetch(`${ge}/admin/ip-tracker/${l}/block`,{method:"POST",headers:xe(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to block IP")}return c.json()},aj=async(l,r)=>{const c=await fetch(`${ge}/admin/ip-tracker/${l}/unblock`,{method:"POST",headers:xe(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to unblock IP")}return c.json()},il=async(l,r)=>{const c=new URLSearchParams(l).toString(),d=await fetch(`${ge}/admin/transactions?${c}`,{headers:xe(r)});if(!d.ok)throw new Error("Failed to fetch transactions history");return d.json()},Sf=async(l,r)=>{const c=await fetch(`${ge}/admin/transactions`,{method:"DELETE",headers:xe(r),body:JSON.stringify({ids:l})});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to delete transactions")}return c.json()},sj=async(l,r)=>{const c=new URLSearchParams(l).toString(),d=await fetch(`${ge}/admin/collections?${c}`,{headers:xe(r)});if(!d.ok)throw new Error("Failed to fetch collections");return d.json()},nj=async(l,r)=>{const c=new URLSearchParams(l).toString(),d=await fetch(`${ge}/admin/deleted-wagers?${c}`,{headers:xe(r)});if(!d.ok)throw new Error("Failed to fetch deleted wagers");return d.json()},lj=async(l,r)=>{const c=await fetch(`${ge}/admin/deleted-wagers/${l}/restore`,{method:"POST",headers:xe(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to restore wager")}return c.json()},ij=async l=>{const r=await fetch(`${ge}/admin/sportsbook-links`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch sportsbook links");return r.json()},rj=async(l,r)=>{const c=await fetch(`${ge}/admin/sportsbook-links`,{method:"POST",headers:xe(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create sportsbook link")}return c.json()},oj=async(l,r,c)=>{const d=await fetch(`${ge}/admin/sportsbook-links/${l}`,{method:"PUT",headers:xe(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update sportsbook link")}return d.json()},cj=async(l,r)=>{const c=await fetch(`${ge}/admin/ip-tracker/${l}/whitelist`,{method:"POST",headers:{Authorization:`Bearer ${r}`}});if(!c.ok){const d=await c.json();throw new Error(d.message||"Failed to whitelist IP")}return c.json()},dj=async(l,r)=>{const c=await fetch(`${ge}/admin/sportsbook-links/${l}/test`,{method:"POST",headers:xe(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to test sportsbook link")}return c.json()},Np=async l=>{const r=await fetch(`${ge}/admin/refresh-odds`,{method:"POST",headers:xe(l)});if(!r.ok){const c=await r.json().catch(()=>({}));throw new Error(c.message||"Failed to refresh odds")}return r.json()},wp=async()=>{const l=await fetch(`${ge}/matches/fetch-odds`,{method:"POST"});if(!l.ok){const r=await l.json().catch(()=>({}));throw new Error(r.message||"Failed to fetch odds")}return l.json()},uj=async l=>{const r=await fetch(`${ge}/admin/clear-cache`,{method:"POST",headers:xe(l)});if(!r.ok){const c=await r.json().catch(()=>({}));throw new Error(c.message||"Failed to clear cache")}return r.json()},hj=async(l,r)=>{const c=await fetch(`${ge}/admin/collections`,{method:"POST",headers:xe(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create collection")}return c.json()},mj=async(l,r)=>{const c=await fetch(`${ge}/admin/collections/${l}/collect`,{method:"POST",headers:xe(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to collect")}return c.json()},fj=async(l,r)=>{const c=await fetch(`${ge}/admin/bets`,{method:"POST",headers:xe(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create bet")}return c.json()},pj=async(l,r)=>{const c=await fetch(`${ge}/admin/bets/${l}`,{method:"DELETE",headers:xe(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to delete bet")}return c.json()},gj=async(l,r)=>{const c=await fetch(`${ge}/bets/settle`,{method:"POST",headers:xe(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to settle bets")}return c.json()},xj=async(l,r)=>{const c=new URLSearchParams(l).toString(),d=await fetch(`${ge}/admin/agent-performance?${c}`,{headers:xe(r)});if(!d.ok)throw new Error("Failed to fetch agent performance");return d.json()},bj=async(l,r,c)=>{const d=new URLSearchParams(r||{}).toString(),h=await fetch(`${ge}/admin/agent-performance/${l}/details?${d}`,{headers:xe(c)});if(!h.ok){const p=await h.json().catch(()=>({}));throw new Error(p.message||"Failed to fetch agent performance details")}return h.json()},yj=async(l,r,c)=>{const d=await fetch(`${ge}/agent/permissions/${l}`,{method:"PUT",headers:xe(c),body:JSON.stringify({permissions:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update permissions")}return d.json()},Pr=async(l,r)=>{try{if(console.log(" createAgent API called"),console.log(" Token parameter:",r?r.substring(0,50)+"...":"NO TOKEN PARAM"),console.log(" Agent data:",l),!r)throw new Error("No token provided. Please login first.");const c={"Content-Type":"application/json",Authorization:`Bearer ${r}`};console.log(" Request headers:",{"Content-Type":c["Content-Type"],Authorization:c.Authorization?"Bearer "+r.substring(0,30)+"...":"NONE"});const d=await fetch(`${ge}/admin/create-agent`,{method:"POST",headers:c,body:JSON.stringify(l)});if(console.log(" Response status:",d.status),!d.ok){let p="Failed to create agent";try{const y=await d.json();console.error(" Server error:",y),p=y.message||p}catch{p=`Server error (${d.status}): ${d.statusText}`}throw new Error(p)}const h=await d.json();return console.log(" Agent created:",h),h}catch(c){throw console.error(" Create Agent Error:",c),c instanceof TypeError?new Error("Network error - Unable to reach server. Is the backend running on port 5000?"):c}},jj=async(l,r={})=>{const c=await fetch(`${ge}/admin/seed-workflow-hierarchy`,{method:"POST",headers:xe(l),body:JSON.stringify({confirm:!0,...r})}),d=await c.json().catch(()=>({}));if(!c.ok)throw new Error(d.message||"Failed to seed workflow hierarchy");return d},Sp=async(l,r)=>{try{if(console.log(" createUserByAdmin API called"),console.log(" Token parameter:",r?r.substring(0,50)+"...":"NO TOKEN PARAM"),console.log(" User data:",l),!r)throw new Error("No token provided. Please login first.");const c={"Content-Type":"application/json",Authorization:`Bearer ${r}`};console.log(" Request headers:",{"Content-Type":c["Content-Type"],Authorization:c.Authorization?"Bearer "+r.substring(0,30)+"...":"NONE"});const d=await fetch(`${ge}/admin/create-user`,{method:"POST",headers:c,body:JSON.stringify(l)});if(console.log(" Response status:",d.status),!d.ok){let p="Failed to create user";try{const y=await d.json();console.error(" Server error:",y),p=y.message||p}catch{p=`Server error (${d.status}): ${d.statusText}`}throw new Error(p)}const h=await d.json();return console.log(" User created:",h),h}catch(c){throw console.error(" Create User Error:",c),c instanceof TypeError?new Error("Network error - Unable to reach server. Is the backend running on port 5000?"):c}},bs=async(l,r,c)=>{try{const d=await fetch(`${ge}/admin/users/${l}`,{method:"PUT",headers:xe(c),body:JSON.stringify(r)}),h=await d.json();if(!d.ok)throw new Error(h.message||"Failed to update user");return h}catch(d){throw console.error("updateUserByAdmin error:",d),d}},kp=async(l,r,c,d="")=>{try{const h=await fetch(`${ge}/admin/users/${l}/freeplay`,{method:"PUT",headers:xe(c),body:JSON.stringify({freeplayBalance:r,description:d})}),p=await h.json();if(!h.ok)throw new Error(p.message||"Failed to update freeplay");return p}catch(h){throw console.error("updateUserFreeplay error:",h),h}},vj=async(l,r)=>{try{if(console.log("createPlayerByAgent called with token:",r?r.substring(0,30)+"...":"NO TOKEN"),!r)throw new Error("No token provided. Please login first.");const c=await fetch(`${ge}/agent/create-user`,{method:"POST",headers:xe(r),body:JSON.stringify(l)});if(!c.ok){let d="Failed to create player";try{d=(await c.json()).message||d}catch{d=`Server error (${c.status}): ${c.statusText}`}throw new Error(d)}return c.json()}catch(c){throw console.error("Create Player Error:",c),c instanceof TypeError?new Error("Network error - Unable to reach server. Is the backend running on port 5000?"):c}},dd=async l=>{const r=await fetch(`${ge}/agent/my-users`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch players");return r.json()},rl=async(l,r={})=>{const c=new URLSearchParams;r.q&&c.set("q",r.q);const d=c.toString()?`?${c.toString()}`:"",h=await fetch(`${ge}/admin/users${d}`,{headers:xe(l)});if(!h.ok){const p=await h.json().catch(()=>({}));throw new Error(p.message||"Failed to fetch users")}return h.json()},ci=async(l,r,c)=>{const d=await fetch(`${ge}/admin/users/${l}/credit`,{method:"PUT",headers:xe(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update user balance")}return d.json()},kf=async(l,r,c)=>{const d=await fetch(`${ge}/agent/update-balance-owed`,{method:"POST",headers:xe(c),body:JSON.stringify({userId:l,balance:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update balance")}return d.json()},ud=async(l,r,c)=>{try{const d=await fetch(`${ge}/admin/agent/${l}`,{method:"PUT",headers:xe(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json();throw new Error(h.message||"Failed to update agent")}return d.json()}catch(d){throw console.error("Update Agent Error:",d),d}},Sa=async(l,r,c)=>{try{const d=await fetch(`${ge}/agent/users/${l}`,{method:"PUT",headers:xe(c),body:JSON.stringify(r)}),h=await d.json();if(!d.ok)throw new Error(h.message||"Failed to update customer");return h}catch(d){throw console.error("updateUserByAgent error:",d),d}},hd=async(l,r)=>{try{const c=await fetch(`${ge}/agent/create-sub-agent`,{method:"POST",headers:xe(r),body:JSON.stringify(l)}),d=await c.json();if(!c.ok)throw new Error(d.message||"Failed to create sub-agent");return d}catch(c){throw console.error("createSubAgent error:",c),c}},Nj=async l=>{try{const r=await fetch(`${ge}/agent/my-sub-agents`,{method:"GET",headers:xe(l)}),c=await r.json();if(!r.ok)throw new Error(c.message||"Failed to fetch sub-agents");return c}catch(r){throw console.error("getMySubAgents error:",r),r}},wj=async(l,r)=>{try{const c=await fetch(`${ge}/admin/users/${l}/stats`,{method:"GET",headers:xe(r)}),d=await c.json();if(!c.ok)throw new Error(d.message||"Failed to fetch user statistics");return d}catch(c){throw console.error("getUserStatistics error:",c),c}},Sj=async(l,r)=>{const c=await fetch(`${ge}/admin/bets`,{method:"POST",headers:xe(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create ticket")}return c.json()},kj=async l=>{const r=await fetch(`${ge}/admin/billing/summary`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch billing summary");return r.json()},Cj=async(l,r)=>{const c=new URLSearchParams(l).toString(),d=await fetch(`${ge}/admin/billing/invoices?${c}`,{headers:xe(r)});if(!d.ok)throw new Error("Failed to fetch invoices");return d.json()},Aj=async(l,r)=>{const c=await fetch(`${ge}/admin/billing/invoices`,{method:"POST",headers:xe(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create invoice")}return c.json()},Ej=async(l,r,c)=>{const d=await fetch(`${ge}/admin/billing/invoices/${l}`,{method:"PUT",headers:xe(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update invoice")}return d.json()},Tj=async l=>{const r=await fetch(`${ge}/admin/settings`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch settings");return r.json()},Lj=async(l,r)=>{const c=await fetch(`${ge}/admin/settings`,{method:"PUT",headers:xe(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to update settings")}return c.json()},Mj=async l=>{const r=await fetch(`${ge}/admin/rules`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch rules");return r.json()},_j=async(l,r)=>{const c=await fetch(`${ge}/admin/rules`,{method:"POST",headers:xe(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create rule")}return c.json()},Dj=async(l,r,c)=>{const d=await fetch(`${ge}/admin/rules/${l}`,{method:"PUT",headers:xe(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update rule")}return d.json()},Bj=async(l,r)=>{const c=await fetch(`${ge}/admin/rules/${l}`,{method:"DELETE",headers:xe(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to delete rule")}return c.json()},Rj=async(l,r)=>{const c=new URLSearchParams(l).toString(),d=await fetch(`${ge}/admin/feedback?${c}`,{headers:xe(r)});if(!d.ok)throw new Error("Failed to fetch feedback");return d.json()},Oj=async(l,r,c)=>{const d=await fetch(`${ge}/admin/feedback/${l}/reply`,{method:"POST",headers:xe(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to reply feedback")}return d.json()},Uj=async(l,r)=>{const c=await fetch(`${ge}/admin/feedback/${l}/reviewed`,{method:"POST",headers:xe(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to mark reviewed")}return c.json()},zj=async(l,r)=>{const c=await fetch(`${ge}/admin/feedback/${l}`,{method:"DELETE",headers:xe(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to delete feedback")}return c.json()},Fj=async l=>{const r=await fetch(`${ge}/admin/faqs`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch FAQs");return r.json()},Pj=async(l,r)=>{const c=await fetch(`${ge}/admin/faqs`,{method:"POST",headers:xe(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create FAQ")}return c.json()},$j=async(l,r,c)=>{const d=await fetch(`${ge}/admin/faqs/${l}`,{method:"PUT",headers:xe(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update FAQ")}return d.json()},Ij=async(l,r)=>{const c=await fetch(`${ge}/admin/faqs/${l}`,{method:"DELETE",headers:xe(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to delete FAQ")}return c.json()},Hj=async l=>{const r=await fetch(`${ge}/admin/manual`,{headers:xe(l)});if(!r.ok)throw new Error("Failed to fetch manual");return r.json()},qj=async(l,r)=>{const c=await fetch(`${ge}/admin/manual`,{method:"POST",headers:xe(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create manual section")}return c.json()},Gj=async(l,r,c)=>{const d=await fetch(`${ge}/admin/manual/${l}`,{method:"PUT",headers:xe(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update manual section")}return d.json()},Wj=async(l,r)=>{const c=await fetch(`${ge}/admin/manual/${l}`,{method:"DELETE",headers:xe(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to delete manual section")}return c.json()},Cp=async(l,r)=>{const c=await fetch(`${ge}/admin/suspend`,{method:"POST",headers:xe(r),body:JSON.stringify({userId:l})});if(!c.ok)throw new Error("Failed to suspend user");return c.json()},Ap=async(l,r)=>{const c=await fetch(`${ge}/admin/unsuspend`,{method:"POST",headers:xe(r),body:JSON.stringify({userId:l})});if(!c.ok)throw new Error("Failed to unsuspend user");return c.json()},Ur=async(l,r,c)=>{const d=await fetch(`${ge}/admin/users/${l}/reset-password`,{method:"POST",headers:xe(c),body:JSON.stringify({newPassword:r})});if(!d.ok){const h=await d.json();throw new Error(h.message||"Failed to reset user password")}return d.json()},Ep=async(l,r,c)=>{const d=await fetch(`${ge}/admin/agents/${l}/reset-password`,{method:"POST",headers:xe(c),body:JSON.stringify({newPassword:r})});if(!d.ok){const h=await d.json();throw new Error(h.message||"Failed to reset agent password")}return d.json()},Ba=async(l,r,c={})=>{const d=new URLSearchParams(c).toString(),h=`${ge}/admin/next-username/${l}${d?`?${d}`:""}`,p=await fetch(h,{headers:xe(r)});if(!p.ok)throw new Error("Failed to fetch next username");return p.json()},Yj=async(l,r)=>{const c=await fetch(`${ge}/admin/impersonate-user/${l}`,{method:"POST",headers:xe(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to impersonate user")}return c.json()},Vj=async l=>{const r=await fetch(`${ge}/admin/agent-tree`,{headers:xe(l)});if(!r.ok){const c=await r.json().catch(()=>({}));throw new Error(c.message||"Failed to fetch agent tree")}return r.json()},Tp=async(l,r)=>{const c=await fetch(`${ge}/admin/users/${l}`,{method:"DELETE",headers:xe(r)});if(!c.ok){const d=await c.json();throw new Error(d.message||"Failed to delete user")}return c.json()},Lp=async(l,r)=>{const c=await fetch(`${ge}/admin/agents/${l}`,{method:"DELETE",headers:xe(r)});if(!c.ok){const d=await c.json();throw new Error(d.message||"Failed to delete agent")}return c.json()},Qj=({onLogin:l,isLoggedIn:r})=>{const[c,d]=u.useState(""),[h,p]=u.useState(""),[y,N]=u.useState(!1),[g,x]=u.useState(!1),b=async()=>{if(c&&h){N(!0);try{await l(c,h),d(""),p(""),x(!1)}catch(v){alert(v.message)}finally{N(!1)}}else alert("Please enter username and password")},f=v=>{v.key==="Enter"&&b()};return e.jsxs("header",{className:"main-header",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"/bgremlogo.png",alt:"betterbet365"})}),e.jsx("div",{className:"login-section desktop-only",children:r?e.jsx("button",{className:"btn-login",style:{background:"#00ff66",color:"black",boxShadow:"0 0 30px rgba(0,255,102,0.4)"},children:"WELCOME BACK"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",placeholder:"Username",id:"loginId",value:c,onChange:v=>d(v.target.value),onKeyPress:f}),e.jsx("input",{type:"password",placeholder:"Password",id:"password",value:h,onChange:v=>p(v.target.value),onKeyPress:f})]}),e.jsx("button",{className:"btn-login",onClick:b,style:y?{opacity:.7}:{},children:y?"LOGGING IN...":"SIGN IN"})]})}),e.jsxs("div",{className:"mobile-header-container mobile-only",children:[e.jsxs("div",{className:"top-header",children:[r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"icon-btn",children:[e.jsx("i",{className:"fa-solid fa-magnifying-glass"}),e.jsx("span",{children:"SEARCH"})]}),e.jsxs("div",{className:"icon-btn",children:[e.jsx("i",{className:"fa-solid fa-cash-register"}),e.jsx("span",{children:"CASHIER"})]})]}),e.jsx("div",{className:"right-section",children:r?e.jsx("div",{className:"mobile-user-trigger",onClick:()=>x(!g),children:e.jsx("div",{style:{width:"30px",height:"30px",background:"#00ff66",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"black",fontWeight:"bold"},children:c?c.charAt(0).toUpperCase():"U"})}):e.jsx("div",{style:{display:"flex",alignItems:"center"},children:e.jsx("button",{className:"mobile-login-btn",onClick:()=>x(!g),children:"LOGIN"})})})]}),r&&e.jsxs("div",{className:"tabs-bar",children:[e.jsxs("div",{className:"tab-item active",children:[e.jsx("span",{className:"tab-letter",children:"S"}),e.jsx("span",{className:"tab-text",children:"STRAIGHT"})]}),e.jsxs("div",{className:"tab-item",children:[e.jsx("span",{className:"tab-letter",children:"P"}),e.jsx("span",{className:"tab-text",children:"PARLAY"})]}),e.jsxs("div",{className:"tab-item",children:[e.jsx("span",{className:"tab-letter",children:"T"}),e.jsx("span",{className:"tab-text",children:"TEASER"})]}),e.jsxs("div",{className:"tab-item",children:[e.jsx("span",{className:"tab-letter",children:"I"}),e.jsx("span",{className:"tab-text",children:"IF BET"})]}),e.jsxs("div",{className:"tab-item",children:[e.jsx("i",{className:"fa-solid fa-desktop tab-icon"}),e.jsx("span",{className:"tab-text",children:"BET LIVE"})]})]}),r&&e.jsxs("div",{className:"info-bar",children:[e.jsx("div",{className:"info-bar-item",children:" UP NEXT "}),e.jsx("div",{className:"info-bar-item",children:" FEATURED "})]})]}),g&&Sd.createPortal(e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.8)",zIndex:99998,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Arial, sans-serif",padding:"20px",boxSizing:"border-box",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)"},children:e.jsxs("div",{style:{background:"white",width:"100%",maxWidth:"400px",borderRadius:"12px",boxShadow:"0 30px 100px rgba(0,0,0,0.9)",padding:"30px",display:"flex",flexDirection:"column",gap:"15px",animation:"fadeIn 0.4s ease-out"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[e.jsx("h2",{style:{margin:0,color:"#000",fontSize:"22px",fontWeight:"bold"},children:"SIGN IN"}),e.jsx("span",{onClick:()=>x(!1),style:{cursor:"pointer",fontSize:"28px",fontWeight:"bold",color:"#000",lineHeight:"1"},children:""})]}),r?e.jsxs("div",{style:{textAlign:"center",color:"#000"},children:[e.jsx("div",{style:{marginBottom:"15px",fontWeight:"bold",fontSize:"18px"},children:"WELCOME BACK"}),e.jsx("button",{className:"btn-login",onClick:()=>x(!1),style:{width:"100%",padding:"12px",background:"#dc3545",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"MY ACCOUNT"})]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:"Username",value:c,onChange:v=>d(v.target.value),onKeyPress:f,style:{width:"100%",padding:"12px 15px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"16px",color:"#333",background:"white",boxSizing:"border-box"}}),e.jsx("input",{type:"password",placeholder:"Password",value:h,onChange:v=>p(v.target.value),onKeyPress:f,style:{width:"100%",padding:"12px 15px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"16px",color:"#333",background:"white",boxSizing:"border-box"}}),e.jsx("button",{className:"btn-login",onClick:b,style:{width:"100%",padding:"12px",background:"#dc3545",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",fontWeight:"bold",cursor:y?"not-allowed":"pointer",opacity:y?.7:1},children:y?"SIGNING IN...":"SIGN IN"})]})]})}),document.body)]})},Xj=[{id:"all",name:"ALL",icon:"https://upload.wikimedia.org/wikipedia/commons/5/5c/Olympic_rings_without_rims.svg"},{id:"nba",name:"NBA",icon:"https://upload.wikimedia.org/wikipedia/en/0/03/National_Basketball_Association_logo.svg"},{id:"nfl",name:"NFL",icon:"https://upload.wikimedia.org/wikipedia/en/a/a2/National_Football_League_logo.svg"},{id:"mlb",name:"MLB",icon:"/mlb.svg"},{id:"nhl",name:"NHL",icon:"https://upload.wikimedia.org/wikipedia/en/3/3a/05_NHL_Shield.svg"},{id:"soccer",name:"SOCCER",icon:"https://upload.wikimedia.org/wikipedia/commons/a/aa/FIFA_logo_without_slogan.svg"},{id:"boxing",name:"UFC",icon:"https://upload.wikimedia.org/wikipedia/commons/0/0d/UFC_logo.svg"}],Jj=({activeLeague:l,onSelectLeague:r})=>e.jsx("nav",{className:"league-nav",children:e.jsx("div",{className:"nav-container",children:e.jsx("div",{className:"league-icons",children:Xj.map(c=>e.jsxs("div",{className:`league-item ${l===c.id?"active":""}`,onClick:()=>r(c.id),children:[e.jsx("img",{src:c.icon,alt:c.name}),e.jsx("span",{children:c.name})]},c.id))})})}),sd=[{img:"/hero-banner.png",title:"N.Y KNICKS VS DETROIT",subtitle:"Tonight @ 7:00 P.M | Madison Square Garden"},{img:"/arena-banner.png",title:"UPCOMING NFL SUNDAY",subtitle:"Pre-game Analysis & Live Odds Starts @ 1PM"},{img:"/football-banner.png",title:"PREMIER LEAGUE ACTION",subtitle:"Matchday 24: Liverpool vs Man City"}],Zj=()=>{const[l,r]=u.useState(0);u.useEffect(()=>{const d=setInterval(()=>{r(h=>(h+1)%sd.length)},5e3);return()=>clearInterval(d)},[]);const c=sd[l];return e.jsxs("div",{className:"hero-container",children:[e.jsxs("section",{className:"hero-section",children:[e.jsx("img",{src:c.img,alt:"Featured Match",id:"heroImage",style:{animation:"fadeIn 0.5s ease-in-out"}}),e.jsxs("div",{className:"hero-overlay",children:[e.jsxs("div",{className:"hero-text",children:[e.jsx("span",{className:"hero-badge",children:"FEATURED MATCH"}),e.jsx("h1",{id:"heroTitle",children:c.title}),e.jsx("p",{id:"heroSubtitle",children:c.subtitle})]}),e.jsx("button",{className:"btn-login",style:{background:"var(--gold)",color:"black"},children:"BET NOW"})]}),e.jsx("div",{className:"hero-controls",children:sd.map((d,h)=>e.jsx("div",{className:`control-dot ${h===l?"active":""}`,onClick:()=>r(h)},h))})]}),e.jsxs("div",{className:"promo-flex-row",children:[e.jsxs("div",{className:"promo-card",children:[e.jsx("img",{src:"/promo-football.png",alt:"NFL Promo"}),e.jsxs("div",{className:"promo-text",children:[e.jsx("h3",{children:"NFL PLAYOFFS"}),e.jsx("p",{children:"Live Odds & Analysis"})]}),e.jsx("div",{className:"promo-badge",children:"betterbet365"})]}),e.jsxs("div",{className:"promo-card",children:[e.jsx("img",{src:"/arena-banner.png",alt:"Arena Promo"}),e.jsxs("div",{className:"promo-text",children:[e.jsx("h3",{children:"NBA FINALS"}),e.jsx("p",{children:"Get in on the action"})]}),e.jsx("div",{className:"promo-badge",children:"betterbet365"})]})]})]})},Cf={"leeds united":"https://upload.wikimedia.org/wikipedia/en/5/54/Leeds_United_F.C._logo.svg","nottingham forest":"https://upload.wikimedia.org/wikipedia/en/e/e5/Nottingham_Forest_F.C._logo.svg"},nd=new Map,md=(l="")=>String(l||"").toLowerCase().replace(/[.'-]/g," ").replace(/\s+/g," ").trim(),Kj=(l="")=>{const r=md(l);if(!r)return[];const c=[r,r.replace(/\b(fc|cf|sc|afc|b c|bk|basketball club|football club)\b/g," ").replace(/\s+/g," ").trim(),r.replace(/\b(the)\b/g," ").replace(/\s+/g," ").trim()].filter(Boolean);return Array.from(new Set(c))},ev=l=>l?.strBadge||l?.strTeamBadge||l?.strLogo||l?.strTeamLogo||l?.strJersey||l?.strTeamJersey||"",tv=l=>{let r=0;for(let c=0;c<l.length;c+=1)r=l.charCodeAt(c)+((r<<5)-r);return Math.abs(r)},av=(l="")=>{const r=String(l).trim().split(/\s+/).filter(Boolean);return r.length===0?"?":r.length===1?r[0].slice(0,2).toUpperCase():`${r[0][0]||""}${r[1][0]||""}`.toUpperCase()},Xs=(l="")=>{const r=String(l||"Team"),d=tv(r.toLowerCase())%360,h=(d+36)%360,p=av(r),y=`
<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80">
  <defs>
    <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="hsl(${d}, 78%, 46%)" />
      <stop offset="100%" stop-color="hsl(${h}, 78%, 36%)" />
    </linearGradient>
  </defs>
  <circle cx="40" cy="40" r="38" fill="url(#g)" />
  <circle cx="40" cy="40" r="36" fill="none" stroke="rgba(255,255,255,.32)" stroke-width="2" />
  <text x="40" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="700" fill="#fff">${p}</text>
</svg>`;return`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(y.trim())}`},Mp=async(l="")=>{const r=md(l);if(!r)return"";if(Cf[r])return Cf[r];if(nd.has(r))return nd.get(r);const c=(async()=>{const d=Kj(l);for(const h of d)try{const p=await fetch(`https://www.thesportsdb.com/api/v1/json/123/searchteams.php?t=${encodeURIComponent(h)}`);if(!p.ok)continue;const y=await p.json(),N=Array.isArray(y?.teams)?y.teams:[];if(N.length===0)continue;const x=N.find(f=>md(f?.strTeam)===r)||N[0],b=ev(x);if(b)return b}catch{}return""})();return nd.set(r,c),c},Af="admin_scoreboard_matches_cache_v1",Ef=10,sv=1500,_p=({onClose:l})=>{const[r,c]=u.useState([]),[d,h]=u.useState(!1),[p,y]=u.useState({}),[N,g]=u.useState({}),[x,b]=u.useState(!1),f=async(C,j,S)=>{let $;try{return await Promise.race([C,new Promise((V,B)=>{$=window.setTimeout(()=>B(new Error(`${S} timed out`)),j)})])}finally{$&&window.clearTimeout($)}};u.useEffect(()=>{let C=!0,j=!1,S=!1;try{const k=localStorage.getItem(Af);if(k){const I=JSON.parse(k);Array.isArray(I)&&I.length>0&&(c(I),j=!0,S=!0)}}catch{}j||h(!0);const $=async()=>{const k=localStorage.getItem("token"),I=f(fp(),5e3,"Loading matches"),M=k?f(ul(k),5e3,"Loading admin matches"):Promise.resolve([]),[ae,H]=await Promise.allSettled([I,M]),G=ae.status==="fulfilled"&&Array.isArray(ae.value)?ae.value:[],ie=H.status==="fulfilled"&&Array.isArray(H.value)?H.value:[];return ie.length>0?ie:G},V=async({silent:k=!1}={})=>{try{C&&!k&&!S&&h(!0);let I=[];for(let M=0;M<Ef&&(I=await $(),!(I.length>0||M===Ef-1));M+=1)await new Promise(ae=>window.setTimeout(ae,sv));if(!C)return;if(I.length>0){c(I),S=!0,h(!1);try{localStorage.setItem(Af,JSON.stringify(I))}catch{}}else S||h(!1)}finally{C&&!S&&h(!1)}},B=async()=>{try{await f(wp(),5e3,"Refreshing scores")}catch{}C&&await V({silent:!0})},oe=window.setTimeout(()=>{C&&b(!0)},2e4);V(),window.setTimeout(()=>{B()},50);const F=window.setInterval(B,6e4);return()=>{C=!1,window.clearTimeout(oe),window.clearInterval(F)}},[]);const v=C=>{if(String(C?.status||"").toLowerCase()==="live")return!0;const S=String(C?.score?.event_status||"").toUpperCase();return S.includes("IN_PROGRESS")||S.includes("LIVE")},A=C=>{const j=String(C?.status||"").toLowerCase();if(["scheduled","pre-game","pregame","upcoming","pending"].includes(j))return!0;if(C?.startTime){const S=new Date(C.startTime).getTime();if(!Number.isNaN(S))return S>Date.now()}return!1},E=u.useMemo(()=>{const C=Array.isArray(r)?r:[],j=C.filter(S=>v(S)||A(S));return j.length>0?j:C},[r]),D=u.useMemo(()=>{const C={};return E.forEach(j=>{const S=(j.sport||"Unknown").toUpperCase();C[S]||(C[S]=[]),C[S].push(j)}),C},[E]),R=E.length>0;u.useEffect(()=>{y(C=>{const j={...C};return Object.keys(D).forEach(S=>{typeof j[S]!="boolean"&&(j[S]=!1)}),j})},[D]),u.useEffect(()=>{let C=!0;return(async()=>{const S=new Set;E.forEach(B=>{B?.homeTeam&&S.add(String(B.homeTeam)),B?.awayTeam&&S.add(String(B.awayTeam))});const $=Array.from(S).filter(B=>!N[B]);if($.length===0)return;const V={};await Promise.all($.map(async B=>{try{const oe=await Mp(B);oe&&(V[B]=oe)}catch{}})),C&&Object.keys(V).length>0&&g(B=>({...B,...V}))})(),()=>{C=!1}},[E,N]);const w=C=>C.status==="live"?e.jsx("span",{className:"text-danger fw-bold",children:"LIVE"}):C.startTime?new Date(C.startTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",timeZoneName:"short"}):"TBD",z=(C,j)=>C.score?j==="home"?C.score.score_home??C.score.home_score??C.score.scoreHome??0:j==="away"?C.score.score_away??C.score.away_score??C.score.scoreAway??0:"":"",L=(C,j)=>e.jsxs("div",{className:"scoreboard-league",children:[e.jsxs("button",{type:"button",className:"league-header",onClick:()=>y(S=>({...S,[C]:!S[C]})),children:[e.jsx("span",{children:C}),e.jsx("i",{className:`fa-solid ${p[C]?"fa-chevron-down":"fa-chevron-up"}`})]}),!p[C]&&e.jsx("div",{className:"league-games",children:Array.from({length:Math.ceil(j.length/2)},(S,$)=>j.slice($*2,$*2+2)).map((S,$)=>e.jsxs("div",{className:"scoreboard-game-row",children:[S.map((V,B)=>{const oe=V?.broadcast||V?.tv||V?.score?.broadcast||"";return e.jsxs("div",{className:"scoreboard-game-cell",children:[e.jsxs("div",{className:"game-row",children:[e.jsx("span",{className:"game-time",children:w(V)}),e.jsx("span",{className:"game-network",children:oe})]}),e.jsxs("div",{className:"game-team",children:[e.jsxs("div",{className:"game-team-main",children:[e.jsx("img",{src:N[V.homeTeam]||Xs(V.homeTeam),alt:V.homeTeam,className:"game-logo",onError:F=>{F.currentTarget.src=Xs(V.homeTeam)}}),e.jsx("span",{children:V.homeTeam})]}),e.jsx("span",{className:"game-score",children:z(V,"home")})]}),e.jsxs("div",{className:"game-team",children:[e.jsxs("div",{className:"game-team-main",children:[e.jsx("img",{src:N[V.awayTeam]||Xs(V.awayTeam),alt:V.awayTeam,className:"game-logo",onError:F=>{F.currentTarget.src=Xs(V.awayTeam)}}),e.jsx("span",{children:V.awayTeam})]}),e.jsx("span",{className:"game-score",children:z(V,"away")})]})]},V._id||V.id||`${$}-${B}`)}),S.length===1&&e.jsx("div",{className:"scoreboard-game-cell ghost-cell"})]},`${C}-${$}`))})]},C);return e.jsxs("div",{className:"scoreboard-overlay",children:[e.jsxs("div",{className:"scoreboard-header",children:[e.jsx("h2",{children:"Scoreboard"}),e.jsx("span",{className:"close-btn",onClick:l,children:"Close"})]}),e.jsx("div",{className:"scoreboard-content",children:!R&&d?e.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"Loading scoreboard..."}):Object.keys(D).length===0?e.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"No games found right now."}):Object.entries(D).map(([C,j])=>L(C,j))}),e.jsx("style",{children:`
                .scoreboard-overlay {
                    position: fixed;
                    top: 0;
                    right: 0;
                    width: 350px;
                    height: 100vh;
                    background: #f5f5f5;
                    box-shadow: -5px 0 15px rgba(0,0,0,0.3);
                    z-index: 3000;
                    display: flex;
                    flex-direction: column;
                    font-family: 'Roboto', sans-serif;
                }
                .scoreboard-header {
                    background: #fff;
                    padding: 15px;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    border-bottom: 1px solid #ddd;
                    position: relative;
                }
                .scoreboard-header h2 {
                    margin: 0;
                    font-size: 18px;
                    color: #333;
                    font-weight: bold;
                    text-transform: uppercase;
                }
                .close-btn {
                    position: absolute;
                    right: 15px;
                    color: #d9534f;
                    font-size: 14px;
                    cursor: pointer;
                    text-decoration: underline;
                    font-weight: bold;
                }
                .scoreboard-content {
                    flex: 1;
                    overflow-y: auto;
                }
                .scoreboard-status-row {
                    padding: 6px 12px;
                    background: #fff;
                    border-bottom: 1px solid #ddd;
                }
                .scoreboard-status {
                    font-size: 12px;
                    font-weight: 600;
                }
                .scoreboard-status.syncing {
                    color: #0b7285;
                }
                .scoreboard-status.error {
                    color: #b02a37;
                }
                .league-header {
                    background: #333;
                    color: white;
                    padding: 8px 15px;
                    font-size: 14px;
                    font-weight: bold;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    border-bottom: 1px solid #444;
                    width: 100%;
                    border-left: none;
                    border-right: none;
                    cursor: pointer;
                }
                .league-games {
                    background: #e5e7eb;
                    border-left: 1px solid #c6c8cc;
                }
                .scoreboard-game-row {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                }
                .scoreboard-game-cell {
                    background: #f3f4f6;
                    border-right: 1px solid #c6c8cc;
                    border-bottom: 1px solid #c6c8cc;
                    min-height: 84px;
                }
                .scoreboard-game-cell.ghost-cell {
                    background: #f3f4f6;
                }
                .game-row {
                    display: flex;
                    justify-content: space-between;
                    color: #4b5563;
                    background: #e5e7eb;
                    padding: 4px 8px;
                    font-size: 11px;
                    border-bottom: 1px solid #d1d5db;
                }
                .game-network {
                    font-weight: 700;
                    color: #15803d;
                    min-width: 28px;
                    text-align: right;
                }
                .game-team {
                    display: flex;
                    align-items: center;
                    margin: 5px 0;
                    color: #3f3f46;
                    font-weight: 500;
                    justify-content: space-between;
                    padding: 0 8px;
                }
                .game-team-main {
                    display: flex;
                    align-items: center;
                    gap: 7px;
                    min-width: 0;
                }
                .game-team-main span {
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    max-width: 120px;
                    font-size: 12px;
                }
                .game-logo {
                    width: 18px;
                    height: 18px;
                    border-radius: 50%;
                }
                .game-score {
                    font-weight: 700;
                    color: #111827;
                    font-size: 12px;
                    min-width: 14px;
                    text-align: right;
                }
                .text-danger { color: #dc3545; }
                .fw-bold { font-weight: bold; }
                @media (max-width: 380px) {
                    .scoreboard-game-row {
                        grid-template-columns: 1fr;
                    }
                    .scoreboard-game-cell {
                        border-right: none;
                    }
                }
            `})]})},nv=({onClose:l,balance:r,pendingBalance:c,availableBalance:d})=>{const h=window.innerWidth<=768,p=y=>{if(y==null||y==="")return"";const N=Number(y);return Number.isNaN(N)?"":`$ ${N.toFixed(2)}`};return e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.8)",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',padding:h?"20px":"0",boxSizing:"border-box",overflow:"auto",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)",inset:0},children:[e.jsxs("div",{style:{background:"white",width:h?"100%":"400px",maxWidth:"100%",borderRadius:"8px",boxShadow:"0 30px 100px rgba(0,0,0,0.9)",display:"flex",flexDirection:"column",maxHeight:h?"85vh":"auto",animation:"fadeIn 0.4s ease-out",margin:"auto",marginTop:h?"0":"auto",marginBottom:h?"0":"auto"},children:[e.jsxs("div",{style:{padding:h?"15px 15px":"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #eee"},children:[e.jsx("h3",{style:{margin:0,color:"#333",fontSize:"18px",fontWeight:"bold"},children:"My Account"}),e.jsx("span",{onClick:l,style:{cursor:"pointer",fontSize:"24px",color:"#999",lineHeight:"1"},children:""})]}),e.jsxs("div",{style:{overflowY:"auto",padding:h?"12px":"15px"},children:[e.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"4px",marginBottom:"15px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"bold",color:"#333"},children:"Balance"}),e.jsx("span",{style:{fontWeight:"bold",textDecoration:"underline"},children:p(r)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 15px",borderBottom:"1px solid #eee",background:"#f9f9f9"},children:[e.jsx("span",{style:{fontWeight:"bold",color:"#333"},children:"Pending"}),e.jsx("span",{style:{fontWeight:"bold",textDecoration:"underline"},children:p(c)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 15px"},children:[e.jsx("span",{style:{fontWeight:"bold",color:"#333"},children:"Available"}),e.jsx("span",{style:{fontWeight:"bold",textDecoration:"underline"},children:p(d)})]})]}),e.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"4px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Game Sort (Display)"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"By Time"}),e.jsx("option",{children:"By League"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Select Skin"}),e.jsx("i",{className:"fa-solid fa-desktop",style:{color:"#999",fontSize:"18px"}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Personalize It"}),e.jsx("i",{className:"fa-solid fa-paintbrush",style:{color:"#004d26",fontSize:"18px"}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Time"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"Eastern"}),e.jsx("option",{children:"Central"}),e.jsx("option",{children:"Pacific"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Default Pitcher Setting"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"Action"}),e.jsx("option",{children:"Listed"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Version"}),e.jsx("span",{style:{color:"#333"},children:"43.0.27"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Live Stream Icon"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"Show"}),e.jsx("option",{children:"Hide"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Live Skin"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"Dark"}),e.jsx("option",{children:"Light"})]})]})]})]}),e.jsx("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end",borderTop:"1px solid #eee",background:"#fcfcfc"},children:e.jsx("button",{onClick:l,style:{background:"#d9534f",color:"white",border:"none",padding:"8px 25px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"},children:"Close"})})]}),e.jsx("style",{children:`
                @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(-20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
            `})]})},lv=({onClose:l})=>{const[r,c]=u.useState("BASIC"),[d,h]=u.useState("Gray"),p=["BASIC","NFL","NBA","MLB","NCAA"],y=[{id:"gray",label:"Gray",color:"#007bff"},{id:"white",label:"White",color:"#28a745"},{id:"stadium",label:"Stadium",color:"#dc3545"},{id:"plain",label:"Plain",color:"#dc3545"}];return e.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"350px",height:"100vh",background:"#333",boxShadow:"-5px 0 15px rgba(0,0,0,0.5)",zIndex:3e3,display:"flex",flexDirection:"column",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',color:"white"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"15px 10px",borderBottom:"1px solid #444",background:"#2c2c2c"},children:[e.jsx("span",{onClick:l,style:{cursor:"pointer",fontSize:"18px",color:"#999",marginRight:"20px",padding:"0 5px"},children:""}),e.jsx("div",{style:{display:"flex",gap:"15px",overflowX:"auto"},children:p.map(N=>e.jsx("span",{onClick:()=>c(N),style:{fontSize:"12px",fontWeight:"bold",cursor:"pointer",color:r===N?"#fff":"#888",borderBottom:r===N?"2px solid #fff":"none",paddingBottom:"5px"},children:N},N))})]}),e.jsxs("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:[r==="BASIC"&&e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:y.map(N=>e.jsxs("div",{onClick:()=>h(N.label),style:{background:"#222",padding:"15px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",border:d===N.label?"1px solid #555":"1px solid transparent"},children:[e.jsx("span",{style:{fontSize:"14px"},children:N.label}),e.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",border:`2px solid ${N.color}`,display:"flex",alignItems:"center",justifyContent:"center"},children:d===N.label&&e.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:N.color}})})]},N.id))}),r!=="BASIC"&&e.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#666",fontSize:"14px"},children:["No skins available for ",r," yet."]})]})]})},iv=({username:l,balance:r,pendingBalance:c,availableBalance:d,onViewChange:h,activeBetMode:p="straight",onBetModeChange:y,currentView:N,onToggleSidebar:g,selectedSports:x=[],onContinue:b,onLogout:f,isMobileSportsSelectionMode:v=!1,onHomeClick:A,role:E,unlimitedBalance:D})=>{const[R,w]=u.useState(!1),[z,L]=u.useState(!1),[C,j]=u.useState(!1),[S,$]=u.useState(!1),V=x.length>0,[B,oe]=u.useState(!1),[F,k]=u.useState(!1),[I,M]=u.useState(!1),[ae,H]=u.useState(!1),[G,ie]=u.useState(!1),[je,K]=u.useState(()=>localStorage.getItem("oddsFormat")||"american");u.useEffect(()=>{localStorage.setItem("oddsFormat",je),window.dispatchEvent(new CustomEvent("oddsFormat:change",{detail:je}))},[je]);const _=q=>{if(D)return"Unlimited";if(q==null||q==="")return"";const ue=Number(q);return Number.isNaN(ue)?"":`$ ${ue.toFixed(2)}`},Q=()=>{S||($(!0),window.dispatchEvent(new CustomEvent("matches:refresh")),setTimeout(()=>{$(!1)},3e4))};ys.useEffect(()=>{const q=()=>{$(!1)};return window.addEventListener("matches:refresh-completed",q),()=>window.removeEventListener("matches:refresh-completed",q)},[]);const se=[{name:"English",flag:"https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg",active:!0},{name:"Spanish",flag:"https://upload.wikimedia.org/wikipedia/commons/9/9a/Flag_of_Spain.svg"},{name:"Chinese",flag:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Flag_of_the_People%27s_Republic_of_China.svg"},{name:"French",flag:"https://upload.wikimedia.org/wikipedia/en/c/c3/Flag_of_France.svg"},{name:"Greek",flag:"https://upload.wikimedia.org/wikipedia/commons/5/5c/Flag_of_Greece.svg"},{name:"Japanese",flag:"https://upload.wikimedia.org/wikipedia/en/9/9e/Flag_of_Japan.svg"},{name:"Korean",flag:"https://upload.wikimedia.org/wikipedia/commons/0/09/Flag_of_South_Korea.svg"},{name:"Vietnamese",flag:"https://upload.wikimedia.org/wikipedia/commons/2/21/Flag_of_Vietnam.svg"}],[J,Z]=u.useState(!1),P=N==="dashboard";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mobile-header-container mobile-only",children:[e.jsxs("div",{className:"top-header",children:[e.jsxs("div",{className:"header-icon-group",children:[e.jsx("div",{className:"menu-circle",onClick:g,children:e.jsx("i",{className:"fa-solid fa-bars"})}),N==="bonus"||N==="prime-live"||N==="ultra-live"||N==="live-casino"||N==="casino"?e.jsxs("div",{className:"icon-btn",onClick:()=>A&&A(),children:[e.jsx("i",{className:"fa-solid fa-house"}),e.jsx("span",{children:"HOME"})]}):V&&!v?e.jsxs("div",{className:"icon-btn",onClick:()=>A&&A(),children:[e.jsx("i",{className:"fa-solid fa-house"}),e.jsx("span",{children:"HOME"})]}):e.jsxs("div",{className:"icon-btn",children:[e.jsx("i",{className:"fa-solid fa-magnifying-glass"}),e.jsx("span",{children:"SEARCH"})]}),e.jsxs("div",{className:`icon-btn ${N==="bonus"?"active-bonus":""}`,onClick:()=>{if(E==="user"){alert("Deposits and Withdrawals are managed by your Agent. Please contact them to update your balance.");return}h&&h("bonus")},children:[e.jsx("i",{className:"fa-solid fa-cash-register"}),e.jsx("span",{children:V?"BONUS":"CASHIER"})]})]}),e.jsxs("div",{className:"right-section",children:[!V||N==="bonus"||V&&!v?e.jsxs("div",{className:"balance-container",children:[e.jsx("div",{className:"balance-amount",children:_(d)}),e.jsx("div",{className:"balance-label",children:"BALANCE"})]}):e.jsx("div",{className:"continue-btn-container",onClick:b||g,children:e.jsxs("button",{className:"mobile-continue-btn",children:["Continue ",e.jsx("i",{className:"fa-solid fa-chevron-right"})]})}),e.jsx("div",{className:"dropdown-chevron",onClick:()=>j(!C),children:e.jsx("i",{className:`fa-solid ${C?"fa-chevron-up":"fa-chevron-down"}`})})]})]}),C&&e.jsxs("div",{className:"user-settings-dropdown mobile-usd",onClick:q=>q.stopPropagation(),children:[e.jsxs("div",{className:"usd-item",onClick:()=>{oe(!0),j(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-globe"})}),e.jsx("div",{className:"usd-text",children:"LANGUAGE"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{k(!0),j(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-calculator"})}),e.jsx("div",{className:"usd-text",children:"ODDS DISPLAY"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{M(!0),j(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-chart-simple"})}),e.jsx("div",{className:"usd-text",children:"SCOREBOARD"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{H(!0),j(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-gear"})}),e.jsx("div",{className:"usd-text",children:"SETTINGS"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{ie(!0),j(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-sliders"})}),e.jsx("div",{className:"usd-text",children:"PERSONALIZE"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{h&&h("support"),j(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-headset"})}),e.jsx("div",{className:"usd-text",children:"SUPPORT"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{h&&h("my-bets"),j(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-list"})}),e.jsx("div",{className:"usd-text",children:"MY BETS"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item signout",onClick:f,children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-power-off"})}),e.jsx("div",{className:"usd-text",children:"SIGN OUT"})]})]}),e.jsx("div",{className:"tabs-bar",children:[{id:"straight",label:"STRAIGHT",letter:"S"},{id:"parlay",label:"PARLAY",letter:"P"},{id:"teaser",label:"TEASER",letter:"T"},{id:"if_bet",label:"IF BET",letter:"I"},{id:"reverse",label:"REVERSE",letter:"R"}].map(q=>e.jsxs("div",{className:`tab-item ${p===q.id?"active":""}`,onClick:()=>y&&y(q.id),children:[e.jsx("span",{className:"tab-letter",children:q.letter}),e.jsx("span",{className:"tab-text",children:q.label})]},q.id))}),e.jsxs("div",{className:"info-bar",children:[e.jsx("div",{className:"info-bar-item",children:" UP NEXT "}),e.jsx("div",{className:"info-bar-item",children:" FEATURED "})]})]}),e.jsxs("div",{className:"dash-topbar desktop-only",children:[e.jsxs("div",{className:"dash-nav-links",children:[e.jsxs("div",{className:"dash-nav-item",onClick:()=>A&&A(),children:[e.jsx("span",{children:"SPORTS"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"}),e.jsx("path",{d:"M2.5 12h19M12 2.5v19"})]})})]}),e.jsxs("div",{className:"dash-nav-item",onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),style:{position:"relative",overflow:"visible"},children:[e.jsx("span",{children:"LIVE"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),e.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}),R&&e.jsxs("div",{style:{position:"absolute",top:"100%",left:"0",width:"120px",background:"#333",zIndex:100,border:"1px solid #555",boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:[e.jsxs("div",{style:{padding:"10px",color:"white",borderBottom:"1px solid #444",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},onClick:()=>h&&h("prime-live"),className:"live-menu-item",children:[e.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:"PRIME LIVE"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]}),e.jsxs("div",{style:{padding:"10px",color:"#999",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},className:"live-menu-item",onClick:()=>h&&h("ultra-live"),children:[e.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:"ULTRA LIVE"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})})]})]})]}),e.jsxs("div",{className:"dash-nav-item",onClick:()=>h&&h("casino"),children:[e.jsx("span",{children:"CASINO"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsx("span",{style:{fontSize:"20px",fontWeight:"bold",border:"2px solid white",borderRadius:"4px",padding:"0 4px",color:"#ffd700",borderColor:"#ffd700"},children:"7"})})]}),e.jsxs("div",{className:"dash-nav-item",onClick:()=>h&&h("live-casino"),children:[e.jsx("span",{children:"LIVE CASINO"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("circle",{cx:"12",cy:"12",r:"4"}),e.jsx("circle",{cx:"12",cy:"12",r:"2"})]})})]}),e.jsxs("div",{className:"dash-nav-item",onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),style:{position:"relative",overflow:"visible"},children:[e.jsx("span",{children:"MORE"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),z&&e.jsx("div",{style:{position:"absolute",top:"100%",left:"0",width:"120px",background:"#333",zIndex:100,border:"1px solid #555",boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:e.jsxs("div",{style:{padding:"10px",color:"#999",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},className:"live-menu-item",onClick:()=>h&&h("props"),children:[e.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:"PROPS"}),e.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",border:"1px solid #999",padding:"0 2px"},children:"P+"})]})})]}),e.jsxs("div",{className:"dash-nav-item",style:{color:"#ffd700",cursor:"pointer"},onClick:()=>h&&h("bonus"),children:[e.jsx("span",{children:"BONUS"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 12V8H6a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2"}),e.jsx("path",{d:"M4 6h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z"})]})})]}),e.jsxs("div",{className:"dash-nav-item",style:{cursor:"pointer"},onClick:()=>h&&h("tutorials"),children:[e.jsx("span",{children:"TUTORIALS"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),e.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})})]}),e.jsxs("div",{className:"dash-nav-item",style:{cursor:"pointer"},onClick:()=>h&&h("support"),children:[e.jsx("span",{children:"SUPPORT"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M4 4h16v6H4z"}),e.jsx("path",{d:"M4 10h10v10H4z"}),e.jsx("path",{d:"M14 10h6v4h-6z"})]})})]})]}),e.jsxs("div",{className:"dash-user-info",children:[e.jsxs("div",{className:"dash-balance",children:[e.jsx("span",{children:"CREDIT LIMIT"}),e.jsx("strong",{children:_(r)})]}),e.jsxs("div",{className:"dash-balance",children:[e.jsx("span",{children:"BALANCE OWED"}),e.jsx("strong",{children:_(c)})]}),e.jsxs("div",{className:"dash-balance",children:[e.jsx("span",{children:"AVAILABLE CREDIT"}),e.jsx("strong",{children:_(d)})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",position:"relative"},onClick:()=>j(!C),children:[e.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:l||"WGT73476"}),e.jsx("span",{children:C?"":""}),C&&e.jsxs("div",{className:"user-settings-dropdown",onClick:q=>q.stopPropagation(),children:[e.jsxs("div",{className:"usd-item",onClick:()=>oe(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-globe"})}),e.jsx("div",{className:"usd-text",children:"Language"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>k(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-calculator"})}),e.jsx("div",{className:"usd-text",children:"Odds Display"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>M(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-chart-simple"})}),e.jsx("div",{className:"usd-text",children:"Scoreboard"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>H(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-gear"})}),e.jsx("div",{className:"usd-text",children:"Settings"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>ie(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-sliders"})}),e.jsx("div",{className:"usd-text",children:"Personalize"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>h&&h("support"),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-headset"})}),e.jsx("div",{className:"usd-text",children:"Support"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>h&&h("my-bets"),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-list"})}),e.jsx("div",{className:"usd-text",children:"My Bets"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item signout",onClick:f,children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-power-off"})}),e.jsx("div",{className:"usd-text",children:"SIGN OUT"})]})]})]})]})]}),N!=="rules"&&N!=="bonus"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:`dash-subheader mobile-subheader desktop-only ${P?"with-sidebar-offset":""}`,style:{display:"flex",borderBottom:"1px solid #ccc",height:"auto",minHeight:"60px"},children:[e.jsx("div",{className:"bet-type-bar",children:[{id:"straight",label:"STRAIGHT",icon:"S"},{id:"parlay",label:"PARLAY",icon:"P"},{id:"teaser",label:"TEASER",icon:"T"},{id:"if_bet",label:"IF BET",icon:"I"},{id:"reverse",label:"REVERSE",icon:"R"}].map(q=>e.jsxs("div",{className:`bet-type-item ${p===q.id?"active":""}`,onClick:()=>y&&y(q.id),children:[e.jsx("div",{className:"bet-type-letter",children:q.icon}),e.jsx("div",{className:"bet-type-label",children:q.label})]},q.id))}),e.jsxs("div",{className:"bet-action-group",children:[e.jsxs("button",{className:`action-btn refresh-btn ${S?"refresh-loading":""}`,title:"Refresh",onClick:Q,disabled:S,children:[e.jsx("i",{className:`fa-solid fa-arrows-rotate ${S?"fa-spin":""}`,style:{fontSize:"16px"}}),e.jsx("span",{children:S?"REFRESHING...":"REFRESH"})]}),e.jsxs("button",{className:"action-btn green continue-btn",title:"Continue",onClick:b||g,children:[e.jsx("i",{className:"fa-solid fa-chevron-right",style:{fontSize:"16px"}}),e.jsx("span",{children:"CONTINUE"})]})]})]})}),B&&e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.7)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{background:"white",width:"300px",borderRadius:"4px",overflow:"hidden",boxShadow:"0 5px 15px rgba(0,0,0,0.5)"},children:[e.jsxs("div",{style:{padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #eee"},children:[e.jsx("h3",{style:{margin:0,color:"#333",fontSize:"18px"},children:"Available Languages"}),e.jsx("span",{onClick:()=>oe(!1),style:{cursor:"pointer",fontSize:"20px",color:"#999"},children:""})]}),e.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:se.map((q,ue)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 20px",borderBottom:"1px solid #eee",background:q.active?"#004d26":"white",color:q.active?"white":"#333",cursor:"pointer"},children:[e.jsx("span",{style:{fontSize:"16px",fontWeight:q.active?"bold":"normal"},children:q.name}),e.jsx("img",{src:q.flag,alt:q.name,style:{width:"24px",borderRadius:"3px",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}})]},ue))}),e.jsx("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end",borderTop:"1px solid #eee"},children:e.jsx("button",{onClick:()=>oe(!1),style:{background:"#d9534f",color:"white",border:"none",padding:"8px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Close"})})]})}),F&&e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.7)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{background:"white",width:"300px",borderRadius:"4px",overflow:"hidden",boxShadow:"0 5px 15px rgba(0,0,0,0.5)",marginBottom:"20vh"},children:[e.jsxs("div",{style:{padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #eee"},children:[e.jsx("h3",{style:{margin:0,color:"#333",fontSize:"18px"},children:"Odds Display"}),e.jsx("span",{onClick:()=>k(!1),style:{cursor:"pointer",fontSize:"20px",color:"#999"},children:""})]}),e.jsx("div",{style:{padding:"20px"},children:e.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden"},children:[e.jsx("div",{style:{padding:"12px 15px",background:je==="american"?"#004d26":"white",color:je==="american"?"white":"#333",fontWeight:"bold",borderBottom:"1px solid #ccc",cursor:"pointer"},onClick:()=>K("american"),children:"American"}),e.jsx("div",{style:{padding:"12px 15px",background:je==="decimal"?"#004d26":"white",color:je==="decimal"?"white":"#333",cursor:"pointer"},onClick:()=>K("decimal"),children:"Decimal"})]})}),e.jsx("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end",borderTop:"1px solid #eee"},children:e.jsx("button",{onClick:()=>k(!1),style:{background:"#d9534f",color:"white",border:"none",padding:"8px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Close"})})]})}),I&&e.jsx(_p,{onClose:()=>M(!1)}),ae&&Sd.createPortal(e.jsx(nv,{onClose:()=>H(!1),balance:r,pendingBalance:c,availableBalance:d}),document.body),G&&e.jsx(lv,{onClose:()=>ie(!1)})]})},fd=[{id:"up-next",label:"UP NEXT",icon:"fa-solid fa-clock",type:"main-link",selectable:!1},{id:"featured",label:"FEATURED",icon:"fa-solid fa-star",type:"main-link",selectable:!1},{id:"commercial-live",label:"COMMERCIAL LIVE",icon:"fa-solid fa-tv",selectable:!0},{id:"football",label:"FOOTBALL",icon:"fa-solid fa-football",selectable:!1,children:[{id:"nfl",label:"NFL",icon:"fa-solid fa-helmet-safety",selectable:!0,children:[{id:"nfl-1st-half",label:"1st Half",selectable:!0,hasChildren:!0},{id:"nfl-1st-quarter",label:"1st Quarter",selectable:!0,hasChildren:!0},{id:"nfl-2nd-quarter",label:"2nd Quarter",selectable:!0,hasChildren:!0}]},{id:"ncaa-football",label:"NCAA Football",icon:"fa-solid fa-building-columns",selectable:!0,children:[{id:"ncaa-1st-half",label:"1st Half",selectable:!0,hasChildren:!0},{id:"ncaa-1st-quarter",label:"1st Quarter",selectable:!0,hasChildren:!0}]},{id:"nfl-1st-scoring",label:"NFL 1ST SCORING PLAY",selectable:!1,hasChildren:!0},{id:"nfl-1st-td-scorer",label:"NFL 1ST TD SCORER",selectable:!1,hasChildren:!0},{id:"nfl-anytime-td",label:"NFL ANYTIME TD SCORER",selectable:!1,hasChildren:!0},{id:"nfl-margin-victory",label:"NFL MARGIN OF VICTORY",selectable:!1,hasChildren:!0},{id:"nfl-player-props",label:"NFL TEXANS VS STEELERS PLAYER PROPS",selectable:!1,hasChildren:!0},{id:"nfl-props-plus",label:"NFL Props Plus +",selectable:!1,icon:"fa-solid fa-arrow-right",type:"props-plus"},{id:"college-props-plus",label:"College Props Plus +",selectable:!1,icon:"fa-solid fa-arrow-right",type:"props-plus"},{id:"afl-props-plus",label:"AFL Props Plus +",selectable:!1,icon:"fa-solid fa-arrow-right",type:"props-plus"}]},{id:"baseball",label:"BASEBALL",icon:"fa-solid fa-baseball-bat-ball",selectable:!1,children:[{id:"mlb",label:"MLB",selectable:!0},{id:"kbo",label:"KBO League",selectable:!0}]},{id:"basketball",label:"BASKETBALL",icon:"fa-solid fa-basketball",selectable:!1,children:[{id:"nba",label:"NBA",selectable:!0},{id:"ncaab",label:"NCAA Basketball",selectable:!0}]},{id:"hockey",label:"HOCKEY",icon:"fa-solid fa-hockey-puck",selectable:!1,children:[{id:"nhl",label:"NHL",selectable:!0}]},{id:"soccer",label:"SOCCER",icon:"fa-solid fa-futbol",selectable:!1,children:[{id:"epl",label:"Premier League",selectable:!0}]},{id:"golf",label:"GOLF",icon:"fa-solid fa-golf-ball-tee",selectable:!1,children:[{id:"pga",label:"PGA Tour",selectable:!0}]},{id:"tennis",label:"TENNIS",icon:"fa-solid fa-table-tennis-paddle-ball",selectable:!1,children:[{id:"atp",label:"ATP",selectable:!0}]},{id:"martial-arts",label:"MARTIAL ARTS",icon:"fa-solid fa-person-hiking",selectable:!0},{id:"boxing",label:"BOXING",icon:"fa-solid fa-hand-fist",selectable:!0},{id:"auto-racing",label:"AUTO RACING",icon:"fa-solid fa-flag-checkered",selectable:!0},{id:"rugby",label:"RUGBY",icon:"fa-solid fa-football",selectable:!0},{id:"olympics",label:"OLYMPICS",icon:"fa-solid fa-fire",selectable:!0}],Dp=({item:l,level:r,selectedIds:c,onToggle:d,expandedIds:h,onToggleExpand:p,className:y=""})=>{const N=h.has(l.id),g=c.includes(l.id),x=l.children&&l.children.length>0||l.hasChildren,b=()=>{const w=l.selectable!==!1;if(x){p(l.id),w&&d(l.id);return}d(l.id)},f=w=>{w.stopPropagation(),d(l.id)},v=l.selectable!==!1&&r>0&&l.type!=="props-plus",A=r===0&&l.icon||l.type==="props-plus",E=l.selectable===!1&&x,D=r>0&&x&&!E,R=r>0&&E;return e.jsxs("div",{className:`sidebar-tree-node ${y}`,children:[e.jsxs("div",{className:`sidebar-item-row ${g?"selected":""} level-${r} item-type-${l.type||"standard"} icon-${l.id}`,onClick:b,"data-sport-id":l.id,children:[v&&e.jsx("div",{className:"sidebar-checkbox-wrapper",onClick:w=>w.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:g,onChange:f,className:"sidebar-small-checkbox"})}),R&&e.jsx("span",{className:`black-expand-arrow ${N?"active":""}`,children:e.jsx("i",{className:"fa-solid fa-chevron-down"})}),D&&e.jsx("span",{className:`blue-expand-arrow ${N?"active":""}`,children:e.jsx("i",{className:"fa-solid fa-chevron-right"})}),e.jsxs("div",{className:"sidebar-item-content",children:[A&&l.icon&&e.jsx("span",{className:`icon ${l.type==="props-plus"?"sidebar-blue-icon":"sidebar-main-icon"}`,children:typeof l.icon=="string"&&l.icon.includes("fa-")?e.jsx("i",{className:l.icon}):l.icon}),e.jsx("span",{className:"sidebar-label-text",children:l.label})]}),r===0&&x&&e.jsx("span",{className:`main-cat-arrow ${N?"expanded":""}`,children:e.jsx("i",{className:"fa-solid fa-chevron-down"})})]}),x&&N&&l.children&&e.jsx("div",{className:"sidebar-children",children:l.children.map(w=>e.jsx(Dp,{item:w,level:r+1,selectedIds:c,onToggle:d,expandedIds:h,onToggleExpand:p},w.id))})]})},Tf=({selectedSports:l=[],onToggleSport:r,betMode:c="straight",isOpen:d=!1,onCloseSidebar:h,onOpenFeedback:p,isMobileSportsSelectionMode:y=!1})=>{const[N,g]=u.useState(new Set(["football","nfl","ncaa-football"])),x=A=>{g(E=>{const D=new Set(E);return D.has(A)?D.delete(A):D.add(A),D})},b=A=>{r(A)},f=["football","baseball","basketball","hockey","soccer","mma"],v=c==="parlay"||c==="teaser"||c==="if_bet"||c==="reverse"?fd.filter(A=>f.includes(A.id)):fd;return e.jsxs("aside",{className:`dash-sidebar ${d?"open":""} ${y?"mobile-sports-selection-mode":""}`,children:[e.jsxs("div",{className:"search-container desktop-search",children:[e.jsx("i",{className:"fa-solid fa-magnifying-glass search-icon"}),e.jsx("input",{type:"text",className:"search-input",placeholder:"SEARCH"})]}),e.jsx("div",{className:"sidebar-header desktop-only",children:"SPORTS SCHEDULE"}),e.jsxs("div",{className:"sidebar-mobile-info mobile-only",children:[e.jsx("div",{className:"info-item",children:"UP NEXT"}),e.jsx("div",{className:"info-item",children:"FEATURED"})]}),e.jsxs("div",{className:"sidebar-content",children:[e.jsx("div",{className:"mobile-only-section",children:e.jsx("div",{className:`sidebar-item-row level-0 ${l.includes("commercial-live")?"selected":""}`,onClick:()=>b("commercial-live"),children:e.jsxs("div",{className:"sidebar-item-content",children:[e.jsx("span",{className:"icon sidebar-main-icon",style:{color:"#007bff"},children:e.jsx("i",{className:"fa-solid fa-desktop"})}),e.jsx("span",{className:"sidebar-label-text",children:"COMMERCIAL LIVE"})]})})}),v.map(A=>e.jsx(Dp,{item:A,level:0,selectedIds:l,onToggle:r,expandedIds:N,onToggleExpand:x,className:A.id==="commercial-live"||A.id==="up-next"||A.id==="featured"?"desktop-only":""},A.id))]}),e.jsx("div",{className:"mobile-only feedback-btn-container",children:e.jsx("button",{className:"mobile-feedback-btn",onClick:p,children:"FEEDBACK"})})]})},rv="true".toLowerCase()==="true",Lf=15e3,ov=45e3;let li=null,Mf=0;const cv=async()=>{const l=Date.now();return li||(l-Mf<ov?null:(li=wp().then(r=>(Mf=Date.now(),r)).finally(()=>{li=null}),li))},Tr=l=>{if(!l)return!1;if((l.status||"").toString().toLowerCase()==="live")return!0;const c=(l.score?.event_status||"").toString().toUpperCase();return c.includes("IN_PROGRESS")||c.includes("LIVE")||c.includes("STATUS_IN_PROGRESS")},Lr=l=>{if(!l)return!1;const r=(l.status||"").toString().toLowerCase();if(["scheduled","pre-game","pregame","upcoming","pending"].includes(r))return!0;const c=(l.score?.event_status||"").toString().toUpperCase();if(c.includes("SCHEDULED")||c.includes("PRE_GAME"))return!0;if(l.startTime){const d=new Date(l.startTime).getTime();if(!Number.isNaN(d))return d>Date.now()}return!1},ll=l=>{if(!l)return!1;const r=(l.status||"").toString().toLowerCase();if(["finished","final","cancelled","canceled","closed"].includes(r))return!0;const c=(l.score?.event_status||"").toString().toUpperCase();return c.includes("FINAL")||c.includes("COMPLETE")||c.includes("STATUS_CLOSED")};function fi(l={}){const[r,c]=u.useState([]),d=(l.status||"all").toString().toLowerCase();return u.useEffect(()=>{let h=!0;const p=l.refreshOdds!==!1,y=async()=>{try{if(p)try{await cv()}catch(A){console.warn("useMatches: odds refresh failed",A)}const b=d==="live"||d==="active"?await _y():await fp(),f=Array.isArray(b)?b:[];let v=f;d==="live"||d==="active"?(v=f.filter(Tr),v.length===0&&f.length>0&&(v=f)):d==="upcoming"||d==="scheduled"?v=f.filter(A=>!ll(A)&&Lr(A)):(d==="live-upcoming"||d==="active-upcoming")&&(v=f.filter(A=>!ll(A)&&(Tr(A)||Lr(A)||!ll(A)&&!A.status))),h&&c(v),window.dispatchEvent(new CustomEvent("matches:refresh-completed",{detail:{success:!0}}))}catch(b){console.error("useMatches: fetch error",b),window.dispatchEvent(new CustomEvent("matches:refresh-completed",{detail:{success:!1,error:b.message}}))}};y();const N=()=>{y()};window.addEventListener("matches:refresh",N);let g=null,x=null;return rv&&typeof window<"u"&&typeof window.EventSource<"u"&&(g=new window.EventSource(`${ge}/matches/stream`),g.addEventListener("matchUpdate",b=>{let f=null;try{f=JSON.parse(b.data)}catch{return}console.debug("useMatches: received matchUpdate",f),c(v=>{if(!f)return v;let A=!0;d==="live"||d==="active"?A=Tr(f):d==="upcoming"||d==="scheduled"?A=!ll(f)&&Lr(f):(d==="live-upcoming"||d==="active-upcoming")&&(A=!ll(f)&&(Tr(f)||Lr(f)||!ll(f)&&!f?.status));const E=f.id||f._id||f.externalId,D=v.findIndex(R=>R.id===E||R._id===E||R.externalId===E);if(!A){if(D>=0){const R=[...v];return R.splice(D,1),R}return v}if(D>=0){const R=[...v];return R[D]={...R[D],...f},R}return[f,...v]})}),g.onerror=()=>{x===null&&(x=window.setInterval(y,Lf))}),x===null&&(x=window.setInterval(y,Lf)),()=>{if(h=!1,x!==null&&window.clearInterval(x),g)try{g.close()}catch{}window.removeEventListener("matches:refresh",N)}},[d,l.refreshOdds]),r}const dv=({sportId:l,selectedItems:r=[],filter:c=null,status:d="live-upcoming",activeBetMode:h="straight"})=>{const[p,y]=u.useState("matches"),[N,g]=u.useState({}),x=ys.useRef(new Set),[b,f]=u.useState({name:"",icon:"",matches:[],scoreboards:[]}),[v,A]=u.useState(!0),E=fi({status:d});ys.useEffect(()=>{const C={nfl:{name:"NFL",icon:"fa-solid fa-football"},nba:{name:"NBA",icon:"fa-solid fa-basketball"},mlb:{name:"MLB",icon:"fa-solid fa-baseball"},nhl:{name:"NHL",icon:"fa-solid fa-hockey-puck"},epl:{name:"EPL (Soccer)",icon:"fa-solid fa-futbol"},boxing:{name:"Boxing",icon:"fa-solid fa-hand-fist"},mma:{name:"MMA/UFC",icon:"fa-solid fa-hand-fist"},ncaaf:{name:"NCAA Football",icon:"fa-solid fa-building-columns"},ncaab:{name:"NCAA Basketball",icon:"fa-solid fa-basketball"}},j=k=>{if(!k)return[];const I=k.toString().toLowerCase();return{nfl:["nfl","americanfootball_nfl","national football","american football"],ncaaf:["ncaaf","ncaa football","college football"],nba:["nba","basketball_nba","national basketball"],ncaab:["ncaab","ncaa basketball","college basketball"],mlb:["mlb","baseball_mlb","major league baseball"],nhl:["nhl","icehockey_nhl","hockey_nhl"],epl:["epl","premier league","english premier league"],soccer:["soccer","football","premier league","la liga","serie a","bundesliga","ligue 1","mls"],basketball:["basketball","nba","ncaab","euroleague"],baseball:["baseball","mlb"],hockey:["hockey","nhl","icehockey"],golf:["golf","pga"],tennis:["tennis","atp","wta"],boxing:["boxing"],mma:["mma","ufc"],rugby:["rugby"],"auto-racing":["racing","motorsport","nascar","formula"],"martial-arts":["mma","ufc","martial"],olympics:["olympics","olympic"]}[I]||[I]};let S=l,$=null;const V=c||l;V&&(V.startsWith("nfl-")?(S="nfl",V.includes("1st-quarter")&&($="Q1"),V.includes("2nd-quarter")&&($="Q2"),V.includes("1st-half")&&($="H1")):V.startsWith("ncaa-")&&(S="ncaaf",V.includes("1st-quarter")&&($="Q1"),V.includes("2nd-quarter")&&($="Q2"),V.includes("1st-half")&&($="H1")));const B=C[S]||{name:"Sports",icon:"fa-solid fa-trophy"},oe=()=>{const k=E||[];A(!E||Array.isArray(E)&&E.length===0);const I=j(S);let M=k.filter(H=>{if(!S)return!0;if(!H.sport)return!1;const G=H.sport.toString().toLowerCase();return I.some(ie=>G.includes(ie))});$&&(M=M.filter(H=>{const G=String(H?.score?.period||"").toUpperCase(),ie=String(H?.score?.event_status||"").toUpperCase();return!G&&!ie?!0:$==="Q1"?/\bQ1\b|1ST\s*QUARTER/.test(G)||ie.includes("1ST_QUARTER"):$==="Q2"?/\bQ2\b|2ND\s*QUARTER/.test(G)||ie.includes("2ND_QUARTER"):$==="H1"?G.includes("H1")||G.includes("1H")||ie.includes("1ST_HALF"):!0}));const ae=(H,G,ie)=>{if(!H||!H.odds)return{spread:["-","-"],moneyline:["-","-"],total:["-","-"]};if(H.odds.spread&&H.odds.moneyline&&H.odds.total)return H.odds;const je=Array.isArray(H.odds.markets)?H.odds.markets:[],K=Ae=>je.find(_e=>String(_e.key||"").toLowerCase()===Ae),_=(Ae,_e)=>{if(!Ae||!Array.isArray(Ae.outcomes))return null;const De=Ae.outcomes.find(Ge=>String(Ge.name||"").toLowerCase()===String(_e||"").toLowerCase());return De||Ae.outcomes.find(Ge=>String(Ge.name||"").toLowerCase().includes(String(_e||"").toLowerCase()))||null},Q=K("h2h"),se=K("spreads"),J=K("totals"),Z=_(Q,G),P=_(Q,ie),q=_(se,G),ue=_(se,ie),me=J?.outcomes?.find(Ae=>String(Ae.name||"").toLowerCase().includes("over"))||null,ve=J?.outcomes?.find(Ae=>String(Ae.name||"").toLowerCase().includes("under"))||null,we=q?.point??ue?.point;return{spread:[`${we??"-"} (${q?.price??"-"})`,`${we!=null?-we:"-"} (${ue?.price??"-"})`],moneyline:[`${Z?.price??"-"}`,`${P?.price??"-"}`],total:[`O ${me?.point??ve?.point??"-"} (${me?.price??"-"})`,`U ${ve?.point??me?.point??"-"} (${ve?.price??"-"})`]}};M=M.map(H=>{const G=H.homeTeam||H.home_team||"",ie=H.awayTeam||H.away_team||"";let je=H.score?.score_home??0,K=H.score?.score_away??0;return{id:H.id||H._id||H.externalId,time:H.startTime?new Date(H.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",date:H.startTime?new Date(H.startTime).toLocaleDateString():"",team1:{name:G,abbr:G.substring(0,3).toUpperCase(),logo:""},team2:{name:ie,abbr:ie.substring(0,3).toUpperCase(),logo:""},score1:je,score2:K,period:H.score?.period,status:H.status==="live"||H.score&&(String(H.score.event_status||"").toUpperCase().includes("IN_PROGRESS")||String(H.score.event_status||"").toUpperCase().includes("LIVE"))?"LIVE":H.status||"Scheduled",odds:ae(H,G,ie),rawMatch:H}}),f({...B,matches:M,scoreboards:[]}),M.length>0&&A(!1)};oe();const F=setInterval(oe,5e3);return()=>clearInterval(F)},[l,c,E]),ys.useEffect(()=>{Array.from(new Set((b.matches||[]).flatMap(j=>[j.team1?.name,j.team2?.name]).filter(Boolean))).forEach(j=>{!j||x.current.has(j)||(x.current.add(j),Mp(j).then(S=>{g($=>({...$,[j]:S||""}))}))})},[b.matches]);const D=(C,j,S,$,V,B)=>{window.dispatchEvent(new CustomEvent("betslip:add",{detail:{matchId:C,selection:j,marketType:S,odds:parseFloat($),matchName:V,marketLabel:B}}))},R=String(h||"straight").toLowerCase().replace(/-/g,"_"),w=["straight","parlay","teaser","if_bet","reverse"].includes(R),z=["straight","parlay","if_bet","reverse"].includes(R),L=["straight","parlay","teaser","if_bet","reverse"].includes(R);return e.jsxs("div",{className:"sport-content-view",children:[e.jsxs("div",{className:"content-header",children:[e.jsxs("div",{className:"content-title",children:[e.jsx("i",{className:b.icon}),e.jsxs("span",{children:[b.name," - Live & Upcoming"]})]}),e.jsxs("div",{className:"content-tabs",children:[e.jsx("button",{className:`tab-btn ${p==="matches"?"active":""}`,onClick:()=>y("matches"),children:"Matches"}),e.jsx("button",{className:`tab-btn ${p==="scoreboards"?"active":""}`,onClick:()=>y("scoreboards"),children:"Scoreboards"})]})]}),p==="matches"&&e.jsx("div",{className:"matches-section",children:v?e.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#888",background:"#fff",borderRadius:"8px"},children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin",style:{fontSize:"48px",marginBottom:"16px",opacity:.5}}),e.jsx("h3",{children:"Loading sports data..."}),e.jsx("p",{children:"Please wait while we load the latest matches."})]}):b.matches.length===0?e.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#888",background:"#fff",borderRadius:"8px"},children:[e.jsx("i",{className:"fa-solid fa-calendar-xmark",style:{fontSize:"48px",marginBottom:"16px",opacity:.5}}),e.jsx("h3",{children:"No Live or Upcoming Matches Found"}),e.jsxs("p",{children:["There are no ",b.name," matches available right now."]}),e.jsx("p",{style:{fontSize:"0.9em"},children:"Check back later for new updates."})]}):b.matches.map(C=>e.jsxs("div",{className:"match-card",children:[e.jsxs("div",{className:"match-header",children:[e.jsxs("div",{className:"match-time",children:[e.jsx("span",{className:"time",children:C.time}),e.jsx("span",{className:"date",children:C.date})]}),e.jsx("span",{className:`match-status ${C.status==="LIVE"?"live":""}`,children:C.status})]}),e.jsxs("div",{className:"match-body",children:[e.jsxs("div",{className:"team-box",children:[e.jsx("span",{className:"team-logo-badge",children:e.jsx("img",{className:"team-logo-image",src:N[C.team1.name]||Xs(C.team1.name),alt:`${C.team1.name} logo`,loading:"lazy",onError:j=>{j.currentTarget.onerror=null,j.currentTarget.src=Xs(C.team1.name)}})}),e.jsxs("div",{className:"team-info",children:[e.jsx("span",{className:"team-name",children:C.team1.name}),e.jsx("span",{className:"team-abbr",children:C.team1.abbr})]}),e.jsx("span",{className:"score",children:C.score1})]}),e.jsx("div",{className:"vs-separator",children:"vs"}),e.jsxs("div",{className:"team-box",children:[e.jsx("span",{className:"team-logo-badge",children:e.jsx("img",{className:"team-logo-image",src:N[C.team2.name]||Xs(C.team2.name),alt:`${C.team2.name} logo`,loading:"lazy",onError:j=>{j.currentTarget.onerror=null,j.currentTarget.src=Xs(C.team2.name)}})}),e.jsxs("div",{className:"team-info",children:[e.jsx("span",{className:"team-name",children:C.team2.name}),e.jsx("span",{className:"team-abbr",children:C.team2.abbr})]}),e.jsx("span",{className:"score",children:C.score2})]})]}),C.odds&&e.jsx("div",{className:"match-odds",children:e.jsxs("div",{className:"odds-row",children:[w&&e.jsxs("div",{className:"odds-cell",children:[e.jsx("span",{className:"odds-label",children:"Spread"}),e.jsxs("div",{className:"odds-values-group",children:[e.jsx("button",{className:"odds-value-btn",onClick:()=>D(C.id,C.team1.name,"spreads",C.rawMatch.odds?.markets?.find(j=>j.key==="spreads")?.outcomes.find(j=>j.name===C.team1.name)?.price,`${C.team1.name} vs ${C.team2.name}`,"Spread"),children:C.odds.spread[0]}),e.jsx("button",{className:"odds-value-btn",onClick:()=>D(C.id,C.team2.name,"spreads",C.rawMatch.odds?.markets?.find(j=>j.key==="spreads")?.outcomes.find(j=>j.name===C.team2.name)?.price,`${C.team1.name} vs ${C.team2.name}`,"Spread"),children:C.odds.spread[1]})]})]}),z&&e.jsxs("div",{className:"odds-cell",children:[e.jsx("span",{className:"odds-label",children:"Moneyline"}),e.jsxs("div",{className:"odds-values-group",children:[e.jsx("button",{className:"odds-value-btn",onClick:()=>D(C.id,C.team1.name,"h2h",C.rawMatch.odds?.markets?.find(j=>j.key==="h2h")?.outcomes.find(j=>j.name===C.team1.name)?.price,`${C.team1.name} vs ${C.team2.name}`,"Moneyline"),children:C.odds.moneyline[0]}),e.jsx("button",{className:"odds-value-btn",onClick:()=>D(C.id,C.team2.name,"h2h",C.rawMatch.odds?.markets?.find(j=>j.key==="h2h")?.outcomes.find(j=>j.name===C.team2.name)?.price,`${C.team1.name} vs ${C.team2.name}`,"Moneyline"),children:C.odds.moneyline[1]})]})]}),L&&e.jsxs("div",{className:"odds-cell",children:[e.jsx("span",{className:"odds-label",children:"Total"}),e.jsxs("div",{className:"odds-values-group",children:[e.jsx("button",{className:"odds-value-btn",onClick:()=>D(C.id,"Over","totals",C.rawMatch.odds?.markets?.find(j=>j.key==="totals")?.outcomes.find(j=>j.name.toLowerCase().includes("over"))?.price,`${C.team1.name} vs ${C.team2.name}`,"Total"),children:C.odds.total[0]}),e.jsx("button",{className:"odds-value-btn",onClick:()=>D(C.id,"Under","totals",C.rawMatch.odds?.markets?.find(j=>j.key==="totals")?.outcomes.find(j=>j.name.toLowerCase().includes("under"))?.price,`${C.team1.name} vs ${C.team2.name}`,"Total"),children:C.odds.total[1]})]})]})]})}),e.jsx("div",{className:"match-footer",style:{justifyContent:"center",padding:"10px"},children:e.jsx("span",{style:{fontSize:"0.8em",color:"#888"},children:"Click any odds to place your bet"})})]},C.id))}),p==="scoreboards"&&e.jsx("div",{className:"scoreboards-section",children:b.scoreboards.map((C,j)=>e.jsx("div",{className:"scoreboard-card",children:e.jsx("div",{className:"scoreboard-scores",children:Object.entries(C).map(([S,$])=>e.jsxs("div",{className:"score-cell",children:[e.jsx("span",{className:"score-label",children:S}),e.jsx("span",{className:"score-value",children:$})]},S))})},j))})]})},uv=({selectedSports:l=[],activeBetMode:r="straight"})=>{const c=l.length===0,d=(g,x)=>{for(const b of g){if(b.id===x)return b;if(b.children){const f=d(b.children,x);if(f)return f}}return null},h=l.length>0?l[0]:null,p=h?d(fd,h):null;if(p&&p.type==="props-plus")return e.jsx("main",{className:"dash-main",style:{padding:"20px"},children:e.jsxs("div",{style:{background:"#fff",padding:"20px",borderRadius:"8px",border:"1px solid #e0e0e0",textAlign:"center"},children:[e.jsx("h2",{style:{color:"#007bff"},children:p.label}),e.jsxs("p",{style:{color:"#666",marginTop:"10px"},children:["Props Plus content for ",e.jsx("strong",{children:p.label})," goes here."]}),e.jsxs("div",{style:{marginTop:"20px",display:"inline-block",padding:"10px 20px",background:"#f5f5f5",borderRadius:"4px",fontSize:"14px"},children:["Custom View Component for Type: ",p.type]})]})});const N=(()=>{if(c)return[{sportId:null,filter:null,status:"live-upcoming"}];if(l.includes("up-next"))return[{sportId:null,filter:null,status:"upcoming"}];if(l.includes("featured"))return[{sportId:null,filter:null,status:"live-upcoming"}];if(l.includes("commercial-live"))return[{sportId:null,filter:null,status:"live"}];const g=[],x=new Set;return l.forEach(b=>{b==="up-next"||b==="featured"||b==="commercial-live"||(b==="football"?x.has("nfl")||(g.push({sportId:"nfl",filter:null}),x.add("nfl")):b==="basketball"?x.has("nba")||(g.push({sportId:"nba",filter:null}),x.add("nba")):b==="baseball"?x.has("mlb")||(g.push({sportId:"mlb",filter:null}),x.add("mlb")):b==="hockey"?x.has("nhl")||(g.push({sportId:"nhl",filter:null}),x.add("nhl")):b==="soccer"?x.has("epl")||(g.push({sportId:"epl",filter:null}),x.add("epl")):b==="nfl"&&!x.has("nfl")?(g.push({sportId:"nfl",filter:null}),x.add("nfl")):b.startsWith("nfl-")&&(b.includes("half")||b.includes("quarter"))?x.has("nfl")||(g.push({sportId:"nfl",filter:b}),x.add("nfl")):b==="ncaa-football"&&!x.has("ncaaf")?(g.push({sportId:"ncaaf",filter:null}),x.add("ncaaf")):b.startsWith("ncaa-")&&(b.includes("half")||b.includes("quarter"))?x.has("ncaaf")||(g.push({sportId:"ncaaf",filter:b}),x.add("ncaaf")):b==="nfl-1st-scoring"||b==="nfl-1st-td-scorer"||b==="nfl-anytime-td"||b==="nfl-margin-victory"||b==="nfl-player-props"?x.has("nfl")||(g.push({sportId:"nfl",filter:b}),x.add("nfl")):b==="mlb"&&!x.has("mlb")?(g.push({sportId:"mlb",filter:null}),x.add("mlb")):b==="nba"&&!x.has("nba")?(g.push({sportId:"nba",filter:null}),x.add("nba")):x.has(b)||(g.push({sportId:b,filter:null}),x.add(b)))}),g.length>0?g:[{sportId:null,filter:null}]})();return e.jsxs("main",{className:"dash-main",children:[N.map((g,x)=>e.jsx(ys.Fragment,{children:e.jsx(dv,{sportId:g.sportId,selectedItems:l,filter:g.filter,status:g.status||"live-upcoming",activeBetMode:r})},`${g.sportId}-${x}`)),l.length===0&&e.jsxs("div",{style:{textAlign:"center",padding:"30px",color:"#666"},children:[e.jsx("h3",{children:"Showing all sports"}),e.jsx("p",{style:{fontSize:"13px"},children:"Use the sidebar to filter by a specific sport."})]})]})},hv=()=>{const[l,r]=u.useState("live-upcoming"),[c,d]=u.useState("all"),[h,p]=u.useState(""),[y,N]=u.useState("all"),[g,x]=u.useState(new Set),[b,f]=u.useState(null),v=fi({status:l}),A=(F="")=>{if(!F)return"Unknown";const k=F.toString().split("_").filter(Boolean);return k.length===1?k[0].toUpperCase().replace("-"," "):`${k[0].charAt(0).toUpperCase()+k[0].slice(1)} ${k.slice(1).join(" ").toUpperCase().replace("-"," ")}`},E=u.useMemo(()=>{let k=Array.isArray(v)?v:[];c!=="all"&&(k=k.filter(M=>(M.sport||"").toString()===c));const I=h.trim().toLowerCase();return I&&(k=k.filter(M=>(M.homeTeam||M.home_team||"").toString().toLowerCase().includes(I)||(M.awayTeam||M.away_team||"").toString().toLowerCase().includes(I))),k},[v,c,h]),D=u.useMemo(()=>{const F=Array.isArray(v)?v:[],k=new Map;return F.forEach(I=>{const M=(I.sport||"unknown").toString(),ae=k.get(M)||{key:M,label:A(M),count:0};ae.count+=1,k.set(M,ae)}),Array.from(k.values()).sort((I,M)=>M.count-I.count)},[v]),R=u.useMemo(()=>{const F=new Map;return E.forEach(k=>{const I=(k.sport||"unknown").toString();F.has(I)||F.set(I,[]),F.get(I).push(k)}),Array.from(F.entries()).map(([k,I])=>({sport:k,label:A(k),items:I}))},[E]),w=[{id:"live-upcoming",label:"Live + Upcoming"},{id:"live",label:"Live"},{id:"upcoming",label:"Upcoming"}],z=(F,k)=>(F?.odds?.markets||[]).find(M=>(M.key||"").toLowerCase()===k)||null,L=(F,k)=>{const I=z(F,"spreads");if(!I||!I.outcomes)return{point:"-",price:"-"};const M=I.outcomes.find(ae=>(ae.name||"").toLowerCase()===(k||"").toLowerCase());return M?{point:M.point??"-",price:M.price??"-"}:{point:"-",price:"-"}},C=(F,k)=>{const I=z(F,"totals");if(!I||!I.outcomes)return{point:"-",price:"-"};const M=I.outcomes.find(ae=>(ae.name||"").toLowerCase()===k);return M?{point:M.point??"-",price:M.price??"-"}:{point:"-",price:"-"}},j=(F,k)=>{const I=z(F,"h2h");if(!I||!I.outcomes)return"-";const M=I.outcomes.find(ae=>(ae.name||"").toLowerCase()===(k||"").toLowerCase());return M?M.price??"-":"-"},S=F=>{x(k=>{const I=new Set(k);return I.has(F)?I.delete(F):I.add(F),I})},$=()=>{x(new Set(R.map(F=>F.sport)))},V=()=>{x(new Set)},B=({match:F,selection:k,marketType:I,odds:M,marketLabel:ae})=>{if(M==="-"||M===void 0||M===null)return;const H=F.homeTeam||F.home_team||"Home",G=F.awayTeam||F.away_team||"Away",ie=F.id||F._id||F.externalId,je=`${ie}-${I}-${k}`;f(je),window.dispatchEvent(new CustomEvent("betslip:add",{detail:{matchId:ie,selection:k,marketType:I,odds:parseFloat(M),matchName:`${H} vs ${G}`,marketLabel:ae}}))},oe=()=>{window.dispatchEvent(new CustomEvent("matches:refresh"))};return e.jsx("div",{className:"prime-live-wrapper",children:e.jsxs("div",{className:"prime-layout",children:[e.jsxs("aside",{className:"prime-sidebar",children:[e.jsx("div",{className:"prime-sidebar-search",children:e.jsx("input",{type:"text",className:"prime-sidebar-input",placeholder:"Filter Teams...",value:h,onChange:F=>p(F.target.value)})}),e.jsxs("div",{className:`prime-sidebar-item ${c==="all"?"active":""}`,onClick:()=>d("all"),role:"button",children:[e.jsxs("span",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsx("i",{className:"fa-solid fa-trophy"})," All Sports"]}),e.jsx("span",{className:"prime-badge",children:(v||[]).length})]}),D.map(F=>e.jsxs("div",{className:`prime-sidebar-item ${c===F.key?"active":""}`,onClick:()=>d(F.key),role:"button",children:[e.jsxs("span",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsx("i",{className:"fa-solid fa-medal"})," ",F.label]}),e.jsx("span",{className:"prime-badge",children:F.count})]},F.key))]}),e.jsxs("main",{className:"prime-main",children:[e.jsxs("div",{className:"prime-tools-bar",children:[e.jsxs("div",{className:"prime-toolbar-left",children:[w.map(F=>e.jsx("button",{className:`prime-status-pill ${l===F.id?"active":""}`,onClick:()=>r(F.id),children:F.label},F.id)),e.jsxs("button",{className:"prime-refresh-btn",onClick:oe,children:[e.jsx("i",{className:"fa-solid fa-arrows-rotate"})," Refresh"]})]}),e.jsxs("div",{className:"prime-toolbar-right",children:[e.jsxs("div",{className:"prime-market-toggle",children:[e.jsx("button",{className:y==="all"?"active":"",onClick:()=>N("all"),children:"All"}),e.jsx("button",{className:y==="spread"?"active":"",onClick:()=>N("spread"),children:"Spread"}),e.jsx("button",{className:y==="total"?"active":"",onClick:()=>N("total"),children:"Total"}),e.jsx("button",{className:y==="moneyline"?"active":"",onClick:()=>N("moneyline"),children:"Moneyline"})]}),e.jsxs("button",{className:"prime-text-btn",onClick:$,children:[e.jsx("i",{className:"fa-solid fa-compress"})," Collapse"]}),e.jsxs("button",{className:"prime-text-btn",onClick:V,children:[e.jsx("i",{className:"fa-solid fa-expand"})," Expand"]})]})]}),e.jsxs("div",{className:"prime-subtitle",children:["Showing ",e.jsx("strong",{children:c==="all"?"All Sports":A(c)})," (",E.length,")"]}),R.length===0?e.jsxs("div",{className:"prime-empty-state",children:[e.jsx("i",{className:"fa-solid fa-calendar-xmark"}),e.jsx("h3",{children:"No matches found"}),e.jsx("p",{children:"Try another filter or refresh the feed."})]}):R.map(F=>e.jsxs("div",{className:"prime-match-group",children:[e.jsxs("div",{className:"prime-match-header",onClick:()=>S(F.sport),role:"button",children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-flag"})," ",F.label]}),e.jsxs("span",{className:"prime-group-meta",children:[e.jsxs("em",{children:[F.items.length," games"]}),e.jsx("i",{className:`fa-solid ${g.has(F.sport)?"fa-chevron-down":"fa-chevron-up"}`})]})]}),!g.has(F.sport)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"prime-header-row",children:[e.jsx("div",{children:"Match Info"}),e.jsxs("div",{className:"prime-markets-header",children:[(y==="all"||y==="spread")&&e.jsx("span",{children:"Spread"}),(y==="all"||y==="total")&&e.jsx("span",{children:"Total"}),(y==="all"||y==="moneyline")&&e.jsx("span",{children:"Moneyline"})]})]}),F.items.map(k=>{const I=k.homeTeam||k.home_team||"Home",M=k.awayTeam||k.away_team||"Away",ae=k.score?.score_home??"-",H=k.score?.score_away??"-",G=k.score?.period||"",je=(k.status||"").toString().toLowerCase()==="live"||String(k.score?.event_status||"").toUpperCase().includes("IN_PROGRESS"),K=k.startTime?new Date(k.startTime):null,_=je&&G?`${G}`:K?K.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",Q=k.id||k._id||k.externalId,se=L(k,I),J=L(k,M),Z=C(k,"over"),P=C(k,"under"),q=j(k,I),ue=j(k,M);return e.jsxs("div",{className:"prime-match-row",children:[e.jsxs("div",{className:"prime-match-teams",children:[e.jsxs("div",{className:"prime-team",children:[e.jsx("span",{children:I}),e.jsx("span",{className:"prime-score",children:ae})]}),e.jsxs("div",{className:"prime-team",children:[e.jsx("span",{children:M}),e.jsx("span",{className:"prime-score",children:H})]}),e.jsxs("div",{className:"prime-time-info",children:[e.jsx("span",{className:`prime-live-pill ${je?"live":""}`,children:je?"LIVE":"SCHEDULED"}),e.jsxs("span",{children:[e.jsx("i",{className:"fa-regular fa-clock"})," ",_]})]})]}),e.jsxs("div",{className:"prime-odds-grid",children:[(y==="all"||y==="spread")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`prime-odd-btn ${b===`${Q}-spreads-${I}`?"selected":""}`,disabled:se.price==="-",onClick:()=>B({match:k,selection:I,marketType:"spreads",odds:se.price,marketLabel:"Spread"}),children:[e.jsx("span",{children:se.point!=="-"?se.point:"-"}),e.jsx("span",{className:"prime-odd-val",children:se.price})]}),e.jsxs("button",{className:`prime-odd-btn ${b===`${Q}-spreads-${M}`?"selected":""}`,disabled:J.price==="-",onClick:()=>B({match:k,selection:M,marketType:"spreads",odds:J.price,marketLabel:"Spread"}),children:[e.jsx("span",{children:J.point!=="-"?J.point:"-"}),e.jsx("span",{className:"prime-odd-val",children:J.price})]})]}),(y==="all"||y==="total")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`prime-odd-btn ${b===`${Q}-totals-Over`?"selected":""}`,disabled:Z.price==="-",onClick:()=>B({match:k,selection:"Over",marketType:"totals",odds:Z.price,marketLabel:"Total"}),children:[e.jsxs("span",{children:["o",Z.point!=="-"?Z.point:"-"]}),e.jsx("span",{className:"prime-odd-val",children:Z.price})]}),e.jsxs("button",{className:`prime-odd-btn ${b===`${Q}-totals-Under`?"selected":""}`,disabled:P.price==="-",onClick:()=>B({match:k,selection:"Under",marketType:"totals",odds:P.price,marketLabel:"Total"}),children:[e.jsxs("span",{children:["u",P.point!=="-"?P.point:"-"]}),e.jsx("span",{className:"prime-odd-val",children:P.price})]})]}),(y==="all"||y==="moneyline")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`prime-odd-btn ${b===`${Q}-h2h-${I}`?"selected":""}`,disabled:q==="-",onClick:()=>B({match:k,selection:I,marketType:"h2h",odds:q,marketLabel:"Moneyline"}),children:[e.jsx("span",{children:I}),e.jsx("span",{className:"prime-odd-val",children:q})]}),e.jsxs("button",{className:`prime-odd-btn ${b===`${Q}-h2h-${M}`?"selected":""}`,disabled:ue==="-",onClick:()=>B({match:k,selection:M,marketType:"h2h",odds:ue,marketLabel:"Moneyline"}),children:[e.jsx("span",{children:M}),e.jsx("span",{className:"prime-odd-val",children:ue})]})]})]})]},Q)})]})]},F.sport))]}),e.jsxs("aside",{className:"prime-right-panel",children:[e.jsxs("div",{className:"prime-slip-tabs",children:[e.jsx("div",{className:"prime-slip-tab active",children:"Prime Live"}),e.jsx("div",{className:"prime-slip-tab",children:"Insights"})]}),e.jsxs("div",{className:"prime-slip-content",children:[e.jsxs("div",{className:"prime-side-card",children:[e.jsx("h4",{children:"Live Filters"}),e.jsx("p",{children:"Use the status pills, sport list, and market toggles to fetch and view different data slices from API in real-time."})]}),e.jsxs("div",{className:"prime-side-card",children:[e.jsx("h4",{children:"Quick Actions"}),e.jsxs("button",{className:"prime-side-btn",onClick:oe,children:[e.jsx("i",{className:"fa-solid fa-arrows-rotate"})," Refresh Odds"]}),e.jsxs("button",{className:"prime-side-btn",onClick:()=>d("all"),children:[e.jsx("i",{className:"fa-solid fa-list"})," Show All Sports"]}),e.jsxs("button",{className:"prime-side-btn",onClick:V,children:[e.jsx("i",{className:"fa-solid fa-up-right-and-down-left-from-center"})," Expand Leagues"]})]})]})]})]})})},mv=[{id:"in_play",label:"In-Play"},{id:"history",label:"History"},{id:"live_tv",label:"Live TV"}],fv=[{id:"all",label:"All"},{id:"spread",label:"Spread"},{id:"total",label:"Total"},{id:"moneyline",label:"Moneyline"}],_f=(l="")=>{if(!l)return"Unknown";const r=l.toString().split("_").filter(Boolean);return r.length===1?r[0].toUpperCase().replace("-"," "):`${r[0].charAt(0).toUpperCase()+r[0].slice(1)} ${r.slice(1).join(" ").toUpperCase().replace("-"," ")}`},pv=l=>{const r=(l?.status||"").toString().toLowerCase(),c=(l?.score?.event_status||"").toString().toUpperCase();return r==="live"||c.includes("IN_PROGRESS")||c.includes("LIVE")},gv=l=>{const r=(l?.status||"").toString().toLowerCase(),c=(l?.score?.event_status||"").toString().toUpperCase();return["finished","final","closed","settled","cancelled","canceled"].includes(r)||c.includes("FINAL")||c.includes("COMPLETE")||c.includes("CLOSED")},wa=l=>l?.id||l?._id||l?.externalId,Ad=(l,r)=>(l?.odds?.markets||[]).find(d=>(d.key||"").toLowerCase()===r)||null,Df=(l,r)=>{const c=Ad(l,"h2h");return c?.outcomes?c.outcomes.find(h=>(h.name||"").toLowerCase()===(r||"").toLowerCase())?.price??"-":"-"},Bf=(l,r)=>{const c=Ad(l,"spreads");if(!c?.outcomes)return{label:"-",price:"-"};const d=c.outcomes.find(p=>(p.name||"").toLowerCase()===(r||"").toLowerCase());return d?{label:`${d.point??"-"}`,price:d.price??"-"}:{label:"-",price:"-"}},Rf=(l,r)=>{const c=Ad(l,"totals");if(!c?.outcomes)return{label:"-",price:"-"};const d=c.outcomes.find(h=>(h.name||"").toLowerCase()===r);return d?{label:`${r==="over"?"O":"U"} ${d.point??"-"}`,price:d.price??"-"}:{label:"-",price:"-"}},xv=()=>{const[l,r]=u.useState("in_play"),[c,d]=u.useState("all"),[h,p]=u.useState(null),[y,N]=u.useState("all"),[g,x]=u.useState(null),[b,f]=u.useState("bet_slip"),[v,A]=u.useState([]),[E,D]=u.useState(!1),[R,w]=u.useState(""),[z,L]=u.useState({game_winner:!1,spread:!1,total:!1}),j=fi({status:l==="history"?"all":"live-upcoming"}),S=u.useMemo(()=>{const J=Array.isArray(j)?j:[];return l==="history"?J.filter(gv):J.filter(pv)},[j,l]),$=u.useMemo(()=>{const J=new Map;return S.forEach(Z=>{const P=(Z.sport||"unknown").toString(),q=J.get(P)||{key:P,label:_f(P),count:0};q.count+=1,J.set(P,q)}),Array.from(J.values()).sort((Z,P)=>P.count-Z.count)},[S]),V=u.useMemo(()=>c==="all"?S:S.filter(J=>(J.sport||"").toString()===c),[S,c]);u.useEffect(()=>{h&&V.some(J=>wa(J)===h)||p(wa(V[0])||null)},[h,V]),u.useEffect(()=>{(async()=>{if(b!=="my_bets")return;const Z=localStorage.getItem("token");if(!Z){A([]),w("Please login to view your bets.");return}try{D(!0),w("");const P=await kd(Z);A(Array.isArray(P)?P:[])}catch(P){w(P.message||"Failed to load bets")}finally{D(!1)}})()},[b]);const B=u.useMemo(()=>V.find(J=>wa(J)===h)||V[0]||null,[V,h]),oe=B?.homeTeam||B?.home_team||"Home",F=B?.awayTeam||B?.away_team||"Away",k=B?.score?.score_home??"-",I=B?.score?.score_away??"-",M=B?.score?.period||(l==="history"?"Final":"Live"),ae=B?Bf(B,oe):{label:"-",price:"-"},H=B?Bf(B,F):{label:"-",price:"-"},G=B?Rf(B,"over"):{label:"-",price:"-"},ie=B?Rf(B,"under"):{label:"-",price:"-"},je=B?Df(B,oe):"-",K=B?Df(B,F):"-",_=()=>{window.dispatchEvent(new CustomEvent("matches:refresh"))},Q=J=>{L(Z=>({...Z,[J]:!Z[J]}))},se=({selection:J,marketType:Z,odds:P,marketLabel:q})=>{if(!B||P==="-"||P===null||P===void 0)return;const ue=wa(B),me=`${ue}-${Z}-${J}`;x(me),window.dispatchEvent(new CustomEvent("betslip:add",{detail:{matchId:ue,selection:J,marketType:Z,odds:parseFloat(P),matchName:`${oe} vs ${F}`,marketLabel:q}}))};return e.jsxs("div",{className:"ultra-live-wrapper",children:[e.jsxs("aside",{className:"ultra-sidebar",children:[e.jsx("div",{className:"ultra-subnav",children:mv.map(J=>e.jsx("button",{className:`ultra-subnav-item ${l===J.id?"active":""}`,onClick:()=>r(J.id),children:J.label},J.id))}),e.jsx("div",{className:"ultra-sidebar-header",children:"Sports"}),e.jsxs("div",{className:`ultra-sidebar-sport ${c==="all"?"active":""}`,onClick:()=>d("all"),children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-trophy"})," All Sports"]}),e.jsx("span",{className:"ultra-chip",children:S.length})]}),$.map(J=>e.jsxs("div",{className:`ultra-sidebar-sport ${c===J.key?"active":""}`,onClick:()=>d(J.key),children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-medal"})," ",J.label]}),e.jsx("span",{className:"ultra-chip",children:J.count})]},J.key)),e.jsx("div",{className:"ultra-sidebar-header",children:"Matches"}),e.jsx("div",{className:"ultra-match-list",children:V.length===0?e.jsx("div",{className:"ultra-empty-mini",children:"No matches for this filter."}):V.map(J=>{const Z=wa(J),P=Z===wa(B),q=J.homeTeam||J.home_team,ue=J.awayTeam||J.away_team;return e.jsxs("div",{className:`ultra-sidebar-match ${P?"active":""}`,onClick:()=>p(Z),children:[e.jsxs("div",{className:"ultra-sidebar-match-teams",children:[e.jsx("span",{children:q}),e.jsx("span",{className:"ultra-sidebar-match-score",children:J.score?.score_home??"-"})]}),e.jsxs("div",{className:"ultra-sidebar-match-teams",children:[e.jsx("span",{children:ue}),e.jsx("span",{className:"ultra-sidebar-match-score",children:J.score?.score_away??"-"})]}),e.jsx("div",{className:"ultra-sidebar-match-meta",children:J.score?.period||(l==="history"?"Final":"Live")})]},Z)})})]}),e.jsxs("main",{className:"ultra-main",children:[e.jsxs("div",{className:"ultra-toolbar",children:[e.jsx("div",{className:"ultra-market-tabs",children:fv.map(J=>e.jsx("button",{className:y===J.id?"active":"",onClick:()=>N(J.id),children:J.label},J.id))}),e.jsxs("button",{className:"ultra-refresh",onClick:_,children:[e.jsx("i",{className:"fa-solid fa-arrows-rotate"})," Refresh"]})]}),e.jsxs("div",{className:"ultra-video-area",children:[e.jsx("div",{className:"ultra-live-indicator",children:l==="history"?"ARCHIVE":"LIVE"}),e.jsxs("div",{className:"ultra-video-center",children:[e.jsx("i",{className:"fa-regular fa-circle-play"}),e.jsx("span",{children:l==="history"?"Match Replay Feed":"Live Stream Feed"})]}),e.jsxs("div",{className:"ultra-video-score",children:[oe," ",k," - ",I," ",F]})]}),e.jsxs("div",{className:"ultra-markets-container",children:[e.jsxs("div",{className:"ultra-market-header",children:[e.jsxs("h2",{children:[oe," @ ",F]}),e.jsx("div",{className:"ultra-market-status",children:M})]}),(y==="all"||y==="moneyline")&&e.jsxs("div",{className:"ultra-market-section",children:[e.jsxs("button",{className:"ultra-market-title",onClick:()=>Q("game_winner"),children:[e.jsx("span",{children:"Game Winner"}),e.jsx("i",{className:`fa-solid ${z.game_winner?"fa-chevron-down":"fa-chevron-up"}`})]}),!z.game_winner&&e.jsx("div",{className:"ultra-market-rows",children:e.jsxs("div",{className:"ultra-market-row",children:[e.jsxs("button",{className:`ultra-odds-box ${g===`${wa(B)}-h2h-${oe}`?"selected":""}`,disabled:je==="-",onClick:()=>se({selection:oe,marketType:"h2h",odds:je,marketLabel:"Moneyline"}),children:[e.jsx("span",{className:"ultra-odds-label",children:oe}),e.jsx("span",{className:"ultra-odds-val",children:je})]}),e.jsxs("button",{className:`ultra-odds-box ${g===`${wa(B)}-h2h-${F}`?"selected":""}`,disabled:K==="-",onClick:()=>se({selection:F,marketType:"h2h",odds:K,marketLabel:"Moneyline"}),children:[e.jsx("span",{className:"ultra-odds-label",children:F}),e.jsx("span",{className:"ultra-odds-val",children:K})]})]})})]}),(y==="all"||y==="spread")&&e.jsxs("div",{className:"ultra-market-section",children:[e.jsxs("button",{className:"ultra-market-title",onClick:()=>Q("spread"),children:[e.jsx("span",{children:"Spread"}),e.jsx("i",{className:`fa-solid ${z.spread?"fa-chevron-down":"fa-chevron-up"}`})]}),!z.spread&&e.jsx("div",{className:"ultra-market-rows",children:e.jsxs("div",{className:"ultra-market-row",children:[e.jsxs("button",{className:`ultra-odds-box ${g===`${wa(B)}-spreads-${oe}`?"selected":""}`,disabled:ae.price==="-",onClick:()=>se({selection:oe,marketType:"spreads",odds:ae.price,marketLabel:"Spread"}),children:[e.jsx("span",{className:"ultra-odds-label",children:ae.label}),e.jsx("span",{className:"ultra-odds-val",children:ae.price})]}),e.jsxs("button",{className:`ultra-odds-box ${g===`${wa(B)}-spreads-${F}`?"selected":""}`,disabled:H.price==="-",onClick:()=>se({selection:F,marketType:"spreads",odds:H.price,marketLabel:"Spread"}),children:[e.jsx("span",{className:"ultra-odds-label",children:H.label}),e.jsx("span",{className:"ultra-odds-val",children:H.price})]})]})})]}),(y==="all"||y==="total")&&e.jsxs("div",{className:"ultra-market-section",children:[e.jsxs("button",{className:"ultra-market-title",onClick:()=>Q("total"),children:[e.jsx("span",{children:"Total"}),e.jsx("i",{className:`fa-solid ${z.total?"fa-chevron-down":"fa-chevron-up"}`})]}),!z.total&&e.jsx("div",{className:"ultra-market-rows",children:e.jsxs("div",{className:"ultra-market-row",children:[e.jsxs("button",{className:`ultra-odds-box ${g===`${wa(B)}-totals-Over`?"selected":""}`,disabled:G.price==="-",onClick:()=>se({selection:"Over",marketType:"totals",odds:G.price,marketLabel:"Total"}),children:[e.jsx("span",{className:"ultra-odds-label",children:G.label}),e.jsx("span",{className:"ultra-odds-val",children:G.price})]}),e.jsxs("button",{className:`ultra-odds-box ${g===`${wa(B)}-totals-Under`?"selected":""}`,disabled:ie.price==="-",onClick:()=>se({selection:"Under",marketType:"totals",odds:ie.price,marketLabel:"Total"}),children:[e.jsx("span",{className:"ultra-odds-label",children:ie.label}),e.jsx("span",{className:"ultra-odds-val",children:ie.price})]})]})})]})]})]}),e.jsxs("aside",{className:"ultra-right-panel",children:[e.jsxs("div",{className:"ultra-tracker",children:[e.jsxs("div",{className:"ultra-tracker-top",children:[e.jsx("span",{children:_f(B?.sport)}),e.jsx("span",{children:M})]}),e.jsxs("div",{className:"ultra-tracker-body",children:[e.jsx("div",{className:"ultra-tracker-team",children:oe}),e.jsxs("div",{className:"ultra-tracker-score",children:[k," - ",I]}),e.jsx("div",{className:"ultra-tracker-team",children:F})]})]}),e.jsxs("div",{className:"ultra-slip-header",children:[e.jsx("button",{className:`ultra-slip-tab ${b==="bet_slip"?"active":""}`,onClick:()=>f("bet_slip"),children:"Bet Slip"}),e.jsx("button",{className:`ultra-slip-tab ${b==="my_bets"?"active":""}`,onClick:()=>f("my_bets"),children:"My Bets"})]}),e.jsxs("div",{className:"ultra-slip-body",children:[b==="bet_slip"&&e.jsxs(e.Fragment,{children:[e.jsx("h4",{children:"Slip Ready"}),e.jsx("p",{children:"Click any odds to add selections to your active betting panel."})]}),b==="my_bets"&&e.jsxs(e.Fragment,{children:[E&&e.jsx("p",{children:"Loading bets..."}),!E&&R&&e.jsx("p",{children:R}),!E&&!R&&v.length===0&&e.jsx("p",{children:"No bets found."}),!E&&!R&&v.length>0&&e.jsx("div",{className:"ultra-my-bets-list",children:v.slice(0,12).map(J=>e.jsxs("div",{className:"ultra-my-bet-item",children:[e.jsxs("div",{className:"ultra-my-bet-top",children:[e.jsx("span",{children:(J.type||"bet").toUpperCase()}),e.jsx("span",{className:`ultra-bet-status ${J.status||"pending"}`,children:J.status||"pending"})]}),e.jsxs("div",{className:"ultra-my-bet-row",children:["Risk: $",Number(J.amount||0).toFixed(2)]}),e.jsxs("div",{className:"ultra-my-bet-row",children:["To Win: $",Number(J.potentialPayout||0).toFixed(2)]})]},J.id||J._id))})]})]})]})]})},ld={lobby:{label:"Lobby",icon:"fa-solid fa-table-cells-large"},table_games:{label:"Table Games",icon:"fa-solid fa-playing-cards"},slots:{label:"Slots",icon:"fa-solid fa-dice"},video_poker:{label:"Video Poker",icon:"fa-solid fa-heart"},specialty_games:{label:"Specialty Games",icon:"fa-solid fa-star"}},bv=()=>{const l=localStorage.getItem("token"),[r,c]=u.useState([]),[d,h]=u.useState("lobby"),[p,y]=u.useState(""),[N,g]=u.useState(""),[x,b]=u.useState(!1),[f,v]=u.useState([]),[A,E]=u.useState(!0),[D,R]=u.useState(""),[w,z]=u.useState(null),L=async()=>{if(l)try{const B=await pp(l);c(Array.isArray(B?.categories)?B.categories:[])}catch(B){console.error("Failed to load casino categories:",B)}},C=async()=>{if(!l){E(!1),R("Please login to access casino games.");return}try{E(!0),R("");const B=await gp({token:l,category:d,search:N,featured:x,page:1,limit:96});v(Array.isArray(B?.games)?B.games:[])}catch(B){console.error("Failed to load casino games:",B),R(B.message||"Failed to load casino games")}finally{E(!1)}};u.useEffect(()=>{L()},[]),u.useEffect(()=>{C()},[d,N,x]);const j=u.useMemo(()=>r.length===0?Object.entries(ld).map(([B,oe])=>({id:B,label:oe.label,count:0})):r.map(B=>{const oe=ld[B.id]||{label:B.label||B.id};return{id:B.id,label:oe.label,count:Number(B.count||0)}}),[r]),S=()=>{g(p.trim())},$=async B=>{if(!l){alert("Please login to launch casino games.");return}try{z(B);const oe=await xp(B,l);oe?.launchUrl?window.open(oe.launchUrl,"_blank","noopener,noreferrer"):alert("Launch URL is not available for this game yet.")}catch(oe){alert(oe.message||"Unable to launch game")}finally{z(null)}},V=(B,oe)=>`MIN: $${Number(B||0).toFixed(2)} | MAX: $${Number(oe||0).toFixed(2)}`;return e.jsxs("div",{className:"casino-wrapper",children:[e.jsxs("div",{className:"casino-subnav-bar",children:[e.jsx("div",{className:"casino-nav-items",children:j.map(B=>e.jsxs("button",{className:`casino-nav-item ${d===B.id?"active":""}`,onClick:()=>h(B.id),children:[e.jsx("span",{className:"casino-nav-icon",children:e.jsx("i",{className:ld[B.id]?.icon||"fa-solid fa-dice"})}),e.jsx("span",{children:B.label}),e.jsx("span",{className:"casino-count",children:B.count})]},B.id))}),e.jsxs("div",{className:"casino-search-container",children:[e.jsx("input",{type:"text",className:"casino-search-input",placeholder:"Search games",value:p,onChange:B=>y(B.target.value),onKeyDown:B=>B.key==="Enter"&&S()}),e.jsx("button",{className:"casino-search-btn",onClick:S,title:"Search games",children:e.jsx("i",{className:"fa-solid fa-magnifying-glass"})}),e.jsxs("button",{className:`casino-featured-btn ${x?"active":""}`,onClick:()=>b(B=>!B),children:[e.jsx("i",{className:"fa-solid fa-star"}),e.jsx("span",{children:"Featured"})]}),e.jsxs("button",{className:"casino-refresh-btn",onClick:C,children:[e.jsx("i",{className:"fa-solid fa-arrows-rotate"}),e.jsx("span",{children:"Refresh"})]})]})]}),A&&e.jsxs("div",{className:"casino-feedback-state",children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),e.jsx("span",{children:"Loading casino games..."})]}),!A&&D&&e.jsxs("div",{className:"casino-feedback-state error",children:[e.jsx("i",{className:"fa-solid fa-triangle-exclamation"}),e.jsx("span",{children:D})]}),!A&&!D&&f.length===0&&e.jsxs("div",{className:"casino-feedback-state",children:[e.jsx("i",{className:"fa-regular fa-folder-open"}),e.jsx("span",{children:"No games found for this filter."})]}),!A&&!D&&f.length>0&&e.jsx("div",{className:"casino-grid",children:f.map(B=>e.jsxs("article",{className:"casino-card",children:[e.jsxs("div",{className:"casino-card-image",style:{background:`linear-gradient(135deg, #0f172a, ${B.themeColor||"#0f5db3"})`},children:[B.imageUrl?e.jsx("img",{src:B.imageUrl,alt:B.name,className:"casino-game-image"}):e.jsx("span",{className:"casino-fallback-icon",children:e.jsx("i",{className:B.icon||"fa-solid fa-dice"})}),e.jsx("span",{className:`casino-status ${B.status}`,children:B.status}),e.jsx("div",{className:"play-overlay",children:e.jsx("i",{className:"fa-solid fa-play"})})]}),e.jsxs("div",{className:"casino-card-info",children:[e.jsxs("div",{className:"casino-card-top",children:[e.jsx("div",{className:"casino-game-title",children:B.name}),e.jsx("div",{className:"casino-provider",children:B.provider})]}),e.jsx("div",{className:"casino-bet-limits",children:V(B.minBet,B.maxBet)}),e.jsx("button",{className:"casino-play-btn",onClick:()=>$(B.id),disabled:w===B.id||B.status!=="active",children:w===B.id?"Launching...":"Play Now"})]})]},B.id))})]})},Of=[{id:"lobby",label:"All Games"},{id:"table_games",label:"Table Games"},{id:"slots",label:"Slots"},{id:"video_poker",label:"Video Poker"},{id:"specialty_games",label:"Specialty"}],Uf=(l="")=>{const r=l.toLowerCase();return r.includes("blackjack")?"blackjack":r.includes("roulette")?"roulette":r.includes("baccarat")?"baccarat":r.includes("poker")?"poker":r.includes("keno")?"special":"default"},yv=(l="")=>{const r=l.toLowerCase();return r.includes("blackjack")?"Blackjack":r.includes("roulette")?"Roulette":r.includes("baccarat")?"Baccarat":r.includes("poker")?"Poker":r.includes("slot")?"Slots":"Live"},jv=l=>{const r=["Sarah","James","Elena","Mike","Anna","Lucas","Sophia","Daniel","Eva","Noah"],c=String(l||"").length%r.length;return r[c]},vv=()=>{const l=localStorage.getItem("token"),[r,c]=u.useState([]),[d,h]=u.useState([]),[p,y]=u.useState("lobby"),[N,g]=u.useState(""),[x,b]=u.useState(!0),[f,v]=u.useState(""),[A,E]=u.useState(null),D=async()=>{if(l)try{const C=await pp(l);c(Array.isArray(C?.categories)?C.categories:[])}catch(C){console.error("Failed to fetch casino categories for live page:",C)}},R=async()=>{if(!l){b(!1),v("Please login to access live casino.");return}try{b(!0),v("");const C=await gp({token:l,category:p,search:N,page:1,limit:120});h(Array.isArray(C?.games)?C.games:[])}catch(C){v(C.message||"Failed to load live casino games")}finally{b(!1)}};u.useEffect(()=>{D()},[]),u.useEffect(()=>{R()},[p,N]);const w=u.useMemo(()=>{const C=r.reduce((j,S)=>(j[S.id]=Number(S.count||0),j),{});return Of.map(j=>({...j,count:j.id==="lobby"?Of.filter(S=>S.id!=="lobby").reduce((S,$)=>S+(C[$.id]||0),0):C[j.id]||0}))},[r]),z=u.useMemo(()=>d.find(C=>C.isFeatured)||d[0]||null,[d]),L=async C=>{if(l)try{E(C);const j=await xp(C,l);j?.launchUrl?window.open(j.launchUrl,"_blank","noopener,noreferrer"):alert("Launch URL is not available for this game")}catch(j){alert(j.message||"Unable to launch game")}finally{E(null)}};return e.jsxs("div",{className:"live-casino-wrapper",children:[e.jsx("section",{className:`live-hero ${Uf(z?.name)}`,children:e.jsxs("div",{className:"live-hero-content",children:[e.jsx("span",{className:"live-hero-badge",children:"Featured Table"}),e.jsx("h1",{children:z?.name||"Live Casino Lobby"}),e.jsx("p",{children:"Professional live-casino experience with real-time seats, game filtering, and direct launch from your wallet-enabled account."}),z&&e.jsxs("button",{className:"play-action-btn",onClick:()=>L(z.id),type:"button",disabled:A===z.id,children:[e.jsx("i",{className:"fa-solid fa-play"})," ",A===z.id?"Launching...":"Join Table"]})]})}),e.jsxs("div",{className:"live-lobby-container",children:[e.jsxs("div",{className:"live-topbar",children:[e.jsx("div",{className:"live-category-bar",children:w.map(C=>e.jsxs("button",{type:"button",className:`live-cat-btn ${p===C.id?"active":""}`,onClick:()=>y(C.id),children:[e.jsx("span",{children:C.label}),e.jsx("small",{children:C.count})]},C.id))}),e.jsx("input",{className:"live-search",type:"text",placeholder:"Search live casino games",value:N,onChange:C=>g(C.target.value)})]}),x&&e.jsx("div",{className:"live-state",children:"Loading live casino games..."}),!x&&f&&e.jsx("div",{className:"live-state error",children:f}),!x&&!f&&d.length===0&&e.jsx("div",{className:"live-state",children:"No games available for this filter."}),!x&&!f&&d.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"live-section-title",children:[e.jsx("i",{className:"fa-solid fa-fire"})," Recommended ",e.jsx("span",{children:"Live Tables"})]}),e.jsx("div",{className:"tables-grid",children:d.slice(0,24).map(C=>e.jsxs("article",{className:`live-table-card theme-${Uf(C.name)}`,children:[e.jsxs("div",{className:"table-preview",children:[e.jsx("div",{className:"live-badge",children:yv(C.name)}),e.jsxs("div",{className:"dealer-name",children:[e.jsx("i",{className:"fa-solid fa-user-tie"})," ",jv(C.name)]})]}),e.jsxs("div",{className:"table-info",children:[e.jsx("div",{className:"table-name",children:C.name}),e.jsxs("div",{className:"table-limits",children:[e.jsxs("span",{children:["Min: $",Number(C.minBet||0).toFixed(2)]}),e.jsxs("span",{children:["Max: $",Number(C.maxBet||0).toFixed(2)]})]}),e.jsx("button",{className:"join-table-btn",type:"button",disabled:A===C.id,onClick:()=>L(C.id),children:A===C.id?"Launching...":"Play Now"})]})]},C.id))})]})]})]})},Nv=()=>{const[l,r]=u.useState("props"),[c,d]=u.useState("builder"),[h,p]=u.useState("all"),[y,N]=u.useState(""),[g,x]=u.useState("popular"),[b,f]=u.useState(null),[v,A]=u.useState({}),[E,D]=u.useState(null),[R,w]=u.useState([]),[z,L]=u.useState(!1),[C,j]=u.useState(""),S=fi({status:"live-upcoming"}),$=u.useMemo(()=>{const I=new Map;return(S||[]).forEach(M=>{const ae=String(M.sport||"unknown").toLowerCase(),H=I.get(ae)||{id:ae,label:Sv(ae),count:0};H.count+=1,I.set(ae,H)}),Array.from(I.values()).sort((M,ae)=>ae.count-M.count)},[S]),V=u.useMemo(()=>{const I=y.trim().toLowerCase();return(S||[]).filter(M=>{const ae=String(M.sport||"unknown").toLowerCase();if(h!=="all"&&ae!==h)return!1;if(!I)return!0;const H=String(M.homeTeam||M.home_team||"").toLowerCase(),G=String(M.awayTeam||M.away_team||"").toLowerCase();return H.includes(I)||G.includes(I)})},[S,h,y]);u.useEffect(()=>{b&&V.some(I=>jn(I)===b)||f(jn(V[0])||null)},[V,b]);const B=u.useMemo(()=>V.find(I=>jn(I)===b)||V[0]||null,[V,b]),oe=u.useMemo(()=>{const I=B?.odds?.markets||[];if(!Array.isArray(I))return[];const ae={popular:["h2h","spreads","totals"],moneyline:["h2h"],spread:["spreads"],total:["totals"],all:null}[g];return I.filter(H=>ae===null||ae.includes(String(H.key||"").toLowerCase())).map(H=>({key:String(H.key||"market").toLowerCase(),title:wv(String(H.key||"market")),outcomes:Array.isArray(H.outcomes)?H.outcomes:[]}))},[B,g]);u.useEffect(()=>{if(c!=="my_bets")return;const I=localStorage.getItem("token");if(!I){w([]),j("Please login to view your bets.");return}(async()=>{try{L(!0),j("");const ae=await kd(I);w(Array.isArray(ae)?ae:[])}catch(ae){j(ae.message||"Failed to load bets")}finally{L(!1)}})()},[c]);const F=I=>{A(M=>({...M,[I]:!M[I]}))},k=(I,M)=>{if(!B||M?.price==null||M?.price==="-")return;const ae=jn(B),H=M.name||"Selection",G=Number(M.price);if(Number.isNaN(G))return;const ie=`${ae}-${I.key}-${H}`;D(ie),window.dispatchEvent(new CustomEvent("betslip:add",{detail:{matchId:ae,selection:H,marketType:I.key,odds:G,matchName:`${B.homeTeam||B.home_team} vs ${B.awayTeam||B.away_team}`,marketLabel:I.title}}))};return e.jsxs("div",{className:"props-container",children:[e.jsxs("div",{className:"props-mini-sidebar",children:[e.jsxs("button",{className:`props-ms-item ${l==="props"?"active":""}`,onClick:()=>r("props"),children:[e.jsx("div",{className:"props-ms-icon",children:e.jsx("i",{className:"fa-solid fa-chart-line"})}),e.jsx("div",{children:"PROPS+"})]}),e.jsxs("button",{className:`props-ms-item ${l==="horses"?"active":""}`,onClick:()=>r("horses"),children:[e.jsx("div",{className:"props-ms-icon",children:e.jsx("i",{className:"fa-solid fa-horse"})}),e.jsx("div",{children:"HORSES"})]})]}),e.jsxs("div",{className:"props-selection-sidebar",children:[e.jsxs("div",{className:"props-search-area",children:[e.jsx("div",{className:"props-search-header-row",children:e.jsx("span",{children:"Sports & Games"})}),e.jsx("input",{type:"text",className:"props-search-input",placeholder:"Search teams",value:y,onChange:I=>N(I.target.value)}),e.jsx("button",{className:"props-adv-search-btn",onClick:()=>window.dispatchEvent(new CustomEvent("matches:refresh")),children:"Refresh Board"})]}),e.jsxs("div",{className:"props-track-list",children:[e.jsxs("button",{className:`props-group-header sport-btn ${h==="all"?"active":""}`,onClick:()=>p("all"),children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-trophy"})," All Sports"]}),e.jsx("span",{className:"props-chip",children:V.length})]}),$.map(I=>e.jsxs("button",{className:`props-group-header sport-btn ${h===I.id?"active":""}`,onClick:()=>p(I.id),children:[e.jsx("span",{children:I.label}),e.jsx("span",{className:"props-chip",children:I.count})]},I.id))]}),e.jsx("div",{className:"props-search-area",children:e.jsxs("div",{className:"props-search-header-row",children:[e.jsx("span",{children:"Next Games"}),e.jsx("span",{children:V.length})]})}),e.jsx("div",{className:"props-track-list",children:V.map(I=>{const M=jn(I),ae=M===jn(B);return e.jsxs("button",{className:`props-track-item ${ae?"active":""}`,onClick:()=>f(M),children:[e.jsx("span",{children:I.homeTeam||I.home_team}),e.jsx("span",{children:I.awayTeam||I.away_team}),e.jsx("div",{className:"props-track-time-badges",children:e.jsx("span",{className:"props-time-badge",children:kv(I.startTime)})})]},M)})})]}),e.jsxs("div",{className:"props-main",children:[e.jsxs("div",{className:"props-main-header top",children:[e.jsx("div",{className:"props-main-title",children:"Props Builder"}),e.jsxs("div",{className:"props-main-actions",children:[e.jsx("button",{className:`props-top-btn ${c==="builder"?"active":""}`,onClick:()=>d("builder"),children:"Build Mode"}),e.jsx("button",{className:`props-top-btn ${c==="my_bets"?"active":""}`,onClick:()=>d("my_bets"),children:"My Bets"}),e.jsx("button",{className:`props-top-btn ${c==="help"?"active":""}`,onClick:()=>d("help"),children:"Help"})]})]}),e.jsxs("div",{className:"props-main-header secondary",children:[e.jsx("div",{className:"props-match-title",children:B?`${B.homeTeam||B.home_team} @ ${B.awayTeam||B.away_team}`:"No game selected"}),e.jsx("div",{className:"props-market-tabs",children:[{id:"popular",label:"Popular"},{id:"moneyline",label:"Moneyline"},{id:"spread",label:"Spread"},{id:"total",label:"Total"},{id:"all",label:"All Markets"}].map(I=>e.jsx("button",{className:`props-market-tab ${g===I.id?"active":""}`,onClick:()=>x(I.id),children:I.label},I.id))})]}),e.jsxs("div",{className:"props-race-grid",children:[c==="help"&&e.jsxs("div",{className:"props-help-card",children:[e.jsx("h3",{children:"How to use Props Builder"}),e.jsx("p",{children:"1. Select a sport and game from the left board."}),e.jsx("p",{children:"2. Choose a market tab, then click any odds button."}),e.jsx("p",{children:"3. Selection is sent to your live bet slip immediately."}),e.jsx("p",{children:"4. Use mode tabs (Straight/Parlay/Teaser/If Bet/Reverse) at top to control bet rules."})]}),c==="my_bets"&&e.jsxs("div",{className:"props-help-card",children:[e.jsx("h3",{children:"Recent Bets"}),z&&e.jsx("p",{children:"Loading bets..."}),!z&&C&&e.jsx("p",{children:C}),!z&&!C&&R.length===0&&e.jsx("p",{children:"No bets found."}),!z&&!C&&R.slice(0,10).map(I=>e.jsxs("div",{className:"props-bet-row",children:[e.jsx("span",{children:String(I.type||"bet").toUpperCase()}),e.jsxs("span",{children:["$",Number(I.amount||0).toFixed(2)]}),e.jsx("span",{className:`status ${String(I.status||"pending").toLowerCase()}`,children:I.status||"pending"})]},I.id||I._id))]}),c==="builder"&&e.jsxs(e.Fragment,{children:[!B&&e.jsxs("div",{className:"props-help-card",children:[e.jsx("h3",{children:"No games available"}),e.jsx("p",{children:"Try another sport or refresh the board."})]}),B&&oe.length===0&&e.jsxs("div",{className:"props-help-card",children:[e.jsx("h3",{children:"No markets for this game"}),e.jsx("p",{children:"Pick another game or switch market tab."})]}),B&&oe.map(I=>{const M=!!v[I.key];return e.jsxs("div",{className:"props-market-card",children:[e.jsxs("button",{className:"props-market-header",onClick:()=>F(I.key),children:[e.jsx("span",{children:I.title}),e.jsx("i",{className:`fa-solid ${M?"fa-chevron-down":"fa-chevron-up"}`})]}),!M&&e.jsxs("div",{className:"props-market-outcomes",children:[I.outcomes.length===0&&e.jsx("div",{className:"props-empty-outcomes",children:"No odds currently available."}),I.outcomes.map((ae,H)=>{const G=ae.point!=null?` (${ae.point})`:"",ie=`${ae.name||`Selection ${H+1}`}${G}`,je=`${jn(B)}-${I.key}-${ae.name||H}`,K=E===je;return e.jsxs("button",{className:`props-odds-btn ${K?"selected":""}`,onClick:()=>k(I,ae),disabled:ae.price==null,children:[e.jsx("span",{children:ie}),e.jsx("strong",{children:ae.price!=null?Number(ae.price).toFixed(2):"-"})]},`${I.key}-${ae.name||H}`)})]})]},I.key)})]})]})]})]})},wv=l=>{const r={h2h:"Game Winner",spreads:"Spread",totals:"Total"};return r[l]?r[l]:l.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase())},Sv=(l="unknown")=>l.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),jn=l=>l?.id||l?._id||l?.externalId||`${l?.homeTeam||l?.home_team}-${l?.awayTeam||l?.away_team}`,kv=l=>{if(!l)return"Live";const r=new Date(l);return Number.isNaN(r.getTime())?"Live":r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Cv=()=>{const[l,r]=u.useState(null),c=["GENERAL","FOOTBALL","BASKETBALL","BASEBALL","HOCKEY","SOCCER","GOLF","BOXING/MMA","AUTO RACING","OTHER","SEASON WINS","INTERNET","LIVE BETTING","HORSES"],d=h=>{r(l===h?null:h)};return e.jsx("div",{style:{background:"white",width:"100%",height:"100%",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},children:e.jsx("div",{style:{width:"100%",margin:"0"},children:c.map(h=>e.jsxs("div",{style:{borderBottom:"1px solid #eee"},children:[e.jsx("div",{onClick:()=>d(h),style:{padding:"15px 20px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",background:"white",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#f9f9f9",onMouseLeave:p=>p.currentTarget.style.background="white",children:e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#333",textDecoration:"underline",textDecorationColor:"#333"},children:h})}),l===h&&e.jsxs("div",{style:{padding:"20px",background:"#fcfcfc",borderTop:"1px solid #eee",color:"#555",fontSize:"14px",lineHeight:"1.6"},children:[e.jsxs("p",{children:["Rules and regulations for ",h,"."]}),e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),e.jsx("p",{children:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]},h))})})},Av=[{id:"deposits",label:"Deposits",icon:"fa-solid fa-arrow-down"},{id:"withdrawals",label:"Withdrawals",icon:"fa-solid fa-arrow-up"},{id:"loyalty",label:"Loyalty",icon:"fa-regular fa-star"},{id:"requests",label:"Requests",icon:"fa-regular fa-file-lines"}],Mr=[{id:"mastercard_visa",label:"Mastercard / Visa",eta:"Instant",fee:"Low fee",icon:"fa-brands fa-cc-visa"},{id:"apple_pay",label:"Apple Pay",eta:"Instant",fee:"No extra fee",icon:"fa-brands fa-apple"},{id:"bitcoin",label:"Bitcoin",eta:"10-30 min",fee:"Network fee",icon:"fa-brands fa-bitcoin"},{id:"ethereum",label:"Ethereum",eta:"5-20 min",fee:"Network fee",icon:"fa-brands fa-ethereum"},{id:"bank_transfer",label:"Bank Transfer",eta:"1-3 days",fee:"No fee",icon:"fa-solid fa-building-columns"}],_r=[{id:"bank_transfer",label:"Bank Transfer",eta:"1-3 days",icon:"fa-solid fa-building-columns"},{id:"crypto",label:"Crypto Wallet",eta:"15-60 min",icon:"fa-solid fa-wallet"},{id:"card_refund",label:"Card Refund",eta:"1-5 days",icon:"fa-brands fa-cc-visa"}],Ev=[25,50,100,250,500,1e3],Qs=l=>`$${Number(l||0).toFixed(2)}`,Tv=()=>{const l=localStorage.getItem("token"),[r,c]=u.useState("deposits"),[d,h]=u.useState({balance:0,pendingBalance:0,availableBalance:0}),[p,y]=u.useState([]),[N,g]=u.useState(!0),[x,b]=u.useState(!1),[f,v]=u.useState(""),[A,E]=u.useState(""),[D,R]=u.useState(Mr[0].id),[w,z]=u.useState(""),[L,C]=u.useState(_r[0].id),[j,S]=u.useState(""),$=async()=>{if(!l){g(!1),v("Please login to access wallet.");return}try{g(!0),v("");const[M,ae]=await Promise.all([Ly(l),Uy(l,{limit:100})]);h({balance:Number(M?.balance||0),pendingBalance:Number(M?.pendingBalance||0),availableBalance:Number(M?.availableBalance||0)}),y(Array.isArray(ae?.transactions)?ae.transactions:[])}catch(M){v(M.message||"Failed to load wallet data")}finally{g(!1)}};u.useEffect(()=>{$()},[]);const V=u.useMemo(()=>Mr.find(M=>M.id===D)||Mr[0],[D]),B=u.useMemo(()=>_r.find(M=>M.id===L)||_r[0],[L]),oe=u.useMemo(()=>{const M=p.filter(K=>K.type==="deposit"&&K.status==="completed").reduce((K,_)=>K+Number(_.amount||0),0),ae=p.filter(K=>K.type==="withdrawal"&&K.status==="completed").reduce((K,_)=>K+Number(_.amount||0),0),H=p.filter(K=>K.type==="bet_placed").reduce((K,_)=>K+Number(_.amount||0),0),G=Math.floor((M+H)/10),ie=4e3,je=Math.min(100,Math.round(G/ie*100));return{completedDeposits:M,completedWithdrawals:ae,settledBets:H,loyaltyPoints:G,loyaltyTarget:ie,loyaltyPct:je}},[p]),F=u.useMemo(()=>[...p].filter(M=>M.type==="deposit"||M.type==="withdrawal").sort((M,ae)=>new Date(ae.createdAt)-new Date(M.createdAt)),[p]),k=async()=>{const M=Number(w);if(Number.isNaN(M)||M<10){v("Deposit must be at least $10");return}try{b(!0),v("");const ae=await Ry(M,D,l);E(ae.message||"Deposit request submitted"),z(""),await $()}catch(ae){v(ae.message||"Failed to submit deposit request")}finally{b(!1)}},I=async()=>{const M=Number(j);if(Number.isNaN(M)||M<20){v("Withdrawal must be at least $20");return}if(M>d.availableBalance){v("Withdrawal exceeds available balance");return}try{b(!0),v("");const ae=await Oy(M,L,l);E(ae.message||"Withdrawal request submitted"),S(""),await $()}catch(ae){v(ae.message||"Failed to submit withdrawal request")}finally{b(!1)}};return e.jsx("div",{className:"bonus-view-container",children:e.jsxs("div",{className:"bonus-shell",children:[e.jsxs("aside",{className:"bonus-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("span",{className:"brand-chip",children:"Wallet"}),e.jsx("h2",{children:"Cashier Center"}),e.jsx("p",{children:"Professional cashier flow with secure approval and tracking."})]}),e.jsxs("div",{className:"sidebar-wallet-cards",children:[e.jsxs("div",{className:"wallet-card",children:[e.jsx("span",{children:"Balance"}),e.jsx("strong",{children:Qs(d.balance)})]}),e.jsxs("div",{className:"wallet-card",children:[e.jsx("span",{children:"Available"}),e.jsx("strong",{children:Qs(d.availableBalance)})]}),e.jsxs("div",{className:"wallet-card",children:[e.jsx("span",{children:"Pending"}),e.jsx("strong",{children:Qs(d.pendingBalance)})]})]}),e.jsx("div",{className:"sidebar-nav",children:Av.map(M=>e.jsxs("button",{className:`sidebar-item ${r===M.id?"active":""}`,type:"button",onClick:()=>c(M.id),children:[e.jsx("i",{className:M.icon}),e.jsx("span",{children:M.label})]},M.id))})]}),e.jsxs("section",{className:"bonus-main",children:[e.jsxs("div",{className:"bonus-main-top",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Wallet & Bonus Operations"}),e.jsx("p",{children:"All actions are DB-backed and approval-aware for sportsbook workflows."})]}),e.jsxs("button",{className:"secondary-btn",onClick:$,type:"button",children:[e.jsx("i",{className:"fa-solid fa-rotate-right"})," Refresh"]})]}),A&&e.jsx("div",{className:"bonus-banner success",children:A}),f&&e.jsx("div",{className:"bonus-banner error",children:f}),N&&e.jsx("div",{className:"bonus-loading",children:"Loading wallet data..."}),!N&&r==="deposits"&&e.jsxs("div",{className:"bonus-content-grid",children:[e.jsxs("div",{className:"bonus-card",children:[e.jsx("h3",{children:"Deposit Methods"}),e.jsx("div",{className:"method-grid",children:Mr.map(M=>e.jsxs("button",{type:"button",className:`method-card ${D===M.id?"selected":""}`,onClick:()=>R(M.id),children:[e.jsxs("div",{className:"method-head",children:[e.jsx("i",{className:M.icon}),e.jsx("strong",{children:M.label})]}),e.jsxs("div",{className:"method-meta",children:[e.jsx("span",{children:M.eta}),e.jsx("span",{children:M.fee})]})]},M.id))})]}),e.jsxs("div",{className:"bonus-card summary",children:[e.jsx("h3",{children:"Submit Deposit Request"}),e.jsx("div",{className:"input-label",children:"Method"}),e.jsx("div",{className:"pill",children:V.label}),e.jsx("div",{className:"input-label",children:"Amount"}),e.jsxs("div",{className:"amount-row",children:[e.jsx("span",{children:"$"}),e.jsx("input",{type:"number",min:"10",value:w,onChange:M=>z(M.target.value),placeholder:"Enter amount"})]}),e.jsx("div",{className:"chips",children:Ev.map(M=>e.jsxs("button",{className:`chip ${Number(w)===M?"active":""}`,onClick:()=>z(String(M)),type:"button",children:["$",M]},M))}),e.jsx("button",{className:"primary-btn",disabled:x,onClick:k,type:"button",children:x?"Submitting...":"Request Deposit"})]})]}),!N&&r==="withdrawals"&&e.jsxs("div",{className:"bonus-content-grid",children:[e.jsxs("div",{className:"bonus-card",children:[e.jsx("h3",{children:"Withdrawal Methods"}),e.jsx("div",{className:"method-grid",children:_r.map(M=>e.jsxs("button",{type:"button",className:`method-card ${L===M.id?"selected":""}`,onClick:()=>C(M.id),children:[e.jsxs("div",{className:"method-head",children:[e.jsx("i",{className:M.icon}),e.jsx("strong",{children:M.label})]}),e.jsxs("div",{className:"method-meta",children:[e.jsx("span",{children:M.eta}),e.jsx("span",{children:"Approval required"})]})]},M.id))})]}),e.jsxs("div",{className:"bonus-card summary",children:[e.jsx("h3",{children:"Submit Withdrawal Request"}),e.jsx("div",{className:"input-label",children:"Available Balance"}),e.jsx("div",{className:"pill",children:Qs(d.availableBalance)}),e.jsx("div",{className:"input-label",children:"Method"}),e.jsx("div",{className:"pill",children:B.label}),e.jsx("div",{className:"input-label",children:"Amount"}),e.jsxs("div",{className:"amount-row",children:[e.jsx("span",{children:"$"}),e.jsx("input",{type:"number",min:"20",value:j,onChange:M=>S(M.target.value),placeholder:"Enter amount"})]}),e.jsx("button",{className:"primary-btn",disabled:x,onClick:I,type:"button",children:x?"Submitting...":"Request Withdrawal"})]})]}),!N&&r==="loyalty"&&e.jsxs("div",{className:"bonus-content-grid",children:[e.jsxs("div",{className:"bonus-card",children:[e.jsx("h3",{children:"Loyalty Progress"}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Current Points"}),e.jsx("strong",{children:oe.loyaltyPoints})]}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{style:{width:`${oe.loyaltyPct}%`}})}),e.jsxs("div",{className:"metric-row muted",children:[e.jsxs("span",{children:[oe.loyaltyPoints," / ",oe.loyaltyTarget]}),e.jsxs("span",{children:[oe.loyaltyPct,"%"]})]})]}),e.jsxs("div",{className:"bonus-card",children:[e.jsx("h3",{children:"Wallet Performance"}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Completed Deposits"}),e.jsx("strong",{children:Qs(oe.completedDeposits)})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Completed Withdrawals"}),e.jsx("strong",{children:Qs(oe.completedWithdrawals)})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Settled Bet Volume"}),e.jsx("strong",{children:Qs(oe.settledBets)})]})]})]}),!N&&r==="requests"&&e.jsxs("div",{className:"bonus-card full",children:[e.jsx("h3",{children:"Deposit/Withdrawal Requests"}),e.jsxs("div",{className:"request-table",children:[e.jsxs("div",{className:"request-head",children:[e.jsx("span",{children:"Type"}),e.jsx("span",{children:"Amount"}),e.jsx("span",{children:"Status"}),e.jsx("span",{children:"Date"}),e.jsx("span",{children:"Description"})]}),F.length===0&&e.jsx("div",{className:"request-empty",children:"No requests found."}),F.map(M=>e.jsxs("div",{className:"request-row",children:[e.jsx("span",{className:"caps",children:M.type}),e.jsx("span",{children:Qs(M.amount)}),e.jsx("span",{className:`status ${M.status}`,children:M.status}),e.jsx("span",{children:new Date(M.createdAt).toLocaleString()}),e.jsx("span",{children:M.description||"-"})]},M.id))]})]})]})]})})},Lv=({onClose:l,onViewChange:r})=>{const c=[{id:"sports",label:"Sports",icon:"fa-solid fa-shield-halved"},{id:"prime-live",label:"Prime Live",icon:"fa-solid fa-tv"},{id:"ultra-live",label:"Ultra Live",icon:"fa-solid fa-display"},{id:"casino",label:"Casino",icon:"fa-solid fa-dice"},{id:"live-casino",label:"Live Casino",icon:"fa-solid fa-circle-dot"},{id:"prop-builder",label:"Prop Builder",icon:"fa-solid fa-arrow-down-1-9"},{id:"world-365",label:"World 365",icon:"fa-solid fa-futbol"},{id:"horses",label:"Horses",icon:"fa-solid fa-horse-head"},{id:"parlay-boosts",label:"Parlay Boosts",icon:"fa-solid fa-bolt-lightning"},{id:"rules",label:"Rules",icon:"fa-solid fa-whistle"},{id:"tutorials",label:"Tutorials",icon:"fa-solid fa-book-open"},{id:"support",label:"Support",icon:"fa-solid fa-headset"}],d=h=>{h==="sports"?r("dashboard"):h==="live-casino"?r("live-casino"):h==="tutorials"||r(h),l()};return e.jsx("div",{className:"mobile-grid-menu-overlay",children:e.jsx("div",{className:"mobile-grid-container",children:c.map(h=>e.jsxs("div",{className:"grid-menu-item",onClick:()=>d(h.id),children:[e.jsx("div",{className:"grid-icon",children:e.jsx("i",{className:h.icon})}),e.jsx("span",{className:"grid-label",children:h.label})]},h.id))})})},Mv=({selectedSports:l=[]})=>{const r=x=>({nfl:"NFL Football","ncaa-football":"College Football",nba:"NBA Basketball","ncaa-basketball":"College Basketball",mlb:"MLB Baseball",nhl:"NHL Hockey",epl:"EPL Soccer",mls:"MLS Soccer",pga:"PGA Golf",wta:"WTA Tennis",atp:"ATP Tennis",boxing:"Boxing",mma:"MMA","auto-racing":"Auto Racing",rugby:"Rugby",volleyball:"Volleyball",cricket:"Cricket",basketball:"Basketball",baseball:"Baseball",hockey:"Hockey",football:"Football",soccer:"Soccer",golf:"Golf",tennis:"Tennis","martial-arts":"Martial Arts"})[x]||x.replace("-"," ").toUpperCase(),c=l&&l.length>0?l[0]:null,h=fi({status:c==="commercial-live"?"live":c==="up-next"?"upcoming":"live-upcoming"}),p=c?r(c):"Selected Sport",y=x=>{if(!x)return[];const b=x.toString().toLowerCase();return{nfl:["nfl","americanfootball_nfl","national football","american football"],"ncaa-football":["ncaaf","ncaa football","college football"],nba:["nba","basketball_nba","national basketball"],"ncaa-basketball":["ncaab","ncaa basketball","college basketball"],mlb:["mlb","baseball_mlb","major league baseball"],nhl:["nhl","icehockey_nhl","hockey_nhl"],epl:["epl","premier league","english premier league"],soccer:["soccer","football","premier league","la liga","serie a","bundesliga","ligue 1","mls"],basketball:["basketball","nba","ncaab","euroleague"],baseball:["baseball","mlb"],hockey:["hockey","nhl","icehockey"],golf:["golf","pga"],tennis:["tennis","atp","wta"],boxing:["boxing"],mma:["mma","ufc"],rugby:["rugby"],"auto-racing":["racing","motorsport","nascar","formula"],"martial-arts":["mma","ufc","martial"]}[b]||[b]},N=(x,b,f)=>{if(!x||!x.odds)return{spreadHomePoint:null,spreadAwayPoint:null,spreadHomePrice:null,spreadAwayPrice:null,moneylineHome:null,moneylineAway:null,totalPoint:null,totalOverPrice:null,totalUnderPrice:null};const v=Array.isArray(x.odds.markets)?x.odds.markets:[],A=V=>v.find(B=>String(B.key||"").toLowerCase()===V),E=(V,B)=>{if(!V||!Array.isArray(V.outcomes))return null;const oe=V.outcomes.find(F=>String(F.name||"").toLowerCase()===String(B||"").toLowerCase());return oe||V.outcomes.find(F=>String(F.name||"").toLowerCase().includes(String(B||"").toLowerCase()))||null},D=A("h2h"),R=A("spreads"),w=A("totals"),z=E(D,b),L=E(D,f),C=E(R,b),j=E(R,f),S=w?.outcomes?.find(V=>String(V.name||"").toLowerCase().includes("over"))||null,$=w?.outcomes?.find(V=>String(V.name||"").toLowerCase().includes("under"))||null;return{spreadHomePoint:C?.point??null,spreadAwayPoint:j?.point??null,spreadHomePrice:C?.price??null,spreadAwayPrice:j?.price??null,moneylineHome:z?.price??null,moneylineAway:L?.price??null,totalPoint:S?.point??$?.point??null,totalOverPrice:S?.price??null,totalUnderPrice:$?.price??null}},g=ys.useMemo(()=>{const x=(h||[]).map(v=>{const A=v.homeTeam||v.home_team||"",E=v.awayTeam||v.away_team||"",D=N(v,A,E),R=(v.score?.event_status||"").toString().toUpperCase(),w=v.status==="live"||R.includes("IN_PROGRESS")||R.includes("LIVE")||R.includes("STATUS_IN_PROGRESS");return{id:v.id||v._id||v.externalId,sport:v.sport||v.sportTitle||"",team1:A,team2:E,odds:D,isLive:w}});if(!c)return x;const b=y(c),f=x.filter(v=>v.sport&&b.some(A=>v.sport.toLowerCase().includes(A)));return f.length>0?f:x},[h,c]);return e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"#f5f5f5",padding:"0",overflowY:"auto",WebkitOverflowScrolling:"touch"},children:[e.jsxs("div",{style:{padding:"15px 10px",backgroundColor:"#ffffff",borderBottom:"2px solid #e0e0e0",marginBottom:"10px",borderRadius:"4px"},children:[e.jsx("h2",{style:{margin:"0 0 5px 0",fontSize:"18px",fontWeight:"bold",color:"#333"},children:p}),e.jsx("p",{style:{margin:"0",fontSize:"12px",color:"#666",fontWeight:"500"},children:"Upcoming Matches & Events"})]}),e.jsx("div",{style:{flex:1},children:g&&g.length>0?g.map(x=>e.jsxs("div",{style:{backgroundColor:"#ffffff",padding:"12px",marginBottom:"10px",borderRadius:"6px",border:"1px solid #e0e0e0",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("div",{style:{fontSize:"12px",color:"#888",fontWeight:"600"},children:["MATCH ",x.id]}),e.jsx("div",{style:{background:x.isLive?"#007bff":"#6c757d",color:"white",padding:"3px 8px",borderRadius:"3px",fontSize:"11px",fontWeight:"bold"},children:x.isLive?"LIVE":"UPCOMING"})]}),e.jsxs("div",{style:{marginBottom:"10px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #f0f0f0",fontSize:"13px",fontWeight:"600",color:"#333"},children:[e.jsx("span",{children:x.team1}),e.jsx("span",{children:x.odds.spreadHomePoint??"-"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",fontSize:"13px",fontWeight:"600",color:"#333"},children:[e.jsx("span",{children:x.team2}),e.jsx("span",{children:x.odds.spreadAwayPoint??"-"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginTop:"10px"},children:[e.jsxs("button",{style:{padding:"10px",backgroundColor:"#f0f0f0",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",color:"#333",transition:"all 0.2s"},children:["Spread",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#007bff"},children:x.odds.spreadHomePrice??"-"})]}),e.jsxs("button",{style:{padding:"10px",backgroundColor:"#f0f0f0",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",color:"#333",transition:"all 0.2s"},children:["Total",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#007bff"},children:x.odds.totalOverPrice??"-"})]})]})]},x.id)):e.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:e.jsx("p",{style:{fontSize:"14px",margin:0},children:"No matches available"})})})]})},_v=()=>e.jsxs("div",{className:"promo-card-container",children:[e.jsx("div",{className:"promo-team-header",children:e.jsx("span",{className:"team-text",children:"HOU @ PIT"})}),e.jsxs("div",{className:"promo-main-body",children:[e.jsxs("div",{className:"promo-title-row",children:[e.jsxs("div",{className:"promo-title-group",children:[e.jsx("span",{className:"promo-title",children:"Carry The Night"}),e.jsx("span",{className:"promo-fire-icon",children:" 2"})]}),e.jsxs("div",{className:"promo-badges",children:[e.jsx("span",{className:"badge badge-wa",children:"WA"}),e.jsx("span",{className:"badge badge-sgp",children:"SGP"})]})]}),e.jsx("div",{className:"promo-time",children:"Tomorrow 6:15 AM"}),e.jsxs("div",{className:"promo-props-list",children:[e.jsxs("div",{className:"promo-prop-item",children:[e.jsx("div",{className:"player-photo",children:e.jsx("img",{src:"https://via.placeholder.com/40",alt:"Jaylen Warren"})}),e.jsxs("div",{className:"prop-details",children:[e.jsxs("div",{className:"player-name",children:["Jaylen Warren ",e.jsx("span",{className:"team-tag",children:"(HOU @ PIT)"})]}),e.jsx("div",{className:"prop-value",children:"52 Over - Total Rushing Yards"})]})]}),e.jsxs("div",{className:"promo-prop-item",children:[e.jsx("div",{className:"player-photo",children:e.jsx("img",{src:"https://via.placeholder.com/40",alt:"Woody Marks"})}),e.jsxs("div",{className:"prop-details",children:[e.jsxs("div",{className:"player-name",children:["Woody Marks ",e.jsx("span",{className:"team-tag",children:"(HOU @ PIT)"})]}),e.jsx("div",{className:"prop-value",children:"55 Over - Total Rushing Yards"})]})]}),e.jsxs("div",{className:"promo-prop-item",children:[e.jsx("div",{className:"player-photo",children:e.jsx("img",{src:"https://via.placeholder.com/40",alt:"Kenneth Gainwell"})}),e.jsxs("div",{className:"prop-details",children:[e.jsxs("div",{className:"player-name",children:["Kenneth Gainwell ",e.jsx("span",{className:"team-tag",children:"(HOU @ PIT)"})]}),e.jsx("div",{className:"prop-value",children:"28 Over - Total Rushing Yards"})]})]})]}),e.jsx("div",{className:"more-selections",children:"+ 1 more selection"}),e.jsxs("div",{className:"promo-footer",children:[e.jsxs("div",{className:"odds-group",children:[e.jsx("span",{className:"old-odds",children:"+1176"}),e.jsx("span",{className:"odds-arrow",children:""}),e.jsx("span",{className:"new-odds",children:"+1234"})]}),e.jsx("button",{className:"promo-bet-btn",children:"Bet Now"})]})]}),e.jsxs("div",{className:"promo-pagination",children:[e.jsx("span",{className:"dot active"}),e.jsx("span",{className:"dot"}),e.jsx("span",{className:"dot"}),e.jsx("span",{className:"dot"}),e.jsx("span",{className:"dot"})]})]}),Dv=(l="")=>{const r=l.toLowerCase();return r.includes("beginner")||r.includes("fundamentals")?"Beginner":r.includes("parlay")||r.includes("live")?"Advanced":r.includes("responsible")||r.includes("bankroll")?"Important":r.includes("moneyline")||r.includes("spread")||r.includes("totals")?"Basics":"Guide"},Bv=(l="")=>{const r=l.toLowerCase();return r.includes("moneyline")||r.includes("bankroll")?"fa-solid fa-money-bill-wave":r.includes("spread")||r.includes("totals")?"fa-solid fa-chart-line":r.includes("live")?"fa-solid fa-bolt":r.includes("parlay")?"fa-solid fa-layer-group":r.includes("responsible")?"fa-solid fa-shield-heart":"fa-solid fa-book-open"},Rv=()=>{const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[y,N]=u.useState(""),[g,x]=u.useState("all"),[b,f]=u.useState(null),v=async()=>{const R=localStorage.getItem("token");if(!R){p("Please login to view tutorials."),d(!1);return}try{d(!0),p("");const w=await Vy(R);r(Array.isArray(w?.tutorials)?w.tutorials:[])}catch(w){p(w.message||"Failed to fetch tutorials")}finally{d(!1)}};u.useEffect(()=>{v()},[]);const A=u.useMemo(()=>l.map(R=>({id:R._id||R.id,title:R.title,desc:R.content,content:R.content,tag:Dv(R.title),icon:Bv(R.title),order:R.order||0})),[l]),E=u.useMemo(()=>{const R=new Set(["all"]);return A.forEach(w=>R.add(w.tag.toLowerCase())),Array.from(R)},[A]),D=u.useMemo(()=>{const R=y.trim().toLowerCase();return A.filter(w=>g!=="all"&&w.tag.toLowerCase()!==g?!1:R?w.title.toLowerCase().includes(R)||w.desc.toLowerCase().includes(R):!0).sort((w,z)=>w.order-z.order)},[A,y,g]);return e.jsxs("div",{className:"tutorials-container",children:[e.jsxs("div",{className:"tutorials-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Betting Tutorials & Guides"}),e.jsx("p",{children:"Professional learning hub for sportsbook users: markets, strategy, risk, and execution."})]}),e.jsxs("button",{className:"tutorial-refresh",onClick:v,type:"button",children:[e.jsx("i",{className:"fa-solid fa-rotate-right"})," Refresh"]})]}),e.jsxs("div",{className:"tutorials-toolbar",children:[e.jsx("input",{type:"text",placeholder:"Search tutorials",value:y,onChange:R=>N(R.target.value),className:"tutorial-search"}),e.jsx("div",{className:"tutorial-tags-filter",children:E.map(R=>e.jsx("button",{type:"button",className:`tag-chip ${g===R?"active":""}`,onClick:()=>x(R),children:R==="all"?"All":R},R))})]}),c&&e.jsx("div",{className:"tutorial-state",children:"Loading tutorials..."}),!c&&h&&e.jsx("div",{className:"tutorial-state error",children:h}),!c&&!h&&D.length===0&&e.jsx("div",{className:"tutorial-state",children:"No tutorials found."}),!c&&!h&&D.length>0&&e.jsx("div",{className:"tutorials-grid",children:D.map(R=>e.jsxs("article",{className:"tutorial-card",children:[e.jsx("div",{className:"tutorial-img-placeholder",children:e.jsx("i",{className:R.icon})}),e.jsxs("div",{className:"tutorial-content",children:[e.jsx("div",{className:"tutorial-tags",children:e.jsx("span",{className:"tag",children:R.tag})}),e.jsx("h3",{children:R.title}),e.jsx("p",{children:R.desc}),e.jsxs("button",{className:"read-btn",type:"button",onClick:()=>f(R),children:["Read Article ",e.jsx("i",{className:"fa-solid fa-arrow-right"})]})]})]},R.id))}),b&&e.jsx("div",{className:"tutorial-modal-overlay",onClick:()=>f(null),children:e.jsxs("div",{className:"tutorial-modal",onClick:R=>R.stopPropagation(),children:[e.jsxs("div",{className:"tutorial-modal-head",children:[e.jsx("h3",{children:b.title}),e.jsx("button",{onClick:()=>f(null),type:"button",children:e.jsx("i",{className:"fa-solid fa-xmark"})})]}),e.jsx("div",{className:"tutorial-modal-body",children:b.content})]})})]})},Dr=l=>l.status==="closed"?"Closed":Array.isArray(l.replies)&&l.replies.length>0?"Answered":"Open",Ov=()=>{const[l,r]=u.useState([]),[c,d]=u.useState([]),[h,p]=u.useState(""),[y,N]=u.useState(""),[g,x]=u.useState(""),[b,f]=u.useState(!0),[v,A]=u.useState(!1),[E,D]=u.useState(""),[R,w]=u.useState(null),z=async()=>{const S=localStorage.getItem("token");if(!S){D("Please login to contact support."),f(!1);return}try{f(!0),D("");const[$,V]=await Promise.all([bp(S),Qy(S)]),B=Array.isArray($)?$:[];r(B),d(Array.isArray(V?.faqs)?V.faqs:[]),B.length>0&&w(oe=>oe||B[0]._id||B[0].id)}catch($){D($.message||"Failed to load support data")}finally{f(!1)}};u.useEffect(()=>{z()},[]);const L=u.useMemo(()=>l.find(S=>(S._id||S.id)===R)||l[0]||null,[l,R]),C=u.useMemo(()=>{const S=g.trim().toLowerCase();return S?c.filter($=>String($.question||"").toLowerCase().includes(S)||String($.answer||"").toLowerCase().includes(S)):c},[c,g]),j=async S=>{S.preventDefault();const $=localStorage.getItem("token");if(!$){D("Please login to contact support.");return}if(!y.trim()){D("Message is required.");return}try{A(!0);const V=h.trim()||y.trim().split(" ").slice(0,6).join(" "),B=await yp(V,y.trim(),$);r(oe=>[B,...oe]),w(B._id||B.id),p(""),N(""),D("")}catch(V){D(V.message||"Failed to send message")}finally{A(!1)}};return e.jsxs("div",{className:"support-container",children:[e.jsxs("div",{className:"support-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Support Center"}),e.jsx("p",{children:"Contact operations team, track responses, and browse sportsbook FAQs."})]}),e.jsxs("button",{type:"button",className:"support-refresh",onClick:z,children:[e.jsx("i",{className:"fa-solid fa-rotate-right"})," Refresh"]})]}),E&&e.jsx("div",{className:"support-error",children:E}),e.jsxs("div",{className:"support-layout",children:[e.jsxs("section",{className:"support-left",children:[e.jsxs("div",{className:"support-card",children:[e.jsx("h2",{children:"Create Ticket"}),e.jsxs("form",{onSubmit:j,className:"support-form",children:[e.jsxs("label",{children:["Subject (optional)",e.jsx("input",{type:"text",value:h,onChange:S=>p(S.target.value),placeholder:"Bet settlement, payout delay, limit issue..."})]}),e.jsxs("label",{children:["Message",e.jsx("textarea",{rows:6,value:y,onChange:S=>N(S.target.value),placeholder:"Describe issue with relevant bet IDs, timestamps, and details."})]}),e.jsx("button",{type:"submit",className:"primary-btn",disabled:v,children:v?"Sending...":"Submit Ticket"})]})]}),e.jsxs("div",{className:"support-card",children:[e.jsxs("div",{className:"thread-list-head",children:[e.jsx("h2",{children:"Your Tickets"}),e.jsx("span",{children:l.length})]}),b&&e.jsx("div",{className:"support-empty",children:"Loading messages..."}),!b&&l.length===0&&e.jsx("div",{className:"support-empty",children:"No support tickets yet."}),!b&&l.length>0&&e.jsx("div",{className:"thread-list",children:l.map(S=>{const $=S._id||S.id;return e.jsxs("button",{type:"button",className:`thread-item ${$===(L?._id||L?.id)?"active":""}`,onClick:()=>w($),children:[e.jsxs("div",{children:[e.jsx("strong",{children:S.subject}),e.jsx("p",{children:new Date(S.createdAt).toLocaleString()})]}),e.jsx("span",{className:`status ${Dr(S).toLowerCase()}`,children:Dr(S)})]},$)})})]})]}),e.jsx("section",{className:"support-middle",children:e.jsxs("div",{className:"support-card thread-view",children:[e.jsx("h2",{children:"Ticket Thread"}),!L&&e.jsx("div",{className:"support-empty",children:"Select a ticket to view thread."}),L&&e.jsxs("div",{className:"thread-content",children:[e.jsxs("div",{className:"thread-main-message",children:[e.jsxs("div",{className:"thread-meta",children:[e.jsx("span",{children:new Date(L.createdAt).toLocaleString()}),e.jsx("span",{className:`status ${Dr(L).toLowerCase()}`,children:Dr(L)})]}),e.jsx("h3",{children:L.subject}),e.jsx("p",{children:L.body})]}),e.jsxs("div",{className:"thread-replies",children:[(L.replies||[]).length===0&&e.jsx("div",{className:"support-empty",children:"No replies yet."}),(L.replies||[]).map((S,$)=>e.jsxs("div",{className:"reply-item",children:[e.jsxs("div",{className:"thread-meta",children:[e.jsx("span",{children:new Date(S.createdAt).toLocaleString()}),e.jsx("span",{children:"Support"})]}),e.jsx("p",{children:S.message})]},`${L._id||L.id}-reply-${$}`))]})]})]})}),e.jsx("section",{className:"support-right",children:e.jsxs("div",{className:"support-card",children:[e.jsx("h2",{children:"FAQ"}),e.jsx("input",{type:"text",className:"faq-search",placeholder:"Search FAQ",value:g,onChange:S=>x(S.target.value)}),C.length===0&&e.jsx("div",{className:"support-empty",children:"No FAQs found."}),e.jsx("div",{className:"faq-list",children:C.map(S=>e.jsxs("details",{className:"faq-item",children:[e.jsx("summary",{children:S.question}),e.jsx("p",{children:S.answer})]},S._id||S.id))})]})})]})]})},Uv=()=>{const[l,r]=u.useState(!1),[c,d]=u.useState([]),[h,p]=u.useState(""),[y,N]=u.useState(!1),[g,x]=u.useState(""),b=u.useRef(null),f=()=>{b.current?.scrollIntoView({behavior:"smooth"})};u.useEffect(()=>{f()},[c]);const v=async()=>{const E=localStorage.getItem("token");if(!E){x("Please login to message support.");return}try{N(!0);const D=await bp(E),R=[];D.forEach(w=>{R.push({id:`${w._id}-user`,text:w.body,sender:"user",createdAt:w.createdAt}),(w.replies||[]).forEach((z,L)=>{R.push({id:`${w._id}-reply-${L}`,text:z.message,sender:"agent",createdAt:z.createdAt})})}),R.sort((w,z)=>new Date(w.createdAt)-new Date(z.createdAt)),d(R),x("")}catch(D){console.error("Failed to load messages:",D),x(D.message||"Failed to load messages")}finally{N(!1)}},A=async E=>{if(E.preventDefault(),!h.trim())return;const D=localStorage.getItem("token");if(!D){x("Please login to message support.");return}const R=h.trim(),w=R.split(" ").slice(0,6).join(" ");try{N(!0);const z=await yp(w,R,D);d(L=>[...L,{id:`${z._id}-user`,text:z.body,sender:"user",createdAt:z.createdAt}]),p(""),x("")}catch(z){x(z.message||"Failed to send message")}finally{N(!1)}};return u.useEffect(()=>{l&&v()},[l]),e.jsxs("div",{className:"chat-widget-container",style:{position:"fixed",bottom:"30px",right:"30px",zIndex:1e3,fontFamily:"Inter, sans-serif"},children:[l&&e.jsxs("div",{style:{width:"350px",height:"500px",background:"white",borderRadius:"16px",boxShadow:"0 10px 40px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column",overflow:"hidden",marginBottom:"20px",border:"1px solid #e0e0e0",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)"},children:[e.jsxs("div",{style:{background:"#00703c",color:"white",padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{style:{width:"30px",height:"30px",background:"white",borderRadius:"50%",color:"#00703c",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:"fa-solid fa-headset"})}),e.jsx("div",{style:{width:"8px",height:"8px",background:"#00ff00",borderRadius:"50%",position:"absolute",bottom:"0",right:"0",border:"1px solid #00703c"}})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"700",fontSize:"14px"},children:"Support Team"}),e.jsx("div",{style:{fontSize:"10px",opacity:.8},children:"Online"})]})]}),e.jsx("button",{onClick:()=>r(!1),style:{background:"transparent",border:"none",color:"white",cursor:"pointer",fontSize:"16px"},children:e.jsx("i",{className:"fa-solid fa-xmark"})})]}),e.jsxs("div",{style:{flex:1,padding:"20px",overflowY:"auto",background:"#f9f9f9",display:"flex",flexDirection:"column",gap:"15px"},children:[y&&e.jsx("div",{style:{fontSize:"12px",color:"#777"},children:"Loading messages..."}),g&&e.jsx("div",{style:{fontSize:"12px",color:"#b00020"},children:g}),!y&&!g&&c.length===0&&e.jsx("div",{style:{fontSize:"12px",color:"#777"},children:"No messages yet. Start a conversation below."}),c.map(E=>e.jsxs("div",{style:{alignSelf:E.sender==="user"?"flex-end":"flex-start",maxWidth:"80%"},children:[e.jsx("div",{style:{background:E.sender==="user"?"#00703c":"white",color:E.sender==="user"?"white":"#333",padding:"12px 16px",borderRadius:E.sender==="user"?"16px 16px 0 16px":"16px 16px 16px 0",boxShadow:E.sender==="agent"?"0 2px 5px rgba(0,0,0,0.05)":"none",fontSize:"13px",lineHeight:"1.4"},children:E.text}),e.jsx("div",{style:{fontSize:"10px",color:"#aaa",marginTop:"5px",textAlign:E.sender==="user"?"right":"left"},children:E.createdAt?new Date(E.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]},E.id)),e.jsx("div",{ref:b})]}),e.jsxs("form",{onSubmit:A,style:{padding:"15px",background:"white",borderTop:"1px solid #eee",display:"flex",gap:"10px"},children:[e.jsx("input",{type:"text",value:h,onChange:E=>p(E.target.value),placeholder:"Type a message...",style:{flex:1,padding:"10px 15px",borderRadius:"20px",border:"1px solid #ddd",fontSize:"13px",outline:"none"}}),e.jsx("button",{type:"submit",style:{width:"40px",height:"40px",borderRadius:"50%",background:"#00703c",color:"white",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:e.jsx("i",{className:"fa-solid fa-paper-plane"})})]})]}),!l&&e.jsx("button",{onClick:()=>r(!0),style:{width:"60px",height:"60px",borderRadius:"50%",background:"#00703c",color:"white",border:"none",boxShadow:"0 4px 20px rgba(0, 112, 60, 0.4)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",transition:"transform 0.2s",animation:"bounceIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},onMouseEnter:E=>E.target.style.transform="scale(1.1)",onMouseLeave:E=>E.target.style.transform="scale(1)",children:e.jsx("i",{className:"fa-solid fa-comment-dots"})}),e.jsx("style",{children:`
                @keyframes slideUp {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                @keyframes bounceIn {
                    from { opacity: 0; transform: scale(0.5); }
                    to { opacity: 1; transform: scale(1); }
                }
                `})]})},zv=()=>{const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(null);return u.useEffect(()=>{(async()=>{const N=localStorage.getItem("token");if(!N){p("Please login to view your bets"),d(!1);return}try{const g=await kd(N);r(g)}catch(g){console.error("Failed to fetch bets:",g),p("Failed to load bets")}finally{d(!1)}})()},[]),c?e.jsx("div",{style:{color:"white",padding:"20px"},children:"Loading history..."}):h?e.jsx("div",{style:{color:"red",padding:"20px"},children:h}):e.jsxs("div",{style:{padding:"20px",color:"white"},children:[e.jsx("h2",{children:"My Bets History"}),l.length===0?e.jsx("p",{children:"No bets placed yet."}):e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#333",textAlign:"left"},children:[e.jsx("th",{style:{padding:"10px"},children:"Date"}),e.jsx("th",{style:{padding:"10px"},children:"Match"}),e.jsx("th",{style:{padding:"10px"},children:"Selection"}),e.jsx("th",{style:{padding:"10px"},children:"Stake"}),e.jsx("th",{style:{padding:"10px"},children:"Odds"}),e.jsx("th",{style:{padding:"10px"},children:"Potential Payout"}),e.jsx("th",{style:{padding:"10px"},children:"Status"})]})}),e.jsx("tbody",{children:l.map(y=>e.jsxs("tr",{style:{borderBottom:"1px solid #444"},children:[e.jsx("td",{style:{padding:"10px"},children:new Date(y.createdAt).toLocaleString()}),e.jsx("td",{style:{padding:"10px"},children:y.matchId?`${y.matchSnapshot?.homeTeam||y.matchId.homeTeam} vs ${y.matchSnapshot?.awayTeam||y.matchId.awayTeam}`:"Unknown Match"}),e.jsx("td",{style:{padding:"10px",color:"#ffd700"},children:y.selection}),e.jsxs("td",{style:{padding:"10px"},children:["$",parseFloat(y.amount).toFixed(2)]}),e.jsx("td",{style:{padding:"10px"},children:parseFloat(y.odds).toFixed(2)}),e.jsxs("td",{style:{padding:"10px"},children:["$",parseFloat(y.potentialPayout).toFixed(2)]}),e.jsx("td",{style:{padding:"10px"},children:e.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",backgroundColor:y.status==="won"?"#28a745":y.status==="lost"?"#dc3545":y.status==="pending"?"#ffc107":"#6c757d",color:y.status==="pending"?"black":"white"},children:y.status.toUpperCase()})})]},y._id))})]})})]})},Bp={dashboard:"dashboard","weekly-figures":"weeklyFigures",pending:"pending",messaging:"messaging","game-admin":"gameAdmin","customer-admin":"customerAdmin","agent-manager":"agentManager",cashier:"cashier","add-customer":"addCustomer","third-party-limits":"thirdPartyLimits",props:"props","agent-performance":"agentPerformance",analysis:"analysis","ip-tracker":"ipTracker","transactions-history":"transactionsHistory",collections:"collections","deleted-wagers":"deletedWagers","games-events":"gamesEvents","sportsbook-links":"sportsbookLinks","bet-ticker":"betTicker",ticketwriter:"ticketwriter",scores:"scores","master-agent-admin":"masterAgentAdmin",billing:"billing",settings:"settings",monitor:"monitor",rules:"rules",feedback:"feedback",faq:"faq","user-manual":"userManual",profile:"profile"},Rp=l=>l==="admin"||l==="master_agent"||l==="super_agent",ri=(l,r,c)=>{if(Rp(l))return!0;const d=Bp[c];return d?r?.views?.[d]!==!1:!0},Fv=(l,r)=>Rp(l)?!0:r?.ipTracker?.manage!==!1;function zf({onMenuClick:l,onOpenScoreboard:r,role:c="admin",layoutPref:d="tiles",isMobile:h=!1,permissions:p=null}){const N=[{id:"weekly-figures",label:"Weekly Figures",icon:"fa-solid fa-chart-line",color:"teal",roles:["admin","agent","master_agent","super_agent"]},{id:"pending",label:"Pending",icon:"fa-solid fa-calendar-check",color:"teal",roles:["admin","agent","master_agent","super_agent"]},{id:"messaging",label:"Messaging",icon:"fa-solid fa-envelope",color:"teal",roles:["admin","agent","master_agent","super_agent"]},{id:"game-admin",label:"Game Admin",icon:"fa-solid fa-gamepad",color:"teal",roles:["admin","agent","master_agent","super_agent"]},{id:"customer-admin",label:"Customer Admin",icon:"fa-solid fa-user-shield",color:"teal",roles:["admin","agent","master_agent","super_agent"]},{id:"agent-manager",label:"Agent Management",icon:"fa-solid fa-users-gear",color:"teal",roles:["admin","master_agent","super_agent"]},{id:"cashier",label:"Cashier",icon:"fa-solid fa-money-bill-wave",color:"teal",roles:["admin","agent","master_agent","super_agent"]},{id:"third-party-limits",label:"3rd Party Limits",icon:"fa-solid fa-lock",color:"light-gray",roles:["admin","agent","master_agent","super_agent"]},{id:"add-customer",label:"Add Customer",icon:"fa-solid fa-user-plus",color:"light-gray",roles:["admin","agent","master_agent","super_agent"]},{id:"props",label:"Props / Betting",icon:"fa-solid fa-bullseye",color:"light-blue",roles:["admin","agent","master_agent","super_agent"]},{id:"agent-performance",label:"Agent Performance",icon:"fa-solid fa-list-check",color:"light-blue",roles:["admin","agent","master_agent","super_agent"]},{id:"analysis",label:"Analysis",icon:"fa-solid fa-arrow-trend-up",color:"light-blue",roles:["admin","agent","master_agent","super_agent"]},{id:"ip-tracker",label:"IP Tracker",icon:"fa-solid fa-globe",color:"light-blue",roles:["admin","agent","master_agent","super_agent"]},{id:"collections",label:"Collections",icon:"fa-solid fa-box-archive",color:"light-blue",roles:["admin","agent","master_agent","super_agent"]},{id:"deleted-wagers",label:"Deleted Wagers",icon:"fa-solid fa-trash",color:"light-blue",roles:["admin","agent","master_agent","super_agent"]},{id:"games-events",label:"Games & Events",icon:"fa-solid fa-calendar-days",color:"orange",roles:["admin","agent","master_agent","super_agent"]},{id:"sportsbook-links",label:"Sportsbook Links",icon:"fa-solid fa-lines-leaning",color:"orange",roles:["admin","agent","master_agent","super_agent"]},{id:"bet-ticker",label:"Bet Ticker",icon:"fa-solid fa-clock",color:"orange",roles:["admin","agent","master_agent","super_agent"]},{id:"ticketwriter",label:"TicketWriter",icon:"fa-solid fa-pen-to-square",color:"orange",roles:["admin","agent","master_agent","super_agent"]},{id:"scores",label:"Scores",icon:"fa-solid fa-trophy",color:"orange",roles:["admin","agent","master_agent","super_agent"]},{id:"master-agent-admin",label:"Master Agent Admin",icon:"fa-solid fa-user-tie",color:"green",roles:["admin","master_agent","super_agent"]},{id:"billing",label:"Billing",icon:"fa-solid fa-sack-dollar",color:"green",roles:["admin","agent","master_agent","super_agent"]},{id:"settings",label:"Settings",icon:"fa-solid fa-gear",color:"green",roles:["admin","agent","master_agent","super_agent"]},{id:"rules",label:"Rules",icon:"fa-solid fa-list-check",color:"green",roles:["admin","agent","master_agent","super_agent"]},{id:"feedback",label:"Feedback",icon:"fa-solid fa-wrench",color:"light-gray",roles:["admin","agent","master_agent","super_agent"]},{id:"faq",label:"FAQ",icon:"fa-solid fa-circle-question",color:"black",roles:["admin","agent","master_agent","super_agent"]},{id:"user-manual",label:"User Manual",icon:"fa-solid fa-book",color:"black",roles:["admin","agent","master_agent","super_agent"]}].filter(g=>g.roles&&g.roles.includes(c)&&ri(c,p,g.id));return h&&d==="sidebar"?e.jsx("div",{className:"admin-dashboard",children:e.jsxs("div",{style:{textAlign:"center",padding:"50px",color:"#666"},children:[e.jsx("h2",{children:"Welcome"}),e.jsx("p",{children:"Select an option from the sidebar to get started."})]})}):e.jsx("div",{className:"admin-dashboard",children:e.jsx("div",{className:"dashboard-grid",children:N.map(g=>e.jsxs("button",{type:"button",className:`grid-card ${g.color}`,onClick:()=>{if(g.id==="scores"&&typeof r=="function"){r();return}l(g.id)},children:[e.jsx("div",{className:"card-icon",children:e.jsx("i",{className:g.icon})}),e.jsx("div",{className:"card-label",children:g.label})]},g.id))})})}function Pv({onClose:l,onGo:r,initialQuery:c=""}){const[d,h]=u.useState(!0),[p,y]=u.useState(null),[N,g]=u.useState(""),[x,b]=u.useState(new Set),[f,v]=u.useState(null);u.useEffect(()=>{(async()=>{try{h(!0);const R=localStorage.getItem("token"),w=await Vj(R);y(w),w.root&&b(new Set([w.root.id]))}catch(R){console.error("Failed to fetch agent tree:",R),v("Failed to load tree")}finally{h(!1)}})()},[]),u.useEffect(()=>{g(c||"")},[c]);const A=D=>{const R=new Set(x);R.has(D)?R.delete(D):R.add(D),b(R)},E=(D,R=0)=>{const w=x.has(D.id),z=D.role!=="player",L=D.children&&D.children.length>0,C=D.isDead||D.username?.toUpperCase()==="DEAD",j=D.username.toLowerCase().includes(N.toLowerCase()),S=D.children?.some($=>$.username.toLowerCase().includes(N.toLowerCase())||$.children?.length>0);return N&&!j&&!S?null:e.jsxs("div",{className:`tree-node-wrapper depth-${R}`,children:[e.jsxs("div",{className:`tree-node ${C?"dead-node":""}`,children:[e.jsxs("div",{className:"node-content",onClick:()=>z&&A(D.id),children:[z?e.jsx("span",{className:"node-toggle",children:w?"":"+"}):e.jsx("span",{className:"node-dot",children:""}),e.jsx("span",{className:"node-icon",children:C?"":z?"":""}),e.jsx("span",{className:"node-name",children:D.username.toUpperCase()}),C&&e.jsx("span",{className:"dead-tag",children:"DEAD"})]}),e.jsx("button",{className:"node-go-btn",onClick:()=>r(D.id,D.role),children:"Go"})]}),z&&(w||N)&&L&&e.jsx("div",{className:"node-children",children:D.children.map($=>E($,R+1))})]},D.id)};return e.jsx("div",{className:"agent-tree-overlay",onClick:l,children:e.jsxs("div",{className:"agent-tree-container glass-effect",onClick:D=>D.stopPropagation(),children:[e.jsxs("div",{className:"tree-header",children:[e.jsx("h3",{children:"Agent Tree"}),e.jsx("button",{className:"close-x",onClick:l,children:""})]}),e.jsx("div",{className:"tree-search",children:e.jsxs("div",{className:"search-pill",children:[e.jsx("span",{className:"pill-label",children:"Agents"}),e.jsx("input",{type:"text",placeholder:"Search accounts...",value:N,onChange:D=>g(D.target.value)})]})}),e.jsx("div",{className:"tree-scroll-area",children:d?e.jsx("div",{className:"tree-loading",children:"Loading Tree..."}):f?e.jsx("div",{className:"tree-error",children:f}):p?e.jsxs("div",{className:"tree-root",children:[e.jsx("div",{className:"tree-node depth-0 root-node",children:e.jsxs("div",{className:"node-content",onClick:()=>A(p.root.id),children:[e.jsx("span",{className:"node-toggle",children:x.has(p.root.id)?"":"+"}),e.jsx("span",{className:"node-icon",children:""}),e.jsxs("span",{className:"node-name",children:[p.root.username.toUpperCase()," (You)"]})]})}),(x.has(p.root.id)||N)&&e.jsx("div",{className:"node-children",children:p.tree.map(D=>E(D,1))})]}):null})]})})}function $v({onMenuToggle:l,onLogout:r,onViewChange:c,role:d="admin"}){const[h,p]=u.useState(!1),[y,N]=u.useState(!1),[g,x]=u.useState(!1),[b,f]=u.useState(""),[v,A]=u.useState(""),[E,D]=u.useState({totalBalance:null,weekNet:null,todayNet:null,activeAccounts:null}),[R,w]=u.useState(null);u.useEffect(()=>{(async()=>{const ae=localStorage.getItem("token");if(ae)try{const[H,G]=await Promise.all([zy(ae),Ks(ae)]);D({totalBalance:H?.totalBalance??0,totalOutstanding:H?.totalOutstanding??0,weekNet:H?.weekNet??0,todayNet:H?.todayNet??0,activeAccounts:H?.activeAccounts??0}),w(G||null)}catch(H){console.error("Failed to load admin header summary:",H)}})()},[]);const z=M=>{if(M==null)return"";const ae=Number(M);return Number.isNaN(ae)?"":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(ae)},L=M=>{if(M==null)return"";const ae=Number(M);return Number.isNaN(ae)?"":ae.toLocaleString("en-US")},C=()=>{N(!0)},j=()=>{N(!1),p(!1),r&&r()},S=()=>{N(!1)},$=M=>{p(!1),c&&c(M)},V=M=>{M.preventDefault(),A(b.trim()),x(!0)},B=R?.username?R.username.toUpperCase():(sessionStorage.getItem(`${d}Username`)||sessionStorage.getItem("super_agentUsername")||sessionStorage.getItem("agentUsername")||sessionStorage.getItem("adminUsername")||localStorage.getItem("userRole")||"USER").toUpperCase(),oe=(R?.role||d||"admin").toLowerCase(),F=oe==="master_agent"||oe==="super_agent"?"MASTER":oe==="agent"?"AGENT":"ADMIN",k=F==="ADMIN"?"Admin Manager":`${F} Manager`,I=R?.unlimitedBalance?"Unlimited":R?.balance??null;return e.jsxs("div",{className:"admin-header",children:[e.jsxs("div",{className:"admin-header-top",children:[e.jsxs("div",{className:"admin-header-left",children:[e.jsxs("button",{type:"button",className:"home-nav-btn",onClick:()=>$("dashboard"),"aria-label":"Go to admin home",children:[e.jsx("span",{"aria-hidden":"true",children:""}),e.jsx("span",{children:"Home"})]}),e.jsx("button",{className:"mobile-menu-toggle",onClick:l,children:""}),e.jsx("h1",{className:"admin-title",children:k}),e.jsxs("form",{className:"admin-header-search",onSubmit:V,children:[e.jsx("span",{className:"search-icon","aria-hidden":"true",children:""}),e.jsx("input",{type:"text",placeholder:"Search accounts...",value:b,onChange:M=>f(M.target.value)})]})]}),e.jsx("div",{className:"admin-header-right",children:e.jsxs("div",{className:"header-actions",style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsx("button",{className:"tree-view-trigger",onClick:()=>x(!0),style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",color:"white",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",display:"flex",alignItems:"center",gap:"6px"},children:" Agent Tree"}),e.jsxs("div",{className:"user-menu",children:[e.jsxs("button",{className:"user-button",onClick:()=>p(!h),children:[" ",F,": ",B," "]}),h&&e.jsxs("div",{className:"dropdown-menu",children:[e.jsx("button",{type:"button",onClick:()=>$("profile"),children:" Profile"}),e.jsx("button",{type:"button",onClick:()=>$("settings"),children:" Settings"}),e.jsx("button",{type:"button",onClick:C,children:" Logout"})]})]})]})})]}),e.jsx("div",{className:"admin-header-bottom",children:e.jsxs("div",{className:"admin-stats-grid",children:[e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-label",children:"Week"}),e.jsx("span",{className:"stat-value green",children:z(E.weekNet)})]}),e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-label",children:"Today"}),e.jsx("span",{className:"stat-value green",children:z(E.todayNet)})]}),e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-label",children:"Active Accts"}),e.jsx("span",{className:"stat-value highlight",children:L(E.activeAccounts)})]}),e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-label",children:"Balance"}),e.jsx("span",{className:"stat-value",children:I==="Unlimited"?"Unlimited":z(I)})]})]})}),y&&e.jsx("div",{className:"modal-overlay logout-modal-overlay",children:e.jsxs("div",{className:"modal-content logout-modal",children:[e.jsx("h3",{children:"Confirm Logout"}),e.jsx("p",{children:"Are you sure you want to logout from the admin panel?"}),e.jsxs("div",{className:"modal-buttons",children:[e.jsx("button",{className:"btn-danger",onClick:j,children:"Yes, Logout"}),e.jsx("button",{className:"btn-secondary",onClick:S,children:"Cancel"})]})]})}),g&&e.jsx(Pv,{onClose:()=>x(!1),initialQuery:v,onGo:(M,ae)=>{x(!1),$(ae==="player"?"user-details":"sub-agent-admin")}})]})}function Iv({activeView:l,onViewChange:r,onOpenScoreboard:c,isOpen:d,role:h="admin",permissions:p=null}){const N=[{id:"dashboard",label:"Dashboard",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"weekly-figures",label:"Weekly Figures",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"pending",label:"Pending",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"messaging",label:"Messaging",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"game-admin",label:"Game Admin",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"customer-admin",label:"Customer Admin",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"agent-manager",label:"Agent Management",icon:"",roles:["admin","super_agent","master_agent"]},{id:"cashier",label:"Cashier",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"add-customer",label:"Add Customer",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"third-party-limits",label:"3rd Party Limits",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"props",label:"Props / Betting",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"agent-performance",label:"Agent Performance",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"analysis",label:"Analysis",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"ip-tracker",label:"IP Tracker",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"transactions-history",label:"Transactions History",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"collections",label:"Collections",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"deleted-wagers",label:"Deleted Wagers",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"games-events",label:"Games & Events",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"sportsbook-links",label:"Sportsbook Links",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"bet-ticker",label:"Bet Ticker",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"ticketwriter",label:"TicketWriter",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"scores",label:"Scores",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"master-agent-admin",label:"Master Agent Admin",icon:"",roles:["admin","master_agent","super_agent"]},{id:"billing",label:"Billing",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"settings",label:"Settings",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"monitor",label:"System Monitor",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"rules",label:"Rules",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"feedback",label:"Feedback",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"faq",label:"FAQ",icon:"",roles:["admin","agent","super_agent","master_agent"]},{id:"user-manual",label:"User Manual",icon:"",roles:["admin","agent","super_agent","master_agent"]}].filter(g=>g.roles&&g.roles.includes(h||"admin")&&ri(h,p,g.id));return e.jsx("aside",{className:`admin-sidebar ${d?"open":""}`,children:e.jsx("nav",{className:"sidebar-nav",children:N.map(g=>e.jsxs("button",{className:`nav-item ${l===g.id?"active":""}`,onClick:()=>{if(g.id==="scores"&&typeof c=="function"){c();return}r(g.id)},title:g.label,children:[e.jsx("span",{className:"nav-icon",children:g.icon}),e.jsx("span",{className:"nav-label",children:g.label})]},g.id))})})}function Hv(){const[l,r]=u.useState("this-week"),[c,d]=u.useState(""),[h,p]=u.useState(null),[y,N]=u.useState([]),[g,x]=u.useState(!0),[b,f]=u.useState(""),v=E=>{if(E==null)return"";const D=Number(E);return Number.isNaN(D)?"":D.toFixed(2)};u.useEffect(()=>{(async()=>{const D=localStorage.getItem("token");if(!D){f("Please login to view weekly figures."),x(!1);return}try{x(!0);const R=await Py(l,D);p(R.summary),N(R.customers||[]),f("")}catch(R){console.error("Failed to fetch weekly figures:",R),f(R.message||"Failed to load weekly figures")}finally{x(!1)}})()},[l]);const A=y.filter(E=>E.username?.toLowerCase().includes(c.toLowerCase())||E.name?.toLowerCase().includes(c.toLowerCase())||E.phoneNumber?.toLowerCase().includes(c.toLowerCase()));return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Weekly Figures - Summary & Customer Tracking"}),e.jsxs("div",{className:"period-filter",children:[e.jsx("button",{className:l==="this-week"?"active":"",onClick:()=>r("this-week"),children:"This Week"}),e.jsx("button",{className:l==="last-week"?"active":"",onClick:()=>r("last-week"),children:"Last Week"}),e.jsx("button",{className:l==="previous"?"active":"",onClick:()=>r("previous"),children:"Previous Weeks"})]})]}),e.jsxs("div",{className:"view-content",children:[g&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading weekly figures..."}),b&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:b}),!g&&!b&&h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"summary-section",children:[e.jsx("div",{className:"summary-header",children:e.jsx("h3",{children:"Summary"})}),e.jsxs("table",{className:"summary-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Carry"}),h.days.map((E,D)=>e.jsx("th",{children:E.day},D)),e.jsx("th",{children:"Week"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Pending"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("strong",{children:[h.totalPlayers," Players"]})}),h.days.map((E,D)=>e.jsx("td",{style:{color:E.amount<0?"#e74c3c":"#27ae60"},children:v(E.amount)},D)),e.jsx("td",{style:{color:h.weekTotal<0?"#e74c3c":"#27ae60"},children:v(h.weekTotal)}),e.jsx("td",{style:{color:h.balanceTotal<0?"#e74c3c":"#27ae60"},children:v(h.balanceTotal)}),e.jsx("td",{children:v(h.pendingTotal)})]})})]}),e.jsxs("div",{className:"dead-agents-row",children:[e.jsx("span",{children:e.jsx("strong",{children:"DEAD / AGENTS / MANAGERS"})}),e.jsxs("span",{className:"value",children:[h.deadAccounts," / ",h.agentsManagers]})]})]}),e.jsxs("div",{className:"customer-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"Customer"}),e.jsx("input",{type:"text",placeholder:"Search accounts...",value:c,onChange:E=>d(E.target.value),className:"search-input"})]}),e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"data-table customer-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Phone Number"}),e.jsx("th",{children:"Carry"}),h.days.map((E,D)=>e.jsx("th",{children:E.day},D)),e.jsx("th",{children:"Week"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Pending"})]})}),e.jsx("tbody",{children:A.map((E,D)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:E.username})}),e.jsx("td",{children:E.name}),e.jsx("td",{children:E.phoneNumber}),e.jsx("td",{style:{color:E.carry<0?"#e74c3c":"#27ae60"},children:v(E.carry)}),E.daily.map((R,w)=>e.jsx("td",{children:v(R)},w)),e.jsx("td",{children:v(E.week)}),e.jsx("td",{style:{color:E.balance<0?"#e74c3c":"#27ae60"},children:v(E.balance)}),e.jsx("td",{children:v(E.pending)})]},D))})]})})]})]})]})]})}function qv(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[y,N]=u.useState(null);u.useEffect(()=>{(async()=>{const v=localStorage.getItem("token");if(!v){p("Please login to view pending items."),d(!1);return}try{d(!0);const A=await $y(v);r(A||[]),p("")}catch(A){console.error("Failed to load pending items:",A),p(A.message||"Failed to load pending items")}finally{d(!1)}})()},[]);const g=async f=>{const v=localStorage.getItem("token");if(!v){p("Please login to approve items.");return}try{N(f),await Iy(f,v),r(A=>A.filter(E=>E.id!==f))}catch(A){p(A.message||"Failed to approve item")}finally{N(null)}},x=async f=>{const v=localStorage.getItem("token");if(!v){p("Please login to decline items.");return}try{N(f),await Hy(f,v),r(A=>A.filter(E=>E.id!==f))}catch(A){p(A.message||"Failed to decline item")}finally{N(null)}},b=f=>{if(f==null)return"";const v=Number(f);return Number.isNaN(v)?"":`$${v.toFixed(2)}`};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Pending Items"}),e.jsxs("p",{className:"count",children:[l.length," pending items"]})]}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading pending items..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(f=>e.jsxs("tr",{children:[e.jsx("td",{children:f.type}),e.jsx("td",{children:b(f.amount)}),e.jsx("td",{children:f.user}),e.jsx("td",{children:new Date(f.date).toLocaleDateString()}),e.jsx("td",{children:e.jsx("span",{className:"badge pending",children:f.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small btn-approve",onClick:()=>g(f.id),disabled:y===f.id,children:y===f.id?"Working...":"Approve"}),e.jsx("button",{className:"btn-small btn-decline",onClick:()=>x(f.id),disabled:y===f.id,children:y===f.id?"Working...":"Decline"})]})]},f.id))})]})})]})]})}function Gv(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[y,N]=u.useState(null);u.useEffect(()=>{(async()=>{const v=localStorage.getItem("token")||sessionStorage.getItem("token");if(!v){p("Please login to view messages."),d(!1);return}try{d(!0);const A=await qy(v);r(A||[]),p("")}catch(A){console.error("Failed to fetch messages:",A),p(A.message||"Failed to load messages")}finally{d(!1)}})()},[]);const g=async f=>{const v=localStorage.getItem("token")||sessionStorage.getItem("token");if(!v){p("Please login to reply.");return}const A=window.prompt("Enter your reply:");if(A)try{N(f),await Wy(f,A,v),r(E=>E.map(D=>D._id===f?{...D,read:!0,replies:[...D.replies||[],{message:A,createdAt:new Date}]}:D))}catch(E){p(E.message||"Failed to send reply")}finally{N(null)}},x=async f=>{const v=localStorage.getItem("token")||sessionStorage.getItem("token");if(!v){p("Please login to delete messages.");return}try{N(f),await Yy(f,v),r(A=>A.filter(E=>E._id!==f))}catch(A){p(A.message||"Failed to delete message")}finally{N(null)}},b=async f=>{const v=localStorage.getItem("token")||sessionStorage.getItem("token");if(v)try{await Gy(f,v),r(A=>A.map(E=>E._id===f?{...E,read:!0}:E))}catch(A){console.error("Failed to mark read:",A)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Messaging Center"}),e.jsxs("p",{className:"count",children:["Unread: ",l.filter(f=>!f.read).length]})]}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading messages..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsx("div",{className:"messaging-container",children:e.jsx("div",{className:"message-list",children:l.map(f=>e.jsxs("div",{className:`message-item ${f.read?"":"unread"}`,onClick:()=>b(f._id),children:[e.jsxs("div",{className:"message-header",children:[e.jsx("h4",{children:f.fromName}),e.jsx("span",{className:"date",children:new Date(f.createdAt).toLocaleString()})]}),e.jsx("p",{className:"subject",children:f.subject}),e.jsx("p",{className:"subject",style:{opacity:.8},children:f.body}),e.jsxs("div",{className:"message-actions",children:[e.jsx("button",{className:"btn-small",onClick:v=>{v.stopPropagation(),g(f._id)},disabled:y===f._id,children:y===f._id?"Working...":"Reply"}),e.jsx("button",{className:"btn-small",onClick:v=>{v.stopPropagation(),x(f._id)},disabled:y===f._id,children:y===f._id?"Working...":"Delete"})]})]},f._id))})})]})]})}function Wv(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[y,N]=u.useState(!1),[g,x]=u.useState(!1),[b,f]=u.useState(!1),[v,A]=u.useState(null),[E,D]=u.useState({homeTeam:"",awayTeam:"",sport:"",startTime:"",status:"scheduled"}),R=V=>{if(V==null)return"";const B=Number(V);return Number.isNaN(B)?"":`$${B.toFixed(2)}`},w=async()=>{const V=localStorage.getItem("token")||sessionStorage.getItem("token");if(!V){p("Please login to manage games."),d(!1);return}try{d(!0);const B=await ul(V);r(B||[]),p("")}catch(B){console.error("Failed to load games:",B),p(B.message||"Failed to load games")}finally{d(!1)}};u.useEffect(()=>{w()},[]);const z=()=>{D({homeTeam:"",awayTeam:"",sport:"",startTime:"",status:"scheduled"}),N(!0)},L=V=>{A(V),D({homeTeam:V.homeTeam,awayTeam:V.awayTeam,sport:V.sport,startTime:new Date(V.startTime).toISOString().slice(0,16),status:V.status}),x(!0)},C=V=>{A(V),f(!0)},j=V=>{const{name:B,value:oe}=V.target;D(F=>({...F,[B]:oe}))},S=async V=>{V.preventDefault();const B=localStorage.getItem("token")||sessionStorage.getItem("token");if(!B){p("Please login to add games.");return}try{const oe={...E,startTime:new Date(E.startTime).toISOString()},F=await jp(oe,B);r(k=>[...k,{id:F._id||F.id,homeTeam:F.homeTeam,awayTeam:F.awayTeam,sport:F.sport,startTime:F.startTime,status:F.status,activeBets:0,revenue:0}]),N(!1)}catch(oe){p(oe.message||"Failed to create match")}},$=async V=>{V.preventDefault();const B=localStorage.getItem("token")||sessionStorage.getItem("token");if(!B){p("Please login to update games.");return}try{const oe={...E,startTime:new Date(E.startTime).toISOString()},F=await vp(v.id||v._id,oe,B);r(k=>k.map(I=>(I.id||I._id)===(v.id||v._id)?{...I,homeTeam:F.homeTeam,awayTeam:F.awayTeam,sport:F.sport,startTime:F.startTime,status:F.status}:I)),x(!1)}catch(oe){p(oe.message||"Failed to update match")}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Game Administration"}),e.jsx("button",{className:"btn-primary",onClick:z,children:"Add New Game"})]}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading games..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Match"}),e.jsx("th",{children:"Sport"}),e.jsx("th",{children:"Start Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Active Bets"}),e.jsx("th",{children:"Revenue"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(V=>e.jsxs("tr",{children:[e.jsxs("td",{children:[V.homeTeam," vs ",V.awayTeam]}),e.jsx("td",{children:V.sport}),e.jsx("td",{children:new Date(V.startTime).toLocaleString()}),e.jsx("td",{children:e.jsx("span",{className:`badge ${V.status}`,children:V.status})}),e.jsx("td",{children:V.activeBets}),e.jsx("td",{children:R(V.revenue)}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>L(V),children:"Edit"}),e.jsx("button",{className:"btn-small",onClick:()=>C(V),children:"View"})]})]},V.id||V._id))})]})})]}),y&&e.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:e.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),children:[e.jsx("h3",{children:"Add New Game"}),e.jsxs("form",{onSubmit:S,className:"admin-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Home Team"}),e.jsx("input",{name:"homeTeam",value:E.homeTeam,onChange:j,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Away Team"}),e.jsx("input",{name:"awayTeam",value:E.awayTeam,onChange:j,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sport"}),e.jsx("input",{name:"sport",value:E.sport,onChange:j,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Time"}),e.jsx("input",{type:"datetime-local",name:"startTime",value:E.startTime,onChange:j,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{name:"status",value:E.status,onChange:j,children:[e.jsx("option",{value:"scheduled",children:"scheduled"}),e.jsx("option",{value:"live",children:"live"}),e.jsx("option",{value:"finished",children:"finished"}),e.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Create"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>N(!1),children:"Cancel"})]})]})]})}),g&&v&&e.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),children:e.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),children:[e.jsx("h3",{children:"Edit Game"}),e.jsxs("form",{onSubmit:$,className:"admin-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Home Team"}),e.jsx("input",{name:"homeTeam",value:E.homeTeam,onChange:j,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Away Team"}),e.jsx("input",{name:"awayTeam",value:E.awayTeam,onChange:j,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sport"}),e.jsx("input",{name:"sport",value:E.sport,onChange:j,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Time"}),e.jsx("input",{type:"datetime-local",name:"startTime",value:E.startTime,onChange:j,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{name:"status",value:E.status,onChange:j,children:[e.jsx("option",{value:"scheduled",children:"scheduled"}),e.jsx("option",{value:"live",children:"live"}),e.jsx("option",{value:"finished",children:"finished"}),e.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>x(!1),children:"Cancel"})]})]})]})}),b&&v&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),children:[e.jsx("h3",{children:"Game Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Match:"})," ",v.homeTeam," vs ",v.awayTeam]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sport:"})," ",v.sport]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Start Time:"})," ",new Date(v.startTime).toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",v.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Active Bets:"})," ",v.activeBets]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Revenue:"})," ",R(v.revenue)]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>f(!1),children:"Close"})})]})})]})}function Yv({onViewChange:l}){const[r,c]=u.useState([]),[d,h]=u.useState([]),[p,y]=u.useState(!0),[N,g]=u.useState(""),[x,b]=u.useState(null),[f,v]=u.useState(!1),[A,E]=u.useState({username:"",phoneNumber:"",password:"",firstName:"",lastName:"",fullName:"",agentId:"",referredByUserId:"",balance:"",minBet:"25",maxBet:"200",creditLimit:"1000",balanceOwed:"200",defaultMinBet:"25",defaultMaxBet:"200",defaultCreditLimit:"1000",defaultSettleLimit:"200",agentPrefix:"",parentAgentId:""}),[D,R]=u.useState("player"),[w,z]=u.useState("admin"),[L,C]=u.useState(!1),[j,S]=u.useState(!1),[$,V]=u.useState(null),[B,oe]=u.useState({phoneNumber:"",firstName:"",lastName:"",fullName:"",password:"",minBet:"25",maxBet:"200",creditLimit:"1000",balanceOwed:"0",apps:{venmo:"",cashapp:"",applePay:"",zelle:"",paypal:"",btc:"",other:""}}),[F,k]=u.useState(!1),[I,M]=u.useState({customerId:null,username:"",currentBalance:0,nextBalance:""}),[ae,H]=u.useState(""),[G,ie]=u.useState(""),[je,K]=u.useState(!1),[_,Q]=u.useState({}),[se,J]=u.useState(null),[Z,P]=u.useState(null),[q,ue]=u.useState({}),[me,ve]=u.useState(""),[we,Ae]=u.useState(""),[_e,De]=u.useState(!1),[Ge,st]=u.useState(""),[nt,Et]=u.useState(""),[Tt,ct]=u.useState(!1),[Ue,kt]=u.useState({open:!1,type:"",customerId:null,username:"",value:""}),[qt,Ct]=u.useState(""),[hl,Ya]=u.useState("");u.useEffect(()=>{(async()=>{try{y(!0);const ee=localStorage.getItem("token")||sessionStorage.getItem("token");if(!ee){c([]),g("Please login to load users.");return}const Y=await Ks(ee);if(z(Y?.role||"admin"),Ct(Y?.username||""),Ya(Y?.id||Y?._id||""),C(!!Y?.viewOnly),(Y?.role||"admin")==="agent"){const de=await dd(ee);if(c(de||[]),Y?.username){const{nextUsername:ye}=await Ba(Y.username,ee,{type:"player"});E(Ne=>({...Ne,username:ye}))}}else{const de=await rl(ee);c(de||[]);const ye=await mi(ee);if(h(ye||[]),Y?.username){const{nextUsername:Ne}=await Ba(Y.username,ee,{type:"player"});E(Te=>({...Te,username:Ne}))}}g("")}catch(ee){console.error("Error fetching users:",ee),g("Failed to load users: "+ee.message)}finally{y(!1)}})()},[]);const en=async()=>{try{v(!0);const U=localStorage.getItem("token")||sessionStorage.getItem("token");if(!U){g("Please login to create users.");return}if(!String(A.username||"").trim()||!String(A.firstName||"").trim()||!String(A.lastName||"").trim()||!String(A.phoneNumber||"").trim()||!String(A.password||"").trim()){g("Username, first name, last name, phone number, and password are required.");return}if(D==="player"&&(String(A.minBet??"").trim()===""||String(A.maxBet??"").trim()===""||String(A.creditLimit??"").trim()===""||String(A.balanceOwed??"").trim()==="")){g("Min bet, max bet, credit limit, and settle limit are required for players.");return}const Y={...A};Y.balance===""&&delete Y.balance,Y.referredByUserId||delete Y.referredByUserId,(D==="agent"||D==="super_agent")&&Y.agentId&&(Y.parentAgentId=Y.agentId),D==="player"?w==="agent"||w==="super_agent"||w==="master_agent"?await vj(Y,U):await Sp(Y,U):D==="agent"?w==="admin"?await Pr({...Y,role:"agent"},U):await hd({...Y,role:"agent"},U):D==="super_agent"&&(w==="admin"?await Pr({...Y,role:"master_agent"},U):await hd({...Y,role:"master_agent"},U)),alert(`${D==="player"?"Player":D==="agent"?"Agent":"Master Agent"} initialized successfully!`);const de=D;if(E({username:"",phoneNumber:"",password:"",firstName:"",lastName:"",fullName:"",agentId:"",referredByUserId:"",balance:"",minBet:"",maxBet:"",creditLimit:"",balanceOwed:"",defaultMinBet:"",defaultMaxBet:"",defaultCreditLimit:"",defaultSettleLimit:"",agentPrefix:"",parentAgentId:""}),R(de),Et(""),ct(!1),g(""),w==="agent"){const Ne=await dd(U);c(Ne||[])}else{const Ne=await rl(U);c(Ne||[])}}catch(U){console.error("Create user failed:",U),g(U.message||"Failed to create user")}finally{v(!1)}},mt=async U=>{const ee=U.toUpperCase();if(E(Y=>({...Y,agentPrefix:ee})),ee.length>=2){const Y=localStorage.getItem("token")||sessionStorage.getItem("token"),de=D==="super_agent"?"MA":"";try{const{nextUsername:ye}=await Ba(ee,Y,{suffix:de,type:"agent"});E(Ne=>({...Ne,username:ye}))}catch(ye){console.error("Failed to get next username from prefix:",ye)}}else E(Y=>({...Y,username:""}))},Ns=async U=>{const ee=localStorage.getItem("token")||sessionStorage.getItem("token");if(!ee)return;E(ye=>({...ye,agentId:U,referredByUserId:""}));const Y=D==="player"?"player":"agent",de=D==="super_agent"?"MA":"";if(U){const ye=d.find(Ne=>(Ne.id||Ne._id)===U);if(ye){Et(ye.username||"");try{const{nextUsername:Ne}=await Ba(ye.username,ee,{suffix:de,type:Y});E(Te=>({...Te,username:Ne}))}catch(Ne){console.error("Failed to get next username:",Ne)}}}else if(Et(""),qt)try{const{nextUsername:ye}=await Ba(qt,ee,{suffix:de,type:Y});E(Ne=>({...Ne,username:ye}))}catch(ye){console.error("Failed to fetch username for admin:",ye),E(Ne=>({...Ne,username:""}))}else E(ye=>({...ye,username:""}))},Oa=async U=>{R(U);const ee=localStorage.getItem("token");if(ee)if(U==="super_agent"||U==="agent"){const Y=U==="super_agent"?"MA":"";let de=A.agentPrefix;const ye="agent";if(de)try{const{nextUsername:Ne}=await Ba(de,ee,{suffix:Y,type:ye});E(Te=>({...Te,username:Ne,agentPrefix:de}))}catch(Ne){console.error("Failed to re-fetch username on type change",Ne)}else E(Ne=>({...Ne,username:""}))}else Ns(""),E(Y=>({...Y,referredByUserId:""}))},Ua=(U,ee,Y)=>{if(U&&ee&&Y){const de=Y.slice(-4),ye=U.slice(0,3).toUpperCase(),Ne=ee.slice(0,3).toUpperCase(),Te=`${ye}${Ne}${de}`.toUpperCase();E(xt=>({...xt,password:Te}))}},ml=U=>{const ee=U.toUpperCase();E(Y=>{const de={...Y,firstName:ee};return Ua(ee,de.lastName,de.phoneNumber),de})},da=U=>{const ee=U.toUpperCase();E(Y=>{const de={...Y,lastName:ee};return Ua(de.firstName,ee,de.phoneNumber),de})},Lt=U=>{const ee=U.replace(/\D/g,"");let Y=ee;ee.length>0&&(ee.length<=3?Y=ee:ee.length<=6?Y=`${ee.slice(0,3)}-${ee.slice(3)}`:Y=`${ee.slice(0,3)}-${ee.slice(3,6)}-${ee.slice(6,10)}`),E(de=>{const ye={...de,phoneNumber:Y};return Ua(ye.firstName,ye.lastName,Y),ye})},Dt=U=>{if(U==null||U==="")return"";const ee=Number(U);return Number.isNaN(ee)?"":`$${ee.toFixed(2)}`},jt=!L&&!f&&!!String(A.username||"").trim()&&!!String(A.firstName||"").trim()&&!!String(A.lastName||"").trim()&&!!String(A.phoneNumber||"").trim()&&!!String(A.password||"").trim()&&(D!=="player"||String(A.minBet??"").trim()!==""&&String(A.maxBet??"").trim()!==""&&String(A.creditLimit??"").trim()!==""&&String(A.balanceOwed??"").trim()!==""),Nn=U=>{M({customerId:U.id||U._id,username:U.username,currentBalance:U.balance??0,nextBalance:`${U.balance??0}`}),k(!0),g("")},wn=async U=>{U.preventDefault();const{customerId:ee,nextBalance:Y}=I,de=Number(Y);if(Number.isNaN(de)||de<0){g("Balance must be a non-negative number.");return}try{const ye=localStorage.getItem("token")||sessionStorage.getItem("token");if(!ye){g("Please login to update balance.");return}b(ee),w==="agent"?await kf(ee,de,ye):await ci(ee,{balance:de},ye),c(Ne=>Ne.map(Te=>(Te.id||Te._id)===ee?{...Te,balance:de,availableBalance:Math.max(0,de-Number(Te.pendingBalance||0))}:Te)),k(!1),g("")}catch(ye){console.error("Balance update failed:",ye),g(ye.message||"Failed to update balance")}finally{b(null)}},Va=U=>{const ee=U.id||U._id,Y={sports:U.settings?.sports??!0,casino:U.settings?.casino??!0,racebook:U.settings?.racebook??!0};return _[ee]||Y},ka=(U,ee)=>{const Y=U.id||U._id,de=Va(U);Q(ye=>({...ye,[Y]:{...de,[ee]:!de[ee]}}))},Qa=async U=>{const ee=U.id||U._id,Y=_[ee];if(Y)try{const de=localStorage.getItem("token")||sessionStorage.getItem("token");if(!de)return;b(ee);const ye={settings:{...U.settings||{},sports:!!Y.sports,casino:!!Y.casino,racebook:!!Y.racebook}};w==="agent"?await Sa(ee,ye,de):await bs(ee,ye,de),c(Ne=>Ne.map(Te=>(Te.id||Te._id)===ee?{...Te,settings:ye.settings}:Te)),Q(Ne=>{const Te={...Ne};return delete Te[ee],Te}),g("")}catch(de){console.error("Addon save failed:",de),g(de.message||"Failed to save add-ons")}finally{b(null)}},Xa=async U=>{const ee=U.id||U._id,Y=window.prompt(`Enter new password for ${U.username}:`,"");if(Y!==null){if(Y.length<6){alert("Password must be at least 6 characters long");return}try{const de=localStorage.getItem("token")||sessionStorage.getItem("token");if(!de){g("Please login to reset password.");return}b(ee),await Ur(ee,Y,de),alert(`Password for ${U.username} has been reset successfully.`),g("")}catch(de){console.error("Password reset failed:",de),g(de.message||"Failed to reset password")}finally{b(null)}}},ea=U=>{V(U),oe({phoneNumber:"",firstName:"",lastName:"",fullName:"",password:"",minBet:"",maxBet:"",creditLimit:"",balanceOwed:"",apps:{venmo:"",cashapp:"",applePay:"",zelle:"",paypal:"",btc:"",other:""}}),S(!0)},Ca=async U=>{U.preventDefault();const ee=$.id||$._id;try{const Y=localStorage.getItem("token")||sessionStorage.getItem("token"),de={};B.phoneNumber.trim()&&(de.phoneNumber=B.phoneNumber.trim()),B.firstName.trim()&&(de.firstName=B.firstName.trim()),B.lastName.trim()&&(de.lastName=B.lastName.trim()),B.fullName.trim()&&(de.fullName=B.fullName.trim()),B.password.trim()&&(de.password=B.password.trim()),B.minBet!==""&&(de.minBet=Number(B.minBet)),B.maxBet!==""&&(de.maxBet=Number(B.maxBet)),B.creditLimit!==""&&(de.creditLimit=Number(B.creditLimit)),B.balanceOwed!==""&&(de.balanceOwed=Number(B.balanceOwed));const ye=Object.entries(B.apps||{}).filter(([,Ne])=>(Ne||"").trim()!=="");if(ye.length>0&&(de.apps=Object.fromEntries(ye.map(([Ne,Te])=>[Ne,Te.trim()]))),Object.keys(de).length===0){g("Enter at least one value before saving.");return}w==="agent"?await Sa(ee,de,Y):await bs(ee,de,Y),c(Ne=>Ne.map(Te=>(Te.id||Te._id)===ee?{...Te,...de}:Te)),S(!1),g("")}catch(Y){console.error("Update customer failed:",Y),g(Y.message||"Failed to update customer")}},Mt=u.useMemo(()=>d.filter(U=>w==="admin"||w==="super_agent"||w==="master_agent"),[d,w]),tn=u.useMemo(()=>Mt.filter(U=>nt.trim()?(U.username||"").toLowerCase().includes(nt.trim().toLowerCase()):!0),[Mt,nt]),ws=u.useMemo(()=>Mt.filter(U=>me.trim()?(U.username||"").toLowerCase().includes(me.trim().toLowerCase()):!0),[Mt,me]),za=we.trim().toLowerCase(),ua=u.useMemo(()=>r.filter(U=>U.role==="user"),[r]),ha=u.useMemo(()=>za?ua.filter(U=>[U.username,U.firstName,U.lastName,U.fullName,U.phoneNumber,U.rawPassword,U.referredByUsername,U.agentId?.username].some(Y=>String(Y||"").toLowerCase().includes(za))):ua,[ua,za]),Aa=Mt.find(U=>String(U.id||U._id)===String(Ge)),Fa=!!Aa&&(Aa.role==="master_agent"||Aa.role==="super_agent"),Ea=u.useMemo(()=>{if(!Ge)return ha;if(!Fa)return ha.filter(ye=>String(ye.agentId?._id||ye.agentId||"")===String(Ge));const U=Mt.filter(ye=>{const Ne=String(ye.createdBy?._id||ye.createdBy||"");return ye.role==="agent"&&Ne===String(Ge)}),ee=new Set(U.map(ye=>String(ye.id||ye._id))),Y=ha.filter(ye=>ee.has(String(ye.agentId?._id||ye.agentId||""))),de=ha.filter(ye=>String(ye.agentId?._id||ye.agentId||"")===String(Ge));return[...Y,...de]},[Ge,Fa,ha,Mt]),Ta=u.useMemo(()=>{if(!Fa)return Ea.map(de=>({type:"player",player:de}));const U=Mt.filter(de=>{const ye=String(de.createdBy?._id||de.createdBy||"");return de.role==="agent"&&ye===String(Ge)}),ee=[];U.forEach(de=>{const ye=String(de.id||de._id),Ne=Ea.filter(Te=>String(Te.agentId?._id||Te.agentId||"")===ye);Ne.length>0&&(ee.push({type:"group",label:de.username}),Ne.forEach(Te=>ee.push({type:"player",player:Te})))});const Y=Ea.filter(de=>String(de.agentId?._id||de.agentId||"")===String(Ge));return Y.length>0&&(ee.push({type:"group",label:`${Aa.username} (Direct)`}),Y.forEach(de=>ee.push({type:"player",player:de}))),ee},[Fa,Ea,Mt,Ge,Aa]),Ss=Ea,Ee=U=>{H(U),ie(""),K(!0)},Ja=()=>{switch(ae){case"creditLimit":return"Credit Limit";case"wagerLimit":return"Wager Limit";case"settleFigure":return"Settle Figure";case"status":return"Status";default:return""}},zt=U=>{const ee=(U||"").toString().toLowerCase();return ee==="active"?"Active":ee==="read_only"||ee==="readonly"?"Read Only":"Disabled"},ht=async U=>{U.preventDefault();const ee=localStorage.getItem("token")||sessionStorage.getItem("token");if(!ee){g("Please login to update players.");return}if(Ss.length===0){g("No players available for bulk update.");return}let Y=null;if(ae==="status")Y={status:G||"active"};else{const de=Number(G);if(Number.isNaN(de)||de<0){g("Please enter a valid non-negative number.");return}ae==="creditLimit"&&(Y={creditLimit:de}),ae==="wagerLimit"&&(Y={wagerLimit:de,maxBet:de}),ae==="settleFigure"&&(Y={balanceOwed:de})}try{b("bulk-update"),await Promise.all(Ss.map(de=>{const ye=de.id||de._id;return w==="agent"?Sa(ye,Y,ee):bs(ye,Y,ee)})),c(de=>de.map(ye=>ye.role!=="user"?ye:{...ye,...Y})),K(!1),g("")}catch(de){console.error("Bulk update failed:",de),g(de.message||"Failed to update players")}finally{b(null)}},ft=(()=>{const U=r.filter(ee=>ee.role==="user");return D!=="player"&&D!=="agent"&&D!=="super_agent"?[]:w==="agent"?U:A.agentId?U.filter(ee=>String(ee.agentId?._id||ee.agentId||"")===String(A.agentId)):w==="master_agent"||w==="super_agent"?U.filter(ee=>String(ee.agentId?._id||ee.agentId||"")===String(hl)):U})(),lt=U=>{l&&l("user-details",U.id||U._id)},Za=async U=>{const ee=U.role==="agent"||U.role==="master_agent",Y=ee?"Agent":"Player";if(window.confirm(`Are you sure you want to PERMANENTLY DELETE ${Y} "${U.username}"?

This action cannot be undone.`))try{const de=localStorage.getItem("token")||sessionStorage.getItem("token");if(!de){g("Please login to delete.");return}b(U.id||U._id),ee?await Lp(U.id||U._id,de):await Tp(U.id||U._id,de),c(ye=>ye.filter(Ne=>(Ne.id||Ne._id)!==(U.id||U._id))),ee&&h(ye=>ye.filter(Ne=>(Ne.id||Ne._id)!==(U.id||U._id))),alert(`${Y} "${U.username}" deleted successfully.`),g("")}catch(de){console.error("Delete failed:",de),alert(`Failed to delete: ${de.message}`)}finally{b(null)}},Pa=U=>{const ee=U.id||U._id;return q[ee]||{firstName:U.firstName||"",lastName:U.lastName||"",password:"",creditLimit:String(U.creditLimit??0),wagerLimit:String(U.wagerLimit??U.maxBet??0),settleFigure:String(U.balanceOwed??0),status:(U.status||"active").toLowerCase(),sports:U.settings?.sports??!0,casino:U.settings?.casino??!0,racebook:U.settings?.racebook??!0}},Sn=U=>{const ee=U.id||U._id;J(Y=>Y===ee?null:ee),P(Y=>Y===ee?null:Y)},kn=U=>{const ee=U.id||U._id;J(ee),P(ee),ue(Y=>({...Y,[ee]:Pa(U)}))},Pt=(U,ee,Y)=>{const de=U.id||U._id,ye=Pa(U);ue(Ne=>({...Ne,[de]:{...ye,...Ne[de]||{},[ee]:Y}}))},ks=async U=>{const ee=U.id||U._id,Y=Pa(U),de=localStorage.getItem("token")||sessionStorage.getItem("token");if(!de)return;const ye={firstName:Y.firstName.trim(),lastName:Y.lastName.trim(),fullName:`${Y.firstName.trim()} ${Y.lastName.trim()}`.trim(),creditLimit:Number(Y.creditLimit||0),wagerLimit:Number(Y.wagerLimit||0),maxBet:Number(Y.wagerLimit||0),balanceOwed:Number(Y.settleFigure||0),status:Y.status,settings:{...U.settings||{},sports:!!Y.sports,casino:!!Y.casino,racebook:!!Y.racebook}};try{b(ee),w==="agent"?await Sa(ee,ye,de):await bs(ee,ye,de),(Y.password||"").trim()!==""&&(w==="admin"?await Ur(ee,Y.password.trim(),de):await Sa(ee,{password:Y.password.trim()},de)),c(Ne=>Ne.map(Te=>(Te.id||Te._id)===ee?{...Te,...ye,rawPassword:(Y.password||"").trim()?Y.password.trim():Te.rawPassword||""}:Te)),P(null),ue(Ne=>{const Te={...Ne};return delete Te[ee],Te}),g("")}catch(Ne){console.error("Inline save failed:",Ne),g(Ne.message||"Failed to save user details")}finally{b(null)}},ma=(U,ee)=>{const Y=U.id||U._id;let de="";ee==="name"&&(de=`${U.firstName||""} ${U.lastName||""}`.trim()),ee==="password"&&(de=U.rawPassword||""),ee==="balance"&&(de=String(U.balance??0)),kt({open:!0,type:ee,customerId:Y,username:U.username,value:de})},Gt=async U=>{U.preventDefault();const ee=localStorage.getItem("token")||sessionStorage.getItem("token");if(!(!ee||!Ue.customerId))try{if(b(Ue.customerId),Ue.type==="name"){const Y=Ue.value.trim().split(/\s+/).filter(Boolean),de=Y[0]||"",ye=Y.slice(1).join(" "),Ne={firstName:de,lastName:ye,fullName:Ue.value.trim()};w==="agent"?await Sa(Ue.customerId,Ne,ee):await bs(Ue.customerId,Ne,ee),c(Te=>Te.map(xt=>(xt.id||xt._id)===Ue.customerId?{...xt,...Ne}:xt))}if(Ue.type==="password"){const Y=Ue.value.trim();if(Y.length<6){g("Password must be at least 6 characters.");return}w==="admin"?await Ur(Ue.customerId,Y,ee):await Sa(Ue.customerId,{password:Y},ee),c(de=>de.map(ye=>(ye.id||ye._id)===Ue.customerId?{...ye,rawPassword:Y}:ye))}if(Ue.type==="balance"){const Y=Number(Ue.value);if(Number.isNaN(Y)){g("Balance must be numeric.");return}w==="agent"?await kf(Ue.customerId,Y,ee):await ci(Ue.customerId,{balance:Y},ee),c(de=>de.map(ye=>(ye.id||ye._id)===Ue.customerId?{...ye,balance:Y}:ye))}kt({open:!1,type:"",customerId:null,username:"",value:""}),g("")}catch(Y){console.error("Quick edit failed:",Y),g(Y.message||"Failed to update value")}finally{b(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsxs("div",{className:"header-icon-title",children:[e.jsx("div",{className:"glow-accent"}),e.jsx("h2",{children:"Administration Console"})]}),e.jsx("div",{style:{minWidth:"260px"},children:e.jsx("input",{type:"text",value:we,onChange:U=>Ae(U.target.value),placeholder:"Search user, name, phone, agent...",style:{width:"100%",padding:"10px 12px",borderRadius:"10px",border:"1px solid rgba(255,255,255,0.15)",background:"rgba(15,23,42,0.6)",color:"#fff"}})}),e.jsxs("div",{className:"agent-search-picker header-agent-picker",onFocus:()=>De(!0),onBlur:()=>setTimeout(()=>De(!1),120),tabIndex:0,children:[e.jsxs("div",{className:"agent-search-head",children:[e.jsx("span",{className:"agent-search-label",children:"Agents"}),e.jsx("input",{type:"text",value:me,onChange:U=>{ve(U.target.value),De(!0)},placeholder:"Search agent..."})]}),_e&&e.jsxs("div",{className:"agent-search-list",children:[e.jsx("button",{type:"button",className:`agent-search-item ${Ge?"":"selected"}`,onClick:()=>{st(""),ve(""),De(!1)},children:e.jsx("span",{children:"All Agents"})}),ws.map(U=>{const ee=U.id||U._id,Y=U.role==="master_agent"||U.role==="super_agent";return e.jsxs("button",{type:"button",className:`agent-search-item ${String(Ge||"")===String(ee)?"selected":""}`,onClick:()=>{st(ee),ve(U.username||""),De(!1)},children:[e.jsx("span",{children:U.username}),e.jsx("span",{className:`agent-type-badge ${Y?"master":"agent"}`,children:Y?"M":"A"})]},ee)}),ws.length===0&&e.jsx("div",{className:"agent-search-empty",children:"No matching agents"})]})]})]}),e.jsxs("div",{className:"view-content",children:[p&&e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("span",{children:"Loading Entries..."})]}),N&&e.jsx("div",{className:"error-state",children:N}),!p&&!N&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"20px",alignItems:"end"},children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type"}),e.jsx("div",{className:"s-wrapper",children:e.jsxs("select",{value:D,onChange:U=>Oa(U.target.value),children:[e.jsx("option",{value:"player",children:"Player"}),(w==="admin"||w==="super_agent"||w==="master_agent")&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"agent",children:"Agent"}),e.jsx("option",{value:"super_agent",children:"Master Agent"})]})]})})]}),(D==="agent"||D==="super_agent")&&(w!=="super_agent"&&w!=="master_agent"||D==="super_agent")&&e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",value:A.agentPrefix,onChange:U=>mt(U.target.value),placeholder:"Enter prefix",maxLength:5})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Username"}),e.jsx("input",{type:"text",value:A.username,placeholder:"Auto-generated",readOnly:!0,className:"readonly-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",value:A.firstName,onChange:U=>ml(U.target.value),placeholder:"Enter first name"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",value:A.lastName,onChange:U=>da(U.target.value),placeholder:"Enter last name"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:A.phoneNumber,onChange:U=>Lt(U.target.value),placeholder:"User contact"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"text",value:A.password.toUpperCase(),onChange:U=>E(ee=>({...ee,password:U.target.value.toUpperCase()})),placeholder:"Set password"})]}),(D==="player"||D==="agent"||D==="super_agent")&&(w==="admin"||w==="super_agent"||w==="master_agent")&&e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:D==="player"?"Assign to Agent":"Assign to Master Agent"}),e.jsxs("div",{className:"agent-search-picker",onFocus:()=>ct(!0),onBlur:()=>setTimeout(()=>ct(!1),120),tabIndex:0,children:[e.jsxs("div",{className:"agent-search-head",children:[e.jsx("span",{className:"agent-search-label",children:"Agents"}),e.jsx("input",{type:"text",value:nt,onChange:U=>{Et(U.target.value),ct(!0)},placeholder:"Search agent..."})]}),Tt&&e.jsxs("div",{className:"agent-search-list",children:[e.jsx("button",{type:"button",className:`agent-search-item ${A.agentId?"":"selected"}`,onClick:()=>{Ns(""),ct(!1)},children:e.jsx("span",{children:D==="player"?"Direct (Under Me)":"Direct (Created By Me)"})}),tn.map(U=>{const ee=U.id||U._id,Y=U.role==="master_agent"||U.role==="super_agent";return(D==="agent"||D==="super_agent")&&!Y?null:e.jsxs("button",{type:"button",className:`agent-search-item ${String(A.agentId||"")===String(ee)?"selected":""}`,onClick:()=>{Ns(ee),ct(!1)},children:[e.jsx("span",{children:U.username}),e.jsx("span",{className:`agent-type-badge ${Y?"master":"agent"}`,children:Y?"M":"A"})]},ee)}),tn.length===0&&e.jsx("div",{className:"agent-search-empty",children:"No matching agents"})]})]})]}),(D==="player"||D==="agent"||D==="super_agent")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Referred By Player"}),e.jsx("div",{className:"s-wrapper",children:e.jsxs("select",{value:A.referredByUserId,onChange:U=>E(ee=>({...ee,referredByUserId:U.target.value})),children:[e.jsx("option",{value:"",children:"No referral"}),ft.map(U=>e.jsxs("option",{value:U.id||U._id,children:[(U.username||"").toUpperCase(),U.fullName?` - ${U.fullName}`:""]},U.id||U._id))]})})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Min bet:"}),e.jsx("input",{type:"number",value:A.minBet,onChange:U=>E(ee=>({...ee,minBet:U.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Max bet:"}),e.jsx("input",{type:"number",value:A.maxBet,onChange:U=>E(ee=>({...ee,maxBet:U.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Credit limit:"}),e.jsx("input",{type:"number",value:A.creditLimit,onChange:U=>E(ee=>({...ee,creditLimit:U.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Settle limit:"}),e.jsx("input",{type:"number",value:A.balanceOwed,onChange:U=>E(ee=>({...ee,balanceOwed:U.target.value}))})]})]}),(D==="agent"||D==="super_agent")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Min bet: (Standard)"}),e.jsx("input",{type:"number",value:A.defaultMinBet,onChange:U=>E(ee=>({...ee,defaultMinBet:U.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Max bet: (Standard)"}),e.jsx("input",{type:"number",value:A.defaultMaxBet,onChange:U=>E(ee=>({...ee,defaultMaxBet:U.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Credit limit: (Standard)"}),e.jsx("input",{type:"number",value:A.defaultCreditLimit,onChange:U=>E(ee=>({...ee,defaultCreditLimit:U.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Settle limit: (Standard)"}),e.jsx("input",{type:"number",value:A.defaultSettleLimit,onChange:U=>E(ee=>({...ee,defaultSettleLimit:U.target.value}))})]})]}),e.jsxs("div",{className:"filter-group",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{className:"btn-primary",style:{flex:1},onClick:en,disabled:!jt,children:f?"Deploying...":`Create ${D==="player"?"Player":D==="agent"?"Agent":"Master Agent"}`}),e.jsx("button",{type:"button",className:"btn-secondary",style:{backgroundColor:"#17a2b8",color:"white",flex:.5},onClick:()=>{const U=A.password||"N/A";let ee="";D==="player"?ee=`Heres your account info. PLEASE READ ALL RULES THOROUGHLY.

Login: ${A.username}
Password: ${U}
Min bet: $${A.minBet||25}
Max bet: $${A.maxBet||200}
Credit: $${A.creditLimit||1e3}


PAYOUTS
PAY-INS are Tuesday and PAY-OUTS are Tuesday/Wednesday by end of day. Week starts Tuesday and ends Monday night. Settle ups are +/-$200 so anything under $200 will push to the following week. You must bet $500 of your own money to collect your FIRST payout. If your account is inactive for 2 weeks youll be required to settle your balance even if its under $200. Max weekly payouts are 2-3x your credit limit depending on size. Balance will still be paid out but will roll to the following week.

All we ask for is communication when it comes to payouts so we can get everyone paid quickly and as smoothly as possible. If you cant pay right away let us know and we can set up a payment schedule. We accept Venmo, Cashapp and Apple Pay. You are REQUIRED to have multiple apps to send or receive payment on. PLEASE DO NOT SEND MONEY without asking where to send first and DO NOT LABEL anything to do with sports or gambling. We will let you know Tuesday where to send. 

We kick back 20% freeplay of all losses if you pay ON TIME and in FULL and 30% if you pay in CASH. If you are a hassle to collect from and dont respond or dont pay on time or in full then you will be shown the same reciprocation when it comes to payouts. 

REFFERALS
$200 freeplay bonuses for any ACTIVE  and TRUSTWORTHY referrals. YOU are responsible for your referrals debt if they DO NOT PAY and vise versa. In order for you to get your free play bonus your refferal must go through one settle up of $200.

RULES
NO BOTS OR SHARP PLAY. We have IT monitoring to make sure there is no cheating. If we find out you are using a VPN and there are multiple people using your IP address or someone is logging into the same account, or you are using a system to place bets for you, you will be automatically kicked off and we reserve the right to not pay. No excuses. Weve heard them all so dont waste your time. 

FREEPLAY
I start all NEW players off with $200 in freeplay. In order to collect your winnings you have to place $500 of bets with your own money. (This is to prevent everyone who abuses the free play to win free money and leave). When you place a bet you have to click Use your freeplay balance $ (If you dont youre using your own money). Since we are very generous with freeplay unfortunately it is limited to straight bets only and no parlays. I offer 20% free play to anyone above settle to roll your balance to limit transactions. If you chose to roll for free play you must be actively betting with your own money or your free play will not count. 

I need active players so if you could do me a solid and place a bet today even if its with freeplay. Good luck! Lmk that youve read all the rules and or if you have any questions and need me to adjust anything!
`:ee=`Welcome to the team! Heres your ${D==="agent"?"Agent":"Master Agent"} administrative account info.

Login: ${A.username}
Password: ${U}

Standard Min bet: $${A.defaultMinBet||25}
Standard Max bet: $${A.defaultMaxBet||200}
Standard Credit: $${A.defaultCreditLimit||1e3}

Please ensure you manage your sectors responsibly and maintain clear communication with your assigned accounts. Good luck!
`,navigator.clipboard.writeText(ee).then(()=>alert("Copied to clipboard!"))},children:"Copy Info"})]})]}),e.jsx("div",{className:"table-container",children:e.jsx("div",{className:"scroll-wrapper",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Password"}),e.jsx("th",{children:"Name"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>Ee("creditLimit"),children:"Credit Limit"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>Ee("wagerLimit"),children:"Wager Limit"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>Ee("settleFigure"),children:"Settle Figure"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>Ee("status"),children:"Status"}),e.jsx("th",{children:"Sportsbook"}),e.jsx("th",{children:"Casino"}),e.jsx("th",{children:"Horses"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:Ta.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"empty-msg",children:"No records found."})}):Ta.map((U,ee)=>{if(U.type==="group")return e.jsx("tr",{className:"agent-group-row",children:e.jsx("td",{colSpan:12,children:U.label})},`group-${U.label}-${ee}`);const Y=U.player,de=Y.id||Y._id,ye=Va(Y),Ne=!!_[de],Te=se===de,xt=Z===de,$t=Pa(Y);return e.jsxs(ys.Fragment,{children:[e.jsxs("tr",{className:`customer-row role-${Y.role}`,children:[e.jsxs("td",{className:"user-cell",children:[e.jsx("button",{className:"user-link-btn",onClick:()=>lt(Y),children:e.jsx("span",{children:Y.username.toUpperCase()})}),Y.role==="user"&&e.jsx("button",{className:"row-expand-btn",type:"button",onClick:()=>Sn(Y),children:Te?"":""})]}),e.jsx("td",{className:"pass-cell",children:Y.rawPassword||""}),e.jsx("td",{children:Y.role==="user"?`${Y.firstName||""} ${Y.lastName||""}`.trim()||"":Y.fullName||""}),e.jsx("td",{className:"highlight-cell",children:Number(Y.creditLimit||1e3).toLocaleString()}),e.jsx("td",{children:Number(Y.wagerLimit??Y.maxBet??0).toLocaleString()}),e.jsx("td",{className:"highlight-cell",children:Number(Y.balanceOwed||0).toLocaleString()}),e.jsx("td",{className:`balance-cell ${Number(Y.balance)<0?"neg":"pos"}`,children:Dt(Y.balance)}),e.jsx("td",{children:zt(Y.status)}),e.jsx("td",{children:Y.role==="user"?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!ye.sports,onChange:()=>ka(Y,"sports")}),e.jsx("span",{className:"slider-mini"})]}):""}),e.jsx("td",{children:Y.role==="user"?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!ye.casino,onChange:()=>ka(Y,"casino")}),e.jsx("span",{className:"slider-mini"})]}):""}),e.jsx("td",{children:Y.role==="user"?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!ye.racebook,onChange:()=>ka(Y,"racebook")}),e.jsx("span",{className:"slider-mini"})]}):""}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons-cell",style:{display:"flex",gap:"8px"},children:[Y.role==="user"?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:`btn-secondary ${Ne?"btn-save-dirty":"btn-save-clean"}`,type:"button",onClick:()=>Qa(Y),disabled:!Ne||x===de,children:"Save"}),e.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>xt?ks(Y):kn(Y),disabled:x===de,children:xt?"SAVE":"EDIT"})]}):e.jsx("button",{className:"btn-icon",title:"Edit Customer",onClick:()=>ea(Y),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),w==="admin"&&e.jsx("button",{className:"btn-icon delete-btn",title:"Delete Customer",onClick:()=>Za(Y),style:{color:"#ff4d4d"},children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]}),Y.role==="user"&&Te&&e.jsx("tr",{className:"expanded-detail-row",children:e.jsx("td",{colSpan:12,children:e.jsxs("div",{className:`expanded-detail-grid ${xt?"is-editing":""}`,children:[e.jsxs("div",{className:"detail-card",children:[e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Password"}),e.jsxs("span",{children:[Y.rawPassword||""," ",e.jsx("button",{type:"button",className:"link-edit-btn",onClick:()=>ma(Y,"password"),children:"change"})]})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Name"}),e.jsxs("span",{children:[`${Y.firstName||""} ${Y.lastName||""}`.trim()||""," ",e.jsx("button",{type:"button",className:"link-edit-btn",onClick:()=>ma(Y,"name"),children:"change"})]})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Credit Limit"}),e.jsx("span",{children:xt?e.jsx("input",{type:"number",value:$t.creditLimit,onChange:fa=>Pt(Y,"creditLimit",fa.target.value)}):`$${Number(Y.creditLimit||0).toLocaleString()}`})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Wager Limit"}),e.jsx("span",{children:xt?e.jsx("input",{type:"number",value:$t.wagerLimit,onChange:fa=>Pt(Y,"wagerLimit",fa.target.value)}):`$${Number(Y.wagerLimit??Y.maxBet??0).toLocaleString()}`})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Settle Figure"}),e.jsx("span",{children:xt?e.jsx("input",{type:"number",value:$t.settleFigure,onChange:fa=>Pt(Y,"settleFigure",fa.target.value)}):`$${Number(Y.balanceOwed||0).toLocaleString()}`})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Balance"}),e.jsxs("span",{className:Number(Y.balance)<0?"neg":"pos",children:[Dt(Y.balance)," ",e.jsx("button",{type:"button",className:"link-edit-btn",onClick:()=>ma(Y,"balance"),children:"change"})]})]})]}),e.jsxs("div",{className:"detail-card",children:[e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Pending"}),e.jsx("span",{children:Dt(Y.pendingBalance||0)})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Available"}),e.jsx("span",{children:Dt(Y.availableBalance??Y.balance??0)})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"FP Balance"}),e.jsx("span",{children:Dt(Y.freeplayBalance||0)})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Parlay Max Wager"}),e.jsx("span",{children:"$0"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Parlay Max Payout"}),e.jsx("span",{children:"$6,000"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Status"}),e.jsx("span",{children:xt?e.jsxs("select",{value:$t.status,onChange:fa=>Pt(Y,"status",fa.target.value),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"read_only",children:"Read Only"})]}):zt(Y.status)})]})]}),e.jsxs("div",{className:"detail-card",children:[e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Max Contest Wager"}),e.jsx("span",{children:"$0"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Max Contest Payout"}),e.jsx("span",{children:"$5,000"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Max Soccer Wager"}),e.jsx("span",{children:"$0"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Sportsbook"}),e.jsx("span",{children:xt?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!$t.sports,onChange:()=>Pt(Y,"sports",!$t.sports)}),e.jsx("span",{className:"slider-mini"})]}):Y.settings?.sports??!0?"On":"Off"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Casino"}),e.jsx("span",{children:xt?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!$t.casino,onChange:()=>Pt(Y,"casino",!$t.casino)}),e.jsx("span",{className:"slider-mini"})]}):Y.settings?.casino??!0?"On":"Off"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Horses"}),e.jsx("span",{children:xt?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!$t.racebook,onChange:()=>Pt(Y,"racebook",!$t.racebook)}),e.jsx("span",{className:"slider-mini"})]}):Y.settings?.racebook??!0?"On":"Off"})]})]})]})})})]},de)})})]})})}),j&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("h3",{children:["Edit ",$?.role==="user"?"Player":$?.role==="agent"?"Agent":"Master Agent",": ",$?.username]}),e.jsxs("form",{onSubmit:Ca,children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",value:B.firstName,onChange:U=>oe({...B,firstName:U.target.value}),placeholder:$?.firstName||"First name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",value:B.lastName,onChange:U=>oe({...B,lastName:U.target.value}),placeholder:$?.lastName||"Last name"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:B.phoneNumber,onChange:U=>oe({...B,phoneNumber:U.target.value}),placeholder:$?.phoneNumber||"Phone number"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Min bet:"}),e.jsx("input",{type:"number",value:B.minBet,onChange:U=>oe({...B,minBet:U.target.value}),placeholder:`${$?.minBet??25}`})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Max bet:"}),e.jsx("input",{type:"number",value:B.maxBet,onChange:U=>oe({...B,maxBet:U.target.value}),placeholder:`${$?.maxBet??200}`})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Credit limit:"}),e.jsx("input",{type:"number",value:B.creditLimit,onChange:U=>oe({...B,creditLimit:U.target.value}),placeholder:`${$?.creditLimit??1e3}`})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Settle Limit:"}),e.jsx("input",{type:"number",value:B.balanceOwed,onChange:U=>oe({...B,balanceOwed:U.target.value}),placeholder:`${$?.balanceOwed??0}`})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"New Password (leave blank to keep)"}),e.jsx("input",{type:"password",value:B.password,onChange:U=>oe({...B,password:U.target.value})})]}),e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-icon",title:"View Details",onClick:()=>lt($),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"btn-icon",title:"Detailed View (Edit)",onClick:()=>ea($),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"btn-icon",title:"Adjust Balance / Settle",onClick:()=>Nn($),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),e.jsx("button",{className:"btn-icon",title:"Reset Password",onClick:()=>Xa($),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),w==="admin"&&e.jsx("button",{className:"btn-icon delete-btn",title:"Delete Customer",onClick:()=>Za($),style:{color:"#ff4d4d"},children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),e.jsxs("div",{className:"payment-apps-section",children:[e.jsx("h4",{className:"section-title",style:{color:"#0d3b5c",marginBottom:"15px"},children:"Payment Apps"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Venmo"}),e.jsx("input",{type:"text",value:B.apps.venmo,onChange:U=>oe({...B,apps:{...B.apps,venmo:U.target.value}}),placeholder:"@username"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cashapp"}),e.jsx("input",{type:"text",value:B.apps.cashapp,onChange:U=>oe({...B,apps:{...B.apps,cashapp:U.target.value}}),placeholder:"$cashtag"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Apple Pay"}),e.jsx("input",{type:"text",value:B.apps.applePay,onChange:U=>oe({...B,apps:{...B.apps,applePay:U.target.value}}),placeholder:"Phone/Email"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Zelle"}),e.jsx("input",{type:"text",value:B.apps.zelle,onChange:U=>oe({...B,apps:{...B.apps,zelle:U.target.value}}),placeholder:"Phone/Email"})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>S(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-secondary",style:{marginLeft:"auto",backgroundColor:"#17a2b8",color:"white"},onClick:()=>{const U=$.rawPassword||B.password||"N/A",ee=`Heres your account info. PLEASE READ ALL RULES THOROUGHLY.

Login: ${B.username||$.username}
Password: ${U}
Min bet: $${B.minBet}
Max bet: $${B.maxBet}
Credit: $${B.creditLimit}


PAYOUTS
PAY-INS are Tuesday and PAY-OUTS are Tuesday/Wednesday by end of day. Week starts Tuesday and ends Monday night. Settle ups are +/-$200 so anything under $200 will push to the following week. You must bet $500 of your own money to collect your FIRST payout. If your account is inactive for 2 weeks youll be required to settle your balance even if its under $200. Max weekly payouts are 2-3x your credit limit depending on size. Balance will still be paid out but will roll to the following week.

All we ask for is communication when it comes to payouts so we can get everyone paid quickly and as smoothly as possible. If you cant pay right away let us know and we can set up a payment schedule. We accept Venmo, Cashapp and Apple Pay. You are REQUIRED to have multiple apps to send or receive payment on. PLEASE DO NOT SEND MONEY without asking where to send first and DO NOT LABEL anything to do with sports or gambling. We will let you know Tuesday where to send. 

We kick back 20% freeplay of all losses if you pay ON TIME and in FULL and 30% if you pay in CASH. If you are a hassle to collect from and dont respond or dont pay on time or in full then you will be shown the same reciprocation when it comes to payouts. 

REFFERALS
$200 freeplay bonuses for any ACTIVE  and TRUSTWORTHY referrals. YOU are responsible for your referrals debt if they DO NOT PAY and vise versa. In order for you to get your free play bonus your refferal must go through one settle up of $200.

RULES
NO BOTS OR SHARP PLAY. We have IT monitoring to make sure there is no cheating. If we find out you are using a VPN and there are multiple people using your IP address or someone is logging into the same account, or you are using a system to place bets for you, you will be automatically kicked off and we reserve the right to not pay. No excuses. Weve heard them all so dont waste your time. 

FREEPLAY
I start all NEW players off with $200 in freeplay. In order to collect your winnings you have to place $500 of bets with your own money. (This is to prevent everyone who abuses the free play to win free money and leave). When you place a bet you have to click Use your freeplay balance $ (If you dont youre using your own money). Since we are very generous with freeplay unfortunately it is limited to straight bets only and no parlays. I offer 20% free play to anyone above settle to roll your balance to limit transactions. If you chose to roll for free play you must be actively betting with your own money or your free play will not count. 

I need active players so if you could do me a solid and place a bet today even if its with freeplay. Good luck! Lmk that youve read all the rules and or if you have any questions and need me to adjust anything!
`;navigator.clipboard.writeText(ee).then(()=>alert("Copied to clipboard!"))},children:"Copy Info"})]})]})]})}),je&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content bulk-edit-modal",children:[e.jsxs("h3",{children:["Edit ",Ja()]}),e.jsxs("form",{onSubmit:ht,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:Ja()}),ae==="status"?e.jsxs("select",{value:G,onChange:U=>ie(U.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"read_only",children:"Read Only"})]}):e.jsx("input",{type:"number",step:"1",min:"0",value:G,onChange:U=>ie(U.target.value),placeholder:"Enter amount",required:!0})]}),e.jsx("p",{className:"bulk-edit-hint",children:"This updates all players shown in the current list."}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:x==="bulk-update",children:x==="bulk-update"?"Saving...":"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>K(!1),children:"Cancel"})]})]})]})}),Ue.open&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content bulk-edit-modal",children:[e.jsxs("h3",{children:["Edit ",Ue.type==="name"?"Name":Ue.type==="password"?"Password":"Balance",": ",Ue.username]}),e.jsxs("form",{onSubmit:Gt,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:Ue.type==="name"?"Name":Ue.type==="password"?"Password":"Balance"}),e.jsx("input",{type:Ue.type==="balance"?"number":"text",value:Ue.value,onChange:U=>kt(ee=>({...ee,value:U.target.value})),autoFocus:!0,required:!0})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:x===Ue.customerId,children:x===Ue.customerId?"Saving...":"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>kt({open:!1,type:"",customerId:null,username:"",value:""}),children:"Cancel"})]})]})]})}),F&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-glass-content",children:[e.jsxs("h3",{children:["Adjust Balance: ",I.username]}),e.jsxs("form",{onSubmit:wn,children:[e.jsxs("div",{className:"premium-field-info",children:[e.jsx("label",{children:"Current Net Balance"}),e.jsx("div",{className:`large-val ${I.currentBalance<0?"neg":"pos"}`,children:Dt(I.currentBalance)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"New Net Balance"}),e.jsxs("div",{className:"input-with-symbol",children:[e.jsx("span",{className:"sym",children:"$"}),e.jsx("input",{type:"number",step:"0.01",value:I.nextBalance,onChange:U=>M({...I,nextBalance:U.target.value}),autoFocus:!0,required:!0})]}),e.jsx("small",{className:"field-hint",children:"Setting a new net balance will adjust the credit/owed amount accordingly."})]}),e.jsxs("div",{className:"modal-premium-actions",children:[e.jsx("button",{type:"submit",className:"btn-save-premium",disabled:x!==null,children:x!==null?"Updating...":"Confirm Adjustment"}),e.jsx("button",{type:"button",className:"btn-cancel-premium",onClick:()=>k(!1),children:"Cancel"})]})]})]})}),e.jsx("style",{children:`
        .premium-admin-theme { 
          background: #0f172a; 
          min-height: 100vh; color: #f8fafc; 
          font-family: 'Inter', sans-serif;
          padding: 24px;
        }
        .view-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px; border: none; padding: 0; }
        .header-icon-title { display: flex; align-items: center; gap: 16px; }
        .glow-accent { width: 8px; height: 32px; background: #3b82f6; border-radius: 4px; box-shadow: 0 0 15px #3b82f6; }
        .view-header h2 { font-size: 28px; font-weight: 800; margin: 0; color: #0f172a; }
        
        .btn-create-premium {
          background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
          color: white; border: none; padding: 12px 24px; border-radius: 12px;
          font-weight: 700; display: flex; align-items: center; gap: 10px;
          cursor: pointer; box-shadow: 0 10px 20px rgba(37,99,235,0.2);
          transition: all 0.2s;
        }
        .btn-create-premium:hover { transform: translateY(-2px); box-shadow: 0 15px 30px rgba(37,99,235,0.3); }

        .premium-toolbar {
          background: rgba(30, 41, 59, 0.5); border: 1px solid rgba(255,255,255,0.1);
          border-radius: 20px; padding: 24px; display: flex; flex-direction: column; gap: 20px;
          margin-bottom: 32px; backdrop-filter: blur(10px);
        }
        .toolbar-section { display: flex; gap: 20px; flex-wrap: wrap; align-items: flex-end; }
        .t-group { display: flex; flex-direction: column; gap: 8px; flex: 1; min-width: 150px; }
        .t-group.small { flex: 0 1 100px; min-width: 80px; }
        .t-group label { font-size: 11px; text-transform: uppercase; font-weight: 800; color: #64748b; letter-spacing: 0.5px; }
        .t-group input, .t-group select {
          background: #0f172a; border: 1px solid rgba(255,255,255,0.1); color: white;
          padding: 10px 14px; border-radius: 8px; font-size: 14px; outline: none; transition: all 0.2s;
        }
        .t-group input:focus { border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59,130,246,0.1); }
        .readonly-input { background: rgba(0,0,0,0.2) !important; color: #64748b !important; }

        .btn-submit-premium {
          background: #f8fafc; color: #0f172a; border: none; padding: 12px 24px;
          border-radius: 10px; font-weight: 700; cursor: pointer; transition: all 0.2s;
        }
        .btn-submit-premium:hover { background: #fff; transform: scale(1.02); }

        .agent-search-picker {
          position: relative;
          border: 1px solid #cbd5e1;
          border-radius: 8px;
          background: #f8fafc;
        }
        .header-agent-picker {
          min-width: 320px;
          max-width: 420px;
        }
        .agent-search-head {
          display: grid;
          grid-template-columns: auto 1fr;
          align-items: center;
        }
        .agent-search-label {
          padding: 8px 10px;
          border-right: 1px solid #cbd5e1;
          color: #334155;
          font-size: 13px;
          font-weight: 600;
          white-space: nowrap;
        }
        .agent-search-head input {
          border: none !important;
          background: transparent !important;
          padding: 8px 10px !important;
          outline: none;
        }
        .agent-search-list {
          position: absolute;
          z-index: 30;
          left: 0;
          right: 0;
          top: calc(100% + 4px);
          max-height: 220px;
          overflow-y: auto;
          border: 1px solid #cbd5e1;
          border-radius: 8px;
          background: #ffffff;
          box-shadow: 0 12px 22px rgba(15, 23, 42, 0.15);
        }
        .agent-search-item {
          width: 100%;
          border: none;
          background: #fff;
          padding: 8px 10px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          cursor: pointer;
          font-size: 13px;
          color: #1e293b;
          border-bottom: 1px solid #e2e8f0;
        }
        .agent-search-item:hover,
        .agent-search-item.selected {
          background: #e2f2ff;
        }
        .agent-type-badge {
          font-weight: 800;
          font-size: 13px;
          line-height: 1;
        }
        .agent-type-badge.master { color: #0f8a0f; }
        .agent-type-badge.agent { color: #dc2626; }
        .agent-search-empty {
          padding: 10px;
          color: #64748b;
          font-size: 12px;
        }

        .table-glass-container {
          background: rgba(30, 41, 59, 0.3); border: 1px solid rgba(255,255,255,0.05);
          border-radius: 24px; padding: 20px;
        }
        .table-actions { margin-bottom: 20px; display: flex; justify-content: space-between; }
        .clickable-col-head { cursor: pointer; text-decoration: underline; text-decoration-style: dotted; }
        .clickable-col-head:hover { color: #3b82f6; }

        .scroll-wrapper { overflow-x: auto; }
        .row-expand-btn {
          border: none;
          background: transparent;
          color: #475569;
          font-size: 20px;
          line-height: 1;
          cursor: pointer;
          margin-left: 8px;
        }
        .user-cell {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 6px;
        }
        .expanded-detail-row td {
          background: #f0f6b3;
          padding: 12px 16px;
        }
        .expanded-detail-grid {
          display: grid;
          grid-template-columns: repeat(3, minmax(0, 1fr));
          gap: 12px;
        }
        .detail-card {
          background: #f8fafc;
          border: 1px solid #cbd5e1;
          border-radius: 6px;
        }
        .detail-line {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 10px;
          padding: 12px 14px;
          border-bottom: 1px solid #e2e8f0;
          font-size: 15px;
          color: #1e293b;
        }
        .detail-line:last-child {
          border-bottom: none;
        }
        .detail-line input,
        .detail-line select {
          width: 140px;
          border: 1px solid #94a3b8;
          border-radius: 4px;
          padding: 4px 8px;
          font-size: 14px;
          color: #0f172a;
          background: #fff;
        }
        .link-edit-btn {
          border: none;
          background: transparent;
          color: #2563eb;
          text-decoration: underline;
          cursor: pointer;
          margin-left: 8px;
          font-size: 12px;
          text-transform: uppercase;
        }
        .premium-table { width: 100%; border-collapse: separate; border-spacing: 0 8px; }
        .premium-table th { text-align: left; padding: 12px 16px; font-size: 11px; text-transform: uppercase; color: #64748b; font-weight: 800; }
        .customer-row { background: rgba(255,255,255,0.02); transition: all 0.2s; }
        .customer-row:hover { background: rgba(255,255,255,0.05); transform: translateY(-1px); }
        .customer-row td { padding: 16px; border-top: 1px solid rgba(255,255,255,0.02); border-bottom: 1px solid rgba(255,255,255,0.02); }
        .customer-row td:first-child { border-left: 1px solid rgba(255,255,255,0.02); border-radius: 12px 0 0 12px; }
        .customer-row td:last-child { border-right: 1px solid rgba(255,255,255,0.02); border-radius: 0 12px 12px 0; }
        .agent-group-row td {
          background: #073b53;
          color: #e8f5ff;
          font-weight: 700;
          letter-spacing: 0.3px;
          padding: 9px 12px;
        }

        .user-link-btn {
          background: none; border: none; display: flex; align-items: center; gap: 12px;
          color: #3b82f6; font-weight: 700; cursor: pointer; padding: 0;
        }
        .btn-save-clean {
          background: #94a3b8 !important;
          color: #fff !important;
          opacity: 0.7;
        }
        .btn-save-dirty {
          background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%) !important;
          color: #fff !important;
          box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.2);
        }
        .btn-save-dirty:hover {
          filter: brightness(1.05);
        }
        .avatar-small {
          width: 32px; height: 32px; background: #334155; color: white;
          border-radius: 50%; display: flex; align-items: center; justify-content: center;
          font-size: 12px; font-weight: 800; border: 2px solid rgba(59,130,246,0.3);
        }
        
        .highlight-cell { color: #10b981; font-weight: 700; }
        .balance-cell button {
          background: none; border: none; font-weight: 800; cursor: pointer;
          color: inherit; text-decoration: underline; text-decoration-style: dotted;
        }
        .balance-cell.pos { color: #10b981; }
        .balance-cell.neg { color: #ef4444; }

        .status-select {
          background: none; border: none; color: white; font-weight: 700;
          text-transform: uppercase; font-size: 10px; cursor: pointer; padding: 4px 8px;
          border-radius: 6px; min-width: 90px;
        }
        .status-select.active { background: rgba(16,185,129,0.1); color: #10b981; }
        .status-select.disabled, .status-select.suspended { background: rgba(239,68,68,0.1); color: #ef4444; }

        .switch-mini {
          position: relative;
          display: inline-block;
          width: 52px;
          height: 28px;
        }
        .switch-mini input { opacity: 0; width: 0; height: 0; }
        .slider-mini {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #94a3b8;
          transition: .2s;
          border-radius: 999px;
        }
        .slider-mini:before {
          position: absolute;
          content: "";
          height: 20px;
          width: 20px;
          left: 4px;
          top: 4px;
          background-color: white;
          transition: .2s;
          border-radius: 50%;
        }
        .switch-mini input:checked + .slider-mini { background-color: #10b981; }
        .switch-mini input:checked + .slider-mini:before { transform: translateX(24px); }

        .bulk-edit-modal { max-width: 560px; }
        .bulk-edit-hint { margin-top: 8px; color: #64748b; font-size: 13px; }

        @media (max-width: 1200px) {
          .expanded-detail-grid { grid-template-columns: 1fr; }
        }

        .capability-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px; }
        .cap-tag {
          border: none; border-radius: 4px; padding: 2px 4px; font-size: 9px;
          font-weight: 800; cursor: pointer; transition: all 0.2s;
        }
        .cap-tag.on { background: #10b981; color: white; }
        .cap-tag.off { background: rgba(255,255,255,0.05); color: #64748b; }

        .loading-state { padding: 40px; text-align: center; display: flex; flex-direction: column; align-items: center; gap: 16px; }
        .spinner { width: 40px; height: 40px; border: 4px solid rgba(59,130,246,0.1); border-top-color: #3b82f6; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* Modal Enhancements */
        .modal-overlay { position: fixed; inset: 0; background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(8px); display: flex; align-items: center; justify-content: center; z-index: 1000; padding: 20px; }
        .modal-glass-content { background: #1e293b; border: 1px solid rgba(255,255,255,0.1); border-radius: 24px; padding: 32px; width: 100%; max-width: 650px; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); }
        .modal-glass-content h3 { margin: 0 0 24px 0; font-size: 20px; font-weight: 800; color: #fff; }
        
        .p-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .p-field { display: flex; flex-direction: column; gap: 8px; margin-bottom: 20px; }
        .p-field label { font-size: 11px; text-transform: uppercase; font-weight: 800; color: #64748b; letter-spacing: 0.5px; }
        .p-field input { background: #0f172a; border: 1px solid rgba(255,255,255,0.1); color: white; padding: 12px 16px; border-radius: 12px; font-size: 14px; outline: none; }
        .p-field input:focus { border-color: #3b82f6; }
        
        .modal-premium-actions { display: flex; gap: 12px; margin-top: 32px; }
        .btn-save-premium { flex: 2; background: #3b82f6; color: white; border: none; padding: 14px; border-radius: 12px; font-weight: 700; cursor: pointer; transition: all 0.2s; }
        .btn-save-premium:hover { background: #2563eb; transform: translateY(-1px); }
        .btn-cancel-premium { flex: 1; background: rgba(255,255,255,0.05); color: #94a3b8; border: none; padding: 14px; border-radius: 12px; font-weight: 700; cursor: pointer; }
        
        .premium-field-info { background: rgba(0,0,0,0.2); border-radius: 16px; padding: 20px; margin-bottom: 24px; text-align: center; }
        .premium-field-info label { display: block; font-size: 11px; text-transform: uppercase; color: #64748b; margin-bottom: 8px; font-weight: 800; }
        .large-val { font-size: 32px; font-weight: 900; }
        .input-with-symbol { position: relative; }
        .input-with-symbol .sym { position: absolute; left: 16px; top: 50%; transform: translateY(-50%); color: #64748b; font-weight: 700; }
        .input-with-symbol input { padding-left: 32px; width: 100%; font-size: 18px; font-weight: 800; }
        .field-hint { font-size: 12px; color: #64748b; margin-top: 4px; }

        /* Role Colors & Badges */
        .role-user { border-left: 3px solid #3b82f6; }
        .role-agent { border-left: 3px solid #10b981; }
        .role-super_agent { border-left: 3px solid #eab308; }

        .avatar-small.role-agent { border-color: #10b981; background: rgba(16,185,129,0.1); }
        .avatar-small.role-super_agent { border-color: #eab308; background: rgba(234,179,8,0.1); }

        .role-badge {
          display: inline-block; padding: 2px 8px; border-radius: 6px;
          font-size: 10px; font-weight: 800; text-transform: uppercase;
          margin-bottom: 4px;
        }
        .role-badge.user { background: rgba(59,130,246,0.1); color: #3b82f6; }
        .role-badge.agent { background: rgba(16,185,129,0.1); color: #10b981; }
        .role-badge.super_agent { background: rgba(234,179,8,0.1); color: #eab308; }

        .hierarchy-info { display: flex; flex-direction: column; gap: 4px; }
        .capability-mini-grid { display: flex; gap: 4px; }
        .cap-dot { width: 6px; height: 6px; border-radius: 50%; background: #10b981; }

      `})]})]})]})}const Vv=[{value:"deposit",label:"Deposit"},{value:"withdrawal",label:"Withdraw"},{value:"credit_adj",label:"Credit Adj"},{value:"debit_adj",label:"Debit Adj"},{value:"fp_deposit",label:"FP Deposit"}],Qv=10,Xv=(l=new Date)=>{const r=new Date(l);if(Number.isNaN(r.getTime()))return"";const c=r.getFullYear(),d=String(r.getMonth()+1).padStart(2,"0"),h=String(r.getDate()).padStart(2,"0");return`${c}-${d}-${h}`},zr={deposit:"Customer Deposit",withdrawal:"Customer Withdrawal",credit_adj:"Customer Credit Adjustment",debit_adj:"Customer Debit Adjustment",fp_deposit:"Customer Freeplay Deposit"},id=(l,r="")=>({id:l,agentId:r,searchQuery:"",selectedUserId:"",type:"deposit",amount:"",figureDate:Xv(),description:zr.deposit,searchOpen:!1,busy:!1,error:""});function Jv(){const[l,r]=u.useState("admin"),[c,d]=u.useState([]),[h,p]=u.useState([]),[y,N]=u.useState("manual"),[g,x]=u.useState(""),[b,f]=u.useState({}),[v,A]=u.useState(()=>Array.from({length:Qv},(q,ue)=>id(`manual-${ue+1}`))),[E,D]=u.useState({}),[R,w]=u.useState({totalDeposits:0,totalWithdrawals:0,pendingCount:0}),[z,L]=u.useState([]),[C,j]=u.useState([]),[S,$]=u.useState(!0),[V,B]=u.useState(!1),[oe,F]=u.useState(""),[k,I]=u.useState(""),M=u.useMemo(()=>{const q=new Map;for(const ue of c){const me=String(ue.id||ue._id||"");me&&q.set(me,ue)}return q},[c]),ae=u.useMemo(()=>{const q=g.trim().toLowerCase();return q?h.filter(ue=>{const me=String(ue.username||"").toLowerCase(),ve=String(ue.phoneNumber||"").toLowerCase();return me.includes(q)||ve.includes(q)}):h},[h,g]),H=async(q,ue)=>{if(ue==="admin")try{const me=await Xy(q);w({totalDeposits:Number(me?.totalDeposits||0),totalWithdrawals:Number(me?.totalWithdrawals||0),pendingCount:Number(me?.pendingCount||0)})}catch{}},G=async(q,ue)=>{if(ue!=="admin"){L(C);return}try{const me=await il({user:"",type:"all",status:"all",time:"30d",limit:30},q);L(Array.isArray(me?.transactions)?me.transactions:[])}catch{L(C)}},ie=async()=>{const q=localStorage.getItem("token");if(!q){F("Please login to view cashier data."),$(!1);return}try{$(!0),F("");const ue=await Ks(q),me=String(ue?.role||"admin");r(me);let ve=[];if(me==="admin"?ve=await rl(q):ve=await dd(q),d(Array.isArray(ve)?ve:[]),me==="admin"||me==="master_agent"||me==="super_agent")try{const we=await mi(q),Ae=Array.isArray(we)?we:[];p(Ae),f(_e=>{const De={..._e};for(const Ge of Ae){const st=String(Ge.id||Ge._id||"");st&&typeof De[st]!="boolean"&&(De[st]=!1)}return De}),D(_e=>{const De={..._e};for(const Ge of Ae){const st=String(Ge.id||Ge._id||"");st&&!De[st]&&(De[st]=id(st,st))}return De})}catch{p([])}else p([]);await Promise.all([H(q,me),G(q,me)])}catch(ue){F(ue.message||"Failed to load cashier data")}finally{$(!1)}};u.useEffect(()=>{ie()},[]),u.useEffect(()=>{l!=="admin"&&L(C)},[C,l]);const je=q=>{if(q==null)return"";const ue=Number(q);return Number.isNaN(ue)?"":`$${ue.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`},K=q=>{const ue=String(q.searchQuery||"").trim().toLowerCase();return c.filter(we=>q.agentId?String(we?.agentId?._id||we?.agentId||"")===String(q.agentId):!0).filter(we=>{if(!ue)return!0;const Ae=String(we.username||"").toLowerCase(),_e=String(we.fullName||`${we.firstName||""} ${we.lastName||""}`).toLowerCase(),De=String(we.phoneNumber||"").toLowerCase();return Ae.includes(ue)||_e.includes(ue)||De.includes(ue)}).slice(0,12)},_=q=>{const ue=String(q?.reason||"").toUpperCase(),me=String(q?.type||"").toLowerCase();return ue==="FREEPLAY_ADJUSTMENT"?"FP Deposit":ue==="CASHIER_DEPOSIT"||me==="deposit"?"Deposit":ue==="CASHIER_WITHDRAWAL"||me==="withdrawal"?"Withdraw":ue==="CASHIER_CREDIT_ADJUSTMENT"?"Credit Adj":ue==="CASHIER_DEBIT_ADJUSTMENT"?"Debit Adj":"Adjustment"},Q=q=>q==="deposit"||q==="credit_adj",se=(q,ue,me=!1)=>{if(me){D(ve=>{const we=ve[q];return we?{...ve,[q]:ue(we)}:ve});return}A(ve=>ve.map(we=>we.id===q?ue(we):we))},J=async(q,ue=!1)=>{const me=localStorage.getItem("token");if(!me){F("Please login to continue.");return}const ve=Number(q.amount||0),we=String(q.selectedUserId||""),Ae=M.get(we);if(!Ae){se(q.id,nt=>({...nt,error:"Select a customer first."}),ue);return}if(!Number.isFinite(ve)||ve<=0){se(q.id,nt=>({...nt,error:"Enter a valid amount."}),ue);return}const _e=Number(Ae.balance||0),De=Number(Ae.freeplayBalance||0),Ge=(q.description||"").trim()||zr[q.type],st=q.figureDate?`${Ge} (Figure Date: ${q.figureDate})`:Ge;se(q.id,nt=>({...nt,busy:!0,error:""}),ue),B(!0),F(""),I("");try{let nt=_e,Et=De,Tt="CASHIER_CREDIT_ADJUSTMENT",ct="adjustment";q.type==="fp_deposit"?(Et=De+ve,await kp(we,Et,me,st)):(nt=Q(q.type)?_e+ve:Math.max(0,_e-ve),q.type==="deposit"?(Tt="CASHIER_DEPOSIT",ct="deposit"):q.type==="withdrawal"?(Tt="CASHIER_WITHDRAWAL",ct="withdrawal"):q.type==="credit_adj"?(Tt="CASHIER_CREDIT_ADJUSTMENT",ct="adjustment"):(Tt="CASHIER_DEBIT_ADJUSTMENT",ct="adjustment"),await ci(we,{balance:nt,type:ct,reason:Tt,description:st},me)),d(kt=>kt.map(qt=>String(qt.id||qt._id||"")!==we?qt:{...qt,balance:nt,freeplayBalance:Et}));const Ue={id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,type:q.type==="deposit"?"deposit":q.type==="withdrawal"?"withdrawal":"adjustment",user:Ae.username,userId:we,amount:ve,date:new Date().toISOString(),status:"completed",reason:q.type==="fp_deposit"?"FREEPLAY_ADJUSTMENT":Tt,description:st};j(kt=>[Ue,...kt].slice(0,30)),await Promise.all([H(me,l),G(me,l)]),se(q.id,kt=>({...kt,amount:"",description:zr[kt.type],busy:!1,error:""}),ue),I(`Transaction applied for ${Ae.username}.`)}catch(nt){se(q.id,Et=>({...Et,busy:!1,error:nt.message||"Failed to apply transaction."}),ue)}finally{B(!1)}},Z=(q,ue,me)=>{const ve=K(q);return e.jsxs("div",{className:"cashier-customer-cell",children:[e.jsx("button",{type:"button",className:"cashier-find-btn",children:"Find"}),e.jsxs("div",{className:"cashier-customer-search",children:[e.jsx("input",{type:"text",placeholder:"Search ...",value:q.searchQuery,onFocus:()=>ue({...q,searchOpen:!0}),onBlur:()=>setTimeout(()=>ue({...q,searchOpen:!1}),120),onChange:we=>ue({...q,searchQuery:we.target.value,searchOpen:!0,selectedUserId:""})}),q.searchOpen&&e.jsx("div",{className:"cashier-search-dropdown",children:ve.length===0?e.jsx("div",{className:"cashier-search-empty",children:"No matching users"}):ve.map(we=>{const Ae=String(we.id||we._id||"");return e.jsxs("button",{type:"button",className:"cashier-search-item",onMouseDown:()=>me(we),children:[e.jsx("span",{children:String(we.username||"").toUpperCase()}),e.jsx("small",{children:we.fullName||`${we.firstName||""} ${we.lastName||""}`})]},Ae)})})]})]})},P=(q,ue=!1)=>{const me=M.get(String(q.selectedUserId||"")),ve=Number(me?.balanceOwed||0),we=Number(me?.balance||0),Ae=_e=>{se(q.id,()=>_e,ue)};return e.jsxs("tr",{children:[e.jsx("td",{children:Z(q,Ae,_e=>{const De=String(_e.id||_e._id||"");Ae({...q,selectedUserId:De,searchQuery:_e.username||"",searchOpen:!1,error:""})})}),e.jsx("td",{className:"cashier-num",children:me?je(ve):"--"}),e.jsx("td",{className:"cashier-num",children:me?je(we):"--"}),e.jsx("td",{children:e.jsx("select",{value:q.type,onChange:_e=>Ae({...q,type:_e.target.value,description:zr[_e.target.value]||q.description}),children:Vv.map(_e=>e.jsx("option",{value:_e.value,children:_e.label},_e.value))})}),e.jsx("td",{children:e.jsxs("div",{className:"cashier-amount-wrap",children:[e.jsx("input",{type:"number",min:"0",step:"0.01",placeholder:"Amount",value:q.amount,onChange:_e=>Ae({...q,amount:_e.target.value})}),e.jsx("button",{type:"button",className:"cashier-zero-btn",onClick:()=>Ae({...q,amount:"0"}),children:"Zero"})]})}),e.jsx("td",{children:e.jsx("input",{type:"date",value:q.figureDate,onChange:_e=>Ae({...q,figureDate:_e.target.value})})}),e.jsx("td",{children:e.jsx("input",{type:"text",placeholder:"Description",value:q.description,onChange:_e=>Ae({...q,description:_e.target.value})})}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"cashier-continue-btn",disabled:q.busy||V,onClick:()=>J(q,ue),children:q.busy?"Saving...":"Continue"}),q.error&&e.jsx("div",{className:"cashier-row-error",children:q.error})]})]},q.id)};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Cashier"})}),e.jsxs("div",{className:"view-content cashier-v2",children:[S&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading cashier data..."}),!S&&e.jsxs(e.Fragment,{children:[oe&&e.jsx("div",{className:"alert error",children:oe}),k&&e.jsx("div",{className:"alert success",children:k}),e.jsxs("div",{className:"cashier-summary",children:[e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total Deposits (Today)"}),e.jsx("p",{className:"amount",children:je(R.totalDeposits)})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total Withdrawals (Today)"}),e.jsx("p",{className:"amount",children:je(R.totalWithdrawals)})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Pending Transactions"}),e.jsx("p",{className:"amount",children:Number(R.pendingCount||0)})]})]}),e.jsxs("div",{className:"cashier-top-filters",children:[e.jsxs("div",{className:"cashier-agent-filter",children:[e.jsx("span",{children:"Agents"}),e.jsx("input",{type:"text",placeholder:"Search ...",value:g,onChange:q=>x(q.target.value)})]}),e.jsxs("select",{value:y,onChange:q=>N(q.target.value),children:[e.jsx("option",{value:"manual",children:"Manual Mode"}),e.jsx("option",{value:"agent",children:"Agent Mode"})]})]}),y==="manual"?e.jsx("div",{className:"cashier-grid-wrap",children:e.jsxs("table",{className:"data-table cashier-entry-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Settle"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Transaction"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Figure Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:v.map(q=>P(q,!1))})]})}):e.jsx("div",{className:"cashier-agent-mode",children:ae.length===0?e.jsx("div",{className:"cashier-empty",children:"No agents found."}):ae.map(q=>{const ue=String(q.id||q._id||""),me=E[ue]||id(ue,ue),ve=!!b[ue];return e.jsxs("div",{className:"cashier-agent-card",children:[e.jsxs("button",{type:"button",className:"cashier-agent-head",onClick:()=>f(we=>({...we,[ue]:!we[ue]})),children:[e.jsx("span",{children:ve?"":"+"}),e.jsx("span",{children:String(q.username||"").toUpperCase()})]}),ve&&e.jsx("div",{className:"cashier-agent-body",children:e.jsxs("table",{className:"data-table cashier-entry-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Settle"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Transaction"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Figure Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:P(me,!0)})]})})]},ue)})}),e.jsxs("div",{className:"table-container",children:[e.jsx("h3",{children:"Recent Transactions"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:z.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"empty-msg",children:"No recent transactions."})}):z.map(q=>{const ue=_(q),me=ue==="Deposit"||ue==="Credit Adj"||ue==="FP Deposit";return e.jsxs("tr",{children:[e.jsx("td",{children:ue}),e.jsx("td",{children:q.user||"Unknown"}),e.jsx("td",{className:me?"positive":"negative",children:je(q.amount)}),e.jsx("td",{children:q.date?new Date(q.date).toLocaleString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${q.status||"completed"}`,children:q.status||"completed"})}),e.jsx("td",{children:q.description||""})]},q.id)})})]})]})]})]})]})}const Ff="admin_add_customer_recent_v2",Pf={sports:!0,casino:!0,racebook:!0,live:!0,props:!0,liveCasino:!0},$f=()=>new Date().toLocaleString(),Zv=()=>{const l="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let r="";for(let c=0;c<4;c+=1)r+=l[Math.floor(Math.random()*l.length)];return r},If=l=>{const r=String(l||"").match(/(\d+)/g);return!r||!r.length?"":r[r.length-1]},Kv=(l,r)=>{const c=String(l||"").replace(/\D/g,"");if(c.length<7)return"";const d=Number(c);return Number.isNaN(d)?"":String(d+Number(r||0)).padStart(c.length,"0")};function e0({onBack:l}){const[r,c]=u.useState(""),[d,h]=u.useState(!0),[p,y]=u.useState(!1),[N,g]=u.useState(!0),[x,b]=u.useState(""),[f,v]=u.useState(""),[A,E]=u.useState([]),[D,R]=u.useState(null),[w,z]=u.useState([]),[L,C]=u.useState({count:1,agentId:"",prefix:"",startingAccount:"",startPhone:"",firstName:"PLAYER",lastName:"USER",manualPasswordBase:"",randomPasswordEnabled:!0,minBet:"",maxBet:"",creditLimit:"1000",balanceOwed:"0",freeplayBalance:"200",settings:{...Pf}}),[j,S]=u.useState({fullName:"",phoneNumber:"",password:"",prefix:"",username:"",parentMasterId:"",inheritFromId:"",defaultMinBet:"25",defaultMaxBet:"200",defaultCreditLimit:"1000",defaultSettleLimit:"0",settings:{...Pf}}),$=u.useMemo(()=>A.filter(P=>(P.role||"").toLowerCase()==="agent"),[A]),V=u.useMemo(()=>A.filter(P=>["master_agent","super_agent"].includes((P.role||"").toLowerCase())),[A]);u.useEffect(()=>{(async()=>{try{const q=localStorage.getItem("token");if(!q)return;const[ue,me]=await Promise.all([mi(q),Ks(q)]),ve=Array.isArray(ue)?ue:[];E(ve),R(me||null);const we=localStorage.getItem(Ff);if(we){const Ae=JSON.parse(we);Array.isArray(Ae)&&z(Ae)}}catch(q){b(q.message||"Failed to load add customer context.")}finally{g(!1)}})()},[]);const B=P=>{z(P),localStorage.setItem(Ff,JSON.stringify(P))},oe=P=>{const q=[...P,...w].slice(0,100);B(q)},F=()=>{b(""),v("")},k=async P=>{if(F(),c(P),h(!1),P==="player"&&!L.startingAccount){const ue=($.find(me=>(me.id||me._id)===L.agentId)?.username||D?.username||"").toUpperCase();if(ue)try{const me=localStorage.getItem("token"),ve=await Ba(ue,me,{type:"player"}),we=If(ve?.nextUsername||"");C(Ae=>({...Ae,prefix:ue,startingAccount:we||Ae.startingAccount}))}catch{C(me=>({...me,prefix:ue}))}}},I=async(P,q)=>{if(F(),P==="agentId"){const me=($.find(ve=>(ve.id||ve._id)===q)?.username||"").toUpperCase();if(C(ve=>({...ve,agentId:q,prefix:me})),me)try{const ve=localStorage.getItem("token"),we=await Ba(me,ve,{type:"player"}),Ae=If(we?.nextUsername||"");Ae&&C(_e=>({..._e,startingAccount:Ae}))}catch(ve){console.error("Failed to preload next player account:",ve)}return}C(ue=>({...ue,[P]:q}))},M=async(P,q,ue=r)=>{if(F(),P==="inheritFromId"){const me=V.find(ve=>(ve.id||ve._id)===q);if(me){S(ve=>({...ve,inheritFromId:q,defaultMinBet:String(me.defaultMinBet??ve.defaultMinBet),defaultMaxBet:String(me.defaultMaxBet??ve.defaultMaxBet),defaultCreditLimit:String(me.defaultCreditLimit??ve.defaultCreditLimit),defaultSettleLimit:String(me.defaultSettleLimit??ve.defaultSettleLimit)}));return}}if(P==="prefix"){const me=String(q||"").toUpperCase().replace(/[^A-Z0-9]/g,"");if(S(ve=>({...ve,prefix:me,username:""})),me.length>=2)try{const ve=localStorage.getItem("token"),Ae=await Ba(me,ve,ue==="master"?{suffix:"MA",type:"agent"}:{type:"agent"});S(_e=>({..._e,username:Ae?.nextUsername||""}))}catch(ve){console.error("Failed to preload next agent username:",ve)}return}S(me=>({...me,[P]:q}))},ae=P=>{C(q=>({...q,settings:{...q.settings,[P]:!q.settings[P]}}))},H=P=>{S(q=>({...q,settings:{...q.settings,[P]:!q.settings[P]}}))},G=async()=>{const P=localStorage.getItem("token");if(!P)throw new Error("No authentication token found.");const q=Math.max(1,Math.min(20,Number(L.count||1)));if(!L.agentId)throw new Error("Select an agent first.");if(!L.prefix.trim())throw new Error("Prefix is required.");if(!L.startingAccount||Number(L.startingAccount)<=0)throw new Error("Starting account number must be greater than zero.");const ue=$.find(De=>(De.id||De._id)===L.agentId),me=ue?.id||ue?._id||"";if(!me)throw new Error("Invalid agent selection.");const ve=Number(L.startingAccount),we=[];let Ae=0,_e=0;for(let De=0;De<q;De+=1){const Ge=`${L.prefix.toUpperCase()}${ve+De}`,nt=Kv(L.startPhone,De)||`${Date.now().toString().slice(-7)}${De}`,Et=L.randomPasswordEnabled?Zv():`${(L.manualPasswordBase||"PASS").toUpperCase()}${ve+De}`,Tt={username:Ge,phoneNumber:nt,password:Et,firstName:q>1?`${L.firstName}${De+1}`:L.firstName,lastName:L.lastName,agentId:me,minBet:Number(L.minBet||1),maxBet:Number(L.maxBet||5e3),creditLimit:Number(L.creditLimit||1e3),balanceOwed:Number(L.balanceOwed||0),freeplayBalance:Number(L.freeplayBalance||200),apps:{sportsbook:!!L.settings.sports,casino:!!L.settings.casino,racebook:!!L.settings.racebook,live:!!L.settings.live,props:!!L.settings.props,liveCasino:!!L.settings.liveCasino}};try{const ct=await Sp(Tt,P);Ae+=1,we.push({id:`recent_${Date.now()}_${De}`,type:"Player",username:ct?.user?.username||Ge,parent:ue?.username||"DIRECT",createdAt:$f(),entityId:ct?.user?.id||"",entityType:"user"})}catch{_e+=1}}if(we.length&&oe(we),Ae===0)throw new Error("No player account was created. Check prefix/phone/username conflicts.");v(`Created ${Ae} player account(s).${_e?` ${_e} failed due to validation/conflict.`:""}`)},ie=async P=>{const q=localStorage.getItem("token");if(!q)throw new Error("No authentication token found.");if(!j.fullName.trim())throw new Error("Agent name is required.");if(!j.phoneNumber.trim())throw new Error("Phone number is required.");if(!j.password.trim())throw new Error("Password is required.");if(!j.prefix.trim())throw new Error("Prefix is required.");if(!j.username.trim())throw new Error("Username is required. Use Prefix first.");const ue={username:j.username.toUpperCase(),phoneNumber:j.phoneNumber,password:j.password,fullName:j.fullName,role:P==="master"?"master_agent":"agent",defaultMinBet:Number(j.defaultMinBet||25),defaultMaxBet:Number(j.defaultMaxBet||200),defaultCreditLimit:Number(j.defaultCreditLimit||1e3),defaultSettleLimit:Number(j.defaultSettleLimit||0)},me=await Pr(ue,q);oe([{id:`recent_${Date.now()}_agent`,type:P==="master"?"Master Agent":"Agent",username:me?.agent?.username||ue.username,parent:P==="master"?D?.username||"ADMIN":V.find(ve=>(ve.id||ve._id)===j.parentMasterId)?.username||D?.username||"ADMIN",createdAt:$f(),entityId:me?.agent?.id||"",entityType:"agent"}]),v(`${P==="master"?"Master agent":"Agent"} created successfully.`)},je=async()=>{F(),y(!0);try{if(r==="player")await G();else if(r==="agent"||r==="master")await ie(r);else throw new Error("Choose account type first.")}catch(P){b(P.message||"Creation failed.")}finally{y(!1)}},K=async P=>{const q=localStorage.getItem("token");F(),y(!0);try{P.entityId&&q&&(P.entityType==="user"?await Tp(P.entityId,q):P.entityType==="agent"&&await Lp(P.entityId,q));const ue=w.filter(me=>me.id!==P.id);B(ue),v(`${P.username} deleted successfully.`)}catch(ue){b(ue.message||"Delete failed.")}finally{y(!1)}},_=()=>e.jsx("div",{className:"picker-overlay",onClick:()=>h(!1),children:e.jsxs("div",{className:"picker-modal",onClick:P=>P.stopPropagation(),children:[e.jsxs("div",{className:"picker-header",children:[e.jsx("span",{children:"Add Customer"}),e.jsx("button",{type:"button",onClick:()=>h(!1),children:""})]}),e.jsxs("button",{type:"button",className:"picker-option",onClick:()=>k("player"),children:[e.jsx("i",{className:"fa-solid fa-user-plus"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Player"}),e.jsx("p",{children:"Add one or many players under an agent account."})]})]}),e.jsxs("button",{type:"button",className:"picker-option",onClick:()=>k("agent"),children:[e.jsx("i",{className:"fa-solid fa-user-gear"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Agent"}),e.jsx("p",{children:"Create a new agent account. Agents can own player accounts."})]})]}),e.jsxs("button",{type:"button",className:"picker-option",onClick:()=>k("master"),children:[e.jsx("i",{className:"fa-solid fa-user-tie"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Master"}),e.jsx("p",{children:"Create a master agent account that can manage sub-agents."})]})]})]})}),Q=(P,q)=>e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:"Market Capabilities"}),e.jsx("div",{className:"capabilities-premium-grid",children:[{key:"sports",label:"Sportsbook",desc:"Standard sports betting markets"},{key:"casino",label:"LV Casino",desc:"Las Vegas style virtual casino"},{key:"racebook",label:"Racebook",desc:"Global horse and greyhound racing"},{key:"live",label:"Dynamic Live",desc:"Real-time in-game betting"},{key:"props",label:"Prop Plus",desc:"Advanced player and game props"},{key:"liveCasino",label:"Dealer Live",desc:"Live dealer tables and streams"}].map(ue=>e.jsxs("button",{type:"button",className:`cap-card ${P[ue.key]?"active":""}`,onClick:()=>q(ue.key),children:[e.jsxs("div",{className:"cap-meta",children:[e.jsx("span",{className:"cap-label",children:ue.label}),e.jsx("p",{className:"cap-desc",children:ue.desc})]}),e.jsx("div",{className:"cap-toggle-ui",children:e.jsx("div",{className:"toggle-dot"})})]},ue.key))})]}),se=()=>e.jsxs("div",{className:"form-sections",children:[e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:"Player Creation"}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"How many accounts to add?"}),e.jsx("input",{type:"number",min:"1",max:"20",value:L.count,onChange:P=>I("count",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Under which agent?"}),e.jsxs("select",{value:L.agentId,onChange:P=>I("agentId",P.target.value),children:[e.jsx("option",{value:"",children:"Select agent"}),$.map(P=>e.jsx("option",{value:P.id||P._id,children:P.username},P.id||P._id))]})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",maxLength:"8",value:L.prefix,onChange:P=>I("prefix",P.target.value.toUpperCase())})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Starting Account #"}),e.jsx("input",{type:"number",min:"1",value:L.startingAccount,onChange:P=>I("startingAccount",P.target.value)})]})]}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Base phone number"}),e.jsx("input",{type:"tel",value:L.startPhone,onChange:P=>I("startPhone",P.target.value),placeholder:"For multiple accounts auto-increment"})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",value:L.firstName,onChange:P=>I("firstName",P.target.value.toUpperCase())})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",value:L.lastName,onChange:P=>I("lastName",P.target.value.toUpperCase())})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Password Base"}),e.jsx("input",{type:"text",value:L.manualPasswordBase,onChange:P=>I("manualPasswordBase",P.target.value),disabled:L.randomPasswordEnabled,placeholder:"Used when random password is OFF"})]})]}),e.jsx("div",{className:"inline-controls-row",children:e.jsxs("label",{className:"switch-label",children:[e.jsx("span",{children:"Generate random password (ex: A7B3)"}),e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:L.randomPasswordEnabled,onChange:P=>I("randomPasswordEnabled",P.target.checked)}),e.jsx("span",{className:"slider-mini"})]})]})})]}),e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:"Operational Limits"}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Min bet"}),e.jsx("input",{type:"number",value:L.minBet,onChange:P=>I("minBet",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Max bet"}),e.jsx("input",{type:"number",value:L.maxBet,onChange:P=>I("maxBet",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Credit limit"}),e.jsx("input",{type:"number",value:L.creditLimit,onChange:P=>I("creditLimit",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Settle limit"}),e.jsx("input",{type:"number",value:L.balanceOwed,onChange:P=>I("balanceOwed",P.target.value)})]})]})]}),Q(L.settings,ae)]}),J=()=>e.jsxs("div",{className:"form-sections",children:[e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:r==="master"?"Master Agent Setup":"Agent Setup"}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Agent Name"}),e.jsx("input",{type:"text",value:j.fullName,onChange:P=>M("fullName",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:j.phoneNumber,onChange:P=>M("phoneNumber",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Agent Password"}),e.jsx("input",{type:"text",value:j.password,onChange:P=>M("password",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:r==="master"?"Master Prefix":"Agent Prefix"}),e.jsx("input",{type:"text",maxLength:"6",value:j.prefix,onChange:P=>M("prefix",P.target.value,r)})]})]}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Generated Username"}),e.jsx("input",{type:"text",value:j.username,readOnly:!0,className:"readonly-input"})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Under which Master Agent?"}),e.jsxs("select",{value:j.parentMasterId,onChange:P=>M("parentMasterId",P.target.value),children:[e.jsx("option",{value:"",children:"Select master (reference)"}),V.map(P=>e.jsx("option",{value:P.id||P._id,children:P.username},P.id||P._id))]})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Inherit Settings?"}),e.jsxs("select",{value:j.inheritFromId,onChange:P=>M("inheritFromId",P.target.value),children:[e.jsx("option",{value:"",children:"No inheritance"}),V.map(P=>e.jsx("option",{value:P.id||P._id,children:P.username},P.id||P._id))]})]}),e.jsxs("div",{className:"p-field helper-note-block",children:[e.jsx("label",{children:"Behavior"}),e.jsx("p",{children:r==="master"?"Master agents can manage sub-agents but not direct players.":"Agents can manage players. Hierarchy assignment can be adjusted later in Agent Management."})]})]})]}),e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:"Default Limits"}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Default Min Bet"}),e.jsx("input",{type:"number",value:j.defaultMinBet,onChange:P=>M("defaultMinBet",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Default Max Bet"}),e.jsx("input",{type:"number",value:j.defaultMaxBet,onChange:P=>M("defaultMaxBet",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Default Credit Limit"}),e.jsx("input",{type:"number",value:j.defaultCreditLimit,onChange:P=>M("defaultCreditLimit",P.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Default Settle Limit"}),e.jsx("input",{type:"number",value:j.defaultSettleLimit,onChange:P=>M("defaultSettleLimit",P.target.value)})]})]})]}),Q(j.settings,H)]}),Z=r==="player"?"Add Player":r==="agent"?"Add Agent":r==="master"?"Add Master Agent":"Add Customer";return e.jsxs("div",{className:"admin-view premium-admin-theme",children:[e.jsxs("div",{className:"view-header",children:[e.jsxs("button",{className:"btn-back-premium",onClick:()=>l?l():c(""),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),e.jsx("polyline",{points:"12 19 5 12 12 5"})]}),"Back to Dashboard"]}),e.jsx("div",{className:"header-copy",children:e.jsxs("div",{className:"header-icon-title",children:[e.jsx("div",{className:"glow-accent"}),e.jsx("h2",{children:Z})]})}),e.jsx("button",{className:"btn-type-switch",type:"button",onClick:()=>h(!0),children:"Choose Type"})]}),e.jsx("div",{className:"view-content central-card",children:e.jsxs("div",{className:"premium-card glass-effect",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{children:r?"Configuration Panel":"Choose Account Type"}),e.jsx("p",{children:r?"Define functionality, limits, and hierarchy rules before continue.":"Select Player, Agent, or Master to continue."})]}),e.jsx("div",{className:"premium-form",children:N?e.jsx("div",{className:"status-msg",children:"Loading context..."}):e.jsxs(e.Fragment,{children:[!r&&e.jsxs("div",{className:"inline-type-grid",children:[e.jsx("button",{type:"button",onClick:()=>k("player"),children:"Player"}),e.jsx("button",{type:"button",onClick:()=>k("agent"),children:"Agent"}),e.jsx("button",{type:"button",onClick:()=>k("master"),children:"Master"})]}),r==="player"&&se(),(r==="agent"||r==="master")&&J(),x&&e.jsx("div",{className:"premium-error-msg",children:x}),f&&e.jsx("div",{className:"premium-success-msg",children:f}),r&&e.jsx("div",{className:"form-footer-premium",children:e.jsx("button",{type:"button",className:"btn-deploy-premium",onClick:je,disabled:p,children:p?"Processing...":"Continue"})}),e.jsxs("div",{className:"recent-section",children:[e.jsx("h4",{children:"Recently Added Customers"}),w.length===0?e.jsx("div",{className:"status-msg",children:"No records yet."}):e.jsx("div",{className:"recent-table-wrap",children:e.jsxs("table",{className:"recent-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Username"}),e.jsx("th",{children:"Parent"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:w.map(P=>e.jsxs("tr",{children:[e.jsx("td",{children:P.type}),e.jsx("td",{children:P.username}),e.jsx("td",{children:P.parent||"-"}),e.jsx("td",{children:P.createdAt}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn-delete-mini",disabled:p,onClick:()=>K(P),children:"Delete"})})]},P.id))})]})})]})]})})]})}),d&&_(),e.jsx("style",{children:`
        .premium-admin-theme {
          background: #d3d3d3;
          min-height: 100vh;
          color: #2f343a;
          font-family: 'Segoe UI', Tahoma, sans-serif;
          padding: 16px;
        }
        .view-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 24px; gap: 16px; }
        .btn-back-premium {
          background: #f4f4f4; color: #2f343a; border: 1px solid #b8b8b8;
          padding: 10px 16px; border-radius: 3px; font-weight: 600;
          display: flex; align-items: center; gap: 8px; cursor: pointer; white-space: nowrap;
        }
        .btn-back-premium:hover { background: #ffffff; }
        .header-copy { flex: 1; min-width: 0; }
        .header-icon-title { display: flex; align-items: center; gap: 12px; }
        .glow-accent { width: 6px; height: 28px; background: #0b4f6c; border-radius: 2px; }
        .header-icon-title h2 { margin: 0; font-size: 28px; font-weight: 700; color: #0b4f6c; }
        .btn-type-switch {
          background: #0b4f6c; color: #fff; border: 1px solid #07384d; border-radius: 3px;
          padding: 10px 14px; font-weight: 600; cursor: pointer;
        }
        .btn-type-switch:hover { background: #0a455e; }

        .central-card { display: flex; justify-content: center; }
        .premium-card {
          background: #efefef;
          width: 100%;
          max-width: 100%;
          border-radius: 0;
          border: 1px solid #c6c6c6;
          overflow: hidden;
          box-shadow: none;
        }

        .card-header { padding: 10px 14px; background: #0b4f6c; border-bottom: 1px solid #07384d; }
        .card-header h3 { margin: 0 0 3px; font-size: 17px; font-weight: 700; color: #fff; }
        .card-header p { margin: 0; color: #d5e6ee; font-size: 12px; }

        .premium-form { padding: 14px; }
        .form-sections { display: flex; flex-direction: column; gap: 24px; }
        .f-section { background: #efefef; border: 1px solid #d3d3d3; border-radius: 0; padding: 4px 0 0; }
        .section-tag {
          font-size: 15px;
          text-transform: uppercase;
          font-weight: 600;
          color: #2f343a;
          letter-spacing: 0.5px;
          margin: 0 0 12px;
          border-left: 0;
          padding-left: 0;
        }

        .input-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 14px; }
        .input-row.grid-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }

        .p-field { display: flex; flex-direction: column; gap: 6px; }
        .p-field label {
          font-size: 15px;
          text-transform: none;
          font-weight: 500;
          color: #3f4348;
          letter-spacing: 0;
        }
        .p-field input, .p-field select {
          background: #ffffff;
          border: 1px solid #bfc7cd;
          color: #2f343a;
          padding: 9px 10px;
          border-radius: 2px;
          font-size: 14px;
          outline: none;
          transition: border-color 0.2s ease, box-shadow 0.2s ease;
          height: 42px;
        }
        .p-field input:focus, .p-field select:focus { border-color: #53a6d6; box-shadow: none; }
        .readonly-input { background: #edf1f4 !important; color: #5b6671 !important; }

        .helper-note-block p {
          margin: 0;
          background: #f3f3f3;
          border: 1px solid #d4d7da;
          color: #39424a;
          border-radius: 2px;
          padding: 10px;
          min-height: 44px;
          font-size: 14px;
        }

        .inline-controls-row { margin-top: 8px; }
        .switch-label {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 14px;
          padding: 10px 12px;
          border-radius: 2px;
          background: #efefef;
          border: 0;
          color: #2f343a;
        }

        .switch-mini {
          position: relative;
          width: 44px;
          height: 24px;
          display: inline-block;
          cursor: pointer;
        }
        .switch-mini input {
          opacity: 0;
          width: 0;
          height: 0;
        }
        .slider-mini {
          position: absolute;
          inset: 0;
          border-radius: 16px;
          background: #9da8b2;
          transition: 0.2s;
        }
        .slider-mini:before {
          content: '';
          position: absolute;
          height: 18px;
          width: 18px;
          left: 3px;
          top: 3px;
          border-radius: 50%;
          background: #fff;
          transition: 0.2s;
        }
        .switch-mini input:checked + .slider-mini {
          background: #0ea44b;
        }
        .switch-mini input:checked + .slider-mini:before {
          transform: translateX(20px);
          background: #fff;
        }

        .capabilities-premium-grid { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 14px; }
        .cap-card {
          border: 1px solid #b8cde2;
          background: #f8fbff;
          color: inherit;
          border-radius: 8px;
          padding: 14px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 8px;
          text-align: left;
          cursor: pointer;
          transition: border-color 0.2s ease, background-color 0.2s ease;
        }
        .cap-card:hover { border-color: #6aa8d5; background: #f4f9ff; }
        .cap-card.active { border-color: #4298d4; background: #edf6ff; }
        .cap-meta { display: flex; flex-direction: column; gap: 3px; }
        .cap-label { font-size: 16px; font-weight: 700; color: #263746; }
        .cap-desc { margin: 0; font-size: 13px; color: #637687; }
        .cap-toggle-ui { width: 44px; height: 24px; border-radius: 20px; background: #2f80ed; position: relative; flex-shrink: 0; }
        .toggle-dot { width: 18px; height: 18px; border-radius: 999px; background: #fff; position: absolute; top: 3px; left: 23px; }
        .cap-card:not(.active) .cap-toggle-ui { background: #a8b2bc; }
        .cap-card:not(.active) .toggle-dot { left: 3px; background: #fff; }

        .premium-error-msg {
          margin-top: 12px;
          background: #ffe9e9;
          border: 1px solid #efb7b7;
          color: #ab3434;
          padding: 10px;
          border-radius: 2px;
          font-weight: 600;
          font-size: 13px;
        }
        .premium-success-msg {
          margin-top: 12px;
          background: #e8f8ec;
          border: 1px solid #afdec0;
          color: #257747;
          padding: 10px;
          border-radius: 2px;
          font-weight: 600;
          font-size: 13px;
        }

        .form-footer-premium { margin-top: 14px; }
        .btn-deploy-premium {
          width: 100%;
          background: #37b24d;
          border: 1px solid #2f9e44;
          color: #fff;
          font-weight: 600;
          padding: 10px;
          border-radius: 2px;
          cursor: pointer;
          font-size: 14px;
        }
        .btn-deploy-premium:disabled { opacity: 0.65; cursor: not-allowed; }

        .recent-section {
          margin-top: 18px;
          border: 1px solid #cfd4d9;
          border-radius: 2px;
          overflow: hidden;
          background: #fff;
        }
        .recent-section h4 {
          margin: 0;
          padding: 12px;
          font-size: 14px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          color: #30424f;
          background: #e9eef2;
        }
        .status-msg { padding: 12px; color: #6f7a84; }
        .recent-table-wrap { overflow: auto; }
        .recent-table { width: 100%; border-collapse: collapse; }
        .recent-table thead { background: #f2f5f7; }
        .recent-table th, .recent-table td {
          border-top: 1px solid #dbe1e6;
          padding: 10px;
          font-size: 13px;
          text-align: left;
          white-space: nowrap;
          color: #2f343a;
        }
        .recent-table tbody tr:nth-child(even) { background: #fafcfe; }
        .btn-delete-mini {
          border: 0;
          border-radius: 2px;
          background: #dc2626;
          color: #fff;
          font-size: 12px;
          font-weight: 700;
          padding: 7px 10px;
          cursor: pointer;
        }

        .inline-type-grid {
          display: grid;
          gap: 12px;
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
        .inline-type-grid button {
          border: 1px solid #bfd1df;
          background: #ffffff;
          color: #244153;
          border-radius: 2px;
          padding: 16px;
          font-weight: 600;
          font-size: 15px;
          cursor: pointer;
        }
        .inline-type-grid button:hover { background: #f6fbff; border-color: #8fb5cd; }

        .picker-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.4);
          display: flex;
          align-items: flex-start;
          justify-content: center;
          z-index: 1200;
          padding-top: 95px;
        }
        .picker-modal {
          width: 100%;
          max-width: 560px;
          background: #fff;
          border-radius: 2px;
          box-shadow: 0 8px 24px rgba(0,0,0,0.3);
          overflow: hidden;
        }
        .picker-header {
          background: #0b4f6c;
          color: #fff;
          padding: 12px 14px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          font-weight: 700;
        }
        .picker-header button {
          background: transparent;
          border: 0;
          color: #fff;
          font-size: 20px;
          cursor: pointer;
        }
        .picker-option {
          width: 100%;
          border: 0;
          border-top: 1px solid #d8dee4;
          background: #fff;
          padding: 14px;
          display: grid;
          grid-template-columns: 44px 1fr;
          gap: 10px;
          text-align: left;
          cursor: pointer;
          transition: background-color 0.2s ease;
        }
        .picker-option:hover { background: #f7fafc; }
        .picker-option i { color: #334155; font-size: 20px; margin-top: 3px; }
        .picker-option p { margin: 4px 0 0; color: #4b5563; font-size: 13px; }

        @media (max-width: 1100px) {
          .input-row.grid-4, .capabilities-premium-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        }
        @media (max-width: 760px) {
          .premium-admin-theme { padding: 12px; }
          .view-header { flex-wrap: wrap; align-items: stretch; }
          .input-row, .input-row.grid-4, .capabilities-premium-grid, .inline-type-grid { grid-template-columns: 1fr; }
          .btn-type-switch { width: 100%; }
          .picker-overlay { padding: 40px 10px 10px; }
        }
      `})]})}function t0(){const[l,r]=u.useState(""),[c,d]=u.useState("all"),[h,p]=u.useState("all"),[y,N]=u.useState([]),[g,x]=u.useState(!0),[b,f]=u.useState(""),[v,A]=u.useState(null),[E,D]=u.useState({dailyLimit:"",monthlyLimit:"",used:"",status:"active"}),[R,w]=u.useState({provider:"",dailyLimit:0,monthlyLimit:0,used:0,status:"active"}),[z,L]=u.useState(!1),C=M=>`$${Number(M||0).toLocaleString()}`,j=M=>{const ae=M.monthlyLimit||1;return Math.min(M.used/ae*100,100)},S=M=>M>=85?"critical":M>=65?"warning":"normal",$=u.useMemo(()=>y.reduce((M,ae)=>(M.daily+=ae.dailyLimit,M.monthly+=ae.monthlyLimit,M.used+=ae.used,M),{daily:0,monthly:0,used:0}),[y]),V=async()=>{try{x(!0);const M=localStorage.getItem("token");if(!M){N([]),f("Please login to load limits.");return}const ae=await Jy(M);N(ae),f("")}catch(M){console.error("Error loading third party limits:",M),f(M.message||"Failed to load limits")}finally{x(!1)}};u.useEffect(()=>{V();const M=setInterval(V,3e4);return()=>clearInterval(M)},[]);const B=y.filter(M=>{const ae=M.provider.toLowerCase().includes(l.toLowerCase()),H=c==="all"||M.status===c,G=j(M),ie=h==="all"||h==="over-80"&&G>=80||h==="60-80"&&G>=60&&G<80||h==="under-60"&&G<60;return ae&&H&&ie}),oe=M=>{A(M.id),D({dailyLimit:M.dailyLimit,monthlyLimit:M.monthlyLimit,used:M.used,status:M.status})},F=()=>{A(null),D({dailyLimit:"",monthlyLimit:"",used:"",status:"active"})},k=async M=>{try{const ae=localStorage.getItem("token");if(!ae){f("Please login to update limits.");return}const H={dailyLimit:Number(E.dailyLimit)||0,monthlyLimit:Number(E.monthlyLimit)||0,used:Number(E.used)||0,status:E.status},G=await Zy(M,H,ae);N(ie=>ie.map(je=>je.id===M?{...je,...G.limit}:je)),F(),f("")}catch(ae){console.error("Error updating limit:",ae),f(ae.message||"Failed to update limit")}},I=async()=>{try{L(!0);const M=localStorage.getItem("token");if(!M){f("Please login to create limits.");return}const ae={provider:R.provider.trim(),dailyLimit:Number(R.dailyLimit)||0,monthlyLimit:Number(R.monthlyLimit)||0,used:Number(R.used)||0,status:R.status},H=await Ky(ae,M);N(G=>[...G,H.limit]),w({provider:"",dailyLimit:0,monthlyLimit:0,used:0,status:"active"}),f("")}catch(M){console.error("Error creating limit:",M),f(M.message||"Failed to create limit")}finally{L(!1)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"3rd Party Limits"}),e.jsxs("span",{className:"count",children:[B.length," providers"]})]}),e.jsxs("div",{className:"view-content",children:[g&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading limits..."}),b&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:b}),!g&&!b&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Provider"}),e.jsx("input",{type:"text",placeholder:"Provider name",value:R.provider,onChange:M=>w(ae=>({...ae,provider:M.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Daily Limit"}),e.jsx("input",{type:"number",value:R.dailyLimit,onChange:M=>w(ae=>({...ae,dailyLimit:M.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Monthly Limit"}),e.jsx("input",{type:"number",value:R.monthlyLimit,onChange:M=>w(ae=>({...ae,monthlyLimit:M.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Used"}),e.jsx("input",{type:"number",value:R.used,onChange:M=>w(ae=>({...ae,used:M.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:R.status,onChange:M=>w(ae=>({...ae,status:M.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"paused",children:"Paused"})]})]}),e.jsx("button",{className:"btn-primary",onClick:I,disabled:z||!R.provider.trim(),children:z?"Saving...":"Add Provider"})]}),e.jsxs("div",{className:"stats-container limits-summary",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Providers"}),e.jsx("div",{className:"amount",children:y.length}),e.jsxs("p",{className:"change",children:["Active: ",y.filter(M=>M.status==="active").length]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Daily Limit Total"}),e.jsx("div",{className:"amount",children:C($.daily)}),e.jsx("p",{className:"change",children:"Across all providers"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Monthly Limit Total"}),e.jsx("div",{className:"amount",children:C($.monthly)}),e.jsx("p",{className:"change",children:"Capacity for the month"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Used This Month"}),e.jsx("div",{className:"amount",children:C($.used)}),e.jsxs("p",{className:"change",children:["Utilization: ",($.used/($.monthly||1)*100).toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Provider"}),e.jsx("input",{type:"text",placeholder:"Search provider",value:l,onChange:M=>r(M.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:c,onChange:M=>d(M.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"paused",children:"Paused"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Utilization"}),e.jsxs("select",{value:h,onChange:M=>p(M.target.value),children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"over-80",children:"Over 80%"}),e.jsx("option",{value:"60-80",children:"60% - 80%"}),e.jsx("option",{value:"under-60",children:"Under 60%"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Provider"}),e.jsx("th",{children:"Daily Limit"}),e.jsx("th",{children:"Monthly Limit"}),e.jsx("th",{children:"Used"}),e.jsx("th",{children:"Utilization"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last Sync"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:B.map(M=>{const ae=j(M);return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:M.provider})}),e.jsx("td",{children:v===M.id?e.jsx("input",{type:"number",value:E.dailyLimit,onChange:H=>D(G=>({...G,dailyLimit:H.target.value})),className:"inline-input"}):C(M.dailyLimit)}),e.jsx("td",{children:v===M.id?e.jsx("input",{type:"number",value:E.monthlyLimit,onChange:H=>D(G=>({...G,monthlyLimit:H.target.value})),className:"inline-input"}):C(M.monthlyLimit)}),e.jsx("td",{children:v===M.id?e.jsx("input",{type:"number",value:E.used,onChange:H=>D(G=>({...G,used:H.target.value})),className:"inline-input"}):C(M.used)}),e.jsx("td",{children:e.jsxs("div",{className:"usage-meter",children:[e.jsx("div",{className:"usage-bar",children:e.jsx("div",{className:`usage-fill ${S(ae)}`,style:{width:`${ae}%`}})}),e.jsxs("span",{className:"usage-text",children:[ae.toFixed(1),"%"]})]})}),e.jsx("td",{children:v===M.id?e.jsxs("select",{value:E.status,onChange:H=>D(G=>({...G,status:H.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"paused",children:"Paused"})]}):e.jsx("span",{className:`badge ${M.status}`,children:M.status})}),e.jsx("td",{children:M.lastSync?new Date(M.lastSync).toLocaleString():""}),e.jsx("td",{children:e.jsx("div",{className:"table-actions",children:v===M.id?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn-small",onClick:()=>k(M.id),children:"Save"}),e.jsx("button",{className:"btn-small",onClick:F,children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn-small",onClick:()=>oe(M),children:"Edit"}),e.jsx("button",{className:"btn-small",children:"View"})]})})})]},M.id)})})]})})]})]})]})}function a0(){const[l,r]=u.useState("agents"),[c,d]=u.useState(""),[h,p]=u.useState(""),[y,N]=u.useState("any"),[g,x]=u.useState("today"),[b,f]=u.useState("all-types"),[v,A]=u.useState([]),[E,D]=u.useState(!0),[R,w]=u.useState(""),[z,L]=u.useState(""),[C,j]=u.useState([]),[S,$]=u.useState([]),[V,B]=u.useState(!1),[oe,F]=u.useState(null),[k,I]=u.useState({userId:"",matchId:"",amount:50,odds:1.9,type:"straight",selection:"",status:"pending"}),M=Z=>Number(String(Z).replace(/[^0-9.-]+/g,""))||0,ae=Z=>`$${Number(Z||0).toLocaleString()}`,H=(Z,P)=>P==="any"?!0:P==="under-100"?Z<100:P==="100-500"?Z>=100&&Z<=500:P==="500-1000"?Z>500&&Z<=1e3:P==="over-1000"?Z>1e3:!0,G=Z=>{if(Z?.type)return Z.type;const P=(Z?.description||"").toLowerCase();return P.includes("parlay")?"parlay":P.includes("teaser")?"teaser":"straight"},ie=v.filter(Z=>{const P=Z.agent.toLowerCase().includes(c.toLowerCase()),q=Z.customer.toLowerCase().includes(h.toLowerCase()),ue=M(Z.risk),me=b==="all-types"||G(Z)===b;return P&&q&&me&&H(ue,y)}).sort((Z,P)=>l==="agents"?Z.agent.localeCompare(P.agent):Z.customer.localeCompare(P.customer)),je=ie.reduce((Z,P)=>(Z.risk+=M(P.risk),Z.toWin+=M(P.toWin),Z),{risk:0,toWin:0}),K=()=>{d(""),p(""),N("any"),x("today"),f("all-types")},_=async Z=>{try{D(!0);const P=localStorage.getItem("token");if(!P){A([]),w("Please login to load bets.");return}const ue=(await Cd(Z,P)).bets.map(me=>({...me,risk:Number(me.risk||0),toWin:Number(me.toWin||0),accepted:new Date(me.accepted).toLocaleString()}));A(ue),w("")}catch(P){console.error("Error loading bets:",P),w(P.message||"Failed to load bets")}finally{D(!1)}};u.useEffect(()=>{_({time:g,type:b,amount:y}),(async()=>{try{const q=localStorage.getItem("token");if(!q)return;const[ue,me]=await Promise.all([rl(q),ul(q)]);j(ue||[]),$(me||[])}catch(q){console.error("Error loading reference data:",q)}})();const P=setInterval(()=>{_({agent:c,customer:h,amount:y,time:g,type:b})},3e4);return()=>clearInterval(P)},[c,h,y,g,b]);const Q=async()=>{try{B(!0),L("");const Z=localStorage.getItem("token");if(!Z){w("Please login to create bets.");return}const P={userId:k.userId,matchId:k.matchId,amount:Number(k.amount)||0,odds:Number(k.odds)||0,type:k.type,selection:k.selection.trim(),status:k.status};if(P.amount<=0||P.odds<=0)throw new Error("Amount and odds must be greater than 0");await fj(P,Z),I({userId:"",matchId:"",amount:50,odds:1.9,type:"straight",selection:"",status:"pending"}),w(""),L("Bet created successfully."),_({agent:c,customer:h,amount:y,time:g,type:b})}catch(Z){console.error("Error creating bet:",Z),w(Z.message||"Failed to create bet")}finally{B(!1)}},se=async Z=>{const P=localStorage.getItem("token");if(!P){w("Please login to delete bets.");return}if(window.confirm("Delete this bet? This cannot be undone."))try{L(""),F(Z),await pj(Z,P),w(""),L("Bet deleted successfully."),await _({agent:c,customer:h,amount:y,time:g,type:b})}catch(q){w(q.message||"Failed to delete bet")}finally{F(null)}},J=()=>{L(""),_({agent:c,customer:h,amount:y,time:g,type:b})};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Props / Betting Management"})}),e.jsxs("div",{className:"view-content",children:[E&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading bets..."}),R&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:R}),z&&e.jsx("div",{style:{padding:"12px 20px",color:"#15803d",textAlign:"center",fontWeight:600},children:z}),!E&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Customer"}),e.jsxs("select",{value:k.userId,onChange:Z=>I(P=>({...P,userId:Z.target.value})),children:[e.jsx("option",{value:"",children:"Select customer"}),C.map(Z=>e.jsx("option",{value:Z.id||Z._id,children:Z.username},Z.id||Z._id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Match"}),e.jsxs("select",{value:k.matchId,onChange:Z=>I(P=>({...P,matchId:Z.target.value})),children:[e.jsx("option",{value:"",children:"Select match"}),S.map(Z=>e.jsxs("option",{value:Z.id,children:[Z.homeTeam," vs ",Z.awayTeam]},Z.id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",min:"0.01",value:k.amount,onChange:Z=>I(P=>({...P,amount:Z.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Odds"}),e.jsx("input",{type:"number",step:"0.01",min:"0.01",value:k.odds,onChange:Z=>I(P=>({...P,odds:Z.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:k.type,onChange:Z=>I(P=>({...P,type:Z.target.value})),children:[e.jsx("option",{value:"straight",children:"Straight"}),e.jsx("option",{value:"parlay",children:"Parlay"}),e.jsx("option",{value:"teaser",children:"Teaser"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Selection"}),e.jsx("input",{type:"text",placeholder:"Selection",value:k.selection,onChange:Z=>I(P=>({...P,selection:Z.target.value}))})]}),e.jsx("button",{className:"btn-primary",onClick:Q,disabled:V||!k.userId||!k.matchId||!k.selection.trim()||Number(k.amount)<=0||Number(k.odds)<=0,children:V?"Saving...":"Create Bet"}),!k.userId||!k.matchId||!k.selection.trim()?e.jsx("div",{style:{alignSelf:"end",color:"#9a3412",fontSize:"12px"},children:"Select customer, match, and selection to create bet."}):null]}),e.jsxs("div",{className:"stats-container",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Tickets"}),e.jsx("div",{className:"amount",children:ie.length}),e.jsx("p",{className:"change",children:"Filtered by current criteria"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Risk"}),e.jsxs("div",{className:"amount",children:["$",je.risk.toLocaleString()]}),e.jsx("p",{className:"change",children:"Across all tickets"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total To Win"}),e.jsxs("div",{className:"amount",children:["$",je.toWin.toLocaleString()]}),e.jsx("p",{className:"change",children:"Potential payouts"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Average Risk"}),e.jsxs("div",{className:"amount",children:["$",(ie.length?je.risk/ie.length:0).toFixed(0)]}),e.jsx("p",{className:"change",children:"Per ticket"})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Agents"}),e.jsx("input",{type:"text",placeholder:"Search",value:c,onChange:Z=>d(Z.target.value),className:"search-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Players"}),e.jsx("input",{type:"text",placeholder:"Search",value:h,onChange:Z=>p(Z.target.value),className:"search-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Amount"}),e.jsxs("select",{value:y,onChange:Z=>N(Z.target.value),children:[e.jsx("option",{value:"any",children:"Any Amount"}),e.jsx("option",{value:"under-100",children:"Under $100"}),e.jsx("option",{value:"100-500",children:"$100 - $500"}),e.jsx("option",{value:"500-1000",children:"$500 - $1000"}),e.jsx("option",{value:"over-1000",children:"Over $1000"})]})]}),e.jsx("button",{className:"btn-primary",onClick:J,children:"Search"}),e.jsx("button",{className:"btn-secondary",onClick:K,children:"Reset Filters"})]}),e.jsxs("div",{className:"tabs-container",children:[e.jsx("button",{className:`tab ${l==="agents"?"active":""}`,onClick:()=>r("agents"),children:"Agents"}),e.jsx("button",{className:`tab ${l==="players"?"active":""}`,onClick:()=>r("players"),children:"Players"})]}),e.jsxs("div",{className:"additional-filters",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Time"}),e.jsxs("select",{value:g,onChange:Z=>x(Z.target.value),children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"this-week",children:"This Week"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:b,onChange:Z=>f(Z.target.value),children:[e.jsx("option",{value:"all-types",children:"All Types"}),e.jsx("option",{value:"straight",children:"Straight"}),e.jsx("option",{value:"parlay",children:"Parlay"}),e.jsx("option",{value:"teaser",children:"Teaser"})]})]})]}),e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"data-table betting-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agent"}),e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Accepted (EST)"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Risk"}),e.jsx("th",{children:"To Win"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:ie.map(Z=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:Z.agent})}),e.jsx("td",{children:e.jsx("strong",{children:Z.customer})}),e.jsx("td",{children:Z.accepted}),e.jsx("td",{children:e.jsx("span",{className:`badge ${G(Z)}`,children:G(Z)})}),e.jsx("td",{className:"description-cell",children:Z.description.split(`
`).map((P,q)=>e.jsx("div",{children:P},q))}),e.jsx("td",{children:e.jsx("span",{className:"amount-risk",children:ae(Z.risk)})}),e.jsx("td",{children:e.jsx("span",{className:"amount-towin",children:ae(Z.toWin)})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${Z.status}`,children:Z.status})}),e.jsx("td",{children:e.jsx("button",{className:"btn-delete",onClick:()=>se(Z.id),disabled:oe===Z.id||Z.status!=="pending",title:Z.status==="pending"?"Delete bet":"Only pending bets can be deleted",children:oe===Z.id?"...":""})})]},Z.id))})]})}),e.jsxs("div",{className:"summary-footer",children:[e.jsxs("span",{children:["Total Records: ",ie.length]}),e.jsxs("span",{className:"risk-summary",children:["Risking: ",e.jsxs("span",{className:"amount-risk",children:["$",je.risk.toLocaleString()]}),"To Win: ",e.jsxs("span",{className:"amount-towin",children:["$",je.toWin.toLocaleString()]})]})]})]})]})]})}function s0(){const[l,r]=u.useState(""),[c,d]=u.useState("all"),[h,p]=u.useState("revenue"),[y,N]=u.useState("30d"),[g,x]=u.useState([]),[b,f]=u.useState({revenue:0,customers:0,avgWinRate:0,upAgents:0}),[v,A]=u.useState(!0),[E,D]=u.useState(""),[R,w]=u.useState(!1),[z,L]=u.useState(!1),[C,j]=u.useState(""),[S,$]=u.useState(null),V=k=>`$${Number(k||0).toLocaleString(void 0,{maximumFractionDigits:0})}`,B=g.filter(k=>{const I=k.name.toLowerCase().includes(l.toLowerCase()),M=c==="all"||k.trend===c;return I&&M}).sort((k,I)=>h==="customers"?I.customers-k.customers:h==="winRate"?I.winRate-k.winRate:I.revenue-k.revenue),oe=async()=>{try{A(!0);const k=localStorage.getItem("token");if(!k){x([]),D("Please login to load performance.");return}const I=await xj({period:y},k),M=(I.agents||[]).map(ae=>({...ae,lastActive:ae.lastActive?new Date(ae.lastActive).toLocaleString():""}));x(M),f(I.summary||{revenue:0,customers:0,avgWinRate:0,upAgents:0}),D("")}catch(k){console.error("Error loading agent performance:",k),D(k.message||"Failed to load agent performance")}finally{A(!1)}};u.useEffect(()=>{oe();const k=setInterval(oe,3e4);return()=>clearInterval(k)},[y]);const F=async k=>{try{w(!0),L(!0),j(""),$(null);const I=localStorage.getItem("token");if(!I)throw new Error("Please login to view details.");const M=await bj(k.id,{period:y},I);$(M)}catch(I){j(I.message||"Failed to load details")}finally{L(!1)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Agent Performance"}),e.jsxs("span",{className:"count",children:[B.length," agents"]})]}),e.jsxs("div",{className:"view-content",children:[v&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading performance..."}),E&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:E}),!v&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"stats-container",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Revenue"}),e.jsx("div",{className:"amount",children:V(b.revenue)}),e.jsx("p",{className:"change",children:"Across filtered agents"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Active Customers"}),e.jsx("div",{className:"amount",children:b.customers}),e.jsx("p",{className:"change",children:"1+ bets in last 7 days"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Avg. Win Rate"}),e.jsxs("div",{className:"amount",children:[Number(b.avgWinRate||0).toFixed(1),"%"]}),e.jsx("p",{className:"change",children:"Active-customer settled bets"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Trending Up"}),e.jsx("div",{className:"amount",children:b.upAgents}),e.jsx("p",{className:"change",children:"Agents improving"})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Agent"}),e.jsx("input",{type:"text",placeholder:"Search agent",value:l,onChange:k=>r(k.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Trend"}),e.jsxs("select",{value:c,onChange:k=>d(k.target.value),children:[e.jsx("option",{value:"all",children:"All Trends"}),e.jsx("option",{value:"up",children:"Trending Up"}),e.jsx("option",{value:"stable",children:"Stable"}),e.jsx("option",{value:"down",children:"Trending Down"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Sort By"}),e.jsxs("select",{value:h,onChange:k=>p(k.target.value),children:[e.jsx("option",{value:"revenue",children:"Revenue"}),e.jsx("option",{value:"customers",children:"Active Customers"}),e.jsx("option",{value:"winRate",children:"Win Rate"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Period"}),e.jsxs("select",{value:y,onChange:k=>N(k.target.value),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"all",children:"All Time"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agent"}),e.jsx("th",{children:"Tier"}),e.jsx("th",{children:"Revenue"}),e.jsx("th",{children:"Active / Total Customers"}),e.jsx("th",{children:"Win Rate"}),e.jsx("th",{children:"Trend"}),e.jsx("th",{children:"Last Active"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:B.map(k=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:k.name})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${k.tier}`,children:k.tier})}),e.jsx("td",{children:V(k.revenue)}),e.jsxs("td",{children:[k.customers," / ",k.totalCustomers||0]}),e.jsx("td",{children:e.jsxs("div",{className:"win-rate",children:[e.jsx("div",{className:"win-rate-bar",children:e.jsx("div",{className:"win-rate-fill",style:{width:`${Math.min(k.winRate,100)}%`}})}),e.jsxs("span",{className:"win-rate-value",children:[Number(k.winRate||0).toFixed(1),"%"]})]})}),e.jsx("td",{children:e.jsx("span",{className:`trend ${k.trend}`,children:k.trend==="up"?"":k.trend==="down"?"":""})}),e.jsx("td",{children:k.lastActive}),e.jsx("td",{children:e.jsx("div",{className:"table-actions",children:e.jsx("button",{className:"btn-small",onClick:()=>F(k),children:"View Details"})})})]},k.id))})]})})]})]}),R&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",style:{width:"min(980px, 95vw)",maxHeight:"86vh",overflowY:"auto"},onClick:k=>k.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsx("h3",{style:{margin:0},children:"Agent Details"}),e.jsx("button",{className:"btn-secondary",onClick:()=>w(!1),children:"Close"})]}),z&&e.jsx("div",{style:{padding:"12px"},children:"Loading details..."}),C&&e.jsx("div",{style:{padding:"12px",color:"red"},children:C}),S&&!z&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"14px",fontWeight:700},children:[S.agent?.name," | Period: ",S.summary?.period?.toUpperCase()]}),e.jsxs("div",{className:"stats-container",style:{marginBottom:"16px"},children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Active Customers"}),e.jsxs("div",{className:"amount",children:[S.summary.activeCustomers," / ",S.summary.totalCustomers]}),e.jsx("p",{className:"change",children:"1+ bets in last 7 days"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Win Rate"}),e.jsxs("div",{className:"amount",children:[Number(S.summary.winRate||0).toFixed(1),"%"]}),e.jsx("p",{className:"change",children:"Settled bets only"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Handle / GGR"}),e.jsxs("div",{className:"amount",children:[V(S.summary.totalRisk)," / ",V(S.summary.ggr)]}),e.jsxs("p",{className:"change",children:["Hold: ",Number(S.summary.holdPct||0).toFixed(1),"%"]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Bets"}),e.jsx("div",{className:"amount",children:S.summary.betsPlaced}),e.jsxs("p",{className:"change",children:["Settled: ",S.summary.settledBets," | Pending: ",S.summary.pendingBets]})]})]}),e.jsxs("div",{className:"table-container",style:{marginBottom:"14px"},children:[e.jsx("h4",{style:{margin:"0 0 8px 0"},children:"Top Customers"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Bets"}),e.jsx("th",{children:"Risk"}),e.jsx("th",{children:"Win Rate"})]})}),e.jsxs("tbody",{children:[(S.topCustomers||[]).map(k=>e.jsxs("tr",{children:[e.jsx("td",{children:k.username}),e.jsx("td",{children:k.bets}),e.jsx("td",{children:V(k.risk)}),e.jsxs("td",{children:[Number(k.winRate||0).toFixed(1),"%"]})]},k.userId)),(!S.topCustomers||S.topCustomers.length===0)&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",children:"No customer performance data for this period."})})]})]})]}),e.jsxs("div",{className:"table-container",children:[e.jsx("h4",{style:{margin:"0 0 8px 0"},children:"Recent Bets"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Accepted"}),e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Selection"}),e.jsx("th",{children:"Risk"}),e.jsx("th",{children:"To Win"}),e.jsx("th",{children:"Status"})]})}),e.jsxs("tbody",{children:[(S.recentBets||[]).map(k=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(k.accepted).toLocaleString()}),e.jsx("td",{children:k.customer}),e.jsx("td",{children:k.type}),e.jsx("td",{children:k.selection}),e.jsx("td",{children:V(k.risk)}),e.jsx("td",{children:V(k.toWin)}),e.jsx("td",{children:e.jsx("span",{className:`badge ${k.status}`,children:k.status})})]},k.id)),(!S.recentBets||S.recentBets.length===0)&&e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"No bets in this period."})})]})]})]})]})]})})]})}function n0(){return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Analysis"})}),e.jsx("div",{className:"view-content",children:e.jsxs("div",{className:"analysis-container",children:[e.jsxs("div",{className:"analysis-card",children:[e.jsx("h3",{children:"Betting Trends"}),e.jsx("p",{children:"Track and analyze betting patterns across all sports and markets."}),e.jsx("button",{className:"btn-small",children:"View Details"})]}),e.jsxs("div",{className:"analysis-card",children:[e.jsx("h3",{children:"Customer Analytics"}),e.jsx("p",{children:"Analyze customer behavior, retention rates, and spending patterns."}),e.jsx("button",{className:"btn-small",children:"View Details"})]}),e.jsxs("div",{className:"analysis-card",children:[e.jsx("h3",{children:"Revenue Analysis"}),e.jsx("p",{children:"Comprehensive revenue breakdown by sport, market, and time period."}),e.jsx("button",{className:"btn-small",children:"View Details"})]}),e.jsxs("div",{className:"analysis-card",children:[e.jsx("h3",{children:"Risk Analysis"}),e.jsx("p",{children:"Identify and assess potential risk factors in betting operations."}),e.jsx("button",{className:"btn-small",children:"View Details"})]})]})})]})}function l0({canManage:l=!0}){const[r,c]=u.useState([]),[d,h]=u.useState(!0),[p,y]=u.useState(""),[N,g]=u.useState(""),[x,b]=u.useState("all"),[f,v]=u.useState(null),[A,E]=u.useState(null),[D,R]=u.useState(!1),w=async()=>{const S=localStorage.getItem("token");if(!S){y("Please login to view IP tracker."),h(!1);return}try{h(!0);const $=await ej({search:N,status:x},S);c($.logs||[]),y("")}catch($){console.error("Failed to load IP tracker:",$),y($.message||"Failed to load IP tracker")}finally{h(!1)}};u.useEffect(()=>{w()},[N,x]);const z=async S=>{const $=localStorage.getItem("token");if(!$){y("Please login to block IPs.");return}if(!l){y("You do not have permission to manage IP actions.");return}try{v(S),await tj(S,$),c(V=>V.map(B=>B.id===S?{...B,status:"blocked"}:B))}catch(V){y(V.message||"Failed to block IP")}finally{v(null)}},L=async S=>{const $=localStorage.getItem("token");if(!$){y("Please login to unblock IPs.");return}if(!l){y("You do not have permission to manage IP actions.");return}try{v(S),await aj(S,$),c(V=>V.map(B=>B.id===S?{...B,status:"active"}:B))}catch(V){y(V.message||"Failed to unblock IP")}finally{v(null)}},C=async S=>{const $=localStorage.getItem("token");if(!$){y("Please login to whitelist IPs.");return}if(!l){y("You do not have permission to manage IP actions.");return}try{v(S),await cj(S,$),c(V=>V.map(B=>B.id===S?{...B,status:"whitelisted"}:B))}catch(V){y(V.message||"Failed to whitelist IP")}finally{v(null)}},j=S=>{E(S),R(!0)};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"IP Tracker"})}),e.jsxs("div",{className:"view-content",children:[d&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading IP logs..."}),p&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:p}),!d&&!p&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Search"}),e.jsx("input",{type:"text",value:N,onChange:S=>g(S.target.value),placeholder:"User or IP"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:x,onChange:S=>b(S.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"blocked",children:"Blocked"})]})]})]}),!l&&e.jsx("div",{style:{marginBottom:"12px",color:"#f59e0b",fontWeight:600},children:"View-only mode: IP actions are disabled by your permissions."}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"IP Address"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Country"}),e.jsx("th",{children:"City"}),e.jsx("th",{children:"Last Active"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:r.map(S=>e.jsxs("tr",{children:[e.jsx("td",{className:"monospace",children:S.ip}),e.jsx("td",{children:S.user}),e.jsx("td",{children:S.country||"Unknown"}),e.jsx("td",{children:S.city||"Unknown"}),e.jsx("td",{children:S.lastActive?new Date(S.lastActive).toLocaleString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${S.status}`,children:S.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>j(S),children:"View"}),S.status==="blocked"?e.jsx("button",{className:"btn-small",onClick:()=>L(S.id),disabled:f===S.id||!l,children:f===S.id?"Working...":"Unblock"}):S.status==="whitelisted"?e.jsx("button",{className:"btn-small",onClick:()=>L(S.id),disabled:f===S.id||!l,children:f===S.id?"Working...":"Un-whitelist"}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn-small btn-danger",onClick:()=>z(S.id),disabled:f===S.id||!l,children:f===S.id?"Working...":"Block"}),e.jsx("button",{className:"btn-small btn-primary",onClick:()=>C(S.id),disabled:f===S.id||!l,style:{marginLeft:"4px",backgroundColor:"#3b82f6"},children:f===S.id?"...":"Whitelist"})]})]})]},S.id))})]})})]})]}),D&&A&&e.jsx("div",{className:"modal-overlay",onClick:()=>R(!1),children:e.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),children:[e.jsx("h3",{children:"IP Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"IP:"})," ",A.ip]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",A.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Country:"})," ",A.country||"Unknown"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"City:"})," ",A.city||"Unknown"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",A.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Active:"})," ",A.lastActive?new Date(A.lastActive).toLocaleString():""]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User Agent:"})," ",A.userAgent||""]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>R(!1),children:"Close"})})]})})]})}function i0(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[y,N]=u.useState(""),[g,x]=u.useState("all"),[b,f]=u.useState("all"),[v,A]=u.useState("30d"),[E,D]=u.useState(null),[R,w]=u.useState(!1),z=async()=>{const j=localStorage.getItem("token");if(!j){p("Please login to view transaction history."),d(!1);return}try{d(!0);const S=await il({user:y,type:g,status:b,time:v,limit:200},j);r(S.transactions||[]),p("")}catch(S){console.error("Failed to load transaction history:",S),p(S.message||"Failed to load transaction history")}finally{d(!1)}};u.useEffect(()=>{z()},[y,g,b,v]);const L=j=>{if(j==null)return"";const S=Number(j);return Number.isNaN(S)?"":`$${S.toFixed(2)}`},C=j=>{D(j),w(!0)};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Transactions History"})}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading transactions..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"User"}),e.jsx("input",{type:"text",value:y,onChange:j=>N(j.target.value),placeholder:"Search user"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:g,onChange:j=>x(j.target.value),children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"deposit",children:"Deposit"}),e.jsx("option",{value:"withdrawal",children:"Withdrawal"}),e.jsx("option",{value:"bet_placed",children:"Bet Placed"}),e.jsx("option",{value:"bet_won",children:"Bet Won"}),e.jsx("option",{value:"bet_refund",children:"Bet Refund"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:b,onChange:j=>f(j.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"failed",children:"Failed"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Time"}),e.jsxs("select",{value:v,onChange:j=>A(j.target.value),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(j=>e.jsxs("tr",{children:[e.jsx("td",{children:j.type}),e.jsx("td",{children:j.user}),e.jsx("td",{className:j.type==="withdrawal"||j.type==="bet_placed"?"negative":"positive",children:L(j.amount)}),e.jsx("td",{children:j.date?new Date(j.date).toLocaleString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${j.status}`,children:j.status})}),e.jsx("td",{children:e.jsx("button",{className:"btn-small",onClick:()=>C(j),children:"View"})})]},j.id))})]})})]})]}),R&&E&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:j=>j.stopPropagation(),children:[e.jsx("h3",{children:"Transaction Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",E.type]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",E.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",L(E.amount)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",E.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",E.date?new Date(E.date).toLocaleString():""]}),E.description&&e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",E.description]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Close"})})]})})]})}function r0(){const[l,r]=u.useState([]),[c,d]=u.useState({totalOutstanding:0}),[h,p]=u.useState(!0),[y,N]=u.useState(""),[g,x]=u.useState(null),[b,f]=u.useState([]),[v,A]=u.useState({user:"",status:"all",overdue:"0"}),[E,D]=u.useState(!1),[R,w]=u.useState({userId:"",amount:"",dueDate:"",notes:""}),[z,L]=u.useState(null),[C,j]=u.useState(!1),S=async()=>{const F=localStorage.getItem("token");if(!F){N("Please login to view collections."),p(!1);return}try{p(!0);const k=await sj({user:v.user,status:v.status,overdue:v.overdue,limit:200},F);r(k.collections||[]),d(k.summary||{totalOutstanding:0}),N("")}catch(k){console.error("Failed to load collections:",k),N(k.message||"Failed to load collections")}finally{p(!1)}};u.useEffect(()=>{S()},[v]),u.useEffect(()=>{(async()=>{const k=localStorage.getItem("token");if(k)try{const I=await rl(k);f(Array.isArray(I)?I:[])}catch(I){console.error("Failed to load customers:",I)}})()},[]);const $=async()=>{const F=localStorage.getItem("token");if(!F){N("Please login to create collections.");return}try{D(!0),await hj({userId:R.userId,amount:Number(R.amount)||0,dueDate:R.dueDate||null,notes:R.notes.trim()||null},F),w({userId:"",amount:"",dueDate:"",notes:""}),N(""),S()}catch(k){N(k.message||"Failed to create collection")}finally{D(!1)}},V=async F=>{const k=localStorage.getItem("token");if(!k){N("Please login to collect.");return}try{x(F),await mj(F,k),r(I=>I.map(M=>M.id===F?{...M,status:"collected",attempts:(M.attempts||0)+1,lastAttemptAt:new Date().toISOString()}:M))}catch(I){N(I.message||"Failed to collect")}finally{x(null)}},B=F=>{L(F),j(!0)},oe=F=>{if(F==null)return"";const k=Number(F);return Number.isNaN(k)?"":`$${k.toFixed(2)}`};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Collections"}),e.jsxs("p",{className:"count",children:["Total Outstanding: ",oe(c.totalOutstanding)]})]}),e.jsxs("div",{className:"view-content",children:[h&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading collections..."}),y&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:y}),!h&&!y&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"User"}),e.jsx("input",{type:"text",value:v.user,onChange:F=>A(k=>({...k,user:F.target.value})),placeholder:"Search user"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:v.status,onChange:F=>A(k=>({...k,status:F.target.value})),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"overdue",children:"Overdue"}),e.jsx("option",{value:"collected",children:"Collected"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Overdue Only"}),e.jsxs("select",{value:v.overdue,onChange:F=>A(k=>({...k,overdue:F.target.value})),children:[e.jsx("option",{value:"0",children:"No"}),e.jsx("option",{value:"1",children:"Yes"})]})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Customer"}),e.jsxs("select",{value:R.userId,onChange:F=>w(k=>({...k,userId:F.target.value})),children:[e.jsx("option",{value:"",children:"Select customer"}),b.map(F=>e.jsx("option",{value:F.id||F._id,children:F.username},F.id||F._id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:R.amount,onChange:F=>w(k=>({...k,amount:F.target.value})),placeholder:"0.00"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Due Date"}),e.jsx("input",{type:"date",value:R.dueDate,onChange:F=>w(k=>({...k,dueDate:F.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:R.notes,onChange:F=>w(k=>({...k,notes:F.target.value})),placeholder:"Optional"})]}),e.jsx("button",{className:"btn-primary",onClick:$,disabled:E||!R.userId||!R.amount,children:E?"Saving...":"Create Collection"})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Due Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Attempts"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(F=>e.jsxs("tr",{children:[e.jsx("td",{children:F.user}),e.jsx("td",{children:oe(F.amount)}),e.jsx("td",{children:F.dueDate?new Date(F.dueDate).toLocaleDateString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${F.status}`,children:F.status})}),e.jsx("td",{children:F.attempts||0}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>V(F.id),disabled:F.status==="collected"||g===F.id,children:g===F.id?"Working...":"Collect"}),e.jsx("button",{className:"btn-small",onClick:()=>B(F),children:"View"})]})]},F.id))})]})})]})]}),C&&z&&e.jsx("div",{className:"modal-overlay",onClick:()=>j(!1),children:e.jsxs("div",{className:"modal-content",onClick:F=>F.stopPropagation(),children:[e.jsx("h3",{children:"Collection Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",z.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",oe(z.amount)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Due Date:"})," ",z.dueDate?new Date(z.dueDate).toLocaleDateString():""]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",z.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Attempts:"})," ",z.attempts||0]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Attempt:"})," ",z.lastAttemptAt?new Date(z.lastAttemptAt).toLocaleString():""]}),z.notes&&e.jsxs("p",{children:[e.jsx("strong",{children:"Notes:"})," ",z.notes]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>j(!1),children:"Close"})})]})})]})}function o0(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[y,N]=u.useState({user:"",sport:"all",status:"all",time:"30d"}),[g,x]=u.useState(null),[b,f]=u.useState(null),[v,A]=u.useState(!1),E=async()=>{const z=localStorage.getItem("token");if(!z){p("Please login to view deleted wagers."),d(!1);return}try{d(!0);const L=await nj(y,z);r(L.wagers||[]),p("")}catch(L){console.error("Failed to load deleted wagers:",L),p(L.message||"Failed to load deleted wagers")}finally{d(!1)}};u.useEffect(()=>{E()},[y]);const D=async z=>{const L=localStorage.getItem("token");if(!L){p("Please login to restore wagers.");return}try{x(z),await lj(z,L),r(C=>C.map(j=>j.id===z?{...j,status:"restored",restoredAt:new Date().toISOString()}:j))}catch(C){p(C.message||"Failed to restore wager")}finally{x(null)}},R=z=>{f(z),A(!0)},w=z=>{if(z==null)return"";const L=Number(z);return Number.isNaN(L)?"":`$${L.toFixed(2)}`};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Deleted Wagers"})}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading deleted wagers..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"User"}),e.jsx("input",{type:"text",value:y.user,onChange:z=>N(L=>({...L,user:z.target.value})),placeholder:"Search user"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Sport"}),e.jsxs("select",{value:y.sport,onChange:z=>N(L=>({...L,sport:z.target.value})),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"NBA",children:"NBA"}),e.jsx("option",{value:"NFL",children:"NFL"}),e.jsx("option",{value:"MLB",children:"MLB"}),e.jsx("option",{value:"NHL",children:"NHL"}),e.jsx("option",{value:"Soccer",children:"Soccer"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:y.status,onChange:z=>N(L=>({...L,status:z.target.value})),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"deleted",children:"Deleted"}),e.jsx("option",{value:"restored",children:"Restored"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Time"}),e.jsxs("select",{value:y.time,onChange:z=>N(L=>({...L,time:z.target.value})),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Sport"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Reason"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(z=>e.jsxs("tr",{children:[e.jsx("td",{children:z.user}),e.jsx("td",{children:w(z.amount)}),e.jsx("td",{children:z.sport}),e.jsx("td",{children:z.deletedAt?new Date(z.deletedAt).toLocaleDateString():""}),e.jsx("td",{children:z.reason}),e.jsx("td",{children:e.jsx("span",{className:`badge ${z.status}`,children:z.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>R(z),children:"View"}),e.jsx("button",{className:"btn-small",onClick:()=>D(z.id),disabled:z.status==="restored"||g===z.id,children:g===z.id?"Working...":"Restore"})]})]},z.id))})]})})]})]}),v&&b&&e.jsx("div",{className:"modal-overlay",onClick:()=>A(!1),children:e.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),children:[e.jsx("h3",{children:"Deleted Wager Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",b.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",w(b.amount)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sport:"})," ",b.sport]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Reason:"})," ",b.reason]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",b.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Deleted At:"})," ",b.deletedAt?new Date(b.deletedAt).toLocaleString():""]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Restored At:"})," ",b.restoredAt?new Date(b.restoredAt).toLocaleString():""]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>A(!1),children:"Close"})})]})})]})}function c0(){const[l,r]=u.useState("game"),[c,d]=u.useState("all"),[h,p]=u.useState([]),[y,N]=u.useState(!1),[g,x]=u.useState([]),[b,f]=u.useState(!0),[v,A]=u.useState(""),[E,D]=u.useState(""),[R,w]=u.useState(!1),[z,L]=u.useState({homeTeam:"",awayTeam:"",startTime:"",sport:"basketball",status:"scheduled"}),C=600,j=[{id:"nfl",label:"NFL",icon:""},{id:"nba",label:"NBA",icon:""},{id:"mlb",label:"MLB",icon:""},{id:"nhl",label:"NHL",icon:""},{id:"soccer",label:"Soccer",icon:""},{id:"tennis",label:"Tennis",icon:""},{id:"golf",label:"Golf",icon:""},{id:"boxing",label:"Boxing",icon:""},{id:"esports",label:"Esports",icon:""},{id:"props",label:"Props",icon:""},{id:"futures",label:"Futures",icon:""},{id:"contests",label:"Contests",icon:""}],S=G=>{p(ie=>ie.includes(G)?ie.filter(je=>je!==G):[...ie,G])},$=[{header:"Period",key:"period"},{header:"Game",key:"game"},{header:"Time",key:"time"},{header:"Event",key:"event"},{header:"Spread",key:"spread"},{header:"Moneyline",key:"moneyline"},{header:"Total",key:"total"},{header:"Team Total",key:"teamTotal"},{header:"OS",key:"os"},{header:"US",key:"us"}],V=async()=>{const G=localStorage.getItem("token");if(!G){A("Please login to load games."),f(!1);return}try{f(!0);const ie=await ul(G);x(ie||[]),A("")}catch(ie){console.error("Failed to load matches:",ie),A(ie.message||"Failed to load matches")}finally{f(!1)}};u.useEffect(()=>{V()},[]);const B=G=>{if(!G?.startTime)return c==="all";if(c==="all")return!0;const ie=new Date(G.startTime),je=new Date,K=new Date(je.getFullYear(),je.getMonth(),je.getDate()),_=new Date(K.getTime()+1440*60*1e3),Q=new Date(_.getTime()+1440*60*1e3),se=new Date(K.getTime()+10080*60*1e3);return c==="today"?ie>=K&&ie<_:c==="tomorrow"?ie>=_&&ie<Q:c==="this-week"?ie>=K&&ie<se:!0},oe=G=>l==="game"?!0:G?.status===l,F=G=>{if(!h.length)return!0;const ie=String(G?.sport||"").toLowerCase();return h.includes(ie)},k=g.filter(B).filter(oe).filter(F);u.useEffect(()=>{!b&&k.length===0&&N(!0)},[b,k.length]);const I=async()=>{const G=localStorage.getItem("token");if(!G){A("Please login to add games.");return}try{D("add"),await jp({homeTeam:z.homeTeam.trim(),awayTeam:z.awayTeam.trim(),startTime:z.startTime,sport:z.sport,status:z.status},G),L({homeTeam:"",awayTeam:"",startTime:"",sport:"basketball",status:"scheduled"}),w(!1),V()}catch(ie){A(ie.message||"Failed to add game")}finally{D("")}},M=async()=>{const G=localStorage.getItem("token");if(!G){A("Please login to update odds.");return}try{const ie=Date.now();D("odds"),await Np(G),V()}catch(ie){A(ie.message||"Failed to update odds")}finally{const ie=Date.now()-startedAt;ie<C&&await new Promise(je=>setTimeout(je,C-ie)),D("")}},ae=async()=>{const G=localStorage.getItem("token");if(!G){A("Please login to clear cache.");return}try{D("cache"),await uj(G)}catch(ie){A(ie.message||"Failed to clear cache")}finally{D("")}},H=async G=>{const ie=localStorage.getItem("token");if(!ie){A("Please login to settle matches.");return}const je=window.prompt(`Set winner for ${G.homeTeam} vs ${G.awayTeam}. Type "home" or "away":`,"home");if(!je)return;const K=je.trim().toLowerCase();if(K!=="home"&&K!=="away"){A('Winner must be "home" or "away".');return}const _=K==="home"?G.homeTeam:G.awayTeam;try{D(`settle-${G.id||G._id}`),await gj({matchId:G.id||G._id,winner:_},ie),await V(),A(""),alert("Match settled successfully.")}catch(Q){A(Q.message||"Failed to settle match")}finally{D("")}};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Games & Events Management"})}),E==="odds"&&Sd.createPortal(e.jsx("div",{className:"admin-loading-overlay",children:e.jsxs("div",{className:"admin-loading-card",children:[e.jsx("div",{className:"admin-spinner"}),e.jsx("div",{children:"Refreshing odds & scores..."})]})}),document.body),e.jsxs("div",{className:"view-content",children:[b&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading games..."}),v&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:v}),!b&&!v&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"games-controls",children:[e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Period:"}),e.jsxs("select",{value:l,onChange:G=>r(G.target.value),children:[e.jsx("option",{value:"game",children:"Game"}),e.jsx("option",{value:"live",children:"Live"}),e.jsx("option",{value:"finished",children:"Finished"}),e.jsx("option",{value:"scheduled",children:"Scheduled"})]})]}),e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Games to show:"}),e.jsxs("select",{value:c,onChange:G=>d(G.target.value),children:[e.jsx("option",{value:"all",children:"All Games"}),e.jsx("option",{value:"today",children:"Today Only"}),e.jsx("option",{value:"tomorrow",children:"Tomorrow"}),e.jsx("option",{value:"this-week",children:"This Week"})]})]})]}),e.jsx("div",{className:"sports-icons-container",children:j.map(G=>e.jsxs("button",{className:`sport-icon-btn ${h.includes(G.id)?"active":""}`,onClick:()=>S(G.id),title:G.label,children:[e.jsx("span",{className:"icon",children:G.icon}),e.jsx("span",{className:"dropdown-arrow",children:""})]},G.id))}),!y&&e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"data-table events-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[$.map(G=>e.jsx("th",{children:G.header},G.key)),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:k.map(G=>e.jsxs("tr",{children:[e.jsx("td",{children:G.status||"scheduled"}),e.jsxs("td",{children:[G.homeTeam," vs ",G.awayTeam]}),e.jsx("td",{children:G.startTime?new Date(G.startTime).toLocaleString():""}),e.jsx("td",{children:G.sport||""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:e.jsx("button",{className:"btn-small",onClick:()=>H(G),disabled:E===`settle-${G.id||G._id}`,children:E===`settle-${G.id||G._id}`?"Settling...":"Settle"})})]},G.id||G._id))})]})}),y&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content no-events-modal",children:[e.jsx("button",{className:"modal-close",onClick:()=>N(!1),children:""}),e.jsx("h3",{children:"Today there aren't any event's"}),e.jsx("p",{children:"There are no games for today, would you like to view the Full Board?"}),e.jsxs("div",{className:"modal-buttons",children:[e.jsx("button",{className:"btn-success",onClick:()=>{N(!1),d("all")},children:"Yes"}),e.jsx("button",{className:"btn-danger",onClick:()=>N(!1),children:"No"})]})]})}),e.jsxs("div",{className:"game-status-legend",children:[e.jsx("h4",{children:"Status Legend:"}),e.jsxs("div",{className:"legend-items",children:[e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"status-badge live",children:"Live"}),e.jsx("span",{children:"Game is currently in progress"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"status-badge scheduled",children:"Scheduled"}),e.jsx("span",{children:"Game is scheduled for future date"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"status-badge finished",children:"Finished"}),e.jsx("span",{children:"Game has ended"})]})]})]}),e.jsxs("div",{className:"quick-actions",children:[e.jsx("h4",{children:"Quick Actions:"}),e.jsx("button",{className:"btn-primary",onClick:()=>w(!0),children:"Add Game"}),e.jsx("button",{className:"btn-secondary",onClick:M,disabled:E==="odds",children:E==="odds"?e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{className:"admin-inline-spinner"})," Working..."]}):"Import Games"}),e.jsx("button",{className:"btn-secondary",onClick:M,disabled:E==="odds",children:E==="odds"?e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{className:"admin-inline-spinner"})," Working..."]}):"Update Odds"}),e.jsx("button",{className:"btn-danger",onClick:ae,disabled:E==="cache",children:E==="cache"?"Working...":"Clear Cache"})]})]})]}),R&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:G=>G.stopPropagation(),children:[e.jsx("h3",{children:"Add Game"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Home Team"}),e.jsx("input",{type:"text",value:z.homeTeam,onChange:G=>L(ie=>({...ie,homeTeam:G.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Away Team"}),e.jsx("input",{type:"text",value:z.awayTeam,onChange:G=>L(ie=>({...ie,awayTeam:G.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Start Time"}),e.jsx("input",{type:"datetime-local",value:z.startTime,onChange:G=>L(ie=>({...ie,startTime:G.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Sport"}),e.jsxs("select",{value:z.sport,onChange:G=>L(ie=>({...ie,sport:G.target.value})),children:[e.jsx("option",{value:"basketball",children:"Basketball"}),e.jsx("option",{value:"football",children:"Football"}),e.jsx("option",{value:"baseball",children:"Baseball"}),e.jsx("option",{value:"hockey",children:"Hockey"}),e.jsx("option",{value:"soccer",children:"Soccer"}),e.jsx("option",{value:"tennis",children:"Tennis"}),e.jsx("option",{value:"golf",children:"Golf"}),e.jsx("option",{value:"boxing",children:"Boxing"}),e.jsx("option",{value:"esports",children:"Esports"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:z.status,onChange:G=>L(ie=>({...ie,status:G.target.value})),children:[e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"live",children:"Live"}),e.jsx("option",{value:"finished",children:"Finished"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:I,disabled:E==="add"||!z.homeTeam.trim()||!z.awayTeam.trim()||!z.startTime,children:E==="add"?"Saving...":"Add Game"})]})]})})]})}function d0(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[y,N]=u.useState(!1),[g,x]=u.useState(null),[b,f]=u.useState(null),[v,A]=u.useState({name:"",url:"",status:"active",notes:""}),[E,D]=u.useState(!1),R=async()=>{const S=localStorage.getItem("token");if(!S){p("Please login to view sportsbook links."),d(!1);return}try{d(!0);const $=await ij(S);r($.links||[]),p("")}catch($){console.error("Failed to load sportsbook links:",$),p($.message||"Failed to load sportsbook links")}finally{d(!1)}};u.useEffect(()=>{R()},[]);const w=()=>{x(null),A({name:"",url:"",status:"active",notes:""}),N(!0)},z=S=>{x(S),A({name:S.name,url:S.url,status:S.status,notes:S.notes||""}),N(!0)},L=S=>{x(S),D(!0)},C=async()=>{const S=localStorage.getItem("token");if(!S){p("Please login to save links.");return}try{f(g?.id||"new"),g?await oj(g.id,v,S):await rj(v,S),N(!1),R()}catch($){p($.message||"Failed to save link")}finally{f(null)}},j=async S=>{const $=localStorage.getItem("token");if(!$){p("Please login to test links.");return}try{f(S);const V=await dj(S,$);r(B=>B.map(oe=>oe.id===S?{...oe,lastSync:V.lastSync}:oe))}catch(V){p(V.message||"Failed to test link")}finally{f(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Sportsbook Links"}),e.jsx("button",{className:"btn-primary",onClick:w,children:"Add New Link"})]}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading links..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Provider Name"}),e.jsx("th",{children:"API URL"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last Sync"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(S=>e.jsxs("tr",{children:[e.jsx("td",{children:S.name}),e.jsx("td",{className:"monospace",children:S.url}),e.jsx("td",{children:e.jsx("span",{className:`badge ${S.status}`,children:S.status})}),e.jsx("td",{children:S.lastSync?new Date(S.lastSync).toLocaleString():""}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>z(S),children:"Edit"}),e.jsx("button",{className:"btn-small",onClick:()=>j(S.id),disabled:b===S.id,children:b===S.id?"Working...":"Test"}),e.jsx("button",{className:"btn-small",onClick:()=>L(S),children:"View"})]})]},S.id))})]})})]}),y&&e.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:e.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),children:[e.jsx("h3",{children:g?"Edit Link":"Add Link"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",value:v.name,onChange:S=>A($=>({...$,name:S.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"URL"}),e.jsx("input",{type:"text",value:v.url,onChange:S=>A($=>({...$,url:S.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:v.status,onChange:S=>A($=>({...$,status:S.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:v.notes,onChange:S=>A($=>({...$,notes:S.target.value})),placeholder:"Optional"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>N(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:C,disabled:b||!v.name.trim()||!v.url.trim(),children:b?"Saving...":"Save"})]})]})}),E&&g&&e.jsx("div",{className:"modal-overlay",onClick:()=>D(!1),children:e.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),children:[e.jsx("h3",{children:"Link Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",g.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"URL:"})," ",g.url]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",g.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Sync:"})," ",g.lastSync?new Date(g.lastSync).toLocaleString():""]}),g.notes&&e.jsxs("p",{children:[e.jsx("strong",{children:"Notes:"})," ",g.notes]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>D(!1),children:"Close"})})]})})]})}function u0(){const[l,r]=u.useState([]),[c,d]=u.useState("all"),[h,p]=u.useState(!0),y=async()=>{try{const g=localStorage.getItem("token");if(!g)return;const x=await Cd({},g);if(x&&Array.isArray(x.bets)){const b=x.bets.map(f=>({id:f._id||f.id,user:f.userId?.username||"Unknown",type:f.matchSnapshot?.status==="live"?"LIVE":"UPCOMING",match:f.description||(f.matchSnapshot?`${f.matchSnapshot.homeTeam} vs ${f.matchSnapshot.awayTeam}`:"Unknown Match"),bet:`${f.selection} @ ${parseFloat(f.odds).toFixed(2)}`,amount:`$${parseFloat(f.amount).toFixed(2)}`,odds:parseFloat(f.odds).toFixed(2),time:new Date(f.createdAt).toLocaleTimeString(),status:f.matchSnapshot?.status==="live"?"LIVE":"UPCOMING",originalStatus:f.status}));r(b)}}catch(g){console.error("Failed to fetch admin bets:",g)}finally{p(!1)}};u.useEffect(()=>{y();const g=setInterval(y,1e4);return()=>clearInterval(g)},[]);const N=c==="all"?l:l.filter(g=>g.type.toLowerCase()===c.toLowerCase());return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Live Bet Ticker"}),e.jsxs("div",{className:"ticker-filter",children:[e.jsx("button",{className:c==="all"?"active":"",onClick:()=>d("all"),children:"All Bets"}),e.jsx("button",{className:c==="live"?"active":"",onClick:()=>d("live"),children:" Live"}),e.jsx("button",{className:c==="upcoming"?"active":"",onClick:()=>d("upcoming"),children:" Upcoming"})]})]}),e.jsxs("div",{className:"view-content",children:[e.jsx("div",{className:"ticker-container",children:e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"ticker-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Status"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Match"}),e.jsx("th",{children:"Bet Details"}),e.jsx("th",{children:"Odds"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"Loading bets..."})}):N.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"No bets found"})}):N.map(g=>e.jsxs("tr",{className:`ticker-row ${g.status.toLowerCase()}`,children:[e.jsx("td",{children:e.jsx("span",{className:`status-badge ${g.status.toLowerCase()}`,children:g.status==="LIVE"?" LIVE":" UPCOMING"})}),e.jsx("td",{children:e.jsx("strong",{children:g.user})}),e.jsx("td",{className:"match-cell",children:g.match}),e.jsx("td",{className:"bet-cell",children:g.bet}),e.jsx("td",{className:"odds-cell",children:e.jsx("span",{className:"odds-highlight",children:g.odds})}),e.jsx("td",{className:"amount-cell",children:e.jsx("strong",{children:g.amount})}),e.jsx("td",{children:g.time}),e.jsx("td",{children:e.jsx("button",{className:"btn-tiny",children:"Details"})})]},g.id))})]})})}),e.jsxs("div",{className:"ticker-summary",children:[e.jsxs("div",{className:"summary-stat",children:[e.jsx("span",{className:"label",children:"Live Bets"}),e.jsx("span",{className:"value",children:l.filter(g=>g.status==="LIVE").length})]}),e.jsxs("div",{className:"summary-stat",children:[e.jsx("span",{className:"label",children:"Total Wagered"}),e.jsxs("span",{className:"value",children:["$",l.reduce((g,x)=>g+parseFloat(x.amount.replace("$","")),0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{className:"summary-stat",children:[e.jsx("span",{className:"label",children:"Avg Odds"}),e.jsx("span",{className:"value",children:l.length>0?(l.reduce((g,x)=>g+parseFloat(x.odds),0)/l.length).toFixed(2):"0.00"})]})]})]})]})}function h0(){const[l,r]=u.useState({betType:"straight",matchId:"",selection:"",odds:"1.90",amount:"50",userId:""}),[c,d]=u.useState([]),[h,p]=u.useState([]),[y,N]=u.useState(!0),[g,x]=u.useState(""),[b,f]=u.useState(!1),v=E=>{const{name:D,value:R}=E.target;r(w=>({...w,[D]:R}))},A=async E=>{E.preventDefault();const D=localStorage.getItem("token");if(!D){x("Please login to create tickets.");return}try{f(!0),await Sj({userId:l.userId,matchId:l.matchId,amount:Number(l.amount)||0,odds:Number(l.odds)||0,type:l.betType,selection:l.selection.trim(),status:"pending"},D),r({betType:"straight",matchId:"",selection:"",odds:"1.90",amount:"50",userId:""}),x("")}catch(R){console.error("Ticket creation failed:",R),x(R.message||"Failed to create ticket")}finally{f(!1)}};return u.useEffect(()=>{(async()=>{const D=localStorage.getItem("token");if(!D){x("Please login to load ticket data."),N(!1);return}try{N(!0);const[R,w]=await Promise.all([ul(D),rl(D)]);d(Array.isArray(R)?R:[]),p(Array.isArray(w)?w:[]),x("")}catch(R){console.error("Failed to load ticket data:",R),x(R.message||"Failed to load ticket data")}finally{N(!1)}})()},[]),e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Ticket Writer"}),e.jsx("p",{className:"subtitle",children:"Create custom betting tickets"})]}),e.jsxs("div",{className:"view-content",children:[y&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading ticket data..."}),g&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:g}),!y&&!g&&e.jsx("div",{className:"form-container",children:e.jsxs("form",{onSubmit:A,className:"admin-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Ticket Details"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer:"}),e.jsxs("select",{name:"userId",value:l.userId,onChange:v,required:!0,children:[e.jsx("option",{value:"",children:"Select customer"}),h.map(E=>e.jsx("option",{value:E.id||E._id,children:E.username},E.id||E._id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bet Type:"}),e.jsxs("select",{name:"betType",value:l.betType,onChange:v,children:[e.jsx("option",{value:"straight",children:"Straight"}),e.jsx("option",{value:"parlay",children:"Parlay"}),e.jsx("option",{value:"teaser",children:"Teaser"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Match:"}),e.jsxs("select",{name:"matchId",value:l.matchId,onChange:v,required:!0,children:[e.jsx("option",{value:"",children:"Select match"}),c.map(E=>e.jsxs("option",{value:E.id||E._id,children:[E.homeTeam," vs ",E.awayTeam]},E.id||E._id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Selection:"}),e.jsx("input",{type:"text",name:"selection",value:l.selection,onChange:v,placeholder:"e.g., Lakers to win",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Odds:"}),e.jsx("input",{type:"number",name:"odds",value:l.odds,onChange:v,placeholder:"e.g., 1.95",step:"0.01",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bet Amount:"}),e.jsx("input",{type:"number",name:"amount",value:l.amount,onChange:v,placeholder:"e.g., 100",step:"0.01",required:!0})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:b,children:b?"Saving...":"Create Ticket"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>r({betType:"straight",matchId:"",selection:"",odds:"1.90",amount:"50",userId:""}),children:"Clear"})]})]})})]})]})}function m0(){const[l,r]=u.useState("all"),[c,d]=u.useState([]),[h,p]=u.useState(!0),[y,N]=u.useState(""),[g,x]=u.useState(null),[b,f]=u.useState(!1),[v,A]=u.useState({scoreHome:"",scoreAway:"",status:"scheduled"}),[E,D]=u.useState(!1),R=async()=>{const j=localStorage.getItem("token");if(!j){N("Please login to view scores."),p(!1);return}try{p(!0);const S=await ul(j);d(S||[]),N("")}catch(S){console.error("Failed to load matches:",S),N(S.message||"Failed to load matches")}finally{p(!1)}};u.useEffect(()=>{R()},[]);const w=l==="all"?c:c.filter(j=>String(j.sport||"").toLowerCase()===l.toLowerCase()),z=j=>{const S=j.score?.score_home??j.score?.scoreHome??"",$=j.score?.score_away??j.score?.scoreAway??"";x(j),A({scoreHome:S===0?0:S,scoreAway:$===0?0:$,status:j.status||"scheduled"}),f(!0)},L=async()=>{const j=localStorage.getItem("token");if(!j){N("Please login to update scores.");return}try{D(!0),await vp(g.id||g._id,{status:v.status,score:{scoreHome:Number(v.scoreHome)||0,scoreAway:Number(v.scoreAway)||0},lastUpdated:new Date},j),f(!1),R()}catch(S){N(S.message||"Failed to update score")}finally{D(!1)}},C=j=>j.status||"scheduled";return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Featured Matches & Scores"}),e.jsxs("div",{className:"sport-filter",children:[e.jsx("button",{className:l==="all"?"active":"",onClick:()=>r("all"),children:"All Sports"}),e.jsx("button",{className:l==="soccer"?"active":"",onClick:()=>r("soccer"),children:" Soccer"}),e.jsx("button",{className:l==="basketball"?"active":"",onClick:()=>r("basketball"),children:" NBA"}),e.jsx("button",{className:l==="tennis"?"active":"",onClick:()=>r("tennis"),children:" Tennis"}),e.jsx("button",{className:l==="football"?"active":"",onClick:()=>r("football"),children:" Football"})]})]}),e.jsxs("div",{className:"view-content",children:[h&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading scores..."}),y&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:y}),!h&&!y&&e.jsx("div",{className:"filtered-matches-section",children:e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"data-table live-matches-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Match"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Score"}),e.jsx("th",{children:"Odds"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:w.map(j=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("strong",{children:[j.homeTeam," vs ",j.awayTeam]})}),e.jsx("td",{children:j.startTime?new Date(j.startTime).toLocaleString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${C(j)}`,children:C(j)})}),e.jsxs("td",{children:[j.score?.score_home??j.score?.scoreHome??0," - ",j.score?.score_away??j.score?.scoreAway??0]}),e.jsx("td",{children:j.odds?JSON.stringify(j.odds):""}),e.jsx("td",{children:e.jsx("button",{className:"btn-small",onClick:()=>z(j),children:"Update"})})]},j.id||j._id))})]})})})]}),b&&g&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content",onClick:j=>j.stopPropagation(),children:[e.jsx("h3",{children:"Update Score"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Home Score"}),e.jsx("input",{type:"number",value:v.scoreHome,onChange:j=>A(S=>({...S,scoreHome:j.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Away Score"}),e.jsx("input",{type:"number",value:v.scoreAway,onChange:j=>A(S=>({...S,scoreAway:j.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:v.status,onChange:j=>A(S=>({...S,status:j.target.value})),children:[e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"live",children:"Live"}),e.jsx("option",{value:"finished",children:"Finished"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>f(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:L,disabled:E,children:E?"Saving...":"Save"})]})]})})]})}const Hf={updateInfo:!0,suspendWagering:!0,enterDepositsWithdrawals:!0,deleteTransactions:!0,enterBettingAdjustments:!0,moveAccounts:!0,addAccounts:!0,changeCreditLimit:!0,setMinBet:!0,changeWagerLimit:!0,adjustParlayTeaser:!0,setGlobalTeamLimit:!0,maxWagerSetup:!0,allowDeny:!0,juiceSetup:!0,changeTempCredit:!0,changeSettleFigure:!0,views:Object.values(Bp).reduce((l,r)=>(l[r]=!0,l),{}),ipTracker:{manage:!0}},qf={dashboard:"Dashboard",weeklyFigures:"Weekly Figures",pending:"Pending",messaging:"Messaging",gameAdmin:"Game Admin",customerAdmin:"Customer Admin",agentManager:"Agent Management",cashier:"Cashier",addCustomer:"Add Customer",thirdPartyLimits:"3rd Party Limits",props:"Props / Betting",agentPerformance:"Agent Performance",analysis:"Analysis",ipTracker:"IP Tracker",transactionsHistory:"Transactions History",collections:"Collections",deletedWagers:"Deleted Wagers",gamesEvents:"Games & Events",sportsbookLinks:"Sportsbook Links",betTicker:"Bet Ticker",ticketwriter:"TicketWriter",scores:"Scores",masterAgentAdmin:"Master Agent Admin",billing:"Billing",settings:"Settings",monitor:"System Monitor",rules:"Rules",feedback:"Feedback",faq:"FAQ",userManual:"User Manual",profile:"Profile"},Op=(l,r)=>{if(!r||typeof r!="object")return l;const c={...l};return Object.keys(r).forEach(d=>{const h=r[d];h&&typeof h=="object"&&!Array.isArray(h)?c[d]=Op(l[d]||{},h):c[d]=h}),c};function Up({agent:l,onClose:r,onUpdate:c}){const[d,h]=u.useState(Hf),[p,y]=u.useState(!1);u.useEffect(()=>{l&&h(Op(Hf,l.permissions||{}))},[l]);const N=v=>{h(A=>({...A,[v]:!A[v]}))},g=(v,A)=>{h(E=>({...E,[v]:{...E[v]||{},[A]:!E?.[v]?.[A]}}))},x=async()=>{y(!0);try{const v=localStorage.getItem("token");await yj(l.id||l._id,d,v),alert("Permissions updated successfully"),c&&c(),r()}catch(v){console.error("Error updating permissions:",v),alert("Failed to update permissions: "+v.message)}finally{y(!1)}},b=(v,A)=>e.jsx("div",{className:"permission-item",children:e.jsxs("label",{className:"checkbox-container",children:[e.jsx("input",{type:"checkbox",checked:d[v],onChange:()=>N(v)}),e.jsx("span",{className:"checkmark"}),A]})},v),f=(v,A,E)=>e.jsx("div",{className:"permission-item",children:e.jsxs("label",{className:"checkbox-container",children:[e.jsx("input",{type:"checkbox",checked:!!d?.[v]?.[A],onChange:()=>g(v,A)}),e.jsx("span",{className:"checkmark"}),E]})},`${v}.${A}`);return e.jsxs("div",{className:"modal-overlay",children:[e.jsxs("div",{className:"modal-content permission-modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:["Permissions: ",l.username]}),e.jsx("button",{className:"close-btn",onClick:r,children:""})]}),e.jsxs("div",{className:"scrollable-content",children:[e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"General Account Setup"}),b("updateInfo","Update Info"),b("suspendWagering","Suspend Wagering"),b("enterDepositsWithdrawals","Enter Deposits / Withdrawals"),b("deleteTransactions","Delete Transactions"),b("enterBettingAdjustments","Enter Betting Adjustments"),b("moveAccounts","Move Accounts"),b("addAccounts","Add Accounts")]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Limit And Sport Setup"}),b("changeCreditLimit","Change Credit Limit"),b("setMinBet","Set Minimum Bet Amount"),b("changeWagerLimit","Change Wager Limit"),b("adjustParlayTeaser","Adjust Parlay/Teaser Setup"),b("setGlobalTeamLimit","Set Global Team Limit"),b("maxWagerSetup","Max Wager Setup"),b("allowDeny","Allow / Deny"),b("juiceSetup","Juice Setup"),b("changeTempCredit","Change Temp Credit"),b("changeSettleFigure","Change Settle Figure")]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Dashboard Access"}),Object.keys(qf).map(v=>f("views",v,qf[v]))]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"IP Tracker Actions"}),f("ipTracker","manage","Allow Block / Unblock / Whitelist")]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn-secondary",onClick:r,disabled:p,children:"Cancel"}),e.jsx("button",{className:"btn-primary",onClick:x,disabled:p,children:p?"Saving...":"Save"})]})]}),e.jsx("style",{children:`
        .permission-modal {
            width: 500px;
            max-width: 90vw;
            display: flex;
            flex-direction: column;
            max-height: 80vh;
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #333;
            padding-bottom: 1rem;
            margin-bottom: 1rem;
        }
        .close-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 1.5rem;
            cursor: pointer;
        }
        .scrollable-content {
            overflow-y: auto;
            flex: 1;
            padding-right: 0.5rem;
        }
        .section {
            margin-bottom: 1.5rem;
        }
        .section h4 {
            color: #ccc;
            border-bottom: 1px solid #444;
            padding-bottom: 0.5rem;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        .permission-item {
            margin-bottom: 0.5rem;
        }
        .checkbox-container {
            display: block;
            position: relative;
            padding-left: 30px;
            margin-bottom: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            user-select: none;
            color: #eee;
        }
        .checkbox-container input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }
        .checkmark {
            position: absolute;
            top: 2px;
            left: 0;
            height: 18px;
            width: 18px;
            background-color: #eee;
            border-radius: 3px;
        }
        .checkbox-container:hover input ~ .checkmark {
            background-color: #ccc;
        }
        .checkbox-container input:checked ~ .checkmark {
            background-color: #e67e22; /* Warning/Orange color often used in betting apps */
        }
        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
        }
        .checkbox-container input:checked ~ .checkmark:after {
            display: block;
        }
        .checkbox-container .checkmark:after {
            left: 6px;
            top: 2px;
            width: 4px;
            height: 9px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }
        .modal-footer {
            border-top: 1px solid #333;
            padding-top: 1rem;
            margin-top: 1rem;
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }
      `})]})}function Gf(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(!1),[y,N]=u.useState(!1),[g,x]=u.useState(!1),[b,f]=u.useState(!1),[v,A]=u.useState(null),[E,D]=u.useState({username:"",phoneNumber:"",password:"",agentPrefix:""}),[R,w]=u.useState({id:"",phoneNumber:"",password:"",agentBillingRate:"",agentBillingStatus:"paid"}),[z,L]=u.useState(null),[C,j]=u.useState("all"),[S,$]=u.useState(!1),V=l.filter(K=>C==="all"?!0:C==="admin"?K.createdByModel==="Admin":C==="master_agent"?K.createdByModel==="Agent":!0),B=K=>{if(K==null||K==="")return"";const _=Number(K);return Number.isNaN(_)?"":`$${_.toFixed(2)}`};ys.useEffect(()=>{oe()},[]);const oe=async()=>{try{const K=localStorage.getItem("token");if(!K)return;const _=await mi(K);r(_||[]),L(null)}catch(K){console.error("Failed to fetch agents:",K),L(K.message||"Failed to fetch agents")}finally{d(!1)}},F=async K=>{const _=K.toUpperCase();if(D(Q=>({...Q,agentPrefix:_})),_.length>=2){const Q=localStorage.getItem("token");try{const{nextUsername:se}=await Ba(_,Q,{suffix:"MA",type:"agent"});D(J=>({...J,username:se}))}catch(se){console.error("Failed to get next username from prefix:",se)}}else D(Q=>({...Q,username:""}))},k=async K=>{K.preventDefault();try{const _=localStorage.getItem("token");if(!_)throw new Error("No token found");await Pr(E,_),alert("Master Agent created successfully"),p(!1),D({username:"",phoneNumber:"",password:"",agentPrefix:""}),oe()}catch(_){console.error("Agent creation error:",_),alert("Failed to create agent: "+_.message)}},I=async K=>{const _=K.status==="suspended",Q=_?"unsuspend":"suspend";if(window.confirm(`Are you sure you want to ${Q} ${K.username}?`))try{const se=localStorage.getItem("token");_?await Ap(K.id||K._id,se):await Cp(K.id||K._id,se),oe()}catch(se){alert(`Failed to ${Q} agent: `+se.message)}},M=K=>{w({id:K.id||K._id,phoneNumber:K.phoneNumber||"",password:"",agentBillingRate:K.agentBillingRate??"",agentBillingStatus:K.agentBillingStatus||"paid"}),A(K),N(!0)},ae=async K=>{K.preventDefault();try{const _=localStorage.getItem("token");if(!_)throw new Error("No token found");const Q={phoneNumber:R.phoneNumber,agentBillingRate:R.agentBillingRate,agentBillingStatus:R.agentBillingStatus};R.password&&(Q.password=R.password),await ud(R.id,Q,_),alert("Agent updated successfully"),N(!1),oe()}catch(_){console.error("Update Error:",_),alert("Failed to update agent: "+_.message)}},H=K=>{A(K),x(!0)},G=async K=>{const _=K.id||K._id,Q=K.balance??0,se=window.prompt("Enter new agent balance:",`${Q}`);if(se===null)return;const J=Number(se);if(Number.isNaN(J)){alert("Balance must be a valid number.");return}try{const Z=localStorage.getItem("token");if(!Z)throw new Error("No token found");await ud(_,{balance:J},Z),oe()}catch(Z){alert("Failed to update agent balance: "+(Z.message||"Unknown error"))}},ie=async K=>{const _=K.id||K._id,Q=window.prompt(`Enter new password for agent ${K.username}:`,"");if(Q!==null){if(Q.length<6){alert("Password must be at least 6 characters long");return}try{const se=localStorage.getItem("token");if(!se)throw new Error("No token found");await Ep(_,Q,se),alert(`Password for agent ${K.username} has been reset successfully.`)}catch(se){console.error("Agent password reset failed:",se),alert(se.message||"Failed to reset agent password")}}},je=async()=>{if(window.confirm(`Create workflow demo hierarchy now?

This will add:
- 10 master agents created by admin
- 5 master agents under the first master agent
- 10 agents under each master agent
- 10 players under each agent

This action adds many records and cannot be undone automatically.`))try{$(!0);const _=localStorage.getItem("token");if(!_)throw new Error("No token found");const Q=await jj(_),se=Q?.summary||{};alert(`Workflow seed complete.
Batch: ${Q?.batchTag||"N/A"}
Masters: ${se.totalMasters||0}
Agents: ${se.totalAgents||0}
Players: ${se.totalPlayers||0}`),await oe()}catch(_){alert("Failed to seed workflow hierarchy: "+(_.message||"Unknown error"))}finally{$(!1)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Master Agent Administration"}),e.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e.jsxs("select",{value:C,onChange:K=>j(K.target.value),style:{padding:"0.5rem",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#333",color:"white"},children:[e.jsx("option",{value:"all",children:"Show All Creators"}),e.jsx("option",{value:"admin",children:"Created by Admin"}),e.jsx("option",{value:"master_agent",children:"Created by Master Agent"})]}),e.jsx("button",{className:"btn-secondary",onClick:je,disabled:S,title:"Create full workflow test hierarchy",children:S?"Seeding...":"Seed Workflow Demo"}),e.jsx("button",{className:"btn-primary",onClick:()=>p(!0),children:"Add Master Agent"})]})]}),h&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"New Master Agent"}),e.jsxs("form",{onSubmit:k,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",value:E.agentPrefix,onChange:K=>F(K.target.value),placeholder:"Enter prefix",maxLength:5,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Username"}),e.jsx("input",{type:"text",value:E.username,readOnly:!0,style:{background:"#222",color:"#888"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:E.phoneNumber,onChange:K=>D({...E,phoneNumber:K.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:E.password,onChange:K=>D({...E,password:K.target.value}),required:!0})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Create"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>p(!1),children:"Cancel"})]})]})]})}),y&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("h3",{children:["Edit Agent: ",v?.username]}),e.jsxs("form",{onSubmit:ae,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:R.phoneNumber,onChange:K=>w({...R,phoneNumber:K.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"New Password (leave blank to keep)"}),e.jsx("input",{type:"password",value:R.password,onChange:K=>w({...R,password:K.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Rate per Customer (Weekly)"}),e.jsx("input",{type:"number",min:"0",value:R.agentBillingRate,onChange:K=>w({...R,agentBillingRate:K.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Status"}),e.jsxs("select",{value:R.agentBillingStatus,onChange:K=>w({...R,agentBillingStatus:K.target.value}),style:{width:"100%",padding:"0.5rem",background:"#333",border:"1px solid #444",color:"#fff",borderRadius:"4px"},children:[e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"unpaid",children:"Unpaid"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>N(!1),children:"Cancel"})]})]})]})}),g&&v&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"Agent Details"}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Username:"})," ",e.jsx("span",{children:v.username})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Phone Number:"})," ",e.jsx("span",{children:v.phoneNumber})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Status:"})," ",e.jsx("span",{className:`badge ${v.status}`,children:v.status})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Created By:"})," ",e.jsx("span",{children:v.createdBy?.username||"System"})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Created At:"})," ",e.jsx("span",{children:new Date(v.createdAt).toLocaleString()})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Customers:"})," ",e.jsx("span",{children:v.userCount})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Active Customers:"})," ",e.jsx("span",{children:v.activeCustomerCount||0})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Balance:"})," ",e.jsx("span",{children:B(v.balance)})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Outstanding Balance:"})," ",e.jsx("span",{children:B(v.balanceOwed)})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Rate per Customer:"})," ",e.jsxs("span",{children:["$",Number(v.agentBillingRate||0).toFixed(2)]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Weekly Charge:"})," ",e.jsxs("span",{children:["$",Number(v.weeklyCharge||0).toFixed(2)]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Billing Status:"})," ",e.jsx("span",{children:v.agentBillingStatus||"paid"})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"View Only:"})," ",e.jsx("span",{children:v.viewOnly?"Yes":"No"})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>x(!1),children:"Close"})})]})}),b&&v&&e.jsx(Up,{agent:v,onClose:()=>f(!1),onUpdate:oe}),e.jsx("div",{className:"view-content",children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agent Name"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Phone Number"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created By"}),e.jsx("th",{children:"Sub-Agents"}),e.jsx("th",{children:"Total Users"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Outstanding"}),e.jsx("th",{children:"Rate/Customer"}),e.jsx("th",{children:"Weekly Charge"}),e.jsx("th",{children:"Billing"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:c?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",children:"Loading agents..."})}):z?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",children:z})}):V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",children:"No agents found matching filter."})}):V.map(K=>e.jsxs("tr",{children:[e.jsx("td",{children:K.username}),e.jsx("td",{children:e.jsx("span",{className:`badge ${K.role==="master_agent"?"btn-primary":"btn-secondary"}`,style:{fontSize:"0.75rem",textTransform:"capitalize"},children:K.role?.replace("_"," ")||"agent"})}),e.jsx("td",{children:K.phoneNumber}),e.jsx("td",{children:e.jsx("span",{className:`badge ${K.status||""}`,children:K.status||"unknown"})}),e.jsx("td",{style:{fontWeight:"bold",color:K.createdBy?"#e67e22":"#999"},children:K.createdBy?e.jsxs(e.Fragment,{children:[e.jsxs("span",{style:{fontSize:"0.8em",color:"#888",marginRight:"4px"},children:["[",K.createdByModel==="Admin"?"Admin":"MA","]"]}),K.createdBy.username]}):"System"}),e.jsx("td",{children:K.role==="master_agent"?K.subAgentCount||0:""}),e.jsx("td",{children:K.role==="master_agent"?K.totalUsersInHierarchy||0:K.userCount||0}),e.jsx("td",{children:B(K.balance)}),e.jsx("td",{children:B(K.balanceOwed)}),e.jsxs("td",{children:["$",Number(K.agentBillingRate||0).toFixed(2)]}),e.jsxs("td",{children:["$",Number(K.weeklyCharge||0).toFixed(2)]}),e.jsx("td",{children:e.jsx("span",{className:`badge ${K.agentBillingStatus==="unpaid"?"warning":"active"}`,children:K.agentBillingStatus||"paid"})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>M(K),children:"Edit"}),e.jsx("button",{className:"btn-small",onClick:()=>H(K),children:"View"}),e.jsx("button",{className:"btn-small",onClick:()=>{A(K),f(!0)},children:"Permissions"}),e.jsx("button",{className:"btn-small",onClick:()=>G(K),children:"Adjust Balance"}),e.jsx("button",{className:`btn-small ${K.status==="suspended"?"btn-success":"btn-danger"}`,onClick:()=>I(K),children:K.status==="suspended"?"Activate":"Deactivate"}),e.jsx("button",{className:"btn-small btn-secondary",onClick:()=>ie(K),children:"Reset Pass"})]})]},K.id||K._id))})]})})}),e.jsx("style",{children:`
        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.7); display: flex; justify-content: center; align-items: center; z-index: 1000;
        }
        .modal-content {
            background: #1e1e1e; padding: 2rem; border-radius: 8px; width: 400px; border: 1px solid #333; color: #fff;
        }
        .form-group { margin-bottom: 1rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; color: #aaa; }
        .form-group input { width: 100%; padding: 0.5rem; background: #333; border: 1px solid #444; color: #fff; border-radius: 4px; }
        .modal-actions { display: flex; gap: 1rem; margin-top: 1.5rem; }
        .detail-row { display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #333; }
        .detail-row label { color: #888; }
        .btn-success { background-color: #27ae60 !important; }
      `})]})}function f0(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(!1),[y,N]=u.useState(!1),[g,x]=u.useState(!1),[b,f]=u.useState(null),[v,A]=u.useState({username:"",phoneNumber:"",password:"",fullName:"",agentPrefix:"",role:"agent"}),[E,D]=u.useState({id:"",phoneNumber:"",password:""}),[R,w]=u.useState(null),[z,L]=u.useState("");u.useEffect(()=>{j(),C()},[]);const C=async()=>{try{const k=localStorage.getItem("token");if(k){const I=await Ks(k);L(I?.username||"")}}catch(k){console.error("Failed to fetch profile:",k)}},j=async()=>{try{const k=localStorage.getItem("token");if(!k)return;const I=await Nj(k);r(I||[]),w(null)}catch(k){console.error("Failed to fetch agents:",k),w(k.message||"Failed to fetch agents")}finally{d(!1)}},S=async k=>{const I=k.toUpperCase();if(A(M=>({...M,agentPrefix:I})),I.length>=2){const M=localStorage.getItem("token");try{const{nextUsername:ae}=await Ba(I,M,{type:"agent"});A(H=>({...H,username:ae}))}catch(ae){console.error("Failed to get next username from prefix:",ae)}}else A(M=>({...M,username:""}))},$=async k=>{k.preventDefault();try{const I=localStorage.getItem("token");if(!I)throw new Error("No token found");await hd(v,I),alert("Agent created successfully"),p(!1),A({username:"",phoneNumber:"",password:"",fullName:"",agentPrefix:"",role:"agent"}),j()}catch(I){alert("Failed to create agent: "+I.message)}},V=k=>{D({id:k.id||k._id,phoneNumber:k.phoneNumber||"",password:""}),f(k),N(!0)},B=async k=>{k.preventDefault();try{const I=localStorage.getItem("token"),M={phoneNumber:E.phoneNumber};E.password&&(M.password=E.password),await ud(E.id,M,I),alert("Agent updated successfully"),N(!1),j()}catch(I){alert("Failed to update agent: "+I.message)}},oe=async k=>{const I=k.status==="suspended",M=I?"unsuspend":"suspend";if(window.confirm(`Are you sure you want to ${M} ${k.username}?`))try{const ae=localStorage.getItem("token");I?await Ap(k.id||k._id,ae):await Cp(k.id||k._id,ae),j()}catch(ae){alert(`Failed to ${M} agent: `+ae.message)}},F=async k=>{const I=window.prompt(`Enter new password for agent ${k.username}:`);if(I)try{const M=localStorage.getItem("token");await Ep(k.id||k._id,I,M),alert("Password reset successful")}catch(M){alert("Reset failed: "+M.message)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Agent Management"}),localStorage.getItem("userRole")!=="admin"&&e.jsx("button",{className:"btn-primary",onClick:()=>{p(!0),z&&S(z)},children:"Add Agent"})]}),h&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"New Agent"}),e.jsxs("form",{onSubmit:$,children:[!z&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",value:v.agentPrefix,onChange:k=>S(k.target.value),placeholder:"Enter prefix",maxLength:5,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role"}),e.jsxs("select",{value:v.role,onChange:k=>A({...v,role:k.target.value}),style:{width:"100%",padding:"0.5rem",background:"#333",color:"white",marginBottom:"1rem",border:"1px solid #444"},children:[e.jsx("option",{value:"agent",children:"Agent"}),e.jsx("option",{value:"master_agent",children:"Master Agent"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Username"}),e.jsx("input",{type:"text",value:v.username,readOnly:!0,style:{background:"#222",color:"#888"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:v.phoneNumber,onChange:k=>A({...v,phoneNumber:k.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:v.password,onChange:k=>A({...v,password:k.target.value}),required:!0})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Create"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>p(!1),children:"Cancel"})]})]})]})}),y&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("h3",{children:["Edit Sub-Agent: ",b?.username]}),e.jsxs("form",{onSubmit:B,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:E.phoneNumber,onChange:k=>D({...E,phoneNumber:k.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"New Password (leave blank to keep)"}),e.jsx("input",{type:"password",value:E.password,onChange:k=>D({...E,password:k.target.value})})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>N(!1),children:"Cancel"})]})]})]})}),g&&b&&e.jsx(Up,{agent:b,onClose:()=>x(!1),onUpdate:j}),e.jsx("div",{className:"view-content",children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Username"}),e.jsx("th",{children:"Phone Number"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Users"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:c?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"Loading agents..."})}):R?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"error",children:R})}):l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"No agents found."})}):l.map(k=>e.jsxs("tr",{children:[e.jsx("td",{children:k.username}),e.jsx("td",{children:k.phoneNumber}),e.jsx("td",{children:e.jsx("span",{className:"badge",children:k.role==="master_agent"?"Master Agent":"Agent"})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${k.status}`,children:k.status})}),e.jsx("td",{children:k.userCount||0}),e.jsxs("td",{children:["$",Number(k.balance||0).toFixed(2)]}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>V(k),children:"Edit"}),e.jsx("button",{className:"btn-small",onClick:()=>{f(k),x(!0)},children:"Perms"}),e.jsx("button",{className:`btn-small ${k.status==="suspended"?"btn-success":"btn-danger"}`,onClick:()=>oe(k),children:k.status==="suspended"?"Activate":"Deactivate"}),e.jsx("button",{className:"btn-small btn-secondary",onClick:()=>F(k),children:"Reset Path"})]})]},k.id||k._id))})]})})}),e.jsx("style",{children:`
        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.7); display: flex; justify-content: center; align-items: center; z-index: 1000;
        }
        .modal-content {
            background: #1e1e1e; padding: 2rem; border-radius: 8px; width: 400px; border: 1px solid #333; color: #fff;
        }
        .form-group { margin-bottom: 1rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; color: #aaa; }
        .form-group input { width: 100%; padding: 0.5rem; background: #333; border: 1px solid #444; color: #fff; border-radius: 4px; }
        .modal-actions { display: flex; gap: 1rem; margin-top: 1.5rem; }
      `})]})}function p0(){const[l,r]=u.useState([]),[c,d]=u.useState({paid:0,outstanding:0,total:0}),[h,p]=u.useState(!0),[y,N]=u.useState(""),[g,x]=u.useState(!1),[b,f]=u.useState(!1),[v,A]=u.useState(null),[E,D]=u.useState(null),[R,w]=u.useState("all"),[z,L]=u.useState({invoiceNumber:"",amount:"",status:"pending",dueDate:"",notes:""}),C=async()=>{const F=localStorage.getItem("token");if(!F){N("Please login to view billing."),p(!1);return}try{p(!0);const[k,I]=await Promise.all([kj(F),Cj({status:R,limit:200},F)]);d(k||{paid:0,outstanding:0,total:0}),r(I.invoices||[]),N("")}catch(k){console.error("Failed to load billing:",k),N(k.message||"Failed to load billing")}finally{p(!1)}};u.useEffect(()=>{C()},[R]);const j=F=>{if(F==null)return"";const k=Number(F);return Number.isNaN(k)?"":`$${k.toFixed(2)}`},S=()=>{L({invoiceNumber:"",amount:"",status:"pending",dueDate:"",notes:""}),x(!0)},$=F=>{A(F),f(!0)},V=async()=>{const F=localStorage.getItem("token");if(!F){N("Please login to save invoices.");return}try{D("new"),await Aj({invoiceNumber:z.invoiceNumber.trim(),amount:Number(z.amount)||0,status:z.status,dueDate:z.dueDate||null,notes:z.notes.trim()||null},F),x(!1),C()}catch(k){N(k.message||"Failed to create invoice")}finally{D(null)}},B=async F=>{const k=localStorage.getItem("token");if(!k){N("Please login to update invoices.");return}try{D(F.id),await Ej(F.id,{status:"paid"},k),C()}catch(I){N(I.message||"Failed to update invoice")}finally{D(null)}},oe=F=>{const k=JSON.stringify(F,null,2),I=new Blob([k],{type:"application/json"}),M=URL.createObjectURL(I),ae=document.createElement("a");ae.href=M,ae.download=`${F.invoice||"invoice"}.json`,ae.click(),URL.revokeObjectURL(M)};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Billing Management"}),e.jsx("button",{className:"btn-primary",onClick:S,children:"Create Invoice"})]}),e.jsxs("div",{className:"view-content",children:[h&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading billing..."}),y&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:y}),!h&&!y&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"billing-summary",children:[e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total Paid"}),e.jsx("p",{className:"amount",children:j(c.paid)})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total Outstanding"}),e.jsx("p",{className:"amount",children:j(c.outstanding)})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total All Time"}),e.jsx("p",{className:"amount",children:j(c.total)})]})]}),e.jsx("div",{className:"filter-section",children:e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:R,onChange:F=>w(F.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"overdue",children:"Overdue"})]})]})}),e.jsxs("div",{className:"table-container",children:[e.jsx("h3",{children:"Recent Invoices"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Invoice #"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(F=>e.jsxs("tr",{children:[e.jsx("td",{children:F.invoice}),e.jsx("td",{children:F.date?new Date(F.date).toLocaleDateString():""}),e.jsx("td",{children:j(F.amount)}),e.jsx("td",{children:e.jsx("span",{className:`badge ${F.status}`,children:F.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>oe(F),children:"Download"}),e.jsx("button",{className:"btn-small",onClick:()=>$(F),children:"View"}),F.status!=="paid"&&e.jsx("button",{className:"btn-small",onClick:()=>B(F),disabled:E===F.id,children:E===F.id?"Working...":"Mark Paid"})]})]},F.id))})]})]})]})]}),g&&e.jsx("div",{className:"modal-overlay",onClick:()=>x(!1),children:e.jsxs("div",{className:"modal-content",onClick:F=>F.stopPropagation(),children:[e.jsx("h3",{children:"Create Invoice"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Invoice #"}),e.jsx("input",{type:"text",value:z.invoiceNumber,onChange:F=>L(k=>({...k,invoiceNumber:F.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:z.amount,onChange:F=>L(k=>({...k,amount:F.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:z.status,onChange:F=>L(k=>({...k,status:F.target.value})),children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"overdue",children:"Overdue"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Due Date"}),e.jsx("input",{type:"date",value:z.dueDate,onChange:F=>L(k=>({...k,dueDate:F.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:z.notes,onChange:F=>L(k=>({...k,notes:F.target.value}))})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>x(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:V,disabled:E||!z.invoiceNumber.trim()||!z.amount,children:E?"Saving...":"Save"})]})]})}),b&&v&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content",onClick:F=>F.stopPropagation(),children:[e.jsx("h3",{children:"Invoice Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Invoice:"})," ",v.invoice]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",j(v.amount)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",v.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",v.date?new Date(v.date).toLocaleString():""]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Due Date:"})," ",v.dueDate?new Date(v.dueDate).toLocaleDateString():""]}),v.notes&&e.jsxs("p",{children:[e.jsx("strong",{children:"Notes:"})," ",v.notes]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>f(!1),children:"Close"})})]})})]})}function g0(){const[l,r]=u.useState({platformName:"Sports Betting Platform",dailyBetLimit:"10000",weeklyBetLimit:"50000",maxOdds:"100",minBet:"1",maxBet:"5000",maintenanceMode:!1,smsNotifications:!0,twoFactor:!0}),[c,d]=u.useState(!0),[h,p]=u.useState(""),[y,N]=u.useState(!1);u.useEffect(()=>{(async()=>{const f=localStorage.getItem("token");if(!f){p("Please login to load settings."),d(!1);return}try{d(!0);const v=await Tj(f);r({platformName:v.platformName,dailyBetLimit:v.dailyBetLimit,weeklyBetLimit:v.weeklyBetLimit,maxOdds:v.maxOdds,minBet:v.minBet,maxBet:v.maxBet,maintenanceMode:v.maintenanceMode,smsNotifications:v.smsNotifications,twoFactor:v.twoFactor}),p("")}catch(v){console.error("Failed to load settings:",v),p(v.message||"Failed to load settings")}finally{d(!1)}})()},[]);const g=b=>{const{name:f,value:v,type:A,checked:E}=b.target;r(D=>({...D,[f]:A==="checkbox"?E:v}))},x=async()=>{const b=localStorage.getItem("token");if(!b){p("Please login to save settings.");return}try{N(!0),await Lj(l,b),p("")}catch(f){p(f.message||"Failed to save settings")}finally{N(!1)}};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Platform Settings"})}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading settings..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsx("div",{className:"settings-container",children:e.jsxs("form",{className:"settings-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"General Settings"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Platform Name:"}),e.jsx("input",{type:"text",name:"platformName",value:l.platformName,onChange:g})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Bet Limits"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Daily Bet Limit ($):"}),e.jsx("input",{type:"number",name:"dailyBetLimit",value:l.dailyBetLimit,onChange:g})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Weekly Bet Limit ($):"}),e.jsx("input",{type:"number",name:"weeklyBetLimit",value:l.weeklyBetLimit,onChange:g})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Max Odds:"}),e.jsx("input",{type:"number",name:"maxOdds",value:l.maxOdds,onChange:g,step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Minimum Bet ($):"}),e.jsx("input",{type:"number",name:"minBet",value:l.minBet,onChange:g,step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Maximum Bet ($):"}),e.jsx("input",{type:"number",name:"maxBet",value:l.maxBet,onChange:g})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Security Settings"}),e.jsxs("div",{className:"form-group checkbox",children:[e.jsx("input",{type:"checkbox",name:"twoFactor",checked:l.twoFactor,onChange:g,id:"twoFactor"}),e.jsx("label",{htmlFor:"twoFactor",children:"Require Two-Factor Authentication"})]}),e.jsxs("div",{className:"form-group checkbox",children:[e.jsx("input",{type:"checkbox",name:"maintenanceMode",checked:l.maintenanceMode,onChange:g,id:"maintenanceMode"}),e.jsx("label",{htmlFor:"maintenanceMode",children:"Maintenance Mode"})]}),e.jsxs("div",{className:"form-group checkbox",children:[e.jsx("input",{type:"checkbox",name:"smsNotifications",checked:l.smsNotifications,onChange:g,id:"smsNotifications"}),e.jsx("label",{htmlFor:"smsNotifications",children:"Enable SMS Notifications"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:x,className:"btn-primary",disabled:y,children:y?"Saving...":"Save Settings"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>window.location.reload(),children:"Reset"})]})]})})]})]})}function x0(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[y,N]=u.useState(!1),[g,x]=u.useState(null),[b,f]=u.useState({title:"",items:"",status:"active"}),[v,A]=u.useState(null),E=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to view rules."),d(!1);return}try{d(!0);const C=await Mj(L);r(C.rules||[]),p("")}catch(C){console.error("Failed to load rules:",C),p(C.message||"Failed to load rules")}finally{d(!1)}};u.useEffect(()=>{E()},[]);const D=()=>{x(null),f({title:"",items:"",status:"active"}),N(!0)},R=L=>{x(L),f({title:L.title,items:(L.items||[]).join(`
`),status:L.status||"active"}),N(!0)},w=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to save rules.");return}try{A(g?.id||"new");const C={title:b.title.trim(),items:b.items.split(`
`).map(j=>j.trim()).filter(Boolean),status:b.status};g?await Dj(g.id||g._id,C,L):await _j(C,L),N(!1),E()}catch(C){p(C.message||"Failed to save rule")}finally{A(null)}},z=async L=>{const C=localStorage.getItem("token");if(!C){p("Please login to delete rules.");return}try{A(L),await Bj(L,C),r(j=>j.filter(S=>(S.id||S._id)!==L))}catch(j){p(j.message||"Failed to delete rule")}finally{A(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Rules & Regulations"}),e.jsx("button",{className:"btn-primary",onClick:D,children:"Add New Rule"})]}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading rules..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsx("div",{className:"rules-container",children:l.map(L=>e.jsxs("div",{className:"rule-card",children:[e.jsx("h3",{children:L.title}),e.jsx("ul",{children:(L.items||[]).map((C,j)=>e.jsx("li",{children:C},j))}),e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{className:"btn-small",onClick:()=>R(L),children:"Edit"}),e.jsx("button",{className:"btn-small btn-danger",onClick:()=>z(L.id||L._id),disabled:v===(L.id||L._id),children:v===(L.id||L._id)?"Working...":"Delete"})]})]},L.id||L._id))})]}),y&&e.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:e.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[e.jsx("h3",{children:g?"Edit Rule":"Add Rule"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Title"}),e.jsx("input",{type:"text",value:b.title,onChange:L=>f(C=>({...C,title:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Items (one per line)"}),e.jsx("textarea",{rows:"6",value:b.items,onChange:L=>f(C=>({...C,items:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:b.status,onChange:L=>f(C=>({...C,status:L.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>N(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:w,disabled:v||!b.title.trim(),children:v?"Saving...":"Save"})]})]})})]})}function b0(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[y,N]=u.useState("all"),[g,x]=u.useState(null),[b,f]=u.useState(""),[v,A]=u.useState(!1),[E,D]=u.useState(null),R=async()=>{const j=localStorage.getItem("token");if(!j){p("Please login to view feedback."),d(!1);return}try{d(!0);const S=await Rj({status:y},j);r(S.feedbacks||[]),p("")}catch(S){console.error("Failed to load feedback:",S),p(S.message||"Failed to load feedback")}finally{d(!1)}};u.useEffect(()=>{R()},[y]);const w=j=>{x(j),f(j.adminReply||""),A(!0)},z=async()=>{const j=localStorage.getItem("token");if(!j){p("Please login to reply.");return}try{D(g.id),await Oj(g.id,{reply:b},j),A(!1),R()}catch(S){p(S.message||"Failed to reply")}finally{D(null)}},L=async j=>{const S=localStorage.getItem("token");if(!S){p("Please login to mark reviewed.");return}try{D(j),await Uj(j,S),R()}catch($){p($.message||"Failed to mark reviewed")}finally{D(null)}},C=async j=>{const S=localStorage.getItem("token");if(!S){p("Please login to delete feedback.");return}try{D(j),await zj(j,S),r($=>$.filter(V=>V.id!==j))}catch($){p($.message||"Failed to delete feedback")}finally{D(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Customer Feedback"})}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading feedback..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"filter-section",children:e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:y,onChange:j=>N(j.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"reviewed",children:"Reviewed"})]})]})}),e.jsx("div",{className:"feedback-container",children:l.map(j=>e.jsxs("div",{className:"feedback-card",children:[e.jsxs("div",{className:"feedback-header",children:[e.jsx("h4",{children:j.user}),e.jsx("div",{className:"rating",children:"".repeat(j.rating||0)}),e.jsx("span",{className:"date",children:j.date?new Date(j.date).toLocaleDateString():""})]}),e.jsx("p",{className:"feedback-message",children:j.message}),j.adminReply&&e.jsxs("p",{className:"feedback-message",children:[e.jsx("strong",{children:"Reply:"})," ",j.adminReply]}),e.jsxs("div",{className:"feedback-actions",children:[e.jsx("button",{className:"btn-small",onClick:()=>w(j),children:"Reply"}),e.jsx("button",{className:"btn-small",onClick:()=>L(j.id),disabled:E===j.id,children:E===j.id?"Working...":"Mark as Reviewed"}),e.jsx("button",{className:"btn-small btn-danger",onClick:()=>C(j.id),disabled:E===j.id,children:E===j.id?"Working...":"Delete"})]})]},j.id))})]})]}),v&&g&&e.jsx("div",{className:"modal-overlay",onClick:()=>A(!1),children:e.jsxs("div",{className:"modal-content",onClick:j=>j.stopPropagation(),children:[e.jsx("h3",{children:"Reply to Feedback"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",g.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Message:"})," ",g.message]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Reply"}),e.jsx("textarea",{rows:"4",value:b,onChange:j=>f(j.target.value)})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>A(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:z,disabled:E===g.id||!b.trim(),children:E===g.id?"Saving...":"Save Reply"})]})]})})]})}function y0(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[y,N]=u.useState(!1),[g,x]=u.useState(null),[b,f]=u.useState({question:"",answer:"",status:"active",order:0}),[v,A]=u.useState(null),E=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to view FAQs."),d(!1);return}try{d(!0);const C=await Fj(L);r(C.faqs||[]),p("")}catch(C){console.error("Failed to load FAQs:",C),p(C.message||"Failed to load FAQs")}finally{d(!1)}};u.useEffect(()=>{E()},[]);const D=()=>{x(null),f({question:"",answer:"",status:"active",order:0}),N(!0)},R=L=>{x(L),f({question:L.question,answer:L.answer,status:L.status||"active",order:L.order||0}),N(!0)},w=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to save FAQs.");return}try{A(g?.id||"new");const C={question:b.question.trim(),answer:b.answer.trim(),status:b.status,order:Number(b.order)||0};g?await $j(g.id||g._id,C,L):await Pj(C,L),N(!1),E()}catch(C){p(C.message||"Failed to save FAQ")}finally{A(null)}},z=async L=>{const C=localStorage.getItem("token");if(!C){p("Please login to delete FAQs.");return}try{A(L),await Ij(L,C),r(j=>j.filter(S=>(S.id||S._id)!==L))}catch(j){p(j.message||"Failed to delete FAQ")}finally{A(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"FAQ Management"}),e.jsx("button",{className:"btn-primary",onClick:D,children:"Add New FAQ"})]}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading FAQs..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsx("div",{className:"faq-container",children:l.map(L=>e.jsxs("div",{className:"faq-item",children:[e.jsxs("div",{className:"faq-question",children:[e.jsxs("h4",{children:["Q: ",L.question]}),e.jsx("button",{className:"btn-small",onClick:()=>R(L),children:"Edit"}),e.jsx("button",{className:"btn-small btn-danger",onClick:()=>z(L.id||L._id),disabled:v===(L.id||L._id),children:v===(L.id||L._id)?"Working...":"Delete"})]}),e.jsx("div",{className:"faq-answer",children:e.jsxs("p",{children:["A: ",L.answer]})})]},L.id||L._id))})]}),y&&e.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:e.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[e.jsx("h3",{children:g?"Edit FAQ":"Add FAQ"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Question"}),e.jsx("input",{type:"text",value:b.question,onChange:L=>f(C=>({...C,question:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Answer"}),e.jsx("textarea",{rows:"4",value:b.answer,onChange:L=>f(C=>({...C,answer:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:b.status,onChange:L=>f(C=>({...C,status:L.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Order"}),e.jsx("input",{type:"number",value:b.order,onChange:L=>f(C=>({...C,order:L.target.value}))})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>N(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:w,disabled:v||!b.question.trim()||!b.answer.trim(),children:v?"Saving...":"Save"})]})]})})]})}function j0(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[y,N]=u.useState(!1),[g,x]=u.useState(null),[b,f]=u.useState({title:"",content:"",order:0,status:"active"}),[v,A]=u.useState(null),E=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to view manual."),d(!1);return}try{d(!0);const C=await Hj(L);r(C.sections||[]),p("")}catch(C){console.error("Failed to load manual:",C),p(C.message||"Failed to load manual")}finally{d(!1)}};u.useEffect(()=>{E()},[]);const D=()=>{x(null),f({title:"",content:"",order:0,status:"active"}),N(!0)},R=L=>{x(L),f({title:L.title,content:L.content,order:L.order||0,status:L.status||"active"}),N(!0)},w=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to save manual sections.");return}try{A(g?.id||"new");const C={title:b.title.trim(),content:b.content.trim(),order:Number(b.order)||0,status:b.status};g?await Gj(g.id||g._id,C,L):await qj(C,L),N(!1),E()}catch(C){p(C.message||"Failed to save section")}finally{A(null)}},z=async L=>{const C=localStorage.getItem("token");if(!C){p("Please login to delete sections.");return}try{A(L),await Wj(L,C),r(j=>j.filter(S=>(S.id||S._id)!==L))}catch(j){p(j.message||"Failed to delete section")}finally{A(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"User Manual"}),e.jsx("button",{className:"btn-primary",onClick:D,children:"Add Section"})]}),e.jsx("div",{className:"view-content",children:e.jsxs("div",{className:"manual-container",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading manual..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&l.map(L=>e.jsxs("section",{className:"manual-section",children:[e.jsx("h3",{children:L.title}),e.jsx("p",{children:L.content}),e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{className:"btn-small",onClick:()=>R(L),children:"Edit"}),e.jsx("button",{className:"btn-small btn-danger",onClick:()=>z(L.id||L._id),disabled:v===(L.id||L._id),children:v===(L.id||L._id)?"Working...":"Delete"})]})]},L.id||L._id))]})}),y&&e.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:e.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[e.jsx("h3",{children:g?"Edit Section":"Add Section"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Title"}),e.jsx("input",{type:"text",value:b.title,onChange:L=>f(C=>({...C,title:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Content"}),e.jsx("textarea",{rows:"6",value:b.content,onChange:L=>f(C=>({...C,content:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Order"}),e.jsx("input",{type:"number",value:b.order,onChange:L=>f(C=>({...C,order:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:b.status,onChange:L=>f(C=>({...C,status:L.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>N(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:w,disabled:v||!b.title.trim()||!b.content.trim(),children:v?"Saving...":"Save"})]})]})})]})}const v0=()=>{const[l,r]=u.useState(null),[c,d]=u.useState(!0),[h,p]=u.useState(null),y=async()=>{try{const b=localStorage.getItem("token");if(!b)throw new Error("Please login to view system monitor");const f=await Fy(b);r(f),p(new Date),d(!1)}catch(b){console.error("Monitor Error:",b),d(!1)}};if(u.useEffect(()=>{y();const b=setInterval(y,5e3);return()=>clearInterval(b)},[]),c&&!l)return e.jsx("div",{className:"admin-content-card",children:"Loading System Monitor..."});const N=l?.counts||{users:0,bets:0,matches:0},g=l?.liveMatches||[],x=async()=>{try{const b=localStorage.getItem("token");if(!b)throw new Error("Please login first");const f=await Np(b);alert(`Odds Refreshed! Created: ${f.results?.created||0}, Updated: ${f.results?.updated||0}`),y()}catch(b){console.error("Refresh error:",b),alert(b.message||"Error refreshing odds")}};return e.jsxs("div",{className:"admin-view-container",children:[e.jsxs("div",{className:"admin-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h2",{style:{color:"#fff",margin:0},children:"System Monitor"}),e.jsxs("div",{style:{color:"#aaa",fontSize:"0.9rem"},children:["Last updated: ",h?h.toLocaleTimeString():"Never"]}),e.jsx("button",{onClick:x,style:{background:"#e67e22",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:" Refresh Live Odds"})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon users",children:e.jsx("i",{className:"fa-solid fa-users"})}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h3",{children:"Total Users"}),e.jsx("p",{children:N.users})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon bets",children:e.jsx("i",{className:"fa-solid fa-ticket"})}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h3",{children:"Total Bets"}),e.jsx("p",{children:N.bets})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon matches",children:e.jsx("i",{className:"fa-solid fa-futbol"})}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h3",{children:"Active Matches"}),e.jsx("p",{children:N.matches})]})]})]}),e.jsxs("div",{className:"admin-content-card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{children:[e.jsx("i",{className:"fa-solid fa-satellite-dish"})," Live & Scored Matches (DB View)"]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"admin-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Sport"}),e.jsx("th",{children:"Match"}),e.jsx("th",{children:"Scores"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last Updated"})]})}),e.jsx("tbody",{children:g.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center",children:"No live or scored matches found."})}):g.map(b=>e.jsxs("tr",{children:[e.jsx("td",{children:b.sport?.replace("_"," ").toUpperCase()}),e.jsxs("td",{children:[b.homeTeam," ",e.jsx("span",{className:"vs",children:"vs"})," ",b.awayTeam]}),e.jsxs("td",{className:"score-cell",children:[e.jsx("span",{className:"score-badge home",children:b.score?.score_home??b.score?.scoreHome??0}),"-",e.jsx("span",{className:"score-badge away",children:b.score?.score_away??b.score?.scoreAway??0})]}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${b.status}`,children:b.status})}),e.jsx("td",{children:new Date(b.lastUpdated).toLocaleTimeString()})]},b.id||b._id))})]})})]}),e.jsx("style",{children:`
                .view-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 2rem;
                }
                .last-updated {
                    font-size: 0.9rem;
                    color: #888;
                    font-family: monospace;
                }
                .stats-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                    gap: 1.5rem;
                    margin-bottom: 2rem;
                }
                .stat-card {
                    background: #1e1e1e;
                    border-radius: 12px;
                    padding: 1.5rem;
                    display: flex;
                    align-items: center;
                    gap: 1.5rem;
                    border: 1px solid #333;
                }
                .stat-icon {
                    width: 50px;
                    height: 50px;
                    border-radius: 10px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.5rem;
                }
                .stat-icon.users { background: rgba(52, 152, 219, 0.2); color: #3498db; }
                .stat-icon.bets { background: rgba(46, 204, 113, 0.2); color: #2ecc71; }
                .stat-icon.matches { background: rgba(231, 76, 60, 0.2); color: #e74c3c; }
                .stat-info h3 { margin: 0; font-size: 0.9rem; color: #888; }
                .stat-info p { margin: 0; font-size: 1.8rem; font-weight: bold; color: #fff; }
                
                .admin-table th {
                    background-color: #333;
                    color: white;
                    padding: 12px;
                    text-align: left;
                }
                .admin-table td {
                    padding: 12px;
                    border-bottom: 1px solid #eee;
                    color: #333; /* Dark text for readability */
                    background-color: #fff; /* Ensure white background */
                }
                .admin-table tr:hover td {
                    background-color: #f5f5f5;
                }
                .score-cell { font-weight: bold; color: #000; }
                .score-badge { 
                    display: inline-block; 
                    padding: 2px 6px; 
                    background: #eee; 
                    color: #333;
                    border: 1px solid #ccc;
                    border-radius: 4px; 
                    margin: 0 4px;
                }
                .vs { color: #555; font-size: 0.8rem; }
            `})]})},ii=l=>{const r=Number(l);return Number.isNaN(r)?"":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(r)};function N0(){const[l,r]=u.useState(null),[c,d]=u.useState(!0),[h,p]=u.useState(""),[y,N]=u.useState(!1),g=async x=>{const b=x.target.value;N(!0);try{const f=localStorage.getItem("token");await My({dashboardLayout:b},f),r(v=>({...v,dashboardLayout:b})),alert("Layout updated. The page will reload to apply changes."),window.location.reload()}catch(f){alert("Failed to update layout: "+f.message)}finally{N(!1)}};return u.useEffect(()=>{(async()=>{const b=localStorage.getItem("token");if(!b){p("Please login to view profile."),d(!1);return}try{d(!0);const f=await Ks(b);r(f),p("")}catch(f){p(f.message||"Failed to load profile")}finally{d(!1)}})()},[]),e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"My Profile"})}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading profile..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&l&&e.jsx("div",{className:"settings-container",children:e.jsxs("div",{className:"settings-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Account"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Username:"}),e.jsx("input",{type:"text",value:l.username||"",readOnly:!0})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Preferences"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Dashboard Layout:"}),e.jsxs("select",{value:l.dashboardLayout||"tiles",onChange:g,disabled:y,style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc"},children:[e.jsx("option",{value:"tiles",children:"Tiles (Default)"}),e.jsx("option",{value:"sidebar",children:"Sidebar Navigation"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number:"}),e.jsx("input",{type:"text",value:l.phoneNumber||"",readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role:"}),e.jsx("input",{type:"text",value:l.role||"",readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Super Admin:"}),e.jsx("input",{type:"text",value:l.isSuperAdmin?"Yes":"No",readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Unlimited Balance:"}),e.jsx("input",{type:"text",value:l.unlimitedBalance?"Enabled":"Disabled",readOnly:!0})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Balances"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Balance:"}),e.jsx("input",{type:"text",value:ii(l.balance),readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pending Balance:"}),e.jsx("input",{type:"text",value:ii(l.pendingBalance),readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Available Balance:"}),e.jsx("input",{type:"text",value:ii(l.availableBalance),readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Outstanding (Settle Limit):"}),e.jsx("input",{type:"text",value:ii(l.balanceOwed),readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Credit Limit:"}),e.jsx("input",{type:"text",value:ii(l.creditLimit),readOnly:!0})]})]})]})})]})]})}const Wf={password:"",firstName:"",lastName:"",phoneNumber:"",minBet:0,agentId:"",status:"active",creditLimit:0,wagerLimit:0,settleLimit:0,accountType:"credit",zeroBalanceWeekly:"standard",tempCredit:0,expiresOn:"",enableCaptcha:!1,cryptoPromoPct:0,promoType:"promo_credit",playerNotes:"",sportsbook:!0,casino:!0,horses:!0,messaging:!1,dynamicLive:!0,propPlus:!0,liveCasino:!1,freePlayPercent:20,maxFpCredit:0,dlMinStraightBet:25,dlMaxStraightBet:250,dlMaxPerOffering:500,dlMaxBetPerEvent:500,dlMaxWinSingleBet:1e3,dlMaxWinEvent:3e3,dlDelaySec:7,dlMaxFavoriteLine:-1e4,dlMaxDogLine:1e4,dlMinParlayBet:10,dlMaxParlayBet:100,dlMaxWinEventParlay:3e3,dlMaxDogLineParlays:1e3,dlWagerCoolOffSec:30,dlLiveParlays:!1,dlBlockPriorStart:!0,dlBlockHalftime:!0,dlIncludeGradedInLimits:!1,dlUseRiskLimits:!1,casinoDefaultMaxWinDay:1e4,casinoDefaultMaxLossDay:1e4,casinoDefaultMaxWinWeek:1e4,casinoDefaultMaxLossWeek:1e4,casinoAgentMaxWinDay:1e3,casinoAgentMaxLossDay:1e3,casinoAgentMaxWinWeek:5e3,casinoAgentMaxLossWeek:5e3,casinoPlayerMaxWinDay:1e3,casinoPlayerMaxLossDay:1e3,casinoPlayerMaxWinWeek:5e3,casinoPlayerMaxLossWeek:5e3};function w0({userId:l,onBack:r,role:c="admin"}){const[d,h]=u.useState(!0),[p,y]=u.useState(!1),[N,g]=u.useState(""),[x,b]=u.useState(""),[f,v]=u.useState(null),[A,E]=u.useState({}),[D,R]=u.useState([]),[w,z]=u.useState(Wf),[L,C]=u.useState(!1),[j,S]=u.useState("basics"),[$,V]=u.useState([]),[B,oe]=u.useState(!1),[F,k]=u.useState(""),[I,M]=u.useState(""),[ae,H]=u.useState("7d"),[G,ie]=u.useState("all"),[je,K]=u.useState("all"),[_,Q]=u.useState([]),[se,J]=u.useState(!1),[Z,P]=u.useState("credit"),[q,ue]=u.useState(""),[me,ve]=u.useState(""),[we,Ae]=u.useState("daily"),[_e,De]=u.useState(!1),[Ge,st]=u.useState(""),[nt,Et]=u.useState([]),[Tt,ct]=u.useState(""),[Ue,kt]=u.useState([]),[qt,Ct]=u.useState([]),[hl,Ya]=u.useState(!1),[en,mt]=u.useState(""),[Ns,Oa]=u.useState(""),[Ua,ml]=u.useState("7d"),[da,Lt]=u.useState([]),[Dt,jt]=u.useState(!1),[Nn,wn]=u.useState(""),[Va,ka]=u.useState(""),[Qa,Xa]=u.useState(!1),[ea,Ca]=u.useState(""),[Mt,tn]=u.useState(""),[ws,za]=u.useState(!1),[ua,ha]=u.useState(""),[Aa,Fa]=u.useState(""),[Ea,Ta]=u.useState(""),Ss=[{id:"basics",label:"The Basics",icon:""},{id:"transactions",label:"Transactions",icon:""},{id:"pending",label:"Pending",icon:""},{id:"performance",label:"Performance",icon:""},{id:"analysis",label:"Analysis",icon:""},{id:"freeplays",label:"Free Plays",icon:""},{id:"dynamic-live",label:"Dynamic Live",icon:""},{id:"live-casino",label:"Live Casino",icon:""},{id:"crash",label:"Crash",icon:""},{id:"player-info",label:"Player Info",icon:""},{id:"offerings",label:"Offerings",icon:""},{id:"limits",label:"Limits",icon:""},{id:"vig-setup",label:"Vig Setup",icon:""},{id:"parlays",label:"Parlays",icon:""},{id:"teasers",label:"Teasers",icon:"8"},{id:"buying-pts",label:"Buying Pts",icon:""},{id:"risk-mngmt",label:"Risk Mngmt",icon:""},{id:"communication",label:"Communication",icon:""}];u.useEffect(()=>{l&&(async()=>{try{h(!0),g(""),b(""),M(""),k(""),v(null),z(Wf),S("basics");const be=localStorage.getItem("token");if(!be){g("Please login to view details.");return}const[Ce,We]=await Promise.all([wj(l,be),["admin","super_agent","master_agent"].includes(c)?mi(be):Promise.resolve([])]),He=Ce?.user,ze=He?.settings||{},Qe=ze.dynamicLiveLimits||{},it=ze.dynamicLiveFlags||{},It=ze.liveCasinoLimits||{},Yt=It.default||{},ta=It.agent||{},Ka=It.player||{};if(!He){g("User not found.");return}v(He),E(Ce?.stats||{}),R(Array.isArray(We)?We:[]),z({password:"",firstName:He.firstName||"",lastName:He.lastName||"",phoneNumber:He.phoneNumber||"",minBet:Number(He.minBet||0),agentId:He.agentId?._id||He.agentId||"",status:(He.status||"active").toLowerCase(),creditLimit:Number(He.creditLimit||0),wagerLimit:Number(He.wagerLimit??He.maxBet??0),settleLimit:Number(He.balanceOwed||0),accountType:ze.accountType||"credit",zeroBalanceWeekly:ze.zeroBalanceWeekly||"standard",tempCredit:Number(ze.tempCredit||0),expiresOn:ze.expiresOn||"",enableCaptcha:!!ze.enableCaptcha,cryptoPromoPct:Number(ze.cryptoPromoPct||0),promoType:ze.promoType||"promo_credit",playerNotes:ze.playerNotes||"",sportsbook:ze.sports??!0,casino:ze.casino??!0,horses:ze.racebook??!0,messaging:ze.messaging??!1,dynamicLive:ze.live??!0,propPlus:ze.props??!0,liveCasino:ze.liveCasino??!1,freePlayPercent:Number(ze.freePlayPercent??20),maxFpCredit:Number(ze.maxFpCredit??0),dlMinStraightBet:Number(Qe.minStraightBet??25),dlMaxStraightBet:Number(Qe.maxStraightBet??250),dlMaxPerOffering:Number(Qe.maxPerOffering??500),dlMaxBetPerEvent:Number(Qe.maxBetPerEvent??500),dlMaxWinSingleBet:Number(Qe.maxWinSingleBet??1e3),dlMaxWinEvent:Number(Qe.maxWinEvent??3e3),dlDelaySec:Number(Qe.delaySec??7),dlMaxFavoriteLine:Number(Qe.maxFavoriteLine??-1e4),dlMaxDogLine:Number(Qe.maxDogLine??1e4),dlMinParlayBet:Number(Qe.minParlayBet??10),dlMaxParlayBet:Number(Qe.maxParlayBet??100),dlMaxWinEventParlay:Number(Qe.maxWinEventParlay??3e3),dlMaxDogLineParlays:Number(Qe.maxDogLineParlays??1e3),dlWagerCoolOffSec:Number(Qe.wagerCoolOffSec??30),dlLiveParlays:!!it.liveParlays,dlBlockPriorStart:it.blockPriorStart??!0,dlBlockHalftime:it.blockHalftime??!0,dlIncludeGradedInLimits:!!it.includeGradedInLimits,dlUseRiskLimits:!!it.useRiskLimits,casinoDefaultMaxWinDay:Number(Yt.maxWinDay??1e4),casinoDefaultMaxLossDay:Number(Yt.maxLossDay??1e4),casinoDefaultMaxWinWeek:Number(Yt.maxWinWeek??1e4),casinoDefaultMaxLossWeek:Number(Yt.maxLossWeek??1e4),casinoAgentMaxWinDay:Number(ta.maxWinDay??1e3),casinoAgentMaxLossDay:Number(ta.maxLossDay??1e3),casinoAgentMaxWinWeek:Number(ta.maxWinWeek??5e3),casinoAgentMaxLossWeek:Number(ta.maxLossWeek??5e3),casinoPlayerMaxWinDay:Number(Ka.maxWinDay??1e3),casinoPlayerMaxLossDay:Number(Ka.maxLossDay??1e3),casinoPlayerMaxWinWeek:Number(Ka.maxWinWeek??5e3),casinoPlayerMaxLossWeek:Number(Ka.maxLossWeek??5e3)})}catch(be){console.error("Failed to load player details:",be),g(be.message||"Failed to load details")}finally{h(!1)}})()},[c,l]),u.useEffect(()=>{(async()=>{if(!(j!=="transactions"||!f))try{oe(!0),k("");const be=localStorage.getItem("token");if(!be){k("Please login to view transactions.");return}const Ce=await il({user:f.username||"",type:G,status:je,time:ae,limit:300},be),He=(Array.isArray(Ce?.transactions)?Ce.transactions:[]).filter(ze=>String(ze.userId||"")===String(l));V(He)}catch(be){k(be.message||"Failed to load transactions")}finally{oe(!1)}})()},[j,f,G,je,ae,l]),u.useEffect(()=>{(async()=>{if(!(j!=="performance"||!f?.username))try{De(!0),st("");const be=localStorage.getItem("token");if(!be){st("Please login to view performance.");return}const Ce=await Cd({customer:f.username,time:"30d",type:"all-types",limit:500},be),We=Array.isArray(Ce?.bets)?Ce.bets:[],He=new Map;for(const it of We){const It=it?.createdAt,Yt=new Date(It);if(Number.isNaN(Yt.getTime()))continue;const ta=Yt.getFullYear(),Ka=String(Yt.getMonth()+1).padStart(2,"0"),pi=String(Yt.getDate()).padStart(2,"0"),$a=`${ta}-${Ka}-${pi}`,gi=Number(it?.amount||0),xi=Number(it?.potentialPayout||0),fl=String(it?.status||"").toLowerCase(),An=fl==="won"?Math.max(0,xi-gi):fl==="lost"?-gi:0;He.has($a)||He.set($a,{date:Yt,net:0,wagers:[]});const bi=He.get($a);bi.net+=An,bi.wagers.push({id:it.id,label:`${it?.match?.awayTeam||""} vs ${it?.match?.homeTeam||""}`.trim()||it.selection||"Wager",amount:An})}const ze=Array.from(He.entries()).map(([it,It])=>({key:it,date:It.date,periodLabel:It.date.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",weekday:"long"}),net:It.net,wagers:It.wagers})).sort((it,It)=>It.key.localeCompare(it.key));Et(ze);const Qe=ze[0]?.key||"";ct(Qe),kt(ze[0]?.wagers||[])}catch(be){st(be.message||"Failed to load performance"),Et([]),ct(""),kt([])}finally{De(!1)}})()},[j,f?.username]),u.useEffect(()=>{(async()=>{if(!(j!=="freeplays"||!f?.username))try{Ya(!0),mt("");const be=localStorage.getItem("token");if(!be){mt("Please login to view free play.");return}const Ce=await il({user:f.username,type:"adjustment",status:"all",time:Ua,limit:300},be),He=(Array.isArray(Ce?.transactions)?Ce.transactions:[]).filter(ze=>{if(String(ze.userId||"")!==String(l))return!1;const Qe=String(ze.reason||"").toUpperCase(),it=String(ze.description||"").toLowerCase();return Qe==="FREEPLAY_ADJUSTMENT"||it.includes("freeplay")||it.includes("free play")});Ct(He)}catch(be){mt(be.message||"Failed to load free play")}finally{Ya(!1)}})()},[j,f?.username,Ua,l]);const Ee=(O,be)=>{z(Ce=>({...Ce,[O]:be}))},Ja=u.useMemo(()=>{const O=`${w.firstName||""} ${w.lastName||""}`.trim();return O||(f?.fullName?f.fullName:"")},[w.firstName,w.lastName,f?.fullName]);u.useMemo(()=>Ja||f?.username||"Player",[Ja,f?.username]);const zt=u.useMemo(()=>{if(!f)return"";if(f.rawPassword)return f.rawPassword;const O=(f.phoneNumber||"").replace(/\D/g,"").slice(-4),be=(f.firstName||"").slice(0,3).toUpperCase(),Ce=(f.lastName||"").slice(0,3).toUpperCase();return`${be}${Ce}${O}`||"Not set"},[f]),ht=u.useMemo(()=>Number(w.creditLimit||0)-Number(f?.pendingBalance||0),[w.creditLimit,f?.pendingBalance]),ft=u.useMemo(()=>{let O=0;for(const be of $)be?.status==="pending"&&String(be?.type||"").toLowerCase().includes("casino")&&(O+=Number(be.amount||0));return{pending:Number(f?.pendingBalance||0),available:Number(ht||0),carry:Number(f?.balance||0),nonPostedCasino:O}},[$,f?.pendingBalance,f?.balance,ht]),lt=O=>Number(O||0).toLocaleString("en-US",{style:"currency",currency:"USD"}),Za=async()=>{try{const O=localStorage.getItem("token"),be=await Yj(l,O);localStorage.setItem("token",be.token),localStorage.setItem("user",JSON.stringify(be)),window.location.href="/dashboard"}catch(O){g("Impersonation failed: "+O.message)}},Pa=async(O,be="Copied")=>{try{const Ce=String(O??"");if(!Ce)return;await navigator.clipboard.writeText(Ce),Ta(`${be} copied`),window.setTimeout(()=>Ta(""),1400)}catch{Ta("Copy failed"),window.setTimeout(()=>Ta(""),1400)}},Sn=async()=>{const O=[`Login: ${f?.username||""}`,`Password: ${zt||""}`,`Min bet: ${Number(f?.minBet??0)}`,`Max bet: ${Number(f?.maxBet??f?.wagerLimit??w.wagerLimit??0)}`,`Credit: ${Number(w.creditLimit||f?.creditLimit||0)}`,`Settle: ${Number(w.settleLimit||f?.balanceOwed||0)}`].join(`
`);await Pa(O,"All details")},kn=async()=>{try{y(!0),g(""),b("");const O=localStorage.getItem("token");if(!O){g("Please login again.");return}const be={firstName:w.firstName.trim(),lastName:w.lastName.trim(),phoneNumber:w.phoneNumber.trim(),fullName:Ja,status:w.status,minBet:Number(w.minBet||0),creditLimit:Number(w.creditLimit||0),maxBet:Number(w.wagerLimit||0),wagerLimit:Number(w.wagerLimit||0),balanceOwed:Number(w.settleLimit||0),settings:{accountType:w.accountType,zeroBalanceWeekly:w.zeroBalanceWeekly,tempCredit:Number(w.tempCredit||0),expiresOn:w.expiresOn||"",enableCaptcha:!!w.enableCaptcha,cryptoPromoPct:Number(w.cryptoPromoPct||0),promoType:w.promoType,playerNotes:w.playerNotes,sports:!!w.sportsbook,casino:!!w.casino,racebook:!!w.horses,messaging:!!w.messaging,live:!!w.dynamicLive,props:!!w.propPlus,liveCasino:!!w.liveCasino}};["admin","super_agent","master_agent"].includes(c)&&w.agentId&&(be.agentId=w.agentId),c==="agent"?await Sa(l,be,O):await bs(l,be,O),(w.password||"").trim()!==""&&(c==="admin"?await Ur(l,w.password.trim(),O):await Sa(l,{password:w.password.trim()},O)),v(Ce=>({...Ce,...be,rawPassword:(w.password||"").trim()?w.password.trim():Ce?.rawPassword,settings:{...Ce?.settings||{},...be.settings}})),z(Ce=>({...Ce,password:""})),b("Changes saved successfully.")}catch(O){console.error("Failed to save player details:",O),g(O.message||"Failed to save details")}finally{y(!1)}},Pt=async()=>{try{const O=localStorage.getItem("token");if(!O||!f)return;await ci(l,{balance:Number(f.balance||0)},O),b("Balance updated."),g("")}catch(O){g(O.message||"Failed to update balance")}},ks=O=>{if(!O)return"";const be=O?.$date||O,Ce=new Date(be);return Number.isNaN(Ce.getTime())?"":Ce.toLocaleString()},ma=O=>{const be=String(O?.type||"").toLowerCase();return["withdrawal","bet_placed","bet_lost","fee","debit"].includes(be)},Gt=O=>{O==="transactions"?(S("transactions"),H("7d"),ie("adjustment"),K("all")):O==="pending"?(S("transactions"),H("7d"),ie("adjustment"),K("pending")):S(O==="performance"?"performance":O==="freeplays"?"freeplays":O==="dynamic-live"?"dynamic-live":O==="live-casino"?"live-casino":"basics"),C(!1),b(""),M(""),g(""),k(""),st(""),mt(""),Oa(""),Ca(""),tn(""),ha(""),Fa("")},U=u.useMemo(()=>nt.find(O=>O.key===Tt)||null,[nt,Tt]);u.useEffect(()=>{if(!U){kt([]);return}kt(U.wagers||[])},[U]);const ee=u.useMemo(()=>Ue.reduce((O,be)=>O+Number(be.amount||0),0),[Ue]),Y=u.useMemo(()=>qt.filter(O=>String(O.status||"").toLowerCase()==="pending").reduce((O,be)=>O+Number(be.amount||0),0),[qt]),de=Number(f?.freeplayBalance||0),ye=async()=>{if(f?.username)try{Ya(!0);const O=localStorage.getItem("token");if(!O)return;const be=await il({user:f.username,type:"adjustment",status:"all",time:Ua,limit:300},O),Ce=Array.isArray(be?.transactions)?be.transactions:[];Ct(Ce.filter(We=>{if(String(We.userId||"")!==String(l))return!1;const He=String(We.reason||"").toUpperCase(),ze=String(We.description||"").toLowerCase();return He==="FREEPLAY_ADJUSTMENT"||ze.includes("freeplay")||ze.includes("free play")}))}catch(O){mt(O.message||"Failed to refresh free play")}finally{Ya(!1)}},Ne=async()=>{try{const O=Number(Nn||0);if(O<=0||Number.isNaN(O)){mt("Enter a valid free play amount greater than 0.");return}const be=localStorage.getItem("token");if(!be||!f){mt("Please login again.");return}const Ce=Number(f.freeplayBalance||0)+O;await kp(l,Ce,be,Va.trim()),v(We=>({...We,freeplayBalance:Ce})),Va.trim()?Oa(`Free play added. Note: "${Va.trim()}"`):Oa("Free play added successfully."),mt(""),jt(!1),wn(""),ka(""),await ye()}catch(O){mt(O.message||"Failed to add free play")}},Te=O=>{Lt(be=>be.includes(O)?be.filter(Ce=>Ce!==O):[...be,O])},xt=async()=>{try{if(da.length===0)return;const O=localStorage.getItem("token");if(!O){mt("Please login again.");return}const be=await Sf(da,O),Ce=Number(be?.deleted||0),We=Number(be?.skipped||0);Lt([]),Oa(`Deleted ${Ce} free play transaction(s).${We>0?` Skipped ${We}.`:""}`),mt(""),await ye()}catch(O){mt(O.message||"Failed to delete free play transactions")}},$t=async()=>{try{const O=localStorage.getItem("token");if(!O){mt("Please login again.");return}const be={settings:{freePlayPercent:Number(w.freePlayPercent||0),maxFpCredit:Number(w.maxFpCredit||0)}};c==="agent"?await Sa(l,be,O):await bs(l,be,O),Oa("Free play settings saved."),mt("")}catch(O){mt(O.message||"Failed to save free play settings")}},fa=async()=>{try{Xa(!0);const O=localStorage.getItem("token");if(!O){Ca("Please login again.");return}const be={settings:{dynamicLiveLimits:{minStraightBet:Number(w.dlMinStraightBet||0),maxStraightBet:Number(w.dlMaxStraightBet||0),maxPerOffering:Number(w.dlMaxPerOffering||0),maxBetPerEvent:Number(w.dlMaxBetPerEvent||0),maxWinSingleBet:Number(w.dlMaxWinSingleBet||0),maxWinEvent:Number(w.dlMaxWinEvent||0),delaySec:Number(w.dlDelaySec||0),maxFavoriteLine:Number(w.dlMaxFavoriteLine||0),maxDogLine:Number(w.dlMaxDogLine||0),minParlayBet:Number(w.dlMinParlayBet||0),maxParlayBet:Number(w.dlMaxParlayBet||0),maxWinEventParlay:Number(w.dlMaxWinEventParlay||0),maxDogLineParlays:Number(w.dlMaxDogLineParlays||0),wagerCoolOffSec:Number(w.dlWagerCoolOffSec||0)},dynamicLiveFlags:{liveParlays:!!w.dlLiveParlays,blockPriorStart:!!w.dlBlockPriorStart,blockHalftime:!!w.dlBlockHalftime,includeGradedInLimits:!!w.dlIncludeGradedInLimits,useRiskLimits:!!w.dlUseRiskLimits}}};c==="agent"?await Sa(l,be,O):await bs(l,be,O),tn("Dynamic Live settings saved."),Ca("")}catch(O){Ca(O.message||"Failed to save Dynamic Live settings")}finally{Xa(!1)}},Hr=async()=>{try{za(!0);const O=localStorage.getItem("token");if(!O){ha("Please login again.");return}const be={settings:{liveCasinoLimits:{default:{maxWinDay:Number(w.casinoDefaultMaxWinDay||0),maxLossDay:Number(w.casinoDefaultMaxLossDay||0),maxWinWeek:Number(w.casinoDefaultMaxWinWeek||0),maxLossWeek:Number(w.casinoDefaultMaxLossWeek||0)},agent:{maxWinDay:Number(w.casinoAgentMaxWinDay||0),maxLossDay:Number(w.casinoAgentMaxLossDay||0),maxWinWeek:Number(w.casinoAgentMaxWinWeek||0),maxLossWeek:Number(w.casinoAgentMaxLossWeek||0)},player:{maxWinDay:Number(w.casinoPlayerMaxWinDay||0),maxLossDay:Number(w.casinoPlayerMaxLossDay||0),maxWinWeek:Number(w.casinoPlayerMaxWinWeek||0),maxLossWeek:Number(w.casinoPlayerMaxLossWeek||0)}}}};c==="agent"?await Sa(l,be,O):await bs(l,be,O),Fa("Live Casino limits saved."),ha("")}catch(O){ha(O.message||"Failed to save Live Casino limits")}finally{za(!1)}},an=async()=>{if(f){oe(!0);try{const O=localStorage.getItem("token");if(!O)return;const be=await il({user:f.username||"",type:G,status:je,time:ae,limit:300},O),Ce=Array.isArray(be?.transactions)?be.transactions:[];V(Ce.filter(We=>String(We.userId||"")===String(l)))}catch(O){k(O.message||"Failed to refresh transactions")}finally{oe(!1)}}},Cn=async()=>{try{const O=Number(q||0);if(O<=0||Number.isNaN(O)){k("Enter a valid amount greater than 0.");return}const be=localStorage.getItem("token");if(!be||!f){k("Please login again.");return}const Ce=Number(f.balance||0),We=Z==="credit"?Ce+O:Math.max(0,Ce-O);await ci(l,{balance:We},be),v(He=>({...He,balance:We})),M("Transaction saved and balance updated."),k(""),J(!1),ue(""),ve(""),await an()}catch(O){k(O.message||"Failed to save transaction")}},La=O=>{Q(be=>be.includes(O)?be.filter(Ce=>Ce!==O):[...be,O])},Wt=async()=>{try{if(_.length===0)return;const O=localStorage.getItem("token");if(!O){k("Please login again.");return}const be=await Sf(_,O);Q([]),await an();const Ce=Number(be?.deleted||0),We=Number(be?.skipped||0);M(`Deleted ${Ce} transaction(s).${We>0?` Skipped ${We} (non-adjustment or invalid).`:""}`),k("")}catch(O){k(O.message||"Failed to delete selected transactions")}};return d?e.jsx("div",{className:"admin-view",children:e.jsx("div",{className:"view-content",children:"Loading player details..."})}):f?e.jsxs("div",{className:"customer-details-v2",children:[e.jsxs("div",{className:"top-panel",children:[e.jsxs("div",{className:"top-left",children:[e.jsx("button",{className:"btn btn-back",onClick:r,children:"Customer Admin"}),e.jsxs("div",{className:"player-card",children:[e.jsxs("div",{className:"player-card-head",children:[e.jsxs("div",{className:"player-title-wrap",children:[e.jsx("h2",{children:f.username||"USER"}),e.jsx("span",{className:"player-badge",children:"PLAYER"})]}),e.jsxs("div",{className:"top-actions",children:[e.jsx("button",{className:"btn btn-user",onClick:Za,children:"Login User"}),e.jsx("button",{className:"btn btn-copy-all",onClick:Sn,children:"Copy Details"})]})]}),e.jsxs("div",{className:"creds-box",children:[e.jsxs("div",{className:"creds-row",children:[e.jsx("span",{children:"Login:"}),e.jsx("div",{className:"creds-pill",children:f.username||""}),e.jsx("button",{className:"copy-mini",onClick:()=>Pa(f.username,"Login"),children:""})]}),e.jsxs("div",{className:"creds-row",children:[e.jsx("span",{children:"Password:"}),e.jsx("div",{className:"creds-pill",children:zt}),e.jsx("button",{className:"copy-mini",onClick:()=>Pa(zt,"Password"),children:""})]})]}),e.jsxs("div",{className:"limits-box",children:[e.jsxs("div",{className:"limit-item",children:[e.jsx("label",{children:"Min bet:"}),e.jsx("strong",{children:Number(f.minBet??0).toLocaleString()})]}),e.jsxs("div",{className:"limit-item",children:[e.jsx("label",{children:"Max bet:"}),e.jsx("strong",{children:Number(f.maxBet??f.wagerLimit??w.wagerLimit??0).toLocaleString()})]}),e.jsxs("div",{className:"limit-item",children:[e.jsx("label",{children:"Credit:"}),e.jsx("strong",{className:"money-green",children:Number(w.creditLimit||f.creditLimit||0).toLocaleString()})]}),e.jsxs("div",{className:"limit-item",children:[e.jsx("label",{children:"Settle:"}),e.jsx("strong",{className:"money-green",children:Number(w.settleLimit||f.balanceOwed||0).toLocaleString()})]})]})]}),Ea&&e.jsx("div",{className:"copy-notice",children:Ea}),e.jsxs("div",{className:"agent-line",children:["Agent ",f.agentUsername||f.agentId?.username||""]}),e.jsxs("div",{className:"top-actions mobile-only",children:[e.jsx("button",{className:"btn btn-user",onClick:Za,children:"Login User"}),e.jsx("button",{className:"btn btn-copy-all",onClick:Sn,children:"Copy Details"})]})]}),e.jsxs("div",{className:"top-right",children:[e.jsxs("button",{type:"button",className:`metric ${j==="transactions"?"metric-active":""}`,onClick:()=>Gt("transactions"),children:[e.jsx("span",{children:"Balance"}),e.jsx("b",{className:Number(f.balance||0)<0?"neg":"pos",children:lt(f.balance||0)})]}),e.jsxs("button",{type:"button",className:`metric ${j==="transactions"&&je==="pending"?"metric-active":""}`,onClick:()=>Gt("pending"),children:[e.jsx("span",{children:"Pending"}),e.jsx("b",{className:"neutral",children:lt(f.pendingBalance||0)})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{children:"Available"}),e.jsx("b",{className:"neutral",children:lt(ht)})]}),e.jsxs("button",{type:"button",className:`metric ${j==="freeplays"?"metric-active":""}`,onClick:()=>Gt("freeplays"),children:[e.jsx("span",{children:"Freeplay"}),e.jsx("b",{className:"neutral",children:lt(f.freeplayBalance||0)})]}),e.jsxs("button",{type:"button",className:`metric ${j==="performance"?"metric-active":""}`,onClick:()=>Gt("performance"),children:[e.jsx("span",{children:"Lifetime +/-"}),e.jsx("b",{className:Number(A.netProfit||0)<0?"neg":"pos",children:lt(A.netProfit||0)})]})]})]}),e.jsxs("div",{className:"basics-header",children:[e.jsxs("div",{className:"basics-left",children:[e.jsx("button",{type:"button",className:"dot-grid-btn",onClick:()=>C(O=>!O),"aria-label":"Open quick sections menu",children:e.jsxs("div",{className:"dot-grid","aria-hidden":"true",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})}),e.jsx("h3",{children:j==="transactions"?"Transactions":j==="performance"?"Performance":j==="freeplays"?"Free Play":j==="dynamic-live"?"Dynamic Live":j==="live-casino"?"Live Casino":"The Basics"})]}),j==="transactions"?e.jsx("button",{className:"btn btn-back",onClick:()=>J(!0),children:"New transaction"}):j==="freeplays"?e.jsx("button",{className:"btn btn-back",onClick:()=>jt(!0),children:"New Free Play"}):j==="dynamic-live"?e.jsx("button",{className:"btn btn-save",onClick:fa,disabled:Qa,children:Qa?"Saving...":"Save"}):j==="live-casino"?e.jsx("button",{className:"btn btn-save",onClick:Hr,disabled:ws,children:ws?"Saving...":"Save"}):j==="performance"?e.jsx("span",{}):e.jsx("button",{className:"btn btn-save",onClick:kn,disabled:p,children:p?"Saving...":"Save"})]}),L&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"menu-backdrop",onClick:()=>C(!1),"aria-label":"Close quick sections menu"}),e.jsxs("div",{className:"basics-quick-menu",children:[e.jsx("button",{type:"button",className:"menu-close",onClick:()=>C(!1),"aria-label":"Close menu",children:"x"}),e.jsx("div",{className:"menu-grid",children:Ss.map(O=>e.jsxs("button",{type:"button",className:"menu-item",onClick:()=>Gt(O.id),children:[e.jsx("span",{className:"menu-icon",children:O.icon}),e.jsx("span",{className:"menu-label",children:O.label})]},O.id))})]})]}),j==="transactions"?F&&e.jsx("div",{className:"alert error",children:F}):j==="performance"?Ge&&e.jsx("div",{className:"alert error",children:Ge}):j==="freeplays"?en&&e.jsx("div",{className:"alert error",children:en}):j==="dynamic-live"?ea&&e.jsx("div",{className:"alert error",children:ea}):j==="live-casino"?ua&&e.jsx("div",{className:"alert error",children:ua}):N&&e.jsx("div",{className:"alert error",children:N}),j==="transactions"?I&&e.jsx("div",{className:"alert success",children:I}):j==="freeplays"?Ns&&e.jsx("div",{className:"alert success",children:Ns}):j==="dynamic-live"?Mt&&e.jsx("div",{className:"alert success",children:Mt}):j==="live-casino"?Aa&&e.jsx("div",{className:"alert success",children:Aa}):x&&e.jsx("div",{className:"alert success",children:x}),j==="transactions"?e.jsxs("div",{className:"transactions-wrap",children:[e.jsxs("div",{className:"tx-controls",children:[e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Display"}),e.jsxs("select",{value:ae,onChange:O=>H(O.target.value),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Filter Transactions"}),e.jsxs("select",{value:G,onChange:O=>ie(O.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"adjustment",children:"Non-Wager"}),e.jsx("option",{value:"deposit",children:"Deposits"}),e.jsx("option",{value:"withdrawal",children:"Withdrawals"}),e.jsx("option",{value:"bet_placed",children:"Wagers"})]})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Pending"}),e.jsx("b",{children:lt(ft.pending)})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Available"}),e.jsx("b",{children:lt(ft.available)})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Carry"}),e.jsx("b",{className:ft.carry<0?"neg":"",children:lt(ft.carry)})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Non-Posted Casino"}),e.jsx("b",{children:lt(ft.nonPostedCasino)})]})]}),e.jsx("div",{className:"tx-table-wrap",children:e.jsxs("table",{className:"tx-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Credit"}),e.jsx("th",{children:"Debit"}),e.jsx("th",{children:"Balance"})]})}),e.jsx("tbody",{children:B?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"tx-empty",children:"Loading transactions..."})}):$.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"tx-empty",children:"No transactions found"})}):$.map(O=>{const be=ma(O),Ce=Number(O.amount||0),We=be?0:Ce,He=be?Ce:0,ze=_.includes(O.id);return e.jsxs("tr",{className:ze?"selected":"",onClick:()=>La(O.id),children:[e.jsx("td",{children:ks(O.date)}),e.jsx("td",{children:O.description||O.type||"Transaction"}),e.jsx("td",{children:We>0?lt(We):""}),e.jsx("td",{children:He>0?lt(He):""}),e.jsx("td",{className:Number(f.balance||0)<0?"neg":"",children:lt(f.balance||0)})]},O.id)})})]})}),e.jsx("button",{className:"btn btn-danger",onClick:Wt,disabled:_.length===0,children:"Delete"})]}):j==="performance"?e.jsxs("div",{className:"performance-wrap",children:[e.jsx("div",{className:"perf-controls",children:e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Time"}),e.jsx("select",{value:we,onChange:O=>Ae(O.target.value),children:e.jsx("option",{value:"daily",children:"Daily"})})]})}),e.jsxs("div",{className:"performance-grid",children:[e.jsx("div",{className:"perf-left",children:e.jsxs("table",{className:"perf-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Period"}),e.jsx("th",{children:"Net"})]})}),e.jsx("tbody",{children:_e?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"tx-empty",children:"Loading performance..."})}):nt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"tx-empty",children:"No performance data"})}):nt.map(O=>e.jsxs("tr",{className:Tt===O.key?"selected":"",onClick:()=>ct(O.key),children:[e.jsx("td",{children:O.periodLabel}),e.jsx("td",{children:Number(O.net||0).toFixed(2)})]},O.key))})]})}),e.jsxs("div",{className:"perf-right",children:[e.jsxs("div",{className:"perf-title-row",children:[e.jsxs("div",{children:["Wagers: ",e.jsx("b",{children:Ue.length})]}),e.jsxs("div",{children:["Result: ",e.jsx("b",{children:lt(ee)})]})]}),e.jsxs("table",{className:"perf-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:U?.periodLabel||"Selected Day"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{children:Ue.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"tx-empty",children:"No data available in table"})}):Ue.map(O=>e.jsxs("tr",{children:[e.jsx("td",{children:O.label||"Wager"}),e.jsx("td",{children:Number(O.amount||0).toFixed(2)})]},O.id))})]})]})]})]}):j==="freeplays"?e.jsxs("div",{className:"transactions-wrap",children:[e.jsxs("div",{className:"tx-controls freeplay-controls",children:[e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Display"}),e.jsxs("select",{value:Ua,onChange:O=>ml(O.target.value),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Balance"}),e.jsx("b",{children:Number(de).toFixed(2)})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Pending"}),e.jsx("b",{children:Number(Y).toFixed(2)})]})]}),e.jsx("div",{className:"tx-table-wrap",children:e.jsxs("table",{className:"tx-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Credit"}),e.jsx("th",{children:"Debit"}),e.jsx("th",{children:"Balance"})]})}),e.jsx("tbody",{children:hl?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"tx-empty",children:"Loading free play..."})}):qt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"tx-empty",children:"No free play transactions found"})}):qt.map(O=>{const be=Number(O.amount||0),Ce=be>0?be:0,We=da.includes(O.id);return e.jsxs("tr",{className:We?"selected":"",onClick:()=>Te(O.id),children:[e.jsx("td",{children:f.username}),e.jsx("td",{children:ks(O.date)}),e.jsx("td",{children:O.description||"Free Play Adjustment"}),e.jsx("td",{children:Ce>0?Number(Ce).toFixed(2):""}),e.jsx("td",{children:""}),e.jsx("td",{children:Number(de).toFixed(2)})]},O.id)})})]})}),e.jsxs("div",{className:"freeplay-bottom-row",children:[e.jsx("button",{className:"btn btn-danger",onClick:xt,disabled:da.length===0,children:"Delete"}),e.jsx("button",{className:"btn btn-back freeplay-settings-btn",onClick:$t,children:"Detailed Free Play Settings"}),e.jsxs("div",{className:"freeplay-inputs",children:[e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Free Play %"}),e.jsx("input",{type:"number",value:w.freePlayPercent,onChange:O=>Ee("freePlayPercent",O.target.value)})]}),e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Max FP Credit"}),e.jsx("input",{type:"number",value:w.maxFpCredit,onChange:O=>Ee("maxFpCredit",O.target.value)})]})]})]})]}):j==="dynamic-live"?e.jsxs("div",{className:"dynamic-live-wrap",children:[e.jsxs("div",{className:"tx-field dl-top-select",children:[e.jsx("label",{children:"View Settings"}),e.jsx("select",{value:"wagering_limits",readOnly:!0,children:e.jsx("option",{value:"wagering_limits",children:"Wagering Limits"})})]}),e.jsxs("div",{className:"dynamic-live-grid",children:[e.jsxs("div",{className:"dl-col",children:[e.jsx("label",{children:"Min Straight Bet :"}),e.jsx("input",{type:"number",value:w.dlMinStraightBet,onChange:O=>Ee("dlMinStraightBet",O.target.value)}),e.jsx("label",{children:"Max Straight Bet :"}),e.jsx("input",{type:"number",value:w.dlMaxStraightBet,onChange:O=>Ee("dlMaxStraightBet",O.target.value)}),e.jsx("label",{children:"Max Per Offering :"}),e.jsx("input",{type:"number",value:w.dlMaxPerOffering,onChange:O=>Ee("dlMaxPerOffering",O.target.value)}),e.jsx("label",{children:"Max Bet Per Event :"}),e.jsx("input",{type:"number",value:w.dlMaxBetPerEvent,onChange:O=>Ee("dlMaxBetPerEvent",O.target.value)}),e.jsx("label",{children:"Max Win for Single Bet :"}),e.jsx("input",{type:"number",value:w.dlMaxWinSingleBet,onChange:O=>Ee("dlMaxWinSingleBet",O.target.value)}),e.jsx("label",{children:"Max Win for Event :"}),e.jsx("input",{type:"number",value:w.dlMaxWinEvent,onChange:O=>Ee("dlMaxWinEvent",O.target.value)}),e.jsx("label",{children:"Delay (sec) - minimum 5 :"}),e.jsx("input",{type:"number",value:w.dlDelaySec,onChange:O=>Ee("dlDelaySec",O.target.value)})]}),e.jsxs("div",{className:"dl-col",children:[e.jsx("label",{children:"Max Favorite Line :"}),e.jsx("input",{type:"number",value:w.dlMaxFavoriteLine,onChange:O=>Ee("dlMaxFavoriteLine",O.target.value)}),e.jsx("label",{children:"Max Dog Line :"}),e.jsx("input",{type:"number",value:w.dlMaxDogLine,onChange:O=>Ee("dlMaxDogLine",O.target.value)}),e.jsx("label",{children:"Min Parlay Bet :"}),e.jsx("input",{type:"number",value:w.dlMinParlayBet,onChange:O=>Ee("dlMinParlayBet",O.target.value)}),e.jsx("label",{children:"Max Parlay Bet :"}),e.jsx("input",{type:"number",value:w.dlMaxParlayBet,onChange:O=>Ee("dlMaxParlayBet",O.target.value)}),e.jsx("label",{children:"Max Win for Event(parlay only) :"}),e.jsx("input",{type:"number",value:w.dlMaxWinEventParlay,onChange:O=>Ee("dlMaxWinEventParlay",O.target.value)}),e.jsx("label",{children:"Max Dog Line (Parlays) :"}),e.jsx("input",{type:"number",value:w.dlMaxDogLineParlays,onChange:O=>Ee("dlMaxDogLineParlays",O.target.value)}),e.jsx("label",{children:"Wager Cool-Off (sec) :"}),e.jsx("input",{type:"number",value:w.dlWagerCoolOffSec,onChange:O=>Ee("dlWagerCoolOffSec",O.target.value)})]}),e.jsx("div",{className:"dl-col-toggles",children:[["Live Parlays","dlLiveParlays"],["Block Wagering Prior To Start","dlBlockPriorStart"],["Block Wagering at Halftime","dlBlockHalftime"],["Include Graded Wagers in Limits","dlIncludeGradedInLimits"],["Use Risk (not Volume) for Limits","dlUseRiskLimits"]].map(([O,be])=>e.jsxs("div",{className:"switch-row",children:[e.jsxs("span",{children:[O," :"]}),e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:!!w[be],onChange:Ce=>Ee(be,Ce.target.checked)}),e.jsx("span",{className:"slider"})]})]},be))})]})]}):j==="live-casino"?e.jsxs("div",{className:"live-casino-wrap",children:[e.jsxs("div",{className:"live-casino-grid",children:[e.jsx("div",{}),e.jsx("div",{className:"lc-col-head",children:"Default"}),e.jsx("div",{className:"lc-col-head",children:"Agent"}),e.jsx("div",{className:"lc-col-head",children:"Player"}),e.jsx("div",{className:"lc-label",children:"Max Win Per Day"}),e.jsx("input",{type:"number",value:w.casinoDefaultMaxWinDay,onChange:O=>Ee("casinoDefaultMaxWinDay",O.target.value)}),e.jsx("input",{type:"number",value:w.casinoAgentMaxWinDay,onChange:O=>Ee("casinoAgentMaxWinDay",O.target.value)}),e.jsx("input",{type:"number",value:w.casinoPlayerMaxWinDay,onChange:O=>Ee("casinoPlayerMaxWinDay",O.target.value)}),e.jsx("div",{className:"lc-label",children:"Max Loss Per Day"}),e.jsx("input",{type:"number",value:w.casinoDefaultMaxLossDay,onChange:O=>Ee("casinoDefaultMaxLossDay",O.target.value)}),e.jsx("input",{type:"number",value:w.casinoAgentMaxLossDay,onChange:O=>Ee("casinoAgentMaxLossDay",O.target.value)}),e.jsx("input",{type:"number",value:w.casinoPlayerMaxLossDay,onChange:O=>Ee("casinoPlayerMaxLossDay",O.target.value)}),e.jsx("div",{className:"lc-label",children:"Max Win Per Week"}),e.jsx("input",{type:"number",value:w.casinoDefaultMaxWinWeek,onChange:O=>Ee("casinoDefaultMaxWinWeek",O.target.value)}),e.jsx("input",{type:"number",value:w.casinoAgentMaxWinWeek,onChange:O=>Ee("casinoAgentMaxWinWeek",O.target.value)}),e.jsx("input",{type:"number",value:w.casinoPlayerMaxWinWeek,onChange:O=>Ee("casinoPlayerMaxWinWeek",O.target.value)}),e.jsx("div",{className:"lc-label",children:"Max Loss Per Week"}),e.jsx("input",{type:"number",value:w.casinoDefaultMaxLossWeek,onChange:O=>Ee("casinoDefaultMaxLossWeek",O.target.value)}),e.jsx("input",{type:"number",value:w.casinoAgentMaxLossWeek,onChange:O=>Ee("casinoAgentMaxLossWeek",O.target.value)}),e.jsx("input",{type:"number",value:w.casinoPlayerMaxLossWeek,onChange:O=>Ee("casinoPlayerMaxLossWeek",O.target.value)})]}),e.jsx("p",{className:"lc-note",children:"*Players that do not have a limit will be assigned the default limit or agent limit if one exists. Once player limits are assigned they will have to be manually overridden either by changing them individually or by changing an agent and sending through the new default limits they want to apply."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"basics-grid",children:[e.jsxs("div",{className:"col-card",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{value:w.firstName,placeholder:"Enter first name",onChange:O=>Ee("firstName",O.target.value)}),e.jsx("label",{children:"Last Name"}),e.jsx("input",{value:w.lastName,placeholder:"Enter last name",onChange:O=>Ee("lastName",O.target.value)}),e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:w.phoneNumber,placeholder:"Enter phone number",onChange:O=>Ee("phoneNumber",O.target.value)}),e.jsx("label",{children:"Password"}),e.jsx("input",{value:w.password,placeholder:zt,onChange:O=>Ee("password",O.target.value)}),e.jsx("label",{children:"Master Agent"}),["admin","super_agent","master_agent"].includes(c)?e.jsxs("select",{value:w.agentId,onChange:O=>Ee("agentId",O.target.value),children:[e.jsx("option",{value:"",children:"None"}),D.map(O=>{const be=O.id||O._id;return e.jsx("option",{value:be,children:O.username},be)})]}):e.jsx("input",{value:f.agentUsername||"",readOnly:!0}),e.jsx("label",{children:"Account Status"}),e.jsxs("select",{value:w.status,onChange:O=>Ee("status",O.target.value),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"read_only",children:"Read Only"})]}),e.jsx("div",{className:"switch-list",children:[["Sportsbook","sportsbook"],["LV Casino","casino"],["Racebook","horses"],["Messaging","messaging"],["Dynamic Live","dynamicLive"],["Prop Plus","propPlus"],["Live Casino","liveCasino"]].map(([O,be])=>e.jsxs("div",{className:"switch-row",children:[e.jsx("span",{children:O}),e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:!!w[be],onChange:Ce=>Ee(be,Ce.target.checked)}),e.jsx("span",{className:"slider"})]})]},be))})]}),e.jsxs("div",{className:"col-card",children:[e.jsx("label",{children:"Website"}),e.jsx("input",{value:window.location.hostname,readOnly:!0}),e.jsx("label",{children:"Account Type"}),e.jsxs("select",{value:w.accountType,onChange:O=>Ee("accountType",O.target.value),children:[e.jsx("option",{value:"credit",children:"Credit"}),e.jsx("option",{value:"post_up",children:"Post Up"})]}),e.jsx("label",{children:"Min bet"}),e.jsx("input",{type:"number",value:w.minBet,onChange:O=>Ee("minBet",O.target.value)}),e.jsx("label",{children:"Max bet"}),e.jsx("input",{type:"number",value:w.wagerLimit,onChange:O=>Ee("wagerLimit",O.target.value)}),e.jsx("label",{children:"Credit Limit"}),e.jsx("input",{type:"number",value:w.creditLimit,onChange:O=>Ee("creditLimit",O.target.value)}),e.jsx("label",{children:"Settle Limit"}),e.jsx("input",{type:"number",value:w.settleLimit,onChange:O=>Ee("settleLimit",O.target.value)}),e.jsx("label",{children:"Zero Balance / Weekly"}),e.jsxs("select",{value:w.zeroBalanceWeekly,onChange:O=>Ee("zeroBalanceWeekly",O.target.value),children:[e.jsx("option",{value:"standard",children:"Standard"}),e.jsx("option",{value:"zero_balance",children:"Zero Balance"}),e.jsx("option",{value:"weekly",children:"Weekly"})]}),e.jsx("label",{children:"Temporary Credit"}),e.jsx("input",{type:"number",value:w.tempCredit,onChange:O=>Ee("tempCredit",O.target.value)})]}),e.jsxs("div",{className:"col-card",children:[e.jsxs("div",{className:"switch-row inline-top",children:[e.jsx("span",{children:"Enable Captcha"}),e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:w.enableCaptcha,onChange:O=>Ee("enableCaptcha",O.target.checked)}),e.jsx("span",{className:"slider"})]})]}),e.jsx("label",{children:"Crypto Promo (%)"}),e.jsx("input",{type:"number",value:w.cryptoPromoPct,onChange:O=>Ee("cryptoPromoPct",O.target.value)}),e.jsx("label",{children:"Promo Type"}),e.jsxs("select",{value:w.promoType,onChange:O=>Ee("promoType",O.target.value),children:[e.jsx("option",{value:"promo_credit",children:"Promo Credit"}),e.jsx("option",{value:"bonus_credit",children:"Bonus Credit"}),e.jsx("option",{value:"none",children:"None"})]}),e.jsx("label",{children:"Expires On"}),e.jsx("input",{type:"date",value:w.expiresOn,onChange:O=>Ee("expiresOn",O.target.value)}),e.jsx("label",{children:"Player Notes"}),e.jsx("textarea",{rows:9,placeholder:"For agent reference only",value:w.playerNotes,onChange:O=>Ee("playerNotes",O.target.value)}),e.jsx("label",{children:"Balance"}),e.jsx("input",{type:"number",value:f.balance??0,onChange:O=>v(be=>({...be,balance:Number(O.target.value||0)}))}),e.jsx("button",{className:"btn btn-user",onClick:Pt,children:"Update Balance"})]})]}),e.jsxs("div",{className:"bottom-line",children:[e.jsxs("span",{children:["Total Wagered: ",lt(A.totalWagered||0)]}),e.jsxs("span",{children:["Net: ",e.jsx("b",{className:Number(A.netProfit||0)<0?"neg":"pos",children:lt(A.netProfit||0)})]})]})]}),se&&e.jsx("div",{className:"modal-overlay",onClick:()=>J(!1),children:e.jsxs("div",{className:"modal-card",onClick:O=>O.stopPropagation(),children:[e.jsx("h4",{children:"New transaction"}),e.jsx("label",{children:"Type"}),e.jsxs("select",{value:Z,onChange:O=>P(O.target.value),children:[e.jsx("option",{value:"credit",children:"Credit"}),e.jsx("option",{value:"debit",children:"Debit"})]}),e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:q,onChange:O=>ue(O.target.value),placeholder:"0.00"}),e.jsx("label",{children:"Description"}),e.jsx("input",{value:me,onChange:O=>ve(O.target.value),placeholder:"Optional note"}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"btn btn-back",onClick:()=>J(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-save",onClick:Cn,children:"Save"})]})]})}),Dt&&e.jsx("div",{className:"modal-overlay",onClick:()=>jt(!1),children:e.jsxs("div",{className:"modal-card",onClick:O=>O.stopPropagation(),children:[e.jsx("h4",{children:"New Free Play"}),e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:Nn,onChange:O=>wn(O.target.value),placeholder:"0.00"}),e.jsx("label",{children:"Description"}),e.jsx("input",{value:Va,onChange:O=>ka(O.target.value),placeholder:"Optional note"}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"btn btn-back",onClick:()=>jt(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-save",onClick:Ne,children:"Save"})]})]})}),e.jsx("style",{children:`
        .customer-details-v2 { background:#f3f4f6; min-height:100vh; padding:16px; color:#1f2937; }
        .top-panel { display:flex; justify-content:space-between; align-items:flex-start; background:#fff; border:1px solid #d1d5db; border-radius:8px; padding:16px; box-shadow:0 1px 6px rgba(15, 23, 42, 0.04); }
        .top-left h2 { margin:0; font-size:18px; line-height:1.2; }
        .agent-line { margin-top:4px; color:#4b5563; font-size:14px; }
        .top-actions { display:flex; gap:8px; }

        .btn { border:none; border-radius:3px; cursor:pointer; font-weight:600; }
        .btn-back { background:#3db3d7; color:#fff; padding:8px 14px; }
        .btn-user { background:#2f7fb6; color:#fff; padding:8px 14px; }
        .btn-copy-all { background:#139cc9; color:#fff; padding:8px 14px; }
        .btn-save { background:#35b49f; color:#fff; padding:9px 20px; min-width:130px; font-size:14px; }

        .player-card {
          margin-top: 10px;
          border: 1px solid #d6e2f3;
          border-radius: 4px;
          padding: 12px;
          background: #fff;
          max-width: 720px;
          box-shadow: none;
        }
        .player-card-head {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 8px;
          margin-bottom: 10px;
        }
        .player-title-wrap {
          display: flex;
          align-items: center;
          gap: 10px;
        }
        .player-badge {
          display: inline-flex;
          align-items: center;
          padding: 5px 10px;
          border-radius: 4px;
          border: 1px solid #9ec4f2;
          color: #1f5fb9;
          font-weight: 700;
          font-size: 13px;
        }
        .creds-box {
          border: 1px solid #d6e2f3;
          border-radius: 4px;
          padding: 10px;
          background: #fff;
        }
        .creds-row {
          display: grid;
          grid-template-columns: 120px 160px 32px;
          align-items: center;
          gap: 8px;
          margin-bottom: 8px;
        }
        .creds-row:last-child { margin-bottom: 0; }
        .creds-row span {
          font-size: 14px;
          font-weight: 700;
          color: #64748b;
        }
        .creds-pill {
          border: none;
          background: transparent;
          border-radius: 0;
          padding: 0;
          font-size: 14px;
          font-weight: 700;
          color: #334155;
          line-height: 1.1;
        }
        .copy-mini {
          border: none;
          background: transparent;
          color: #5b93ed;
          cursor: pointer;
          font-size: 18px;
          line-height: 1;
        }
        .limits-box {
          margin-top: 12px;
          border: 1px solid #d6e2f3;
          border-radius: 4px;
          padding: 12px;
          background: #fff;
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 12px 28px;
        }
        .limit-item label {
          display: block;
          margin: 0 0 4px;
          text-transform: uppercase;
          color: #8aa0bc;
          font-size: 12px;
          font-weight: 700;
          letter-spacing: 0.3px;
        }
        .limit-item strong {
          color: #1e293b;
          font-size: 16px;
          line-height: 1;
        }
        .limit-item .money-green {
          color: #08916a;
        }
        .copy-notice {
          margin-top: 6px;
          color: #1f5fb9;
          font-size: 13px;
          font-weight: 700;
        }
        .mobile-only { display: none; }

        .top-right { text-align:right; display:flex; flex-direction:column; gap:8px; }
        .metric {
          border: none;
          background: transparent;
          text-align: right;
          cursor: pointer;
          padding: 0;
        }
        .metric.metric-active { opacity: 1; }
        .metric:not(.metric-active) { opacity: 0.95; }
        .metric span { display:block; font-size:12px; color:#374151; }
        .metric b { font-size:16px; line-height:1.1; font-weight:700; }
        .metric .neg { color:#dc2626; }
        .metric .pos { color:#15803d; }
        .metric .neutral { color:#111827; }
        .metric-circle { background: transparent; border: none; border-radius: 0; padding: 0; margin-top: 0; }

        .basics-header { margin-top:8px; background:#fff; border:1px solid #d1d5db; border-radius:10px; padding:10px 12px; display:flex; align-items:center; justify-content:space-between; }
        .basics-left { display:flex; align-items:center; gap:10px; }
        .basics-left h3 { margin:0; font-size:22px; line-height:1.1; font-weight:700; }
        .dot-grid { width:20px; display:grid; grid-template-columns:repeat(3, 4px); gap:3px; }
        .dot-grid span { width:4px; height:4px; background:#4b5563; border-radius:50%; display:block; }
        .dot-grid-btn {
          border: none;
          background: transparent;
          padding: 2px;
          cursor: pointer;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          border-radius: 4px;
        }
        .dot-grid-btn:hover { background: #e5e7eb; }

        .menu-backdrop {
          position: fixed;
          inset: 0;
          z-index: 40;
          border: none;
          background: rgba(15, 23, 42, 0.15);
        }
        .basics-quick-menu {
          position: absolute;
          z-index: 50;
          left: 24px;
          top: 245px;
          width: 300px;
          height: 300px;
          max-width: calc(100vw - 48px);
          background: #ffffff;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          box-shadow: 0 14px 28px rgba(0, 0, 0, 0.2);
          padding: 10px 8px 10px;
          overflow: hidden;
        }
        .menu-close {
          border: none;
          background: #374151;
          color: #fff;
          width: 28px;
          height: 28px;
          border-radius: 50%;
          cursor: pointer;
          margin-left: auto;
          display: block;
          font-weight: 700;
        }
        .menu-grid {
          display: grid;
          grid-template-columns: repeat(3, minmax(0, 1fr));
          gap: 14px 10px;
          padding: 8px 2px 2px;
          height: 248px;
          overflow-y: auto;
        }
        .menu-item {
          border: none;
          background: transparent;
          text-align: center;
          cursor: pointer;
          padding: 4px;
          color: #1f2937;
        }
        .menu-item:hover .menu-icon {
          transform: translateY(-1px);
        }
        .menu-icon {
          width: 40px;
          height: 40px;
          border-radius: 8px;
          margin: 0 auto 6px;
          display: grid;
          place-items: center;
          font-size: 20px;
          line-height: 1;
          color: #1f2937;
          background: #f3f4f6;
          transition: transform 0.15s ease;
        }
        .menu-item:nth-child(1) .menu-icon { color:#ef4444; }
        .menu-item:nth-child(2) .menu-icon { color:#65a30d; }
        .menu-item:nth-child(3) .menu-icon { color:#3b82f6; }
        .menu-item:nth-child(4) .menu-icon { color:#a16207; }
        .menu-item:nth-child(5) .menu-icon { color:#0d9488; }
        .menu-item:nth-child(6) .menu-icon { color:#f97316; }
        .menu-item:nth-child(7) .menu-icon { color:#111827; }
        .menu-item:nth-child(8) .menu-icon { color:#1d4ed8; }
        .menu-item:nth-child(9) .menu-icon { color:#4b5563; }
        .menu-item:nth-child(10) .menu-icon { color:#0ea5e9; }
        .menu-item:nth-child(11) .menu-icon { color:#4f46e5; }
        .menu-item:nth-child(12) .menu-icon { color:#b91c1c; }
        .menu-item:nth-child(13) .menu-icon { color:#60a5fa; }
        .menu-item:nth-child(14) .menu-icon { color:#6b7280; }
        .menu-item:nth-child(15) .menu-icon { color:#84a34a; }
        .menu-item:nth-child(16) .menu-icon { color:#c084fc; }
        .menu-item:nth-child(17) .menu-icon { color:#d97706; }
        .menu-item:nth-child(18) .menu-icon { color:#16a34a; }
        .menu-label {
          font-size: 11px;
          font-weight: 600;
          line-height: 1.1;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }

        .alert { margin-top:8px; padding:10px 12px; border-radius:3px; }
        .alert.error { background:#fee2e2; color:#991b1b; border:1px solid #fecaca; }
        .alert.success { background:#dcfce7; color:#166534; border:1px solid #bbf7d0; }

        .transactions-wrap {
          margin-top: 8px;
          background: #fff;
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 12px;
        }
        .tx-controls {
          display: grid;
          grid-template-columns: 1.2fr 1.2fr repeat(4, 1fr);
          gap: 10px;
          margin-bottom: 12px;
        }
        .tx-field label, .tx-stat label {
          display: block;
          color: #4b5563;
          font-size: 12px;
          margin-bottom: 4px;
        }
        .tx-field select {
          width: 100%;
          border: none;
          border-bottom: 1px solid #6b7280;
          background: transparent;
          font-size: 16px;
          padding: 4px 0;
          color: #111827;
          outline: none;
        }
        .tx-field input {
          width: 100%;
          border: none;
          border-bottom: 1px solid #6b7280;
          background: transparent;
          font-size: 16px;
          padding: 4px 0;
          color: #111827;
          outline: none;
        }
        .tx-stat b {
          display: block;
          font-size: 22px;
          line-height: 1.05;
          font-weight: 500;
          color: #111827;
        }
        .tx-stat .neg { color: #dc2626; }
        .tx-table-wrap {
          border: 1px solid #cbd5e1;
          min-height: 360px;
          overflow: auto;
          background: #fff;
        }
        .tx-table {
          width: 100%;
          border-collapse: collapse;
        }
        .tx-table th {
          background: #1f3345;
          color: #fff;
          text-align: left;
          font-size: 16px;
          padding: 10px 12px;
          position: sticky;
          top: 0;
        }
        .tx-table td {
          border-bottom: 1px solid #e5e7eb;
          padding: 8px 12px;
          font-size: 14px;
          color: #1f2937;
        }
        .tx-table tr.selected td { background: #eff6ff; }
        .tx-table tr { cursor: pointer; }
        .tx-empty {
          text-align: center;
          padding: 24px !important;
          color: #6b7280 !important;
        }
        .btn-danger {
          margin-top: 10px;
          background: #dc3f51;
          color: #fff;
          padding: 10px 30px;
        }
        .btn-danger:disabled {
          opacity: 0.45;
          cursor: not-allowed;
        }
        .freeplay-controls {
          grid-template-columns: 1.2fr 1fr 1fr;
        }
        .freeplay-bottom-row {
          margin-top: 10px;
          display: grid;
          grid-template-columns: auto 1fr auto;
          align-items: end;
          gap: 12px;
        }
        .freeplay-settings-btn {
          justify-self: center;
          min-width: 320px;
          text-align: center;
        }
        .freeplay-inputs {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
          min-width: 360px;
        }

        .performance-wrap {
          margin-top: 8px;
          background: #fff;
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 12px;
        }
        .perf-controls {
          display: grid;
          grid-template-columns: 220px;
          gap: 10px;
          margin-bottom: 10px;
        }
        .performance-grid {
          display: grid;
          grid-template-columns: 480px 1fr;
          gap: 16px;
          min-height: 420px;
        }
        .perf-left {
          border: 1px solid #cbd5e1;
          max-height: 420px;
          overflow-y: auto;
        }
        .perf-right {
          border: 1px solid #cbd5e1;
          padding: 0;
        }
        .perf-title-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          font-size: 18px;
          line-height: 1;
          padding: 8px 0 8px 0;
        }
        .perf-title-row b { font-size: 26px; font-weight: 700; }
        .perf-table {
          width: 100%;
          border-collapse: collapse;
        }
        .perf-table th {
          background: #1f3345;
          color: #fff;
          text-align: left;
          font-size: 14px;
          padding: 8px 10px;
          position: sticky;
          top: 0;
        }
        .perf-table td {
          border-bottom: 1px solid #e5e7eb;
          padding: 8px 10px;
          font-size: 14px;
          color: #1f2937;
        }
        .perf-table tr.selected td { background: #f1f5f9; }

        .dynamic-live-wrap {
          margin-top: 8px;
          background: #fff;
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 12px;
        }
        .dl-top-select {
          width: 220px;
          margin-bottom: 12px;
        }
        .dynamic-live-grid {
          display: grid;
          grid-template-columns: 1fr 1fr 1fr;
          gap: 28px;
        }
        .dl-col, .dl-col-toggles {
          display: flex;
          flex-direction: column;
          gap: 6px;
        }
        .dl-col label {
          font-size: 13px;
          color: #4b5563;
        }
        .dl-col input {
          border: none;
          border-bottom: 1px solid #6b7280;
          background: transparent;
          font-size: 16px;
          line-height: 1;
          color: #111827;
          padding: 2px 0 4px;
          outline: none;
        }
        .dl-col-toggles .switch-row {
          justify-content: space-between;
          font-size: 15px;
          line-height: 1.15;
          padding: 10px 0;
        }

        .live-casino-wrap {
          margin-top: 8px;
          background: #fff;
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 12px 18px 22px;
        }
        .live-casino-grid {
          display: grid;
          grid-template-columns: 220px 130px 130px 130px;
          gap: 10px 20px;
          align-items: center;
          max-width: 760px;
        }
        .lc-col-head {
          font-size: 18px;
          color: #374151;
          font-weight: 700;
        }
        .lc-label {
          font-size: 14px;
          color: #374151;
          font-weight: 600;
        }
        .live-casino-grid input {
          width: 100%;
          border: 1px solid #d1d5db;
          background: #fff;
          border-radius: 4px;
          font-size: 14px;
          line-height: 1;
          padding: 4px 8px;
          color: #111827;
        }
        .lc-note {
          margin-top: 16px;
          max-width: 1200px;
          font-size: 13px;
          line-height: 1.35;
          color: #374151;
        }

        .basics-grid { margin-top:8px; display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; }
        .col-card { background:#fff; border:1px solid #d1d5db; padding:12px; display:flex; flex-direction:column; min-height:560px; }
        .col-card label { color:#4b5563; font-size:13px; margin-top:8px; margin-bottom:4px; }
        .col-card input, .col-card select, .col-card textarea { width:100%; border:none; border-bottom:1px solid #6b7280; background:transparent; font-size:18px; padding:4px 0; color:#111827; outline:none; }
        .col-card textarea { border:1px solid #6b7280; min-height:160px; font-size:16px; padding:6px; }

        .switch-list { margin-top:8px; }
        .switch-row { display:flex; align-items:center; justify-content:space-between; padding:6px 0; font-size:16px; }
        .switch-row.inline-top { margin-top:8px; }
        .switch {
          position:relative;
          display:inline-block;
          width:58px;
          height:32px;
          flex-shrink:0;
        }
        .switch input { opacity:0; width:0; height:0; }
        .slider {
          position:absolute;
          cursor:pointer;
          top:0;
          left:0;
          right:0;
          bottom:0;
          background-color:#b0b7c3;
          transition:.2s;
          border-radius:999px;
        }
        .slider:before {
          position:absolute;
          content:'';
          height:24px;
          width:24px;
          left:4px;
          top:4px;
          background:white;
          transition:.2s;
          border-radius:50%;
        }
        .switch input:checked + .slider { background:#16a34a; }
        .switch input:checked + .slider:before { transform:translateX(26px); }

        .bottom-line { margin-top:10px; font-size:14px; color:#374151; display:flex; gap:22px; }
        .bottom-line .neg { color:#dc2626; }
        .bottom-line .pos { color:#15803d; }

        .modal-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.35);
          z-index: 120;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .modal-card {
          width: 380px;
          max-width: calc(100vw - 32px);
          border-radius: 8px;
          background: #fff;
          padding: 16px;
          border: 1px solid #d1d5db;
          box-shadow: 0 12px 30px rgba(0,0,0,0.25);
          display: flex;
          flex-direction: column;
          gap: 6px;
        }
        .modal-card h4 { margin: 0 0 6px; font-size: 18px; }
        .modal-card label { font-size: 13px; color: #4b5563; }
        .modal-card input, .modal-card select {
          border: 1px solid #cbd5e1;
          border-radius: 4px;
          padding: 8px 10px;
          font-size: 14px;
          color: #111827;
        }
        .modal-actions {
          margin-top: 8px;
          display: flex;
          justify-content: flex-end;
          gap: 8px;
        }

        @media (max-width: 1300px) {
          .basics-grid { grid-template-columns:1fr; }
          .top-panel { flex-direction:column; gap:12px; }
          .top-right { text-align:left; }
          .player-card { max-width: 100%; }
          .player-card-head { flex-direction: column; align-items: flex-start; }
          .creds-row { grid-template-columns: 90px 1fr 32px; }
          .limits-box { grid-template-columns: 1fr; }
          .top-actions { display: none; }
          .mobile-only { display: flex; margin-top: 8px; }
          .tx-controls { grid-template-columns: 1fr 1fr; }
          .tx-stat b { font-size: 20px; }
          .freeplay-controls { grid-template-columns: 1fr 1fr; }
          .freeplay-bottom-row { grid-template-columns: 1fr; }
          .freeplay-inputs { min-width: 0; grid-template-columns: 1fr; }
          .performance-grid { grid-template-columns: 1fr; }
          .perf-left { max-height: 300px; }
          .perf-title-row { font-size: 20px; }
          .perf-title-row b { font-size: 24px; }
          .dynamic-live-grid { grid-template-columns: 1fr; }
          .dl-col input { font-size: 20px; }
          .dl-col-toggles .switch-row { font-size: 18px; }
          .live-casino-grid { grid-template-columns: 1fr 1fr; max-width: none; }
          .lc-col-head, .lc-label, .live-casino-grid input { font-size: 18px; }
          .lc-note { font-size: 14px; }
        }
      `})]}):e.jsx("div",{className:"admin-view",children:e.jsx("div",{className:"view-content",children:"User not found."})})}class S0 extends ys.Component{constructor(r){super(r),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,c){console.error("Uncaught error:",r,c),this.setState({error:r,errorInfo:c})}render(){return this.state.hasError?e.jsxs("div",{className:"error-boundary p-4 bg-red-100 border border-red-400 text-red-700 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Something went wrong."}),e.jsx("span",{className:"block sm:inline",children:" The view could not be loaded."}),e.jsx("br",{}),e.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),e.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),e.jsx("button",{className:"mt-2 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",onClick:()=>this.setState({hasError:!1}),children:"Try Again"})]}):this.props.children}}const k0=["dashboard","weekly-figures","customer-admin","add-customer","cashier","settings","profile"];function rd({onExit:l,role:r="admin"}){const[c,d]=u.useState("dashboard"),[h,p]=u.useState(!1),[y,N]=u.useState(null),[g,x]=u.useState("tiles"),[b,f]=u.useState(window.innerWidth<=768),[v,A]=u.useState(null),[E,D]=u.useState(r),[R,w]=u.useState(!1);u.useEffect(()=>{(async()=>{try{const S=localStorage.getItem("token");if(S){const $=await Ks(S);$&&($.dashboardLayout&&x($.dashboardLayout),A($.permissions||null),$.role&&D($.role))}}catch(S){console.error("Failed to fetch layout pref",S)}})()},[]),u.useEffect(()=>{const j=()=>{f(window.innerWidth<=768)};return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const z=(j,S=null)=>{ri(E,v,j)&&(d(j),S&&N(S),p(!1))};u.useEffect(()=>{if(!ri(E,v,c)){const j=k0.find(S=>ri(E,v,S))||"dashboard";d(j)}},[c,v,E]);const L=()=>{l()},C=()=>{switch(c){case"dashboard":return e.jsx(zf,{onMenuClick:z,onOpenScoreboard:()=>w(!0),role:E,layoutPref:g,isMobile:b,permissions:v});case"user-details":return e.jsx(w0,{userId:y,onBack:()=>d("customer-admin"),role:E});case"weekly-figures":return e.jsx(Hv,{});case"pending":return e.jsx(qv,{});case"messaging":return e.jsx(Gv,{});case"game-admin":return e.jsx(Wv,{});case"customer-admin":return e.jsx(Yv,{onViewChange:z});case"cashier":return e.jsx(Jv,{});case"add-customer":return e.jsx(e0,{});case"third-party-limits":return e.jsx(t0,{});case"props":return e.jsx(a0,{});case"agent-performance":return e.jsx(s0,{});case"analysis":return e.jsx(n0,{});case"ip-tracker":return e.jsx(l0,{canManage:Fv(E,v)});case"transactions-history":return e.jsx(i0,{});case"collections":return e.jsx(r0,{});case"deleted-wagers":return e.jsx(o0,{});case"games-events":return e.jsx(c0,{});case"sportsbook-links":return e.jsx(d0,{});case"bet-ticker":return e.jsx(u0,{});case"ticketwriter":return e.jsx(h0,{});case"scores":return e.jsx(m0,{});case"agent-admin":return e.jsx(Gf,{});case"agent-manager":return e.jsx(f0,{});case"master-agent-admin":return e.jsx(Gf,{});case"billing":return e.jsx(p0,{});case"settings":return e.jsx(g0,{});case"profile":return e.jsx(N0,{});case"rules":return e.jsx(x0,{});case"feedback":return e.jsx(b0,{});case"faq":return e.jsx(y0,{});case"user-manual":return e.jsx(j0,{});case"monitor":return e.jsx(v0,{});default:return e.jsx(zf,{onMenuClick:z,onOpenScoreboard:()=>w(!0),role:E,permissions:v})}};return e.jsxs("div",{className:"admin-panel",children:[e.jsx($v,{onMenuToggle:()=>p(!h),onLogout:L,onViewChange:z,role:E}),e.jsxs("div",{className:"admin-container",children:[e.jsx(Iv,{activeView:c,onViewChange:z,onOpenScoreboard:()=>w(!0),isOpen:h,role:E,permissions:v}),e.jsx("div",{className:"admin-content",children:e.jsx(S0,{children:C()})})]}),R&&e.jsx(_p,{onClose:()=>w(!1)})]})}const C0=({onLogin:l,isLoggedIn:r})=>{const[c,d]=u.useState({username:"",password:""}),[h,p]=u.useState(""),[y,N]=u.useState("all");return e.jsxs("div",{className:"landing-page",children:[e.jsx(Qj,{onLogin:l,isLoggedIn:r}),e.jsx(Jj,{activeLeague:y,onSelectLeague:N}),e.jsx(Zj,{}),e.jsxs("div",{className:"banner-content-centered",children:[e.jsx("img",{src:"/bgremlogo.png",alt:"betterbet365",className:"banner-logo"}),e.jsx("div",{className:"banner-divider"}),e.jsx("p",{className:"banner-tagline",children:"THE PREMIUM CHOICE FOR WINNERS"})]}),e.jsx("footer",{className:"main-footer",children:e.jsxs("div",{className:"footer-content",children:[e.jsxs("div",{className:"footer-left",children:[e.jsx("img",{src:"/bgremlogo.png",alt:"Logo",className:"footer-logo"}),e.jsx("p",{className:"copyright",children:" 2026 betterbet365 | All Rights Reserved"})]}),e.jsxs("div",{className:"footer-right",children:[e.jsx("span",{children:"RESPONSIBLE GAMING"}),e.jsx("span",{children:"TERMS & CONDITIONS"}),e.jsx("span",{children:"PRIVACY POLICY"})]})]})})]})},Yf={straight:{minLegs:1,maxLegs:1,teaserPointOptions:[],payoutProfile:{multipliers:{}}},parlay:{minLegs:2,maxLegs:12,teaserPointOptions:[],payoutProfile:{multipliers:{}}},teaser:{minLegs:2,maxLegs:6,teaserPointOptions:[6,6.5,7],payoutProfile:{multipliers:{2:1.8,3:2.6,4:4,5:6.5,6:9.5}}},if_bet:{minLegs:2,maxLegs:2,teaserPointOptions:[],payoutProfile:{multipliers:{}}},reverse:{minLegs:2,maxLegs:2,teaserPointOptions:[],payoutProfile:{multipliers:{}}}},Vf=[{id:"straight",label:"STRAIGHT",icon:"S"},{id:"parlay",label:"PARLAY",icon:"P"},{id:"teaser",label:"TEASER",icon:"T"},{id:"if_bet",label:"IF BET",icon:"I"},{id:"reverse",label:"REVERSE",icon:"R"}],Br=l=>{const r=Number(l);return Number.isFinite(r)?r.toFixed(2):"0.00"},A0=(l,r)=>{const c=l?.payoutProfile?.multipliers?.[String(r)],d=Number(c);return Number.isFinite(d)&&d>0?d:1},E0=({user:l,balance:r=0,mode:c,onModeChange:d,selections:h,onSelectionsChange:p,wager:y,onWagerChange:N,teaserPoints:g,onTeaserPointsChange:x,rulesByMode:b,onBetPlaced:f})=>{const[v,A]=u.useState(null),[E,D]=u.useState(!1),[R,w]=u.useState(!1),[z,L]=u.useState(!1);u.useEffect(()=>{const _=window.matchMedia("(max-width: 768px)"),Q=()=>w(_.matches);return Q(),_.addEventListener("change",Q),()=>_.removeEventListener("change",Q)},[]);const C=Js(c),j=b[C]||Yf[C]||Yf.straight,S=h.length,$=Number(y),V=Number(g||0),B=C!=="teaser"||!Array.isArray(j.teaserPointOptions)||j.teaserPointOptions.length===0||j.teaserPointOptions.includes(V),oe=u.useMemo(()=>{const _=[];return(S<j.minLegs||S>j.maxLegs)&&_.push(`${Vf.find(Q=>Q.id===C)?.label||"MODE"} requires ${j.minLegs===j.maxLegs?j.minLegs:`${j.minLegs}-${j.maxLegs}`} selections`),(!Number.isFinite($)||$<=0)&&_.push("Enter a valid wager amount"),B||_.push(`Select teaser points: ${j.teaserPointOptions.join(", ")}`),h.every(Q=>Number.isFinite(Number(Q.odds))&&Number(Q.odds)>0)||_.push("One or more selections have invalid odds"),_},[S,C,j,h,$,B]),F=u.useMemo(()=>{if(!Number.isFinite($)||$<=0||S===0)return 0;if(C==="straight")return $*Number(h[0]?.odds||0);if(C==="parlay"){const _=h.reduce((Q,se)=>Q*Number(se.odds||1),1);return $*_}if(C==="teaser")return $*A0(j,S);if(C==="if_bet"||C==="reverse"){const _=h.slice(0,2).reduce((Q,se)=>Q*Number(se.odds||1),1);return $*_}return 0},[$,S,C,h,j]),k=C==="reverse"?$*2:$,I=oe.length===0&&!E,M=S>0,[ae,H]=u.useState(M);u.useEffect(()=>{M&&H(!0)},[M]);const G=_=>{p(h.filter(Q=>Q.id!==_))},ie=()=>{p([]),N(""),A(null),L(!1)},je=async()=>{const _=localStorage.getItem("token");if(!_){L(!0),A({type:"error",text:"Please login to place bets"});return}if(L(!0),!I)return;const Q={type:C,amount:$,teaserPoints:C==="teaser"?V:0};if(C==="straight"){const se=h[0];Q.matchId=se.matchId,Q.selection=se.selection,Q.odds=Number(se.odds),Q.type=C}else Q.selections=h.map(se=>({matchId:se.matchId,selection:se.selection,odds:Number(se.odds),type:se.marketType||"straight"}));try{D(!0);const se=await Dy(Q,_);A({type:"success",text:se?.message||"Bet placed successfully"}),ie(),window.dispatchEvent(new Event("user:refresh")),f&&f()}catch(se){A({type:"error",text:se.message||"Failed to place bet"})}finally{D(!1)}},K=R?{position:"fixed",left:0,right:0,bottom:0,maxHeight:"62vh",zIndex:1200,borderTopLeftRadius:16,borderTopRightRadius:16}:{position:"fixed",right:16,top:150,width:360,maxHeight:"calc(100vh - 170px)",zIndex:1200,borderRadius:14};return ae?e.jsxs("div",{style:{...K,display:"flex",flexDirection:"column",background:"#f8f9fb",border:"1px solid #d9dbe0",overflow:"hidden",boxShadow:"0 8px 24px rgba(0,0,0,0.18)"},children:[e.jsx("div",{style:{background:"#0f5db3",color:"white",padding:"10px 12px"},children:e.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[Vf.map(_=>e.jsxs("button",{onClick:()=>d(_.id),style:{flex:1,border:"none",borderRadius:6,padding:"7px 4px",fontSize:11,fontWeight:700,color:Js(c)===_.id?"#0f5db3":"#ffffff",background:Js(c)===_.id?"#ffffff":"rgba(255,255,255,0.18)",cursor:"pointer"},children:[_.icon," ",_.label]},_.id)),e.jsx("button",{onClick:()=>H(!1),title:"Minimize",style:{border:"none",background:"rgba(255,255,255,0.2)",color:"#fff",borderRadius:6,width:34,height:34,cursor:"pointer",flexShrink:0},children:e.jsx("i",{className:"fa-solid fa-minus"})})]})}),e.jsxs("div",{style:{padding:12,overflowY:"auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsxs("strong",{children:["Selections (",S,")"]}),e.jsx("button",{onClick:ie,style:{border:"none",background:"transparent",color:"#666",cursor:"pointer"},children:"Clear"})]}),S===0&&e.jsx("div",{style:{fontSize:13,color:"#666",padding:"8px 0"},children:"Click odds from the board to add selections."}),h.map(_=>e.jsxs("div",{style:{border:"1px solid #d7dbe3",borderRadius:8,padding:8,marginBottom:8,background:"#fff"},children:[e.jsx("div",{style:{fontSize:12,color:"#555"},children:_.matchName}),e.jsx("div",{style:{fontSize:13,fontWeight:700},children:_.selection}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:4,fontSize:12},children:[e.jsx("span",{children:_.marketLabel}),e.jsx("span",{children:Br(_.odds)})]}),e.jsx("div",{style:{marginTop:6},children:e.jsx("button",{onClick:()=>G(_.id),style:{border:"none",background:"#f2f3f6",color:"#444",borderRadius:5,padding:"3px 8px",cursor:"pointer",fontSize:11},children:"Remove"})})]},_.id)),e.jsxs("div",{style:{marginTop:10},children:[e.jsx("label",{style:{display:"block",fontSize:12,marginBottom:4},children:"Stake"}),e.jsx("input",{type:"number",min:"0",value:y,onChange:_=>N(_.target.value),placeholder:"0.00",style:{width:"100%",padding:10,borderRadius:8,border:"1px solid #cfd4dd"}}),e.jsxs("div",{style:{fontSize:11,color:"#666",marginTop:4},children:["Balance: $",Br(r)]})]}),C==="teaser"&&Array.isArray(j.teaserPointOptions)&&j.teaserPointOptions.length>0&&e.jsxs("div",{style:{marginTop:10},children:[e.jsx("label",{style:{display:"block",fontSize:12,marginBottom:4},children:"Teaser Points"}),e.jsxs("select",{value:g,onChange:_=>x(_.target.value),style:{width:"100%",padding:10,borderRadius:8,border:"1px solid #cfd4dd"},children:[e.jsx("option",{value:"",children:"Select points"}),j.teaserPointOptions.map(_=>e.jsx("option",{value:_,children:_},_))]})]}),e.jsxs("div",{style:{marginTop:10,padding:10,borderRadius:8,background:"#eef3fa",fontSize:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Total Risk"}),e.jsxs("strong",{children:["$",Br(k)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:6},children:[e.jsx("span",{children:"Potential Payout"}),e.jsxs("strong",{children:["$",Br(F)]})]})]}),oe.map(_=>z?e.jsx("div",{style:{color:"#a11",fontSize:12,marginTop:7},children:_},_):null).filter(Boolean),v&&e.jsx("div",{style:{color:v.type==="error"?"#a11":"#0b6623",fontSize:12,marginTop:7},children:v.text}),e.jsx("button",{onClick:je,disabled:!I,style:{width:"100%",marginTop:12,border:"none",borderRadius:8,padding:"12px 10px",fontWeight:800,color:"white",background:I?"#0f5db3":"#9ca5b3",cursor:I?"pointer":"not-allowed"},children:E?"Placing...":"Place Bet"})]})]}):e.jsx("button",{onClick:()=>H(!0),title:"Open Bet Panel",style:{position:"fixed",right:18,bottom:18,width:58,height:58,borderRadius:"50%",border:"none",background:"#0f5db3",color:"#fff",zIndex:1200,boxShadow:"0 8px 20px rgba(0,0,0,0.28)",cursor:"pointer",fontSize:22,fontWeight:900},children:e.jsx("i",{className:"fa-solid fa-ticket"})})},T0={straight:{minLegs:1,maxLegs:1,teaserPointOptions:[],payoutProfile:{multipliers:{}}},parlay:{minLegs:2,maxLegs:12,teaserPointOptions:[],payoutProfile:{multipliers:{}}},teaser:{minLegs:2,maxLegs:6,teaserPointOptions:[6,6.5,7],payoutProfile:{multipliers:{2:1.8,3:2.6,4:4,5:6.5,6:9.5}}},if_bet:{minLegs:2,maxLegs:2,teaserPointOptions:[],payoutProfile:{multipliers:{}}},reverse:{minLegs:2,maxLegs:2,teaserPointOptions:[],payoutProfile:{multipliers:{}}}};function L0(){const l=yd(),[r,c]=u.useState(localStorage.getItem("token")||null),[d,h]=u.useState(!!r),[p,y]=u.useState("all"),[N,g]=u.useState("dashboard"),[x,b]=u.useState([]),[f,v]=u.useState("straight"),[A,E]=u.useState([]),[D,R]=u.useState(""),[w,z]=u.useState(""),[L,C]=u.useState(T0),[j,S]=u.useState(!1),[$,V]=u.useState(!1),[B,oe]=u.useState(!1),F=typeof window<"u"&&window.matchMedia&&window.matchMedia("(max-width: 768px)").matches,[k,I]=u.useState(null);u.useEffect(()=>{window.dispatchEvent(new CustomEvent("matches:refresh")),r?(h(!0),document.body.classList.add("dashboard-mode"),M(r)):(h(!1),document.body.classList.remove("dashboard-mode"))},[r]),u.useEffect(()=>{(async()=>{if(r)try{const J=((await By(r))?.rules||[]).reduce((Z,P)=>(Z[Js(P.mode)]=P,Z),{});Object.keys(J).length>0&&C(Z=>({...Z,...J}))}catch(se){console.warn("Failed to load bet mode rules:",se.message)}})()},[r]),u.useEffect(()=>{const Q=se=>{const J=se.detail||{};if(!J.matchId||!J.selection)return;const Z=Js(f),P=`${J.matchId}-${J.marketType}-${J.selection}`;E(q=>{if(q.find(ve=>ve.dedupeKey===P))return q;const me=[...q,{...J,id:Date.now()+Math.random(),dedupeKey:P}];return Z==="straight"?[me[me.length-1]]:me})};return window.addEventListener("betslip:add",Q),()=>window.removeEventListener("betslip:add",Q)},[f]),u.useEffect(()=>{if(k&&(k.role==="admin"||k.role==="agent"||k.role==="super_agent"||k.role==="master_agent")){const Q=k.role==="admin"?"/admin/dashboard":k.role==="super_agent"||k.role==="master_agent"?"/super_agent/dashboard":"/agent/dashboard";l(Q,{replace:!0})}},[k,l]),u.useEffect(()=>{const Q=()=>{r&&M(r)};return window.addEventListener("user:refresh",Q),()=>{window.removeEventListener("user:refresh",Q)}},[r]);const M=async Q=>{try{const se=await Ks(Q);I(se)}catch(se){console.error("Failed to fetch user data",se),(se?.status===401||se?.status===403)&&H()}},ae=async(Q,se)=>{try{const J=await Ty(Q,se);if(c(J.token),localStorage.setItem("token",J.token),sessionStorage.setItem("token",J.token),localStorage.setItem("userRole",J.role),I({username:J.username,phoneNumber:J.phoneNumber,balance:J.balance,pendingBalance:J.pendingBalance,availableBalance:J.availableBalance,id:J.id,role:J.role,unlimitedBalance:J.unlimitedBalance}),h(!0),document.body.classList.add("dashboard-mode"),J.role==="admin"||J.role==="agent"||J.role==="super_agent"||J.role==="master_agent"){const Z=J.role==="admin"?"admin":J.role==="super_agent"||J.role==="master_agent"?"super_agent":"agent";sessionStorage.setItem(`${Z}Authenticated`,"true"),sessionStorage.setItem(`${Z}Username`,J.username),l(`/${Z}/dashboard`)}}catch(J){throw J}},H=()=>{c(null),I(null),h(!1),E([]),R(""),z(""),localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("userRole"),document.body.classList.remove("dashboard-mode"),je()},G=Q=>{g(Q),S(!1)},ie=Q=>{const se=Js(Q);v(se),se==="straight"&&E(J=>J.length>0?[J[J.length-1]]:[])},je=()=>{g("dashboard"),b([]),y("all"),oe(!1),S(!1)},K=()=>{oe(!1)},_=Q=>{const se=new Set(["up-next","featured","commercial-live"]);b(J=>J.includes(Q)?J.filter(P=>P!==Q):se.has(Q)?[Q]:[...J.filter(P=>!se.has(P)),Q])};return e.jsx("div",{className:"app-container",children:d?e.jsxs("div",{className:"dashboard-layout",children:[e.jsx(iv,{username:k?.username||"Guest",balance:k?.balance??null,pendingBalance:k?.pendingBalance??null,availableBalance:k?.availableBalance??k?.balance??null,role:k?.role,unlimitedBalance:k?.unlimitedBalance,onLogout:H,onViewChange:G,activeBetMode:f,onBetModeChange:ie,currentView:N,onToggleSidebar:()=>S(!j),selectedSports:x,onContinue:K,isMobileSportsSelectionMode:B,onHomeClick:je}),e.jsxs("div",{className:`dashboard-content-area ${B?"mobile-sports-mode":""}`,style:{position:"relative",marginTop:"0"},children:[j&&e.jsx(Lv,{onClose:()=>S(!1),onViewChange:G}),N==="dashboard"&&e.jsx(e.Fragment,{children:F&&B?e.jsx(Tf,{selectedSports:x,onToggleSport:_,betMode:f,isOpen:!0,onCloseSidebar:()=>S(!1),isMobileSportsSelectionMode:B}):F&&x&&x.length>0?e.jsx(Mv,{selectedSports:x}):e.jsxs(e.Fragment,{children:[e.jsx(Tf,{selectedSports:x,onToggleSport:_,betMode:f,isOpen:j,onCloseSidebar:()=>S(!1),isMobileSportsSelectionMode:B}),e.jsxs("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column"},children:[$&&e.jsx(_v,{}),e.jsx("div",{style:{flex:1},children:e.jsx(uv,{selectedSports:x,activeBetMode:f})})]})]})}),N==="prime-live"&&e.jsx(hv,{}),N==="ultra-live"&&e.jsx(xv,{}),N==="casino"&&e.jsx(bv,{}),N==="live-casino"&&e.jsx("div",{style:{flex:1,backgroundColor:"#505050",minHeight:"calc(100vh - 125px)"},children:e.jsx(vv,{})}),N==="props"&&e.jsx(Nv,{}),N==="rules"&&e.jsx(Cv,{}),N==="bonus"&&e.jsx(Tv,{}),N==="tutorials"&&e.jsx(Rv,{}),N==="support"&&e.jsx(Ov,{}),N==="my-bets"&&e.jsx(zv,{})]}),e.jsx(Uv,{}),e.jsx("div",{className:"desktop-feedback-trigger",style:{position:"fixed",bottom:"0",left:"0",width:"260px",background:"#004d26",color:"white",padding:"10px",textAlign:"center",fontWeight:"bold",fontSize:"12px",zIndex:100},children:"FEEDBACK"}),d&&k&&k.role==="user"&&e.jsx(E0,{user:k,balance:k.availableBalance??k.balance,mode:f,onModeChange:ie,selections:A,onSelectionsChange:E,wager:D,onWagerChange:R,teaserPoints:w,onTeaserPointsChange:z,rulesByMode:L,onBetPlaced:()=>M(r)}),e.jsx("div",{style:{position:"fixed",bottom:"40px",left:"20px",width:"50px",height:"50px",background:"#a30000",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",zIndex:21,boxShadow:"0 2px 5px rgba(0,0,0,0.3)",border:"2px solid white"},children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"})})})]}):e.jsx(C0,{onLogin:ae,isLoggedIn:d})})}const M0=({children:l})=>sessionStorage.getItem("adminAuthenticated")==="true"?l:e.jsx(vn,{to:"/admin",replace:!0}),_0=({children:l})=>sessionStorage.getItem("agentAuthenticated")==="true"?l:e.jsx(vn,{to:"/",replace:!0}),D0=({children:l})=>sessionStorage.getItem("super_agentAuthenticated")==="true"?l:e.jsx(vn,{to:"/",replace:!0});Xx.createRoot(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(xy,{children:e.jsxs(Yb,{children:[e.jsx(xs,{path:"/",element:e.jsx(L0,{})}),e.jsx(xs,{path:"/admin",element:e.jsx(vn,{to:"/",replace:!0})}),e.jsx(xs,{path:"/agent",element:e.jsx(vn,{to:"/",replace:!0})}),e.jsx(xs,{path:"/super_agent",element:e.jsx(vn,{to:"/",replace:!0})}),e.jsx(xs,{path:"/admin/dashboard",element:e.jsx(M0,{children:e.jsx(rd,{role:"admin",onExit:()=>{sessionStorage.removeItem("adminAuthenticated"),sessionStorage.removeItem("adminUsername"),localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("userRole"),window.location.href="/"}})})}),e.jsx(xs,{path:"/agent/dashboard",element:e.jsx(_0,{children:e.jsx(rd,{role:"agent",onExit:()=>{sessionStorage.removeItem("agentAuthenticated"),sessionStorage.removeItem("agentUsername"),localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("userRole"),window.location.href="/"}})})}),e.jsx(xs,{path:"/super_agent/dashboard",element:e.jsx(D0,{children:e.jsx(rd,{role:"super_agent",onExit:()=>{sessionStorage.removeItem("super_agentAuthenticated"),sessionStorage.removeItem("super_agentUsername"),localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("userRole"),window.location.href="/"}})})}),e.jsx(xs,{path:"*",element:e.jsx(vn,{to:"/",replace:!0})})]})})}));

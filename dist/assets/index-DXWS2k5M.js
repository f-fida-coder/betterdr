(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))d(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const b of p.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&d(b)}).observe(document,{childList:!0,subtree:!0});function c(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function d(h){if(h.ep)return;h.ep=!0;const p=c(h);fetch(h.href,p)}})();function Pg(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Vc={exports:{}},ti={};var rf;function Hg(){if(rf)return ti;rf=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function c(d,h,p){var b=null;if(p!==void 0&&(b=""+p),h.key!==void 0&&(b=""+h.key),"key"in h){p={};for(var w in h)w!=="key"&&(p[w]=h[w])}else p=h;return h=p.ref,{$$typeof:l,type:d,key:b,ref:h!==void 0?h:null,props:p}}return ti.Fragment=r,ti.jsx=c,ti.jsxs=c,ti}var of;function qg(){return of||(of=1,Vc.exports=Hg()),Vc.exports}var e=qg(),Qc={exports:{}},Be={};var cf;function Gg(){if(cf)return Be;cf=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),b=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),j=Symbol.iterator;function A(_){return _===null||typeof _!="object"?null:(_=j&&_[j]||_["@@iterator"],typeof _=="function"?_:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,R={};function S(_,Q,se){this.props=_,this.context=Q,this.refs=R,this.updater=se||N}S.prototype.isReactComponent={},S.prototype.setState=function(_,Q){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,Q,"setState")},S.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function z(){}z.prototype=S.prototype;function L(_,Q,se){this.props=_,this.context=Q,this.refs=R,this.updater=se||N}var E=L.prototype=new z;E.constructor=L,M(E,S.prototype),E.isPureReactComponent=!0;var y=Array.isArray;function k(){}var $={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function B(_,Q,se){var Z=se.ref;return{$$typeof:l,type:_,key:Q,ref:Z!==void 0?Z:null,props:se}}function ce(_,Q){return B(_.type,Q,_.props)}function F(_){return typeof _=="object"&&_!==null&&_.$$typeof===l}function C(_){var Q={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(se){return Q[se]})}var P=/\/+/g;function D(_,Q){return typeof _=="object"&&_!==null&&_.key!=null?C(""+_.key):Q.toString(36)}function ae(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(k,k):(_.status="pending",_.then(function(Q){_.status==="pending"&&(_.status="fulfilled",_.value=Q)},function(Q){_.status==="pending"&&(_.status="rejected",_.reason=Q)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function H(_,Q,se,Z,J){var I=typeof _;(I==="undefined"||I==="boolean")&&(_=null);var q=!1;if(_===null)q=!0;else switch(I){case"bigint":case"string":case"number":q=!0;break;case"object":switch(_.$$typeof){case l:case r:q=!0;break;case v:return q=_._init,H(q(_._payload),Q,se,Z,J)}}if(q)return J=J(_),q=Z===""?"."+D(_,0):Z,y(J)?(se="",q!=null&&(se=q.replace(P,"$&/")+"/"),H(J,Q,se,"",function(ve){return ve})):J!=null&&(F(J)&&(J=ce(J,se+(J.key==null||_&&_.key===J.key?"":(""+J.key).replace(P,"$&/")+"/")+q)),Q.push(J)),1;q=0;var ue=Z===""?".":Z+":";if(y(_))for(var me=0;me<_.length;me++)Z=_[me],I=ue+D(Z,me),q+=H(Z,Q,se,I,J);else if(me=A(_),typeof me=="function")for(_=me.call(_),me=0;!(Z=_.next()).done;)Z=Z.value,I=ue+D(Z,me++),q+=H(Z,Q,se,I,J);else if(I==="object"){if(typeof _.then=="function")return H(ae(_),Q,se,Z,J);throw Q=String(_),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return q}function G(_,Q,se){if(_==null)return _;var Z=[],J=0;return H(_,Z,"","",function(I){return Q.call(se,I,J++)}),Z}function ie(_){if(_._status===-1){var Q=_._result;Q=Q(),Q.then(function(se){(_._status===0||_._status===-1)&&(_._status=1,_._result=se)},function(se){(_._status===0||_._status===-1)&&(_._status=2,_._result=se)}),_._status===-1&&(_._status=0,_._result=Q)}if(_._status===1)return _._result.default;throw _._result}var ye=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},K={map:G,forEach:function(_,Q,se){G(_,function(){Q.apply(this,arguments)},se)},count:function(_){var Q=0;return G(_,function(){Q++}),Q},toArray:function(_){return G(_,function(Q){return Q})||[]},only:function(_){if(!F(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return Be.Activity=f,Be.Children=K,Be.Component=S,Be.Fragment=c,Be.Profiler=h,Be.PureComponent=L,Be.StrictMode=d,Be.Suspense=x,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Be.__COMPILER_RUNTIME={__proto__:null,c:function(_){return $.H.useMemoCache(_)}},Be.cache=function(_){return function(){return _.apply(null,arguments)}},Be.cacheSignal=function(){return null},Be.cloneElement=function(_,Q,se){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var Z=M({},_.props),J=_.key;if(Q!=null)for(I in Q.key!==void 0&&(J=""+Q.key),Q)!V.call(Q,I)||I==="key"||I==="__self"||I==="__source"||I==="ref"&&Q.ref===void 0||(Z[I]=Q[I]);var I=arguments.length-2;if(I===1)Z.children=se;else if(1<I){for(var q=Array(I),ue=0;ue<I;ue++)q[ue]=arguments[ue+2];Z.children=q}return B(_.type,J,Z)},Be.createContext=function(_){return _={$$typeof:b,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:p,_context:_},_},Be.createElement=function(_,Q,se){var Z,J={},I=null;if(Q!=null)for(Z in Q.key!==void 0&&(I=""+Q.key),Q)V.call(Q,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(J[Z]=Q[Z]);var q=arguments.length-2;if(q===1)J.children=se;else if(1<q){for(var ue=Array(q),me=0;me<q;me++)ue[me]=arguments[me+2];J.children=ue}if(_&&_.defaultProps)for(Z in q=_.defaultProps,q)J[Z]===void 0&&(J[Z]=q[Z]);return B(_,I,J)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(_){return{$$typeof:w,render:_}},Be.isValidElement=F,Be.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:ie}},Be.memo=function(_,Q){return{$$typeof:g,type:_,compare:Q===void 0?null:Q}},Be.startTransition=function(_){var Q=$.T,se={};$.T=se;try{var Z=_(),J=$.S;J!==null&&J(se,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(k,ye)}catch(I){ye(I)}finally{Q!==null&&se.types!==null&&(Q.types=se.types),$.T=Q}},Be.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Be.use=function(_){return $.H.use(_)},Be.useActionState=function(_,Q,se){return $.H.useActionState(_,Q,se)},Be.useCallback=function(_,Q){return $.H.useCallback(_,Q)},Be.useContext=function(_){return $.H.useContext(_)},Be.useDebugValue=function(){},Be.useDeferredValue=function(_,Q){return $.H.useDeferredValue(_,Q)},Be.useEffect=function(_,Q){return $.H.useEffect(_,Q)},Be.useEffectEvent=function(_){return $.H.useEffectEvent(_)},Be.useId=function(){return $.H.useId()},Be.useImperativeHandle=function(_,Q,se){return $.H.useImperativeHandle(_,Q,se)},Be.useInsertionEffect=function(_,Q){return $.H.useInsertionEffect(_,Q)},Be.useLayoutEffect=function(_,Q){return $.H.useLayoutEffect(_,Q)},Be.useMemo=function(_,Q){return $.H.useMemo(_,Q)},Be.useOptimistic=function(_,Q){return $.H.useOptimistic(_,Q)},Be.useReducer=function(_,Q,se){return $.H.useReducer(_,Q,se)},Be.useRef=function(_){return $.H.useRef(_)},Be.useState=function(_){return $.H.useState(_)},Be.useSyncExternalStore=function(_,Q,se){return $.H.useSyncExternalStore(_,Q,se)},Be.useTransition=function(){return $.H.useTransition()},Be.version="19.2.4",Be}var df;function pd(){return df||(df=1,Qc.exports=Gg()),Qc.exports}var u=pd();const ys=Pg(u);var Xc={exports:{}},ai={},Zc={exports:{}},Jc={};var uf;function Wg(){return uf||(uf=1,(function(l){function r(H,G){var ie=H.length;H.push(G);e:for(;0<ie;){var ye=ie-1>>>1,K=H[ye];if(0<h(K,G))H[ye]=G,H[ie]=K,ie=ye;else break e}}function c(H){return H.length===0?null:H[0]}function d(H){if(H.length===0)return null;var G=H[0],ie=H.pop();if(ie!==G){H[0]=ie;e:for(var ye=0,K=H.length,_=K>>>1;ye<_;){var Q=2*(ye+1)-1,se=H[Q],Z=Q+1,J=H[Z];if(0>h(se,ie))Z<K&&0>h(J,se)?(H[ye]=J,H[Z]=ie,ye=Z):(H[ye]=se,H[Q]=ie,ye=Q);else if(Z<K&&0>h(J,ie))H[ye]=J,H[Z]=ie,ye=Z;else break e}}return G}function h(H,G){var ie=H.sortIndex-G.sortIndex;return ie!==0?ie:H.id-G.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;l.unstable_now=function(){return p.now()}}else{var b=Date,w=b.now();l.unstable_now=function(){return b.now()-w}}var x=[],g=[],v=1,f=null,j=3,A=!1,N=!1,M=!1,R=!1,S=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function E(H){for(var G=c(g);G!==null;){if(G.callback===null)d(g);else if(G.startTime<=H)d(g),G.sortIndex=G.expirationTime,r(x,G);else break;G=c(g)}}function y(H){if(M=!1,E(H),!N)if(c(x)!==null)N=!0,k||(k=!0,C());else{var G=c(g);G!==null&&ae(y,G.startTime-H)}}var k=!1,$=-1,V=5,B=-1;function ce(){return R?!0:!(l.unstable_now()-B<V)}function F(){if(R=!1,k){var H=l.unstable_now();B=H;var G=!0;try{e:{N=!1,M&&(M=!1,z($),$=-1),A=!0;var ie=j;try{t:{for(E(H),f=c(x);f!==null&&!(f.expirationTime>H&&ce());){var ye=f.callback;if(typeof ye=="function"){f.callback=null,j=f.priorityLevel;var K=ye(f.expirationTime<=H);if(H=l.unstable_now(),typeof K=="function"){f.callback=K,E(H),G=!0;break t}f===c(x)&&d(x),E(H)}else d(x);f=c(x)}if(f!==null)G=!0;else{var _=c(g);_!==null&&ae(y,_.startTime-H),G=!1}}break e}finally{f=null,j=ie,A=!1}G=void 0}}finally{G?C():k=!1}}}var C;if(typeof L=="function")C=function(){L(F)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,D=P.port2;P.port1.onmessage=F,C=function(){D.postMessage(null)}}else C=function(){S(F,0)};function ae(H,G){$=S(function(){H(l.unstable_now())},G)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(H){H.callback=null},l.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<H?Math.floor(1e3/H):5},l.unstable_getCurrentPriorityLevel=function(){return j},l.unstable_next=function(H){switch(j){case 1:case 2:case 3:var G=3;break;default:G=j}var ie=j;j=G;try{return H()}finally{j=ie}},l.unstable_requestPaint=function(){R=!0},l.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=j;j=H;try{return G()}finally{j=ie}},l.unstable_scheduleCallback=function(H,G,ie){var ye=l.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ye+ie:ye):ie=ye,H){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ie+K,H={id:v++,callback:G,priorityLevel:H,startTime:ie,expirationTime:K,sortIndex:-1},ie>ye?(H.sortIndex=ie,r(g,H),c(x)===null&&H===c(g)&&(M?(z($),$=-1):M=!0,ae(y,ie-ye))):(H.sortIndex=K,r(x,H),N||A||(N=!0,k||(k=!0,C()))),H},l.unstable_shouldYield=ce,l.unstable_wrapCallback=function(H){var G=j;return function(){var ie=j;j=G;try{return H.apply(this,arguments)}finally{j=ie}}}})(Jc)),Jc}var hf;function Yg(){return hf||(hf=1,Zc.exports=Wg()),Zc.exports}var Kc={exports:{}},zt={};var mf;function Vg(){if(mf)return zt;mf=1;var l=pd();function r(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var d={d:{f:c,r:function(){throw Error(r(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},h=Symbol.for("react.portal");function p(x,g,v){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:f==null?null:""+f,children:x,containerInfo:g,implementation:v}}var b=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function w(x,g){if(x==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,zt.createPortal=function(x,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(r(299));return p(x,g,null,v)},zt.flushSync=function(x){var g=b.T,v=d.p;try{if(b.T=null,d.p=2,x)return x()}finally{b.T=g,d.p=v,d.d.f()}},zt.preconnect=function(x,g){typeof x=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,d.d.C(x,g))},zt.prefetchDNS=function(x){typeof x=="string"&&d.d.D(x)},zt.preinit=function(x,g){if(typeof x=="string"&&g&&typeof g.as=="string"){var v=g.as,f=w(v,g.crossOrigin),j=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?d.d.S(x,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:f,integrity:j,fetchPriority:A}):v==="script"&&d.d.X(x,{crossOrigin:f,integrity:j,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},zt.preinitModule=function(x,g){if(typeof x=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=w(g.as,g.crossOrigin);d.d.M(x,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&d.d.M(x)},zt.preload=function(x,g){if(typeof x=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,f=w(v,g.crossOrigin);d.d.L(x,v,{crossOrigin:f,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},zt.preloadModule=function(x,g){if(typeof x=="string")if(g){var v=w(g.as,g.crossOrigin);d.d.m(x,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else d.d.m(x)},zt.requestFormReset=function(x){d.d.r(x)},zt.unstable_batchedUpdates=function(x,g){return x(g)},zt.useFormState=function(x,g,v){return b.H.useFormState(x,g,v)},zt.useFormStatus=function(){return b.H.useHostTransitionStatus()},zt.version="19.2.4",zt}var ff;function Qf(){if(ff)return Kc.exports;ff=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),Kc.exports=Vg(),Kc.exports}var pf;function Qg(){if(pf)return ai;pf=1;var l=Yg(),r=pd(),c=Qf();function d(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function b(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function w(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function x(t){if(p(t)!==t)throw Error(d(188))}function g(t){var a=t.alternate;if(!a){if(a=p(t),a===null)throw Error(d(188));return a!==t?null:t}for(var s=t,n=a;;){var i=s.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){s=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===s)return x(i),t;if(o===n)return x(i),a;o=o.sibling}throw Error(d(188))}if(s.return!==n.return)s=i,n=o;else{for(var m=!1,T=i.child;T;){if(T===s){m=!0,s=i,n=o;break}if(T===n){m=!0,n=i,s=o;break}T=T.sibling}if(!m){for(T=o.child;T;){if(T===s){m=!0,s=o,n=i;break}if(T===n){m=!0,n=o,s=i;break}T=T.sibling}if(!m)throw Error(d(189))}}if(s.alternate!==n)throw Error(d(190))}if(s.tag!==3)throw Error(d(188));return s.stateNode.current===s?t:a}function v(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=v(t),a!==null)return a;t=t.sibling}return null}var f=Object.assign,j=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),L=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function C(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var P=Symbol.for("react.client.reference");function D(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===P?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case S:return"Profiler";case R:return"StrictMode";case y:return"Suspense";case k:return"SuspenseList";case B:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case L:return t.displayName||"Context";case z:return(t._context.displayName||"Context")+".Consumer";case E:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return a=t.displayName||null,a!==null?a:D(t.type)||"Memo";case V:a=t._payload,t=t._init;try{return D(t(a))}catch{}}return null}var ae=Array.isArray,H=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ye=[],K=-1;function _(t){return{current:t}}function Q(t){0>K||(t.current=ye[K],ye[K]=null,K--)}function se(t,a){K++,ye[K]=t.current,t.current=a}var Z=_(null),J=_(null),I=_(null),q=_(null);function ue(t,a){switch(se(I,a),se(J,t),se(Z,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?Tm(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=Tm(a),t=Lm(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(Z),se(Z,t)}function me(){Q(Z),Q(J),Q(I)}function ve(t){t.memoizedState!==null&&se(q,t);var a=Z.current,s=Lm(a,t.type);a!==s&&(se(J,t),se(Z,s))}function we(t){J.current===t&&(Q(Z),Q(J)),q.current===t&&(Q(q),Zl._currentValue=ie)}var Ce,Le;function Re(t){if(Ce===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Ce=a&&a[1]||"",Le=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+t+Le}var at=!1;function Je(t,a){if(!t||at)return"";at=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(a){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(de){var oe=de}Reflect.construct(t,[],xe)}else{try{xe.call()}catch(de){oe=de}t.call(xe.prototype)}}else{try{throw Error()}catch(de){oe=de}(xe=t())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(de){if(de&&oe&&typeof de.stack=="string")return[de.stack,oe.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=n.DetermineComponentFrameRoot(),m=o[0],T=o[1];if(m&&T){var W=m.split(`
`),le=T.split(`
`);for(i=n=0;n<W.length&&!W[n].includes("DetermineComponentFrameRoot");)n++;for(;i<le.length&&!le[i].includes("DetermineComponentFrameRoot");)i++;if(n===W.length||i===le.length)for(n=W.length-1,i=le.length-1;1<=n&&0<=i&&W[n]!==le[i];)i--;for(;1<=n&&0<=i;n--,i--)if(W[n]!==le[i]){if(n!==1||i!==1)do if(n--,i--,0>i||W[n]!==le[i]){var he=`
`+W[n].replace(" at new "," at ");return t.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",t.displayName)),he}while(1<=n&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Re(s):""}function mt(t,a){switch(t.tag){case 26:case 27:case 5:return Re(t.type);case 16:return Re("Lazy");case 13:return t.child!==a&&a!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return Je(t.type,!1);case 11:return Je(t.type.render,!1);case 1:return Je(t.type,!0);case 31:return Re("Activity");default:return""}}function vt(t){try{var a="",s=null;do a+=mt(t,s),s=t,t=t.return;while(t);return a}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var _e=Object.prototype.hasOwnProperty,ft=l.unstable_scheduleCallback,qt=l.unstable_cancelCallback,Ut=l.unstable_shouldYield,ea=l.unstable_requestPaint,At=l.unstable_now,ul=l.unstable_getCurrentPriorityLevel,Ya=l.unstable_ImmediatePriority,Va=l.unstable_UserBlockingPriority,pt=l.unstable_NormalPriority,Ns=l.unstable_LowPriority,Ba=l.unstable_IdlePriority,ws=l.log,hl=l.unstable_setDisableYieldValue,Dt=null,Tt=null;function da(t){if(typeof ws=="function"&&hl(t),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Dt,t)}catch{}}var Nt=Math.clz32?Math.clz32:ks,tn=Math.log,Ss=Math.LN2;function ks(t){return t>>>=0,t===0?32:31-(tn(t)/Ss|0)|0}var Qa=256,Ra=262144,Xa=4194304;function Lt(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xt(t,a,s){var n=t.pendingLanes;if(n===0)return 0;var i=0,o=t.suspendedLanes,m=t.pingedLanes;t=t.warmLanes;var T=n&134217727;return T!==0?(n=T&~o,n!==0?i=Lt(n):(m&=T,m!==0?i=Lt(m):s||(s=T&~t,s!==0&&(i=Lt(s))))):(T=n&~o,T!==0?i=Lt(T):m!==0?i=Lt(m):s||(s=n&~t,s!==0&&(i=Lt(s)))),i===0?0:a!==0&&a!==i&&(a&o)===0&&(o=i&-i,s=a&-a,o>=s||o===32&&(s&4194048)!==0)?a:i}function Sa(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function an(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(){var t=Xa;return Xa<<=1,(Xa&62914560)===0&&(Xa=4194304),t}function ua(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function Ft(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function It(t,a,s,n,i,o){var m=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,W=t.expirationTimes,le=t.hiddenUpdates;for(s=m&~s;0<s;){var he=31-Nt(s),xe=1<<he;T[he]=0,W[he]=-1;var oe=le[he];if(oe!==null)for(le[he]=null,he=0;he<oe.length;he++){var de=oe[he];de!==null&&(de.lane&=-536870913)}s&=~xe}n!==0&&Oa(t,n,0),o!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=o&~(m&~a))}function Oa(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var n=31-Nt(a);t.entangledLanes|=a,t.entanglements[n]=t.entanglements[n]|1073741824|s&261930}function Ca(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var n=31-Nt(s),i=1<<n;i&a|t[n]&a&&(t[n]|=a),s&=~i}}function Cs(t,a){var s=a&-a;return s=(s&42)!==0?1:Aa(s),(s&(t.suspendedLanes|a))!==0?0:s}function Aa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ua(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Te(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:Km(t.type))}function Za(t,a){var s=G.p;try{return G.p=t,a()}finally{G.p=s}}var $t=Math.random().toString(36).slice(2),ut="__reactFiber$"+$t,ht="__reactProps$"+$t,lt="__reactContainer$"+$t,Ea="__reactEvents$"+$t,sn="__reactListeners$"+$t,Sn="__reactHandles$"+$t,ha="__reactResources$"+$t,Ja="__reactMarker$"+$t;function za(t){delete t[ut],delete t[ht],delete t[Ea],delete t[sn],delete t[Sn]}function Fa(t){var a=t[ut];if(a)return a;for(var s=t.parentNode;s;){if(a=s[lt]||s[ut]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=Um(t);t!==null;){if(s=t[ut])return s;t=Um(t)}return a}t=s,s=t.parentNode}return null}function O(t){if(t=t[ut]||t[lt]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function te(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(d(33))}function Y(t){var a=t[ha];return a||(a=t[ha]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function re(t){t[Ja]=!0}var je=new Set,Ne={};function De(t,a){nt(t,a),nt(t+"Capture",a)}function nt(t,a){for(Ne[t]=a,t=0;t<a.length;t++)je.add(a[t])}var Gt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ma={},fi={};function Hr(t){return _e.call(fi,t)?!0:_e.call(ma,t)?!1:Gt.test(t)?fi[t]=!0:(ma[t]=!0,!1)}function nn(t,a,s){if(Hr(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var n=a.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function kn(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function Ta(t,a,s,n){if(n===null)t.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+n)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function U(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function be(t,a,s){var n=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return i.call(this)},set:function(m){s=""+m,o.call(this,m)}}),Object.defineProperty(t,a,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Ae(t){if(!t._valueTracker){var a=U(t)?"checked":"value";t._valueTracker=be(t,a,""+t[a])}}function Ge(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),n="";return t&&(n=U(t)?t.checked?"true":"false":t.value),t=n,t!==s?(a.setValue(t),!0):!1}function He(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ze=/[\n"\\]/g;function Ve(t){return t.replace(ze,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function it(t,a,s,n,i,o,m,T){t.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.type=m:t.removeAttribute("type"),a!=null?m==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Wt(a)):t.value!==""+Wt(a)&&(t.value=""+Wt(a)):m!=="submit"&&m!=="reset"||t.removeAttribute("value"),a!=null?Yt(t,m,Wt(a)):s!=null?Yt(t,m,Wt(s)):n!=null&&t.removeAttribute("value"),i==null&&o!=null&&(t.defaultChecked=!!o),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Wt(T):t.removeAttribute("name")}function Pt(t,a,s,n,i,o,m,T){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.type=o),a!=null||s!=null){if(!(o!=="submit"&&o!=="reset"||a!=null)){Ae(t);return}s=s!=null?""+Wt(s):"",a=a!=null?""+Wt(a):s,T||a===t.value||(t.value=a),t.defaultValue=a}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=T?t.checked:!!n,t.defaultChecked=!!n,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.name=m),Ae(t)}function Yt(t,a,s){a==="number"&&He(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ta(t,a,s,n){if(t=t.options,a){a={};for(var i=0;i<s.length;i++)a["$"+s[i]]=!0;for(s=0;s<t.length;s++)i=a.hasOwnProperty("$"+t[s].value),t[s].selected!==i&&(t[s].selected=i),i&&n&&(t[s].defaultSelected=!0)}else{for(s=""+Wt(s),a=null,i=0;i<t.length;i++){if(t[i].value===s){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}a!==null||t[i].disabled||(a=t[i])}a!==null&&(a.selected=!0)}}function Ka(t,a,s){if(a!=null&&(a=""+Wt(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+Wt(s):""}function pi(t,a,s,n){if(a==null){if(n!=null){if(s!=null)throw Error(d(92));if(ae(n)){if(1<n.length)throw Error(d(93));n=n[0]}s=n}s==null&&(s=""),a=s}s=Wt(a),t.defaultValue=s,n=t.textContent,n===s&&n!==""&&n!==null&&(t.value=n),Ae(t)}function Ia(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gi(t,a,s){var n=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?n?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":n?t.setProperty(a,s):typeof s!="number"||s===0||xi.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function ml(t,a,s){if(a!=null&&typeof a!="object")throw Error(d(62));if(t=t.style,s!=null){for(var n in s)!s.hasOwnProperty(n)||a!=null&&a.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var i in a)n=a[i],a.hasOwnProperty(i)&&s[i]!==n&&gi(t,i,n)}else for(var o in a)a.hasOwnProperty(o)&&gi(t,o,a[o])}function Cn(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bi=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yi(t){return Fp.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function es(){}var qr=null;function Gr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var An=null,En=null;function Ed(t){var a=O(t);if(a&&(t=a.stateNode)){var s=t[ht]||null;e:switch(t=a.stateNode,a.type){case"input":if(it(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ve(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var n=s[a];if(n!==t&&n.form===t.form){var i=n[ht]||null;if(!i)throw Error(d(90));it(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(a=0;a<s.length;a++)n=s[a],n.form===t.form&&Ge(n)}break e;case"textarea":Ka(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&ta(t,!!s.multiple,a,!1)}}}var Wr=!1;function Td(t,a,s){if(Wr)return t(a,s);Wr=!0;try{var n=t(a);return n}finally{if(Wr=!1,(An!==null||En!==null)&&(ir(),An&&(a=An,t=En,En=An=null,Ed(a),t)))for(a=0;a<t.length;a++)Ed(t[a])}}function fl(t,a){var s=t.stateNode;if(s===null)return null;var n=s[ht]||null;if(n===null)return null;s=n[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(d(231,a,typeof s));return s}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yr=!1;if(ts)try{var pl={};Object.defineProperty(pl,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{Yr=!1}var As=null,Vr=null,ji=null;function Ld(){if(ji)return ji;var t,a=Vr,s=a.length,n,i="value"in As?As.value:As.textContent,o=i.length;for(t=0;t<s&&a[t]===i[t];t++);var m=s-t;for(n=1;n<=m&&a[s-n]===i[o-n];n++);return ji=i.slice(t,1<n?1-n:void 0)}function vi(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Ni(){return!0}function Md(){return!1}function Vt(t){function a(s,n,i,o,m){this._reactName=s,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=m,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(o):o[T]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ni:Md,this.isPropagationStopped=Md,this}return f(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),a}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Vt(ln),xl=f({},ln,{view:0,detail:0}),Ip=Vt(xl),Qr,Xr,gl,Si=f({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gl&&(gl&&t.type==="mousemove"?(Qr=t.screenX-gl.screenX,Xr=t.screenY-gl.screenY):Xr=Qr=0,gl=t),Qr)},movementY:function(t){return"movementY"in t?t.movementY:Xr}}),Dd=Vt(Si),$p=f({},Si,{dataTransfer:0}),Pp=Vt($p),Hp=f({},xl,{relatedTarget:0}),Zr=Vt(Hp),qp=f({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Gp=Vt(qp),Wp=f({},ln,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yp=Vt(Wp),Vp=f({},ln,{data:0}),_d=Vt(Vp),Qp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jp(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Zp[t])?!!a[t]:!1}function Jr(){return Jp}var Kp=f({},xl,{key:function(t){if(t.key){var a=Qp[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=vi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(t){return t.type==="keypress"?vi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ex=Vt(Kp),tx=f({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=Vt(tx),ax=f({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),sx=Vt(ax),nx=f({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),lx=Vt(nx),ix=f({},Si,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rx=Vt(ix),ox=f({},ln,{newState:0,oldState:0}),cx=Vt(ox),dx=[9,13,27,32],Kr=ts&&"CompositionEvent"in window,bl=null;ts&&"documentMode"in document&&(bl=document.documentMode);var ux=ts&&"TextEvent"in window&&!bl,Rd=ts&&(!Kr||bl&&8<bl&&11>=bl),Od=" ",Ud=!1;function zd(t,a){switch(t){case"keyup":return dx.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tn=!1;function hx(t,a){switch(t){case"compositionend":return Fd(a);case"keypress":return a.which!==32?null:(Ud=!0,Od);case"textInput":return t=a.data,t===Od&&Ud?null:t;default:return null}}function mx(t,a){if(Tn)return t==="compositionend"||!Kr&&zd(t,a)?(t=Ld(),ji=Vr=As=null,Tn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Rd&&a.locale!=="ko"?null:a.data;default:return null}}var fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Id(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!fx[t.type]:a==="textarea"}function $d(t,a,s,n){An?En?En.push(n):En=[n]:An=n,a=mr(a,"onChange"),0<a.length&&(s=new wi("onChange","change",null,s,n),t.push({event:s,listeners:a}))}var yl=null,jl=null;function px(t){wm(t,0)}function ki(t){var a=te(t);if(Ge(a))return t}function Pd(t,a){if(t==="change")return a}var Hd=!1;if(ts){var eo;if(ts){var to="oninput"in document;if(!to){var qd=document.createElement("div");qd.setAttribute("oninput","return;"),to=typeof qd.oninput=="function"}eo=to}else eo=!1;Hd=eo&&(!document.documentMode||9<document.documentMode)}function Gd(){yl&&(yl.detachEvent("onpropertychange",Wd),jl=yl=null)}function Wd(t){if(t.propertyName==="value"&&ki(jl)){var a=[];$d(a,jl,t,Gr(t)),Td(px,a)}}function xx(t,a,s){t==="focusin"?(Gd(),yl=a,jl=s,yl.attachEvent("onpropertychange",Wd)):t==="focusout"&&Gd()}function gx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ki(jl)}function bx(t,a){if(t==="click")return ki(a)}function yx(t,a){if(t==="input"||t==="change")return ki(a)}function jx(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var aa=typeof Object.is=="function"?Object.is:jx;function vl(t,a){if(aa(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),n=Object.keys(a);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!_e.call(a,i)||!aa(t[i],a[i]))return!1}return!0}function Yd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vd(t,a){var s=Yd(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=a&&n>=a)return{node:s,offset:a-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Yd(s)}}function Qd(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?Qd(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Xd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=He(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=He(t.document)}return a}function ao(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var vx=ts&&"documentMode"in document&&11>=document.documentMode,Ln=null,so=null,Nl=null,no=!1;function Zd(t,a,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;no||Ln==null||Ln!==He(n)||(n=Ln,"selectionStart"in n&&ao(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nl&&vl(Nl,n)||(Nl=n,n=mr(so,"onSelect"),0<n.length&&(a=new wi("onSelect","select",null,a,s),t.push({event:a,listeners:n}),a.target=Ln)))}function rn(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var Mn={animationend:rn("Animation","AnimationEnd"),animationiteration:rn("Animation","AnimationIteration"),animationstart:rn("Animation","AnimationStart"),transitionrun:rn("Transition","TransitionRun"),transitionstart:rn("Transition","TransitionStart"),transitioncancel:rn("Transition","TransitionCancel"),transitionend:rn("Transition","TransitionEnd")},lo={},Jd={};ts&&(Jd=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function on(t){if(lo[t])return lo[t];if(!Mn[t])return t;var a=Mn[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in Jd)return lo[t]=a[s];return t}var Kd=on("animationend"),eu=on("animationiteration"),tu=on("animationstart"),Nx=on("transitionrun"),wx=on("transitionstart"),Sx=on("transitioncancel"),au=on("transitionend"),su=new Map,io="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");io.push("scrollEnd");function La(t,a){su.set(t,a),De(a,[t])}var Ci=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},fa=[],Dn=0,ro=0;function Ai(){for(var t=Dn,a=ro=Dn=0;a<t;){var s=fa[a];fa[a++]=null;var n=fa[a];fa[a++]=null;var i=fa[a];fa[a++]=null;var o=fa[a];if(fa[a++]=null,n!==null&&i!==null){var m=n.pending;m===null?i.next=i:(i.next=m.next,m.next=i),n.pending=i}o!==0&&nu(s,i,o)}}function Ei(t,a,s,n){fa[Dn++]=t,fa[Dn++]=a,fa[Dn++]=s,fa[Dn++]=n,ro|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function oo(t,a,s,n){return Ei(t,a,s,n),Ti(t)}function cn(t,a){return Ei(t,null,null,a),Ti(t)}function nu(t,a,s){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s);for(var i=!1,o=t.return;o!==null;)o.childLanes|=s,n=o.alternate,n!==null&&(n.childLanes|=s),o.tag===22&&(t=o.stateNode,t===null||t._visibility&1||(i=!0)),t=o,o=o.return;return t.tag===3?(o=t.stateNode,i&&a!==null&&(i=31-Nt(s),t=o.hiddenUpdates,n=t[i],n===null?t[i]=[a]:n.push(a),a.lane=s|536870912),o):null}function Ti(t){if(50<ql)throw ql=0,bc=null,Error(d(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var _n={};function kx(t,a,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(t,a,s,n){return new kx(t,a,s,n)}function co(t){return t=t.prototype,!(!t||!t.isReactComponent)}function as(t,a){var s=t.alternate;return s===null?(s=sa(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function lu(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Li(t,a,s,n,i,o){var m=0;if(n=t,typeof t=="function")co(t)&&(m=1);else if(typeof t=="string")m=Lg(t,s,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case B:return t=sa(31,s,a,i),t.elementType=B,t.lanes=o,t;case M:return dn(s.children,i,o,a);case R:m=8,i|=24;break;case S:return t=sa(12,s,a,i|2),t.elementType=S,t.lanes=o,t;case y:return t=sa(13,s,a,i),t.elementType=y,t.lanes=o,t;case k:return t=sa(19,s,a,i),t.elementType=k,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L:m=10;break e;case z:m=9;break e;case E:m=11;break e;case $:m=14;break e;case V:m=16,n=null;break e}m=29,s=Error(d(130,t===null?"null":typeof t,"")),n=null}return a=sa(m,s,a,i),a.elementType=t,a.type=n,a.lanes=o,a}function dn(t,a,s,n){return t=sa(7,t,n,a),t.lanes=s,t}function uo(t,a,s){return t=sa(6,t,null,a),t.lanes=s,t}function iu(t){var a=sa(18,null,null,0);return a.stateNode=t,a}function ho(t,a,s){return a=sa(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var ru=new WeakMap;function pa(t,a){if(typeof t=="object"&&t!==null){var s=ru.get(t);return s!==void 0?s:(a={value:t,source:a,stack:vt(a)},ru.set(t,a),a)}return{value:t,source:a,stack:vt(a)}}var Bn=[],Rn=0,Mi=null,wl=0,xa=[],ga=0,Es=null,$a=1,Pa="";function ss(t,a){Bn[Rn++]=wl,Bn[Rn++]=Mi,Mi=t,wl=a}function ou(t,a,s){xa[ga++]=$a,xa[ga++]=Pa,xa[ga++]=Es,Es=t;var n=$a;t=Pa;var i=32-Nt(n)-1;n&=~(1<<i),s+=1;var o=32-Nt(a)+i;if(30<o){var m=i-i%5;o=(n&(1<<m)-1).toString(32),n>>=m,i-=m,$a=1<<32-Nt(a)+i|s<<i|n,Pa=o+t}else $a=1<<o|s<<i|n,Pa=t}function mo(t){t.return!==null&&(ss(t,1),ou(t,1,0))}function fo(t){for(;t===Mi;)Mi=Bn[--Rn],Bn[Rn]=null,wl=Bn[--Rn],Bn[Rn]=null;for(;t===Es;)Es=xa[--ga],xa[ga]=null,Pa=xa[--ga],xa[ga]=null,$a=xa[--ga],xa[ga]=null}function cu(t,a){xa[ga++]=$a,xa[ga++]=Pa,xa[ga++]=Es,$a=a.id,Pa=a.overflow,Es=t}var _t=null,rt=null,qe=!1,Ts=null,ba=!1,po=Error(d(519));function Ls(t){var a=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(pa(a,t)),po}function du(t){var a=t.stateNode,s=t.type,n=t.memoizedProps;switch(a[ut]=t,a[ht]=n,s){case"dialog":Ie("cancel",a),Ie("close",a);break;case"iframe":case"object":case"embed":Ie("load",a);break;case"video":case"audio":for(s=0;s<Wl.length;s++)Ie(Wl[s],a);break;case"source":Ie("error",a);break;case"img":case"image":case"link":Ie("error",a),Ie("load",a);break;case"details":Ie("toggle",a);break;case"input":Ie("invalid",a),Pt(a,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Ie("invalid",a);break;case"textarea":Ie("invalid",a),pi(a,n.value,n.defaultValue,n.children)}s=n.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||n.suppressHydrationWarning===!0||Am(a.textContent,s)?(n.popover!=null&&(Ie("beforetoggle",a),Ie("toggle",a)),n.onScroll!=null&&Ie("scroll",a),n.onScrollEnd!=null&&Ie("scrollend",a),n.onClick!=null&&(a.onclick=es),a=!0):a=!1,a||Ls(t,!0)}function uu(t){for(_t=t.return;_t;)switch(_t.tag){case 5:case 31:case 13:ba=!1;return;case 27:case 3:ba=!0;return;default:_t=_t.return}}function On(t){if(t!==_t)return!1;if(!qe)return uu(t),qe=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||_c(t.type,t.memoizedProps)),s=!s),s&&rt&&Ls(t),uu(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));rt=Om(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));rt=Om(t)}else a===27?(a=rt,qs(t.type)?(t=zc,zc=null,rt=t):rt=a):rt=_t?ja(t.stateNode.nextSibling):null;return!0}function un(){rt=_t=null,qe=!1}function xo(){var t=Ts;return t!==null&&(Jt===null?Jt=t:Jt.push.apply(Jt,t),Ts=null),t}function Sl(t){Ts===null?Ts=[t]:Ts.push(t)}var go=_(null),hn=null,ns=null;function Ms(t,a,s){se(go,a._currentValue),a._currentValue=s}function ls(t){t._currentValue=go.current,Q(go)}function bo(t,a,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,n!==null&&(n.childLanes|=a)):n!==null&&(n.childLanes&a)!==a&&(n.childLanes|=a),t===s)break;t=t.return}}function yo(t,a,s,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){var m=i.child;o=o.firstContext;e:for(;o!==null;){var T=o;o=i;for(var W=0;W<a.length;W++)if(T.context===a[W]){o.lanes|=s,T=o.alternate,T!==null&&(T.lanes|=s),bo(o.return,s,t),n||(m=null);break e}o=T.next}}else if(i.tag===18){if(m=i.return,m===null)throw Error(d(341));m.lanes|=s,o=m.alternate,o!==null&&(o.lanes|=s),bo(m,s,t),m=null}else m=i.child;if(m!==null)m.return=i;else for(m=i;m!==null;){if(m===t){m=null;break}if(i=m.sibling,i!==null){i.return=m.return,m=i;break}m=m.return}i=m}}function Un(t,a,s,n){t=null;for(var i=a,o=!1;i!==null;){if(!o){if((i.flags&524288)!==0)o=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var m=i.alternate;if(m===null)throw Error(d(387));if(m=m.memoizedProps,m!==null){var T=i.type;aa(i.pendingProps.value,m.value)||(t!==null?t.push(T):t=[T])}}else if(i===q.current){if(m=i.alternate,m===null)throw Error(d(387));m.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Zl):t=[Zl])}i=i.return}t!==null&&yo(a,t,s,n),a.flags|=262144}function Di(t){for(t=t.firstContext;t!==null;){if(!aa(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function mn(t){hn=t,ns=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Bt(t){return hu(hn,t)}function _i(t,a){return hn===null&&mn(t),hu(t,a)}function hu(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},ns===null){if(t===null)throw Error(d(308));ns=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else ns=ns.next=a;return s}var Cx=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,n){t.push(n)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},Ax=l.unstable_scheduleCallback,Ex=l.unstable_NormalPriority,wt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jo(){return{controller:new Cx,data:new Map,refCount:0}}function kl(t){t.refCount--,t.refCount===0&&Ax(Ex,function(){t.controller.abort()})}var Cl=null,vo=0,zn=0,Fn=null;function Tx(t,a){if(Cl===null){var s=Cl=[];vo=0,zn=Sc(),Fn={status:"pending",value:void 0,then:function(n){s.push(n)}}}return vo++,a.then(mu,mu),a}function mu(){if(--vo===0&&Cl!==null){Fn!==null&&(Fn.status="fulfilled");var t=Cl;Cl=null,zn=0,Fn=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function Lx(t,a){var s=[],n={status:"pending",value:null,reason:null,then:function(i){s.push(i)}};return t.then(function(){n.status="fulfilled",n.value=a;for(var i=0;i<s.length;i++)(0,s[i])(a)},function(i){for(n.status="rejected",n.reason=i,i=0;i<s.length;i++)(0,s[i])(void 0)}),n}var fu=H.S;H.S=function(t,a){Zh=At(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Tx(t,a),fu!==null&&fu(t,a)};var fn=_(null);function No(){var t=fn.current;return t!==null?t:st.pooledCache}function Bi(t,a){a===null?se(fn,fn.current):se(fn,a.pool)}function pu(){var t=No();return t===null?null:{parent:wt._currentValue,pool:t}}var In=Error(d(460)),wo=Error(d(474)),Ri=Error(d(542)),Oi={then:function(){}};function xu(t){return t=t.status,t==="fulfilled"||t==="rejected"}function gu(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(es,es),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,yu(t),t;default:if(typeof a.status=="string")a.then(es,es);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(d(482));t=a,t.status="pending",t.then(function(n){if(a.status==="pending"){var i=a;i.status="fulfilled",i.value=n}},function(n){if(a.status==="pending"){var i=a;i.status="rejected",i.reason=n}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,yu(t),t}throw xn=a,In}}function pn(t){try{var a=t._init;return a(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(xn=s,In):s}}var xn=null;function bu(){if(xn===null)throw Error(d(459));var t=xn;return xn=null,t}function yu(t){if(t===In||t===Ri)throw Error(d(483))}var $n=null,Al=0;function Ui(t){var a=Al;return Al+=1,$n===null&&($n=[]),gu($n,t,a)}function El(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function zi(t,a){throw a.$$typeof===j?Error(d(525)):(t=Object.prototype.toString.call(a),Error(d(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function ju(t){function a(ee,X){if(t){var ne=ee.deletions;ne===null?(ee.deletions=[X],ee.flags|=16):ne.push(X)}}function s(ee,X){if(!t)return null;for(;X!==null;)a(ee,X),X=X.sibling;return null}function n(ee){for(var X=new Map;ee!==null;)ee.key!==null?X.set(ee.key,ee):X.set(ee.index,ee),ee=ee.sibling;return X}function i(ee,X){return ee=as(ee,X),ee.index=0,ee.sibling=null,ee}function o(ee,X,ne){return ee.index=ne,t?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<X?(ee.flags|=67108866,X):ne):(ee.flags|=67108866,X)):(ee.flags|=1048576,X)}function m(ee){return t&&ee.alternate===null&&(ee.flags|=67108866),ee}function T(ee,X,ne,fe){return X===null||X.tag!==6?(X=uo(ne,ee.mode,fe),X.return=ee,X):(X=i(X,ne),X.return=ee,X)}function W(ee,X,ne,fe){var Ee=ne.type;return Ee===M?he(ee,X,ne.props.children,fe,ne.key):X!==null&&(X.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===V&&pn(Ee)===X.type)?(X=i(X,ne.props),El(X,ne),X.return=ee,X):(X=Li(ne.type,ne.key,ne.props,null,ee.mode,fe),El(X,ne),X.return=ee,X)}function le(ee,X,ne,fe){return X===null||X.tag!==4||X.stateNode.containerInfo!==ne.containerInfo||X.stateNode.implementation!==ne.implementation?(X=ho(ne,ee.mode,fe),X.return=ee,X):(X=i(X,ne.children||[]),X.return=ee,X)}function he(ee,X,ne,fe,Ee){return X===null||X.tag!==7?(X=dn(ne,ee.mode,fe,Ee),X.return=ee,X):(X=i(X,ne),X.return=ee,X)}function xe(ee,X,ne){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=uo(""+X,ee.mode,ne),X.return=ee,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return ne=Li(X.type,X.key,X.props,null,ee.mode,ne),El(ne,X),ne.return=ee,ne;case N:return X=ho(X,ee.mode,ne),X.return=ee,X;case V:return X=pn(X),xe(ee,X,ne)}if(ae(X)||C(X))return X=dn(X,ee.mode,ne,null),X.return=ee,X;if(typeof X.then=="function")return xe(ee,Ui(X),ne);if(X.$$typeof===L)return xe(ee,_i(ee,X),ne);zi(ee,X)}return null}function oe(ee,X,ne,fe){var Ee=X!==null?X.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Ee!==null?null:T(ee,X,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return ne.key===Ee?W(ee,X,ne,fe):null;case N:return ne.key===Ee?le(ee,X,ne,fe):null;case V:return ne=pn(ne),oe(ee,X,ne,fe)}if(ae(ne)||C(ne))return Ee!==null?null:he(ee,X,ne,fe,null);if(typeof ne.then=="function")return oe(ee,X,Ui(ne),fe);if(ne.$$typeof===L)return oe(ee,X,_i(ee,ne),fe);zi(ee,ne)}return null}function de(ee,X,ne,fe,Ee){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return ee=ee.get(ne)||null,T(X,ee,""+fe,Ee);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case A:return ee=ee.get(fe.key===null?ne:fe.key)||null,W(X,ee,fe,Ee);case N:return ee=ee.get(fe.key===null?ne:fe.key)||null,le(X,ee,fe,Ee);case V:return fe=pn(fe),de(ee,X,ne,fe,Ee)}if(ae(fe)||C(fe))return ee=ee.get(ne)||null,he(X,ee,fe,Ee,null);if(typeof fe.then=="function")return de(ee,X,ne,Ui(fe),Ee);if(fe.$$typeof===L)return de(ee,X,ne,_i(X,fe),Ee);zi(X,fe)}return null}function Se(ee,X,ne,fe){for(var Ee=null,We=null,ke=X,Ue=X=0,Pe=null;ke!==null&&Ue<ne.length;Ue++){ke.index>Ue?(Pe=ke,ke=null):Pe=ke.sibling;var Ye=oe(ee,ke,ne[Ue],fe);if(Ye===null){ke===null&&(ke=Pe);break}t&&ke&&Ye.alternate===null&&a(ee,ke),X=o(Ye,X,Ue),We===null?Ee=Ye:We.sibling=Ye,We=Ye,ke=Pe}if(Ue===ne.length)return s(ee,ke),qe&&ss(ee,Ue),Ee;if(ke===null){for(;Ue<ne.length;Ue++)ke=xe(ee,ne[Ue],fe),ke!==null&&(X=o(ke,X,Ue),We===null?Ee=ke:We.sibling=ke,We=ke);return qe&&ss(ee,Ue),Ee}for(ke=n(ke);Ue<ne.length;Ue++)Pe=de(ke,ee,Ue,ne[Ue],fe),Pe!==null&&(t&&Pe.alternate!==null&&ke.delete(Pe.key===null?Ue:Pe.key),X=o(Pe,X,Ue),We===null?Ee=Pe:We.sibling=Pe,We=Pe);return t&&ke.forEach(function(Qs){return a(ee,Qs)}),qe&&ss(ee,Ue),Ee}function Me(ee,X,ne,fe){if(ne==null)throw Error(d(151));for(var Ee=null,We=null,ke=X,Ue=X=0,Pe=null,Ye=ne.next();ke!==null&&!Ye.done;Ue++,Ye=ne.next()){ke.index>Ue?(Pe=ke,ke=null):Pe=ke.sibling;var Qs=oe(ee,ke,Ye.value,fe);if(Qs===null){ke===null&&(ke=Pe);break}t&&ke&&Qs.alternate===null&&a(ee,ke),X=o(Qs,X,Ue),We===null?Ee=Qs:We.sibling=Qs,We=Qs,ke=Pe}if(Ye.done)return s(ee,ke),qe&&ss(ee,Ue),Ee;if(ke===null){for(;!Ye.done;Ue++,Ye=ne.next())Ye=xe(ee,Ye.value,fe),Ye!==null&&(X=o(Ye,X,Ue),We===null?Ee=Ye:We.sibling=Ye,We=Ye);return qe&&ss(ee,Ue),Ee}for(ke=n(ke);!Ye.done;Ue++,Ye=ne.next())Ye=de(ke,ee,Ue,Ye.value,fe),Ye!==null&&(t&&Ye.alternate!==null&&ke.delete(Ye.key===null?Ue:Ye.key),X=o(Ye,X,Ue),We===null?Ee=Ye:We.sibling=Ye,We=Ye);return t&&ke.forEach(function($g){return a(ee,$g)}),qe&&ss(ee,Ue),Ee}function tt(ee,X,ne,fe){if(typeof ne=="object"&&ne!==null&&ne.type===M&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:e:{for(var Ee=ne.key;X!==null;){if(X.key===Ee){if(Ee=ne.type,Ee===M){if(X.tag===7){s(ee,X.sibling),fe=i(X,ne.props.children),fe.return=ee,ee=fe;break e}}else if(X.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===V&&pn(Ee)===X.type){s(ee,X.sibling),fe=i(X,ne.props),El(fe,ne),fe.return=ee,ee=fe;break e}s(ee,X);break}else a(ee,X);X=X.sibling}ne.type===M?(fe=dn(ne.props.children,ee.mode,fe,ne.key),fe.return=ee,ee=fe):(fe=Li(ne.type,ne.key,ne.props,null,ee.mode,fe),El(fe,ne),fe.return=ee,ee=fe)}return m(ee);case N:e:{for(Ee=ne.key;X!==null;){if(X.key===Ee)if(X.tag===4&&X.stateNode.containerInfo===ne.containerInfo&&X.stateNode.implementation===ne.implementation){s(ee,X.sibling),fe=i(X,ne.children||[]),fe.return=ee,ee=fe;break e}else{s(ee,X);break}else a(ee,X);X=X.sibling}fe=ho(ne,ee.mode,fe),fe.return=ee,ee=fe}return m(ee);case V:return ne=pn(ne),tt(ee,X,ne,fe)}if(ae(ne))return Se(ee,X,ne,fe);if(C(ne)){if(Ee=C(ne),typeof Ee!="function")throw Error(d(150));return ne=Ee.call(ne),Me(ee,X,ne,fe)}if(typeof ne.then=="function")return tt(ee,X,Ui(ne),fe);if(ne.$$typeof===L)return tt(ee,X,_i(ee,ne),fe);zi(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,X!==null&&X.tag===6?(s(ee,X.sibling),fe=i(X,ne),fe.return=ee,ee=fe):(s(ee,X),fe=uo(ne,ee.mode,fe),fe.return=ee,ee=fe),m(ee)):s(ee,X)}return function(ee,X,ne,fe){try{Al=0;var Ee=tt(ee,X,ne,fe);return $n=null,Ee}catch(ke){if(ke===In||ke===Ri)throw ke;var We=sa(29,ke,null,ee.mode);return We.lanes=fe,We.return=ee,We}}}var gn=ju(!0),vu=ju(!1),Ds=!1;function So(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ko(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _s(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(t,a,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(Qe&2)!==0){var i=n.pending;return i===null?a.next=a:(a.next=i.next,i.next=a),n.pending=a,a=Ti(t),nu(t,null,s),a}return Ei(t,n,a,s),Ti(t)}function Tl(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var n=a.lanes;n&=t.pendingLanes,s|=n,a.lanes=s,Ca(t,s)}}function Co(t,a){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var i=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var m={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};o===null?i=o=m:o=o.next=m,s=s.next}while(s!==null);o===null?i=o=a:o=o.next=a}else i=o=a;s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,callbacks:n.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var Ao=!1;function Ll(){if(Ao){var t=Fn;if(t!==null)throw t}}function Ml(t,a,s,n){Ao=!1;var i=t.updateQueue;Ds=!1;var o=i.firstBaseUpdate,m=i.lastBaseUpdate,T=i.shared.pending;if(T!==null){i.shared.pending=null;var W=T,le=W.next;W.next=null,m===null?o=le:m.next=le,m=W;var he=t.alternate;he!==null&&(he=he.updateQueue,T=he.lastBaseUpdate,T!==m&&(T===null?he.firstBaseUpdate=le:T.next=le,he.lastBaseUpdate=W))}if(o!==null){var xe=i.baseState;m=0,he=le=W=null,T=o;do{var oe=T.lane&-536870913,de=oe!==T.lane;if(de?($e&oe)===oe:(n&oe)===oe){oe!==0&&oe===zn&&(Ao=!0),he!==null&&(he=he.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=t,Me=T;oe=a;var tt=s;switch(Me.tag){case 1:if(Se=Me.payload,typeof Se=="function"){xe=Se.call(tt,xe,oe);break e}xe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Me.payload,oe=typeof Se=="function"?Se.call(tt,xe,oe):Se,oe==null)break e;xe=f({},xe,oe);break e;case 2:Ds=!0}}oe=T.callback,oe!==null&&(t.flags|=64,de&&(t.flags|=8192),de=i.callbacks,de===null?i.callbacks=[oe]:de.push(oe))}else de={lane:oe,tag:T.tag,payload:T.payload,callback:T.callback,next:null},he===null?(le=he=de,W=xe):he=he.next=de,m|=oe;if(T=T.next,T===null){if(T=i.shared.pending,T===null)break;de=T,T=de.next,de.next=null,i.lastBaseUpdate=de,i.shared.pending=null}}while(!0);he===null&&(W=xe),i.baseState=W,i.firstBaseUpdate=le,i.lastBaseUpdate=he,o===null&&(i.shared.lanes=0),Fs|=m,t.lanes=m,t.memoizedState=xe}}function Nu(t,a){if(typeof t!="function")throw Error(d(191,t));t.call(a)}function wu(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Nu(s[t],a)}var Pn=_(null),Fi=_(0);function Su(t,a){t=fs,se(Fi,t),se(Pn,a),fs=t|a.baseLanes}function Eo(){se(Fi,fs),se(Pn,Pn.current)}function To(){fs=Fi.current,Q(Pn),Q(Fi)}var na=_(null),ya=null;function Rs(t){var a=t.alternate;se(yt,yt.current&1),se(na,t),ya===null&&(a===null||Pn.current!==null||a.memoizedState!==null)&&(ya=t)}function Lo(t){se(yt,yt.current),se(na,t),ya===null&&(ya=t)}function ku(t){t.tag===22?(se(yt,yt.current),se(na,t),ya===null&&(ya=t)):Os()}function Os(){se(yt,yt.current),se(na,na.current)}function la(t){Q(na),ya===t&&(ya=null),Q(yt)}var yt=_(0);function Ii(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Oc(s)||Uc(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var is=0,Oe=null,Ke=null,St=null,$i=!1,Hn=!1,bn=!1,Pi=0,Dl=0,qn=null,Mx=0;function gt(){throw Error(d(321))}function Mo(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!aa(t[s],a[s]))return!1;return!0}function Do(t,a,s,n,i,o){return is=o,Oe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=t===null||t.memoizedState===null?oh:Yo,bn=!1,o=s(n,i),bn=!1,Hn&&(o=Au(a,s,n,i)),Cu(t),o}function Cu(t){H.H=Rl;var a=Ke!==null&&Ke.next!==null;if(is=0,St=Ke=Oe=null,$i=!1,Dl=0,qn=null,a)throw Error(d(300));t===null||kt||(t=t.dependencies,t!==null&&Di(t)&&(kt=!0))}function Au(t,a,s,n){Oe=t;var i=0;do{if(Hn&&(qn=null),Dl=0,Hn=!1,25<=i)throw Error(d(301));if(i+=1,St=Ke=null,t.updateQueue!=null){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}H.H=ch,o=a(s,n)}while(Hn);return o}function Dx(){var t=H.H,a=t.useState()[0];return a=typeof a.then=="function"?_l(a):a,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Oe.flags|=1024),a}function _o(){var t=Pi!==0;return Pi=0,t}function Bo(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function Ro(t){if($i){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}$i=!1}is=0,St=Ke=Oe=null,Hn=!1,Dl=Pi=0,qn=null}function Ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Oe.memoizedState=St=t:St=St.next=t,St}function jt(){if(Ke===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var a=St===null?Oe.memoizedState:St.next;if(a!==null)St=a,Ke=t;else{if(t===null)throw Oe.alternate===null?Error(d(467)):Error(d(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},St===null?Oe.memoizedState=St=t:St=St.next=t}return St}function Hi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var a=Dl;return Dl+=1,qn===null&&(qn=[]),t=gu(qn,t,a),a=Oe,(St===null?a.memoizedState:St.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?oh:Yo),t}function qi(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===L)return Bt(t)}throw Error(d(438,String(t)))}function Oo(t){var a=null,s=Oe.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var n=Oe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(a={data:n.data.map(function(i){return i.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Hi(),Oe.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),n=0;n<t;n++)s[n]=ce;return a.index++,s}function rs(t,a){return typeof a=="function"?a(t):a}function Gi(t){var a=jt();return Uo(a,Ke,t)}function Uo(t,a,s){var n=t.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=s;var i=t.baseQueue,o=n.pending;if(o!==null){if(i!==null){var m=i.next;i.next=o.next,o.next=m}a.baseQueue=i=o,n.pending=null}if(o=t.baseState,i===null)t.memoizedState=o;else{a=i.next;var T=m=null,W=null,le=a,he=!1;do{var xe=le.lane&-536870913;if(xe!==le.lane?($e&xe)===xe:(is&xe)===xe){var oe=le.revertLane;if(oe===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),xe===zn&&(he=!0);else if((is&oe)===oe){le=le.next,oe===zn&&(he=!0);continue}else xe={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},W===null?(T=W=xe,m=o):W=W.next=xe,Oe.lanes|=oe,Fs|=oe;xe=le.action,bn&&s(o,xe),o=le.hasEagerState?le.eagerState:s(o,xe)}else oe={lane:xe,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},W===null?(T=W=oe,m=o):W=W.next=oe,Oe.lanes|=xe,Fs|=xe;le=le.next}while(le!==null&&le!==a);if(W===null?m=o:W.next=T,!aa(o,t.memoizedState)&&(kt=!0,he&&(s=Fn,s!==null)))throw s;t.memoizedState=o,t.baseState=m,t.baseQueue=W,n.lastRenderedState=o}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function zo(t){var a=jt(),s=a.queue;if(s===null)throw Error(d(311));s.lastRenderedReducer=t;var n=s.dispatch,i=s.pending,o=a.memoizedState;if(i!==null){s.pending=null;var m=i=i.next;do o=t(o,m.action),m=m.next;while(m!==i);aa(o,a.memoizedState)||(kt=!0),a.memoizedState=o,a.baseQueue===null&&(a.baseState=o),s.lastRenderedState=o}return[o,n]}function Eu(t,a,s){var n=Oe,i=jt(),o=qe;if(o){if(s===void 0)throw Error(d(407));s=s()}else s=a();var m=!aa((Ke||i).memoizedState,s);if(m&&(i.memoizedState=s,kt=!0),i=i.queue,$o(Mu.bind(null,n,i,t),[t]),i.getSnapshot!==a||m||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,Gn(9,{destroy:void 0},Lu.bind(null,n,i,s,a),null),st===null)throw Error(d(349));o||(is&127)!==0||Tu(n,a,s)}return s}function Tu(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=Oe.updateQueue,a===null?(a=Hi(),Oe.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function Lu(t,a,s,n){a.value=s,a.getSnapshot=n,Du(a)&&_u(t)}function Mu(t,a,s){return s(function(){Du(a)&&_u(t)})}function Du(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!aa(t,s)}catch{return!0}}function _u(t){var a=cn(t,2);a!==null&&Kt(a,t,2)}function Fo(t){var a=Ht();if(typeof t=="function"){var s=t;if(t=s(),bn){da(!0);try{s()}finally{da(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},a}function Bu(t,a,s,n){return t.baseState=s,Uo(t,Ke,typeof n=="function"?n:rs)}function _x(t,a,s,n,i){if(Vi(t))throw Error(d(485));if(t=a.action,t!==null){var o={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){o.listeners.push(m)}};H.T!==null?s(!0):o.isTransition=!1,n(o),s=a.pending,s===null?(o.next=a.pending=o,Ru(a,o)):(o.next=s.next,a.pending=s.next=o)}}function Ru(t,a){var s=a.action,n=a.payload,i=t.state;if(a.isTransition){var o=H.T,m={};H.T=m;try{var T=s(i,n),W=H.S;W!==null&&W(m,T),Ou(t,a,T)}catch(le){Io(t,a,le)}finally{o!==null&&m.types!==null&&(o.types=m.types),H.T=o}}else try{o=s(i,n),Ou(t,a,o)}catch(le){Io(t,a,le)}}function Ou(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(n){Uu(t,a,n)},function(n){return Io(t,a,n)}):Uu(t,a,s)}function Uu(t,a,s){a.status="fulfilled",a.value=s,zu(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,Ru(t,s)))}function Io(t,a,s){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do a.status="rejected",a.reason=s,zu(a),a=a.next;while(a!==n)}t.action=null}function zu(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function Fu(t,a){return a}function Iu(t,a){if(qe){var s=st.formState;if(s!==null){e:{var n=Oe;if(qe){if(rt){t:{for(var i=rt,o=ba;i.nodeType!==8;){if(!o){i=null;break t}if(i=ja(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){rt=ja(i.nextSibling),n=i.data==="F!";break e}}Ls(n)}n=!1}n&&(a=s[0])}}return s=Ht(),s.memoizedState=s.baseState=a,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:a},s.queue=n,s=lh.bind(null,Oe,n),n.dispatch=s,n=Fo(!1),o=Wo.bind(null,Oe,!1,n.queue),n=Ht(),i={state:a,dispatch:null,action:t,pending:null},n.queue=i,s=_x.bind(null,Oe,i,o,s),i.dispatch=s,n.memoizedState=t,[a,s,!1]}function $u(t){var a=jt();return Pu(a,Ke,t)}function Pu(t,a,s){if(a=Uo(t,a,Fu)[0],t=Gi(rs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var n=_l(a)}catch(m){throw m===In?Ri:m}else n=a;a=jt();var i=a.queue,o=i.dispatch;return s!==a.memoizedState&&(Oe.flags|=2048,Gn(9,{destroy:void 0},Bx.bind(null,i,s),null)),[n,o,t]}function Bx(t,a){t.action=a}function Hu(t){var a=jt(),s=Ke;if(s!==null)return Pu(a,s,t);jt(),a=a.memoizedState,s=jt();var n=s.queue.dispatch;return s.memoizedState=t,[a,n,!1]}function Gn(t,a,s,n){return t={tag:t,create:s,deps:n,inst:a,next:null},a=Oe.updateQueue,a===null&&(a=Hi(),Oe.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,a.lastEffect=t),t}function qu(){return jt().memoizedState}function Wi(t,a,s,n){var i=Ht();Oe.flags|=t,i.memoizedState=Gn(1|a,{destroy:void 0},s,n===void 0?null:n)}function Yi(t,a,s,n){var i=jt();n=n===void 0?null:n;var o=i.memoizedState.inst;Ke!==null&&n!==null&&Mo(n,Ke.memoizedState.deps)?i.memoizedState=Gn(a,o,s,n):(Oe.flags|=t,i.memoizedState=Gn(1|a,o,s,n))}function Gu(t,a){Wi(8390656,8,t,a)}function $o(t,a){Yi(2048,8,t,a)}function Rx(t){Oe.flags|=4;var a=Oe.updateQueue;if(a===null)a=Hi(),Oe.updateQueue=a,a.events=[t];else{var s=a.events;s===null?a.events=[t]:s.push(t)}}function Wu(t){var a=jt().memoizedState;return Rx({ref:a,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(d(440));return a.impl.apply(void 0,arguments)}}function Yu(t,a){return Yi(4,2,t,a)}function Vu(t,a){return Yi(4,4,t,a)}function Qu(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Xu(t,a,s){s=s!=null?s.concat([t]):null,Yi(4,4,Qu.bind(null,a,t),s)}function Po(){}function Zu(t,a){var s=jt();a=a===void 0?null:a;var n=s.memoizedState;return a!==null&&Mo(a,n[1])?n[0]:(s.memoizedState=[t,a],t)}function Ju(t,a){var s=jt();a=a===void 0?null:a;var n=s.memoizedState;if(a!==null&&Mo(a,n[1]))return n[0];if(n=t(),bn){da(!0);try{t()}finally{da(!1)}}return s.memoizedState=[n,a],n}function Ho(t,a,s){return s===void 0||(is&1073741824)!==0&&($e&261930)===0?t.memoizedState=a:(t.memoizedState=s,t=Kh(),Oe.lanes|=t,Fs|=t,s)}function Ku(t,a,s,n){return aa(s,a)?s:Pn.current!==null?(t=Ho(t,s,n),aa(t,a)||(kt=!0),t):(is&42)===0||(is&1073741824)!==0&&($e&261930)===0?(kt=!0,t.memoizedState=s):(t=Kh(),Oe.lanes|=t,Fs|=t,a)}function eh(t,a,s,n,i){var o=G.p;G.p=o!==0&&8>o?o:8;var m=H.T,T={};H.T=T,Wo(t,!1,a,s);try{var W=i(),le=H.S;if(le!==null&&le(T,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var he=Lx(W,n);Bl(t,a,he,oa(t))}else Bl(t,a,n,oa(t))}catch(xe){Bl(t,a,{then:function(){},status:"rejected",reason:xe},oa())}finally{G.p=o,m!==null&&T.types!==null&&(m.types=T.types),H.T=m}}function Ox(){}function qo(t,a,s,n){if(t.tag!==5)throw Error(d(476));var i=th(t).queue;eh(t,i,a,ie,s===null?Ox:function(){return ah(t),s(n)})}function th(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:ie},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function ah(t){var a=th(t);a.next===null&&(a=t.alternate.memoizedState),Bl(t,a.next.queue,{},oa())}function Go(){return Bt(Zl)}function sh(){return jt().memoizedState}function nh(){return jt().memoizedState}function Ux(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=oa();t=_s(s);var n=Bs(a,t,s);n!==null&&(Kt(n,a,s),Tl(n,a,s)),a={cache:jo()},t.payload=a;return}a=a.return}}function zx(t,a,s){var n=oa();s={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Vi(t)?ih(a,s):(s=oo(t,a,s,n),s!==null&&(Kt(s,t,n),rh(s,a,n)))}function lh(t,a,s){var n=oa();Bl(t,a,s,n)}function Bl(t,a,s,n){var i={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Vi(t))ih(a,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=a.lastRenderedReducer,o!==null))try{var m=a.lastRenderedState,T=o(m,s);if(i.hasEagerState=!0,i.eagerState=T,aa(T,m))return Ei(t,a,i,0),st===null&&Ai(),!1}catch{}if(s=oo(t,a,i,n),s!==null)return Kt(s,t,n),rh(s,a,n),!0}return!1}function Wo(t,a,s,n){if(n={lane:2,revertLane:Sc(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Vi(t)){if(a)throw Error(d(479))}else a=oo(t,s,n,2),a!==null&&Kt(a,t,2)}function Vi(t){var a=t.alternate;return t===Oe||a!==null&&a===Oe}function ih(t,a){Hn=$i=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function rh(t,a,s){if((s&4194048)!==0){var n=a.lanes;n&=t.pendingLanes,s|=n,a.lanes=s,Ca(t,s)}}var Rl={readContext:Bt,use:qi,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};Rl.useEffectEvent=gt;var oh={readContext:Bt,use:qi,useCallback:function(t,a){return Ht().memoizedState=[t,a===void 0?null:a],t},useContext:Bt,useEffect:Gu,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,Wi(4194308,4,Qu.bind(null,a,t),s)},useLayoutEffect:function(t,a){return Wi(4194308,4,t,a)},useInsertionEffect:function(t,a){Wi(4,2,t,a)},useMemo:function(t,a){var s=Ht();a=a===void 0?null:a;var n=t();if(bn){da(!0);try{t()}finally{da(!1)}}return s.memoizedState=[n,a],n},useReducer:function(t,a,s){var n=Ht();if(s!==void 0){var i=s(a);if(bn){da(!0);try{s(a)}finally{da(!1)}}}else i=a;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=zx.bind(null,Oe,t),[n.memoizedState,t]},useRef:function(t){var a=Ht();return t={current:t},a.memoizedState=t},useState:function(t){t=Fo(t);var a=t.queue,s=lh.bind(null,Oe,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:Po,useDeferredValue:function(t,a){var s=Ht();return Ho(s,t,a)},useTransition:function(){var t=Fo(!1);return t=eh.bind(null,Oe,t.queue,!0,!1),Ht().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var n=Oe,i=Ht();if(qe){if(s===void 0)throw Error(d(407));s=s()}else{if(s=a(),st===null)throw Error(d(349));($e&127)!==0||Tu(n,a,s)}i.memoizedState=s;var o={value:s,getSnapshot:a};return i.queue=o,Gu(Mu.bind(null,n,o,t),[t]),n.flags|=2048,Gn(9,{destroy:void 0},Lu.bind(null,n,o,s,a),null),s},useId:function(){var t=Ht(),a=st.identifierPrefix;if(qe){var s=Pa,n=$a;s=(n&~(1<<32-Nt(n)-1)).toString(32)+s,a="_"+a+"R_"+s,s=Pi++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=Mx++,a="_"+a+"r_"+s.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:Go,useFormState:Iu,useActionState:Iu,useOptimistic:function(t){var a=Ht();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Wo.bind(null,Oe,!0,s),s.dispatch=a,[t,a]},useMemoCache:Oo,useCacheRefresh:function(){return Ht().memoizedState=Ux.bind(null,Oe)},useEffectEvent:function(t){var a=Ht(),s={impl:t};return a.memoizedState=s,function(){if((Qe&2)!==0)throw Error(d(440));return s.impl.apply(void 0,arguments)}}},Yo={readContext:Bt,use:qi,useCallback:Zu,useContext:Bt,useEffect:$o,useImperativeHandle:Xu,useInsertionEffect:Yu,useLayoutEffect:Vu,useMemo:Ju,useReducer:Gi,useRef:qu,useState:function(){return Gi(rs)},useDebugValue:Po,useDeferredValue:function(t,a){var s=jt();return Ku(s,Ke.memoizedState,t,a)},useTransition:function(){var t=Gi(rs)[0],a=jt().memoizedState;return[typeof t=="boolean"?t:_l(t),a]},useSyncExternalStore:Eu,useId:sh,useHostTransitionStatus:Go,useFormState:$u,useActionState:$u,useOptimistic:function(t,a){var s=jt();return Bu(s,Ke,t,a)},useMemoCache:Oo,useCacheRefresh:nh};Yo.useEffectEvent=Wu;var ch={readContext:Bt,use:qi,useCallback:Zu,useContext:Bt,useEffect:$o,useImperativeHandle:Xu,useInsertionEffect:Yu,useLayoutEffect:Vu,useMemo:Ju,useReducer:zo,useRef:qu,useState:function(){return zo(rs)},useDebugValue:Po,useDeferredValue:function(t,a){var s=jt();return Ke===null?Ho(s,t,a):Ku(s,Ke.memoizedState,t,a)},useTransition:function(){var t=zo(rs)[0],a=jt().memoizedState;return[typeof t=="boolean"?t:_l(t),a]},useSyncExternalStore:Eu,useId:sh,useHostTransitionStatus:Go,useFormState:Hu,useActionState:Hu,useOptimistic:function(t,a){var s=jt();return Ke!==null?Bu(s,Ke,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Oo,useCacheRefresh:nh};ch.useEffectEvent=Wu;function Vo(t,a,s,n){a=t.memoizedState,s=s(n,a),s=s==null?a:f({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Qo={enqueueSetState:function(t,a,s){t=t._reactInternals;var n=oa(),i=_s(n);i.payload=a,s!=null&&(i.callback=s),a=Bs(t,i,n),a!==null&&(Kt(a,t,n),Tl(a,t,n))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var n=oa(),i=_s(n);i.tag=1,i.payload=a,s!=null&&(i.callback=s),a=Bs(t,i,n),a!==null&&(Kt(a,t,n),Tl(a,t,n))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=oa(),n=_s(s);n.tag=2,a!=null&&(n.callback=a),a=Bs(t,n,s),a!==null&&(Kt(a,t,s),Tl(a,t,s))}};function dh(t,a,s,n,i,o,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,m):a.prototype&&a.prototype.isPureReactComponent?!vl(s,n)||!vl(i,o):!0}function uh(t,a,s,n){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,n),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,n),a.state!==t&&Qo.enqueueReplaceState(a,a.state,null)}function yn(t,a){var s=a;if("ref"in a){s={};for(var n in a)n!=="ref"&&(s[n]=a[n])}if(t=t.defaultProps){s===a&&(s=f({},s));for(var i in t)s[i]===void 0&&(s[i]=t[i])}return s}function hh(t){Ci(t)}function mh(t){console.error(t)}function fh(t){Ci(t)}function Qi(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(n){setTimeout(function(){throw n})}}function ph(t,a,s){try{var n=t.onCaughtError;n(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Xo(t,a,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){Qi(t,a)},s}function xh(t){return t=_s(t),t.tag=3,t}function gh(t,a,s,n){var i=s.type.getDerivedStateFromError;if(typeof i=="function"){var o=n.value;t.payload=function(){return i(o)},t.callback=function(){ph(a,s,n)}}var m=s.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(t.callback=function(){ph(a,s,n),typeof i!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var T=n.stack;this.componentDidCatch(n.value,{componentStack:T!==null?T:""})})}function Fx(t,a,s,n,i){if(s.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(a=s.alternate,a!==null&&Un(a,s,i,!0),s=na.current,s!==null){switch(s.tag){case 31:case 13:return ya===null?rr():s.alternate===null&&bt===0&&(bt=3),s.flags&=-257,s.flags|=65536,s.lanes=i,n===Oi?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([n]):a.add(n),vc(t,n,i)),!1;case 22:return s.flags|=65536,n===Oi?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([n])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([n]):s.add(n)),vc(t,n,i)),!1}throw Error(d(435,s.tag))}return vc(t,n,i),rr(),!1}if(qe)return a=na.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=i,n!==po&&(t=Error(d(422),{cause:n}),Sl(pa(t,s)))):(n!==po&&(a=Error(d(423),{cause:n}),Sl(pa(a,s))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=pa(n,s),i=Xo(t.stateNode,n,i),Co(t,i),bt!==4&&(bt=2)),!1;var o=Error(d(520),{cause:n});if(o=pa(o,s),Hl===null?Hl=[o]:Hl.push(o),bt!==4&&(bt=2),a===null)return!0;n=pa(n,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=i&-i,s.lanes|=t,t=Xo(s.stateNode,n,t),Co(s,t),!1;case 1:if(a=s.type,o=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Is===null||!Is.has(o))))return s.flags|=65536,i&=-i,s.lanes|=i,i=xh(i),gh(i,t,s,n),Co(s,i),!1}s=s.return}while(s!==null);return!1}var Zo=Error(d(461)),kt=!1;function Rt(t,a,s,n){a.child=t===null?vu(a,null,s,n):gn(a,t.child,s,n)}function bh(t,a,s,n,i){s=s.render;var o=a.ref;if("ref"in n){var m={};for(var T in n)T!=="ref"&&(m[T]=n[T])}else m=n;return mn(a),n=Do(t,a,s,m,o,i),T=_o(),t!==null&&!kt?(Bo(t,a,i),os(t,a,i)):(qe&&T&&mo(a),a.flags|=1,Rt(t,a,n,i),a.child)}function yh(t,a,s,n,i){if(t===null){var o=s.type;return typeof o=="function"&&!co(o)&&o.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=o,jh(t,a,o,n,i)):(t=Li(s.type,null,n,a,a.mode,i),t.ref=a.ref,t.return=a,a.child=t)}if(o=t.child,!lc(t,i)){var m=o.memoizedProps;if(s=s.compare,s=s!==null?s:vl,s(m,n)&&t.ref===a.ref)return os(t,a,i)}return a.flags|=1,t=as(o,n),t.ref=a.ref,t.return=a,a.child=t}function jh(t,a,s,n,i){if(t!==null){var o=t.memoizedProps;if(vl(o,n)&&t.ref===a.ref)if(kt=!1,a.pendingProps=n=o,lc(t,i))(t.flags&131072)!==0&&(kt=!0);else return a.lanes=t.lanes,os(t,a,i)}return Jo(t,a,s,n,i)}function vh(t,a,s,n){var i=n.children,o=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((a.flags&128)!==0){if(o=o!==null?o.baseLanes|s:s,t!==null){for(n=a.child=t.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~o}else n=0,a.child=null;return Nh(t,a,o,s,n)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bi(a,o!==null?o.cachePool:null),o!==null?Su(a,o):Eo(),ku(a);else return n=a.lanes=536870912,Nh(t,a,o!==null?o.baseLanes|s:s,s,n)}else o!==null?(Bi(a,o.cachePool),Su(a,o),Os(),a.memoizedState=null):(t!==null&&Bi(a,null),Eo(),Os());return Rt(t,a,i,s),a.child}function Ol(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Nh(t,a,s,n,i){var o=No();return o=o===null?null:{parent:wt._currentValue,pool:o},a.memoizedState={baseLanes:s,cachePool:o},t!==null&&Bi(a,null),Eo(),ku(a),t!==null&&Un(t,a,n,!0),a.childLanes=i,null}function Xi(t,a){return a=Ji({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function wh(t,a,s){return gn(a,t.child,null,s),t=Xi(a,a.pendingProps),t.flags|=2,la(a),a.memoizedState=null,t}function Ix(t,a,s){var n=a.pendingProps,i=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(qe){if(n.mode==="hidden")return t=Xi(a,n),a.lanes=536870912,Ol(null,t);if(Lo(a),(t=rt)?(t=Rm(t,ba),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Es!==null?{id:$a,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},s=iu(t),s.return=a,a.child=s,_t=a,rt=null)):t=null,t===null)throw Ls(a);return a.lanes=536870912,null}return Xi(a,n)}var o=t.memoizedState;if(o!==null){var m=o.dehydrated;if(Lo(a),i)if(a.flags&256)a.flags&=-257,a=wh(t,a,s);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(d(558));else if(kt||Un(t,a,s,!1),i=(s&t.childLanes)!==0,kt||i){if(n=st,n!==null&&(m=Cs(n,s),m!==0&&m!==o.retryLane))throw o.retryLane=m,cn(t,m),Kt(n,t,m),Zo;rr(),a=wh(t,a,s)}else t=o.treeContext,rt=ja(m.nextSibling),_t=a,qe=!0,Ts=null,ba=!1,t!==null&&cu(a,t),a=Xi(a,n),a.flags|=4096;return a}return t=as(t.child,{mode:n.mode,children:n.children}),t.ref=a.ref,a.child=t,t.return=a,t}function Zi(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(d(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function Jo(t,a,s,n,i){return mn(a),s=Do(t,a,s,n,void 0,i),n=_o(),t!==null&&!kt?(Bo(t,a,i),os(t,a,i)):(qe&&n&&mo(a),a.flags|=1,Rt(t,a,s,i),a.child)}function Sh(t,a,s,n,i,o){return mn(a),a.updateQueue=null,s=Au(a,n,s,i),Cu(t),n=_o(),t!==null&&!kt?(Bo(t,a,o),os(t,a,o)):(qe&&n&&mo(a),a.flags|=1,Rt(t,a,s,o),a.child)}function kh(t,a,s,n,i){if(mn(a),a.stateNode===null){var o=_n,m=s.contextType;typeof m=="object"&&m!==null&&(o=Bt(m)),o=new s(n,o),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Qo,a.stateNode=o,o._reactInternals=a,o=a.stateNode,o.props=n,o.state=a.memoizedState,o.refs={},So(a),m=s.contextType,o.context=typeof m=="object"&&m!==null?Bt(m):_n,o.state=a.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Vo(a,s,m,n),o.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(m=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),m!==o.state&&Qo.enqueueReplaceState(o,o.state,null),Ml(a,n,o,i),Ll(),o.state=a.memoizedState),typeof o.componentDidMount=="function"&&(a.flags|=4194308),n=!0}else if(t===null){o=a.stateNode;var T=a.memoizedProps,W=yn(s,T);o.props=W;var le=o.context,he=s.contextType;m=_n,typeof he=="object"&&he!==null&&(m=Bt(he));var xe=s.getDerivedStateFromProps;he=typeof xe=="function"||typeof o.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,he||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(T||le!==m)&&uh(a,o,n,m),Ds=!1;var oe=a.memoizedState;o.state=oe,Ml(a,n,o,i),Ll(),le=a.memoizedState,T||oe!==le||Ds?(typeof xe=="function"&&(Vo(a,s,xe,n),le=a.memoizedState),(W=Ds||dh(a,s,W,n,oe,le,m))?(he||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(a.flags|=4194308)):(typeof o.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=n,a.memoizedState=le),o.props=n,o.state=le,o.context=m,n=W):(typeof o.componentDidMount=="function"&&(a.flags|=4194308),n=!1)}else{o=a.stateNode,ko(t,a),m=a.memoizedProps,he=yn(s,m),o.props=he,xe=a.pendingProps,oe=o.context,le=s.contextType,W=_n,typeof le=="object"&&le!==null&&(W=Bt(le)),T=s.getDerivedStateFromProps,(le=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(m!==xe||oe!==W)&&uh(a,o,n,W),Ds=!1,oe=a.memoizedState,o.state=oe,Ml(a,n,o,i),Ll();var de=a.memoizedState;m!==xe||oe!==de||Ds||t!==null&&t.dependencies!==null&&Di(t.dependencies)?(typeof T=="function"&&(Vo(a,s,T,n),de=a.memoizedState),(he=Ds||dh(a,s,he,n,oe,de,W)||t!==null&&t.dependencies!==null&&Di(t.dependencies))?(le||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,de,W),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,de,W)),typeof o.componentDidUpdate=="function"&&(a.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof o.componentDidUpdate!="function"||m===t.memoizedProps&&oe===t.memoizedState||(a.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&oe===t.memoizedState||(a.flags|=1024),a.memoizedProps=n,a.memoizedState=de),o.props=n,o.state=de,o.context=W,n=he):(typeof o.componentDidUpdate!="function"||m===t.memoizedProps&&oe===t.memoizedState||(a.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&oe===t.memoizedState||(a.flags|=1024),n=!1)}return o=n,Zi(t,a),n=(a.flags&128)!==0,o||n?(o=a.stateNode,s=n&&typeof s.getDerivedStateFromError!="function"?null:o.render(),a.flags|=1,t!==null&&n?(a.child=gn(a,t.child,null,i),a.child=gn(a,null,s,i)):Rt(t,a,s,i),a.memoizedState=o.state,t=a.child):t=os(t,a,i),t}function Ch(t,a,s,n){return un(),a.flags|=256,Rt(t,a,s,n),a.child}var Ko={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ec(t){return{baseLanes:t,cachePool:pu()}}function tc(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=ra),t}function Ah(t,a,s){var n=a.pendingProps,i=!1,o=(a.flags&128)!==0,m;if((m=o)||(m=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),m&&(i=!0,a.flags&=-129),m=(a.flags&32)!==0,a.flags&=-33,t===null){if(qe){if(i?Rs(a):Os(),(t=rt)?(t=Rm(t,ba),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:Es!==null?{id:$a,overflow:Pa}:null,retryLane:536870912,hydrationErrors:null},s=iu(t),s.return=a,a.child=s,_t=a,rt=null)):t=null,t===null)throw Ls(a);return Uc(t)?a.lanes=32:a.lanes=536870912,null}var T=n.children;return n=n.fallback,i?(Os(),i=a.mode,T=Ji({mode:"hidden",children:T},i),n=dn(n,i,s,null),T.return=a,n.return=a,T.sibling=n,a.child=T,n=a.child,n.memoizedState=ec(s),n.childLanes=tc(t,m,s),a.memoizedState=Ko,Ol(null,n)):(Rs(a),ac(a,T))}var W=t.memoizedState;if(W!==null&&(T=W.dehydrated,T!==null)){if(o)a.flags&256?(Rs(a),a.flags&=-257,a=sc(t,a,s)):a.memoizedState!==null?(Os(),a.child=t.child,a.flags|=128,a=null):(Os(),T=n.fallback,i=a.mode,n=Ji({mode:"visible",children:n.children},i),T=dn(T,i,s,null),T.flags|=2,n.return=a,T.return=a,n.sibling=T,a.child=n,gn(a,t.child,null,s),n=a.child,n.memoizedState=ec(s),n.childLanes=tc(t,m,s),a.memoizedState=Ko,a=Ol(null,n));else if(Rs(a),Uc(T)){if(m=T.nextSibling&&T.nextSibling.dataset,m)var le=m.dgst;m=le,n=Error(d(419)),n.stack="",n.digest=m,Sl({value:n,source:null,stack:null}),a=sc(t,a,s)}else if(kt||Un(t,a,s,!1),m=(s&t.childLanes)!==0,kt||m){if(m=st,m!==null&&(n=Cs(m,s),n!==0&&n!==W.retryLane))throw W.retryLane=n,cn(t,n),Kt(m,t,n),Zo;Oc(T)||rr(),a=sc(t,a,s)}else Oc(T)?(a.flags|=192,a.child=t.child,a=null):(t=W.treeContext,rt=ja(T.nextSibling),_t=a,qe=!0,Ts=null,ba=!1,t!==null&&cu(a,t),a=ac(a,n.children),a.flags|=4096);return a}return i?(Os(),T=n.fallback,i=a.mode,W=t.child,le=W.sibling,n=as(W,{mode:"hidden",children:n.children}),n.subtreeFlags=W.subtreeFlags&65011712,le!==null?T=as(le,T):(T=dn(T,i,s,null),T.flags|=2),T.return=a,n.return=a,n.sibling=T,a.child=n,Ol(null,n),n=a.child,T=t.child.memoizedState,T===null?T=ec(s):(i=T.cachePool,i!==null?(W=wt._currentValue,i=i.parent!==W?{parent:W,pool:W}:i):i=pu(),T={baseLanes:T.baseLanes|s,cachePool:i}),n.memoizedState=T,n.childLanes=tc(t,m,s),a.memoizedState=Ko,Ol(t.child,n)):(Rs(a),s=t.child,t=s.sibling,s=as(s,{mode:"visible",children:n.children}),s.return=a,s.sibling=null,t!==null&&(m=a.deletions,m===null?(a.deletions=[t],a.flags|=16):m.push(t)),a.child=s,a.memoizedState=null,s)}function ac(t,a){return a=Ji({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Ji(t,a){return t=sa(22,t,null,a),t.lanes=0,t}function sc(t,a,s){return gn(a,t.child,null,s),t=ac(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Eh(t,a,s){t.lanes|=a;var n=t.alternate;n!==null&&(n.lanes|=a),bo(t.return,a,s)}function nc(t,a,s,n,i,o){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i,treeForkCount:o}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=n,m.tail=s,m.tailMode=i,m.treeForkCount=o)}function Th(t,a,s){var n=a.pendingProps,i=n.revealOrder,o=n.tail;n=n.children;var m=yt.current,T=(m&2)!==0;if(T?(m=m&1|2,a.flags|=128):m&=1,se(yt,m),Rt(t,a,n,s),n=qe?wl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Eh(t,s,a);else if(t.tag===19)Eh(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(s=a.child,i=null;s!==null;)t=s.alternate,t!==null&&Ii(t)===null&&(i=s),s=s.sibling;s=i,s===null?(i=a.child,a.child=null):(i=s.sibling,s.sibling=null),nc(a,!1,i,s,o,n);break;case"backwards":case"unstable_legacy-backwards":for(s=null,i=a.child,a.child=null;i!==null;){if(t=i.alternate,t!==null&&Ii(t)===null){a.child=i;break}t=i.sibling,i.sibling=s,s=i,i=t}nc(a,!0,s,null,o,n);break;case"together":nc(a,!1,null,null,void 0,n);break;default:a.memoizedState=null}return a.child}function os(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),Fs|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(Un(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(d(153));if(a.child!==null){for(t=a.child,s=as(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=as(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function lc(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Di(t)))}function $x(t,a,s){switch(a.tag){case 3:ue(a,a.stateNode.containerInfo),Ms(a,wt,t.memoizedState.cache),un();break;case 27:case 5:ve(a);break;case 4:ue(a,a.stateNode.containerInfo);break;case 10:Ms(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Lo(a),null;break;case 13:var n=a.memoizedState;if(n!==null)return n.dehydrated!==null?(Rs(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Ah(t,a,s):(Rs(a),t=os(t,a,s),t!==null?t.sibling:null);Rs(a);break;case 19:var i=(t.flags&128)!==0;if(n=(s&a.childLanes)!==0,n||(Un(t,a,s,!1),n=(s&a.childLanes)!==0),i){if(n)return Th(t,a,s);a.flags|=128}if(i=a.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),se(yt,yt.current),n)break;return null;case 22:return a.lanes=0,vh(t,a,s,a.pendingProps);case 24:Ms(a,wt,t.memoizedState.cache)}return os(t,a,s)}function Lh(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)kt=!0;else{if(!lc(t,s)&&(a.flags&128)===0)return kt=!1,$x(t,a,s);kt=(t.flags&131072)!==0}else kt=!1,qe&&(a.flags&1048576)!==0&&ou(a,wl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var n=a.pendingProps;if(t=pn(a.elementType),a.type=t,typeof t=="function")co(t)?(n=yn(t,n),a.tag=1,a=kh(null,a,t,n,s)):(a.tag=0,a=Jo(null,a,t,n,s));else{if(t!=null){var i=t.$$typeof;if(i===E){a.tag=11,a=bh(null,a,t,n,s);break e}else if(i===$){a.tag=14,a=yh(null,a,t,n,s);break e}}throw a=D(t)||t,Error(d(306,a,""))}}return a;case 0:return Jo(t,a,a.type,a.pendingProps,s);case 1:return n=a.type,i=yn(n,a.pendingProps),kh(t,a,n,i,s);case 3:e:{if(ue(a,a.stateNode.containerInfo),t===null)throw Error(d(387));n=a.pendingProps;var o=a.memoizedState;i=o.element,ko(t,a),Ml(a,n,null,s);var m=a.memoizedState;if(n=m.cache,Ms(a,wt,n),n!==o.cache&&yo(a,[wt],s,!0),Ll(),n=m.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:m.cache},a.updateQueue.baseState=o,a.memoizedState=o,a.flags&256){a=Ch(t,a,n,s);break e}else if(n!==i){i=pa(Error(d(424)),a),Sl(i),a=Ch(t,a,n,s);break e}else for(t=a.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=ja(t.firstChild),_t=a,qe=!0,Ts=null,ba=!0,s=vu(a,null,n,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(un(),n===i){a=os(t,a,s);break e}Rt(t,a,n,s)}a=a.child}return a;case 26:return Zi(t,a),t===null?(s=$m(a.type,null,a.pendingProps,null))?a.memoizedState=s:qe||(s=a.type,t=a.pendingProps,n=fr(I.current).createElement(s),n[ut]=a,n[ht]=t,Ot(n,s,t),re(n),a.stateNode=n):a.memoizedState=$m(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return ve(a),t===null&&qe&&(n=a.stateNode=zm(a.type,a.pendingProps,I.current),_t=a,ba=!0,i=rt,qs(a.type)?(zc=i,rt=ja(n.firstChild)):rt=i),Rt(t,a,a.pendingProps.children,s),Zi(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&qe&&((i=n=rt)&&(n=gg(n,a.type,a.pendingProps,ba),n!==null?(a.stateNode=n,_t=a,rt=ja(n.firstChild),ba=!1,i=!0):i=!1),i||Ls(a)),ve(a),i=a.type,o=a.pendingProps,m=t!==null?t.memoizedProps:null,n=o.children,_c(i,o)?n=null:m!==null&&_c(i,m)&&(a.flags|=32),a.memoizedState!==null&&(i=Do(t,a,Dx,null,null,s),Zl._currentValue=i),Zi(t,a),Rt(t,a,n,s),a.child;case 6:return t===null&&qe&&((t=s=rt)&&(s=bg(s,a.pendingProps,ba),s!==null?(a.stateNode=s,_t=a,rt=null,t=!0):t=!1),t||Ls(a)),null;case 13:return Ah(t,a,s);case 4:return ue(a,a.stateNode.containerInfo),n=a.pendingProps,t===null?a.child=gn(a,null,n,s):Rt(t,a,n,s),a.child;case 11:return bh(t,a,a.type,a.pendingProps,s);case 7:return Rt(t,a,a.pendingProps,s),a.child;case 8:return Rt(t,a,a.pendingProps.children,s),a.child;case 12:return Rt(t,a,a.pendingProps.children,s),a.child;case 10:return n=a.pendingProps,Ms(a,a.type,n.value),Rt(t,a,n.children,s),a.child;case 9:return i=a.type._context,n=a.pendingProps.children,mn(a),i=Bt(i),n=n(i),a.flags|=1,Rt(t,a,n,s),a.child;case 14:return yh(t,a,a.type,a.pendingProps,s);case 15:return jh(t,a,a.type,a.pendingProps,s);case 19:return Th(t,a,s);case 31:return Ix(t,a,s);case 22:return vh(t,a,s,a.pendingProps);case 24:return mn(a),n=Bt(wt),t===null?(i=No(),i===null&&(i=st,o=jo(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=s),i=o),a.memoizedState={parent:n,cache:i},So(a),Ms(a,wt,i)):((t.lanes&s)!==0&&(ko(t,a),Ml(a,null,null,s),Ll()),i=t.memoizedState,o=a.memoizedState,i.parent!==n?(i={parent:n,cache:n},a.memoizedState=i,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=i),Ms(a,wt,n)):(n=o.cache,Ms(a,wt,n),n!==i.cache&&yo(a,[wt],s,!0))),Rt(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(d(156,a.tag))}function cs(t){t.flags|=4}function ic(t,a,s,n,i){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(sm())t.flags|=8192;else throw xn=Oi,wo}else t.flags&=-16777217}function Mh(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wm(a))if(sm())t.flags|=8192;else throw xn=Oi,wo}function Ki(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?ka():536870912,t.lanes|=a,Qn|=a)}function Ul(t,a){if(!qe)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ot(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(a)for(var i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=s,a}function Px(t,a,s){var n=a.pendingProps;switch(fo(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(a),null;case 1:return ot(a),null;case 3:return s=a.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),a.memoizedState.cache!==n&&(a.flags|=2048),ls(wt),me(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(On(a)?cs(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,xo())),ot(a),null;case 26:var i=a.type,o=a.memoizedState;return t===null?(cs(a),o!==null?(ot(a),Mh(a,o)):(ot(a),ic(a,i,null,n,s))):o?o!==t.memoizedState?(cs(a),ot(a),Mh(a,o)):(ot(a),a.flags&=-16777217):(t=t.memoizedProps,t!==n&&cs(a),ot(a),ic(a,i,t,n,s)),null;case 27:if(we(a),s=I.current,i=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==n&&cs(a);else{if(!n){if(a.stateNode===null)throw Error(d(166));return ot(a),null}t=Z.current,On(a)?du(a):(t=zm(i,n,s),a.stateNode=t,cs(a))}return ot(a),null;case 5:if(we(a),i=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==n&&cs(a);else{if(!n){if(a.stateNode===null)throw Error(d(166));return ot(a),null}if(o=Z.current,On(a))du(a);else{var m=fr(I.current);switch(o){case 1:o=m.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=m.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":o=m.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof n.is=="string"?m.createElement("select",{is:n.is}):m.createElement("select"),n.multiple?o.multiple=!0:n.size&&(o.size=n.size);break;default:o=typeof n.is=="string"?m.createElement(i,{is:n.is}):m.createElement(i)}}o[ut]=a,o[ht]=n;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=o;e:switch(Ot(o,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&cs(a)}}return ot(a),ic(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,s),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==n&&cs(a);else{if(typeof n!="string"&&a.stateNode===null)throw Error(d(166));if(t=I.current,On(a)){if(t=a.stateNode,s=a.memoizedProps,n=null,i=_t,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}t[ut]=a,t=!!(t.nodeValue===s||n!==null&&n.suppressHydrationWarning===!0||Am(t.nodeValue,s)),t||Ls(a,!0)}else t=fr(t).createTextNode(n),t[ut]=a,a.stateNode=t}return ot(a),null;case 31:if(s=a.memoizedState,t===null||t.memoizedState!==null){if(n=On(a),s!==null){if(t===null){if(!n)throw Error(d(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(557));t[ut]=a}else un(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),t=!1}else s=xo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return a.flags&256?(la(a),a):(la(a),null);if((a.flags&128)!==0)throw Error(d(558))}return ot(a),null;case 13:if(n=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=On(a),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(d(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));i[ut]=a}else un(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),i=!1}else i=xo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return a.flags&256?(la(a),a):(la(a),null)}return la(a),(a.flags&128)!==0?(a.lanes=s,a):(s=n!==null,t=t!==null&&t.memoizedState!==null,s&&(n=a.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048)),s!==t&&s&&(a.child.flags|=8192),Ki(a,a.updateQueue),ot(a),null);case 4:return me(),t===null&&Ec(a.stateNode.containerInfo),ot(a),null;case 10:return ls(a.type),ot(a),null;case 19:if(Q(yt),n=a.memoizedState,n===null)return ot(a),null;if(i=(a.flags&128)!==0,o=n.rendering,o===null)if(i)Ul(n,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(o=Ii(t),o!==null){for(a.flags|=128,Ul(n,!1),t=o.updateQueue,a.updateQueue=t,Ki(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)lu(s,t),s=s.sibling;return se(yt,yt.current&1|2),qe&&ss(a,n.treeForkCount),a.child}t=t.sibling}n.tail!==null&&At()>nr&&(a.flags|=128,i=!0,Ul(n,!1),a.lanes=4194304)}else{if(!i)if(t=Ii(o),t!==null){if(a.flags|=128,i=!0,t=t.updateQueue,a.updateQueue=t,Ki(a,t),Ul(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!qe)return ot(a),null}else 2*At()-n.renderingStartTime>nr&&s!==536870912&&(a.flags|=128,i=!0,Ul(n,!1),a.lanes=4194304);n.isBackwards?(o.sibling=a.child,a.child=o):(t=n.last,t!==null?t.sibling=o:a.child=o,n.last=o)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=At(),t.sibling=null,s=yt.current,se(yt,i?s&1|2:s&1),qe&&ss(a,n.treeForkCount),t):(ot(a),null);case 22:case 23:return la(a),To(),n=a.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(a.flags|=8192):n&&(a.flags|=8192),n?(s&536870912)!==0&&(a.flags&128)===0&&(ot(a),a.subtreeFlags&6&&(a.flags|=8192)):ot(a),s=a.updateQueue,s!==null&&Ki(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==s&&(a.flags|=2048),t!==null&&Q(fn),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),ls(wt),ot(a),null;case 25:return null;case 30:return null}throw Error(d(156,a.tag))}function Hx(t,a){switch(fo(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ls(wt),me(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return we(a),null;case 31:if(a.memoizedState!==null){if(la(a),a.alternate===null)throw Error(d(340));un()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(la(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(d(340));un()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return Q(yt),null;case 4:return me(),null;case 10:return ls(a.type),null;case 22:case 23:return la(a),To(),t!==null&&Q(fn),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return ls(wt),null;case 25:return null;default:return null}}function Dh(t,a){switch(fo(a),a.tag){case 3:ls(wt),me();break;case 26:case 27:case 5:we(a);break;case 4:me();break;case 31:a.memoizedState!==null&&la(a);break;case 13:la(a);break;case 19:Q(yt);break;case 10:ls(a.type);break;case 22:case 23:la(a),To(),t!==null&&Q(fn);break;case 24:ls(wt)}}function zl(t,a){try{var s=a.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var i=n.next;s=i;do{if((s.tag&t)===t){n=void 0;var o=s.create,m=s.inst;n=o(),m.destroy=n}s=s.next}while(s!==i)}}catch(T){Ze(a,a.return,T)}}function Us(t,a,s){try{var n=a.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&t)===t){var m=n.inst,T=m.destroy;if(T!==void 0){m.destroy=void 0,i=a;var W=s,le=T;try{le()}catch(he){Ze(i,W,he)}}}n=n.next}while(n!==o)}}catch(he){Ze(a,a.return,he)}}function _h(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{wu(a,s)}catch(n){Ze(t,t.return,n)}}}function Bh(t,a,s){s.props=yn(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(n){Ze(t,a,n)}}function Fl(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof s=="function"?t.refCleanup=s(n):s.current=n}}catch(i){Ze(t,a,i)}}function Ha(t,a){var s=t.ref,n=t.refCleanup;if(s!==null)if(typeof n=="function")try{n()}catch(i){Ze(t,a,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(i){Ze(t,a,i)}else s.current=null}function Rh(t){var a=t.type,s=t.memoizedProps,n=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break e;case"img":s.src?n.src=s.src:s.srcSet&&(n.srcset=s.srcSet)}}catch(i){Ze(t,t.return,i)}}function rc(t,a,s){try{var n=t.stateNode;ug(n,t.type,s,a),n[ht]=a}catch(i){Ze(t,t.return,i)}}function Oh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qs(t.type)||t.tag===4}function oc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Oh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cc(t,a,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=es));else if(n!==4&&(n===27&&qs(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(cc(t,a,s),t=t.sibling;t!==null;)cc(t,a,s),t=t.sibling}function er(t,a,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(n!==4&&(n===27&&qs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(er(t,a,s),t=t.sibling;t!==null;)er(t,a,s),t=t.sibling}function Uh(t){var a=t.stateNode,s=t.memoizedProps;try{for(var n=t.type,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Ot(a,n,s),a[ut]=t,a[ht]=s}catch(o){Ze(t,t.return,o)}}var ds=!1,Ct=!1,dc=!1,zh=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function qx(t,a){if(t=t.containerInfo,Mc=vr,t=Xd(t),ao(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var m=0,T=-1,W=-1,le=0,he=0,xe=t,oe=null;t:for(;;){for(var de;xe!==s||i!==0&&xe.nodeType!==3||(T=m+i),xe!==o||n!==0&&xe.nodeType!==3||(W=m+n),xe.nodeType===3&&(m+=xe.nodeValue.length),(de=xe.firstChild)!==null;)oe=xe,xe=de;for(;;){if(xe===t)break t;if(oe===s&&++le===i&&(T=m),oe===o&&++he===n&&(W=m),(de=xe.nextSibling)!==null)break;xe=oe,oe=xe.parentNode}xe=de}s=T===-1||W===-1?null:{start:T,end:W}}else s=null}s=s||{start:0,end:0}}else s=null;for(Dc={focusedElem:t,selectionRange:s},vr=!1,Mt=a;Mt!==null;)if(a=Mt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Mt=t;else for(;Mt!==null;){switch(a=Mt,o=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)i=t[s],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&o!==null){t=void 0,s=a,i=o.memoizedProps,o=o.memoizedState,n=s.stateNode;try{var Se=yn(s.type,i);t=n.getSnapshotBeforeUpdate(Se,o),n.__reactInternalSnapshotBeforeUpdate=t}catch(Me){Ze(s,s.return,Me)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)Rc(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(d(163))}if(t=a.sibling,t!==null){t.return=a.return,Mt=t;break}Mt=a.return}}function Fh(t,a,s){var n=s.flags;switch(s.tag){case 0:case 11:case 15:hs(t,s),n&4&&zl(5,s);break;case 1:if(hs(t,s),n&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(m){Ze(s,s.return,m)}else{var i=yn(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(i,a,t.__reactInternalSnapshotBeforeUpdate)}catch(m){Ze(s,s.return,m)}}n&64&&_h(s),n&512&&Fl(s,s.return);break;case 3:if(hs(t,s),n&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{wu(t,a)}catch(m){Ze(s,s.return,m)}}break;case 27:a===null&&n&4&&Uh(s);case 26:case 5:hs(t,s),a===null&&n&4&&Rh(s),n&512&&Fl(s,s.return);break;case 12:hs(t,s);break;case 31:hs(t,s),n&4&&Ph(t,s);break;case 13:hs(t,s),n&4&&Hh(t,s),n&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Kx.bind(null,s),yg(t,s))));break;case 22:if(n=s.memoizedState!==null||ds,!n){a=a!==null&&a.memoizedState!==null||Ct,i=ds;var o=Ct;ds=n,(Ct=a)&&!o?ms(t,s,(s.subtreeFlags&8772)!==0):hs(t,s),ds=i,Ct=o}break;case 30:break;default:hs(t,s)}}function Ih(t){var a=t.alternate;a!==null&&(t.alternate=null,Ih(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&za(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,Qt=!1;function us(t,a,s){for(s=s.child;s!==null;)$h(t,a,s),s=s.sibling}function $h(t,a,s){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Dt,s)}catch{}switch(s.tag){case 26:Ct||Ha(s,a),us(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ct||Ha(s,a);var n=ct,i=Qt;qs(s.type)&&(ct=s.stateNode,Qt=!1),us(t,a,s),Vl(s.stateNode),ct=n,Qt=i;break;case 5:Ct||Ha(s,a);case 6:if(n=ct,i=Qt,ct=null,us(t,a,s),ct=n,Qt=i,ct!==null)if(Qt)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(s.stateNode)}catch(o){Ze(s,a,o)}else try{ct.removeChild(s.stateNode)}catch(o){Ze(s,a,o)}break;case 18:ct!==null&&(Qt?(t=ct,_m(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),sl(t)):_m(ct,s.stateNode));break;case 4:n=ct,i=Qt,ct=s.stateNode.containerInfo,Qt=!0,us(t,a,s),ct=n,Qt=i;break;case 0:case 11:case 14:case 15:Us(2,s,a),Ct||Us(4,s,a),us(t,a,s);break;case 1:Ct||(Ha(s,a),n=s.stateNode,typeof n.componentWillUnmount=="function"&&Bh(s,a,n)),us(t,a,s);break;case 21:us(t,a,s);break;case 22:Ct=(n=Ct)||s.memoizedState!==null,us(t,a,s),Ct=n;break;default:us(t,a,s)}}function Ph(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(s){Ze(a,a.return,s)}}}function Hh(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(s){Ze(a,a.return,s)}}function Gx(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new zh),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new zh),a;default:throw Error(d(435,t.tag))}}function tr(t,a){var s=Gx(t);a.forEach(function(n){if(!s.has(n)){s.add(n);var i=eg.bind(null,t,n);n.then(i,i)}})}function Xt(t,a){var s=a.deletions;if(s!==null)for(var n=0;n<s.length;n++){var i=s[n],o=t,m=a,T=m;e:for(;T!==null;){switch(T.tag){case 27:if(qs(T.type)){ct=T.stateNode,Qt=!1;break e}break;case 5:ct=T.stateNode,Qt=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,Qt=!0;break e}T=T.return}if(ct===null)throw Error(d(160));$h(o,m,i),ct=null,Qt=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)qh(a,t),a=a.sibling}var Ma=null;function qh(t,a){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Xt(a,t),Zt(t),n&4&&(Us(3,t,t.return),zl(3,t),Us(5,t,t.return));break;case 1:Xt(a,t),Zt(t),n&512&&(Ct||s===null||Ha(s,s.return)),n&64&&ds&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?n:s.concat(n))));break;case 26:var i=Ma;if(Xt(a,t),Zt(t),n&512&&(Ct||s===null||Ha(s,s.return)),n&4){var o=s!==null?s.memoizedState:null;if(n=t.memoizedState,s===null)if(n===null)if(t.stateNode===null){e:{n=t.type,s=t.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":o=i.getElementsByTagName("title")[0],(!o||o[Ja]||o[ut]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(n),i.head.insertBefore(o,i.querySelector("head > title"))),Ot(o,n,s),o[ut]=t,re(o),n=o;break e;case"link":var m=qm("link","href",i).get(n+(s.href||""));if(m){for(var T=0;T<m.length;T++)if(o=m[T],o.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&o.getAttribute("rel")===(s.rel==null?null:s.rel)&&o.getAttribute("title")===(s.title==null?null:s.title)&&o.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){m.splice(T,1);break t}}o=i.createElement(n),Ot(o,n,s),i.head.appendChild(o);break;case"meta":if(m=qm("meta","content",i).get(n+(s.content||""))){for(T=0;T<m.length;T++)if(o=m[T],o.getAttribute("content")===(s.content==null?null:""+s.content)&&o.getAttribute("name")===(s.name==null?null:s.name)&&o.getAttribute("property")===(s.property==null?null:s.property)&&o.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&o.getAttribute("charset")===(s.charSet==null?null:s.charSet)){m.splice(T,1);break t}}o=i.createElement(n),Ot(o,n,s),i.head.appendChild(o);break;default:throw Error(d(468,n))}o[ut]=t,re(o),n=o}t.stateNode=n}else Gm(i,t.type,t.stateNode);else t.stateNode=Hm(i,n,t.memoizedProps);else o!==n?(o===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):o.count--,n===null?Gm(i,t.type,t.stateNode):Hm(i,n,t.memoizedProps)):n===null&&t.stateNode!==null&&rc(t,t.memoizedProps,s.memoizedProps)}break;case 27:Xt(a,t),Zt(t),n&512&&(Ct||s===null||Ha(s,s.return)),s!==null&&n&4&&rc(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Xt(a,t),Zt(t),n&512&&(Ct||s===null||Ha(s,s.return)),t.flags&32){i=t.stateNode;try{Ia(i,"")}catch(Se){Ze(t,t.return,Se)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,rc(t,i,s!==null?s.memoizedProps:i)),n&1024&&(dc=!0);break;case 6:if(Xt(a,t),Zt(t),n&4){if(t.stateNode===null)throw Error(d(162));n=t.memoizedProps,s=t.stateNode;try{s.nodeValue=n}catch(Se){Ze(t,t.return,Se)}}break;case 3:if(gr=null,i=Ma,Ma=pr(a.containerInfo),Xt(a,t),Ma=i,Zt(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{sl(a.containerInfo)}catch(Se){Ze(t,t.return,Se)}dc&&(dc=!1,Gh(t));break;case 4:n=Ma,Ma=pr(t.stateNode.containerInfo),Xt(a,t),Zt(t),Ma=n;break;case 12:Xt(a,t),Zt(t);break;case 31:Xt(a,t),Zt(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,tr(t,n)));break;case 13:Xt(a,t),Zt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(sr=At()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,tr(t,n)));break;case 22:i=t.memoizedState!==null;var W=s!==null&&s.memoizedState!==null,le=ds,he=Ct;if(ds=le||i,Ct=he||W,Xt(a,t),Ct=he,ds=le,Zt(t),n&8192)e:for(a=t.stateNode,a._visibility=i?a._visibility&-2:a._visibility|1,i&&(s===null||W||ds||Ct||jn(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){W=s=a;try{if(o=W.stateNode,i)m=o.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{T=W.stateNode;var xe=W.memoizedProps.style,oe=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;T.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Se){Ze(W,W.return,Se)}}}else if(a.tag===6){if(s===null){W=a;try{W.stateNode.nodeValue=i?"":W.memoizedProps}catch(Se){Ze(W,W.return,Se)}}}else if(a.tag===18){if(s===null){W=a;try{var de=W.stateNode;i?Bm(de,!0):Bm(W.stateNode,!1)}catch(Se){Ze(W,W.return,Se)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}n&4&&(n=t.updateQueue,n!==null&&(s=n.retryQueue,s!==null&&(n.retryQueue=null,tr(t,s))));break;case 19:Xt(a,t),Zt(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,tr(t,n)));break;case 30:break;case 21:break;default:Xt(a,t),Zt(t)}}function Zt(t){var a=t.flags;if(a&2){try{for(var s,n=t.return;n!==null;){if(Oh(n)){s=n;break}n=n.return}if(s==null)throw Error(d(160));switch(s.tag){case 27:var i=s.stateNode,o=oc(t);er(t,o,i);break;case 5:var m=s.stateNode;s.flags&32&&(Ia(m,""),s.flags&=-33);var T=oc(t);er(t,T,m);break;case 3:case 4:var W=s.stateNode.containerInfo,le=oc(t);cc(t,le,W);break;default:throw Error(d(161))}}catch(he){Ze(t,t.return,he)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Gh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Gh(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function hs(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Fh(t,a.alternate,a),a=a.sibling}function jn(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Us(4,a,a.return),jn(a);break;case 1:Ha(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&Bh(a,a.return,s),jn(a);break;case 27:Vl(a.stateNode);case 26:case 5:Ha(a,a.return),jn(a);break;case 22:a.memoizedState===null&&jn(a);break;case 30:jn(a);break;default:jn(a)}t=t.sibling}}function ms(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var n=a.alternate,i=t,o=a,m=o.flags;switch(o.tag){case 0:case 11:case 15:ms(i,o,s),zl(4,o);break;case 1:if(ms(i,o,s),n=o,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(le){Ze(n,n.return,le)}if(n=o,i=n.updateQueue,i!==null){var T=n.stateNode;try{var W=i.shared.hiddenCallbacks;if(W!==null)for(i.shared.hiddenCallbacks=null,i=0;i<W.length;i++)Nu(W[i],T)}catch(le){Ze(n,n.return,le)}}s&&m&64&&_h(o),Fl(o,o.return);break;case 27:Uh(o);case 26:case 5:ms(i,o,s),s&&n===null&&m&4&&Rh(o),Fl(o,o.return);break;case 12:ms(i,o,s);break;case 31:ms(i,o,s),s&&m&4&&Ph(i,o);break;case 13:ms(i,o,s),s&&m&4&&Hh(i,o);break;case 22:o.memoizedState===null&&ms(i,o,s),Fl(o,o.return);break;case 30:break;default:ms(i,o,s)}a=a.sibling}}function uc(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&kl(s))}function hc(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&kl(t))}function Da(t,a,s,n){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Wh(t,a,s,n),a=a.sibling}function Wh(t,a,s,n){var i=a.flags;switch(a.tag){case 0:case 11:case 15:Da(t,a,s,n),i&2048&&zl(9,a);break;case 1:Da(t,a,s,n);break;case 3:Da(t,a,s,n),i&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&kl(t)));break;case 12:if(i&2048){Da(t,a,s,n),t=a.stateNode;try{var o=a.memoizedProps,m=o.id,T=o.onPostCommit;typeof T=="function"&&T(m,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(W){Ze(a,a.return,W)}}else Da(t,a,s,n);break;case 31:Da(t,a,s,n);break;case 13:Da(t,a,s,n);break;case 23:break;case 22:o=a.stateNode,m=a.alternate,a.memoizedState!==null?o._visibility&2?Da(t,a,s,n):Il(t,a):o._visibility&2?Da(t,a,s,n):(o._visibility|=2,Wn(t,a,s,n,(a.subtreeFlags&10256)!==0||!1)),i&2048&&uc(m,a);break;case 24:Da(t,a,s,n),i&2048&&hc(a.alternate,a);break;default:Da(t,a,s,n)}}function Wn(t,a,s,n,i){for(i=i&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var o=t,m=a,T=s,W=n,le=m.flags;switch(m.tag){case 0:case 11:case 15:Wn(o,m,T,W,i),zl(8,m);break;case 23:break;case 22:var he=m.stateNode;m.memoizedState!==null?he._visibility&2?Wn(o,m,T,W,i):Il(o,m):(he._visibility|=2,Wn(o,m,T,W,i)),i&&le&2048&&uc(m.alternate,m);break;case 24:Wn(o,m,T,W,i),i&&le&2048&&hc(m.alternate,m);break;default:Wn(o,m,T,W,i)}a=a.sibling}}function Il(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,n=a,i=n.flags;switch(n.tag){case 22:Il(s,n),i&2048&&uc(n.alternate,n);break;case 24:Il(s,n),i&2048&&hc(n.alternate,n);break;default:Il(s,n)}a=a.sibling}}var $l=8192;function Yn(t,a,s){if(t.subtreeFlags&$l)for(t=t.child;t!==null;)Yh(t,a,s),t=t.sibling}function Yh(t,a,s){switch(t.tag){case 26:Yn(t,a,s),t.flags&$l&&t.memoizedState!==null&&Mg(s,Ma,t.memoizedState,t.memoizedProps);break;case 5:Yn(t,a,s);break;case 3:case 4:var n=Ma;Ma=pr(t.stateNode.containerInfo),Yn(t,a,s),Ma=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=$l,$l=16777216,Yn(t,a,s),$l=n):Yn(t,a,s));break;default:Yn(t,a,s)}}function Vh(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function Pl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];Mt=n,Xh(n,t)}Vh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qh(t),t=t.sibling}function Qh(t){switch(t.tag){case 0:case 11:case 15:Pl(t),t.flags&2048&&Us(9,t,t.return);break;case 3:Pl(t);break;case 12:Pl(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,ar(t)):Pl(t);break;default:Pl(t)}}function ar(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var n=a[s];Mt=n,Xh(n,t)}Vh(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Us(8,a,a.return),ar(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,ar(a));break;default:ar(a)}t=t.sibling}}function Xh(t,a){for(;Mt!==null;){var s=Mt;switch(s.tag){case 0:case 11:case 15:Us(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var n=s.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:kl(s.memoizedState.cache)}if(n=s.child,n!==null)n.return=s,Mt=n;else e:for(s=t;Mt!==null;){n=Mt;var i=n.sibling,o=n.return;if(Ih(n),n===s){Mt=null;break e}if(i!==null){i.return=o,Mt=i;break e}Mt=o}}}var Wx={getCacheForType:function(t){var a=Bt(wt),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s},cacheSignal:function(){return Bt(wt).controller.signal}},Yx=typeof WeakMap=="function"?WeakMap:Map,Qe=0,st=null,Fe=null,$e=0,Xe=0,ia=null,zs=!1,Vn=!1,mc=!1,fs=0,bt=0,Fs=0,vn=0,fc=0,ra=0,Qn=0,Hl=null,Jt=null,pc=!1,sr=0,Zh=0,nr=1/0,lr=null,Is=null,Et=0,$s=null,Xn=null,ps=0,xc=0,gc=null,Jh=null,ql=0,bc=null;function oa(){return(Qe&2)!==0&&$e!==0?$e&-$e:H.T!==null?Sc():Te()}function Kh(){if(ra===0)if(($e&536870912)===0||qe){var t=Ra;Ra<<=1,(Ra&3932160)===0&&(Ra=262144),ra=t}else ra=536870912;return t=na.current,t!==null&&(t.flags|=32),ra}function Kt(t,a,s){(t===st&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Zn(t,0),Ps(t,$e,ra,!1)),Ft(t,s),((Qe&2)===0||t!==st)&&(t===st&&((Qe&2)===0&&(vn|=s),bt===4&&Ps(t,$e,ra,!1)),qa(t))}function em(t,a,s){if((Qe&6)!==0)throw Error(d(327));var n=!s&&(a&127)===0&&(a&t.expiredLanes)===0||Sa(t,a),i=n?Xx(t,a):jc(t,a,!0),o=n;do{if(i===0){Vn&&!n&&Ps(t,a,0,!1);break}else{if(s=t.current.alternate,o&&!Vx(s)){i=jc(t,a,!1),o=!1;continue}if(i===2){if(o=a,t.errorRecoveryDisabledLanes&o)var m=0;else m=t.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){a=m;e:{var T=t;i=Hl;var W=T.current.memoizedState.isDehydrated;if(W&&(Zn(T,m).flags|=256),m=jc(T,m,!1),m!==2){if(mc&&!W){T.errorRecoveryDisabledLanes|=o,vn|=o,i=4;break e}o=Jt,Jt=i,o!==null&&(Jt===null?Jt=o:Jt.push.apply(Jt,o))}i=m}if(o=!1,i!==2)continue}}if(i===1){Zn(t,0),Ps(t,a,0,!0);break}e:{switch(n=t,o=i,o){case 0:case 1:throw Error(d(345));case 4:if((a&4194048)!==a)break;case 6:Ps(n,a,ra,!zs);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(d(329))}if((a&62914560)===a&&(i=sr+300-At(),10<i)){if(Ps(n,a,ra,!zs),xt(n,0,!0)!==0)break e;ps=a,n.timeoutHandle=Mm(tm.bind(null,n,s,Jt,lr,pc,a,ra,vn,Qn,zs,o,"Throttled",-0,0),i);break e}tm(n,s,Jt,lr,pc,a,ra,vn,Qn,zs,o,null,-0,0)}}break}while(!0);qa(t)}function tm(t,a,s,n,i,o,m,T,W,le,he,xe,oe,de){if(t.timeoutHandle=-1,xe=a.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:es},Yh(a,o,xe);var Se=(o&62914560)===o?sr-At():(o&4194048)===o?Zh-At():0;if(Se=Dg(xe,Se),Se!==null){ps=o,t.cancelPendingCommit=Se(cm.bind(null,t,a,o,s,n,i,m,T,W,he,xe,null,oe,de)),Ps(t,o,m,!le);return}}cm(t,a,o,s,n,i,m,T,W)}function Vx(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var n=0;n<s.length;n++){var i=s[n],o=i.getSnapshot;i=i.value;try{if(!aa(o(),i))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ps(t,a,s,n){a&=~fc,a&=~vn,t.suspendedLanes|=a,t.pingedLanes&=~a,n&&(t.warmLanes|=a),n=t.expirationTimes;for(var i=a;0<i;){var o=31-Nt(i),m=1<<o;n[o]=-1,i&=~m}s!==0&&Oa(t,s,a)}function ir(){return(Qe&6)===0?(Gl(0),!1):!0}function yc(){if(Fe!==null){if(Xe===0)var t=Fe.return;else t=Fe,ns=hn=null,Ro(t),$n=null,Al=0,t=Fe;for(;t!==null;)Dh(t.alternate,t),t=t.return;Fe=null}}function Zn(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,fg(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ps=0,yc(),st=t,Fe=s=as(t.current,null),$e=a,Xe=0,ia=null,zs=!1,Vn=Sa(t,a),mc=!1,Qn=ra=fc=vn=Fs=bt=0,Jt=Hl=null,pc=!1,(a&8)!==0&&(a|=a&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=a;0<n;){var i=31-Nt(n),o=1<<i;a|=t[i],n&=~o}return fs=a,Ai(),s}function am(t,a){Oe=null,H.H=Rl,a===In||a===Ri?(a=bu(),Xe=3):a===wo?(a=bu(),Xe=4):Xe=a===Zo?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ia=a,Fe===null&&(bt=1,Qi(t,pa(a,t.current)))}function sm(){var t=na.current;return t===null?!0:($e&4194048)===$e?ya===null:($e&62914560)===$e||($e&536870912)!==0?t===ya:!1}function nm(){var t=H.H;return H.H=Rl,t===null?Rl:t}function lm(){var t=H.A;return H.A=Wx,t}function rr(){bt=4,zs||($e&4194048)!==$e&&na.current!==null||(Vn=!0),(Fs&134217727)===0&&(vn&134217727)===0||st===null||Ps(st,$e,ra,!1)}function jc(t,a,s){var n=Qe;Qe|=2;var i=nm(),o=lm();(st!==t||$e!==a)&&(lr=null,Zn(t,a)),a=!1;var m=bt;e:do try{if(Xe!==0&&Fe!==null){var T=Fe,W=ia;switch(Xe){case 8:yc(),m=6;break e;case 3:case 2:case 9:case 6:na.current===null&&(a=!0);var le=Xe;if(Xe=0,ia=null,Jn(t,T,W,le),s&&Vn){m=0;break e}break;default:le=Xe,Xe=0,ia=null,Jn(t,T,W,le)}}Qx(),m=bt;break}catch(he){am(t,he)}while(!0);return a&&t.shellSuspendCounter++,ns=hn=null,Qe=n,H.H=i,H.A=o,Fe===null&&(st=null,$e=0,Ai()),m}function Qx(){for(;Fe!==null;)im(Fe)}function Xx(t,a){var s=Qe;Qe|=2;var n=nm(),i=lm();st!==t||$e!==a?(lr=null,nr=At()+500,Zn(t,a)):Vn=Sa(t,a);e:do try{if(Xe!==0&&Fe!==null){a=Fe;var o=ia;t:switch(Xe){case 1:Xe=0,ia=null,Jn(t,a,o,1);break;case 2:case 9:if(xu(o)){Xe=0,ia=null,rm(a);break}a=function(){Xe!==2&&Xe!==9||st!==t||(Xe=7),qa(t)},o.then(a,a);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:xu(o)?(Xe=0,ia=null,rm(a)):(Xe=0,ia=null,Jn(t,a,o,7));break;case 5:var m=null;switch(Fe.tag){case 26:m=Fe.memoizedState;case 5:case 27:var T=Fe;if(m?Wm(m):T.stateNode.complete){Xe=0,ia=null;var W=T.sibling;if(W!==null)Fe=W;else{var le=T.return;le!==null?(Fe=le,or(le)):Fe=null}break t}}Xe=0,ia=null,Jn(t,a,o,5);break;case 6:Xe=0,ia=null,Jn(t,a,o,6);break;case 8:yc(),bt=6;break e;default:throw Error(d(462))}}Zx();break}catch(he){am(t,he)}while(!0);return ns=hn=null,H.H=n,H.A=i,Qe=s,Fe!==null?0:(st=null,$e=0,Ai(),bt)}function Zx(){for(;Fe!==null&&!Ut();)im(Fe)}function im(t){var a=Lh(t.alternate,t,fs);t.memoizedProps=t.pendingProps,a===null?or(t):Fe=a}function rm(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=Sh(s,a,a.pendingProps,a.type,void 0,$e);break;case 11:a=Sh(s,a,a.pendingProps,a.type.render,a.ref,$e);break;case 5:Ro(a);default:Dh(s,a),a=Fe=lu(a,fs),a=Lh(s,a,fs)}t.memoizedProps=t.pendingProps,a===null?or(t):Fe=a}function Jn(t,a,s,n){ns=hn=null,Ro(a),$n=null,Al=0;var i=a.return;try{if(Fx(t,i,a,s,$e)){bt=1,Qi(t,pa(s,t.current)),Fe=null;return}}catch(o){if(i!==null)throw Fe=i,o;bt=1,Qi(t,pa(s,t.current)),Fe=null;return}a.flags&32768?(qe||n===1?t=!0:Vn||($e&536870912)!==0?t=!1:(zs=t=!0,(n===2||n===9||n===3||n===6)&&(n=na.current,n!==null&&n.tag===13&&(n.flags|=16384))),om(a,t)):or(a)}function or(t){var a=t;do{if((a.flags&32768)!==0){om(a,zs);return}t=a.return;var s=Px(a.alternate,a,fs);if(s!==null){Fe=s;return}if(a=a.sibling,a!==null){Fe=a;return}Fe=a=t}while(a!==null);bt===0&&(bt=5)}function om(t,a){do{var s=Hx(t.alternate,t);if(s!==null){s.flags&=32767,Fe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=s}while(t!==null);bt=6,Fe=null}function cm(t,a,s,n,i,o,m,T,W){t.cancelPendingCommit=null;do cr();while(Et!==0);if((Qe&6)!==0)throw Error(d(327));if(a!==null){if(a===t.current)throw Error(d(177));if(o=a.lanes|a.childLanes,o|=ro,It(t,s,o,m,T,W),t===st&&(Fe=st=null,$e=0),Xn=a,$s=t,ps=s,xc=o,gc=i,Jh=n,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tg(pt,function(){return fm(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||n){n=H.T,H.T=null,i=G.p,G.p=2,m=Qe,Qe|=4;try{qx(t,a,s)}finally{Qe=m,G.p=i,H.T=n}}Et=1,dm(),um(),hm()}}function dm(){if(Et===1){Et=0;var t=$s,a=Xn,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var n=G.p;G.p=2;var i=Qe;Qe|=4;try{qh(a,t);var o=Dc,m=Xd(t.containerInfo),T=o.focusedElem,W=o.selectionRange;if(m!==T&&T&&T.ownerDocument&&Qd(T.ownerDocument.documentElement,T)){if(W!==null&&ao(T)){var le=W.start,he=W.end;if(he===void 0&&(he=le),"selectionStart"in T)T.selectionStart=le,T.selectionEnd=Math.min(he,T.value.length);else{var xe=T.ownerDocument||document,oe=xe&&xe.defaultView||window;if(oe.getSelection){var de=oe.getSelection(),Se=T.textContent.length,Me=Math.min(W.start,Se),tt=W.end===void 0?Me:Math.min(W.end,Se);!de.extend&&Me>tt&&(m=tt,tt=Me,Me=m);var ee=Vd(T,Me),X=Vd(T,tt);if(ee&&X&&(de.rangeCount!==1||de.anchorNode!==ee.node||de.anchorOffset!==ee.offset||de.focusNode!==X.node||de.focusOffset!==X.offset)){var ne=xe.createRange();ne.setStart(ee.node,ee.offset),de.removeAllRanges(),Me>tt?(de.addRange(ne),de.extend(X.node,X.offset)):(ne.setEnd(X.node,X.offset),de.addRange(ne))}}}}for(xe=[],de=T;de=de.parentNode;)de.nodeType===1&&xe.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<xe.length;T++){var fe=xe[T];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}vr=!!Mc,Dc=Mc=null}finally{Qe=i,G.p=n,H.T=s}}t.current=a,Et=2}}function um(){if(Et===2){Et=0;var t=$s,a=Xn,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var n=G.p;G.p=2;var i=Qe;Qe|=4;try{Fh(t,a.alternate,a)}finally{Qe=i,G.p=n,H.T=s}}Et=3}}function hm(){if(Et===4||Et===3){Et=0,ea();var t=$s,a=Xn,s=ps,n=Jh;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Et=5:(Et=0,Xn=$s=null,mm(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Is=null),Ua(s),a=a.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Dt,a,void 0,(a.current.flags&128)===128)}catch{}if(n!==null){a=H.T,i=G.p,G.p=2,H.T=null;try{for(var o=t.onRecoverableError,m=0;m<n.length;m++){var T=n[m];o(T.value,{componentStack:T.stack})}}finally{H.T=a,G.p=i}}(ps&3)!==0&&cr(),qa(t),i=t.pendingLanes,(s&261930)!==0&&(i&42)!==0?t===bc?ql++:(ql=0,bc=t):ql=0,Gl(0)}}function mm(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,kl(a)))}function cr(){return dm(),um(),hm(),fm()}function fm(){if(Et!==5)return!1;var t=$s,a=xc;xc=0;var s=Ua(ps),n=H.T,i=G.p;try{G.p=32>s?32:s,H.T=null,s=gc,gc=null;var o=$s,m=ps;if(Et=0,Xn=$s=null,ps=0,(Qe&6)!==0)throw Error(d(331));var T=Qe;if(Qe|=4,Qh(o.current),Wh(o,o.current,m,s),Qe=T,Gl(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Dt,o)}catch{}return!0}finally{G.p=i,H.T=n,mm(t,a)}}function pm(t,a,s){a=pa(s,a),a=Xo(t.stateNode,a,2),t=Bs(t,a,2),t!==null&&(Ft(t,2),qa(t))}function Ze(t,a,s){if(t.tag===3)pm(t,t,s);else for(;a!==null;){if(a.tag===3){pm(a,t,s);break}else if(a.tag===1){var n=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Is===null||!Is.has(n))){t=pa(s,t),s=xh(2),n=Bs(a,s,2),n!==null&&(gh(s,n,a,t),Ft(n,2),qa(n));break}}a=a.return}}function vc(t,a,s){var n=t.pingCache;if(n===null){n=t.pingCache=new Yx;var i=new Set;n.set(a,i)}else i=n.get(a),i===void 0&&(i=new Set,n.set(a,i));i.has(s)||(mc=!0,i.add(s),t=Jx.bind(null,t,a,s),a.then(t,t))}function Jx(t,a,s){var n=t.pingCache;n!==null&&n.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,st===t&&($e&s)===s&&(bt===4||bt===3&&($e&62914560)===$e&&300>At()-sr?(Qe&2)===0&&Zn(t,0):fc|=s,Qn===$e&&(Qn=0)),qa(t)}function xm(t,a){a===0&&(a=ka()),t=cn(t,a),t!==null&&(Ft(t,a),qa(t))}function Kx(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),xm(t,s)}function eg(t,a){var s=0;switch(t.tag){case 31:case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(s=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(d(314))}n!==null&&n.delete(a),xm(t,s)}function tg(t,a){return ft(t,a)}var dr=null,Kn=null,Nc=!1,ur=!1,wc=!1,Hs=0;function qa(t){t!==Kn&&t.next===null&&(Kn===null?dr=Kn=t:Kn=Kn.next=t),ur=!0,Nc||(Nc=!0,sg())}function Gl(t,a){if(!wc&&ur){wc=!0;do for(var s=!1,n=dr;n!==null;){if(t!==0){var i=n.pendingLanes;if(i===0)var o=0;else{var m=n.suspendedLanes,T=n.pingedLanes;o=(1<<31-Nt(42|t)+1)-1,o&=i&~(m&~T),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(s=!0,jm(n,o))}else o=$e,o=xt(n,n===st?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(o&3)===0||Sa(n,o)||(s=!0,jm(n,o));n=n.next}while(s);wc=!1}}function ag(){gm()}function gm(){ur=Nc=!1;var t=0;Hs!==0&&mg()&&(t=Hs);for(var a=At(),s=null,n=dr;n!==null;){var i=n.next,o=bm(n,a);o===0?(n.next=null,s===null?dr=i:s.next=i,i===null&&(Kn=s)):(s=n,(t!==0||(o&3)!==0)&&(ur=!0)),n=i}Et!==0&&Et!==5||Gl(t),Hs!==0&&(Hs=0)}function bm(t,a){for(var s=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes&-62914561;0<o;){var m=31-Nt(o),T=1<<m,W=i[m];W===-1?((T&s)===0||(T&n)!==0)&&(i[m]=an(T,a)):W<=a&&(t.expiredLanes|=T),o&=~T}if(a=st,s=$e,s=xt(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,s===0||t===a&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&qt(n),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Sa(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(n!==null&&qt(n),Ua(s)){case 2:case 8:s=Va;break;case 32:s=pt;break;case 268435456:s=Ba;break;default:s=pt}return n=ym.bind(null,t),s=ft(s,n),t.callbackPriority=a,t.callbackNode=s,a}return n!==null&&n!==null&&qt(n),t.callbackPriority=2,t.callbackNode=null,2}function ym(t,a){if(Et!==0&&Et!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(cr()&&t.callbackNode!==s)return null;var n=$e;return n=xt(t,t===st?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(em(t,n,a),bm(t,At()),t.callbackNode!=null&&t.callbackNode===s?ym.bind(null,t):null)}function jm(t,a){if(cr())return null;em(t,a,!0)}function sg(){pg(function(){(Qe&6)!==0?ft(Ya,ag):gm()})}function Sc(){if(Hs===0){var t=zn;t===0&&(t=Qa,Qa<<=1,(Qa&261888)===0&&(Qa=256)),Hs=t}return Hs}function vm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:yi(""+t)}function Nm(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function ng(t,a,s,n,i){if(a==="submit"&&s&&s.stateNode===i){var o=vm((i[ht]||null).action),m=n.submitter;m&&(a=(a=m[ht]||null)?vm(a.formAction):m.getAttribute("formAction"),a!==null&&(o=a,m=null));var T=new wi("action","action",null,n,i);t.push({event:T,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Hs!==0){var W=m?Nm(i,m):new FormData(i);qo(s,{pending:!0,data:W,method:i.method,action:o},null,W)}}else typeof o=="function"&&(T.preventDefault(),W=m?Nm(i,m):new FormData(i),qo(s,{pending:!0,data:W,method:i.method,action:o},o,W))},currentTarget:i}]})}}for(var kc=0;kc<io.length;kc++){var Cc=io[kc],lg=Cc.toLowerCase(),ig=Cc[0].toUpperCase()+Cc.slice(1);La(lg,"on"+ig)}La(Kd,"onAnimationEnd"),La(eu,"onAnimationIteration"),La(tu,"onAnimationStart"),La("dblclick","onDoubleClick"),La("focusin","onFocus"),La("focusout","onBlur"),La(Nx,"onTransitionRun"),La(wx,"onTransitionStart"),La(Sx,"onTransitionCancel"),La(au,"onTransitionEnd"),nt("onMouseEnter",["mouseout","mouseover"]),nt("onMouseLeave",["mouseout","mouseover"]),nt("onPointerEnter",["pointerout","pointerover"]),nt("onPointerLeave",["pointerout","pointerover"]),De("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),De("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),De("onBeforeInput",["compositionend","keypress","textInput","paste"]),De("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),De("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),De("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function wm(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],i=n.event;n=n.listeners;e:{var o=void 0;if(a)for(var m=n.length-1;0<=m;m--){var T=n[m],W=T.instance,le=T.currentTarget;if(T=T.listener,W!==o&&i.isPropagationStopped())break e;o=T,i.currentTarget=le;try{o(i)}catch(he){Ci(he)}i.currentTarget=null,o=W}else for(m=0;m<n.length;m++){if(T=n[m],W=T.instance,le=T.currentTarget,T=T.listener,W!==o&&i.isPropagationStopped())break e;o=T,i.currentTarget=le;try{o(i)}catch(he){Ci(he)}i.currentTarget=null,o=W}}}}function Ie(t,a){var s=a[Ea];s===void 0&&(s=a[Ea]=new Set);var n=t+"__bubble";s.has(n)||(Sm(a,t,2,!1),s.add(n))}function Ac(t,a,s){var n=0;a&&(n|=4),Sm(s,t,n,a)}var hr="_reactListening"+Math.random().toString(36).slice(2);function Ec(t){if(!t[hr]){t[hr]=!0,je.forEach(function(s){s!=="selectionchange"&&(rg.has(s)||Ac(s,!1,t),Ac(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[hr]||(a[hr]=!0,Ac("selectionchange",!1,a))}}function Sm(t,a,s,n){switch(Km(a)){case 2:var i=Rg;break;case 8:i=Og;break;default:i=Hc}s=i.bind(null,a,s,t),i=void 0,!Yr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(a,s,{capture:!0,passive:i}):t.addEventListener(a,s,!0):i!==void 0?t.addEventListener(a,s,{passive:i}):t.addEventListener(a,s,!1)}function Tc(t,a,s,n,i){var o=n;if((a&1)===0&&(a&2)===0&&n!==null)e:for(;;){if(n===null)return;var m=n.tag;if(m===3||m===4){var T=n.stateNode.containerInfo;if(T===i)break;if(m===4)for(m=n.return;m!==null;){var W=m.tag;if((W===3||W===4)&&m.stateNode.containerInfo===i)return;m=m.return}for(;T!==null;){if(m=Fa(T),m===null)return;if(W=m.tag,W===5||W===6||W===26||W===27){n=o=m;continue e}T=T.parentNode}}n=n.return}Td(function(){var le=o,he=Gr(s),xe=[];e:{var oe=su.get(t);if(oe!==void 0){var de=wi,Se=t;switch(t){case"keypress":if(vi(s)===0)break e;case"keydown":case"keyup":de=ex;break;case"focusin":Se="focus",de=Zr;break;case"focusout":Se="blur",de=Zr;break;case"beforeblur":case"afterblur":de=Zr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=sx;break;case Kd:case eu:case tu:de=Gp;break;case au:de=lx;break;case"scroll":case"scrollend":de=Ip;break;case"wheel":de=rx;break;case"copy":case"cut":case"paste":de=Yp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Bd;break;case"toggle":case"beforetoggle":de=cx}var Me=(a&4)!==0,tt=!Me&&(t==="scroll"||t==="scrollend"),ee=Me?oe!==null?oe+"Capture":null:oe;Me=[];for(var X=le,ne;X!==null;){var fe=X;if(ne=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ne===null||ee===null||(fe=fl(X,ee),fe!=null&&Me.push(Yl(X,fe,ne))),tt)break;X=X.return}0<Me.length&&(oe=new de(oe,Se,null,s,he),xe.push({event:oe,listeners:Me}))}}if((a&7)===0){e:{if(oe=t==="mouseover"||t==="pointerover",de=t==="mouseout"||t==="pointerout",oe&&s!==qr&&(Se=s.relatedTarget||s.fromElement)&&(Fa(Se)||Se[lt]))break e;if((de||oe)&&(oe=he.window===he?he:(oe=he.ownerDocument)?oe.defaultView||oe.parentWindow:window,de?(Se=s.relatedTarget||s.toElement,de=le,Se=Se?Fa(Se):null,Se!==null&&(tt=p(Se),Me=Se.tag,Se!==tt||Me!==5&&Me!==27&&Me!==6)&&(Se=null)):(de=null,Se=le),de!==Se)){if(Me=Dd,fe="onMouseLeave",ee="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(Me=Bd,fe="onPointerLeave",ee="onPointerEnter",X="pointer"),tt=de==null?oe:te(de),ne=Se==null?oe:te(Se),oe=new Me(fe,X+"leave",de,s,he),oe.target=tt,oe.relatedTarget=ne,fe=null,Fa(he)===le&&(Me=new Me(ee,X+"enter",Se,s,he),Me.target=ne,Me.relatedTarget=tt,fe=Me),tt=fe,de&&Se)t:{for(Me=og,ee=de,X=Se,ne=0,fe=ee;fe;fe=Me(fe))ne++;fe=0;for(var Ee=X;Ee;Ee=Me(Ee))fe++;for(;0<ne-fe;)ee=Me(ee),ne--;for(;0<fe-ne;)X=Me(X),fe--;for(;ne--;){if(ee===X||X!==null&&ee===X.alternate){Me=ee;break t}ee=Me(ee),X=Me(X)}Me=null}else Me=null;de!==null&&km(xe,oe,de,Me,!1),Se!==null&&tt!==null&&km(xe,tt,Se,Me,!0)}}e:{if(oe=le?te(le):window,de=oe.nodeName&&oe.nodeName.toLowerCase(),de==="select"||de==="input"&&oe.type==="file")var We=Pd;else if(Id(oe))if(Hd)We=yx;else{We=gx;var ke=xx}else de=oe.nodeName,!de||de.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?le&&Cn(le.elementType)&&(We=Pd):We=bx;if(We&&(We=We(t,le))){$d(xe,We,s,he);break e}ke&&ke(t,oe,le),t==="focusout"&&le&&oe.type==="number"&&le.memoizedProps.value!=null&&Yt(oe,"number",oe.value)}switch(ke=le?te(le):window,t){case"focusin":(Id(ke)||ke.contentEditable==="true")&&(Ln=ke,so=le,Nl=null);break;case"focusout":Nl=so=Ln=null;break;case"mousedown":no=!0;break;case"contextmenu":case"mouseup":case"dragend":no=!1,Zd(xe,s,he);break;case"selectionchange":if(vx)break;case"keydown":case"keyup":Zd(xe,s,he)}var Ue;if(Kr)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Tn?zd(t,s)&&(Pe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Pe="onCompositionStart");Pe&&(Rd&&s.locale!=="ko"&&(Tn||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Tn&&(Ue=Ld()):(As=he,Vr="value"in As?As.value:As.textContent,Tn=!0)),ke=mr(le,Pe),0<ke.length&&(Pe=new _d(Pe,t,null,s,he),xe.push({event:Pe,listeners:ke}),Ue?Pe.data=Ue:(Ue=Fd(s),Ue!==null&&(Pe.data=Ue)))),(Ue=ux?hx(t,s):mx(t,s))&&(Pe=mr(le,"onBeforeInput"),0<Pe.length&&(ke=new _d("onBeforeInput","beforeinput",null,s,he),xe.push({event:ke,listeners:Pe}),ke.data=Ue)),ng(xe,t,le,s,he)}wm(xe,a)})}function Yl(t,a,s){return{instance:t,listener:a,currentTarget:s}}function mr(t,a){for(var s=a+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=fl(t,s),i!=null&&n.unshift(Yl(t,i,o)),i=fl(t,a),i!=null&&n.push(Yl(t,i,o))),t.tag===3)return n;t=t.return}return[]}function og(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function km(t,a,s,n,i){for(var o=a._reactName,m=[];s!==null&&s!==n;){var T=s,W=T.alternate,le=T.stateNode;if(T=T.tag,W!==null&&W===n)break;T!==5&&T!==26&&T!==27||le===null||(W=le,i?(le=fl(s,o),le!=null&&m.unshift(Yl(s,le,W))):i||(le=fl(s,o),le!=null&&m.push(Yl(s,le,W)))),s=s.return}m.length!==0&&t.push({event:a,listeners:m})}var cg=/\r\n?/g,dg=/\u0000|\uFFFD/g;function Cm(t){return(typeof t=="string"?t:""+t).replace(cg,`
`).replace(dg,"")}function Am(t,a){return a=Cm(a),Cm(t)===a}function et(t,a,s,n,i,o){switch(s){case"children":typeof n=="string"?a==="body"||a==="textarea"&&n===""||Ia(t,n):(typeof n=="number"||typeof n=="bigint")&&a!=="body"&&Ia(t,""+n);break;case"className":kn(t,"class",n);break;case"tabIndex":kn(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,s,n);break;case"style":ml(t,n,o);break;case"data":if(a!=="object"){kn(t,"data",n);break}case"src":case"href":if(n===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(s);break}n=yi(""+n),t.setAttribute(s,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(s==="formAction"?(a!=="input"&&et(t,a,"name",i.name,i,null),et(t,a,"formEncType",i.formEncType,i,null),et(t,a,"formMethod",i.formMethod,i,null),et(t,a,"formTarget",i.formTarget,i,null)):(et(t,a,"encType",i.encType,i,null),et(t,a,"method",i.method,i,null),et(t,a,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(s);break}n=yi(""+n),t.setAttribute(s,n);break;case"onClick":n!=null&&(t.onclick=es);break;case"onScroll":n!=null&&Ie("scroll",t);break;case"onScrollEnd":n!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(d(61));if(s=n.__html,s!=null){if(i.children!=null)throw Error(d(60));t.innerHTML=s}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}s=yi(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,""+n):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":n===!0?t.setAttribute(s,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(s,n):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(s,n):t.removeAttribute(s);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(s):t.setAttribute(s,n);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),nn(t,"popover",n);break;case"xlinkActuate":Ta(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Ta(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Ta(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Ta(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Ta(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Ta(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Ta(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Ta(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Ta(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":nn(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=bi.get(s)||s,nn(t,s,n))}}function Lc(t,a,s,n,i,o){switch(s){case"style":ml(t,n,o);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(d(61));if(s=n.__html,s!=null){if(i.children!=null)throw Error(d(60));t.innerHTML=s}}break;case"children":typeof n=="string"?Ia(t,n):(typeof n=="number"||typeof n=="bigint")&&Ia(t,""+n);break;case"onScroll":n!=null&&Ie("scroll",t);break;case"onScrollEnd":n!=null&&Ie("scrollend",t);break;case"onClick":n!=null&&(t.onclick=es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ne.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(i=s.endsWith("Capture"),a=s.slice(2,i?s.length-7:void 0),o=t[ht]||null,o=o!=null?o[s]:null,typeof o=="function"&&t.removeEventListener(a,o,i),typeof n=="function")){typeof o!="function"&&o!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,n,i);break e}s in t?t[s]=n:n===!0?t.setAttribute(s,""):nn(t,s,n)}}}function Ot(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var n=!1,i=!1,o;for(o in s)if(s.hasOwnProperty(o)){var m=s[o];if(m!=null)switch(o){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,a));default:et(t,a,o,m,s,null)}}i&&et(t,a,"srcSet",s.srcSet,s,null),n&&et(t,a,"src",s.src,s,null);return;case"input":Ie("invalid",t);var T=o=m=i=null,W=null,le=null;for(n in s)if(s.hasOwnProperty(n)){var he=s[n];if(he!=null)switch(n){case"name":i=he;break;case"type":m=he;break;case"checked":W=he;break;case"defaultChecked":le=he;break;case"value":o=he;break;case"defaultValue":T=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(d(137,a));break;default:et(t,a,n,he,s,null)}}Pt(t,o,T,W,le,m,i,!1);return;case"select":Ie("invalid",t),n=m=o=null;for(i in s)if(s.hasOwnProperty(i)&&(T=s[i],T!=null))switch(i){case"value":o=T;break;case"defaultValue":m=T;break;case"multiple":n=T;default:et(t,a,i,T,s,null)}a=o,s=m,t.multiple=!!n,a!=null?ta(t,!!n,a,!1):s!=null&&ta(t,!!n,s,!0);return;case"textarea":Ie("invalid",t),o=i=n=null;for(m in s)if(s.hasOwnProperty(m)&&(T=s[m],T!=null))switch(m){case"value":n=T;break;case"defaultValue":i=T;break;case"children":o=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(d(91));break;default:et(t,a,m,T,s,null)}pi(t,n,i,o);return;case"option":for(W in s)s.hasOwnProperty(W)&&(n=s[W],n!=null)&&(W==="selected"?t.selected=n&&typeof n!="function"&&typeof n!="symbol":et(t,a,W,n,s,null));return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(n=0;n<Wl.length;n++)Ie(Wl[n],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in s)if(s.hasOwnProperty(le)&&(n=s[le],n!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,a));default:et(t,a,le,n,s,null)}return;default:if(Cn(a)){for(he in s)s.hasOwnProperty(he)&&(n=s[he],n!==void 0&&Lc(t,a,he,n,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(n=s[T],n!=null&&et(t,a,T,n,s,null))}function ug(t,a,s,n){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,m=null,T=null,W=null,le=null,he=null;for(de in s){var xe=s[de];if(s.hasOwnProperty(de)&&xe!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":W=xe;default:n.hasOwnProperty(de)||et(t,a,de,null,n,xe)}}for(var oe in n){var de=n[oe];if(xe=s[oe],n.hasOwnProperty(oe)&&(de!=null||xe!=null))switch(oe){case"type":o=de;break;case"name":i=de;break;case"checked":le=de;break;case"defaultChecked":he=de;break;case"value":m=de;break;case"defaultValue":T=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(d(137,a));break;default:de!==xe&&et(t,a,oe,de,n,xe)}}it(t,m,T,W,le,he,o,i);return;case"select":de=m=T=oe=null;for(o in s)if(W=s[o],s.hasOwnProperty(o)&&W!=null)switch(o){case"value":break;case"multiple":de=W;default:n.hasOwnProperty(o)||et(t,a,o,null,n,W)}for(i in n)if(o=n[i],W=s[i],n.hasOwnProperty(i)&&(o!=null||W!=null))switch(i){case"value":oe=o;break;case"defaultValue":T=o;break;case"multiple":m=o;default:o!==W&&et(t,a,i,o,n,W)}a=T,s=m,n=de,oe!=null?ta(t,!!s,oe,!1):!!n!=!!s&&(a!=null?ta(t,!!s,a,!0):ta(t,!!s,s?[]:"",!1));return;case"textarea":de=oe=null;for(T in s)if(i=s[T],s.hasOwnProperty(T)&&i!=null&&!n.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,a,T,null,n,i)}for(m in n)if(i=n[m],o=s[m],n.hasOwnProperty(m)&&(i!=null||o!=null))switch(m){case"value":oe=i;break;case"defaultValue":de=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(d(91));break;default:i!==o&&et(t,a,m,i,n,o)}Ka(t,oe,de);return;case"option":for(var Se in s)oe=s[Se],s.hasOwnProperty(Se)&&oe!=null&&!n.hasOwnProperty(Se)&&(Se==="selected"?t.selected=!1:et(t,a,Se,null,n,oe));for(W in n)oe=n[W],de=s[W],n.hasOwnProperty(W)&&oe!==de&&(oe!=null||de!=null)&&(W==="selected"?t.selected=oe&&typeof oe!="function"&&typeof oe!="symbol":et(t,a,W,oe,n,de));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in s)oe=s[Me],s.hasOwnProperty(Me)&&oe!=null&&!n.hasOwnProperty(Me)&&et(t,a,Me,null,n,oe);for(le in n)if(oe=n[le],de=s[le],n.hasOwnProperty(le)&&oe!==de&&(oe!=null||de!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(d(137,a));break;default:et(t,a,le,oe,n,de)}return;default:if(Cn(a)){for(var tt in s)oe=s[tt],s.hasOwnProperty(tt)&&oe!==void 0&&!n.hasOwnProperty(tt)&&Lc(t,a,tt,void 0,n,oe);for(he in n)oe=n[he],de=s[he],!n.hasOwnProperty(he)||oe===de||oe===void 0&&de===void 0||Lc(t,a,he,oe,n,de);return}}for(var ee in s)oe=s[ee],s.hasOwnProperty(ee)&&oe!=null&&!n.hasOwnProperty(ee)&&et(t,a,ee,null,n,oe);for(xe in n)oe=n[xe],de=s[xe],!n.hasOwnProperty(xe)||oe===de||oe==null&&de==null||et(t,a,xe,oe,n,de)}function Em(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hg(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,s=performance.getEntriesByType("resource"),n=0;n<s.length;n++){var i=s[n],o=i.transferSize,m=i.initiatorType,T=i.duration;if(o&&T&&Em(m)){for(m=0,T=i.responseEnd,n+=1;n<s.length;n++){var W=s[n],le=W.startTime;if(le>T)break;var he=W.transferSize,xe=W.initiatorType;he&&Em(xe)&&(W=W.responseEnd,m+=he*(W<T?1:(T-le)/(W-le)))}if(--n,a+=8*(o+m)/(i.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Mc=null,Dc=null;function fr(t){return t.nodeType===9?t:t.ownerDocument}function Tm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lm(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function _c(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bc=null;function mg(){var t=window.event;return t&&t.type==="popstate"?t===Bc?!1:(Bc=t,!0):(Bc=null,!1)}var Mm=typeof setTimeout=="function"?setTimeout:void 0,fg=typeof clearTimeout=="function"?clearTimeout:void 0,Dm=typeof Promise=="function"?Promise:void 0,pg=typeof queueMicrotask=="function"?queueMicrotask:typeof Dm<"u"?function(t){return Dm.resolve(null).then(t).catch(xg)}:Mm;function xg(t){setTimeout(function(){throw t})}function qs(t){return t==="head"}function _m(t,a){var s=a,n=0;do{var i=s.nextSibling;if(t.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"||s==="/&"){if(n===0){t.removeChild(i),sl(a);return}n--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")n++;else if(s==="html")Vl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Vl(s);for(var o=s.firstChild;o;){var m=o.nextSibling,T=o.nodeName;o[Ja]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&o.rel.toLowerCase()==="stylesheet"||s.removeChild(o),o=m}}else s==="body"&&Vl(t.ownerDocument.body);s=i}while(s);sl(a)}function Bm(t,a){var s=t;t=0;do{var n=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=n}while(s)}function Rc(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rc(s),za(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function gg(t,a,s,n){for(;t.nodeType===1;){var i=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[Ja])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(o=t.getAttribute("rel"),o==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(o!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(o=t.getAttribute("src"),(o!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===o)return t}else return t;if(t=ja(t.nextSibling),t===null)break}return null}function bg(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ja(t.nextSibling),t===null))return null;return t}function Rm(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ja(t.nextSibling),t===null))return null;return t}function Oc(t){return t.data==="$?"||t.data==="$~"}function Uc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function yg(t,a){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||s.readyState!=="loading")a();else{var n=function(){a(),s.removeEventListener("DOMContentLoaded",n)};s.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function ja(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var zc=null;function Om(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(a===0)return ja(t.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}t=t.nextSibling}return null}function Um(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return t;a--}else s!=="/$"&&s!=="/&"||a++}t=t.previousSibling}return null}function zm(t,a,s){switch(a=fr(s),t){case"html":if(t=a.documentElement,!t)throw Error(d(452));return t;case"head":if(t=a.head,!t)throw Error(d(453));return t;case"body":if(t=a.body,!t)throw Error(d(454));return t;default:throw Error(d(451))}}function Vl(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);za(t)}var va=new Map,Fm=new Set;function pr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xs=G.d;G.d={f:jg,r:vg,D:Ng,C:wg,L:Sg,m:kg,X:Ag,S:Cg,M:Eg};function jg(){var t=xs.f(),a=ir();return t||a}function vg(t){var a=O(t);a!==null&&a.tag===5&&a.type==="form"?ah(a):xs.r(t)}var el=typeof document>"u"?null:document;function Im(t,a,s){var n=el;if(n&&typeof a=="string"&&a){var i=Ve(a);i='link[rel="'+t+'"][href="'+i+'"]',typeof s=="string"&&(i+='[crossorigin="'+s+'"]'),Fm.has(i)||(Fm.add(i),t={rel:t,crossOrigin:s,href:a},n.querySelector(i)===null&&(a=n.createElement("link"),Ot(a,"link",t),re(a),n.head.appendChild(a)))}}function Ng(t){xs.D(t),Im("dns-prefetch",t,null)}function wg(t,a){xs.C(t,a),Im("preconnect",t,a)}function Sg(t,a,s){xs.L(t,a,s);var n=el;if(n&&t&&a){var i='link[rel="preload"][as="'+Ve(a)+'"]';a==="image"&&s&&s.imageSrcSet?(i+='[imagesrcset="'+Ve(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(i+='[imagesizes="'+Ve(s.imageSizes)+'"]')):i+='[href="'+Ve(t)+'"]';var o=i;switch(a){case"style":o=tl(t);break;case"script":o=al(t)}va.has(o)||(t=f({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),va.set(o,t),n.querySelector(i)!==null||a==="style"&&n.querySelector(Ql(o))||a==="script"&&n.querySelector(Xl(o))||(a=n.createElement("link"),Ot(a,"link",t),re(a),n.head.appendChild(a)))}}function kg(t,a){xs.m(t,a);var s=el;if(s&&t){var n=a&&typeof a.as=="string"?a.as:"script",i='link[rel="modulepreload"][as="'+Ve(n)+'"][href="'+Ve(t)+'"]',o=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=al(t)}if(!va.has(o)&&(t=f({rel:"modulepreload",href:t},a),va.set(o,t),s.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Xl(o)))return}n=s.createElement("link"),Ot(n,"link",t),re(n),s.head.appendChild(n)}}}function Cg(t,a,s){xs.S(t,a,s);var n=el;if(n&&t){var i=Y(n).hoistableStyles,o=tl(t);a=a||"default";var m=i.get(o);if(!m){var T={loading:0,preload:null};if(m=n.querySelector(Ql(o)))T.loading=5;else{t=f({rel:"stylesheet",href:t,"data-precedence":a},s),(s=va.get(o))&&Fc(t,s);var W=m=n.createElement("link");re(W),Ot(W,"link",t),W._p=new Promise(function(le,he){W.onload=le,W.onerror=he}),W.addEventListener("load",function(){T.loading|=1}),W.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xr(m,a,n)}m={type:"stylesheet",instance:m,count:1,state:T},i.set(o,m)}}}function Ag(t,a){xs.X(t,a);var s=el;if(s&&t){var n=Y(s).hoistableScripts,i=al(t),o=n.get(i);o||(o=s.querySelector(Xl(i)),o||(t=f({src:t,async:!0},a),(a=va.get(i))&&Ic(t,a),o=s.createElement("script"),re(o),Ot(o,"link",t),s.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}function Eg(t,a){xs.M(t,a);var s=el;if(s&&t){var n=Y(s).hoistableScripts,i=al(t),o=n.get(i);o||(o=s.querySelector(Xl(i)),o||(t=f({src:t,async:!0,type:"module"},a),(a=va.get(i))&&Ic(t,a),o=s.createElement("script"),re(o),Ot(o,"link",t),s.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},n.set(i,o))}}function $m(t,a,s,n){var i=(i=I.current)?pr(i):null;if(!i)throw Error(d(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=tl(s.href),s=Y(i).hoistableStyles,n=s.get(a),n||(n={type:"style",instance:null,count:0,state:null},s.set(a,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=tl(s.href);var o=Y(i).hoistableStyles,m=o.get(t);if(m||(i=i.ownerDocument||i,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(t,m),(o=i.querySelector(Ql(t)))&&!o._p&&(m.instance=o,m.state.loading=5),va.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},va.set(t,s),o||Tg(i,t,s,m.state))),a&&n===null)throw Error(d(528,""));return m}if(a&&n!==null)throw Error(d(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=al(s),s=Y(i).hoistableScripts,n=s.get(a),n||(n={type:"script",instance:null,count:0,state:null},s.set(a,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,t))}}function tl(t){return'href="'+Ve(t)+'"'}function Ql(t){return'link[rel="stylesheet"]['+t+"]"}function Pm(t){return f({},t,{"data-precedence":t.precedence,precedence:null})}function Tg(t,a,s,n){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?n.loading=1:(a=t.createElement("link"),n.preload=a,a.addEventListener("load",function(){return n.loading|=1}),a.addEventListener("error",function(){return n.loading|=2}),Ot(a,"link",s),re(a),t.head.appendChild(a))}function al(t){return'[src="'+Ve(t)+'"]'}function Xl(t){return"script[async]"+t}function Hm(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var n=t.querySelector('style[data-href~="'+Ve(s.href)+'"]');if(n)return a.instance=n,re(n),n;var i=f({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),re(n),Ot(n,"style",i),xr(n,s.precedence,t),a.instance=n;case"stylesheet":i=tl(s.href);var o=t.querySelector(Ql(i));if(o)return a.state.loading|=4,a.instance=o,re(o),o;n=Pm(s),(i=va.get(i))&&Fc(n,i),o=(t.ownerDocument||t).createElement("link"),re(o);var m=o;return m._p=new Promise(function(T,W){m.onload=T,m.onerror=W}),Ot(o,"link",n),a.state.loading|=4,xr(o,s.precedence,t),a.instance=o;case"script":return o=al(s.src),(i=t.querySelector(Xl(o)))?(a.instance=i,re(i),i):(n=s,(i=va.get(o))&&(n=f({},s),Ic(n,i)),t=t.ownerDocument||t,i=t.createElement("script"),re(i),Ot(i,"link",n),t.head.appendChild(i),a.instance=i);case"void":return null;default:throw Error(d(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(n=a.instance,a.state.loading|=4,xr(n,s.precedence,t));return a.instance}function xr(t,a,s){for(var n=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,o=i,m=0;m<n.length;m++){var T=n[m];if(T.dataset.precedence===a)o=T;else if(o!==i)break}o?o.parentNode.insertBefore(t,o.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function Fc(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Ic(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var gr=null;function qm(t,a,s){if(gr===null){var n=new Map,i=gr=new Map;i.set(s,n)}else i=gr,n=i.get(s),n||(n=new Map,i.set(s,n));if(n.has(t))return n;for(n.set(t,null),s=s.getElementsByTagName(t),i=0;i<s.length;i++){var o=s[i];if(!(o[Ja]||o[ut]||t==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var m=o.getAttribute(a)||"";m=t+m;var T=n.get(m);T?T.push(o):n.set(m,[o])}}return n}function Gm(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function Lg(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(t=a.disabled,typeof a.precedence=="string"&&t==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Wm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Mg(t,a,s,n){if(s.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var i=tl(n.href),o=a.querySelector(Ql(i));if(o){a=o._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=br.bind(t),a.then(t,t)),s.state.loading|=4,s.instance=o,re(o);return}o=a.ownerDocument||a,n=Pm(n),(i=va.get(i))&&Fc(n,i),o=o.createElement("link"),re(o);var m=o;m._p=new Promise(function(T,W){m.onload=T,m.onerror=W}),Ot(o,"link",n),s.instance=o}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=br.bind(t),a.addEventListener("load",s),a.addEventListener("error",s))}}var $c=0;function Dg(t,a){return t.stylesheets&&t.count===0&&jr(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var n=setTimeout(function(){if(t.stylesheets&&jr(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4+a);0<t.imgBytes&&$c===0&&($c=62500*hg());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&jr(t,t.stylesheets),t.unsuspend)){var o=t.unsuspend;t.unsuspend=null,o()}},(t.imgBytes>$c?50:800)+a);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function br(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yr=null;function jr(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yr=new Map,a.forEach(_g,t),yr=null,br.call(t))}function _g(t,a){if(!(a.state.loading&4)){var s=yr.get(t);if(s)var n=s.get(null);else{s=new Map,yr.set(t,s);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var m=i[o];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(s.set(m.dataset.precedence,m),n=m)}n&&s.set(null,n)}i=a.instance,m=i.getAttribute("data-precedence"),o=s.get(m)||n,o===n&&s.set(null,i),s.set(m,i),this.count++,n=br.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),o?o.parentNode.insertBefore(i,o.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),a.state.loading|=4}}var Zl={$$typeof:L,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Bg(t,a,s,n,i,o,m,T,W){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ua(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ua(0),this.hiddenUpdates=ua(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function Ym(t,a,s,n,i,o,m,T,W,le,he,xe){return t=new Bg(t,a,s,m,W,le,he,xe,T),a=1,o===!0&&(a|=24),o=sa(3,null,null,a),t.current=o,o.stateNode=t,a=jo(),a.refCount++,t.pooledCache=a,a.refCount++,o.memoizedState={element:n,isDehydrated:s,cache:a},So(o),t}function Vm(t){return t?(t=_n,t):_n}function Qm(t,a,s,n,i,o){i=Vm(i),n.context===null?n.context=i:n.pendingContext=i,n=_s(a),n.payload={element:s},o=o===void 0?null:o,o!==null&&(n.callback=o),s=Bs(t,n,a),s!==null&&(Kt(s,t,a),Tl(s,t,a))}function Xm(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function Pc(t,a){Xm(t,a),(t=t.alternate)&&Xm(t,a)}function Zm(t){if(t.tag===13||t.tag===31){var a=cn(t,67108864);a!==null&&Kt(a,t,67108864),Pc(t,67108864)}}function Jm(t){if(t.tag===13||t.tag===31){var a=oa();a=Aa(a);var s=cn(t,a);s!==null&&Kt(s,t,a),Pc(t,a)}}var vr=!0;function Rg(t,a,s,n){var i=H.T;H.T=null;var o=G.p;try{G.p=2,Hc(t,a,s,n)}finally{G.p=o,H.T=i}}function Og(t,a,s,n){var i=H.T;H.T=null;var o=G.p;try{G.p=8,Hc(t,a,s,n)}finally{G.p=o,H.T=i}}function Hc(t,a,s,n){if(vr){var i=qc(n);if(i===null)Tc(t,a,n,Nr,s),ef(t,n);else if(zg(i,t,a,s,n))n.stopPropagation();else if(ef(t,n),a&4&&-1<Ug.indexOf(t)){for(;i!==null;){var o=O(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var m=Lt(o.pendingLanes);if(m!==0){var T=o;for(T.pendingLanes|=2,T.entangledLanes|=2;m;){var W=1<<31-Nt(m);T.entanglements[1]|=W,m&=~W}qa(o),(Qe&6)===0&&(nr=At()+500,Gl(0))}}break;case 31:case 13:T=cn(o,2),T!==null&&Kt(T,o,2),ir(),Pc(o,2)}if(o=qc(n),o===null&&Tc(t,a,n,Nr,s),o===i)break;i=o}i!==null&&n.stopPropagation()}else Tc(t,a,n,null,s)}}function qc(t){return t=Gr(t),Gc(t)}var Nr=null;function Gc(t){if(Nr=null,t=Fa(t),t!==null){var a=p(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=b(a),t!==null)return t;t=null}else if(s===31){if(t=w(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Nr=t,null}function Km(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ul()){case Ya:return 2;case Va:return 8;case pt:case Ns:return 32;case Ba:return 268435456;default:return 32}default:return 32}}var Wc=!1,Gs=null,Ws=null,Ys=null,Jl=new Map,Kl=new Map,Vs=[],Ug="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ef(t,a){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":Jl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(a.pointerId)}}function ei(t,a,s,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:a,domEventName:s,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},a!==null&&(a=O(a),a!==null&&Zm(a)),t):(t.eventSystemFlags|=n,a=t.targetContainers,i!==null&&a.indexOf(i)===-1&&a.push(i),t)}function zg(t,a,s,n,i){switch(a){case"focusin":return Gs=ei(Gs,t,a,s,n,i),!0;case"dragenter":return Ws=ei(Ws,t,a,s,n,i),!0;case"mouseover":return Ys=ei(Ys,t,a,s,n,i),!0;case"pointerover":var o=i.pointerId;return Jl.set(o,ei(Jl.get(o)||null,t,a,s,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Kl.set(o,ei(Kl.get(o)||null,t,a,s,n,i)),!0}return!1}function tf(t){var a=Fa(t.target);if(a!==null){var s=p(a);if(s!==null){if(a=s.tag,a===13){if(a=b(s),a!==null){t.blockedOn=a,Za(t.priority,function(){Jm(s)});return}}else if(a===31){if(a=w(s),a!==null){t.blockedOn=a,Za(t.priority,function(){Jm(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wr(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=qc(t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);qr=n,s.target.dispatchEvent(n),qr=null}else return a=O(s),a!==null&&Zm(a),t.blockedOn=s,!1;a.shift()}return!0}function af(t,a,s){wr(t)&&s.delete(a)}function Fg(){Wc=!1,Gs!==null&&wr(Gs)&&(Gs=null),Ws!==null&&wr(Ws)&&(Ws=null),Ys!==null&&wr(Ys)&&(Ys=null),Jl.forEach(af),Kl.forEach(af)}function Sr(t,a){t.blockedOn===a&&(t.blockedOn=null,Wc||(Wc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Fg)))}var kr=null;function sf(t){kr!==t&&(kr=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){kr===t&&(kr=null);for(var a=0;a<t.length;a+=3){var s=t[a],n=t[a+1],i=t[a+2];if(typeof n!="function"){if(Gc(n||s)===null)continue;break}var o=O(s);o!==null&&(t.splice(a,3),a-=3,qo(o,{pending:!0,data:i,method:s.method,action:n},n,i))}}))}function sl(t){function a(W){return Sr(W,t)}Gs!==null&&Sr(Gs,t),Ws!==null&&Sr(Ws,t),Ys!==null&&Sr(Ys,t),Jl.forEach(a),Kl.forEach(a);for(var s=0;s<Vs.length;s++){var n=Vs[s];n.blockedOn===t&&(n.blockedOn=null)}for(;0<Vs.length&&(s=Vs[0],s.blockedOn===null);)tf(s),s.blockedOn===null&&Vs.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(n=0;n<s.length;n+=3){var i=s[n],o=s[n+1],m=i[ht]||null;if(typeof o=="function")m||sf(s);else if(m){var T=null;if(o&&o.hasAttribute("formAction")){if(i=o,m=o[ht]||null)T=m.formAction;else if(Gc(i)!==null)continue}else T=m.action;typeof T=="function"?s[n+1]=T:(s.splice(n,3),n-=3),sf(s)}}}function nf(){function t(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(m){return i=m})},focusReset:"manual",scroll:"manual"})}function a(){i!==null&&(i(),i=null),n||setTimeout(s,20)}function s(){if(!n&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){n=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),i!==null&&(i(),i=null)}}}function Yc(t){this._internalRoot=t}Cr.prototype.render=Yc.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(d(409));var s=a.current,n=oa();Qm(s,n,t,a,null,null)},Cr.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Qm(t.current,2,null,t,null,null),ir(),a[lt]=null}};function Cr(t){this._internalRoot=t}Cr.prototype.unstable_scheduleHydration=function(t){if(t){var a=Te();t={blockedOn:null,target:t,priority:a};for(var s=0;s<Vs.length&&a!==0&&a<Vs[s].priority;s++);Vs.splice(s,0,t),s===0&&tf(t)}};var lf=r.version;if(lf!=="19.2.4")throw Error(d(527,lf,"19.2.4"));G.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(d(188)):(t=Object.keys(t).join(","),Error(d(268,t)));return t=g(a),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var Ig={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ar=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ar.isDisabled&&Ar.supportsFiber)try{Dt=Ar.inject(Ig),Tt=Ar}catch{}}return ai.createRoot=function(t,a){if(!h(t))throw Error(d(299));var s=!1,n="",i=hh,o=mh,m=fh;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=Ym(t,1,!1,null,null,s,n,null,i,o,m,nf),t[lt]=a.current,Ec(t),new Yc(a)},ai.hydrateRoot=function(t,a,s){if(!h(t))throw Error(d(299));var n=!1,i="",o=hh,m=mh,T=fh,W=null;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onUncaughtError!==void 0&&(o=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(W=s.formState)),a=Ym(t,1,!0,a,s??null,n,i,W,o,m,T,nf),a.context=Vm(null),s=a.current,n=oa(),n=Aa(n),i=_s(n),i.callback=null,Bs(s,i,n),s=n,a.current.lanes=s,Ft(a,s),qa(a),t[lt]=a.current,Ec(t),new Cr(a)},ai.version="19.2.4",ai}var xf;function Xg(){if(xf)return Xc.exports;xf=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),Xc.exports=Qg(),Xc.exports}var Zg=Xg();var gf="popstate";function Jg(l={}){function r(d,h){let{pathname:p,search:b,hash:w}=d.location;return od("",{pathname:p,search:b,hash:w},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function c(d,h){return typeof h=="string"?h:ri(h)}return eb(r,c,null,l)}function dt(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function _a(l,r){if(!l){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Kg(){return Math.random().toString(36).substring(2,10)}function bf(l,r){return{usr:l.state,key:l.key,idx:r}}function od(l,r,c=null,d){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof r=="string"?rl(r):r,state:c,key:r&&r.key||d||Kg()}}function ri({pathname:l="/",search:r="",hash:c=""}){return r&&r!=="?"&&(l+=r.charAt(0)==="?"?r:"?"+r),c&&c!=="#"&&(l+=c.charAt(0)==="#"?c:"#"+c),l}function rl(l){let r={};if(l){let c=l.indexOf("#");c>=0&&(r.hash=l.substring(c),l=l.substring(0,c));let d=l.indexOf("?");d>=0&&(r.search=l.substring(d),l=l.substring(0,d)),l&&(r.pathname=l)}return r}function eb(l,r,c,d={}){let{window:h=document.defaultView,v5Compat:p=!1}=d,b=h.history,w="POP",x=null,g=v();g==null&&(g=0,b.replaceState({...b.state,idx:g},""));function v(){return(b.state||{idx:null}).idx}function f(){w="POP";let R=v(),S=R==null?null:R-g;g=R,x&&x({action:w,location:M.location,delta:S})}function j(R,S){w="PUSH";let z=od(M.location,R,S);g=v()+1;let L=bf(z,g),E=M.createHref(z);try{b.pushState(L,"",E)}catch(y){if(y instanceof DOMException&&y.name==="DataCloneError")throw y;h.location.assign(E)}p&&x&&x({action:w,location:M.location,delta:1})}function A(R,S){w="REPLACE";let z=od(M.location,R,S);g=v();let L=bf(z,g),E=M.createHref(z);b.replaceState(L,"",E),p&&x&&x({action:w,location:M.location,delta:0})}function N(R){return tb(R)}let M={get action(){return w},get location(){return l(h,b)},listen(R){if(x)throw new Error("A history only accepts one active listener");return h.addEventListener(gf,f),x=R,()=>{h.removeEventListener(gf,f),x=null}},createHref(R){return r(h,R)},createURL:N,encodeLocation(R){let S=N(R);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:j,replace:A,go(R){return b.go(R)}};return M}function tb(l,r=!1){let c="http://localhost";typeof window<"u"&&(c=window.location.origin!=="null"?window.location.origin:window.location.href),dt(c,"No window.location.(origin|href) available to create URL");let d=typeof l=="string"?l:ri(l);return d=d.replace(/ $/,"%20"),!r&&d.startsWith("//")&&(d=c+d),new URL(d,c)}function Xf(l,r,c="/"){return ab(l,r,c,!1)}function ab(l,r,c,d){let h=typeof r=="string"?rl(r):r,p=vs(h.pathname||"/",c);if(p==null)return null;let b=Zf(l);sb(b);let w=null;for(let x=0;w==null&&x<b.length;++x){let g=fb(p);w=hb(b[x],g,d)}return w}function Zf(l,r=[],c=[],d="",h=!1){let p=(b,w,x=h,g)=>{let v={relativePath:g===void 0?b.path||"":g,caseSensitive:b.caseSensitive===!0,childrenIndex:w,route:b};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(d)&&x)return;dt(v.relativePath.startsWith(d),`Absolute route path "${v.relativePath}" nested under path "${d}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(d.length)}let f=js([d,v.relativePath]),j=c.concat(v);b.children&&b.children.length>0&&(dt(b.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Zf(b.children,r,j,f,x)),!(b.path==null&&!b.index)&&r.push({path:f,score:db(f,b.index),routesMeta:j})};return l.forEach((b,w)=>{if(b.path===""||!b.path?.includes("?"))p(b,w);else for(let x of Jf(b.path))p(b,w,!0,x)}),r}function Jf(l){let r=l.split("/");if(r.length===0)return[];let[c,...d]=r,h=c.endsWith("?"),p=c.replace(/\?$/,"");if(d.length===0)return h?[p,""]:[p];let b=Jf(d.join("/")),w=[];return w.push(...b.map(x=>x===""?p:[p,x].join("/"))),h&&w.push(...b),w.map(x=>l.startsWith("/")&&x===""?"/":x)}function sb(l){l.sort((r,c)=>r.score!==c.score?c.score-r.score:ub(r.routesMeta.map(d=>d.childrenIndex),c.routesMeta.map(d=>d.childrenIndex)))}var nb=/^:[\w-]+$/,lb=3,ib=2,rb=1,ob=10,cb=-2,yf=l=>l==="*";function db(l,r){let c=l.split("/"),d=c.length;return c.some(yf)&&(d+=cb),r&&(d+=ib),c.filter(h=>!yf(h)).reduce((h,p)=>h+(nb.test(p)?lb:p===""?rb:ob),d)}function ub(l,r){return l.length===r.length&&l.slice(0,-1).every((d,h)=>d===r[h])?l[l.length-1]-r[r.length-1]:0}function hb(l,r,c=!1){let{routesMeta:d}=l,h={},p="/",b=[];for(let w=0;w<d.length;++w){let x=d[w],g=w===d.length-1,v=p==="/"?r:r.slice(p.length)||"/",f=Fr({path:x.relativePath,caseSensitive:x.caseSensitive,end:g},v),j=x.route;if(!f&&g&&c&&!d[d.length-1].route.index&&(f=Fr({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},v)),!f)return null;Object.assign(h,f.params),b.push({params:h,pathname:js([p,f.pathname]),pathnameBase:bb(js([p,f.pathnameBase])),route:j}),f.pathnameBase!=="/"&&(p=js([p,f.pathnameBase]))}return b}function Fr(l,r){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[c,d]=mb(l.path,l.caseSensitive,l.end),h=r.match(c);if(!h)return null;let p=h[0],b=p.replace(/(.)\/+$/,"$1"),w=h.slice(1);return{params:d.reduce((g,{paramName:v,isOptional:f},j)=>{if(v==="*"){let N=w[j]||"";b=p.slice(0,p.length-N.length).replace(/(.)\/+$/,"$1")}const A=w[j];return f&&!A?g[v]=void 0:g[v]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:p,pathnameBase:b,pattern:l}}function mb(l,r=!1,c=!0){_a(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let d=[],h="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,w,x)=>(d.push({paramName:w,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(d.push({paramName:"*"}),h+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?h+="\\/*$":l!==""&&l!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,r?void 0:"i"),d]}function fb(l){try{return l.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return _a(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),l}}function vs(l,r){if(r==="/")return l;if(!l.toLowerCase().startsWith(r.toLowerCase()))return null;let c=r.endsWith("/")?r.length-1:r.length,d=l.charAt(c);return d&&d!=="/"?null:l.slice(c)||"/"}var pb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function xb(l,r="/"){let{pathname:c,search:d="",hash:h=""}=typeof l=="string"?rl(l):l,p;return c?(c=c.replace(/\/\/+/g,"/"),c.startsWith("/")?p=jf(c.substring(1),"/"):p=jf(c,r)):p=r,{pathname:p,search:yb(d),hash:jb(h)}}function jf(l,r){let c=r.replace(/\/+$/,"").split("/");return l.split("/").forEach(h=>{h===".."?c.length>1&&c.pop():h!=="."&&c.push(h)}),c.length>1?c.join("/"):"/"}function ed(l,r,c,d){return`Cannot include a '${l}' character in a manually specified \`to.${r}\` field [${JSON.stringify(d)}].  Please separate it out to the \`to.${c}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gb(l){return l.filter((r,c)=>c===0||r.route.path&&r.route.path.length>0)}function xd(l){let r=gb(l);return r.map((c,d)=>d===r.length-1?c.pathname:c.pathnameBase)}function gd(l,r,c,d=!1){let h;typeof l=="string"?h=rl(l):(h={...l},dt(!h.pathname||!h.pathname.includes("?"),ed("?","pathname","search",h)),dt(!h.pathname||!h.pathname.includes("#"),ed("#","pathname","hash",h)),dt(!h.search||!h.search.includes("#"),ed("#","search","hash",h)));let p=l===""||h.pathname==="",b=p?"/":h.pathname,w;if(b==null)w=c;else{let f=r.length-1;if(!d&&b.startsWith("..")){let j=b.split("/");for(;j[0]==="..";)j.shift(),f-=1;h.pathname=j.join("/")}w=f>=0?r[f]:"/"}let x=xb(h,w),g=b&&b!=="/"&&b.endsWith("/"),v=(p||b===".")&&c.endsWith("/");return!x.pathname.endsWith("/")&&(g||v)&&(x.pathname+="/"),x}var js=l=>l.join("/").replace(/\/\/+/g,"/"),bb=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),yb=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,jb=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l,vb=class{constructor(l,r,c,d=!1){this.status=l,this.statusText=r||"",this.internal=d,c instanceof Error?(this.data=c.toString(),this.error=c):this.data=c}};function Nb(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}function wb(l){return l.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Kf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ep(l,r){let c=l;if(typeof c!="string"||!pb.test(c))return{absoluteURL:void 0,isExternal:!1,to:c};let d=c,h=!1;if(Kf)try{let p=new URL(window.location.href),b=c.startsWith("//")?new URL(p.protocol+c):new URL(c),w=vs(b.pathname,r);b.origin===p.origin&&w!=null?c=w+b.search+b.hash:h=!0}catch{_a(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:d,isExternal:h,to:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tp=["POST","PUT","PATCH","DELETE"];new Set(tp);var Sb=["GET",...tp];new Set(Sb);var ol=u.createContext(null);ol.displayName="DataRouter";var $r=u.createContext(null);$r.displayName="DataRouterState";var kb=u.createContext(!1),ap=u.createContext({isTransitioning:!1});ap.displayName="ViewTransition";var Cb=u.createContext(new Map);Cb.displayName="Fetchers";var Ab=u.createContext(null);Ab.displayName="Await";var ca=u.createContext(null);ca.displayName="Navigation";var ci=u.createContext(null);ci.displayName="Location";var Wa=u.createContext({outlet:null,matches:[],isDataRoute:!1});Wa.displayName="Route";var bd=u.createContext(null);bd.displayName="RouteError";var sp="REACT_ROUTER_ERROR",Eb="REDIRECT",Tb="ROUTE_ERROR_RESPONSE";function Lb(l){if(l.startsWith(`${sp}:${Eb}:{`))try{let r=JSON.parse(l.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function Mb(l){if(l.startsWith(`${sp}:${Tb}:{`))try{let r=JSON.parse(l.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new vb(r.status,r.statusText,r.data)}catch{}}function Db(l,{relative:r}={}){dt(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:c,navigator:d}=u.useContext(ca),{hash:h,pathname:p,search:b}=di(l,{relative:r}),w=p;return c!=="/"&&(w=p==="/"?c:js([c,p])),d.createHref({pathname:w,search:b,hash:h})}function cl(){return u.useContext(ci)!=null}function Ks(){return dt(cl(),"useLocation() may be used only in the context of a <Router> component."),u.useContext(ci).location}var np="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lp(l){u.useContext(ca).static||u.useLayoutEffect(l)}function yd(){let{isDataRoute:l}=u.useContext(Wa);return l?Gb():_b()}function _b(){dt(cl(),"useNavigate() may be used only in the context of a <Router> component.");let l=u.useContext(ol),{basename:r,navigator:c}=u.useContext(ca),{matches:d}=u.useContext(Wa),{pathname:h}=Ks(),p=JSON.stringify(xd(d)),b=u.useRef(!1);return lp(()=>{b.current=!0}),u.useCallback((x,g={})=>{if(_a(b.current,np),!b.current)return;if(typeof x=="number"){c.go(x);return}let v=gd(x,JSON.parse(p),h,g.relative==="path");l==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:js([r,v.pathname])),(g.replace?c.replace:c.push)(v,g.state,g)},[r,c,p,h,l])}u.createContext(null);function di(l,{relative:r}={}){let{matches:c}=u.useContext(Wa),{pathname:d}=Ks(),h=JSON.stringify(xd(c));return u.useMemo(()=>gd(l,JSON.parse(h),d,r==="path"),[l,h,d,r])}function Bb(l,r){return ip(l,r)}function ip(l,r,c,d,h){dt(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:p}=u.useContext(ca),{matches:b}=u.useContext(Wa),w=b[b.length-1],x=w?w.params:{},g=w?w.pathname:"/",v=w?w.pathnameBase:"/",f=w&&w.route;{let z=f&&f.path||"";op(g,!f||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let j=Ks(),A;if(r){let z=typeof r=="string"?rl(r):r;dt(v==="/"||z.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${z.pathname}" was given in the \`location\` prop.`),A=z}else A=j;let N=A.pathname||"/",M=N;if(v!=="/"){let z=v.replace(/^\//,"").split("/");M="/"+N.replace(/^\//,"").split("/").slice(z.length).join("/")}let R=Xf(l,{pathname:M});_a(f||R!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),_a(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=Fb(R&&R.map(z=>Object.assign({},z,{params:Object.assign({},x,z.params),pathname:js([v,p.encodeLocation?p.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:js([v,p.encodeLocation?p.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),b,c,d,h);return r&&S?u.createElement(ci.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},S):S}function Rb(){let l=qb(),r=Nb(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),c=l instanceof Error?l.stack:null,d="rgba(200,200,200, 0.5)",h={padding:"0.5rem",backgroundColor:d},p={padding:"2px 4px",backgroundColor:d},b=null;return console.error("Error handled by React Router default ErrorBoundary:",l),b=u.createElement(u.Fragment,null,u.createElement("p",null," Hey developer "),u.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",u.createElement("code",{style:p},"ErrorBoundary")," or"," ",u.createElement("code",{style:p},"errorElement")," prop on your route.")),u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},r),c?u.createElement("pre",{style:h},c):null,b)}var Ob=u.createElement(Rb,null),rp=class extends u.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,r){return r.location!==l.location||r.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:r.error,location:r.location,revalidation:l.revalidation||r.revalidation}}componentDidCatch(l,r){this.props.onError?this.props.onError(l,r):console.error("React Router caught the following error during render",l)}render(){let l=this.state.error;if(this.context&&typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){const c=Mb(l.digest);c&&(l=c)}let r=l!==void 0?u.createElement(Wa.Provider,{value:this.props.routeContext},u.createElement(bd.Provider,{value:l,children:this.props.component})):this.props.children;return this.context?u.createElement(Ub,{error:l},r):r}};rp.contextType=kb;var td=new WeakMap;function Ub({children:l,error:r}){let{basename:c}=u.useContext(ca);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let d=Lb(r.digest);if(d){let h=td.get(r);if(h)throw h;let p=ep(d.location,c);if(Kf&&!td.get(r))if(p.isExternal||d.reloadDocument)window.location.href=p.absoluteURL||p.to;else{const b=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(p.to,{replace:d.replace}));throw td.set(r,b),b}return u.createElement("meta",{httpEquiv:"refresh",content:`0;url=${p.absoluteURL||p.to}`})}}return l}function zb({routeContext:l,match:r,children:c}){let d=u.useContext(ol);return d&&d.static&&d.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=r.route.id),u.createElement(Wa.Provider,{value:l},c)}function Fb(l,r=[],c=null,d=null,h=null){if(l==null){if(!c)return null;if(c.errors)l=c.matches;else if(r.length===0&&!c.initialized&&c.matches.length>0)l=c.matches;else return null}let p=l,b=c?.errors;if(b!=null){let v=p.findIndex(f=>f.route.id&&b?.[f.route.id]!==void 0);dt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(b).join(",")}`),p=p.slice(0,Math.min(p.length,v+1))}let w=!1,x=-1;if(c)for(let v=0;v<p.length;v++){let f=p[v];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(x=v),f.route.id){let{loaderData:j,errors:A}=c,N=f.route.loader&&!j.hasOwnProperty(f.route.id)&&(!A||A[f.route.id]===void 0);if(f.route.lazy||N){w=!0,x>=0?p=p.slice(0,x+1):p=[p[0]];break}}}let g=c&&d?(v,f)=>{d(v,{location:c.location,params:c.matches?.[0]?.params??{},unstable_pattern:wb(c.matches),errorInfo:f})}:void 0;return p.reduceRight((v,f,j)=>{let A,N=!1,M=null,R=null;c&&(A=b&&f.route.id?b[f.route.id]:void 0,M=f.route.errorElement||Ob,w&&(x<0&&j===0?(op("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,R=null):x===j&&(N=!0,R=f.route.hydrateFallbackElement||null)));let S=r.concat(p.slice(0,j+1)),z=()=>{let L;return A?L=M:N?L=R:f.route.Component?L=u.createElement(f.route.Component,null):f.route.element?L=f.route.element:L=v,u.createElement(zb,{match:f,routeContext:{outlet:v,matches:S,isDataRoute:c!=null},children:L})};return c&&(f.route.ErrorBoundary||f.route.errorElement||j===0)?u.createElement(rp,{location:c.location,revalidation:c.revalidation,component:M,error:A,children:z(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:g}):z()},null)}function jd(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ib(l){let r=u.useContext(ol);return dt(r,jd(l)),r}function $b(l){let r=u.useContext($r);return dt(r,jd(l)),r}function Pb(l){let r=u.useContext(Wa);return dt(r,jd(l)),r}function vd(l){let r=Pb(l),c=r.matches[r.matches.length-1];return dt(c.route.id,`${l} can only be used on routes that contain a unique "id"`),c.route.id}function Hb(){return vd("useRouteId")}function qb(){let l=u.useContext(bd),r=$b("useRouteError"),c=vd("useRouteError");return l!==void 0?l:r.errors?.[c]}function Gb(){let{router:l}=Ib("useNavigate"),r=vd("useNavigate"),c=u.useRef(!1);return lp(()=>{c.current=!0}),u.useCallback(async(h,p={})=>{_a(c.current,np),c.current&&(typeof h=="number"?await l.navigate(h):await l.navigate(h,{fromRouteId:r,...p}))},[l,r])}var vf={};function op(l,r,c){!r&&!vf[l]&&(vf[l]=!0,_a(!1,c))}u.memo(Wb);function Wb({routes:l,future:r,state:c,onError:d}){return ip(l,void 0,c,d,r)}function wn({to:l,replace:r,state:c,relative:d}){dt(cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:h}=u.useContext(ca);_a(!h,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:p}=u.useContext(Wa),{pathname:b}=Ks(),w=yd(),x=gd(l,xd(p),b,d==="path"),g=JSON.stringify(x);return u.useEffect(()=>{w(JSON.parse(g),{replace:r,state:c,relative:d})},[w,g,d,r,c]),null}function gs(l){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yb({basename:l="/",children:r=null,location:c,navigationType:d="POP",navigator:h,static:p=!1,unstable_useTransitions:b}){dt(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let w=l.replace(/^\/*/,"/"),x=u.useMemo(()=>({basename:w,navigator:h,static:p,unstable_useTransitions:b,future:{}}),[w,h,p,b]);typeof c=="string"&&(c=rl(c));let{pathname:g="/",search:v="",hash:f="",state:j=null,key:A="default"}=c,N=u.useMemo(()=>{let M=vs(g,w);return M==null?null:{location:{pathname:M,search:v,hash:f,state:j,key:A},navigationType:d}},[w,g,v,f,j,A,d]);return _a(N!=null,`<Router basename="${w}"> is not able to match the URL "${g}${v}${f}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:u.createElement(ca.Provider,{value:x},u.createElement(ci.Provider,{children:r,value:N}))}function Vb({children:l,location:r}){return Bb(cd(l),r)}function cd(l,r=[]){let c=[];return u.Children.forEach(l,(d,h)=>{if(!u.isValidElement(d))return;let p=[...r,h];if(d.type===u.Fragment){c.push.apply(c,cd(d.props.children,p));return}dt(d.type===gs,`[${typeof d.type=="string"?d.type:d.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!d.props.index||!d.props.children,"An index route cannot have child routes.");let b={id:d.props.id||p.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,middleware:d.props.middleware,loader:d.props.loader,action:d.props.action,hydrateFallbackElement:d.props.hydrateFallbackElement,HydrateFallback:d.props.HydrateFallback,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.hasErrorBoundary===!0||d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(b.children=cd(d.props.children,p)),c.push(b)}),c}var Rr="get",Or="application/x-www-form-urlencoded";function Pr(l){return typeof HTMLElement<"u"&&l instanceof HTMLElement}function Qb(l){return Pr(l)&&l.tagName.toLowerCase()==="button"}function Xb(l){return Pr(l)&&l.tagName.toLowerCase()==="form"}function Zb(l){return Pr(l)&&l.tagName.toLowerCase()==="input"}function Jb(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Kb(l,r){return l.button===0&&(!r||r==="_self")&&!Jb(l)}var Er=null;function ey(){if(Er===null)try{new FormData(document.createElement("form"),0),Er=!1}catch{Er=!0}return Er}var ty=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ad(l){return l!=null&&!ty.has(l)?(_a(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Or}"`),null):l}function ay(l,r){let c,d,h,p,b;if(Xb(l)){let w=l.getAttribute("action");d=w?vs(w,r):null,c=l.getAttribute("method")||Rr,h=ad(l.getAttribute("enctype"))||Or,p=new FormData(l)}else if(Qb(l)||Zb(l)&&(l.type==="submit"||l.type==="image")){let w=l.form;if(w==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=l.getAttribute("formaction")||w.getAttribute("action");if(d=x?vs(x,r):null,c=l.getAttribute("formmethod")||w.getAttribute("method")||Rr,h=ad(l.getAttribute("formenctype"))||ad(w.getAttribute("enctype"))||Or,p=new FormData(w,l),!ey()){let{name:g,type:v,value:f}=l;if(v==="image"){let j=g?`${g}.`:"";p.append(`${j}x`,"0"),p.append(`${j}y`,"0")}else g&&p.append(g,f)}}else{if(Pr(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');c=Rr,d=null,h=Or,b=l}return p&&h==="text/plain"&&(b=p,p=void 0),{action:d,method:c.toLowerCase(),encType:h,formData:p,body:b}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Nd(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function sy(l,r,c,d){let h=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return c?h.pathname.endsWith("/")?h.pathname=`${h.pathname}_.${d}`:h.pathname=`${h.pathname}.${d}`:h.pathname==="/"?h.pathname=`_root.${d}`:r&&vs(h.pathname,r)==="/"?h.pathname=`${r.replace(/\/$/,"")}/_root.${d}`:h.pathname=`${h.pathname.replace(/\/$/,"")}.${d}`,h}async function ny(l,r){if(l.id in r)return r[l.id];try{let c=await import(l.module);return r[l.id]=c,c}catch(c){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(c),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ly(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function iy(l,r,c){let d=await Promise.all(l.map(async h=>{let p=r.routes[h.route.id];if(p){let b=await ny(p,c);return b.links?b.links():[]}return[]}));return dy(d.flat(1).filter(ly).filter(h=>h.rel==="stylesheet"||h.rel==="preload").map(h=>h.rel==="stylesheet"?{...h,rel:"prefetch",as:"style"}:{...h,rel:"prefetch"}))}function Nf(l,r,c,d,h,p){let b=(x,g)=>c[g]?x.route.id!==c[g].route.id:!0,w=(x,g)=>c[g].pathname!==x.pathname||c[g].route.path?.endsWith("*")&&c[g].params["*"]!==x.params["*"];return p==="assets"?r.filter((x,g)=>b(x,g)||w(x,g)):p==="data"?r.filter((x,g)=>{let v=d.routes[x.route.id];if(!v||!v.hasLoader)return!1;if(b(x,g)||w(x,g))return!0;if(x.route.shouldRevalidate){let f=x.route.shouldRevalidate({currentUrl:new URL(h.pathname+h.search+h.hash,window.origin),currentParams:c[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function ry(l,r,{includeHydrateFallback:c}={}){return oy(l.map(d=>{let h=r.routes[d.route.id];if(!h)return[];let p=[h.module];return h.clientActionModule&&(p=p.concat(h.clientActionModule)),h.clientLoaderModule&&(p=p.concat(h.clientLoaderModule)),c&&h.hydrateFallbackModule&&(p=p.concat(h.hydrateFallbackModule)),h.imports&&(p=p.concat(h.imports)),p}).flat(1))}function oy(l){return[...new Set(l)]}function cy(l){let r={},c=Object.keys(l).sort();for(let d of c)r[d]=l[d];return r}function dy(l,r){let c=new Set;return new Set(r),l.reduce((d,h)=>{let p=JSON.stringify(cy(h));return c.has(p)||(c.add(p),d.push({key:p,link:h})),d},[])}function cp(){let l=u.useContext(ol);return Nd(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function uy(){let l=u.useContext($r);return Nd(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var wd=u.createContext(void 0);wd.displayName="FrameworkContext";function dp(){let l=u.useContext(wd);return Nd(l,"You must render this element inside a <HydratedRouter> element"),l}function hy(l,r){let c=u.useContext(wd),[d,h]=u.useState(!1),[p,b]=u.useState(!1),{onFocus:w,onBlur:x,onMouseEnter:g,onMouseLeave:v,onTouchStart:f}=r,j=u.useRef(null);u.useEffect(()=>{if(l==="render"&&b(!0),l==="viewport"){let M=S=>{S.forEach(z=>{b(z.isIntersecting)})},R=new IntersectionObserver(M,{threshold:.5});return j.current&&R.observe(j.current),()=>{R.disconnect()}}},[l]),u.useEffect(()=>{if(d){let M=setTimeout(()=>{b(!0)},100);return()=>{clearTimeout(M)}}},[d]);let A=()=>{h(!0)},N=()=>{h(!1),b(!1)};return c?l!=="intent"?[p,j,{}]:[p,j,{onFocus:si(w,A),onBlur:si(x,N),onMouseEnter:si(g,A),onMouseLeave:si(v,N),onTouchStart:si(f,A)}]:[!1,j,{}]}function si(l,r){return c=>{l&&l(c),c.defaultPrevented||r(c)}}function my({page:l,...r}){let{router:c}=cp(),d=u.useMemo(()=>Xf(c.routes,l,c.basename),[c.routes,l,c.basename]);return d?u.createElement(py,{page:l,matches:d,...r}):null}function fy(l){let{manifest:r,routeModules:c}=dp(),[d,h]=u.useState([]);return u.useEffect(()=>{let p=!1;return iy(l,r,c).then(b=>{p||h(b)}),()=>{p=!0}},[l,r,c]),d}function py({page:l,matches:r,...c}){let d=Ks(),{future:h,manifest:p,routeModules:b}=dp(),{basename:w}=cp(),{loaderData:x,matches:g}=uy(),v=u.useMemo(()=>Nf(l,r,g,p,d,"data"),[l,r,g,p,d]),f=u.useMemo(()=>Nf(l,r,g,p,d,"assets"),[l,r,g,p,d]),j=u.useMemo(()=>{if(l===d.pathname+d.search+d.hash)return[];let M=new Set,R=!1;if(r.forEach(z=>{let L=p.routes[z.route.id];!L||!L.hasLoader||(!v.some(E=>E.route.id===z.route.id)&&z.route.id in x&&b[z.route.id]?.shouldRevalidate||L.hasClientLoader?R=!0:M.add(z.route.id))}),M.size===0)return[];let S=sy(l,w,h.unstable_trailingSlashAwareDataRequests,"data");return R&&M.size>0&&S.searchParams.set("_routes",r.filter(z=>M.has(z.route.id)).map(z=>z.route.id).join(",")),[S.pathname+S.search]},[w,h.unstable_trailingSlashAwareDataRequests,x,d,p,v,r,l,b]),A=u.useMemo(()=>ry(f,p),[f,p]),N=fy(f);return u.createElement(u.Fragment,null,j.map(M=>u.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...c})),A.map(M=>u.createElement("link",{key:M,rel:"modulepreload",href:M,...c})),N.map(({key:M,link:R})=>u.createElement("link",{key:M,nonce:c.nonce,...R,crossOrigin:R.crossOrigin??c.crossOrigin})))}function xy(...l){return r=>{l.forEach(c=>{typeof c=="function"?c(r):c!=null&&(c.current=r)})}}var gy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gy&&(window.__reactRouterVersion="7.13.0")}catch{}function by({basename:l,children:r,unstable_useTransitions:c,window:d}){let h=u.useRef();h.current==null&&(h.current=Jg({window:d,v5Compat:!0}));let p=h.current,[b,w]=u.useState({action:p.action,location:p.location}),x=u.useCallback(g=>{c===!1?w(g):u.startTransition(()=>w(g))},[c]);return u.useLayoutEffect(()=>p.listen(x),[p,x]),u.createElement(Yb,{basename:l,children:r,location:b.location,navigationType:b.action,navigator:p,unstable_useTransitions:c})}var up=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hp=u.forwardRef(function({onClick:r,discover:c="render",prefetch:d="none",relative:h,reloadDocument:p,replace:b,state:w,target:x,to:g,preventScrollReset:v,viewTransition:f,unstable_defaultShouldRevalidate:j,...A},N){let{basename:M,unstable_useTransitions:R}=u.useContext(ca),S=typeof g=="string"&&up.test(g),z=ep(g,M);g=z.to;let L=Db(g,{relative:h}),[E,y,k]=hy(d,A),$=Ny(g,{replace:b,state:w,target:x,preventScrollReset:v,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:j,unstable_useTransitions:R});function V(ce){r&&r(ce),ce.defaultPrevented||$(ce)}let B=u.createElement("a",{...A,...k,href:z.absoluteURL||L,onClick:z.isExternal||p?r:V,ref:xy(N,y),target:x,"data-discover":!S&&c==="render"?"true":void 0});return E&&!S?u.createElement(u.Fragment,null,B,u.createElement(my,{page:L})):B});hp.displayName="Link";var yy=u.forwardRef(function({"aria-current":r="page",caseSensitive:c=!1,className:d="",end:h=!1,style:p,to:b,viewTransition:w,children:x,...g},v){let f=di(b,{relative:g.relative}),j=Ks(),A=u.useContext($r),{navigator:N,basename:M}=u.useContext(ca),R=A!=null&&Ay(f)&&w===!0,S=N.encodeLocation?N.encodeLocation(f).pathname:f.pathname,z=j.pathname,L=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;c||(z=z.toLowerCase(),L=L?L.toLowerCase():null,S=S.toLowerCase()),L&&M&&(L=vs(L,M)||L);const E=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let y=z===S||!h&&z.startsWith(S)&&z.charAt(E)==="/",k=L!=null&&(L===S||!h&&L.startsWith(S)&&L.charAt(S.length)==="/"),$={isActive:y,isPending:k,isTransitioning:R},V=y?r:void 0,B;typeof d=="function"?B=d($):B=[d,y?"active":null,k?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let ce=typeof p=="function"?p($):p;return u.createElement(hp,{...g,"aria-current":V,className:B,ref:v,style:ce,to:b,viewTransition:w},typeof x=="function"?x($):x)});yy.displayName="NavLink";var jy=u.forwardRef(({discover:l="render",fetcherKey:r,navigate:c,reloadDocument:d,replace:h,state:p,method:b=Rr,action:w,onSubmit:x,relative:g,preventScrollReset:v,viewTransition:f,unstable_defaultShouldRevalidate:j,...A},N)=>{let{unstable_useTransitions:M}=u.useContext(ca),R=ky(),S=Cy(w,{relative:g}),z=b.toLowerCase()==="get"?"get":"post",L=typeof w=="string"&&up.test(w),E=y=>{if(x&&x(y),y.defaultPrevented)return;y.preventDefault();let k=y.nativeEvent.submitter,$=k?.getAttribute("formmethod")||b,V=()=>R(k||y.currentTarget,{fetcherKey:r,method:$,navigate:c,replace:h,state:p,relative:g,preventScrollReset:v,viewTransition:f,unstable_defaultShouldRevalidate:j});M&&c!==!1?u.startTransition(()=>V()):V()};return u.createElement("form",{ref:N,method:z,action:S,onSubmit:d?x:E,...A,"data-discover":!L&&l==="render"?"true":void 0})});jy.displayName="Form";function vy(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mp(l){let r=u.useContext(ol);return dt(r,vy(l)),r}function Ny(l,{target:r,replace:c,state:d,preventScrollReset:h,relative:p,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:x}={}){let g=yd(),v=Ks(),f=di(l,{relative:p});return u.useCallback(j=>{if(Kb(j,r)){j.preventDefault();let A=c!==void 0?c:ri(v)===ri(f),N=()=>g(l,{replace:A,state:d,preventScrollReset:h,relative:p,viewTransition:b,unstable_defaultShouldRevalidate:w});x?u.startTransition(()=>N()):N()}},[v,g,f,c,d,r,l,h,p,b,w,x])}var wy=0,Sy=()=>`__${String(++wy)}__`;function ky(){let{router:l}=mp("useSubmit"),{basename:r}=u.useContext(ca),c=Hb(),d=l.fetch,h=l.navigate;return u.useCallback(async(p,b={})=>{let{action:w,method:x,encType:g,formData:v,body:f}=ay(p,r);if(b.navigate===!1){let j=b.fetcherKey||Sy();await d(j,c,b.action||w,{unstable_defaultShouldRevalidate:b.unstable_defaultShouldRevalidate,preventScrollReset:b.preventScrollReset,formData:v,body:f,formMethod:b.method||x,formEncType:b.encType||g,flushSync:b.flushSync})}else await h(b.action||w,{unstable_defaultShouldRevalidate:b.unstable_defaultShouldRevalidate,preventScrollReset:b.preventScrollReset,formData:v,body:f,formMethod:b.method||x,formEncType:b.encType||g,replace:b.replace,state:b.state,fromRouteId:c,flushSync:b.flushSync,viewTransition:b.viewTransition})},[d,h,r,c])}function Cy(l,{relative:r}={}){let{basename:c}=u.useContext(ca),d=u.useContext(Wa);dt(d,"useFormAction must be used inside a RouteContext");let[h]=d.matches.slice(-1),p={...di(l||".",{relative:r})},b=Ks();if(l==null){p.search=b.search;let w=new URLSearchParams(p.search),x=w.getAll("index");if(x.some(v=>v==="")){w.delete("index"),x.filter(f=>f).forEach(f=>w.append("index",f));let v=w.toString();p.search=v?`?${v}`:""}}return(!l||l===".")&&h.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),c!=="/"&&(p.pathname=p.pathname==="/"?c:js([c,p.pathname])),ri(p)}function Ay(l,{relative:r}={}){let c=u.useContext(ap);dt(c!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:d}=mp("useViewTransitionState"),h=di(l,{relative:r});if(!c.isTransitioning)return!1;let p=vs(c.currentLocation.pathname,d)||c.currentLocation.pathname,b=vs(c.nextLocation.pathname,d)||c.nextLocation.pathname;return Fr(h.pathname,b)!=null||Fr(h.pathname,p)!=null}var Sd=Qf();const Ey="/api/index.php?path=",wf=l=>{if(!l)return"";const r=String(l).replace(/\/+$/,"");return r.includes("?path=")||/\/api\/index\.php$/i.test(r)||/\/index\.php$/i.test(r)||/\/api$/i.test(r)?r:r+"/api"},Ty=()=>{const l=wf("https://bettorplays247.com/api/index.php?path=");return l||wf(Ey)},pe=Ty();pe.replace(/\/api\/?$/,"");const Js=l=>String(l||"straight").toLowerCase().replace(/-/g,"_").trim(),ge=(l=null)=>{const r={"Content-Type":"application/json","Bypass-Tunnel-Remainder":"true"};return l&&(r.Authorization=`Bearer ${l}`),r},ui=async(l,r)=>{const d=(l.headers.get("content-type")||"").toLowerCase().includes("application/json"),h=await l.text();let p=null;if(d&&h)try{p=JSON.parse(h)}catch{p=null}if(!l.ok){const b=p?.message||(h&&!d?`${r}: received HTML/non-JSON response from ${l.url}`:r);throw new Error(b)}if(d){if(!h)return{};try{return JSON.parse(h)}catch{throw new Error(`${r}: server returned invalid JSON`)}}throw new Error(`${r}: expected JSON but received non-JSON response from ${l.url}`)},Ly=async(l,r)=>{const c=await fetch(`${pe}/auth/login`,{method:"POST",headers:ge(),body:JSON.stringify({username:l,password:r})});return ui(c,"Login failed")},My=async l=>{const r=await fetch(`${pe}/wallet/balance`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch balance");return r.json()},en=async l=>{const r=await fetch(`${pe}/auth/me`,{headers:ge(l)});if(!r.ok){const c=await r.json().catch(()=>({})),d=new Error(c.message||"Failed to fetch user profile");throw d.status=r.status,d}return r.json()},Dy=async(l,r)=>{const c=await fetch(`${pe}/auth/profile`,{method:"PUT",headers:ge(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json();throw new Error(d.message||"Failed to update profile")}return c.json()},fp=async()=>{const l=await fetch(`${pe}/matches`,{headers:ge()});if(!l.ok)throw new Error("Failed to fetch matches");return l.json()},_y=async()=>{const l=await fetch(`${pe}/matches?status=live`,{headers:ge()});if(!l.ok)throw new Error("Failed to fetch live matches");return l.json()},By=async(l,r)=>{const c=Js(l?.type||"straight"),d=Array.isArray(l?.selections)?l.selections.map(b=>({...b,type:Js(b?.type||b?.marketType||"straight")})):void 0,h={...l,type:c,selections:d},p=await fetch(`${pe}/bets/place`,{method:"POST",headers:ge(r),body:JSON.stringify(h)});if(!p.ok){const b=await p.json();throw new Error(b.message||"Failed to place bet")}return p.json()},Ry=async l=>{const r=await fetch(`${pe}/betting/rules`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch bet mode rules");return r.json()},kd=async l=>{const r=await fetch(`${pe}/bets/my-bets`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch my bets");return r.json()},pp=async l=>{const r=await fetch(`${pe}/casino/categories`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch casino categories");return r.json()},xp=async({token:l,category:r="lobby",search:c="",featured:d=!1,page:h=1,limit:p=48}={})=>{const b=new URLSearchParams;r&&b.set("category",r),c&&b.set("search",c),d&&b.set("featured","true"),b.set("page",String(h)),b.set("limit",String(p));const w=await fetch(`${pe}/casino/games?${b.toString()}`,{headers:ge(l)});if(!w.ok)throw new Error("Failed to fetch casino games");return w.json()},gp=async(l,r)=>{const c=await fetch(`${pe}/casino/games/${l}/launch`,{method:"POST",headers:ge(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to launch casino game")}return c.json()},Oy=async(l,r,c)=>{const d=await fetch(`${pe}/wallet/request-deposit`,{method:"POST",headers:ge(c),body:JSON.stringify({amount:l,method:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to request deposit")}return d.json()},Uy=async(l,r,c)=>{const d=await fetch(`${pe}/wallet/request-withdrawal`,{method:"POST",headers:ge(c),body:JSON.stringify({amount:l,method:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to request withdrawal")}return d.json()},zy=async(l,{type:r="",status:c="",limit:d=50}={})=>{const h=new URLSearchParams;r&&h.set("type",r),c&&h.set("status",c),h.set("limit",String(d));const p=await fetch(`${pe}/wallet/transactions?${h.toString()}`,{headers:ge(l)});if(!p.ok)throw new Error("Failed to fetch wallet transactions");return p.json()},hi=async l=>{const r=await fetch(`${pe}/admin/agents`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch agents");return r.json()},Fy=async l=>{const r=await fetch(`${pe}/admin/header-summary`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch admin header summary");return r.json()},Iy=async l=>{const r=await fetch(`${pe}/admin/system-stats`,{headers:ge(l)});if(!r.ok){const c=await r.json().catch(()=>({}));throw new Error(c.message||"Failed to fetch system stats")}return r.json()},$y=async l=>{const r=await fetch(`${pe}/admin/entity-catalog`,{headers:ge(l)});if(!r.ok){const c=await r.json().catch(()=>({}));throw new Error(c.message||"Failed to fetch admin entity catalog")}return r.json()},Py=async(l,r)=>{const c=encodeURIComponent(String(l||"week")),d=pe.includes("?path=")?`${pe}/admin/weekly-figures&period=${c}`:`${pe}/admin/weekly-figures?period=${c}`,h=await fetch(d,{headers:ge(r)});return ui(h,"Failed to fetch weekly figures")},Hy=async l=>{const r=await fetch(`${pe}/admin/pending`,{headers:ge(l)});return ui(r,"Failed to fetch pending items")},qy=async(l,r)=>{const c=await fetch(`${pe}/admin/pending/approve`,{method:"POST",headers:ge(r),body:JSON.stringify({transactionId:l})});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to approve pending item")}return c.json()},Gy=async(l,r)=>{const c=await fetch(`${pe}/admin/pending/decline`,{method:"POST",headers:ge(r),body:JSON.stringify({transactionId:l})});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to decline pending item")}return c.json()},Wy=async l=>{const r=await fetch(`${pe}/admin/messages`,{headers:ge(l)});return ui(r,"Failed to fetch messages")},Yy=async(l,r)=>{const c=await fetch(`${pe}/admin/messages/${l}/read`,{method:"POST",headers:ge(r)});if(!c.ok)throw new Error("Failed to mark message read");return c.json()},Vy=async(l,r,c)=>{const d=await fetch(`${pe}/admin/messages/${l}/reply`,{method:"POST",headers:ge(c),body:JSON.stringify({reply:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to send reply")}return d.json()},Qy=async(l,r)=>{const c=await fetch(`${pe}/admin/messages/${l}`,{method:"DELETE",headers:ge(r)});if(!c.ok)throw new Error("Failed to delete message");return c.json()},bp=async l=>{const r=await fetch(`${pe}/messages/me`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch messages");return r.json()},yp=async(l,r,c)=>{const d=await fetch(`${pe}/messages`,{method:"POST",headers:ge(c),body:JSON.stringify({subject:l,body:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to send message")}return d.json()},Xy=async l=>{const r=await fetch(`${pe}/content/tutorials`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch tutorials");return r.json()},Zy=async l=>{const r=await fetch(`${pe}/content/faqs`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch FAQs");return r.json()},dl=async l=>{const r=await fetch(`${pe}/admin/matches`,{headers:ge(l)});return ui(r,"Failed to fetch matches")},jp=async(l,r)=>{const c=await fetch(`${pe}/admin/matches`,{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create match")}return c.json()},vp=async(l,r,c)=>{const d=await fetch(`${pe}/admin/matches/${l}`,{method:"PUT",headers:ge(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update match")}return d.json()},Jy=async l=>{const r=await fetch(`${pe}/admin/cashier/summary`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch cashier summary");return r.json()},Ky=async l=>{const r=await fetch(`${pe}/admin/third-party-limits`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch third party limits");return r.json()},ej=async(l,r,c)=>{const d=await fetch(`${pe}/admin/third-party-limits/${l}`,{method:"PUT",headers:ge(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update third party limit")}return d.json()},tj=async(l,r)=>{const c=await fetch(`${pe}/admin/third-party-limits`,{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create third party limit")}return c.json()},Cd=async(l,r)=>{const c=new URLSearchParams(l).toString(),d=await fetch(`${pe}/admin/bets?${c}`,{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch admin bets");return d.json()},aj=async(l,r)=>{const c=new URLSearchParams(l).toString(),d=await fetch(`${pe}/admin/ip-tracker?${c}`,{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch IP tracker");return d.json()},sj=async(l,r)=>{const c=await fetch(`${pe}/admin/ip-tracker/${l}/block`,{method:"POST",headers:ge(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to block IP")}return c.json()},nj=async(l,r)=>{const c=await fetch(`${pe}/admin/ip-tracker/${l}/unblock`,{method:"POST",headers:ge(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to unblock IP")}return c.json()},ll=async(l,r)=>{const c=new URLSearchParams(l).toString(),d=await fetch(`${pe}/admin/transactions?${c}`,{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch transactions history");return d.json()},Sf=async(l,r)=>{const c=await fetch(`${pe}/admin/transactions`,{method:"DELETE",headers:ge(r),body:JSON.stringify({ids:l})});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to delete transactions")}return c.json()},lj=async(l,r)=>{const c=new URLSearchParams(l).toString(),d=await fetch(`${pe}/admin/collections?${c}`,{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch collections");return d.json()},ij=async(l,r)=>{const c=new URLSearchParams(l).toString(),d=await fetch(`${pe}/admin/deleted-wagers?${c}`,{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch deleted wagers");return d.json()},rj=async(l,r)=>{const c=await fetch(`${pe}/admin/deleted-wagers/${l}/restore`,{method:"POST",headers:ge(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to restore wager")}return c.json()},oj=async l=>{const r=await fetch(`${pe}/admin/sportsbook-links`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch sportsbook links");return r.json()},cj=async(l,r)=>{const c=await fetch(`${pe}/admin/sportsbook-links`,{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create sportsbook link")}return c.json()},dj=async(l,r,c)=>{const d=await fetch(`${pe}/admin/sportsbook-links/${l}`,{method:"PUT",headers:ge(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update sportsbook link")}return d.json()},uj=async(l,r)=>{const c=await fetch(`${pe}/admin/ip-tracker/${l}/whitelist`,{method:"POST",headers:{Authorization:`Bearer ${r}`}});if(!c.ok){const d=await c.json();throw new Error(d.message||"Failed to whitelist IP")}return c.json()},hj=async(l,r)=>{const c=await fetch(`${pe}/admin/sportsbook-links/${l}/test`,{method:"POST",headers:ge(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to test sportsbook link")}return c.json()},Np=async l=>{const r=await fetch(`${pe}/admin/refresh-odds`,{method:"POST",headers:ge(l)});if(!r.ok){const c=await r.json().catch(()=>({}));throw new Error(c.message||"Failed to refresh odds")}return r.json()},wp=async()=>{const l=await fetch(`${pe}/matches/fetch-odds`,{method:"POST"});if(!l.ok){const r=await l.json().catch(()=>({}));throw new Error(r.message||"Failed to fetch odds")}return l.json()},mj=async l=>{const r=await fetch(`${pe}/admin/clear-cache`,{method:"POST",headers:ge(l)});if(!r.ok){const c=await r.json().catch(()=>({}));throw new Error(c.message||"Failed to clear cache")}return r.json()},fj=async(l,r)=>{const c=await fetch(`${pe}/admin/collections`,{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create collection")}return c.json()},pj=async(l,r)=>{const c=await fetch(`${pe}/admin/collections/${l}/collect`,{method:"POST",headers:ge(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to collect")}return c.json()},xj=async(l,r)=>{const c=await fetch(`${pe}/admin/bets`,{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create bet")}return c.json()},gj=async(l,r)=>{const c=await fetch(`${pe}/admin/bets/${l}`,{method:"DELETE",headers:ge(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to delete bet")}return c.json()},bj=async(l,r)=>{const c=await fetch(`${pe}/bets/settle`,{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to settle bets")}return c.json()},yj=async(l,r)=>{const c=new URLSearchParams(l).toString(),d=await fetch(`${pe}/admin/agent-performance?${c}`,{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch agent performance");return d.json()},jj=async(l,r,c)=>{const d=new URLSearchParams(r||{}).toString(),h=await fetch(`${pe}/admin/agent-performance/${l}/details?${d}`,{headers:ge(c)});if(!h.ok){const p=await h.json().catch(()=>({}));throw new Error(p.message||"Failed to fetch agent performance details")}return h.json()},vj=async(l,r,c)=>{const d=await fetch(`${pe}/agent/permissions/${l}`,{method:"PUT",headers:ge(c),body:JSON.stringify({permissions:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update permissions")}return d.json()},Ir=async(l,r)=>{try{if(console.log(" createAgent API called"),console.log(" Token parameter:",r?r.substring(0,50)+"...":"NO TOKEN PARAM"),console.log(" Agent data:",l),!r)throw new Error("No token provided. Please login first.");const c={"Content-Type":"application/json",Authorization:`Bearer ${r}`};console.log(" Request headers:",{"Content-Type":c["Content-Type"],Authorization:c.Authorization?"Bearer "+r.substring(0,30)+"...":"NONE"});const d=await fetch(`${pe}/admin/create-agent`,{method:"POST",headers:c,body:JSON.stringify(l)});if(console.log(" Response status:",d.status),!d.ok){let p="Failed to create agent";try{const b=await d.json();console.error(" Server error:",b),p=b.message||p}catch{p=`Server error (${d.status}): ${d.statusText}`}throw new Error(p)}const h=await d.json();return console.log(" Agent created:",h),h}catch(c){throw console.error(" Create Agent Error:",c),c instanceof TypeError?new Error("Network error - Unable to reach server. Is the backend running on port 5000?"):c}},Nj=async(l,r={})=>{const c=await fetch(`${pe}/admin/seed-workflow-hierarchy`,{method:"POST",headers:ge(l),body:JSON.stringify({confirm:!0,...r})}),d=await c.json().catch(()=>({}));if(!c.ok)throw new Error(d.message||"Failed to seed workflow hierarchy");return d},Sp=async(l,r)=>{try{if(console.log(" createUserByAdmin API called"),console.log(" Token parameter:",r?r.substring(0,50)+"...":"NO TOKEN PARAM"),console.log(" User data:",l),!r)throw new Error("No token provided. Please login first.");const c={"Content-Type":"application/json",Authorization:`Bearer ${r}`};console.log(" Request headers:",{"Content-Type":c["Content-Type"],Authorization:c.Authorization?"Bearer "+r.substring(0,30)+"...":"NONE"});const d=await fetch(`${pe}/admin/create-user`,{method:"POST",headers:c,body:JSON.stringify(l)});if(console.log(" Response status:",d.status),!d.ok){let p="Failed to create user";try{const b=await d.json();console.error(" Server error:",b),p=b.message||p}catch{p=`Server error (${d.status}): ${d.statusText}`}throw new Error(p)}const h=await d.json();return console.log(" User created:",h),h}catch(c){throw console.error(" Create User Error:",c),c instanceof TypeError?new Error("Network error - Unable to reach server. Is the backend running on port 5000?"):c}},bs=async(l,r,c)=>{try{const d=await fetch(`${pe}/admin/users/${l}`,{method:"PUT",headers:ge(c),body:JSON.stringify(r)}),h=await d.json();if(!d.ok)throw new Error(h.message||"Failed to update user");return h}catch(d){throw console.error("updateUserByAdmin error:",d),d}},kp=async(l,r,c,d="")=>{try{const h=await fetch(`${pe}/admin/users/${l}/freeplay`,{method:"PUT",headers:ge(c),body:JSON.stringify({freeplayBalance:r,description:d})}),p=await h.json();if(!h.ok)throw new Error(p.message||"Failed to update freeplay");return p}catch(h){throw console.error("updateUserFreeplay error:",h),h}},wj=async(l,r)=>{try{if(console.log("createPlayerByAgent called with token:",r?r.substring(0,30)+"...":"NO TOKEN"),!r)throw new Error("No token provided. Please login first.");const c=await fetch(`${pe}/agent/create-user`,{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!c.ok){let d="Failed to create player";try{d=(await c.json()).message||d}catch{d=`Server error (${c.status}): ${c.statusText}`}throw new Error(d)}return c.json()}catch(c){throw console.error("Create Player Error:",c),c instanceof TypeError?new Error("Network error - Unable to reach server. Is the backend running on port 5000?"):c}},dd=async l=>{const r=await fetch(`${pe}/agent/my-users`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch players");return r.json()},il=async(l,r={})=>{const c=new URLSearchParams;r.q&&c.set("q",r.q);const d=c.toString()?`?${c.toString()}`:"",h=await fetch(`${pe}/admin/users${d}`,{headers:ge(l)});if(!h.ok){const p=await h.json().catch(()=>({}));throw new Error(p.message||"Failed to fetch users")}return h.json()},oi=async(l,r,c)=>{const d=await fetch(`${pe}/admin/users/${l}/credit`,{method:"PUT",headers:ge(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update user balance")}return d.json()},kf=async(l,r,c)=>{const d=await fetch(`${pe}/agent/update-balance-owed`,{method:"POST",headers:ge(c),body:JSON.stringify({userId:l,balance:r})});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update balance")}return d.json()},ud=async(l,r,c)=>{try{const d=await fetch(`${pe}/admin/agent/${l}`,{method:"PUT",headers:ge(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json();throw new Error(h.message||"Failed to update agent")}return d.json()}catch(d){throw console.error("Update Agent Error:",d),d}},wa=async(l,r,c)=>{try{const d=await fetch(`${pe}/agent/users/${l}`,{method:"PUT",headers:ge(c),body:JSON.stringify(r)}),h=await d.json();if(!d.ok)throw new Error(h.message||"Failed to update customer");return h}catch(d){throw console.error("updateUserByAgent error:",d),d}},hd=async(l,r)=>{try{const c=await fetch(`${pe}/agent/create-sub-agent`,{method:"POST",headers:ge(r),body:JSON.stringify(l)}),d=await c.json();if(!c.ok)throw new Error(d.message||"Failed to create sub-agent");return d}catch(c){throw console.error("createSubAgent error:",c),c}},Sj=async l=>{try{const r=await fetch(`${pe}/agent/my-sub-agents`,{method:"GET",headers:ge(l)}),c=await r.json();if(!r.ok)throw new Error(c.message||"Failed to fetch sub-agents");return c}catch(r){throw console.error("getMySubAgents error:",r),r}},kj=async(l,r)=>{try{const c=await fetch(`${pe}/admin/users/${l}/stats`,{method:"GET",headers:ge(r)}),d=await c.json();if(!c.ok)throw new Error(d.message||"Failed to fetch user statistics");return d}catch(c){throw console.error("getUserStatistics error:",c),c}},Cj=async(l,r)=>{const c=await fetch(`${pe}/admin/bets`,{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create ticket")}return c.json()},Aj=async l=>{const r=await fetch(`${pe}/admin/billing/summary`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch billing summary");return r.json()},Ej=async(l,r)=>{const c=new URLSearchParams(l).toString(),d=await fetch(`${pe}/admin/billing/invoices?${c}`,{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch invoices");return d.json()},Tj=async(l,r)=>{const c=await fetch(`${pe}/admin/billing/invoices`,{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create invoice")}return c.json()},Lj=async(l,r,c)=>{const d=await fetch(`${pe}/admin/billing/invoices/${l}`,{method:"PUT",headers:ge(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update invoice")}return d.json()},Mj=async l=>{const r=await fetch(`${pe}/admin/settings`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch settings");return r.json()},Dj=async(l,r)=>{const c=await fetch(`${pe}/admin/settings`,{method:"PUT",headers:ge(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to update settings")}return c.json()},_j=async l=>{const r=await fetch(`${pe}/admin/rules`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch rules");return r.json()},Bj=async(l,r)=>{const c=await fetch(`${pe}/admin/rules`,{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create rule")}return c.json()},Rj=async(l,r,c)=>{const d=await fetch(`${pe}/admin/rules/${l}`,{method:"PUT",headers:ge(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update rule")}return d.json()},Oj=async(l,r)=>{const c=await fetch(`${pe}/admin/rules/${l}`,{method:"DELETE",headers:ge(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to delete rule")}return c.json()},Uj=async(l,r)=>{const c=new URLSearchParams(l).toString(),d=await fetch(`${pe}/admin/feedback?${c}`,{headers:ge(r)});if(!d.ok)throw new Error("Failed to fetch feedback");return d.json()},zj=async(l,r,c)=>{const d=await fetch(`${pe}/admin/feedback/${l}/reply`,{method:"POST",headers:ge(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to reply feedback")}return d.json()},Fj=async(l,r)=>{const c=await fetch(`${pe}/admin/feedback/${l}/reviewed`,{method:"POST",headers:ge(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to mark reviewed")}return c.json()},Ij=async(l,r)=>{const c=await fetch(`${pe}/admin/feedback/${l}`,{method:"DELETE",headers:ge(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to delete feedback")}return c.json()},$j=async l=>{const r=await fetch(`${pe}/admin/faqs`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch FAQs");return r.json()},Pj=async(l,r)=>{const c=await fetch(`${pe}/admin/faqs`,{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create FAQ")}return c.json()},Hj=async(l,r,c)=>{const d=await fetch(`${pe}/admin/faqs/${l}`,{method:"PUT",headers:ge(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update FAQ")}return d.json()},qj=async(l,r)=>{const c=await fetch(`${pe}/admin/faqs/${l}`,{method:"DELETE",headers:ge(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to delete FAQ")}return c.json()},Gj=async l=>{const r=await fetch(`${pe}/admin/manual`,{headers:ge(l)});if(!r.ok)throw new Error("Failed to fetch manual");return r.json()},Wj=async(l,r)=>{const c=await fetch(`${pe}/admin/manual`,{method:"POST",headers:ge(r),body:JSON.stringify(l)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to create manual section")}return c.json()},Yj=async(l,r,c)=>{const d=await fetch(`${pe}/admin/manual/${l}`,{method:"PUT",headers:ge(c),body:JSON.stringify(r)});if(!d.ok){const h=await d.json().catch(()=>({}));throw new Error(h.message||"Failed to update manual section")}return d.json()},Vj=async(l,r)=>{const c=await fetch(`${pe}/admin/manual/${l}`,{method:"DELETE",headers:ge(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to delete manual section")}return c.json()},Cp=async(l,r)=>{const c=await fetch(`${pe}/admin/suspend`,{method:"POST",headers:ge(r),body:JSON.stringify({userId:l})});if(!c.ok)throw new Error("Failed to suspend user");return c.json()},Ap=async(l,r)=>{const c=await fetch(`${pe}/admin/unsuspend`,{method:"POST",headers:ge(r),body:JSON.stringify({userId:l})});if(!c.ok)throw new Error("Failed to unsuspend user");return c.json()},Ur=async(l,r,c)=>{const d=await fetch(`${pe}/admin/users/${l}/reset-password`,{method:"POST",headers:ge(c),body:JSON.stringify({newPassword:r})});if(!d.ok){const h=await d.json();throw new Error(h.message||"Failed to reset user password")}return d.json()},Ep=async(l,r,c)=>{const d=await fetch(`${pe}/admin/agents/${l}/reset-password`,{method:"POST",headers:ge(c),body:JSON.stringify({newPassword:r})});if(!d.ok){const h=await d.json();throw new Error(h.message||"Failed to reset agent password")}return d.json()},Ga=async(l,r,c={})=>{const d=String(l||"").trim().toUpperCase().replace(/[^A-Z0-9]/g,"");if(!d)throw new Error("Prefix is required and must contain only letters/numbers");const h={...c};typeof h.suffix=="string"&&(h.suffix=h.suffix.toUpperCase().replace(/[^A-Z0-9]/g,"")),typeof h.type=="string"&&(h.type=h.type.toLowerCase());const p=new URLSearchParams(h).toString(),b=`/admin/next-username/${encodeURIComponent(d)}`,w=pe.includes("?path=")?`${pe}${b}${p?`&${p}`:""}`:`${pe}${b}${p?`?${p}`:""}`,x=await fetch(w,{headers:ge(r)});if(!x.ok){const g=await x.json().catch(()=>({}));throw new Error(g.message||"Failed to fetch next username")}return x.json()},Qj=async(l,r)=>{const c=await fetch(`${pe}/admin/impersonate-user/${l}`,{method:"POST",headers:ge(r)});if(!c.ok){const d=await c.json().catch(()=>({}));throw new Error(d.message||"Failed to impersonate user")}return c.json()},Xj=async l=>{const r=await fetch(`${pe}/admin/agent-tree`,{headers:ge(l)});if(!r.ok){const c=await r.json().catch(()=>({}));throw new Error(c.message||"Failed to fetch agent tree")}return r.json()},Tp=async(l,r)=>{const c=await fetch(`${pe}/admin/users/${l}`,{method:"DELETE",headers:ge(r)});if(!c.ok){const d=await c.json();throw new Error(d.message||"Failed to delete user")}return c.json()},Lp=async(l,r)=>{const c=await fetch(`${pe}/admin/agents/${l}`,{method:"DELETE",headers:ge(r)});if(!c.ok){const d=await c.json();throw new Error(d.message||"Failed to delete agent")}return c.json()},Zj=({onLogin:l,isLoggedIn:r})=>{const[c,d]=u.useState(""),[h,p]=u.useState(""),[b,w]=u.useState(!1),[x,g]=u.useState(!1),v=async()=>{if(c&&h){w(!0);try{await l(c,h),d(""),p(""),g(!1)}catch(j){alert(j.message)}finally{w(!1)}}else alert("Please enter username and password")},f=j=>{j.key==="Enter"&&v()};return e.jsxs("header",{className:"main-header",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"/bgremlogo.png",alt:"betterbet365"})}),e.jsx("div",{className:"login-section desktop-only",children:r?e.jsx("button",{className:"btn-login",style:{background:"#00ff66",color:"black",boxShadow:"0 0 30px rgba(0,255,102,0.4)"},children:"WELCOME BACK"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",placeholder:"Username",id:"loginId",value:c,onChange:j=>d(j.target.value),onKeyPress:f}),e.jsx("input",{type:"password",placeholder:"Password",id:"password",value:h,onChange:j=>p(j.target.value),onKeyPress:f})]}),e.jsx("button",{className:"btn-login",onClick:v,style:b?{opacity:.7}:{},children:b?"LOGGING IN...":"SIGN IN"})]})}),e.jsxs("div",{className:"mobile-header-container mobile-only",children:[e.jsxs("div",{className:"top-header",children:[r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"icon-btn",children:[e.jsx("i",{className:"fa-solid fa-magnifying-glass"}),e.jsx("span",{children:"SEARCH"})]}),e.jsxs("div",{className:"icon-btn",children:[e.jsx("i",{className:"fa-solid fa-cash-register"}),e.jsx("span",{children:"CASHIER"})]})]}),e.jsx("div",{className:"right-section",children:r?e.jsx("div",{className:"mobile-user-trigger",onClick:()=>g(!x),children:e.jsx("div",{style:{width:"30px",height:"30px",background:"#00ff66",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"black",fontWeight:"bold"},children:c?c.charAt(0).toUpperCase():"U"})}):e.jsx("div",{style:{display:"flex",alignItems:"center"},children:e.jsx("button",{className:"mobile-login-btn",onClick:()=>g(!x),children:"LOGIN"})})})]}),r&&e.jsxs("div",{className:"tabs-bar",children:[e.jsxs("div",{className:"tab-item active",children:[e.jsx("span",{className:"tab-letter",children:"S"}),e.jsx("span",{className:"tab-text",children:"STRAIGHT"})]}),e.jsxs("div",{className:"tab-item",children:[e.jsx("span",{className:"tab-letter",children:"P"}),e.jsx("span",{className:"tab-text",children:"PARLAY"})]}),e.jsxs("div",{className:"tab-item",children:[e.jsx("span",{className:"tab-letter",children:"T"}),e.jsx("span",{className:"tab-text",children:"TEASER"})]}),e.jsxs("div",{className:"tab-item",children:[e.jsx("span",{className:"tab-letter",children:"I"}),e.jsx("span",{className:"tab-text",children:"IF BET"})]}),e.jsxs("div",{className:"tab-item",children:[e.jsx("i",{className:"fa-solid fa-desktop tab-icon"}),e.jsx("span",{className:"tab-text",children:"BET LIVE"})]})]}),r&&e.jsxs("div",{className:"info-bar",children:[e.jsx("div",{className:"info-bar-item",children:" UP NEXT "}),e.jsx("div",{className:"info-bar-item",children:" FEATURED "})]})]}),x&&Sd.createPortal(e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.8)",zIndex:99998,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Arial, sans-serif",padding:"20px",boxSizing:"border-box",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)"},children:e.jsxs("div",{style:{background:"white",width:"100%",maxWidth:"400px",borderRadius:"12px",boxShadow:"0 30px 100px rgba(0,0,0,0.9)",padding:"30px",display:"flex",flexDirection:"column",gap:"15px",animation:"fadeIn 0.4s ease-out"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[e.jsx("h2",{style:{margin:0,color:"#000",fontSize:"22px",fontWeight:"bold"},children:"SIGN IN"}),e.jsx("span",{onClick:()=>g(!1),style:{cursor:"pointer",fontSize:"28px",fontWeight:"bold",color:"#000",lineHeight:"1"},children:""})]}),r?e.jsxs("div",{style:{textAlign:"center",color:"#000"},children:[e.jsx("div",{style:{marginBottom:"15px",fontWeight:"bold",fontSize:"18px"},children:"WELCOME BACK"}),e.jsx("button",{className:"btn-login",onClick:()=>g(!1),style:{width:"100%",padding:"12px",background:"#dc3545",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"MY ACCOUNT"})]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:"Username",value:c,onChange:j=>d(j.target.value),onKeyPress:f,style:{width:"100%",padding:"12px 15px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"16px",color:"#333",background:"white",boxSizing:"border-box"}}),e.jsx("input",{type:"password",placeholder:"Password",value:h,onChange:j=>p(j.target.value),onKeyPress:f,style:{width:"100%",padding:"12px 15px",borderRadius:"4px",border:"1px solid #ccc",fontSize:"16px",color:"#333",background:"white",boxSizing:"border-box"}}),e.jsx("button",{className:"btn-login",onClick:v,style:{width:"100%",padding:"12px",background:"#dc3545",color:"white",border:"none",borderRadius:"4px",fontSize:"16px",fontWeight:"bold",cursor:b?"not-allowed":"pointer",opacity:b?.7:1},children:b?"SIGNING IN...":"SIGN IN"})]})]})}),document.body)]})},Jj=[{id:"all",name:"ALL",icon:"https://upload.wikimedia.org/wikipedia/commons/5/5c/Olympic_rings_without_rims.svg"},{id:"nba",name:"NBA",icon:"https://upload.wikimedia.org/wikipedia/en/0/03/National_Basketball_Association_logo.svg"},{id:"nfl",name:"NFL",icon:"https://upload.wikimedia.org/wikipedia/en/a/a2/National_Football_League_logo.svg"},{id:"mlb",name:"MLB",icon:"/mlb.svg"},{id:"nhl",name:"NHL",icon:"https://upload.wikimedia.org/wikipedia/en/3/3a/05_NHL_Shield.svg"},{id:"soccer",name:"SOCCER",icon:"https://upload.wikimedia.org/wikipedia/commons/a/aa/FIFA_logo_without_slogan.svg"},{id:"boxing",name:"UFC",icon:"https://upload.wikimedia.org/wikipedia/commons/0/0d/UFC_logo.svg"}],Kj=({activeLeague:l,onSelectLeague:r})=>e.jsx("nav",{className:"league-nav",children:e.jsx("div",{className:"nav-container",children:e.jsx("div",{className:"league-icons",children:Jj.map(c=>e.jsxs("div",{className:`league-item ${l===c.id?"active":""}`,onClick:()=>r(c.id),children:[e.jsx("img",{src:c.icon,alt:c.name}),e.jsx("span",{children:c.name})]},c.id))})})}),sd=[{img:"/hero-banner.png",title:"N.Y KNICKS VS DETROIT",subtitle:"Tonight @ 7:00 P.M | Madison Square Garden"},{img:"/arena-banner.png",title:"UPCOMING NFL SUNDAY",subtitle:"Pre-game Analysis & Live Odds Starts @ 1PM"},{img:"/football-banner.png",title:"PREMIER LEAGUE ACTION",subtitle:"Matchday 24: Liverpool vs Man City"}],ev=()=>{const[l,r]=u.useState(0);u.useEffect(()=>{const d=setInterval(()=>{r(h=>(h+1)%sd.length)},5e3);return()=>clearInterval(d)},[]);const c=sd[l];return e.jsxs("div",{className:"hero-container",children:[e.jsxs("section",{className:"hero-section",children:[e.jsx("img",{src:c.img,alt:"Featured Match",id:"heroImage",style:{animation:"fadeIn 0.5s ease-in-out"}}),e.jsxs("div",{className:"hero-overlay",children:[e.jsxs("div",{className:"hero-text",children:[e.jsx("span",{className:"hero-badge",children:"FEATURED MATCH"}),e.jsx("h1",{id:"heroTitle",children:c.title}),e.jsx("p",{id:"heroSubtitle",children:c.subtitle})]}),e.jsx("button",{className:"btn-login",style:{background:"var(--gold)",color:"black"},children:"BET NOW"})]}),e.jsx("div",{className:"hero-controls",children:sd.map((d,h)=>e.jsx("div",{className:`control-dot ${h===l?"active":""}`,onClick:()=>r(h)},h))})]}),e.jsxs("div",{className:"promo-flex-row",children:[e.jsxs("div",{className:"promo-card",children:[e.jsx("img",{src:"/promo-football.png",alt:"NFL Promo"}),e.jsxs("div",{className:"promo-text",children:[e.jsx("h3",{children:"NFL PLAYOFFS"}),e.jsx("p",{children:"Live Odds & Analysis"})]}),e.jsx("div",{className:"promo-badge",children:"betterbet365"})]}),e.jsxs("div",{className:"promo-card",children:[e.jsx("img",{src:"/arena-banner.png",alt:"Arena Promo"}),e.jsxs("div",{className:"promo-text",children:[e.jsx("h3",{children:"NBA FINALS"}),e.jsx("p",{children:"Get in on the action"})]}),e.jsx("div",{className:"promo-badge",children:"betterbet365"})]})]})]})},Cf={"leeds united":"https://upload.wikimedia.org/wikipedia/en/5/54/Leeds_United_F.C._logo.svg","nottingham forest":"https://upload.wikimedia.org/wikipedia/en/e/e5/Nottingham_Forest_F.C._logo.svg"},nd=new Map,md=(l="")=>String(l||"").toLowerCase().replace(/[.'-]/g," ").replace(/\s+/g," ").trim(),tv=(l="")=>{const r=md(l);if(!r)return[];const c=[r,r.replace(/\b(fc|cf|sc|afc|b c|bk|basketball club|football club)\b/g," ").replace(/\s+/g," ").trim(),r.replace(/\b(the)\b/g," ").replace(/\s+/g," ").trim()].filter(Boolean);return Array.from(new Set(c))},av=l=>l?.strBadge||l?.strTeamBadge||l?.strLogo||l?.strTeamLogo||l?.strJersey||l?.strTeamJersey||"",sv=l=>{let r=0;for(let c=0;c<l.length;c+=1)r=l.charCodeAt(c)+((r<<5)-r);return Math.abs(r)},nv=(l="")=>{const r=String(l).trim().split(/\s+/).filter(Boolean);return r.length===0?"?":r.length===1?r[0].slice(0,2).toUpperCase():`${r[0][0]||""}${r[1][0]||""}`.toUpperCase()},Zs=(l="")=>{const r=String(l||"Team"),d=sv(r.toLowerCase())%360,h=(d+36)%360,p=nv(r),b=`
<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80">
  <defs>
    <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="hsl(${d}, 78%, 46%)" />
      <stop offset="100%" stop-color="hsl(${h}, 78%, 36%)" />
    </linearGradient>
  </defs>
  <circle cx="40" cy="40" r="38" fill="url(#g)" />
  <circle cx="40" cy="40" r="36" fill="none" stroke="rgba(255,255,255,.32)" stroke-width="2" />
  <text x="40" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="700" fill="#fff">${p}</text>
</svg>`;return`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(b.trim())}`},Mp=async(l="")=>{const r=md(l);if(!r)return"";if(Cf[r])return Cf[r];if(nd.has(r))return nd.get(r);const c=(async()=>{const d=tv(l);for(const h of d)try{const p=await fetch(`https://www.thesportsdb.com/api/v1/json/123/searchteams.php?t=${encodeURIComponent(h)}`);if(!p.ok)continue;const b=await p.json(),w=Array.isArray(b?.teams)?b.teams:[];if(w.length===0)continue;const g=w.find(f=>md(f?.strTeam)===r)||w[0],v=av(g);if(v)return v}catch{}return""})();return nd.set(r,c),c},Af="admin_scoreboard_matches_cache_v1",Ef=10,lv=1500,Dp=({onClose:l})=>{const[r,c]=u.useState([]),[d,h]=u.useState(!1),[p,b]=u.useState({}),[w,x]=u.useState({}),[g,v]=u.useState(!1),f=async(E,y,k)=>{let $;try{return await Promise.race([E,new Promise((V,B)=>{$=window.setTimeout(()=>B(new Error(`${k} timed out`)),y)})])}finally{$&&window.clearTimeout($)}};u.useEffect(()=>{let E=!0,y=!1,k=!1;try{const C=localStorage.getItem(Af);if(C){const P=JSON.parse(C);Array.isArray(P)&&P.length>0&&(c(P),y=!0,k=!0)}}catch{}y||h(!0);const $=async()=>{const C=localStorage.getItem("token"),P=f(fp(),5e3,"Loading matches"),D=C?f(dl(C),5e3,"Loading admin matches"):Promise.resolve([]),[ae,H]=await Promise.allSettled([P,D]),G=ae.status==="fulfilled"&&Array.isArray(ae.value)?ae.value:[],ie=H.status==="fulfilled"&&Array.isArray(H.value)?H.value:[];return ie.length>0?ie:G},V=async({silent:C=!1}={})=>{try{E&&!C&&!k&&h(!0);let P=[];for(let D=0;D<Ef&&(P=await $(),!(P.length>0||D===Ef-1));D+=1)await new Promise(ae=>window.setTimeout(ae,lv));if(!E)return;if(P.length>0){c(P),k=!0,h(!1);try{localStorage.setItem(Af,JSON.stringify(P))}catch{}}else k||h(!1)}finally{E&&!k&&h(!1)}},B=async()=>{try{await f(wp(),5e3,"Refreshing scores")}catch{}E&&await V({silent:!0})},ce=window.setTimeout(()=>{E&&v(!0)},2e4);V(),window.setTimeout(()=>{B()},50);const F=window.setInterval(B,6e4);return()=>{E=!1,window.clearTimeout(ce),window.clearInterval(F)}},[]);const j=E=>{if(String(E?.status||"").toLowerCase()==="live")return!0;const k=String(E?.score?.event_status||"").toUpperCase();return k.includes("IN_PROGRESS")||k.includes("LIVE")},A=E=>{const y=String(E?.status||"").toLowerCase();if(["scheduled","pre-game","pregame","upcoming","pending"].includes(y))return!0;if(E?.startTime){const k=new Date(E.startTime).getTime();if(!Number.isNaN(k))return k>Date.now()}return!1},N=u.useMemo(()=>{const E=Array.isArray(r)?r:[],y=E.filter(k=>j(k)||A(k));return y.length>0?y:E},[r]),M=u.useMemo(()=>{const E={};return N.forEach(y=>{const k=(y.sport||"Unknown").toUpperCase();E[k]||(E[k]=[]),E[k].push(y)}),E},[N]),R=N.length>0;u.useEffect(()=>{b(E=>{const y={...E};return Object.keys(M).forEach(k=>{typeof y[k]!="boolean"&&(y[k]=!1)}),y})},[M]),u.useEffect(()=>{let E=!0;return(async()=>{const k=new Set;N.forEach(B=>{B?.homeTeam&&k.add(String(B.homeTeam)),B?.awayTeam&&k.add(String(B.awayTeam))});const $=Array.from(k).filter(B=>!w[B]);if($.length===0)return;const V={};await Promise.all($.map(async B=>{try{const ce=await Mp(B);ce&&(V[B]=ce)}catch{}})),E&&Object.keys(V).length>0&&x(B=>({...B,...V}))})(),()=>{E=!1}},[N,w]);const S=E=>E.status==="live"?e.jsx("span",{className:"text-danger fw-bold",children:"LIVE"}):E.startTime?new Date(E.startTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",timeZoneName:"short"}):"TBD",z=(E,y)=>E.score?y==="home"?E.score.score_home??E.score.home_score??E.score.scoreHome??0:y==="away"?E.score.score_away??E.score.away_score??E.score.scoreAway??0:"":"",L=(E,y)=>e.jsxs("div",{className:"scoreboard-league",children:[e.jsxs("button",{type:"button",className:"league-header",onClick:()=>b(k=>({...k,[E]:!k[E]})),children:[e.jsx("span",{children:E}),e.jsx("i",{className:`fa-solid ${p[E]?"fa-chevron-down":"fa-chevron-up"}`})]}),!p[E]&&e.jsx("div",{className:"league-games",children:Array.from({length:Math.ceil(y.length/2)},(k,$)=>y.slice($*2,$*2+2)).map((k,$)=>e.jsxs("div",{className:"scoreboard-game-row",children:[k.map((V,B)=>{const ce=V?.broadcast||V?.tv||V?.score?.broadcast||"";return e.jsxs("div",{className:"scoreboard-game-cell",children:[e.jsxs("div",{className:"game-row",children:[e.jsx("span",{className:"game-time",children:S(V)}),e.jsx("span",{className:"game-network",children:ce})]}),e.jsxs("div",{className:"game-team",children:[e.jsxs("div",{className:"game-team-main",children:[e.jsx("img",{src:w[V.homeTeam]||Zs(V.homeTeam),alt:V.homeTeam,className:"game-logo",onError:F=>{F.currentTarget.src=Zs(V.homeTeam)}}),e.jsx("span",{children:V.homeTeam})]}),e.jsx("span",{className:"game-score",children:z(V,"home")})]}),e.jsxs("div",{className:"game-team",children:[e.jsxs("div",{className:"game-team-main",children:[e.jsx("img",{src:w[V.awayTeam]||Zs(V.awayTeam),alt:V.awayTeam,className:"game-logo",onError:F=>{F.currentTarget.src=Zs(V.awayTeam)}}),e.jsx("span",{children:V.awayTeam})]}),e.jsx("span",{className:"game-score",children:z(V,"away")})]})]},V._id||V.id||`${$}-${B}`)}),k.length===1&&e.jsx("div",{className:"scoreboard-game-cell ghost-cell"})]},`${E}-${$}`))})]},E);return e.jsxs("div",{className:"scoreboard-overlay",children:[e.jsxs("div",{className:"scoreboard-header",children:[e.jsx("h2",{children:"Scoreboard"}),e.jsx("span",{className:"close-btn",onClick:l,children:"Close"})]}),e.jsx("div",{className:"scoreboard-content",children:!R&&d?e.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"Loading scoreboard..."}):Object.keys(M).length===0?e.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"No games found right now."}):Object.entries(M).map(([E,y])=>L(E,y))}),e.jsx("style",{children:`
                .scoreboard-overlay {
                    position: fixed;
                    top: 0;
                    right: 0;
                    width: 350px;
                    height: 100vh;
                    background: #f5f5f5;
                    box-shadow: -5px 0 15px rgba(0,0,0,0.3);
                    z-index: 3000;
                    display: flex;
                    flex-direction: column;
                    font-family: 'Roboto', sans-serif;
                }
                .scoreboard-header {
                    background: #fff;
                    padding: 15px;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    border-bottom: 1px solid #ddd;
                    position: relative;
                }
                .scoreboard-header h2 {
                    margin: 0;
                    font-size: 18px;
                    color: #333;
                    font-weight: bold;
                    text-transform: uppercase;
                }
                .close-btn {
                    position: absolute;
                    right: 15px;
                    color: #d9534f;
                    font-size: 14px;
                    cursor: pointer;
                    text-decoration: underline;
                    font-weight: bold;
                }
                .scoreboard-content {
                    flex: 1;
                    overflow-y: auto;
                }
                .scoreboard-status-row {
                    padding: 6px 12px;
                    background: #fff;
                    border-bottom: 1px solid #ddd;
                }
                .scoreboard-status {
                    font-size: 12px;
                    font-weight: 600;
                }
                .scoreboard-status.syncing {
                    color: #0b7285;
                }
                .scoreboard-status.error {
                    color: #b02a37;
                }
                .league-header {
                    background: #333;
                    color: white;
                    padding: 8px 15px;
                    font-size: 14px;
                    font-weight: bold;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    border-bottom: 1px solid #444;
                    width: 100%;
                    border-left: none;
                    border-right: none;
                    cursor: pointer;
                }
                .league-games {
                    background: #e5e7eb;
                    border-left: 1px solid #c6c8cc;
                }
                .scoreboard-game-row {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                }
                .scoreboard-game-cell {
                    background: #f3f4f6;
                    border-right: 1px solid #c6c8cc;
                    border-bottom: 1px solid #c6c8cc;
                    min-height: 84px;
                }
                .scoreboard-game-cell.ghost-cell {
                    background: #f3f4f6;
                }
                .game-row {
                    display: flex;
                    justify-content: space-between;
                    color: #4b5563;
                    background: #e5e7eb;
                    padding: 4px 8px;
                    font-size: 11px;
                    border-bottom: 1px solid #d1d5db;
                }
                .game-network {
                    font-weight: 700;
                    color: #15803d;
                    min-width: 28px;
                    text-align: right;
                }
                .game-team {
                    display: flex;
                    align-items: center;
                    margin: 5px 0;
                    color: #3f3f46;
                    font-weight: 500;
                    justify-content: space-between;
                    padding: 0 8px;
                }
                .game-team-main {
                    display: flex;
                    align-items: center;
                    gap: 7px;
                    min-width: 0;
                }
                .game-team-main span {
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    max-width: 120px;
                    font-size: 12px;
                }
                .game-logo {
                    width: 18px;
                    height: 18px;
                    border-radius: 50%;
                }
                .game-score {
                    font-weight: 700;
                    color: #111827;
                    font-size: 12px;
                    min-width: 14px;
                    text-align: right;
                }
                .text-danger { color: #dc3545; }
                .fw-bold { font-weight: bold; }
                @media (max-width: 380px) {
                    .scoreboard-game-row {
                        grid-template-columns: 1fr;
                    }
                    .scoreboard-game-cell {
                        border-right: none;
                    }
                }
            `})]})},iv=({onClose:l,balance:r,pendingBalance:c,availableBalance:d})=>{const h=window.innerWidth<=768,p=b=>{if(b==null||b==="")return"";const w=Number(b);return Number.isNaN(w)?"":`$ ${w.toFixed(2)}`};return e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.8)",zIndex:99999,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',padding:h?"20px":"0",boxSizing:"border-box",overflow:"auto",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)",inset:0},children:[e.jsxs("div",{style:{background:"white",width:h?"100%":"400px",maxWidth:"100%",borderRadius:"8px",boxShadow:"0 30px 100px rgba(0,0,0,0.9)",display:"flex",flexDirection:"column",maxHeight:h?"85vh":"auto",animation:"fadeIn 0.4s ease-out",margin:"auto",marginTop:h?"0":"auto",marginBottom:h?"0":"auto"},children:[e.jsxs("div",{style:{padding:h?"15px 15px":"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #eee"},children:[e.jsx("h3",{style:{margin:0,color:"#333",fontSize:"18px",fontWeight:"bold"},children:"My Account"}),e.jsx("span",{onClick:l,style:{cursor:"pointer",fontSize:"24px",color:"#999",lineHeight:"1"},children:""})]}),e.jsxs("div",{style:{overflowY:"auto",padding:h?"12px":"15px"},children:[e.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"4px",marginBottom:"15px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"bold",color:"#333"},children:"Balance"}),e.jsx("span",{style:{fontWeight:"bold",textDecoration:"underline"},children:p(r)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 15px",borderBottom:"1px solid #eee",background:"#f9f9f9"},children:[e.jsx("span",{style:{fontWeight:"bold",color:"#333"},children:"Pending"}),e.jsx("span",{style:{fontWeight:"bold",textDecoration:"underline"},children:p(c)})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 15px"},children:[e.jsx("span",{style:{fontWeight:"bold",color:"#333"},children:"Available"}),e.jsx("span",{style:{fontWeight:"bold",textDecoration:"underline"},children:p(d)})]})]}),e.jsxs("div",{style:{border:"1px solid #ddd",borderRadius:"4px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Game Sort (Display)"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"By Time"}),e.jsx("option",{children:"By League"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Select Skin"}),e.jsx("i",{className:"fa-solid fa-desktop",style:{color:"#999",fontSize:"18px"}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Personalize It"}),e.jsx("i",{className:"fa-solid fa-paintbrush",style:{color:"#004d26",fontSize:"18px"}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Time"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"Eastern"}),e.jsx("option",{children:"Central"}),e.jsx("option",{children:"Pacific"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Default Pitcher Setting"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"Action"}),e.jsx("option",{children:"Listed"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Version"}),e.jsx("span",{style:{color:"#333"},children:"43.0.27"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",borderBottom:"1px solid #eee"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Live Stream Icon"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"Show"}),e.jsx("option",{children:"Hide"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px"},children:[e.jsx("span",{style:{fontWeight:"500",color:"#333"},children:"Live Skin"}),e.jsxs("select",{style:{padding:"5px",borderRadius:"4px",border:"1px solid #ccc",background:"white",minWidth:"100px"},children:[e.jsx("option",{children:"Dark"}),e.jsx("option",{children:"Light"})]})]})]})]}),e.jsx("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end",borderTop:"1px solid #eee",background:"#fcfcfc"},children:e.jsx("button",{onClick:l,style:{background:"#d9534f",color:"white",border:"none",padding:"8px 25px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"},children:"Close"})})]}),e.jsx("style",{children:`
                @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(-20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
            `})]})},rv=({onClose:l})=>{const[r,c]=u.useState("BASIC"),[d,h]=u.useState("Gray"),p=["BASIC","NFL","NBA","MLB","NCAA"],b=[{id:"gray",label:"Gray",color:"#007bff"},{id:"white",label:"White",color:"#28a745"},{id:"stadium",label:"Stadium",color:"#dc3545"},{id:"plain",label:"Plain",color:"#dc3545"}];return e.jsxs("div",{style:{position:"fixed",top:0,right:0,width:"350px",height:"100vh",background:"#333",boxShadow:"-5px 0 15px rgba(0,0,0,0.5)",zIndex:3e3,display:"flex",flexDirection:"column",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',color:"white"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"15px 10px",borderBottom:"1px solid #444",background:"#2c2c2c"},children:[e.jsx("span",{onClick:l,style:{cursor:"pointer",fontSize:"18px",color:"#999",marginRight:"20px",padding:"0 5px"},children:""}),e.jsx("div",{style:{display:"flex",gap:"15px",overflowX:"auto"},children:p.map(w=>e.jsx("span",{onClick:()=>c(w),style:{fontSize:"12px",fontWeight:"bold",cursor:"pointer",color:r===w?"#fff":"#888",borderBottom:r===w?"2px solid #fff":"none",paddingBottom:"5px"},children:w},w))})]}),e.jsxs("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:[r==="BASIC"&&e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:b.map(w=>e.jsxs("div",{onClick:()=>h(w.label),style:{background:"#222",padding:"15px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",border:d===w.label?"1px solid #555":"1px solid transparent"},children:[e.jsx("span",{style:{fontSize:"14px"},children:w.label}),e.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",border:`2px solid ${w.color}`,display:"flex",alignItems:"center",justifyContent:"center"},children:d===w.label&&e.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:w.color}})})]},w.id))}),r!=="BASIC"&&e.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#666",fontSize:"14px"},children:["No skins available for ",r," yet."]})]})]})},ov=({username:l,balance:r,pendingBalance:c,availableBalance:d,onViewChange:h,activeBetMode:p="straight",onBetModeChange:b,currentView:w,onToggleSidebar:x,selectedSports:g=[],onContinue:v,onLogout:f,isMobileSportsSelectionMode:j=!1,onHomeClick:A,role:N,unlimitedBalance:M})=>{const[R,S]=u.useState(!1),[z,L]=u.useState(!1),[E,y]=u.useState(!1),[k,$]=u.useState(!1),V=g.length>0,[B,ce]=u.useState(!1),[F,C]=u.useState(!1),[P,D]=u.useState(!1),[ae,H]=u.useState(!1),[G,ie]=u.useState(!1),[ye,K]=u.useState(()=>localStorage.getItem("oddsFormat")||"american");u.useEffect(()=>{localStorage.setItem("oddsFormat",ye),window.dispatchEvent(new CustomEvent("oddsFormat:change",{detail:ye}))},[ye]);const _=q=>{if(M)return"Unlimited";if(q==null||q==="")return"";const ue=Number(q);return Number.isNaN(ue)?"":`$ ${ue.toFixed(2)}`},Q=()=>{k||($(!0),window.dispatchEvent(new CustomEvent("matches:refresh")),setTimeout(()=>{$(!1)},3e4))};ys.useEffect(()=>{const q=()=>{$(!1)};return window.addEventListener("matches:refresh-completed",q),()=>window.removeEventListener("matches:refresh-completed",q)},[]);const se=[{name:"English",flag:"https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg",active:!0},{name:"Spanish",flag:"https://upload.wikimedia.org/wikipedia/commons/9/9a/Flag_of_Spain.svg"},{name:"Chinese",flag:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Flag_of_the_People%27s_Republic_of_China.svg"},{name:"French",flag:"https://upload.wikimedia.org/wikipedia/en/c/c3/Flag_of_France.svg"},{name:"Greek",flag:"https://upload.wikimedia.org/wikipedia/commons/5/5c/Flag_of_Greece.svg"},{name:"Japanese",flag:"https://upload.wikimedia.org/wikipedia/en/9/9e/Flag_of_Japan.svg"},{name:"Korean",flag:"https://upload.wikimedia.org/wikipedia/commons/0/09/Flag_of_South_Korea.svg"},{name:"Vietnamese",flag:"https://upload.wikimedia.org/wikipedia/commons/2/21/Flag_of_Vietnam.svg"}],[Z,J]=u.useState(!1),I=w==="dashboard";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mobile-header-container mobile-only",children:[e.jsxs("div",{className:"top-header",children:[e.jsxs("div",{className:"header-icon-group",children:[e.jsx("div",{className:"menu-circle",onClick:x,children:e.jsx("i",{className:"fa-solid fa-bars"})}),w==="bonus"||w==="prime-live"||w==="ultra-live"||w==="live-casino"||w==="casino"?e.jsxs("div",{className:"icon-btn",onClick:()=>A&&A(),children:[e.jsx("i",{className:"fa-solid fa-house"}),e.jsx("span",{children:"HOME"})]}):V&&!j?e.jsxs("div",{className:"icon-btn",onClick:()=>A&&A(),children:[e.jsx("i",{className:"fa-solid fa-house"}),e.jsx("span",{children:"HOME"})]}):e.jsxs("div",{className:"icon-btn",children:[e.jsx("i",{className:"fa-solid fa-magnifying-glass"}),e.jsx("span",{children:"SEARCH"})]}),e.jsxs("div",{className:`icon-btn ${w==="bonus"?"active-bonus":""}`,onClick:()=>{if(N==="user"){alert("Deposits and Withdrawals are managed by your Agent. Please contact them to update your balance.");return}h&&h("bonus")},children:[e.jsx("i",{className:"fa-solid fa-cash-register"}),e.jsx("span",{children:V?"BONUS":"CASHIER"})]})]}),e.jsxs("div",{className:"right-section",children:[!V||w==="bonus"||V&&!j?e.jsxs("div",{className:"balance-container",children:[e.jsx("div",{className:"balance-amount",children:_(d)}),e.jsx("div",{className:"balance-label",children:"BALANCE"})]}):e.jsx("div",{className:"continue-btn-container",onClick:v||x,children:e.jsxs("button",{className:"mobile-continue-btn",children:["Continue ",e.jsx("i",{className:"fa-solid fa-chevron-right"})]})}),e.jsx("div",{className:"dropdown-chevron",onClick:()=>y(!E),children:e.jsx("i",{className:`fa-solid ${E?"fa-chevron-up":"fa-chevron-down"}`})})]})]}),E&&e.jsxs("div",{className:"user-settings-dropdown mobile-usd",onClick:q=>q.stopPropagation(),children:[e.jsxs("div",{className:"usd-item",onClick:()=>{ce(!0),y(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-globe"})}),e.jsx("div",{className:"usd-text",children:"LANGUAGE"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{C(!0),y(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-calculator"})}),e.jsx("div",{className:"usd-text",children:"ODDS DISPLAY"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{D(!0),y(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-chart-simple"})}),e.jsx("div",{className:"usd-text",children:"SCOREBOARD"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{H(!0),y(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-gear"})}),e.jsx("div",{className:"usd-text",children:"SETTINGS"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{ie(!0),y(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-sliders"})}),e.jsx("div",{className:"usd-text",children:"PERSONALIZE"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{h&&h("support"),y(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-headset"})}),e.jsx("div",{className:"usd-text",children:"SUPPORT"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>{h&&h("my-bets"),y(!1)},children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-list"})}),e.jsx("div",{className:"usd-text",children:"MY BETS"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item signout",onClick:f,children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-power-off"})}),e.jsx("div",{className:"usd-text",children:"SIGN OUT"})]})]}),e.jsx("div",{className:"tabs-bar",children:[{id:"straight",label:"STRAIGHT",letter:"S"},{id:"parlay",label:"PARLAY",letter:"P"},{id:"teaser",label:"TEASER",letter:"T"},{id:"if_bet",label:"IF BET",letter:"I"},{id:"reverse",label:"REVERSE",letter:"R"}].map(q=>e.jsxs("div",{className:`tab-item ${p===q.id?"active":""}`,onClick:()=>b&&b(q.id),children:[e.jsx("span",{className:"tab-letter",children:q.letter}),e.jsx("span",{className:"tab-text",children:q.label})]},q.id))}),e.jsxs("div",{className:"info-bar",children:[e.jsx("div",{className:"info-bar-item",children:" UP NEXT "}),e.jsx("div",{className:"info-bar-item",children:" FEATURED "})]})]}),e.jsxs("div",{className:"dash-topbar desktop-only",children:[e.jsxs("div",{className:"dash-nav-links",children:[e.jsxs("div",{className:"dash-nav-item",onClick:()=>A&&A(),children:[e.jsx("span",{children:"SPORTS"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"}),e.jsx("path",{d:"M2.5 12h19M12 2.5v19"})]})})]}),e.jsxs("div",{className:"dash-nav-item",onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),style:{position:"relative",overflow:"visible"},children:[e.jsx("span",{children:"LIVE"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),e.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]})}),R&&e.jsxs("div",{style:{position:"absolute",top:"100%",left:"0",width:"120px",background:"#333",zIndex:100,border:"1px solid #555",boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:[e.jsxs("div",{style:{padding:"10px",color:"white",borderBottom:"1px solid #444",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},onClick:()=>h&&h("prime-live"),className:"live-menu-item",children:[e.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:"PRIME LIVE"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]}),e.jsxs("div",{style:{padding:"10px",color:"#999",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},className:"live-menu-item",onClick:()=>h&&h("ultra-live"),children:[e.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:"ULTRA LIVE"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})})]})]})]}),e.jsxs("div",{className:"dash-nav-item",onClick:()=>h&&h("casino"),children:[e.jsx("span",{children:"CASINO"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsx("span",{style:{fontSize:"20px",fontWeight:"bold",border:"2px solid white",borderRadius:"4px",padding:"0 4px",color:"#ffd700",borderColor:"#ffd700"},children:"7"})})]}),e.jsxs("div",{className:"dash-nav-item",onClick:()=>h&&h("live-casino"),children:[e.jsx("span",{children:"LIVE CASINO"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("circle",{cx:"12",cy:"12",r:"4"}),e.jsx("circle",{cx:"12",cy:"12",r:"2"})]})})]}),e.jsxs("div",{className:"dash-nav-item",onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),style:{position:"relative",overflow:"visible"},children:[e.jsx("span",{children:"MORE"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),z&&e.jsx("div",{style:{position:"absolute",top:"100%",left:"0",width:"120px",background:"#333",zIndex:100,border:"1px solid #555",boxShadow:"0 4px 10px rgba(0,0,0,0.5)"},children:e.jsxs("div",{style:{padding:"10px",color:"#999",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},className:"live-menu-item",onClick:()=>h&&h("props"),children:[e.jsx("span",{style:{fontSize:"10px",fontWeight:"bold"},children:"PROPS"}),e.jsx("div",{style:{fontSize:"12px",fontWeight:"bold",border:"1px solid #999",padding:"0 2px"},children:"P+"})]})})]}),e.jsxs("div",{className:"dash-nav-item",style:{color:"#ffd700",cursor:"pointer"},onClick:()=>h&&h("bonus"),children:[e.jsx("span",{children:"BONUS"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 12V8H6a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2"}),e.jsx("path",{d:"M4 6h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z"})]})})]}),e.jsxs("div",{className:"dash-nav-item",style:{cursor:"pointer"},onClick:()=>h&&h("tutorials"),children:[e.jsx("span",{children:"TUTORIALS"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),e.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})})]}),e.jsxs("div",{className:"dash-nav-item",style:{cursor:"pointer"},onClick:()=>h&&h("support"),children:[e.jsx("span",{children:"SUPPORT"}),e.jsx("div",{className:"dash-nav-icon",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M4 4h16v6H4z"}),e.jsx("path",{d:"M4 10h10v10H4z"}),e.jsx("path",{d:"M14 10h6v4h-6z"})]})})]})]}),e.jsxs("div",{className:"dash-user-info",children:[e.jsxs("div",{className:"dash-balance",children:[e.jsx("span",{children:"CREDIT LIMIT"}),e.jsx("strong",{children:_(r)})]}),e.jsxs("div",{className:"dash-balance",children:[e.jsx("span",{children:"BALANCE OWED"}),e.jsx("strong",{children:_(c)})]}),e.jsxs("div",{className:"dash-balance",children:[e.jsx("span",{children:"AVAILABLE CREDIT"}),e.jsx("strong",{children:_(d)})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",position:"relative"},onClick:()=>y(!E),children:[e.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),e.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:l||"WGT73476"}),e.jsx("span",{children:E?"":""}),E&&e.jsxs("div",{className:"user-settings-dropdown",onClick:q=>q.stopPropagation(),children:[e.jsxs("div",{className:"usd-item",onClick:()=>ce(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-globe"})}),e.jsx("div",{className:"usd-text",children:"Language"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>C(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-calculator"})}),e.jsx("div",{className:"usd-text",children:"Odds Display"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>D(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-chart-simple"})}),e.jsx("div",{className:"usd-text",children:"Scoreboard"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>H(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-gear"})}),e.jsx("div",{className:"usd-text",children:"Settings"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>ie(!0),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-sliders"})}),e.jsx("div",{className:"usd-text",children:"Personalize"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>h&&h("support"),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-headset"})}),e.jsx("div",{className:"usd-text",children:"Support"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item",onClick:()=>h&&h("my-bets"),children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-list"})}),e.jsx("div",{className:"usd-text",children:"My Bets"}),e.jsx("div",{className:"usd-right-icon",children:e.jsx("i",{className:"fa-solid fa-chevron-right"})})]}),e.jsxs("div",{className:"usd-item signout",onClick:f,children:[e.jsx("div",{className:"usd-icon",children:e.jsx("i",{className:"fa-solid fa-power-off"})}),e.jsx("div",{className:"usd-text",children:"SIGN OUT"})]})]})]})]})]}),w!=="rules"&&w!=="bonus"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:`dash-subheader mobile-subheader desktop-only ${I?"with-sidebar-offset":""}`,style:{display:"flex",borderBottom:"1px solid #ccc",height:"auto",minHeight:"60px"},children:[e.jsx("div",{className:"bet-type-bar",children:[{id:"straight",label:"STRAIGHT",icon:"S"},{id:"parlay",label:"PARLAY",icon:"P"},{id:"teaser",label:"TEASER",icon:"T"},{id:"if_bet",label:"IF BET",icon:"I"},{id:"reverse",label:"REVERSE",icon:"R"}].map(q=>e.jsxs("div",{className:`bet-type-item ${p===q.id?"active":""}`,onClick:()=>b&&b(q.id),children:[e.jsx("div",{className:"bet-type-letter",children:q.icon}),e.jsx("div",{className:"bet-type-label",children:q.label})]},q.id))}),e.jsxs("div",{className:"bet-action-group",children:[e.jsxs("button",{className:`action-btn refresh-btn ${k?"refresh-loading":""}`,title:"Refresh",onClick:Q,disabled:k,children:[e.jsx("i",{className:`fa-solid fa-arrows-rotate ${k?"fa-spin":""}`,style:{fontSize:"16px"}}),e.jsx("span",{children:k?"REFRESHING...":"REFRESH"})]}),e.jsxs("button",{className:"action-btn green continue-btn",title:"Continue",onClick:v||x,children:[e.jsx("i",{className:"fa-solid fa-chevron-right",style:{fontSize:"16px"}}),e.jsx("span",{children:"CONTINUE"})]})]})]})}),B&&e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.7)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{background:"white",width:"300px",borderRadius:"4px",overflow:"hidden",boxShadow:"0 5px 15px rgba(0,0,0,0.5)"},children:[e.jsxs("div",{style:{padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #eee"},children:[e.jsx("h3",{style:{margin:0,color:"#333",fontSize:"18px"},children:"Available Languages"}),e.jsx("span",{onClick:()=>ce(!1),style:{cursor:"pointer",fontSize:"20px",color:"#999"},children:""})]}),e.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:se.map((q,ue)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 20px",borderBottom:"1px solid #eee",background:q.active?"#004d26":"white",color:q.active?"white":"#333",cursor:"pointer"},children:[e.jsx("span",{style:{fontSize:"16px",fontWeight:q.active?"bold":"normal"},children:q.name}),e.jsx("img",{src:q.flag,alt:q.name,style:{width:"24px",borderRadius:"3px",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"}})]},ue))}),e.jsx("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end",borderTop:"1px solid #eee"},children:e.jsx("button",{onClick:()=>ce(!1),style:{background:"#d9534f",color:"white",border:"none",padding:"8px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Close"})})]})}),F&&e.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.7)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{background:"white",width:"300px",borderRadius:"4px",overflow:"hidden",boxShadow:"0 5px 15px rgba(0,0,0,0.5)",marginBottom:"20vh"},children:[e.jsxs("div",{style:{padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #eee"},children:[e.jsx("h3",{style:{margin:0,color:"#333",fontSize:"18px"},children:"Odds Display"}),e.jsx("span",{onClick:()=>C(!1),style:{cursor:"pointer",fontSize:"20px",color:"#999"},children:""})]}),e.jsx("div",{style:{padding:"20px"},children:e.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden"},children:[e.jsx("div",{style:{padding:"12px 15px",background:ye==="american"?"#004d26":"white",color:ye==="american"?"white":"#333",fontWeight:"bold",borderBottom:"1px solid #ccc",cursor:"pointer"},onClick:()=>K("american"),children:"American"}),e.jsx("div",{style:{padding:"12px 15px",background:ye==="decimal"?"#004d26":"white",color:ye==="decimal"?"white":"#333",cursor:"pointer"},onClick:()=>K("decimal"),children:"Decimal"})]})}),e.jsx("div",{style:{padding:"15px",display:"flex",justifyContent:"flex-end",borderTop:"1px solid #eee"},children:e.jsx("button",{onClick:()=>C(!1),style:{background:"#d9534f",color:"white",border:"none",padding:"8px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Close"})})]})}),P&&e.jsx(Dp,{onClose:()=>D(!1)}),ae&&Sd.createPortal(e.jsx(iv,{onClose:()=>H(!1),balance:r,pendingBalance:c,availableBalance:d}),document.body),G&&e.jsx(rv,{onClose:()=>ie(!1)})]})},fd=[{id:"up-next",label:"UP NEXT",icon:"fa-solid fa-clock",type:"main-link",selectable:!1},{id:"featured",label:"FEATURED",icon:"fa-solid fa-star",type:"main-link",selectable:!1},{id:"commercial-live",label:"COMMERCIAL LIVE",icon:"fa-solid fa-tv",selectable:!0},{id:"football",label:"FOOTBALL",icon:"fa-solid fa-football",selectable:!1,children:[{id:"nfl",label:"NFL",icon:"fa-solid fa-helmet-safety",selectable:!0,children:[{id:"nfl-1st-half",label:"1st Half",selectable:!0,hasChildren:!0},{id:"nfl-1st-quarter",label:"1st Quarter",selectable:!0,hasChildren:!0},{id:"nfl-2nd-quarter",label:"2nd Quarter",selectable:!0,hasChildren:!0}]},{id:"ncaa-football",label:"NCAA Football",icon:"fa-solid fa-building-columns",selectable:!0,children:[{id:"ncaa-1st-half",label:"1st Half",selectable:!0,hasChildren:!0},{id:"ncaa-1st-quarter",label:"1st Quarter",selectable:!0,hasChildren:!0}]},{id:"nfl-1st-scoring",label:"NFL 1ST SCORING PLAY",selectable:!1,hasChildren:!0},{id:"nfl-1st-td-scorer",label:"NFL 1ST TD SCORER",selectable:!1,hasChildren:!0},{id:"nfl-anytime-td",label:"NFL ANYTIME TD SCORER",selectable:!1,hasChildren:!0},{id:"nfl-margin-victory",label:"NFL MARGIN OF VICTORY",selectable:!1,hasChildren:!0},{id:"nfl-player-props",label:"NFL TEXANS VS STEELERS PLAYER PROPS",selectable:!1,hasChildren:!0},{id:"nfl-props-plus",label:"NFL Props Plus +",selectable:!1,icon:"fa-solid fa-arrow-right",type:"props-plus"},{id:"college-props-plus",label:"College Props Plus +",selectable:!1,icon:"fa-solid fa-arrow-right",type:"props-plus"},{id:"afl-props-plus",label:"AFL Props Plus +",selectable:!1,icon:"fa-solid fa-arrow-right",type:"props-plus"}]},{id:"baseball",label:"BASEBALL",icon:"fa-solid fa-baseball-bat-ball",selectable:!1,children:[{id:"mlb",label:"MLB",selectable:!0},{id:"kbo",label:"KBO League",selectable:!0}]},{id:"basketball",label:"BASKETBALL",icon:"fa-solid fa-basketball",selectable:!1,children:[{id:"nba",label:"NBA",selectable:!0},{id:"ncaab",label:"NCAA Basketball",selectable:!0}]},{id:"hockey",label:"HOCKEY",icon:"fa-solid fa-hockey-puck",selectable:!1,children:[{id:"nhl",label:"NHL",selectable:!0}]},{id:"soccer",label:"SOCCER",icon:"fa-solid fa-futbol",selectable:!1,children:[{id:"epl",label:"Premier League",selectable:!0}]},{id:"golf",label:"GOLF",icon:"fa-solid fa-golf-ball-tee",selectable:!1,children:[{id:"pga",label:"PGA Tour",selectable:!0}]},{id:"tennis",label:"TENNIS",icon:"fa-solid fa-table-tennis-paddle-ball",selectable:!1,children:[{id:"atp",label:"ATP",selectable:!0}]},{id:"martial-arts",label:"MARTIAL ARTS",icon:"fa-solid fa-person-hiking",selectable:!0},{id:"boxing",label:"BOXING",icon:"fa-solid fa-hand-fist",selectable:!0},{id:"auto-racing",label:"AUTO RACING",icon:"fa-solid fa-flag-checkered",selectable:!0},{id:"rugby",label:"RUGBY",icon:"fa-solid fa-football",selectable:!0},{id:"olympics",label:"OLYMPICS",icon:"fa-solid fa-fire",selectable:!0}],_p=({item:l,level:r,selectedIds:c,onToggle:d,expandedIds:h,onToggleExpand:p,className:b=""})=>{const w=h.has(l.id),x=c.includes(l.id),g=l.children&&l.children.length>0||l.hasChildren,v=()=>{const S=l.selectable!==!1;if(g){p(l.id),S&&d(l.id);return}d(l.id)},f=S=>{S.stopPropagation(),d(l.id)},j=l.selectable!==!1&&r>0&&l.type!=="props-plus",A=r===0&&l.icon||l.type==="props-plus",N=l.selectable===!1&&g,M=r>0&&g&&!N,R=r>0&&N;return e.jsxs("div",{className:`sidebar-tree-node ${b}`,children:[e.jsxs("div",{className:`sidebar-item-row ${x?"selected":""} level-${r} item-type-${l.type||"standard"} icon-${l.id}`,onClick:v,"data-sport-id":l.id,children:[j&&e.jsx("div",{className:"sidebar-checkbox-wrapper",onClick:S=>S.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:x,onChange:f,className:"sidebar-small-checkbox"})}),R&&e.jsx("span",{className:`black-expand-arrow ${w?"active":""}`,children:e.jsx("i",{className:"fa-solid fa-chevron-down"})}),M&&e.jsx("span",{className:`blue-expand-arrow ${w?"active":""}`,children:e.jsx("i",{className:"fa-solid fa-chevron-right"})}),e.jsxs("div",{className:"sidebar-item-content",children:[A&&l.icon&&e.jsx("span",{className:`icon ${l.type==="props-plus"?"sidebar-blue-icon":"sidebar-main-icon"}`,children:typeof l.icon=="string"&&l.icon.includes("fa-")?e.jsx("i",{className:l.icon}):l.icon}),e.jsx("span",{className:"sidebar-label-text",children:l.label})]}),r===0&&g&&e.jsx("span",{className:`main-cat-arrow ${w?"expanded":""}`,children:e.jsx("i",{className:"fa-solid fa-chevron-down"})})]}),g&&w&&l.children&&e.jsx("div",{className:"sidebar-children",children:l.children.map(S=>e.jsx(_p,{item:S,level:r+1,selectedIds:c,onToggle:d,expandedIds:h,onToggleExpand:p},S.id))})]})},Tf=({selectedSports:l=[],onToggleSport:r,betMode:c="straight",isOpen:d=!1,onCloseSidebar:h,onOpenFeedback:p,isMobileSportsSelectionMode:b=!1})=>{const[w,x]=u.useState(new Set(["football","nfl","ncaa-football"])),g=A=>{x(N=>{const M=new Set(N);return M.has(A)?M.delete(A):M.add(A),M})},v=A=>{r(A)},f=["football","baseball","basketball","hockey","soccer","mma"],j=c==="parlay"||c==="teaser"||c==="if_bet"||c==="reverse"?fd.filter(A=>f.includes(A.id)):fd;return e.jsxs("aside",{className:`dash-sidebar ${d?"open":""} ${b?"mobile-sports-selection-mode":""}`,children:[e.jsxs("div",{className:"search-container desktop-search",children:[e.jsx("i",{className:"fa-solid fa-magnifying-glass search-icon"}),e.jsx("input",{type:"text",className:"search-input",placeholder:"SEARCH"})]}),e.jsx("div",{className:"sidebar-header desktop-only",children:"SPORTS SCHEDULE"}),e.jsxs("div",{className:"sidebar-mobile-info mobile-only",children:[e.jsx("div",{className:"info-item",children:"UP NEXT"}),e.jsx("div",{className:"info-item",children:"FEATURED"})]}),e.jsxs("div",{className:"sidebar-content",children:[e.jsx("div",{className:"mobile-only-section",children:e.jsx("div",{className:`sidebar-item-row level-0 ${l.includes("commercial-live")?"selected":""}`,onClick:()=>v("commercial-live"),children:e.jsxs("div",{className:"sidebar-item-content",children:[e.jsx("span",{className:"icon sidebar-main-icon",style:{color:"#007bff"},children:e.jsx("i",{className:"fa-solid fa-desktop"})}),e.jsx("span",{className:"sidebar-label-text",children:"COMMERCIAL LIVE"})]})})}),j.map(A=>e.jsx(_p,{item:A,level:0,selectedIds:l,onToggle:r,expandedIds:w,onToggleExpand:g,className:A.id==="commercial-live"||A.id==="up-next"||A.id==="featured"?"desktop-only":""},A.id))]}),e.jsx("div",{className:"mobile-only feedback-btn-container",children:e.jsx("button",{className:"mobile-feedback-btn",onClick:p,children:"FEEDBACK"})})]})},cv="true".toLowerCase()==="true",Lf=15e3,dv=45e3;let ni=null,Mf=0;const uv=async()=>{const l=Date.now();return ni||(l-Mf<dv?null:(ni=wp().then(r=>(Mf=Date.now(),r)).finally(()=>{ni=null}),ni))},Tr=l=>{if(!l)return!1;if((l.status||"").toString().toLowerCase()==="live")return!0;const c=(l.score?.event_status||"").toString().toUpperCase();return c.includes("IN_PROGRESS")||c.includes("LIVE")||c.includes("STATUS_IN_PROGRESS")},Lr=l=>{if(!l)return!1;const r=(l.status||"").toString().toLowerCase();if(["scheduled","pre-game","pregame","upcoming","pending"].includes(r))return!0;const c=(l.score?.event_status||"").toString().toUpperCase();if(c.includes("SCHEDULED")||c.includes("PRE_GAME"))return!0;if(l.startTime){const d=new Date(l.startTime).getTime();if(!Number.isNaN(d))return d>Date.now()}return!1},nl=l=>{if(!l)return!1;const r=(l.status||"").toString().toLowerCase();if(["finished","final","cancelled","canceled","closed"].includes(r))return!0;const c=(l.score?.event_status||"").toString().toUpperCase();return c.includes("FINAL")||c.includes("COMPLETE")||c.includes("STATUS_CLOSED")};function mi(l={}){const[r,c]=u.useState([]),d=(l.status||"all").toString().toLowerCase();return u.useEffect(()=>{let h=!0;const p=l.refreshOdds!==!1,b=async()=>{try{if(p)try{await uv()}catch(A){console.warn("useMatches: odds refresh failed",A)}const v=d==="live"||d==="active"?await _y():await fp(),f=Array.isArray(v)?v:[];let j=f;d==="live"||d==="active"?(j=f.filter(Tr),j.length===0&&f.length>0&&(j=f)):d==="upcoming"||d==="scheduled"?j=f.filter(A=>!nl(A)&&Lr(A)):(d==="live-upcoming"||d==="active-upcoming")&&(j=f.filter(A=>!nl(A)&&(Tr(A)||Lr(A)||!nl(A)&&!A.status))),h&&c(j),window.dispatchEvent(new CustomEvent("matches:refresh-completed",{detail:{success:!0}}))}catch(v){console.error("useMatches: fetch error",v),window.dispatchEvent(new CustomEvent("matches:refresh-completed",{detail:{success:!1,error:v.message}}))}};b();const w=()=>{b()};window.addEventListener("matches:refresh",w);let x=null,g=null;return cv&&typeof window<"u"&&typeof window.EventSource<"u"&&(x=new window.EventSource(`${pe}/matches/stream`),x.addEventListener("matchUpdate",v=>{let f=null;try{f=JSON.parse(v.data)}catch{return}console.debug("useMatches: received matchUpdate",f),c(j=>{if(!f)return j;let A=!0;d==="live"||d==="active"?A=Tr(f):d==="upcoming"||d==="scheduled"?A=!nl(f)&&Lr(f):(d==="live-upcoming"||d==="active-upcoming")&&(A=!nl(f)&&(Tr(f)||Lr(f)||!nl(f)&&!f?.status));const N=f.id||f._id||f.externalId,M=j.findIndex(R=>R.id===N||R._id===N||R.externalId===N);if(!A){if(M>=0){const R=[...j];return R.splice(M,1),R}return j}if(M>=0){const R=[...j];return R[M]={...R[M],...f},R}return[f,...j]})}),x.onerror=()=>{g===null&&(g=window.setInterval(b,Lf))}),g===null&&(g=window.setInterval(b,Lf)),()=>{if(h=!1,g!==null&&window.clearInterval(g),x)try{x.close()}catch{}window.removeEventListener("matches:refresh",w)}},[d,l.refreshOdds]),r}const hv=({sportId:l,selectedItems:r=[],filter:c=null,status:d="live-upcoming",activeBetMode:h="straight"})=>{const[p,b]=u.useState("matches"),[w,x]=u.useState({}),g=ys.useRef(new Set),[v,f]=u.useState({name:"",icon:"",matches:[],scoreboards:[]}),[j,A]=u.useState(!0),N=mi({status:d});ys.useEffect(()=>{const E={nfl:{name:"NFL",icon:"fa-solid fa-football"},nba:{name:"NBA",icon:"fa-solid fa-basketball"},mlb:{name:"MLB",icon:"fa-solid fa-baseball"},nhl:{name:"NHL",icon:"fa-solid fa-hockey-puck"},epl:{name:"EPL (Soccer)",icon:"fa-solid fa-futbol"},boxing:{name:"Boxing",icon:"fa-solid fa-hand-fist"},mma:{name:"MMA/UFC",icon:"fa-solid fa-hand-fist"},ncaaf:{name:"NCAA Football",icon:"fa-solid fa-building-columns"},ncaab:{name:"NCAA Basketball",icon:"fa-solid fa-basketball"}},y=C=>{if(!C)return[];const P=C.toString().toLowerCase();return{nfl:["nfl","americanfootball_nfl","national football","american football"],ncaaf:["ncaaf","ncaa football","college football"],nba:["nba","basketball_nba","national basketball"],ncaab:["ncaab","ncaa basketball","college basketball"],mlb:["mlb","baseball_mlb","major league baseball"],nhl:["nhl","icehockey_nhl","hockey_nhl"],epl:["epl","premier league","english premier league"],soccer:["soccer","football","premier league","la liga","serie a","bundesliga","ligue 1","mls"],basketball:["basketball","nba","ncaab","euroleague"],baseball:["baseball","mlb"],hockey:["hockey","nhl","icehockey"],golf:["golf","pga"],tennis:["tennis","atp","wta"],boxing:["boxing"],mma:["mma","ufc"],rugby:["rugby"],"auto-racing":["racing","motorsport","nascar","formula"],"martial-arts":["mma","ufc","martial"],olympics:["olympics","olympic"]}[P]||[P]};let k=l,$=null;const V=c||l;V&&(V.startsWith("nfl-")?(k="nfl",V.includes("1st-quarter")&&($="Q1"),V.includes("2nd-quarter")&&($="Q2"),V.includes("1st-half")&&($="H1")):V.startsWith("ncaa-")&&(k="ncaaf",V.includes("1st-quarter")&&($="Q1"),V.includes("2nd-quarter")&&($="Q2"),V.includes("1st-half")&&($="H1")));const B=E[k]||{name:"Sports",icon:"fa-solid fa-trophy"},ce=()=>{const C=N||[];A(!N||Array.isArray(N)&&N.length===0);const P=y(k);let D=C.filter(H=>{if(!k)return!0;if(!H.sport)return!1;const G=H.sport.toString().toLowerCase();return P.some(ie=>G.includes(ie))});$&&(D=D.filter(H=>{const G=String(H?.score?.period||"").toUpperCase(),ie=String(H?.score?.event_status||"").toUpperCase();return!G&&!ie?!0:$==="Q1"?/\bQ1\b|1ST\s*QUARTER/.test(G)||ie.includes("1ST_QUARTER"):$==="Q2"?/\bQ2\b|2ND\s*QUARTER/.test(G)||ie.includes("2ND_QUARTER"):$==="H1"?G.includes("H1")||G.includes("1H")||ie.includes("1ST_HALF"):!0}));const ae=(H,G,ie)=>{if(!H||!H.odds)return{spread:["-","-"],moneyline:["-","-"],total:["-","-"]};if(H.odds.spread&&H.odds.moneyline&&H.odds.total)return H.odds;const ye=Array.isArray(H.odds.markets)?H.odds.markets:[],K=Ce=>ye.find(Le=>String(Le.key||"").toLowerCase()===Ce),_=(Ce,Le)=>{if(!Ce||!Array.isArray(Ce.outcomes))return null;const Re=Ce.outcomes.find(at=>String(at.name||"").toLowerCase()===String(Le||"").toLowerCase());return Re||Ce.outcomes.find(at=>String(at.name||"").toLowerCase().includes(String(Le||"").toLowerCase()))||null},Q=K("h2h"),se=K("spreads"),Z=K("totals"),J=_(Q,G),I=_(Q,ie),q=_(se,G),ue=_(se,ie),me=Z?.outcomes?.find(Ce=>String(Ce.name||"").toLowerCase().includes("over"))||null,ve=Z?.outcomes?.find(Ce=>String(Ce.name||"").toLowerCase().includes("under"))||null,we=q?.point??ue?.point;return{spread:[`${we??"-"} (${q?.price??"-"})`,`${we!=null?-we:"-"} (${ue?.price??"-"})`],moneyline:[`${J?.price??"-"}`,`${I?.price??"-"}`],total:[`O ${me?.point??ve?.point??"-"} (${me?.price??"-"})`,`U ${ve?.point??me?.point??"-"} (${ve?.price??"-"})`]}};D=D.map(H=>{const G=H.homeTeam||H.home_team||"",ie=H.awayTeam||H.away_team||"";let ye=H.score?.score_home??0,K=H.score?.score_away??0;return{id:H.id||H._id||H.externalId,time:H.startTime?new Date(H.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",date:H.startTime?new Date(H.startTime).toLocaleDateString():"",team1:{name:G,abbr:G.substring(0,3).toUpperCase(),logo:""},team2:{name:ie,abbr:ie.substring(0,3).toUpperCase(),logo:""},score1:ye,score2:K,period:H.score?.period,status:H.status==="live"||H.score&&(String(H.score.event_status||"").toUpperCase().includes("IN_PROGRESS")||String(H.score.event_status||"").toUpperCase().includes("LIVE"))?"LIVE":H.status||"Scheduled",odds:ae(H,G,ie),rawMatch:H}}),f({...B,matches:D,scoreboards:[]}),D.length>0&&A(!1)};ce();const F=setInterval(ce,5e3);return()=>clearInterval(F)},[l,c,N]),ys.useEffect(()=>{Array.from(new Set((v.matches||[]).flatMap(y=>[y.team1?.name,y.team2?.name]).filter(Boolean))).forEach(y=>{!y||g.current.has(y)||(g.current.add(y),Mp(y).then(k=>{x($=>({...$,[y]:k||""}))}))})},[v.matches]);const M=(E,y,k,$,V,B)=>{window.dispatchEvent(new CustomEvent("betslip:add",{detail:{matchId:E,selection:y,marketType:k,odds:parseFloat($),matchName:V,marketLabel:B}}))},R=String(h||"straight").toLowerCase().replace(/-/g,"_"),S=["straight","parlay","teaser","if_bet","reverse"].includes(R),z=["straight","parlay","if_bet","reverse"].includes(R),L=["straight","parlay","teaser","if_bet","reverse"].includes(R);return e.jsxs("div",{className:"sport-content-view",children:[e.jsxs("div",{className:"content-header",children:[e.jsxs("div",{className:"content-title",children:[e.jsx("i",{className:v.icon}),e.jsxs("span",{children:[v.name," - Live & Upcoming"]})]}),e.jsxs("div",{className:"content-tabs",children:[e.jsx("button",{className:`tab-btn ${p==="matches"?"active":""}`,onClick:()=>b("matches"),children:"Matches"}),e.jsx("button",{className:`tab-btn ${p==="scoreboards"?"active":""}`,onClick:()=>b("scoreboards"),children:"Scoreboards"})]})]}),p==="matches"&&e.jsx("div",{className:"matches-section",children:j?e.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#888",background:"#fff",borderRadius:"8px"},children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin",style:{fontSize:"48px",marginBottom:"16px",opacity:.5}}),e.jsx("h3",{children:"Loading sports data..."}),e.jsx("p",{children:"Please wait while we load the latest matches."})]}):v.matches.length===0?e.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#888",background:"#fff",borderRadius:"8px"},children:[e.jsx("i",{className:"fa-solid fa-calendar-xmark",style:{fontSize:"48px",marginBottom:"16px",opacity:.5}}),e.jsx("h3",{children:"No Live or Upcoming Matches Found"}),e.jsxs("p",{children:["There are no ",v.name," matches available right now."]}),e.jsx("p",{style:{fontSize:"0.9em"},children:"Check back later for new updates."})]}):v.matches.map(E=>e.jsxs("div",{className:"match-card",children:[e.jsxs("div",{className:"match-header",children:[e.jsxs("div",{className:"match-time",children:[e.jsx("span",{className:"time",children:E.time}),e.jsx("span",{className:"date",children:E.date})]}),e.jsx("span",{className:`match-status ${E.status==="LIVE"?"live":""}`,children:E.status})]}),e.jsxs("div",{className:"match-body",children:[e.jsxs("div",{className:"team-box",children:[e.jsx("span",{className:"team-logo-badge",children:e.jsx("img",{className:"team-logo-image",src:w[E.team1.name]||Zs(E.team1.name),alt:`${E.team1.name} logo`,loading:"lazy",onError:y=>{y.currentTarget.onerror=null,y.currentTarget.src=Zs(E.team1.name)}})}),e.jsxs("div",{className:"team-info",children:[e.jsx("span",{className:"team-name",children:E.team1.name}),e.jsx("span",{className:"team-abbr",children:E.team1.abbr})]}),e.jsx("span",{className:"score",children:E.score1})]}),e.jsx("div",{className:"vs-separator",children:"vs"}),e.jsxs("div",{className:"team-box",children:[e.jsx("span",{className:"team-logo-badge",children:e.jsx("img",{className:"team-logo-image",src:w[E.team2.name]||Zs(E.team2.name),alt:`${E.team2.name} logo`,loading:"lazy",onError:y=>{y.currentTarget.onerror=null,y.currentTarget.src=Zs(E.team2.name)}})}),e.jsxs("div",{className:"team-info",children:[e.jsx("span",{className:"team-name",children:E.team2.name}),e.jsx("span",{className:"team-abbr",children:E.team2.abbr})]}),e.jsx("span",{className:"score",children:E.score2})]})]}),E.odds&&e.jsx("div",{className:"match-odds",children:e.jsxs("div",{className:"odds-row",children:[S&&e.jsxs("div",{className:"odds-cell",children:[e.jsx("span",{className:"odds-label",children:"Spread"}),e.jsxs("div",{className:"odds-values-group",children:[e.jsx("button",{className:"odds-value-btn",onClick:()=>M(E.id,E.team1.name,"spreads",E.rawMatch.odds?.markets?.find(y=>y.key==="spreads")?.outcomes.find(y=>y.name===E.team1.name)?.price,`${E.team1.name} vs ${E.team2.name}`,"Spread"),children:E.odds.spread[0]}),e.jsx("button",{className:"odds-value-btn",onClick:()=>M(E.id,E.team2.name,"spreads",E.rawMatch.odds?.markets?.find(y=>y.key==="spreads")?.outcomes.find(y=>y.name===E.team2.name)?.price,`${E.team1.name} vs ${E.team2.name}`,"Spread"),children:E.odds.spread[1]})]})]}),z&&e.jsxs("div",{className:"odds-cell",children:[e.jsx("span",{className:"odds-label",children:"Moneyline"}),e.jsxs("div",{className:"odds-values-group",children:[e.jsx("button",{className:"odds-value-btn",onClick:()=>M(E.id,E.team1.name,"h2h",E.rawMatch.odds?.markets?.find(y=>y.key==="h2h")?.outcomes.find(y=>y.name===E.team1.name)?.price,`${E.team1.name} vs ${E.team2.name}`,"Moneyline"),children:E.odds.moneyline[0]}),e.jsx("button",{className:"odds-value-btn",onClick:()=>M(E.id,E.team2.name,"h2h",E.rawMatch.odds?.markets?.find(y=>y.key==="h2h")?.outcomes.find(y=>y.name===E.team2.name)?.price,`${E.team1.name} vs ${E.team2.name}`,"Moneyline"),children:E.odds.moneyline[1]})]})]}),L&&e.jsxs("div",{className:"odds-cell",children:[e.jsx("span",{className:"odds-label",children:"Total"}),e.jsxs("div",{className:"odds-values-group",children:[e.jsx("button",{className:"odds-value-btn",onClick:()=>M(E.id,"Over","totals",E.rawMatch.odds?.markets?.find(y=>y.key==="totals")?.outcomes.find(y=>y.name.toLowerCase().includes("over"))?.price,`${E.team1.name} vs ${E.team2.name}`,"Total"),children:E.odds.total[0]}),e.jsx("button",{className:"odds-value-btn",onClick:()=>M(E.id,"Under","totals",E.rawMatch.odds?.markets?.find(y=>y.key==="totals")?.outcomes.find(y=>y.name.toLowerCase().includes("under"))?.price,`${E.team1.name} vs ${E.team2.name}`,"Total"),children:E.odds.total[1]})]})]})]})}),e.jsx("div",{className:"match-footer",style:{justifyContent:"center",padding:"10px"},children:e.jsx("span",{style:{fontSize:"0.8em",color:"#888"},children:"Click any odds to place your bet"})})]},E.id))}),p==="scoreboards"&&e.jsx("div",{className:"scoreboards-section",children:v.scoreboards.map((E,y)=>e.jsx("div",{className:"scoreboard-card",children:e.jsx("div",{className:"scoreboard-scores",children:Object.entries(E).map(([k,$])=>e.jsxs("div",{className:"score-cell",children:[e.jsx("span",{className:"score-label",children:k}),e.jsx("span",{className:"score-value",children:$})]},k))})},y))})]})},mv=({selectedSports:l=[],activeBetMode:r="straight"})=>{const c=l.length===0,d=(x,g)=>{for(const v of x){if(v.id===g)return v;if(v.children){const f=d(v.children,g);if(f)return f}}return null},h=l.length>0?l[0]:null,p=h?d(fd,h):null;if(p&&p.type==="props-plus")return e.jsx("main",{className:"dash-main",style:{padding:"20px"},children:e.jsxs("div",{style:{background:"#fff",padding:"20px",borderRadius:"8px",border:"1px solid #e0e0e0",textAlign:"center"},children:[e.jsx("h2",{style:{color:"#007bff"},children:p.label}),e.jsxs("p",{style:{color:"#666",marginTop:"10px"},children:["Props Plus content for ",e.jsx("strong",{children:p.label})," goes here."]}),e.jsxs("div",{style:{marginTop:"20px",display:"inline-block",padding:"10px 20px",background:"#f5f5f5",borderRadius:"4px",fontSize:"14px"},children:["Custom View Component for Type: ",p.type]})]})});const w=(()=>{if(c)return[{sportId:null,filter:null,status:"live-upcoming"}];if(l.includes("up-next"))return[{sportId:null,filter:null,status:"upcoming"}];if(l.includes("featured"))return[{sportId:null,filter:null,status:"live-upcoming"}];if(l.includes("commercial-live"))return[{sportId:null,filter:null,status:"live"}];const x=[],g=new Set;return l.forEach(v=>{v==="up-next"||v==="featured"||v==="commercial-live"||(v==="football"?g.has("nfl")||(x.push({sportId:"nfl",filter:null}),g.add("nfl")):v==="basketball"?g.has("nba")||(x.push({sportId:"nba",filter:null}),g.add("nba")):v==="baseball"?g.has("mlb")||(x.push({sportId:"mlb",filter:null}),g.add("mlb")):v==="hockey"?g.has("nhl")||(x.push({sportId:"nhl",filter:null}),g.add("nhl")):v==="soccer"?g.has("epl")||(x.push({sportId:"epl",filter:null}),g.add("epl")):v==="nfl"&&!g.has("nfl")?(x.push({sportId:"nfl",filter:null}),g.add("nfl")):v.startsWith("nfl-")&&(v.includes("half")||v.includes("quarter"))?g.has("nfl")||(x.push({sportId:"nfl",filter:v}),g.add("nfl")):v==="ncaa-football"&&!g.has("ncaaf")?(x.push({sportId:"ncaaf",filter:null}),g.add("ncaaf")):v.startsWith("ncaa-")&&(v.includes("half")||v.includes("quarter"))?g.has("ncaaf")||(x.push({sportId:"ncaaf",filter:v}),g.add("ncaaf")):v==="nfl-1st-scoring"||v==="nfl-1st-td-scorer"||v==="nfl-anytime-td"||v==="nfl-margin-victory"||v==="nfl-player-props"?g.has("nfl")||(x.push({sportId:"nfl",filter:v}),g.add("nfl")):v==="mlb"&&!g.has("mlb")?(x.push({sportId:"mlb",filter:null}),g.add("mlb")):v==="nba"&&!g.has("nba")?(x.push({sportId:"nba",filter:null}),g.add("nba")):g.has(v)||(x.push({sportId:v,filter:null}),g.add(v)))}),x.length>0?x:[{sportId:null,filter:null}]})();return e.jsxs("main",{className:"dash-main",children:[w.map((x,g)=>e.jsx(ys.Fragment,{children:e.jsx(hv,{sportId:x.sportId,selectedItems:l,filter:x.filter,status:x.status||"live-upcoming",activeBetMode:r})},`${x.sportId}-${g}`)),l.length===0&&e.jsxs("div",{style:{textAlign:"center",padding:"30px",color:"#666"},children:[e.jsx("h3",{children:"Showing all sports"}),e.jsx("p",{style:{fontSize:"13px"},children:"Use the sidebar to filter by a specific sport."})]})]})},fv=()=>{const[l,r]=u.useState("live-upcoming"),[c,d]=u.useState("all"),[h,p]=u.useState(""),[b,w]=u.useState("all"),[x,g]=u.useState(new Set),[v,f]=u.useState(null),j=mi({status:l}),A=(F="")=>{if(!F)return"Unknown";const C=F.toString().split("_").filter(Boolean);return C.length===1?C[0].toUpperCase().replace("-"," "):`${C[0].charAt(0).toUpperCase()+C[0].slice(1)} ${C.slice(1).join(" ").toUpperCase().replace("-"," ")}`},N=u.useMemo(()=>{let C=Array.isArray(j)?j:[];c!=="all"&&(C=C.filter(D=>(D.sport||"").toString()===c));const P=h.trim().toLowerCase();return P&&(C=C.filter(D=>(D.homeTeam||D.home_team||"").toString().toLowerCase().includes(P)||(D.awayTeam||D.away_team||"").toString().toLowerCase().includes(P))),C},[j,c,h]),M=u.useMemo(()=>{const F=Array.isArray(j)?j:[],C=new Map;return F.forEach(P=>{const D=(P.sport||"unknown").toString(),ae=C.get(D)||{key:D,label:A(D),count:0};ae.count+=1,C.set(D,ae)}),Array.from(C.values()).sort((P,D)=>D.count-P.count)},[j]),R=u.useMemo(()=>{const F=new Map;return N.forEach(C=>{const P=(C.sport||"unknown").toString();F.has(P)||F.set(P,[]),F.get(P).push(C)}),Array.from(F.entries()).map(([C,P])=>({sport:C,label:A(C),items:P}))},[N]),S=[{id:"live-upcoming",label:"Live + Upcoming"},{id:"live",label:"Live"},{id:"upcoming",label:"Upcoming"}],z=(F,C)=>(F?.odds?.markets||[]).find(D=>(D.key||"").toLowerCase()===C)||null,L=(F,C)=>{const P=z(F,"spreads");if(!P||!P.outcomes)return{point:"-",price:"-"};const D=P.outcomes.find(ae=>(ae.name||"").toLowerCase()===(C||"").toLowerCase());return D?{point:D.point??"-",price:D.price??"-"}:{point:"-",price:"-"}},E=(F,C)=>{const P=z(F,"totals");if(!P||!P.outcomes)return{point:"-",price:"-"};const D=P.outcomes.find(ae=>(ae.name||"").toLowerCase()===C);return D?{point:D.point??"-",price:D.price??"-"}:{point:"-",price:"-"}},y=(F,C)=>{const P=z(F,"h2h");if(!P||!P.outcomes)return"-";const D=P.outcomes.find(ae=>(ae.name||"").toLowerCase()===(C||"").toLowerCase());return D?D.price??"-":"-"},k=F=>{g(C=>{const P=new Set(C);return P.has(F)?P.delete(F):P.add(F),P})},$=()=>{g(new Set(R.map(F=>F.sport)))},V=()=>{g(new Set)},B=({match:F,selection:C,marketType:P,odds:D,marketLabel:ae})=>{if(D==="-"||D===void 0||D===null)return;const H=F.homeTeam||F.home_team||"Home",G=F.awayTeam||F.away_team||"Away",ie=F.id||F._id||F.externalId,ye=`${ie}-${P}-${C}`;f(ye),window.dispatchEvent(new CustomEvent("betslip:add",{detail:{matchId:ie,selection:C,marketType:P,odds:parseFloat(D),matchName:`${H} vs ${G}`,marketLabel:ae}}))},ce=()=>{window.dispatchEvent(new CustomEvent("matches:refresh"))};return e.jsx("div",{className:"prime-live-wrapper",children:e.jsxs("div",{className:"prime-layout",children:[e.jsxs("aside",{className:"prime-sidebar",children:[e.jsx("div",{className:"prime-sidebar-search",children:e.jsx("input",{type:"text",className:"prime-sidebar-input",placeholder:"Filter Teams...",value:h,onChange:F=>p(F.target.value)})}),e.jsxs("div",{className:`prime-sidebar-item ${c==="all"?"active":""}`,onClick:()=>d("all"),role:"button",children:[e.jsxs("span",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsx("i",{className:"fa-solid fa-trophy"})," All Sports"]}),e.jsx("span",{className:"prime-badge",children:(j||[]).length})]}),M.map(F=>e.jsxs("div",{className:`prime-sidebar-item ${c===F.key?"active":""}`,onClick:()=>d(F.key),role:"button",children:[e.jsxs("span",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsx("i",{className:"fa-solid fa-medal"})," ",F.label]}),e.jsx("span",{className:"prime-badge",children:F.count})]},F.key))]}),e.jsxs("main",{className:"prime-main",children:[e.jsxs("div",{className:"prime-tools-bar",children:[e.jsxs("div",{className:"prime-toolbar-left",children:[S.map(F=>e.jsx("button",{className:`prime-status-pill ${l===F.id?"active":""}`,onClick:()=>r(F.id),children:F.label},F.id)),e.jsxs("button",{className:"prime-refresh-btn",onClick:ce,children:[e.jsx("i",{className:"fa-solid fa-arrows-rotate"})," Refresh"]})]}),e.jsxs("div",{className:"prime-toolbar-right",children:[e.jsxs("div",{className:"prime-market-toggle",children:[e.jsx("button",{className:b==="all"?"active":"",onClick:()=>w("all"),children:"All"}),e.jsx("button",{className:b==="spread"?"active":"",onClick:()=>w("spread"),children:"Spread"}),e.jsx("button",{className:b==="total"?"active":"",onClick:()=>w("total"),children:"Total"}),e.jsx("button",{className:b==="moneyline"?"active":"",onClick:()=>w("moneyline"),children:"Moneyline"})]}),e.jsxs("button",{className:"prime-text-btn",onClick:$,children:[e.jsx("i",{className:"fa-solid fa-compress"})," Collapse"]}),e.jsxs("button",{className:"prime-text-btn",onClick:V,children:[e.jsx("i",{className:"fa-solid fa-expand"})," Expand"]})]})]}),e.jsxs("div",{className:"prime-subtitle",children:["Showing ",e.jsx("strong",{children:c==="all"?"All Sports":A(c)})," (",N.length,")"]}),R.length===0?e.jsxs("div",{className:"prime-empty-state",children:[e.jsx("i",{className:"fa-solid fa-calendar-xmark"}),e.jsx("h3",{children:"No matches found"}),e.jsx("p",{children:"Try another filter or refresh the feed."})]}):R.map(F=>e.jsxs("div",{className:"prime-match-group",children:[e.jsxs("div",{className:"prime-match-header",onClick:()=>k(F.sport),role:"button",children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-flag"})," ",F.label]}),e.jsxs("span",{className:"prime-group-meta",children:[e.jsxs("em",{children:[F.items.length," games"]}),e.jsx("i",{className:`fa-solid ${x.has(F.sport)?"fa-chevron-down":"fa-chevron-up"}`})]})]}),!x.has(F.sport)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"prime-header-row",children:[e.jsx("div",{children:"Match Info"}),e.jsxs("div",{className:"prime-markets-header",children:[(b==="all"||b==="spread")&&e.jsx("span",{children:"Spread"}),(b==="all"||b==="total")&&e.jsx("span",{children:"Total"}),(b==="all"||b==="moneyline")&&e.jsx("span",{children:"Moneyline"})]})]}),F.items.map(C=>{const P=C.homeTeam||C.home_team||"Home",D=C.awayTeam||C.away_team||"Away",ae=C.score?.score_home??"-",H=C.score?.score_away??"-",G=C.score?.period||"",ye=(C.status||"").toString().toLowerCase()==="live"||String(C.score?.event_status||"").toUpperCase().includes("IN_PROGRESS"),K=C.startTime?new Date(C.startTime):null,_=ye&&G?`${G}`:K?K.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",Q=C.id||C._id||C.externalId,se=L(C,P),Z=L(C,D),J=E(C,"over"),I=E(C,"under"),q=y(C,P),ue=y(C,D);return e.jsxs("div",{className:"prime-match-row",children:[e.jsxs("div",{className:"prime-match-teams",children:[e.jsxs("div",{className:"prime-team",children:[e.jsx("span",{children:P}),e.jsx("span",{className:"prime-score",children:ae})]}),e.jsxs("div",{className:"prime-team",children:[e.jsx("span",{children:D}),e.jsx("span",{className:"prime-score",children:H})]}),e.jsxs("div",{className:"prime-time-info",children:[e.jsx("span",{className:`prime-live-pill ${ye?"live":""}`,children:ye?"LIVE":"SCHEDULED"}),e.jsxs("span",{children:[e.jsx("i",{className:"fa-regular fa-clock"})," ",_]})]})]}),e.jsxs("div",{className:"prime-odds-grid",children:[(b==="all"||b==="spread")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`prime-odd-btn ${v===`${Q}-spreads-${P}`?"selected":""}`,disabled:se.price==="-",onClick:()=>B({match:C,selection:P,marketType:"spreads",odds:se.price,marketLabel:"Spread"}),children:[e.jsx("span",{children:se.point!=="-"?se.point:"-"}),e.jsx("span",{className:"prime-odd-val",children:se.price})]}),e.jsxs("button",{className:`prime-odd-btn ${v===`${Q}-spreads-${D}`?"selected":""}`,disabled:Z.price==="-",onClick:()=>B({match:C,selection:D,marketType:"spreads",odds:Z.price,marketLabel:"Spread"}),children:[e.jsx("span",{children:Z.point!=="-"?Z.point:"-"}),e.jsx("span",{className:"prime-odd-val",children:Z.price})]})]}),(b==="all"||b==="total")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`prime-odd-btn ${v===`${Q}-totals-Over`?"selected":""}`,disabled:J.price==="-",onClick:()=>B({match:C,selection:"Over",marketType:"totals",odds:J.price,marketLabel:"Total"}),children:[e.jsxs("span",{children:["o",J.point!=="-"?J.point:"-"]}),e.jsx("span",{className:"prime-odd-val",children:J.price})]}),e.jsxs("button",{className:`prime-odd-btn ${v===`${Q}-totals-Under`?"selected":""}`,disabled:I.price==="-",onClick:()=>B({match:C,selection:"Under",marketType:"totals",odds:I.price,marketLabel:"Total"}),children:[e.jsxs("span",{children:["u",I.point!=="-"?I.point:"-"]}),e.jsx("span",{className:"prime-odd-val",children:I.price})]})]}),(b==="all"||b==="moneyline")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`prime-odd-btn ${v===`${Q}-h2h-${P}`?"selected":""}`,disabled:q==="-",onClick:()=>B({match:C,selection:P,marketType:"h2h",odds:q,marketLabel:"Moneyline"}),children:[e.jsx("span",{children:P}),e.jsx("span",{className:"prime-odd-val",children:q})]}),e.jsxs("button",{className:`prime-odd-btn ${v===`${Q}-h2h-${D}`?"selected":""}`,disabled:ue==="-",onClick:()=>B({match:C,selection:D,marketType:"h2h",odds:ue,marketLabel:"Moneyline"}),children:[e.jsx("span",{children:D}),e.jsx("span",{className:"prime-odd-val",children:ue})]})]})]})]},Q)})]})]},F.sport))]}),e.jsxs("aside",{className:"prime-right-panel",children:[e.jsxs("div",{className:"prime-slip-tabs",children:[e.jsx("div",{className:"prime-slip-tab active",children:"Prime Live"}),e.jsx("div",{className:"prime-slip-tab",children:"Insights"})]}),e.jsxs("div",{className:"prime-slip-content",children:[e.jsxs("div",{className:"prime-side-card",children:[e.jsx("h4",{children:"Live Filters"}),e.jsx("p",{children:"Use the status pills, sport list, and market toggles to fetch and view different data slices from API in real-time."})]}),e.jsxs("div",{className:"prime-side-card",children:[e.jsx("h4",{children:"Quick Actions"}),e.jsxs("button",{className:"prime-side-btn",onClick:ce,children:[e.jsx("i",{className:"fa-solid fa-arrows-rotate"})," Refresh Odds"]}),e.jsxs("button",{className:"prime-side-btn",onClick:()=>d("all"),children:[e.jsx("i",{className:"fa-solid fa-list"})," Show All Sports"]}),e.jsxs("button",{className:"prime-side-btn",onClick:V,children:[e.jsx("i",{className:"fa-solid fa-up-right-and-down-left-from-center"})," Expand Leagues"]})]})]})]})]})})},pv=[{id:"in_play",label:"In-Play"},{id:"history",label:"History"},{id:"live_tv",label:"Live TV"}],xv=[{id:"all",label:"All"},{id:"spread",label:"Spread"},{id:"total",label:"Total"},{id:"moneyline",label:"Moneyline"}],Df=(l="")=>{if(!l)return"Unknown";const r=l.toString().split("_").filter(Boolean);return r.length===1?r[0].toUpperCase().replace("-"," "):`${r[0].charAt(0).toUpperCase()+r[0].slice(1)} ${r.slice(1).join(" ").toUpperCase().replace("-"," ")}`},gv=l=>{const r=(l?.status||"").toString().toLowerCase(),c=(l?.score?.event_status||"").toString().toUpperCase();return r==="live"||c.includes("IN_PROGRESS")||c.includes("LIVE")},bv=l=>{const r=(l?.status||"").toString().toLowerCase(),c=(l?.score?.event_status||"").toString().toUpperCase();return["finished","final","closed","settled","cancelled","canceled"].includes(r)||c.includes("FINAL")||c.includes("COMPLETE")||c.includes("CLOSED")},Na=l=>l?.id||l?._id||l?.externalId,Ad=(l,r)=>(l?.odds?.markets||[]).find(d=>(d.key||"").toLowerCase()===r)||null,_f=(l,r)=>{const c=Ad(l,"h2h");return c?.outcomes?c.outcomes.find(h=>(h.name||"").toLowerCase()===(r||"").toLowerCase())?.price??"-":"-"},Bf=(l,r)=>{const c=Ad(l,"spreads");if(!c?.outcomes)return{label:"-",price:"-"};const d=c.outcomes.find(p=>(p.name||"").toLowerCase()===(r||"").toLowerCase());return d?{label:`${d.point??"-"}`,price:d.price??"-"}:{label:"-",price:"-"}},Rf=(l,r)=>{const c=Ad(l,"totals");if(!c?.outcomes)return{label:"-",price:"-"};const d=c.outcomes.find(h=>(h.name||"").toLowerCase()===r);return d?{label:`${r==="over"?"O":"U"} ${d.point??"-"}`,price:d.price??"-"}:{label:"-",price:"-"}},yv=()=>{const[l,r]=u.useState("in_play"),[c,d]=u.useState("all"),[h,p]=u.useState(null),[b,w]=u.useState("all"),[x,g]=u.useState(null),[v,f]=u.useState("bet_slip"),[j,A]=u.useState([]),[N,M]=u.useState(!1),[R,S]=u.useState(""),[z,L]=u.useState({game_winner:!1,spread:!1,total:!1}),y=mi({status:l==="history"?"all":"live-upcoming"}),k=u.useMemo(()=>{const Z=Array.isArray(y)?y:[];return l==="history"?Z.filter(bv):Z.filter(gv)},[y,l]),$=u.useMemo(()=>{const Z=new Map;return k.forEach(J=>{const I=(J.sport||"unknown").toString(),q=Z.get(I)||{key:I,label:Df(I),count:0};q.count+=1,Z.set(I,q)}),Array.from(Z.values()).sort((J,I)=>I.count-J.count)},[k]),V=u.useMemo(()=>c==="all"?k:k.filter(Z=>(Z.sport||"").toString()===c),[k,c]);u.useEffect(()=>{h&&V.some(Z=>Na(Z)===h)||p(Na(V[0])||null)},[h,V]),u.useEffect(()=>{(async()=>{if(v!=="my_bets")return;const J=localStorage.getItem("token");if(!J){A([]),S("Please login to view your bets.");return}try{M(!0),S("");const I=await kd(J);A(Array.isArray(I)?I:[])}catch(I){S(I.message||"Failed to load bets")}finally{M(!1)}})()},[v]);const B=u.useMemo(()=>V.find(Z=>Na(Z)===h)||V[0]||null,[V,h]),ce=B?.homeTeam||B?.home_team||"Home",F=B?.awayTeam||B?.away_team||"Away",C=B?.score?.score_home??"-",P=B?.score?.score_away??"-",D=B?.score?.period||(l==="history"?"Final":"Live"),ae=B?Bf(B,ce):{label:"-",price:"-"},H=B?Bf(B,F):{label:"-",price:"-"},G=B?Rf(B,"over"):{label:"-",price:"-"},ie=B?Rf(B,"under"):{label:"-",price:"-"},ye=B?_f(B,ce):"-",K=B?_f(B,F):"-",_=()=>{window.dispatchEvent(new CustomEvent("matches:refresh"))},Q=Z=>{L(J=>({...J,[Z]:!J[Z]}))},se=({selection:Z,marketType:J,odds:I,marketLabel:q})=>{if(!B||I==="-"||I===null||I===void 0)return;const ue=Na(B),me=`${ue}-${J}-${Z}`;g(me),window.dispatchEvent(new CustomEvent("betslip:add",{detail:{matchId:ue,selection:Z,marketType:J,odds:parseFloat(I),matchName:`${ce} vs ${F}`,marketLabel:q}}))};return e.jsxs("div",{className:"ultra-live-wrapper",children:[e.jsxs("aside",{className:"ultra-sidebar",children:[e.jsx("div",{className:"ultra-subnav",children:pv.map(Z=>e.jsx("button",{className:`ultra-subnav-item ${l===Z.id?"active":""}`,onClick:()=>r(Z.id),children:Z.label},Z.id))}),e.jsx("div",{className:"ultra-sidebar-header",children:"Sports"}),e.jsxs("div",{className:`ultra-sidebar-sport ${c==="all"?"active":""}`,onClick:()=>d("all"),children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-trophy"})," All Sports"]}),e.jsx("span",{className:"ultra-chip",children:k.length})]}),$.map(Z=>e.jsxs("div",{className:`ultra-sidebar-sport ${c===Z.key?"active":""}`,onClick:()=>d(Z.key),children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-medal"})," ",Z.label]}),e.jsx("span",{className:"ultra-chip",children:Z.count})]},Z.key)),e.jsx("div",{className:"ultra-sidebar-header",children:"Matches"}),e.jsx("div",{className:"ultra-match-list",children:V.length===0?e.jsx("div",{className:"ultra-empty-mini",children:"No matches for this filter."}):V.map(Z=>{const J=Na(Z),I=J===Na(B),q=Z.homeTeam||Z.home_team,ue=Z.awayTeam||Z.away_team;return e.jsxs("div",{className:`ultra-sidebar-match ${I?"active":""}`,onClick:()=>p(J),children:[e.jsxs("div",{className:"ultra-sidebar-match-teams",children:[e.jsx("span",{children:q}),e.jsx("span",{className:"ultra-sidebar-match-score",children:Z.score?.score_home??"-"})]}),e.jsxs("div",{className:"ultra-sidebar-match-teams",children:[e.jsx("span",{children:ue}),e.jsx("span",{className:"ultra-sidebar-match-score",children:Z.score?.score_away??"-"})]}),e.jsx("div",{className:"ultra-sidebar-match-meta",children:Z.score?.period||(l==="history"?"Final":"Live")})]},J)})})]}),e.jsxs("main",{className:"ultra-main",children:[e.jsxs("div",{className:"ultra-toolbar",children:[e.jsx("div",{className:"ultra-market-tabs",children:xv.map(Z=>e.jsx("button",{className:b===Z.id?"active":"",onClick:()=>w(Z.id),children:Z.label},Z.id))}),e.jsxs("button",{className:"ultra-refresh",onClick:_,children:[e.jsx("i",{className:"fa-solid fa-arrows-rotate"})," Refresh"]})]}),e.jsxs("div",{className:"ultra-video-area",children:[e.jsx("div",{className:"ultra-live-indicator",children:l==="history"?"ARCHIVE":"LIVE"}),e.jsxs("div",{className:"ultra-video-center",children:[e.jsx("i",{className:"fa-regular fa-circle-play"}),e.jsx("span",{children:l==="history"?"Match Replay Feed":"Live Stream Feed"})]}),e.jsxs("div",{className:"ultra-video-score",children:[ce," ",C," - ",P," ",F]})]}),e.jsxs("div",{className:"ultra-markets-container",children:[e.jsxs("div",{className:"ultra-market-header",children:[e.jsxs("h2",{children:[ce," @ ",F]}),e.jsx("div",{className:"ultra-market-status",children:D})]}),(b==="all"||b==="moneyline")&&e.jsxs("div",{className:"ultra-market-section",children:[e.jsxs("button",{className:"ultra-market-title",onClick:()=>Q("game_winner"),children:[e.jsx("span",{children:"Game Winner"}),e.jsx("i",{className:`fa-solid ${z.game_winner?"fa-chevron-down":"fa-chevron-up"}`})]}),!z.game_winner&&e.jsx("div",{className:"ultra-market-rows",children:e.jsxs("div",{className:"ultra-market-row",children:[e.jsxs("button",{className:`ultra-odds-box ${x===`${Na(B)}-h2h-${ce}`?"selected":""}`,disabled:ye==="-",onClick:()=>se({selection:ce,marketType:"h2h",odds:ye,marketLabel:"Moneyline"}),children:[e.jsx("span",{className:"ultra-odds-label",children:ce}),e.jsx("span",{className:"ultra-odds-val",children:ye})]}),e.jsxs("button",{className:`ultra-odds-box ${x===`${Na(B)}-h2h-${F}`?"selected":""}`,disabled:K==="-",onClick:()=>se({selection:F,marketType:"h2h",odds:K,marketLabel:"Moneyline"}),children:[e.jsx("span",{className:"ultra-odds-label",children:F}),e.jsx("span",{className:"ultra-odds-val",children:K})]})]})})]}),(b==="all"||b==="spread")&&e.jsxs("div",{className:"ultra-market-section",children:[e.jsxs("button",{className:"ultra-market-title",onClick:()=>Q("spread"),children:[e.jsx("span",{children:"Spread"}),e.jsx("i",{className:`fa-solid ${z.spread?"fa-chevron-down":"fa-chevron-up"}`})]}),!z.spread&&e.jsx("div",{className:"ultra-market-rows",children:e.jsxs("div",{className:"ultra-market-row",children:[e.jsxs("button",{className:`ultra-odds-box ${x===`${Na(B)}-spreads-${ce}`?"selected":""}`,disabled:ae.price==="-",onClick:()=>se({selection:ce,marketType:"spreads",odds:ae.price,marketLabel:"Spread"}),children:[e.jsx("span",{className:"ultra-odds-label",children:ae.label}),e.jsx("span",{className:"ultra-odds-val",children:ae.price})]}),e.jsxs("button",{className:`ultra-odds-box ${x===`${Na(B)}-spreads-${F}`?"selected":""}`,disabled:H.price==="-",onClick:()=>se({selection:F,marketType:"spreads",odds:H.price,marketLabel:"Spread"}),children:[e.jsx("span",{className:"ultra-odds-label",children:H.label}),e.jsx("span",{className:"ultra-odds-val",children:H.price})]})]})})]}),(b==="all"||b==="total")&&e.jsxs("div",{className:"ultra-market-section",children:[e.jsxs("button",{className:"ultra-market-title",onClick:()=>Q("total"),children:[e.jsx("span",{children:"Total"}),e.jsx("i",{className:`fa-solid ${z.total?"fa-chevron-down":"fa-chevron-up"}`})]}),!z.total&&e.jsx("div",{className:"ultra-market-rows",children:e.jsxs("div",{className:"ultra-market-row",children:[e.jsxs("button",{className:`ultra-odds-box ${x===`${Na(B)}-totals-Over`?"selected":""}`,disabled:G.price==="-",onClick:()=>se({selection:"Over",marketType:"totals",odds:G.price,marketLabel:"Total"}),children:[e.jsx("span",{className:"ultra-odds-label",children:G.label}),e.jsx("span",{className:"ultra-odds-val",children:G.price})]}),e.jsxs("button",{className:`ultra-odds-box ${x===`${Na(B)}-totals-Under`?"selected":""}`,disabled:ie.price==="-",onClick:()=>se({selection:"Under",marketType:"totals",odds:ie.price,marketLabel:"Total"}),children:[e.jsx("span",{className:"ultra-odds-label",children:ie.label}),e.jsx("span",{className:"ultra-odds-val",children:ie.price})]})]})})]})]})]}),e.jsxs("aside",{className:"ultra-right-panel",children:[e.jsxs("div",{className:"ultra-tracker",children:[e.jsxs("div",{className:"ultra-tracker-top",children:[e.jsx("span",{children:Df(B?.sport)}),e.jsx("span",{children:D})]}),e.jsxs("div",{className:"ultra-tracker-body",children:[e.jsx("div",{className:"ultra-tracker-team",children:ce}),e.jsxs("div",{className:"ultra-tracker-score",children:[C," - ",P]}),e.jsx("div",{className:"ultra-tracker-team",children:F})]})]}),e.jsxs("div",{className:"ultra-slip-header",children:[e.jsx("button",{className:`ultra-slip-tab ${v==="bet_slip"?"active":""}`,onClick:()=>f("bet_slip"),children:"Bet Slip"}),e.jsx("button",{className:`ultra-slip-tab ${v==="my_bets"?"active":""}`,onClick:()=>f("my_bets"),children:"My Bets"})]}),e.jsxs("div",{className:"ultra-slip-body",children:[v==="bet_slip"&&e.jsxs(e.Fragment,{children:[e.jsx("h4",{children:"Slip Ready"}),e.jsx("p",{children:"Click any odds to add selections to your active betting panel."})]}),v==="my_bets"&&e.jsxs(e.Fragment,{children:[N&&e.jsx("p",{children:"Loading bets..."}),!N&&R&&e.jsx("p",{children:R}),!N&&!R&&j.length===0&&e.jsx("p",{children:"No bets found."}),!N&&!R&&j.length>0&&e.jsx("div",{className:"ultra-my-bets-list",children:j.slice(0,12).map(Z=>e.jsxs("div",{className:"ultra-my-bet-item",children:[e.jsxs("div",{className:"ultra-my-bet-top",children:[e.jsx("span",{children:(Z.type||"bet").toUpperCase()}),e.jsx("span",{className:`ultra-bet-status ${Z.status||"pending"}`,children:Z.status||"pending"})]}),e.jsxs("div",{className:"ultra-my-bet-row",children:["Risk: $",Number(Z.amount||0).toFixed(2)]}),e.jsxs("div",{className:"ultra-my-bet-row",children:["To Win: $",Number(Z.potentialPayout||0).toFixed(2)]})]},Z.id||Z._id))})]})]})]})]})},ld={lobby:{label:"Lobby",icon:"fa-solid fa-table-cells-large"},table_games:{label:"Table Games",icon:"fa-solid fa-playing-cards"},slots:{label:"Slots",icon:"fa-solid fa-dice"},video_poker:{label:"Video Poker",icon:"fa-solid fa-heart"},specialty_games:{label:"Specialty Games",icon:"fa-solid fa-star"}},jv=()=>{const l=localStorage.getItem("token"),[r,c]=u.useState([]),[d,h]=u.useState("lobby"),[p,b]=u.useState(""),[w,x]=u.useState(""),[g,v]=u.useState(!1),[f,j]=u.useState([]),[A,N]=u.useState(!0),[M,R]=u.useState(""),[S,z]=u.useState(null),L=async()=>{if(l)try{const B=await pp(l);c(Array.isArray(B?.categories)?B.categories:[])}catch(B){console.error("Failed to load casino categories:",B)}},E=async()=>{if(!l){N(!1),R("Please login to access casino games.");return}try{N(!0),R("");const B=await xp({token:l,category:d,search:w,featured:g,page:1,limit:96});j(Array.isArray(B?.games)?B.games:[])}catch(B){console.error("Failed to load casino games:",B),R(B.message||"Failed to load casino games")}finally{N(!1)}};u.useEffect(()=>{L()},[]),u.useEffect(()=>{E()},[d,w,g]);const y=u.useMemo(()=>r.length===0?Object.entries(ld).map(([B,ce])=>({id:B,label:ce.label,count:0})):r.map(B=>{const ce=ld[B.id]||{label:B.label||B.id};return{id:B.id,label:ce.label,count:Number(B.count||0)}}),[r]),k=()=>{x(p.trim())},$=async B=>{if(!l){alert("Please login to launch casino games.");return}try{z(B);const ce=await gp(B,l);ce?.launchUrl?window.open(ce.launchUrl,"_blank","noopener,noreferrer"):alert("Launch URL is not available for this game yet.")}catch(ce){alert(ce.message||"Unable to launch game")}finally{z(null)}},V=(B,ce)=>`MIN: $${Number(B||0).toFixed(2)} | MAX: $${Number(ce||0).toFixed(2)}`;return e.jsxs("div",{className:"casino-wrapper",children:[e.jsxs("div",{className:"casino-subnav-bar",children:[e.jsx("div",{className:"casino-nav-items",children:y.map(B=>e.jsxs("button",{className:`casino-nav-item ${d===B.id?"active":""}`,onClick:()=>h(B.id),children:[e.jsx("span",{className:"casino-nav-icon",children:e.jsx("i",{className:ld[B.id]?.icon||"fa-solid fa-dice"})}),e.jsx("span",{children:B.label}),e.jsx("span",{className:"casino-count",children:B.count})]},B.id))}),e.jsxs("div",{className:"casino-search-container",children:[e.jsx("input",{type:"text",className:"casino-search-input",placeholder:"Search games",value:p,onChange:B=>b(B.target.value),onKeyDown:B=>B.key==="Enter"&&k()}),e.jsx("button",{className:"casino-search-btn",onClick:k,title:"Search games",children:e.jsx("i",{className:"fa-solid fa-magnifying-glass"})}),e.jsxs("button",{className:`casino-featured-btn ${g?"active":""}`,onClick:()=>v(B=>!B),children:[e.jsx("i",{className:"fa-solid fa-star"}),e.jsx("span",{children:"Featured"})]}),e.jsxs("button",{className:"casino-refresh-btn",onClick:E,children:[e.jsx("i",{className:"fa-solid fa-arrows-rotate"}),e.jsx("span",{children:"Refresh"})]})]})]}),A&&e.jsxs("div",{className:"casino-feedback-state",children:[e.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),e.jsx("span",{children:"Loading casino games..."})]}),!A&&M&&e.jsxs("div",{className:"casino-feedback-state error",children:[e.jsx("i",{className:"fa-solid fa-triangle-exclamation"}),e.jsx("span",{children:M})]}),!A&&!M&&f.length===0&&e.jsxs("div",{className:"casino-feedback-state",children:[e.jsx("i",{className:"fa-regular fa-folder-open"}),e.jsx("span",{children:"No games found for this filter."})]}),!A&&!M&&f.length>0&&e.jsx("div",{className:"casino-grid",children:f.map(B=>e.jsxs("article",{className:"casino-card",children:[e.jsxs("div",{className:"casino-card-image",style:{background:`linear-gradient(135deg, #0f172a, ${B.themeColor||"#0f5db3"})`},children:[B.imageUrl?e.jsx("img",{src:B.imageUrl,alt:B.name,className:"casino-game-image"}):e.jsx("span",{className:"casino-fallback-icon",children:e.jsx("i",{className:B.icon||"fa-solid fa-dice"})}),e.jsx("span",{className:`casino-status ${B.status}`,children:B.status}),e.jsx("div",{className:"play-overlay",children:e.jsx("i",{className:"fa-solid fa-play"})})]}),e.jsxs("div",{className:"casino-card-info",children:[e.jsxs("div",{className:"casino-card-top",children:[e.jsx("div",{className:"casino-game-title",children:B.name}),e.jsx("div",{className:"casino-provider",children:B.provider})]}),e.jsx("div",{className:"casino-bet-limits",children:V(B.minBet,B.maxBet)}),e.jsx("button",{className:"casino-play-btn",onClick:()=>$(B.id),disabled:S===B.id||B.status!=="active",children:S===B.id?"Launching...":"Play Now"})]})]},B.id))})]})},Of=[{id:"lobby",label:"All Games"},{id:"table_games",label:"Table Games"},{id:"slots",label:"Slots"},{id:"video_poker",label:"Video Poker"},{id:"specialty_games",label:"Specialty"}],Uf=(l="")=>{const r=l.toLowerCase();return r.includes("blackjack")?"blackjack":r.includes("roulette")?"roulette":r.includes("baccarat")?"baccarat":r.includes("poker")?"poker":r.includes("keno")?"special":"default"},vv=(l="")=>{const r=l.toLowerCase();return r.includes("blackjack")?"Blackjack":r.includes("roulette")?"Roulette":r.includes("baccarat")?"Baccarat":r.includes("poker")?"Poker":r.includes("slot")?"Slots":"Live"},Nv=l=>{const r=["Sarah","James","Elena","Mike","Anna","Lucas","Sophia","Daniel","Eva","Noah"],c=String(l||"").length%r.length;return r[c]},wv=()=>{const l=localStorage.getItem("token"),[r,c]=u.useState([]),[d,h]=u.useState([]),[p,b]=u.useState("lobby"),[w,x]=u.useState(""),[g,v]=u.useState(!0),[f,j]=u.useState(""),[A,N]=u.useState(null),M=async()=>{if(l)try{const E=await pp(l);c(Array.isArray(E?.categories)?E.categories:[])}catch(E){console.error("Failed to fetch casino categories for live page:",E)}},R=async()=>{if(!l){v(!1),j("Please login to access live casino.");return}try{v(!0),j("");const E=await xp({token:l,category:p,search:w,page:1,limit:120});h(Array.isArray(E?.games)?E.games:[])}catch(E){j(E.message||"Failed to load live casino games")}finally{v(!1)}};u.useEffect(()=>{M()},[]),u.useEffect(()=>{R()},[p,w]);const S=u.useMemo(()=>{const E=r.reduce((y,k)=>(y[k.id]=Number(k.count||0),y),{});return Of.map(y=>({...y,count:y.id==="lobby"?Of.filter(k=>k.id!=="lobby").reduce((k,$)=>k+(E[$.id]||0),0):E[y.id]||0}))},[r]),z=u.useMemo(()=>d.find(E=>E.isFeatured)||d[0]||null,[d]),L=async E=>{if(l)try{N(E);const y=await gp(E,l);y?.launchUrl?window.open(y.launchUrl,"_blank","noopener,noreferrer"):alert("Launch URL is not available for this game")}catch(y){alert(y.message||"Unable to launch game")}finally{N(null)}};return e.jsxs("div",{className:"live-casino-wrapper",children:[e.jsx("section",{className:`live-hero ${Uf(z?.name)}`,children:e.jsxs("div",{className:"live-hero-content",children:[e.jsx("span",{className:"live-hero-badge",children:"Featured Table"}),e.jsx("h1",{children:z?.name||"Live Casino Lobby"}),e.jsx("p",{children:"Professional live-casino experience with real-time seats, game filtering, and direct launch from your wallet-enabled account."}),z&&e.jsxs("button",{className:"play-action-btn",onClick:()=>L(z.id),type:"button",disabled:A===z.id,children:[e.jsx("i",{className:"fa-solid fa-play"})," ",A===z.id?"Launching...":"Join Table"]})]})}),e.jsxs("div",{className:"live-lobby-container",children:[e.jsxs("div",{className:"live-topbar",children:[e.jsx("div",{className:"live-category-bar",children:S.map(E=>e.jsxs("button",{type:"button",className:`live-cat-btn ${p===E.id?"active":""}`,onClick:()=>b(E.id),children:[e.jsx("span",{children:E.label}),e.jsx("small",{children:E.count})]},E.id))}),e.jsx("input",{className:"live-search",type:"text",placeholder:"Search live casino games",value:w,onChange:E=>x(E.target.value)})]}),g&&e.jsx("div",{className:"live-state",children:"Loading live casino games..."}),!g&&f&&e.jsx("div",{className:"live-state error",children:f}),!g&&!f&&d.length===0&&e.jsx("div",{className:"live-state",children:"No games available for this filter."}),!g&&!f&&d.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"live-section-title",children:[e.jsx("i",{className:"fa-solid fa-fire"})," Recommended ",e.jsx("span",{children:"Live Tables"})]}),e.jsx("div",{className:"tables-grid",children:d.slice(0,24).map(E=>e.jsxs("article",{className:`live-table-card theme-${Uf(E.name)}`,children:[e.jsxs("div",{className:"table-preview",children:[e.jsx("div",{className:"live-badge",children:vv(E.name)}),e.jsxs("div",{className:"dealer-name",children:[e.jsx("i",{className:"fa-solid fa-user-tie"})," ",Nv(E.name)]})]}),e.jsxs("div",{className:"table-info",children:[e.jsx("div",{className:"table-name",children:E.name}),e.jsxs("div",{className:"table-limits",children:[e.jsxs("span",{children:["Min: $",Number(E.minBet||0).toFixed(2)]}),e.jsxs("span",{children:["Max: $",Number(E.maxBet||0).toFixed(2)]})]}),e.jsx("button",{className:"join-table-btn",type:"button",disabled:A===E.id,onClick:()=>L(E.id),children:A===E.id?"Launching...":"Play Now"})]})]},E.id))})]})]})]})},Sv=()=>{const[l,r]=u.useState("props"),[c,d]=u.useState("builder"),[h,p]=u.useState("all"),[b,w]=u.useState(""),[x,g]=u.useState("popular"),[v,f]=u.useState(null),[j,A]=u.useState({}),[N,M]=u.useState(null),[R,S]=u.useState([]),[z,L]=u.useState(!1),[E,y]=u.useState(""),k=mi({status:"live-upcoming"}),$=u.useMemo(()=>{const P=new Map;return(k||[]).forEach(D=>{const ae=String(D.sport||"unknown").toLowerCase(),H=P.get(ae)||{id:ae,label:Cv(ae),count:0};H.count+=1,P.set(ae,H)}),Array.from(P.values()).sort((D,ae)=>ae.count-D.count)},[k]),V=u.useMemo(()=>{const P=b.trim().toLowerCase();return(k||[]).filter(D=>{const ae=String(D.sport||"unknown").toLowerCase();if(h!=="all"&&ae!==h)return!1;if(!P)return!0;const H=String(D.homeTeam||D.home_team||"").toLowerCase(),G=String(D.awayTeam||D.away_team||"").toLowerCase();return H.includes(P)||G.includes(P)})},[k,h,b]);u.useEffect(()=>{v&&V.some(P=>Nn(P)===v)||f(Nn(V[0])||null)},[V,v]);const B=u.useMemo(()=>V.find(P=>Nn(P)===v)||V[0]||null,[V,v]),ce=u.useMemo(()=>{const P=B?.odds?.markets||[];if(!Array.isArray(P))return[];const ae={popular:["h2h","spreads","totals"],moneyline:["h2h"],spread:["spreads"],total:["totals"],all:null}[x];return P.filter(H=>ae===null||ae.includes(String(H.key||"").toLowerCase())).map(H=>({key:String(H.key||"market").toLowerCase(),title:kv(String(H.key||"market")),outcomes:Array.isArray(H.outcomes)?H.outcomes:[]}))},[B,x]);u.useEffect(()=>{if(c!=="my_bets")return;const P=localStorage.getItem("token");if(!P){S([]),y("Please login to view your bets.");return}(async()=>{try{L(!0),y("");const ae=await kd(P);S(Array.isArray(ae)?ae:[])}catch(ae){y(ae.message||"Failed to load bets")}finally{L(!1)}})()},[c]);const F=P=>{A(D=>({...D,[P]:!D[P]}))},C=(P,D)=>{if(!B||D?.price==null||D?.price==="-")return;const ae=Nn(B),H=D.name||"Selection",G=Number(D.price);if(Number.isNaN(G))return;const ie=`${ae}-${P.key}-${H}`;M(ie),window.dispatchEvent(new CustomEvent("betslip:add",{detail:{matchId:ae,selection:H,marketType:P.key,odds:G,matchName:`${B.homeTeam||B.home_team} vs ${B.awayTeam||B.away_team}`,marketLabel:P.title}}))};return e.jsxs("div",{className:"props-container",children:[e.jsxs("div",{className:"props-mini-sidebar",children:[e.jsxs("button",{className:`props-ms-item ${l==="props"?"active":""}`,onClick:()=>r("props"),children:[e.jsx("div",{className:"props-ms-icon",children:e.jsx("i",{className:"fa-solid fa-chart-line"})}),e.jsx("div",{children:"PROPS+"})]}),e.jsxs("button",{className:`props-ms-item ${l==="horses"?"active":""}`,onClick:()=>r("horses"),children:[e.jsx("div",{className:"props-ms-icon",children:e.jsx("i",{className:"fa-solid fa-horse"})}),e.jsx("div",{children:"HORSES"})]})]}),e.jsxs("div",{className:"props-selection-sidebar",children:[e.jsxs("div",{className:"props-search-area",children:[e.jsx("div",{className:"props-search-header-row",children:e.jsx("span",{children:"Sports & Games"})}),e.jsx("input",{type:"text",className:"props-search-input",placeholder:"Search teams",value:b,onChange:P=>w(P.target.value)}),e.jsx("button",{className:"props-adv-search-btn",onClick:()=>window.dispatchEvent(new CustomEvent("matches:refresh")),children:"Refresh Board"})]}),e.jsxs("div",{className:"props-track-list",children:[e.jsxs("button",{className:`props-group-header sport-btn ${h==="all"?"active":""}`,onClick:()=>p("all"),children:[e.jsxs("span",{children:[e.jsx("i",{className:"fa-solid fa-trophy"})," All Sports"]}),e.jsx("span",{className:"props-chip",children:V.length})]}),$.map(P=>e.jsxs("button",{className:`props-group-header sport-btn ${h===P.id?"active":""}`,onClick:()=>p(P.id),children:[e.jsx("span",{children:P.label}),e.jsx("span",{className:"props-chip",children:P.count})]},P.id))]}),e.jsx("div",{className:"props-search-area",children:e.jsxs("div",{className:"props-search-header-row",children:[e.jsx("span",{children:"Next Games"}),e.jsx("span",{children:V.length})]})}),e.jsx("div",{className:"props-track-list",children:V.map(P=>{const D=Nn(P),ae=D===Nn(B);return e.jsxs("button",{className:`props-track-item ${ae?"active":""}`,onClick:()=>f(D),children:[e.jsx("span",{children:P.homeTeam||P.home_team}),e.jsx("span",{children:P.awayTeam||P.away_team}),e.jsx("div",{className:"props-track-time-badges",children:e.jsx("span",{className:"props-time-badge",children:Av(P.startTime)})})]},D)})})]}),e.jsxs("div",{className:"props-main",children:[e.jsxs("div",{className:"props-main-header top",children:[e.jsx("div",{className:"props-main-title",children:"Props Builder"}),e.jsxs("div",{className:"props-main-actions",children:[e.jsx("button",{className:`props-top-btn ${c==="builder"?"active":""}`,onClick:()=>d("builder"),children:"Build Mode"}),e.jsx("button",{className:`props-top-btn ${c==="my_bets"?"active":""}`,onClick:()=>d("my_bets"),children:"My Bets"}),e.jsx("button",{className:`props-top-btn ${c==="help"?"active":""}`,onClick:()=>d("help"),children:"Help"})]})]}),e.jsxs("div",{className:"props-main-header secondary",children:[e.jsx("div",{className:"props-match-title",children:B?`${B.homeTeam||B.home_team} @ ${B.awayTeam||B.away_team}`:"No game selected"}),e.jsx("div",{className:"props-market-tabs",children:[{id:"popular",label:"Popular"},{id:"moneyline",label:"Moneyline"},{id:"spread",label:"Spread"},{id:"total",label:"Total"},{id:"all",label:"All Markets"}].map(P=>e.jsx("button",{className:`props-market-tab ${x===P.id?"active":""}`,onClick:()=>g(P.id),children:P.label},P.id))})]}),e.jsxs("div",{className:"props-race-grid",children:[c==="help"&&e.jsxs("div",{className:"props-help-card",children:[e.jsx("h3",{children:"How to use Props Builder"}),e.jsx("p",{children:"1. Select a sport and game from the left board."}),e.jsx("p",{children:"2. Choose a market tab, then click any odds button."}),e.jsx("p",{children:"3. Selection is sent to your live bet slip immediately."}),e.jsx("p",{children:"4. Use mode tabs (Straight/Parlay/Teaser/If Bet/Reverse) at top to control bet rules."})]}),c==="my_bets"&&e.jsxs("div",{className:"props-help-card",children:[e.jsx("h3",{children:"Recent Bets"}),z&&e.jsx("p",{children:"Loading bets..."}),!z&&E&&e.jsx("p",{children:E}),!z&&!E&&R.length===0&&e.jsx("p",{children:"No bets found."}),!z&&!E&&R.slice(0,10).map(P=>e.jsxs("div",{className:"props-bet-row",children:[e.jsx("span",{children:String(P.type||"bet").toUpperCase()}),e.jsxs("span",{children:["$",Number(P.amount||0).toFixed(2)]}),e.jsx("span",{className:`status ${String(P.status||"pending").toLowerCase()}`,children:P.status||"pending"})]},P.id||P._id))]}),c==="builder"&&e.jsxs(e.Fragment,{children:[!B&&e.jsxs("div",{className:"props-help-card",children:[e.jsx("h3",{children:"No games available"}),e.jsx("p",{children:"Try another sport or refresh the board."})]}),B&&ce.length===0&&e.jsxs("div",{className:"props-help-card",children:[e.jsx("h3",{children:"No markets for this game"}),e.jsx("p",{children:"Pick another game or switch market tab."})]}),B&&ce.map(P=>{const D=!!j[P.key];return e.jsxs("div",{className:"props-market-card",children:[e.jsxs("button",{className:"props-market-header",onClick:()=>F(P.key),children:[e.jsx("span",{children:P.title}),e.jsx("i",{className:`fa-solid ${D?"fa-chevron-down":"fa-chevron-up"}`})]}),!D&&e.jsxs("div",{className:"props-market-outcomes",children:[P.outcomes.length===0&&e.jsx("div",{className:"props-empty-outcomes",children:"No odds currently available."}),P.outcomes.map((ae,H)=>{const G=ae.point!=null?` (${ae.point})`:"",ie=`${ae.name||`Selection ${H+1}`}${G}`,ye=`${Nn(B)}-${P.key}-${ae.name||H}`,K=N===ye;return e.jsxs("button",{className:`props-odds-btn ${K?"selected":""}`,onClick:()=>C(P,ae),disabled:ae.price==null,children:[e.jsx("span",{children:ie}),e.jsx("strong",{children:ae.price!=null?Number(ae.price).toFixed(2):"-"})]},`${P.key}-${ae.name||H}`)})]})]},P.key)})]})]})]})]})},kv=l=>{const r={h2h:"Game Winner",spreads:"Spread",totals:"Total"};return r[l]?r[l]:l.replace(/_/g," ").replace(/\b\w/g,c=>c.toUpperCase())},Cv=(l="unknown")=>l.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),Nn=l=>l?.id||l?._id||l?.externalId||`${l?.homeTeam||l?.home_team}-${l?.awayTeam||l?.away_team}`,Av=l=>{if(!l)return"Live";const r=new Date(l);return Number.isNaN(r.getTime())?"Live":r.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},Ev=()=>{const[l,r]=u.useState(null),c=["GENERAL","FOOTBALL","BASKETBALL","BASEBALL","HOCKEY","SOCCER","GOLF","BOXING/MMA","AUTO RACING","OTHER","SEASON WINS","INTERNET","LIVE BETTING","HORSES"],d=h=>{r(l===h?null:h)};return e.jsx("div",{style:{background:"white",width:"100%",height:"100%",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},children:e.jsx("div",{style:{width:"100%",margin:"0"},children:c.map(h=>e.jsxs("div",{style:{borderBottom:"1px solid #eee"},children:[e.jsx("div",{onClick:()=>d(h),style:{padding:"15px 20px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",background:"white",transition:"background 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#f9f9f9",onMouseLeave:p=>p.currentTarget.style.background="white",children:e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#333",textDecoration:"underline",textDecorationColor:"#333"},children:h})}),l===h&&e.jsxs("div",{style:{padding:"20px",background:"#fcfcfc",borderTop:"1px solid #eee",color:"#555",fontSize:"14px",lineHeight:"1.6"},children:[e.jsxs("p",{children:["Rules and regulations for ",h,"."]}),e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),e.jsx("p",{children:"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."})]})]},h))})})},Tv=[{id:"deposits",label:"Deposits",icon:"fa-solid fa-arrow-down"},{id:"withdrawals",label:"Withdrawals",icon:"fa-solid fa-arrow-up"},{id:"loyalty",label:"Loyalty",icon:"fa-regular fa-star"},{id:"requests",label:"Requests",icon:"fa-regular fa-file-lines"}],Mr=[{id:"mastercard_visa",label:"Mastercard / Visa",eta:"Instant",fee:"Low fee",icon:"fa-brands fa-cc-visa"},{id:"apple_pay",label:"Apple Pay",eta:"Instant",fee:"No extra fee",icon:"fa-brands fa-apple"},{id:"bitcoin",label:"Bitcoin",eta:"10-30 min",fee:"Network fee",icon:"fa-brands fa-bitcoin"},{id:"ethereum",label:"Ethereum",eta:"5-20 min",fee:"Network fee",icon:"fa-brands fa-ethereum"},{id:"bank_transfer",label:"Bank Transfer",eta:"1-3 days",fee:"No fee",icon:"fa-solid fa-building-columns"}],Dr=[{id:"bank_transfer",label:"Bank Transfer",eta:"1-3 days",icon:"fa-solid fa-building-columns"},{id:"crypto",label:"Crypto Wallet",eta:"15-60 min",icon:"fa-solid fa-wallet"},{id:"card_refund",label:"Card Refund",eta:"1-5 days",icon:"fa-brands fa-cc-visa"}],Lv=[25,50,100,250,500,1e3],Xs=l=>`$${Number(l||0).toFixed(2)}`,Mv=()=>{const l=localStorage.getItem("token"),[r,c]=u.useState("deposits"),[d,h]=u.useState({balance:0,pendingBalance:0,availableBalance:0}),[p,b]=u.useState([]),[w,x]=u.useState(!0),[g,v]=u.useState(!1),[f,j]=u.useState(""),[A,N]=u.useState(""),[M,R]=u.useState(Mr[0].id),[S,z]=u.useState(""),[L,E]=u.useState(Dr[0].id),[y,k]=u.useState(""),$=async()=>{if(!l){x(!1),j("Please login to access wallet.");return}try{x(!0),j("");const[D,ae]=await Promise.all([My(l),zy(l,{limit:100})]);h({balance:Number(D?.balance||0),pendingBalance:Number(D?.pendingBalance||0),availableBalance:Number(D?.availableBalance||0)}),b(Array.isArray(ae?.transactions)?ae.transactions:[])}catch(D){j(D.message||"Failed to load wallet data")}finally{x(!1)}};u.useEffect(()=>{$()},[]);const V=u.useMemo(()=>Mr.find(D=>D.id===M)||Mr[0],[M]),B=u.useMemo(()=>Dr.find(D=>D.id===L)||Dr[0],[L]),ce=u.useMemo(()=>{const D=p.filter(K=>K.type==="deposit"&&K.status==="completed").reduce((K,_)=>K+Number(_.amount||0),0),ae=p.filter(K=>K.type==="withdrawal"&&K.status==="completed").reduce((K,_)=>K+Number(_.amount||0),0),H=p.filter(K=>K.type==="bet_placed").reduce((K,_)=>K+Number(_.amount||0),0),G=Math.floor((D+H)/10),ie=4e3,ye=Math.min(100,Math.round(G/ie*100));return{completedDeposits:D,completedWithdrawals:ae,settledBets:H,loyaltyPoints:G,loyaltyTarget:ie,loyaltyPct:ye}},[p]),F=u.useMemo(()=>[...p].filter(D=>D.type==="deposit"||D.type==="withdrawal").sort((D,ae)=>new Date(ae.createdAt)-new Date(D.createdAt)),[p]),C=async()=>{const D=Number(S);if(Number.isNaN(D)||D<10){j("Deposit must be at least $10");return}try{v(!0),j("");const ae=await Oy(D,M,l);N(ae.message||"Deposit request submitted"),z(""),await $()}catch(ae){j(ae.message||"Failed to submit deposit request")}finally{v(!1)}},P=async()=>{const D=Number(y);if(Number.isNaN(D)||D<20){j("Withdrawal must be at least $20");return}if(D>d.availableBalance){j("Withdrawal exceeds available balance");return}try{v(!0),j("");const ae=await Uy(D,L,l);N(ae.message||"Withdrawal request submitted"),k(""),await $()}catch(ae){j(ae.message||"Failed to submit withdrawal request")}finally{v(!1)}};return e.jsx("div",{className:"bonus-view-container",children:e.jsxs("div",{className:"bonus-shell",children:[e.jsxs("aside",{className:"bonus-sidebar",children:[e.jsxs("div",{className:"sidebar-brand",children:[e.jsx("span",{className:"brand-chip",children:"Wallet"}),e.jsx("h2",{children:"Cashier Center"}),e.jsx("p",{children:"Professional cashier flow with secure approval and tracking."})]}),e.jsxs("div",{className:"sidebar-wallet-cards",children:[e.jsxs("div",{className:"wallet-card",children:[e.jsx("span",{children:"Balance"}),e.jsx("strong",{children:Xs(d.balance)})]}),e.jsxs("div",{className:"wallet-card",children:[e.jsx("span",{children:"Available"}),e.jsx("strong",{children:Xs(d.availableBalance)})]}),e.jsxs("div",{className:"wallet-card",children:[e.jsx("span",{children:"Pending"}),e.jsx("strong",{children:Xs(d.pendingBalance)})]})]}),e.jsx("div",{className:"sidebar-nav",children:Tv.map(D=>e.jsxs("button",{className:`sidebar-item ${r===D.id?"active":""}`,type:"button",onClick:()=>c(D.id),children:[e.jsx("i",{className:D.icon}),e.jsx("span",{children:D.label})]},D.id))})]}),e.jsxs("section",{className:"bonus-main",children:[e.jsxs("div",{className:"bonus-main-top",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Wallet & Bonus Operations"}),e.jsx("p",{children:"All actions are DB-backed and approval-aware for sportsbook workflows."})]}),e.jsxs("button",{className:"secondary-btn",onClick:$,type:"button",children:[e.jsx("i",{className:"fa-solid fa-rotate-right"})," Refresh"]})]}),A&&e.jsx("div",{className:"bonus-banner success",children:A}),f&&e.jsx("div",{className:"bonus-banner error",children:f}),w&&e.jsx("div",{className:"bonus-loading",children:"Loading wallet data..."}),!w&&r==="deposits"&&e.jsxs("div",{className:"bonus-content-grid",children:[e.jsxs("div",{className:"bonus-card",children:[e.jsx("h3",{children:"Deposit Methods"}),e.jsx("div",{className:"method-grid",children:Mr.map(D=>e.jsxs("button",{type:"button",className:`method-card ${M===D.id?"selected":""}`,onClick:()=>R(D.id),children:[e.jsxs("div",{className:"method-head",children:[e.jsx("i",{className:D.icon}),e.jsx("strong",{children:D.label})]}),e.jsxs("div",{className:"method-meta",children:[e.jsx("span",{children:D.eta}),e.jsx("span",{children:D.fee})]})]},D.id))})]}),e.jsxs("div",{className:"bonus-card summary",children:[e.jsx("h3",{children:"Submit Deposit Request"}),e.jsx("div",{className:"input-label",children:"Method"}),e.jsx("div",{className:"pill",children:V.label}),e.jsx("div",{className:"input-label",children:"Amount"}),e.jsxs("div",{className:"amount-row",children:[e.jsx("span",{children:"$"}),e.jsx("input",{type:"number",min:"10",value:S,onChange:D=>z(D.target.value),placeholder:"Enter amount"})]}),e.jsx("div",{className:"chips",children:Lv.map(D=>e.jsxs("button",{className:`chip ${Number(S)===D?"active":""}`,onClick:()=>z(String(D)),type:"button",children:["$",D]},D))}),e.jsx("button",{className:"primary-btn",disabled:g,onClick:C,type:"button",children:g?"Submitting...":"Request Deposit"})]})]}),!w&&r==="withdrawals"&&e.jsxs("div",{className:"bonus-content-grid",children:[e.jsxs("div",{className:"bonus-card",children:[e.jsx("h3",{children:"Withdrawal Methods"}),e.jsx("div",{className:"method-grid",children:Dr.map(D=>e.jsxs("button",{type:"button",className:`method-card ${L===D.id?"selected":""}`,onClick:()=>E(D.id),children:[e.jsxs("div",{className:"method-head",children:[e.jsx("i",{className:D.icon}),e.jsx("strong",{children:D.label})]}),e.jsxs("div",{className:"method-meta",children:[e.jsx("span",{children:D.eta}),e.jsx("span",{children:"Approval required"})]})]},D.id))})]}),e.jsxs("div",{className:"bonus-card summary",children:[e.jsx("h3",{children:"Submit Withdrawal Request"}),e.jsx("div",{className:"input-label",children:"Available Balance"}),e.jsx("div",{className:"pill",children:Xs(d.availableBalance)}),e.jsx("div",{className:"input-label",children:"Method"}),e.jsx("div",{className:"pill",children:B.label}),e.jsx("div",{className:"input-label",children:"Amount"}),e.jsxs("div",{className:"amount-row",children:[e.jsx("span",{children:"$"}),e.jsx("input",{type:"number",min:"20",value:y,onChange:D=>k(D.target.value),placeholder:"Enter amount"})]}),e.jsx("button",{className:"primary-btn",disabled:g,onClick:P,type:"button",children:g?"Submitting...":"Request Withdrawal"})]})]}),!w&&r==="loyalty"&&e.jsxs("div",{className:"bonus-content-grid",children:[e.jsxs("div",{className:"bonus-card",children:[e.jsx("h3",{children:"Loyalty Progress"}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Current Points"}),e.jsx("strong",{children:ce.loyaltyPoints})]}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{style:{width:`${ce.loyaltyPct}%`}})}),e.jsxs("div",{className:"metric-row muted",children:[e.jsxs("span",{children:[ce.loyaltyPoints," / ",ce.loyaltyTarget]}),e.jsxs("span",{children:[ce.loyaltyPct,"%"]})]})]}),e.jsxs("div",{className:"bonus-card",children:[e.jsx("h3",{children:"Wallet Performance"}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Completed Deposits"}),e.jsx("strong",{children:Xs(ce.completedDeposits)})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Completed Withdrawals"}),e.jsx("strong",{children:Xs(ce.completedWithdrawals)})]}),e.jsxs("div",{className:"metric-row",children:[e.jsx("span",{children:"Settled Bet Volume"}),e.jsx("strong",{children:Xs(ce.settledBets)})]})]})]}),!w&&r==="requests"&&e.jsxs("div",{className:"bonus-card full",children:[e.jsx("h3",{children:"Deposit/Withdrawal Requests"}),e.jsxs("div",{className:"request-table",children:[e.jsxs("div",{className:"request-head",children:[e.jsx("span",{children:"Type"}),e.jsx("span",{children:"Amount"}),e.jsx("span",{children:"Status"}),e.jsx("span",{children:"Date"}),e.jsx("span",{children:"Description"})]}),F.length===0&&e.jsx("div",{className:"request-empty",children:"No requests found."}),F.map(D=>e.jsxs("div",{className:"request-row",children:[e.jsx("span",{className:"caps",children:D.type}),e.jsx("span",{children:Xs(D.amount)}),e.jsx("span",{className:`status ${D.status}`,children:D.status}),e.jsx("span",{children:new Date(D.createdAt).toLocaleString()}),e.jsx("span",{children:D.description||"-"})]},D.id))]})]})]})]})})},Dv=({onClose:l,onViewChange:r})=>{const c=[{id:"sports",label:"Sports",icon:"fa-solid fa-shield-halved"},{id:"prime-live",label:"Prime Live",icon:"fa-solid fa-tv"},{id:"ultra-live",label:"Ultra Live",icon:"fa-solid fa-display"},{id:"casino",label:"Casino",icon:"fa-solid fa-dice"},{id:"live-casino",label:"Live Casino",icon:"fa-solid fa-circle-dot"},{id:"prop-builder",label:"Prop Builder",icon:"fa-solid fa-arrow-down-1-9"},{id:"world-365",label:"World 365",icon:"fa-solid fa-futbol"},{id:"horses",label:"Horses",icon:"fa-solid fa-horse-head"},{id:"parlay-boosts",label:"Parlay Boosts",icon:"fa-solid fa-bolt-lightning"},{id:"rules",label:"Rules",icon:"fa-solid fa-whistle"},{id:"tutorials",label:"Tutorials",icon:"fa-solid fa-book-open"},{id:"support",label:"Support",icon:"fa-solid fa-headset"}],d=h=>{h==="sports"?r("dashboard"):h==="live-casino"?r("live-casino"):h==="tutorials"||r(h),l()};return e.jsx("div",{className:"mobile-grid-menu-overlay",children:e.jsx("div",{className:"mobile-grid-container",children:c.map(h=>e.jsxs("div",{className:"grid-menu-item",onClick:()=>d(h.id),children:[e.jsx("div",{className:"grid-icon",children:e.jsx("i",{className:h.icon})}),e.jsx("span",{className:"grid-label",children:h.label})]},h.id))})})},_v=({selectedSports:l=[]})=>{const r=g=>({nfl:"NFL Football","ncaa-football":"College Football",nba:"NBA Basketball","ncaa-basketball":"College Basketball",mlb:"MLB Baseball",nhl:"NHL Hockey",epl:"EPL Soccer",mls:"MLS Soccer",pga:"PGA Golf",wta:"WTA Tennis",atp:"ATP Tennis",boxing:"Boxing",mma:"MMA","auto-racing":"Auto Racing",rugby:"Rugby",volleyball:"Volleyball",cricket:"Cricket",basketball:"Basketball",baseball:"Baseball",hockey:"Hockey",football:"Football",soccer:"Soccer",golf:"Golf",tennis:"Tennis","martial-arts":"Martial Arts"})[g]||g.replace("-"," ").toUpperCase(),c=l&&l.length>0?l[0]:null,h=mi({status:c==="commercial-live"?"live":c==="up-next"?"upcoming":"live-upcoming"}),p=c?r(c):"Selected Sport",b=g=>{if(!g)return[];const v=g.toString().toLowerCase();return{nfl:["nfl","americanfootball_nfl","national football","american football"],"ncaa-football":["ncaaf","ncaa football","college football"],nba:["nba","basketball_nba","national basketball"],"ncaa-basketball":["ncaab","ncaa basketball","college basketball"],mlb:["mlb","baseball_mlb","major league baseball"],nhl:["nhl","icehockey_nhl","hockey_nhl"],epl:["epl","premier league","english premier league"],soccer:["soccer","football","premier league","la liga","serie a","bundesliga","ligue 1","mls"],basketball:["basketball","nba","ncaab","euroleague"],baseball:["baseball","mlb"],hockey:["hockey","nhl","icehockey"],golf:["golf","pga"],tennis:["tennis","atp","wta"],boxing:["boxing"],mma:["mma","ufc"],rugby:["rugby"],"auto-racing":["racing","motorsport","nascar","formula"],"martial-arts":["mma","ufc","martial"]}[v]||[v]},w=(g,v,f)=>{if(!g||!g.odds)return{spreadHomePoint:null,spreadAwayPoint:null,spreadHomePrice:null,spreadAwayPrice:null,moneylineHome:null,moneylineAway:null,totalPoint:null,totalOverPrice:null,totalUnderPrice:null};const j=Array.isArray(g.odds.markets)?g.odds.markets:[],A=V=>j.find(B=>String(B.key||"").toLowerCase()===V),N=(V,B)=>{if(!V||!Array.isArray(V.outcomes))return null;const ce=V.outcomes.find(F=>String(F.name||"").toLowerCase()===String(B||"").toLowerCase());return ce||V.outcomes.find(F=>String(F.name||"").toLowerCase().includes(String(B||"").toLowerCase()))||null},M=A("h2h"),R=A("spreads"),S=A("totals"),z=N(M,v),L=N(M,f),E=N(R,v),y=N(R,f),k=S?.outcomes?.find(V=>String(V.name||"").toLowerCase().includes("over"))||null,$=S?.outcomes?.find(V=>String(V.name||"").toLowerCase().includes("under"))||null;return{spreadHomePoint:E?.point??null,spreadAwayPoint:y?.point??null,spreadHomePrice:E?.price??null,spreadAwayPrice:y?.price??null,moneylineHome:z?.price??null,moneylineAway:L?.price??null,totalPoint:k?.point??$?.point??null,totalOverPrice:k?.price??null,totalUnderPrice:$?.price??null}},x=ys.useMemo(()=>{const g=(h||[]).map(j=>{const A=j.homeTeam||j.home_team||"",N=j.awayTeam||j.away_team||"",M=w(j,A,N),R=(j.score?.event_status||"").toString().toUpperCase(),S=j.status==="live"||R.includes("IN_PROGRESS")||R.includes("LIVE")||R.includes("STATUS_IN_PROGRESS");return{id:j.id||j._id||j.externalId,sport:j.sport||j.sportTitle||"",team1:A,team2:N,odds:M,isLive:S}});if(!c)return g;const v=b(c),f=g.filter(j=>j.sport&&v.some(A=>j.sport.toLowerCase().includes(A)));return f.length>0?f:g},[h,c]);return e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"#f5f5f5",padding:"0",overflowY:"auto",WebkitOverflowScrolling:"touch"},children:[e.jsxs("div",{style:{padding:"15px 10px",backgroundColor:"#ffffff",borderBottom:"2px solid #e0e0e0",marginBottom:"10px",borderRadius:"4px"},children:[e.jsx("h2",{style:{margin:"0 0 5px 0",fontSize:"18px",fontWeight:"bold",color:"#333"},children:p}),e.jsx("p",{style:{margin:"0",fontSize:"12px",color:"#666",fontWeight:"500"},children:"Upcoming Matches & Events"})]}),e.jsx("div",{style:{flex:1},children:x&&x.length>0?x.map(g=>e.jsxs("div",{style:{backgroundColor:"#ffffff",padding:"12px",marginBottom:"10px",borderRadius:"6px",border:"1px solid #e0e0e0",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("div",{style:{fontSize:"12px",color:"#888",fontWeight:"600"},children:["MATCH ",g.id]}),e.jsx("div",{style:{background:g.isLive?"#007bff":"#6c757d",color:"white",padding:"3px 8px",borderRadius:"3px",fontSize:"11px",fontWeight:"bold"},children:g.isLive?"LIVE":"UPCOMING"})]}),e.jsxs("div",{style:{marginBottom:"10px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid #f0f0f0",fontSize:"13px",fontWeight:"600",color:"#333"},children:[e.jsx("span",{children:g.team1}),e.jsx("span",{children:g.odds.spreadHomePoint??"-"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",fontSize:"13px",fontWeight:"600",color:"#333"},children:[e.jsx("span",{children:g.team2}),e.jsx("span",{children:g.odds.spreadAwayPoint??"-"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginTop:"10px"},children:[e.jsxs("button",{style:{padding:"10px",backgroundColor:"#f0f0f0",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",color:"#333",transition:"all 0.2s"},children:["Spread",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#007bff"},children:g.odds.spreadHomePrice??"-"})]}),e.jsxs("button",{style:{padding:"10px",backgroundColor:"#f0f0f0",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",color:"#333",transition:"all 0.2s"},children:["Total",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#007bff"},children:g.odds.totalOverPrice??"-"})]})]})]},g.id)):e.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#999"},children:e.jsx("p",{style:{fontSize:"14px",margin:0},children:"No matches available"})})})]})},Bv=()=>e.jsxs("div",{className:"promo-card-container",children:[e.jsx("div",{className:"promo-team-header",children:e.jsx("span",{className:"team-text",children:"HOU @ PIT"})}),e.jsxs("div",{className:"promo-main-body",children:[e.jsxs("div",{className:"promo-title-row",children:[e.jsxs("div",{className:"promo-title-group",children:[e.jsx("span",{className:"promo-title",children:"Carry The Night"}),e.jsx("span",{className:"promo-fire-icon",children:" 2"})]}),e.jsxs("div",{className:"promo-badges",children:[e.jsx("span",{className:"badge badge-wa",children:"WA"}),e.jsx("span",{className:"badge badge-sgp",children:"SGP"})]})]}),e.jsx("div",{className:"promo-time",children:"Tomorrow 6:15 AM"}),e.jsxs("div",{className:"promo-props-list",children:[e.jsxs("div",{className:"promo-prop-item",children:[e.jsx("div",{className:"player-photo",children:e.jsx("img",{src:"https://via.placeholder.com/40",alt:"Jaylen Warren"})}),e.jsxs("div",{className:"prop-details",children:[e.jsxs("div",{className:"player-name",children:["Jaylen Warren ",e.jsx("span",{className:"team-tag",children:"(HOU @ PIT)"})]}),e.jsx("div",{className:"prop-value",children:"52 Over - Total Rushing Yards"})]})]}),e.jsxs("div",{className:"promo-prop-item",children:[e.jsx("div",{className:"player-photo",children:e.jsx("img",{src:"https://via.placeholder.com/40",alt:"Woody Marks"})}),e.jsxs("div",{className:"prop-details",children:[e.jsxs("div",{className:"player-name",children:["Woody Marks ",e.jsx("span",{className:"team-tag",children:"(HOU @ PIT)"})]}),e.jsx("div",{className:"prop-value",children:"55 Over - Total Rushing Yards"})]})]}),e.jsxs("div",{className:"promo-prop-item",children:[e.jsx("div",{className:"player-photo",children:e.jsx("img",{src:"https://via.placeholder.com/40",alt:"Kenneth Gainwell"})}),e.jsxs("div",{className:"prop-details",children:[e.jsxs("div",{className:"player-name",children:["Kenneth Gainwell ",e.jsx("span",{className:"team-tag",children:"(HOU @ PIT)"})]}),e.jsx("div",{className:"prop-value",children:"28 Over - Total Rushing Yards"})]})]})]}),e.jsx("div",{className:"more-selections",children:"+ 1 more selection"}),e.jsxs("div",{className:"promo-footer",children:[e.jsxs("div",{className:"odds-group",children:[e.jsx("span",{className:"old-odds",children:"+1176"}),e.jsx("span",{className:"odds-arrow",children:""}),e.jsx("span",{className:"new-odds",children:"+1234"})]}),e.jsx("button",{className:"promo-bet-btn",children:"Bet Now"})]})]}),e.jsxs("div",{className:"promo-pagination",children:[e.jsx("span",{className:"dot active"}),e.jsx("span",{className:"dot"}),e.jsx("span",{className:"dot"}),e.jsx("span",{className:"dot"}),e.jsx("span",{className:"dot"})]})]}),Rv=(l="")=>{const r=l.toLowerCase();return r.includes("beginner")||r.includes("fundamentals")?"Beginner":r.includes("parlay")||r.includes("live")?"Advanced":r.includes("responsible")||r.includes("bankroll")?"Important":r.includes("moneyline")||r.includes("spread")||r.includes("totals")?"Basics":"Guide"},Ov=(l="")=>{const r=l.toLowerCase();return r.includes("moneyline")||r.includes("bankroll")?"fa-solid fa-money-bill-wave":r.includes("spread")||r.includes("totals")?"fa-solid fa-chart-line":r.includes("live")?"fa-solid fa-bolt":r.includes("parlay")?"fa-solid fa-layer-group":r.includes("responsible")?"fa-solid fa-shield-heart":"fa-solid fa-book-open"},Uv=()=>{const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(""),[x,g]=u.useState("all"),[v,f]=u.useState(null),j=async()=>{const R=localStorage.getItem("token");if(!R){p("Please login to view tutorials."),d(!1);return}try{d(!0),p("");const S=await Xy(R);r(Array.isArray(S?.tutorials)?S.tutorials:[])}catch(S){p(S.message||"Failed to fetch tutorials")}finally{d(!1)}};u.useEffect(()=>{j()},[]);const A=u.useMemo(()=>l.map(R=>({id:R._id||R.id,title:R.title,desc:R.content,content:R.content,tag:Rv(R.title),icon:Ov(R.title),order:R.order||0})),[l]),N=u.useMemo(()=>{const R=new Set(["all"]);return A.forEach(S=>R.add(S.tag.toLowerCase())),Array.from(R)},[A]),M=u.useMemo(()=>{const R=b.trim().toLowerCase();return A.filter(S=>x!=="all"&&S.tag.toLowerCase()!==x?!1:R?S.title.toLowerCase().includes(R)||S.desc.toLowerCase().includes(R):!0).sort((S,z)=>S.order-z.order)},[A,b,x]);return e.jsxs("div",{className:"tutorials-container",children:[e.jsxs("div",{className:"tutorials-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Betting Tutorials & Guides"}),e.jsx("p",{children:"Professional learning hub for sportsbook users: markets, strategy, risk, and execution."})]}),e.jsxs("button",{className:"tutorial-refresh",onClick:j,type:"button",children:[e.jsx("i",{className:"fa-solid fa-rotate-right"})," Refresh"]})]}),e.jsxs("div",{className:"tutorials-toolbar",children:[e.jsx("input",{type:"text",placeholder:"Search tutorials",value:b,onChange:R=>w(R.target.value),className:"tutorial-search"}),e.jsx("div",{className:"tutorial-tags-filter",children:N.map(R=>e.jsx("button",{type:"button",className:`tag-chip ${x===R?"active":""}`,onClick:()=>g(R),children:R==="all"?"All":R},R))})]}),c&&e.jsx("div",{className:"tutorial-state",children:"Loading tutorials..."}),!c&&h&&e.jsx("div",{className:"tutorial-state error",children:h}),!c&&!h&&M.length===0&&e.jsx("div",{className:"tutorial-state",children:"No tutorials found."}),!c&&!h&&M.length>0&&e.jsx("div",{className:"tutorials-grid",children:M.map(R=>e.jsxs("article",{className:"tutorial-card",children:[e.jsx("div",{className:"tutorial-img-placeholder",children:e.jsx("i",{className:R.icon})}),e.jsxs("div",{className:"tutorial-content",children:[e.jsx("div",{className:"tutorial-tags",children:e.jsx("span",{className:"tag",children:R.tag})}),e.jsx("h3",{children:R.title}),e.jsx("p",{children:R.desc}),e.jsxs("button",{className:"read-btn",type:"button",onClick:()=>f(R),children:["Read Article ",e.jsx("i",{className:"fa-solid fa-arrow-right"})]})]})]},R.id))}),v&&e.jsx("div",{className:"tutorial-modal-overlay",onClick:()=>f(null),children:e.jsxs("div",{className:"tutorial-modal",onClick:R=>R.stopPropagation(),children:[e.jsxs("div",{className:"tutorial-modal-head",children:[e.jsx("h3",{children:v.title}),e.jsx("button",{onClick:()=>f(null),type:"button",children:e.jsx("i",{className:"fa-solid fa-xmark"})})]}),e.jsx("div",{className:"tutorial-modal-body",children:v.content})]})})]})},_r=l=>l.status==="closed"?"Closed":Array.isArray(l.replies)&&l.replies.length>0?"Answered":"Open",zv=()=>{const[l,r]=u.useState([]),[c,d]=u.useState([]),[h,p]=u.useState(""),[b,w]=u.useState(""),[x,g]=u.useState(""),[v,f]=u.useState(!0),[j,A]=u.useState(!1),[N,M]=u.useState(""),[R,S]=u.useState(null),z=async()=>{const k=localStorage.getItem("token");if(!k){M("Please login to contact support."),f(!1);return}try{f(!0),M("");const[$,V]=await Promise.all([bp(k),Zy(k)]),B=Array.isArray($)?$:[];r(B),d(Array.isArray(V?.faqs)?V.faqs:[]),B.length>0&&S(ce=>ce||B[0]._id||B[0].id)}catch($){M($.message||"Failed to load support data")}finally{f(!1)}};u.useEffect(()=>{z()},[]);const L=u.useMemo(()=>l.find(k=>(k._id||k.id)===R)||l[0]||null,[l,R]),E=u.useMemo(()=>{const k=x.trim().toLowerCase();return k?c.filter($=>String($.question||"").toLowerCase().includes(k)||String($.answer||"").toLowerCase().includes(k)):c},[c,x]),y=async k=>{k.preventDefault();const $=localStorage.getItem("token");if(!$){M("Please login to contact support.");return}if(!b.trim()){M("Message is required.");return}try{A(!0);const V=h.trim()||b.trim().split(" ").slice(0,6).join(" "),B=await yp(V,b.trim(),$);r(ce=>[B,...ce]),S(B._id||B.id),p(""),w(""),M("")}catch(V){M(V.message||"Failed to send message")}finally{A(!1)}};return e.jsxs("div",{className:"support-container",children:[e.jsxs("div",{className:"support-header",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Support Center"}),e.jsx("p",{children:"Contact operations team, track responses, and browse sportsbook FAQs."})]}),e.jsxs("button",{type:"button",className:"support-refresh",onClick:z,children:[e.jsx("i",{className:"fa-solid fa-rotate-right"})," Refresh"]})]}),N&&e.jsx("div",{className:"support-error",children:N}),e.jsxs("div",{className:"support-layout",children:[e.jsxs("section",{className:"support-left",children:[e.jsxs("div",{className:"support-card",children:[e.jsx("h2",{children:"Create Ticket"}),e.jsxs("form",{onSubmit:y,className:"support-form",children:[e.jsxs("label",{children:["Subject (optional)",e.jsx("input",{type:"text",value:h,onChange:k=>p(k.target.value),placeholder:"Bet settlement, payout delay, limit issue..."})]}),e.jsxs("label",{children:["Message",e.jsx("textarea",{rows:6,value:b,onChange:k=>w(k.target.value),placeholder:"Describe issue with relevant bet IDs, timestamps, and details."})]}),e.jsx("button",{type:"submit",className:"primary-btn",disabled:j,children:j?"Sending...":"Submit Ticket"})]})]}),e.jsxs("div",{className:"support-card",children:[e.jsxs("div",{className:"thread-list-head",children:[e.jsx("h2",{children:"Your Tickets"}),e.jsx("span",{children:l.length})]}),v&&e.jsx("div",{className:"support-empty",children:"Loading messages..."}),!v&&l.length===0&&e.jsx("div",{className:"support-empty",children:"No support tickets yet."}),!v&&l.length>0&&e.jsx("div",{className:"thread-list",children:l.map(k=>{const $=k._id||k.id;return e.jsxs("button",{type:"button",className:`thread-item ${$===(L?._id||L?.id)?"active":""}`,onClick:()=>S($),children:[e.jsxs("div",{children:[e.jsx("strong",{children:k.subject}),e.jsx("p",{children:new Date(k.createdAt).toLocaleString()})]}),e.jsx("span",{className:`status ${_r(k).toLowerCase()}`,children:_r(k)})]},$)})})]})]}),e.jsx("section",{className:"support-middle",children:e.jsxs("div",{className:"support-card thread-view",children:[e.jsx("h2",{children:"Ticket Thread"}),!L&&e.jsx("div",{className:"support-empty",children:"Select a ticket to view thread."}),L&&e.jsxs("div",{className:"thread-content",children:[e.jsxs("div",{className:"thread-main-message",children:[e.jsxs("div",{className:"thread-meta",children:[e.jsx("span",{children:new Date(L.createdAt).toLocaleString()}),e.jsx("span",{className:`status ${_r(L).toLowerCase()}`,children:_r(L)})]}),e.jsx("h3",{children:L.subject}),e.jsx("p",{children:L.body})]}),e.jsxs("div",{className:"thread-replies",children:[(L.replies||[]).length===0&&e.jsx("div",{className:"support-empty",children:"No replies yet."}),(L.replies||[]).map((k,$)=>e.jsxs("div",{className:"reply-item",children:[e.jsxs("div",{className:"thread-meta",children:[e.jsx("span",{children:new Date(k.createdAt).toLocaleString()}),e.jsx("span",{children:"Support"})]}),e.jsx("p",{children:k.message})]},`${L._id||L.id}-reply-${$}`))]})]})]})}),e.jsx("section",{className:"support-right",children:e.jsxs("div",{className:"support-card",children:[e.jsx("h2",{children:"FAQ"}),e.jsx("input",{type:"text",className:"faq-search",placeholder:"Search FAQ",value:x,onChange:k=>g(k.target.value)}),E.length===0&&e.jsx("div",{className:"support-empty",children:"No FAQs found."}),e.jsx("div",{className:"faq-list",children:E.map(k=>e.jsxs("details",{className:"faq-item",children:[e.jsx("summary",{children:k.question}),e.jsx("p",{children:k.answer})]},k._id||k.id))})]})})]})]})},Fv=()=>{const[l,r]=u.useState(!1),[c,d]=u.useState([]),[h,p]=u.useState(""),[b,w]=u.useState(!1),[x,g]=u.useState(""),v=u.useRef(null),f=()=>{v.current?.scrollIntoView({behavior:"smooth"})};u.useEffect(()=>{f()},[c]);const j=async()=>{const N=localStorage.getItem("token");if(!N){g("Please login to message support.");return}try{w(!0);const M=await bp(N),R=[];M.forEach(S=>{R.push({id:`${S._id}-user`,text:S.body,sender:"user",createdAt:S.createdAt}),(S.replies||[]).forEach((z,L)=>{R.push({id:`${S._id}-reply-${L}`,text:z.message,sender:"agent",createdAt:z.createdAt})})}),R.sort((S,z)=>new Date(S.createdAt)-new Date(z.createdAt)),d(R),g("")}catch(M){console.error("Failed to load messages:",M),g(M.message||"Failed to load messages")}finally{w(!1)}},A=async N=>{if(N.preventDefault(),!h.trim())return;const M=localStorage.getItem("token");if(!M){g("Please login to message support.");return}const R=h.trim(),S=R.split(" ").slice(0,6).join(" ");try{w(!0);const z=await yp(S,R,M);d(L=>[...L,{id:`${z._id}-user`,text:z.body,sender:"user",createdAt:z.createdAt}]),p(""),g("")}catch(z){g(z.message||"Failed to send message")}finally{w(!1)}};return u.useEffect(()=>{l&&j()},[l]),e.jsxs("div",{className:"chat-widget-container",style:{position:"fixed",bottom:"30px",right:"30px",zIndex:1e3,fontFamily:"Inter, sans-serif"},children:[l&&e.jsxs("div",{style:{width:"350px",height:"500px",background:"white",borderRadius:"16px",boxShadow:"0 10px 40px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column",overflow:"hidden",marginBottom:"20px",border:"1px solid #e0e0e0",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)"},children:[e.jsxs("div",{style:{background:"#00703c",color:"white",padding:"15px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{style:{width:"30px",height:"30px",background:"white",borderRadius:"50%",color:"#00703c",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("i",{className:"fa-solid fa-headset"})}),e.jsx("div",{style:{width:"8px",height:"8px",background:"#00ff00",borderRadius:"50%",position:"absolute",bottom:"0",right:"0",border:"1px solid #00703c"}})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"700",fontSize:"14px"},children:"Support Team"}),e.jsx("div",{style:{fontSize:"10px",opacity:.8},children:"Online"})]})]}),e.jsx("button",{onClick:()=>r(!1),style:{background:"transparent",border:"none",color:"white",cursor:"pointer",fontSize:"16px"},children:e.jsx("i",{className:"fa-solid fa-xmark"})})]}),e.jsxs("div",{style:{flex:1,padding:"20px",overflowY:"auto",background:"#f9f9f9",display:"flex",flexDirection:"column",gap:"15px"},children:[b&&e.jsx("div",{style:{fontSize:"12px",color:"#777"},children:"Loading messages..."}),x&&e.jsx("div",{style:{fontSize:"12px",color:"#b00020"},children:x}),!b&&!x&&c.length===0&&e.jsx("div",{style:{fontSize:"12px",color:"#777"},children:"No messages yet. Start a conversation below."}),c.map(N=>e.jsxs("div",{style:{alignSelf:N.sender==="user"?"flex-end":"flex-start",maxWidth:"80%"},children:[e.jsx("div",{style:{background:N.sender==="user"?"#00703c":"white",color:N.sender==="user"?"white":"#333",padding:"12px 16px",borderRadius:N.sender==="user"?"16px 16px 0 16px":"16px 16px 16px 0",boxShadow:N.sender==="agent"?"0 2px 5px rgba(0,0,0,0.05)":"none",fontSize:"13px",lineHeight:"1.4"},children:N.text}),e.jsx("div",{style:{fontSize:"10px",color:"#aaa",marginTop:"5px",textAlign:N.sender==="user"?"right":"left"},children:N.createdAt?new Date(N.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]},N.id)),e.jsx("div",{ref:v})]}),e.jsxs("form",{onSubmit:A,style:{padding:"15px",background:"white",borderTop:"1px solid #eee",display:"flex",gap:"10px"},children:[e.jsx("input",{type:"text",value:h,onChange:N=>p(N.target.value),placeholder:"Type a message...",style:{flex:1,padding:"10px 15px",borderRadius:"20px",border:"1px solid #ddd",fontSize:"13px",outline:"none"}}),e.jsx("button",{type:"submit",style:{width:"40px",height:"40px",borderRadius:"50%",background:"#00703c",color:"white",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},children:e.jsx("i",{className:"fa-solid fa-paper-plane"})})]})]}),!l&&e.jsx("button",{onClick:()=>r(!0),style:{width:"60px",height:"60px",borderRadius:"50%",background:"#00703c",color:"white",border:"none",boxShadow:"0 4px 20px rgba(0, 112, 60, 0.4)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",transition:"transform 0.2s",animation:"bounceIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},onMouseEnter:N=>N.target.style.transform="scale(1.1)",onMouseLeave:N=>N.target.style.transform="scale(1)",children:e.jsx("i",{className:"fa-solid fa-comment-dots"})}),e.jsx("style",{children:`
                @keyframes slideUp {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                @keyframes bounceIn {
                    from { opacity: 0; transform: scale(0.5); }
                    to { opacity: 1; transform: scale(1); }
                }
                `})]})},Iv=()=>{const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(null);return u.useEffect(()=>{(async()=>{const w=localStorage.getItem("token");if(!w){p("Please login to view your bets"),d(!1);return}try{const x=await kd(w);r(x)}catch(x){console.error("Failed to fetch bets:",x),p("Failed to load bets")}finally{d(!1)}})()},[]),c?e.jsx("div",{style:{color:"white",padding:"20px"},children:"Loading history..."}):h?e.jsx("div",{style:{color:"red",padding:"20px"},children:h}):e.jsxs("div",{style:{padding:"20px",color:"white"},children:[e.jsx("h2",{children:"My Bets History"}),l.length===0?e.jsx("p",{children:"No bets placed yet."}):e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#333",textAlign:"left"},children:[e.jsx("th",{style:{padding:"10px"},children:"Date"}),e.jsx("th",{style:{padding:"10px"},children:"Match"}),e.jsx("th",{style:{padding:"10px"},children:"Selection"}),e.jsx("th",{style:{padding:"10px"},children:"Stake"}),e.jsx("th",{style:{padding:"10px"},children:"Odds"}),e.jsx("th",{style:{padding:"10px"},children:"Potential Payout"}),e.jsx("th",{style:{padding:"10px"},children:"Status"})]})}),e.jsx("tbody",{children:l.map(b=>e.jsxs("tr",{style:{borderBottom:"1px solid #444"},children:[e.jsx("td",{style:{padding:"10px"},children:new Date(b.createdAt).toLocaleString()}),e.jsx("td",{style:{padding:"10px"},children:b.matchId?`${b.matchSnapshot?.homeTeam||b.matchId.homeTeam} vs ${b.matchSnapshot?.awayTeam||b.matchId.awayTeam}`:"Unknown Match"}),e.jsx("td",{style:{padding:"10px",color:"#ffd700"},children:b.selection}),e.jsxs("td",{style:{padding:"10px"},children:["$",parseFloat(b.amount).toFixed(2)]}),e.jsx("td",{style:{padding:"10px"},children:parseFloat(b.odds).toFixed(2)}),e.jsxs("td",{style:{padding:"10px"},children:["$",parseFloat(b.potentialPayout).toFixed(2)]}),e.jsx("td",{style:{padding:"10px"},children:e.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",backgroundColor:b.status==="won"?"#28a745":b.status==="lost"?"#dc3545":b.status==="pending"?"#ffc107":"#6c757d",color:b.status==="pending"?"black":"white"},children:b.status.toUpperCase()})})]},b._id))})]})})]})},Bp={dashboard:"dashboard","weekly-figures":"weeklyFigures",pending:"pending",messaging:"messaging","game-admin":"gameAdmin","customer-admin":"customerAdmin","agent-manager":"agentManager",cashier:"cashier","add-customer":"addCustomer","third-party-limits":"thirdPartyLimits",props:"props","agent-performance":"agentPerformance",analysis:"analysis","ip-tracker":"ipTracker","transactions-history":"transactionsHistory",collections:"collections","deleted-wagers":"deletedWagers","games-events":"gamesEvents","sportsbook-links":"sportsbookLinks","bet-ticker":"betTicker",ticketwriter:"ticketwriter",scores:"scores","master-agent-admin":"masterAgentAdmin",billing:"billing",settings:"settings",monitor:"monitor",rules:"rules",feedback:"feedback",faq:"faq","user-manual":"userManual",profile:"profile"},Rp=l=>l==="admin"||l==="master_agent"||l==="super_agent",ii=(l,r,c)=>{if(Rp(l))return!0;const d=Bp[c];return d?r?.views?.[d]!==!1:!0},$v=(l,r)=>Rp(l)?!0:r?.ipTracker?.manage!==!1,Op=[{id:"dashboard",label:"Dashboard",sidebarIcon:"",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!1},{id:"weekly-figures",label:"Weekly Figures",sidebarIcon:"",dashboardIcon:"fa-solid fa-chart-line",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"pending",label:"Pending",sidebarIcon:"",dashboardIcon:"fa-solid fa-calendar-check",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"messaging",label:"Messaging",sidebarIcon:"",dashboardIcon:"fa-solid fa-envelope",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"game-admin",label:"Game Admin",sidebarIcon:"",dashboardIcon:"fa-solid fa-gamepad",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"customer-admin",label:"Customer Admin",sidebarIcon:"",dashboardIcon:"fa-solid fa-user-shield",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"agent-manager",label:"Agent Management",sidebarIcon:"",dashboardIcon:"fa-solid fa-users-gear",dashboardColor:"teal",roles:["admin","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"cashier",label:"Cashier",sidebarIcon:"",dashboardIcon:"fa-solid fa-money-bill-wave",dashboardColor:"teal",roles:["admin","agent","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"add-customer",label:"Add Customer",sidebarIcon:"",dashboardIcon:"fa-solid fa-user-plus",dashboardColor:"light-gray",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"third-party-limits",label:"3rd Party Limits",sidebarIcon:"",dashboardIcon:"fa-solid fa-lock",dashboardColor:"light-gray",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"props",label:"Props / Betting",sidebarIcon:"",dashboardIcon:"fa-solid fa-bullseye",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"agent-performance",label:"Agent Performance",sidebarIcon:"",dashboardIcon:"fa-solid fa-list-check",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"analysis",label:"Analysis",sidebarIcon:"",dashboardIcon:"fa-solid fa-arrow-trend-up",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"ip-tracker",label:"IP Tracker",sidebarIcon:"",dashboardIcon:"fa-solid fa-globe",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"transactions-history",label:"Transactions History",sidebarIcon:"",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!1},{id:"collections",label:"Collections",sidebarIcon:"",dashboardIcon:"fa-solid fa-box-archive",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"deleted-wagers",label:"Deleted Wagers",sidebarIcon:"",dashboardIcon:"fa-solid fa-trash",dashboardColor:"light-blue",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"games-events",label:"Games & Events",sidebarIcon:"",dashboardIcon:"fa-solid fa-calendar-days",dashboardColor:"orange",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"sportsbook-links",label:"Sportsbook Links",sidebarIcon:"",dashboardIcon:"fa-solid fa-lines-leaning",dashboardColor:"orange",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"bet-ticker",label:"Bet Ticker",sidebarIcon:"",dashboardIcon:"fa-solid fa-clock",dashboardColor:"orange",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"ticketwriter",label:"TicketWriter",sidebarIcon:"",dashboardIcon:"fa-solid fa-pen-to-square",dashboardColor:"orange",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"scores",label:"Scores",sidebarIcon:"",dashboardIcon:"fa-solid fa-trophy",dashboardColor:"orange",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"master-agent-admin",label:"Master Agent Admin",sidebarIcon:"",dashboardIcon:"fa-solid fa-user-tie",dashboardColor:"green",roles:["admin","master_agent","super_agent"],showInSidebar:!0,showInDashboard:!0},{id:"billing",label:"Billing",sidebarIcon:"",dashboardIcon:"fa-solid fa-sack-dollar",dashboardColor:"green",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"settings",label:"Settings",sidebarIcon:"",dashboardIcon:"fa-solid fa-gear",dashboardColor:"green",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"monitor",label:"System Monitor",sidebarIcon:"",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!1},{id:"rules",label:"Rules",sidebarIcon:"",dashboardIcon:"fa-solid fa-list-check",dashboardColor:"green",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"feedback",label:"Feedback",sidebarIcon:"",dashboardIcon:"fa-solid fa-wrench",dashboardColor:"light-gray",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"faq",label:"FAQ",sidebarIcon:"",dashboardIcon:"fa-solid fa-circle-question",dashboardColor:"black",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0},{id:"user-manual",label:"User Manual",sidebarIcon:"",dashboardIcon:"fa-solid fa-book",dashboardColor:"black",roles:["admin","agent","super_agent","master_agent"],showInSidebar:!0,showInDashboard:!0}];function zf({onMenuClick:l,onOpenScoreboard:r,role:c="admin",layoutPref:d="tiles",isMobile:h=!1,permissions:p=null}){const b=c||"admin",w=Op.filter(x=>x.showInDashboard&&x.roles&&x.roles.includes(b)&&ii(b,p,x.id));return h&&d==="sidebar"?e.jsx("div",{className:"admin-dashboard",children:e.jsxs("div",{style:{textAlign:"center",padding:"50px",color:"#666"},children:[e.jsx("h2",{children:"Welcome"}),e.jsx("p",{children:"Select an option from the sidebar to get started."})]})}):e.jsx("div",{className:"admin-dashboard",children:e.jsx("div",{className:"dashboard-grid",children:w.map(x=>e.jsxs("button",{type:"button",className:`grid-card ${x.dashboardColor}`,onClick:()=>{if(x.id==="scores"&&typeof r=="function"){r();return}l(x.id)},children:[e.jsx("div",{className:"card-icon",children:e.jsx("i",{className:x.dashboardIcon})}),e.jsx("div",{className:"card-label",children:x.label})]},x.id))})})}function Pv({onClose:l,onGo:r,initialQuery:c=""}){const[d,h]=u.useState(!0),[p,b]=u.useState(null),[w,x]=u.useState(""),[g,v]=u.useState(new Set),[f,j]=u.useState(null);u.useEffect(()=>{(async()=>{try{h(!0);const R=localStorage.getItem("token"),S=await Xj(R);b(S),S.root&&v(new Set([S.root.id]))}catch(R){console.error("Failed to fetch agent tree:",R),j("Failed to load tree")}finally{h(!1)}})()},[]),u.useEffect(()=>{x(c||"")},[c]);const A=M=>{const R=new Set(g);R.has(M)?R.delete(M):R.add(M),v(R)},N=(M,R=0)=>{const S=g.has(M.id),z=M.role!=="player",L=M.children&&M.children.length>0,E=M.isDead||M.username?.toUpperCase()==="DEAD",y=M.username.toLowerCase().includes(w.toLowerCase()),k=M.children?.some($=>$.username.toLowerCase().includes(w.toLowerCase())||$.children?.length>0);return w&&!y&&!k?null:e.jsxs("div",{className:`tree-node-wrapper depth-${R}`,children:[e.jsxs("div",{className:`tree-node ${E?"dead-node":""}`,children:[e.jsxs("div",{className:"node-content",onClick:()=>z&&A(M.id),children:[z?e.jsx("span",{className:"node-toggle",children:S?"":"+"}):e.jsx("span",{className:"node-dot",children:""}),e.jsx("span",{className:"node-icon",children:E?"":z?"":""}),e.jsx("span",{className:"node-name",children:M.username.toUpperCase()}),E&&e.jsx("span",{className:"dead-tag",children:"DEAD"})]}),e.jsx("button",{className:"node-go-btn",onClick:()=>r(M.id,M.role),children:"Go"})]}),z&&(S||w)&&L&&e.jsx("div",{className:"node-children",children:M.children.map($=>N($,R+1))})]},M.id)};return e.jsx("div",{className:"agent-tree-overlay",onClick:l,children:e.jsxs("div",{className:"agent-tree-container glass-effect",onClick:M=>M.stopPropagation(),children:[e.jsxs("div",{className:"tree-header",children:[e.jsx("h3",{children:"Agent Tree"}),e.jsx("button",{className:"close-x",onClick:l,children:""})]}),e.jsx("div",{className:"tree-search",children:e.jsxs("div",{className:"search-pill",children:[e.jsx("span",{className:"pill-label",children:"Agents"}),e.jsx("input",{type:"text",placeholder:"Search accounts...",value:w,onChange:M=>x(M.target.value)})]})}),e.jsx("div",{className:"tree-scroll-area",children:d?e.jsx("div",{className:"tree-loading",children:"Loading Tree..."}):f?e.jsx("div",{className:"tree-error",children:f}):p?e.jsxs("div",{className:"tree-root",children:[e.jsx("div",{className:"tree-node depth-0 root-node",children:e.jsxs("div",{className:"node-content",onClick:()=>A(p.root.id),children:[e.jsx("span",{className:"node-toggle",children:g.has(p.root.id)?"":"+"}),e.jsx("span",{className:"node-icon",children:""}),e.jsxs("span",{className:"node-name",children:[p.root.username.toUpperCase()," (You)"]})]})}),(g.has(p.root.id)||w)&&e.jsx("div",{className:"node-children",children:p.tree.map(M=>N(M,1))})]}):null})]})})}function Hv({onMenuToggle:l,onLogout:r,onViewChange:c,role:d="admin"}){const[h,p]=u.useState(!1),[b,w]=u.useState(!1),[x,g]=u.useState(!1),[v,f]=u.useState(""),[j,A]=u.useState(""),[N,M]=u.useState({totalBalance:null,weekNet:null,todayNet:null,activeAccounts:null}),[R,S]=u.useState(null);u.useEffect(()=>{(async()=>{const ae=localStorage.getItem("token");if(ae)try{const[H,G]=await Promise.all([Fy(ae),en(ae)]);M({totalBalance:H?.totalBalance??0,totalOutstanding:H?.totalOutstanding??0,weekNet:H?.weekNet??0,todayNet:H?.todayNet??0,activeAccounts:H?.activeAccounts??0}),S(G||null)}catch(H){console.error("Failed to load admin header summary:",H)}})()},[]);const z=D=>{if(D==null)return"";const ae=Number(D);return Number.isNaN(ae)?"":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(ae)},L=D=>{if(D==null)return"";const ae=Number(D);return Number.isNaN(ae)?"":ae.toLocaleString("en-US")},E=()=>{w(!0)},y=()=>{w(!1),p(!1),r&&r()},k=()=>{w(!1)},$=D=>{p(!1),c&&c(D)},V=D=>{D.preventDefault(),A(v.trim()),g(!0)},B=R?.username?R.username.toUpperCase():(sessionStorage.getItem(`${d}Username`)||sessionStorage.getItem("super_agentUsername")||sessionStorage.getItem("agentUsername")||sessionStorage.getItem("adminUsername")||localStorage.getItem("userRole")||"USER").toUpperCase(),ce=(R?.role||d||"admin").toLowerCase(),F=ce==="master_agent"||ce==="super_agent"?"MASTER":ce==="agent"?"AGENT":"ADMIN",C=F==="ADMIN"?"Admin Manager":`${F} Manager`,P=R?.unlimitedBalance?"Unlimited":R?.balance??null;return e.jsxs("div",{className:"admin-header",children:[e.jsxs("div",{className:"admin-header-top",children:[e.jsxs("div",{className:"admin-header-left",children:[e.jsxs("button",{type:"button",className:"home-nav-btn",onClick:()=>$("dashboard"),"aria-label":"Go to admin home",children:[e.jsx("span",{"aria-hidden":"true",children:""}),e.jsx("span",{children:"Home"})]}),e.jsx("button",{className:"mobile-menu-toggle",onClick:l,children:""}),e.jsx("h1",{className:"admin-title",children:C}),e.jsxs("form",{className:"admin-header-search",onSubmit:V,children:[e.jsx("span",{className:"search-icon","aria-hidden":"true",children:""}),e.jsx("input",{type:"text",placeholder:"Search accounts...",value:v,onChange:D=>f(D.target.value)})]})]}),e.jsx("div",{className:"admin-header-right",children:e.jsxs("div",{className:"header-actions",style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsx("button",{className:"tree-view-trigger",onClick:()=>g(!0),style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",color:"white",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",display:"flex",alignItems:"center",gap:"6px"},children:" Agent Tree"}),e.jsxs("div",{className:"user-menu",children:[e.jsxs("button",{className:"user-button",onClick:()=>p(!h),children:[" ",F,": ",B," "]}),h&&e.jsxs("div",{className:"dropdown-menu",children:[e.jsx("button",{type:"button",onClick:()=>$("profile"),children:" Profile"}),e.jsx("button",{type:"button",onClick:()=>$("settings"),children:" Settings"}),e.jsx("button",{type:"button",onClick:E,children:" Logout"})]})]})]})})]}),e.jsx("div",{className:"admin-header-bottom",children:e.jsxs("div",{className:"admin-stats-grid",children:[e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-label",children:"Week"}),e.jsx("span",{className:"stat-value green",children:z(N.weekNet)})]}),e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-label",children:"Today"}),e.jsx("span",{className:"stat-value green",children:z(N.todayNet)})]}),e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-label",children:"Active Accts"}),e.jsx("span",{className:"stat-value highlight",children:L(N.activeAccounts)})]}),e.jsxs("div",{className:"stat-box",children:[e.jsx("span",{className:"stat-label",children:"Balance"}),e.jsx("span",{className:"stat-value",children:P==="Unlimited"?"Unlimited":z(P)})]})]})}),b&&e.jsx("div",{className:"modal-overlay logout-modal-overlay",children:e.jsxs("div",{className:"modal-content logout-modal",children:[e.jsx("h3",{children:"Confirm Logout"}),e.jsx("p",{children:"Are you sure you want to logout from the admin panel?"}),e.jsxs("div",{className:"modal-buttons",children:[e.jsx("button",{className:"btn-danger",onClick:y,children:"Yes, Logout"}),e.jsx("button",{className:"btn-secondary",onClick:k,children:"Cancel"})]})]})}),x&&e.jsx(Pv,{onClose:()=>g(!1),initialQuery:j,onGo:(D,ae)=>{g(!1),$(ae==="player"?"user-details":"sub-agent-admin")}})]})}function qv({activeView:l,onViewChange:r,onOpenScoreboard:c,isOpen:d,role:h="admin",permissions:p=null}){const b=h||"admin",w=Op.filter(x=>x.showInSidebar&&x.roles&&x.roles.includes(b)&&ii(b,p,x.id));return e.jsx("aside",{className:`admin-sidebar ${d?"open":""}`,children:e.jsx("nav",{className:"sidebar-nav",children:w.map(x=>e.jsxs("button",{className:`nav-item ${l===x.id?"active":""}`,onClick:()=>{if(x.id==="scores"&&typeof c=="function"){c();return}r(x.id)},title:x.label,children:[e.jsx("span",{className:"nav-icon",children:x.sidebarIcon}),e.jsx("span",{className:"nav-label",children:x.label})]},x.id))})})}function Gv(){const[l,r]=u.useState("this-week"),[c,d]=u.useState(""),[h,p]=u.useState(null),[b,w]=u.useState([]),[x,g]=u.useState(!0),[v,f]=u.useState(""),j=N=>{if(N==null)return"";const M=Number(N);return Number.isNaN(M)?"":M.toFixed(2)};u.useEffect(()=>{(async()=>{const M=localStorage.getItem("token");if(!M){f("Please login to view weekly figures."),g(!1);return}try{g(!0);const R=await Py(l,M);p(R.summary),w(R.customers||[]),f("")}catch(R){console.error("Failed to fetch weekly figures:",R),f(R.message||"Failed to load weekly figures")}finally{g(!1)}})()},[l]);const A=b.filter(N=>N.username?.toLowerCase().includes(c.toLowerCase())||N.name?.toLowerCase().includes(c.toLowerCase())||N.phoneNumber?.toLowerCase().includes(c.toLowerCase()));return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Weekly Figures - Summary & Customer Tracking"}),e.jsxs("div",{className:"period-filter",children:[e.jsx("button",{className:l==="this-week"?"active":"",onClick:()=>r("this-week"),children:"This Week"}),e.jsx("button",{className:l==="last-week"?"active":"",onClick:()=>r("last-week"),children:"Last Week"}),e.jsx("button",{className:l==="previous"?"active":"",onClick:()=>r("previous"),children:"Previous Weeks"})]})]}),e.jsxs("div",{className:"view-content",children:[x&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading weekly figures..."}),v&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:v}),!x&&!v&&h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"summary-section",children:[e.jsx("div",{className:"summary-header",children:e.jsx("h3",{children:"Summary"})}),e.jsxs("table",{className:"summary-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Carry"}),h.days.map((N,M)=>e.jsx("th",{children:N.day},M)),e.jsx("th",{children:"Week"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Pending"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("strong",{children:[h.totalPlayers," Players"]})}),h.days.map((N,M)=>e.jsx("td",{style:{color:N.amount<0?"#e74c3c":"#27ae60"},children:j(N.amount)},M)),e.jsx("td",{style:{color:h.weekTotal<0?"#e74c3c":"#27ae60"},children:j(h.weekTotal)}),e.jsx("td",{style:{color:h.balanceTotal<0?"#e74c3c":"#27ae60"},children:j(h.balanceTotal)}),e.jsx("td",{children:j(h.pendingTotal)})]})})]}),e.jsxs("div",{className:"dead-agents-row",children:[e.jsx("span",{children:e.jsx("strong",{children:"DEAD / AGENTS / MANAGERS"})}),e.jsxs("span",{className:"value",children:[h.deadAccounts," / ",h.agentsManagers]})]})]}),e.jsxs("div",{className:"customer-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"Customer"}),e.jsx("input",{type:"text",placeholder:"Search accounts...",value:c,onChange:N=>d(N.target.value),className:"search-input"})]}),e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"data-table customer-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Phone Number"}),e.jsx("th",{children:"Carry"}),h.days.map((N,M)=>e.jsx("th",{children:N.day},M)),e.jsx("th",{children:"Week"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Pending"})]})}),e.jsx("tbody",{children:A.map((N,M)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:N.username})}),e.jsx("td",{children:N.name}),e.jsx("td",{children:N.phoneNumber}),e.jsx("td",{style:{color:N.carry<0?"#e74c3c":"#27ae60"},children:j(N.carry)}),N.daily.map((R,S)=>e.jsx("td",{children:j(R)},S)),e.jsx("td",{children:j(N.week)}),e.jsx("td",{style:{color:N.balance<0?"#e74c3c":"#27ae60"},children:j(N.balance)}),e.jsx("td",{children:j(N.pending)})]},M))})]})})]})]})]})]})}function Wv(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(null);u.useEffect(()=>{(async()=>{const j=localStorage.getItem("token");if(!j){p("Please login to view pending items."),d(!1);return}try{d(!0);const A=await Hy(j);r(A||[]),p("")}catch(A){console.error("Failed to load pending items:",A),p(A.message||"Failed to load pending items")}finally{d(!1)}})()},[]);const x=async f=>{const j=localStorage.getItem("token");if(!j){p("Please login to approve items.");return}try{w(f),await qy(f,j),r(A=>A.filter(N=>N.id!==f))}catch(A){p(A.message||"Failed to approve item")}finally{w(null)}},g=async f=>{const j=localStorage.getItem("token");if(!j){p("Please login to decline items.");return}try{w(f),await Gy(f,j),r(A=>A.filter(N=>N.id!==f))}catch(A){p(A.message||"Failed to decline item")}finally{w(null)}},v=f=>{if(f==null)return"";const j=Number(f);return Number.isNaN(j)?"":`$${j.toFixed(2)}`};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Pending Items"}),e.jsxs("p",{className:"count",children:[l.length," pending items"]})]}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading pending items..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(f=>e.jsxs("tr",{children:[e.jsx("td",{children:f.type}),e.jsx("td",{children:v(f.amount)}),e.jsx("td",{children:f.user}),e.jsx("td",{children:new Date(f.date).toLocaleDateString()}),e.jsx("td",{children:e.jsx("span",{className:"badge pending",children:f.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small btn-approve",onClick:()=>x(f.id),disabled:b===f.id,children:b===f.id?"Working...":"Approve"}),e.jsx("button",{className:"btn-small btn-decline",onClick:()=>g(f.id),disabled:b===f.id,children:b===f.id?"Working...":"Decline"})]})]},f.id))})]})})]})]})}function Yv(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(null);u.useEffect(()=>{(async()=>{const j=localStorage.getItem("token")||sessionStorage.getItem("token");if(!j){p("Please login to view messages."),d(!1);return}try{d(!0);const A=await Wy(j);r(A||[]),p("")}catch(A){console.error("Failed to fetch messages:",A),p(A.message||"Failed to load messages")}finally{d(!1)}})()},[]);const x=async f=>{const j=localStorage.getItem("token")||sessionStorage.getItem("token");if(!j){p("Please login to reply.");return}const A=window.prompt("Enter your reply:");if(A)try{w(f),await Vy(f,A,j),r(N=>N.map(M=>M._id===f?{...M,read:!0,replies:[...M.replies||[],{message:A,createdAt:new Date}]}:M))}catch(N){p(N.message||"Failed to send reply")}finally{w(null)}},g=async f=>{const j=localStorage.getItem("token")||sessionStorage.getItem("token");if(!j){p("Please login to delete messages.");return}try{w(f),await Qy(f,j),r(A=>A.filter(N=>N._id!==f))}catch(A){p(A.message||"Failed to delete message")}finally{w(null)}},v=async f=>{const j=localStorage.getItem("token")||sessionStorage.getItem("token");if(j)try{await Yy(f,j),r(A=>A.map(N=>N._id===f?{...N,read:!0}:N))}catch(A){console.error("Failed to mark read:",A)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Messaging Center"}),e.jsxs("p",{className:"count",children:["Unread: ",l.filter(f=>!f.read).length]})]}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading messages..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsx("div",{className:"messaging-container",children:e.jsx("div",{className:"message-list",children:l.map(f=>e.jsxs("div",{className:`message-item ${f.read?"":"unread"}`,onClick:()=>v(f._id),children:[e.jsxs("div",{className:"message-header",children:[e.jsx("h4",{children:f.fromName}),e.jsx("span",{className:"date",children:new Date(f.createdAt).toLocaleString()})]}),e.jsx("p",{className:"subject",children:f.subject}),e.jsx("p",{className:"subject",style:{opacity:.8},children:f.body}),e.jsxs("div",{className:"message-actions",children:[e.jsx("button",{className:"btn-small",onClick:j=>{j.stopPropagation(),x(f._id)},disabled:b===f._id,children:b===f._id?"Working...":"Reply"}),e.jsx("button",{className:"btn-small",onClick:j=>{j.stopPropagation(),g(f._id)},disabled:b===f._id,children:b===f._id?"Working...":"Delete"})]})]},f._id))})})]})]})}function Vv(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(!1),[x,g]=u.useState(!1),[v,f]=u.useState(!1),[j,A]=u.useState(null),[N,M]=u.useState({homeTeam:"",awayTeam:"",sport:"",startTime:"",status:"scheduled"}),R=V=>{if(V==null)return"";const B=Number(V);return Number.isNaN(B)?"":`$${B.toFixed(2)}`},S=async()=>{const V=localStorage.getItem("token")||sessionStorage.getItem("token");if(!V){p("Please login to manage games."),d(!1);return}try{d(!0);const B=await dl(V);r(B||[]),p("")}catch(B){console.error("Failed to load games:",B),p(B.message||"Failed to load games")}finally{d(!1)}};u.useEffect(()=>{S()},[]);const z=()=>{M({homeTeam:"",awayTeam:"",sport:"",startTime:"",status:"scheduled"}),w(!0)},L=V=>{A(V),M({homeTeam:V.homeTeam,awayTeam:V.awayTeam,sport:V.sport,startTime:new Date(V.startTime).toISOString().slice(0,16),status:V.status}),g(!0)},E=V=>{A(V),f(!0)},y=V=>{const{name:B,value:ce}=V.target;M(F=>({...F,[B]:ce}))},k=async V=>{V.preventDefault();const B=localStorage.getItem("token")||sessionStorage.getItem("token");if(!B){p("Please login to add games.");return}try{const ce={...N,startTime:new Date(N.startTime).toISOString()},F=await jp(ce,B);r(C=>[...C,{id:F._id||F.id,homeTeam:F.homeTeam,awayTeam:F.awayTeam,sport:F.sport,startTime:F.startTime,status:F.status,activeBets:0,revenue:0}]),w(!1)}catch(ce){p(ce.message||"Failed to create match")}},$=async V=>{V.preventDefault();const B=localStorage.getItem("token")||sessionStorage.getItem("token");if(!B){p("Please login to update games.");return}try{const ce={...N,startTime:new Date(N.startTime).toISOString()},F=await vp(j.id||j._id,ce,B);r(C=>C.map(P=>(P.id||P._id)===(j.id||j._id)?{...P,homeTeam:F.homeTeam,awayTeam:F.awayTeam,sport:F.sport,startTime:F.startTime,status:F.status}:P)),g(!1)}catch(ce){p(ce.message||"Failed to update match")}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Game Administration"}),e.jsx("button",{className:"btn-primary",onClick:z,children:"Add New Game"})]}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading games..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Match"}),e.jsx("th",{children:"Sport"}),e.jsx("th",{children:"Start Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Active Bets"}),e.jsx("th",{children:"Revenue"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(V=>e.jsxs("tr",{children:[e.jsxs("td",{children:[V.homeTeam," vs ",V.awayTeam]}),e.jsx("td",{children:V.sport}),e.jsx("td",{children:new Date(V.startTime).toLocaleString()}),e.jsx("td",{children:e.jsx("span",{className:`badge ${V.status}`,children:V.status})}),e.jsx("td",{children:V.activeBets}),e.jsx("td",{children:R(V.revenue)}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>L(V),children:"Edit"}),e.jsx("button",{className:"btn-small",onClick:()=>E(V),children:"View"})]})]},V.id||V._id))})]})})]}),b&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),children:[e.jsx("h3",{children:"Add New Game"}),e.jsxs("form",{onSubmit:k,className:"admin-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Home Team"}),e.jsx("input",{name:"homeTeam",value:N.homeTeam,onChange:y,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Away Team"}),e.jsx("input",{name:"awayTeam",value:N.awayTeam,onChange:y,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sport"}),e.jsx("input",{name:"sport",value:N.sport,onChange:y,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Time"}),e.jsx("input",{type:"datetime-local",name:"startTime",value:N.startTime,onChange:y,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{name:"status",value:N.status,onChange:y,children:[e.jsx("option",{value:"scheduled",children:"scheduled"}),e.jsx("option",{value:"live",children:"live"}),e.jsx("option",{value:"finished",children:"finished"}),e.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Create"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Cancel"})]})]})]})}),x&&j&&e.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:e.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),children:[e.jsx("h3",{children:"Edit Game"}),e.jsxs("form",{onSubmit:$,className:"admin-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Home Team"}),e.jsx("input",{name:"homeTeam",value:N.homeTeam,onChange:y,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Away Team"}),e.jsx("input",{name:"awayTeam",value:N.awayTeam,onChange:y,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sport"}),e.jsx("input",{name:"sport",value:N.sport,onChange:y,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Time"}),e.jsx("input",{type:"datetime-local",name:"startTime",value:N.startTime,onChange:y,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{name:"status",value:N.status,onChange:y,children:[e.jsx("option",{value:"scheduled",children:"scheduled"}),e.jsx("option",{value:"live",children:"live"}),e.jsx("option",{value:"finished",children:"finished"}),e.jsx("option",{value:"cancelled",children:"cancelled"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>g(!1),children:"Cancel"})]})]})]})}),v&&j&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content",onClick:V=>V.stopPropagation(),children:[e.jsx("h3",{children:"Game Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Match:"})," ",j.homeTeam," vs ",j.awayTeam]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sport:"})," ",j.sport]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Start Time:"})," ",new Date(j.startTime).toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",j.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Active Bets:"})," ",j.activeBets]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Revenue:"})," ",R(j.revenue)]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>f(!1),children:"Close"})})]})})]})}function Qv({onViewChange:l}){const[r,c]=u.useState([]),[d,h]=u.useState([]),[p,b]=u.useState(!0),[w,x]=u.useState(""),[g,v]=u.useState(null),[f,j]=u.useState(!1),[A,N]=u.useState({username:"",phoneNumber:"",password:"",firstName:"",lastName:"",fullName:"",agentId:"",referredByUserId:"",balance:"",minBet:"25",maxBet:"200",creditLimit:"1000",balanceOwed:"200",defaultMinBet:"25",defaultMaxBet:"200",defaultCreditLimit:"1000",defaultSettleLimit:"200",agentPrefix:"",parentAgentId:""}),[M,R]=u.useState("player"),[S,z]=u.useState("admin"),[L,E]=u.useState(!1),[y,k]=u.useState(!1),[$,V]=u.useState(null),[B,ce]=u.useState({phoneNumber:"",firstName:"",lastName:"",fullName:"",password:"",minBet:"25",maxBet:"200",creditLimit:"1000",balanceOwed:"0",apps:{venmo:"",cashapp:"",applePay:"",zelle:"",paypal:"",btc:"",other:""}}),[F,C]=u.useState(!1),[P,D]=u.useState({customerId:null,username:"",currentBalance:0,nextBalance:""}),[ae,H]=u.useState(""),[G,ie]=u.useState(""),[ye,K]=u.useState(!1),[_,Q]=u.useState({}),[se,Z]=u.useState(null),[J,I]=u.useState(null),[q,ue]=u.useState({}),[me,ve]=u.useState(""),[we,Ce]=u.useState(!1),[Le,Re]=u.useState(""),[at,Je]=u.useState(""),[mt,vt]=u.useState(!1),[_e,ft]=u.useState({open:!1,type:"",customerId:null,username:"",value:""}),[qt,Ut]=u.useState(""),[ea,At]=u.useState("");u.useEffect(()=>{(async()=>{try{b(!0);const te=localStorage.getItem("token")||sessionStorage.getItem("token");if(!te){c([]),x("Please login to load users.");return}const Y=await en(te);if(z(Y?.role||"admin"),Ut(Y?.username||""),At(Y?.id||Y?._id||""),E(!!Y?.viewOnly),(Y?.role||"admin")==="agent"){const re=await dd(te);c(re||[])}else{const re=await il(te);c(re||[]);const je=await hi(te);h(je||[])}if(x(""),Y?.username)try{const{nextUsername:re}=await Ga(Y.username,te,{type:"player"});N(je=>({...je,username:re}))}catch(re){console.error("Failed to prefetch next username:",re)}}catch(te){console.error("Error fetching users:",te),x("Failed to load users: "+te.message)}finally{b(!1)}})()},[]);const ul=async()=>{try{j(!0);const O=localStorage.getItem("token")||sessionStorage.getItem("token");if(!O){x("Please login to create users.");return}if(!String(A.username||"").trim()||!String(A.firstName||"").trim()||!String(A.lastName||"").trim()||!String(A.phoneNumber||"").trim()||!String(A.password||"").trim()){x("Username, first name, last name, phone number, and password are required.");return}if(M==="player"&&(String(A.minBet??"").trim()===""||String(A.maxBet??"").trim()===""||String(A.creditLimit??"").trim()===""||String(A.balanceOwed??"").trim()==="")){x("Min bet, max bet, credit limit, and settle limit are required for players.");return}const Y={...A};Y.balance===""&&delete Y.balance,Y.referredByUserId||delete Y.referredByUserId,(M==="agent"||M==="super_agent")&&Y.agentId&&(Y.parentAgentId=Y.agentId),M==="player"?S==="agent"||S==="super_agent"||S==="master_agent"?await wj(Y,O):await Sp(Y,O):M==="agent"?S==="admin"?await Ir({...Y,role:"agent"},O):await hd({...Y,role:"agent"},O):M==="super_agent"&&(S==="admin"?await Ir({...Y,role:"master_agent"},O):await hd({...Y,role:"master_agent"},O)),alert(`${M==="player"?"Player":M==="agent"?"Agent":"Master Agent"} initialized successfully!`);const re=M;if(N({username:"",phoneNumber:"",password:"",firstName:"",lastName:"",fullName:"",agentId:"",referredByUserId:"",balance:"",minBet:"",maxBet:"",creditLimit:"",balanceOwed:"",defaultMinBet:"",defaultMaxBet:"",defaultCreditLimit:"",defaultSettleLimit:"",agentPrefix:"",parentAgentId:""}),R(re),Je(""),vt(!1),x(""),S==="agent"){const Ne=await dd(O);c(Ne||[])}else{const Ne=await il(O);c(Ne||[])}}catch(O){console.error("Create user failed:",O),x(O.message||"Failed to create user")}finally{j(!1)}},Ya=async O=>{const te=O.toUpperCase().replace(/[^A-Z0-9]/g,"");if(N(Y=>({...Y,agentPrefix:te})),te.length>=2){const Y=localStorage.getItem("token")||sessionStorage.getItem("token"),re=M==="super_agent"?"MA":"";try{const{nextUsername:je}=await Ga(te,Y,{suffix:re,type:"agent"});N(Ne=>({...Ne,username:je}))}catch(je){console.error("Failed to get next username from prefix:",je)}}else N(Y=>({...Y,username:""}))},Va=async O=>{const te=localStorage.getItem("token")||sessionStorage.getItem("token");if(!te)return;N(je=>({...je,agentId:O,referredByUserId:""}));const Y=M==="player"?"player":"agent",re=M==="super_agent"?"MA":"";if(O){const je=d.find(Ne=>(Ne.id||Ne._id)===O);if(je){Je(je.username||"");try{const{nextUsername:Ne}=await Ga(je.username,te,{suffix:re,type:Y});N(De=>({...De,username:Ne}))}catch(Ne){console.error("Failed to get next username:",Ne)}}}else if(Je(""),qt)try{const{nextUsername:je}=await Ga(qt,te,{suffix:re,type:Y});N(Ne=>({...Ne,username:je}))}catch(je){console.error("Failed to fetch username for admin:",je),N(Ne=>({...Ne,username:""}))}else N(je=>({...je,username:""}))},pt=async O=>{R(O);const te=localStorage.getItem("token");if(te)if(O==="super_agent"||O==="agent"){const Y=O==="super_agent"?"MA":"";let re=A.agentPrefix;const je="agent";if(re)try{const{nextUsername:Ne}=await Ga(re,te,{suffix:Y,type:je});N(De=>({...De,username:Ne,agentPrefix:re}))}catch(Ne){console.error("Failed to re-fetch username on type change",Ne)}else N(Ne=>({...Ne,username:""}))}else Va(""),N(Y=>({...Y,referredByUserId:""}))},Ns=(O,te,Y)=>{if(O&&te&&Y){const re=Y.slice(-4),je=O.slice(0,3).toUpperCase(),Ne=te.slice(0,3).toUpperCase(),De=`${je}${Ne}${re}`.toUpperCase();N(nt=>({...nt,password:De}))}},Ba=O=>{const te=O.toUpperCase();N(Y=>{const re={...Y,firstName:te};return Ns(te,re.lastName,re.phoneNumber),re})},ws=O=>{const te=O.toUpperCase();N(Y=>{const re={...Y,lastName:te};return Ns(re.firstName,te,re.phoneNumber),re})},hl=O=>{const te=O.replace(/\D/g,"");let Y=te;te.length>0&&(te.length<=3?Y=te:te.length<=6?Y=`${te.slice(0,3)}-${te.slice(3)}`:Y=`${te.slice(0,3)}-${te.slice(3,6)}-${te.slice(6,10)}`),N(re=>{const je={...re,phoneNumber:Y};return Ns(je.firstName,je.lastName,Y),je})},Dt=O=>{if(O==null||O==="")return"";const te=Number(O);return Number.isNaN(te)?"":`$${te.toFixed(2)}`},Tt=!L&&!f&&!!String(A.username||"").trim()&&!!String(A.firstName||"").trim()&&!!String(A.lastName||"").trim()&&!!String(A.phoneNumber||"").trim()&&!!String(A.password||"").trim()&&(M!=="player"||String(A.minBet??"").trim()!==""&&String(A.maxBet??"").trim()!==""&&String(A.creditLimit??"").trim()!==""&&String(A.balanceOwed??"").trim()!==""),da=O=>{D({customerId:O.id||O._id,username:O.username,currentBalance:O.balance??0,nextBalance:`${O.balance??0}`}),C(!0),x("")},Nt=async O=>{O.preventDefault();const{customerId:te,nextBalance:Y}=P,re=Number(Y);if(Number.isNaN(re)||re<0){x("Balance must be a non-negative number.");return}try{const je=localStorage.getItem("token")||sessionStorage.getItem("token");if(!je){x("Please login to update balance.");return}v(te),S==="agent"?await kf(te,re,je):await oi(te,{balance:re},je),c(Ne=>Ne.map(De=>(De.id||De._id)===te?{...De,balance:re,availableBalance:Math.max(0,re-Number(De.pendingBalance||0))}:De)),C(!1),x("")}catch(je){console.error("Balance update failed:",je),x(je.message||"Failed to update balance")}finally{v(null)}},tn=O=>{const te=O.id||O._id,Y={sports:O.settings?.sports??!0,casino:O.settings?.casino??!0,racebook:O.settings?.racebook??!0};return _[te]||Y},Ss=(O,te)=>{const Y=O.id||O._id,re=tn(O);Q(je=>({...je,[Y]:{...re,[te]:!re[te]}}))},ks=async O=>{const te=O.id||O._id,Y=_[te];if(Y)try{const re=localStorage.getItem("token")||sessionStorage.getItem("token");if(!re)return;v(te);const je={settings:{...O.settings||{},sports:!!Y.sports,casino:!!Y.casino,racebook:!!Y.racebook}};S==="agent"?await wa(te,je,re):await bs(te,je,re),c(Ne=>Ne.map(De=>(De.id||De._id)===te?{...De,settings:je.settings}:De)),Q(Ne=>{const De={...Ne};return delete De[te],De}),x("")}catch(re){console.error("Addon save failed:",re),x(re.message||"Failed to save add-ons")}finally{v(null)}},Qa=async O=>{const te=O.id||O._id,Y=window.prompt(`Enter new password for ${O.username}:`,"");if(Y!==null){if(Y.length<6){alert("Password must be at least 6 characters long");return}try{const re=localStorage.getItem("token")||sessionStorage.getItem("token");if(!re){x("Please login to reset password.");return}v(te),await Ur(te,Y,re),alert(`Password for ${O.username} has been reset successfully.`),x("")}catch(re){console.error("Password reset failed:",re),x(re.message||"Failed to reset password")}finally{v(null)}}},Ra=O=>{V(O),ce({phoneNumber:"",firstName:"",lastName:"",fullName:"",password:"",minBet:"",maxBet:"",creditLimit:"",balanceOwed:"",apps:{venmo:"",cashapp:"",applePay:"",zelle:"",paypal:"",btc:"",other:""}}),k(!0)},Xa=async O=>{O.preventDefault();const te=$.id||$._id;try{const Y=localStorage.getItem("token")||sessionStorage.getItem("token"),re={};B.phoneNumber.trim()&&(re.phoneNumber=B.phoneNumber.trim()),B.firstName.trim()&&(re.firstName=B.firstName.trim()),B.lastName.trim()&&(re.lastName=B.lastName.trim()),B.fullName.trim()&&(re.fullName=B.fullName.trim()),B.password.trim()&&(re.password=B.password.trim()),B.minBet!==""&&(re.minBet=Number(B.minBet)),B.maxBet!==""&&(re.maxBet=Number(B.maxBet)),B.creditLimit!==""&&(re.creditLimit=Number(B.creditLimit)),B.balanceOwed!==""&&(re.balanceOwed=Number(B.balanceOwed));const je=Object.entries(B.apps||{}).filter(([,Ne])=>(Ne||"").trim()!=="");if(je.length>0&&(re.apps=Object.fromEntries(je.map(([Ne,De])=>[Ne,De.trim()]))),Object.keys(re).length===0){x("Enter at least one value before saving.");return}S==="agent"?await wa(te,re,Y):await bs(te,re,Y),c(Ne=>Ne.map(De=>(De.id||De._id)===te?{...De,...re}:De)),k(!1),x("")}catch(Y){console.error("Update customer failed:",Y),x(Y.message||"Failed to update customer")}},Lt=u.useMemo(()=>d.filter(O=>S==="admin"||S==="super_agent"||S==="master_agent"),[d,S]),xt=O=>{if(!O)return"";if(typeof O=="string")return O;if(typeof O=="object"){if(typeof O._id=="string")return O._id;if(typeof O.id=="string")return O.id;if(typeof O.$oid=="string")return O.$oid}return""},Sa=u.useMemo(()=>Lt.filter(O=>at.trim()?(O.username||"").toLowerCase().includes(at.trim().toLowerCase()):!0),[Lt,at]),an=u.useMemo(()=>Lt.filter(O=>me.trim()?(O.username||"").toLowerCase().includes(me.trim().toLowerCase()):!0),[Lt,me]),ka=u.useMemo(()=>r.filter(O=>O.role==="user"),[r]),ua=Lt.find(O=>xt(O.id||O._id)===xt(Le)),Ft=!!ua&&(ua.role==="master_agent"||ua.role==="super_agent"),It=xt(Le),Oa=u.useMemo(()=>!Ft||!It?[]:Lt.filter(O=>{if((O.role||"").toLowerCase()!=="agent")return!1;const te=xt(O.createdBy),Y=xt(O.parentAgentId),re=It;return te===re||Y===re}),[Ft,Lt,It]),Ca=u.useMemo(()=>{if(!Le)return ka;if(!Ft)return ka.filter(re=>xt(re.agentId)===It);const O=new Set(Oa.map(re=>xt(re.id||re._id)).filter(Boolean)),te=ka.filter(re=>O.has(xt(re.agentId))),Y=ka.filter(re=>xt(re.agentId)===It);return[...te,...Y]},[Le,Ft,ka,Oa,It]),Cs=u.useMemo(()=>{if(!Ft)return Ca.map(Y=>({type:"player",player:Y}));const O=[];Oa.forEach(Y=>{const re=xt(Y.id||Y._id),je=Ca.filter(Ne=>xt(Ne.agentId)===re);O.push({type:"group",label:Y.username}),je.forEach(Ne=>O.push({type:"player",player:Ne}))});const te=Ca.filter(Y=>xt(Y.agentId)===It);return te.length>0&&(O.push({type:"group",label:`${ua.username} (Direct)`}),te.forEach(Y=>O.push({type:"player",player:Y}))),O},[Ft,Ca,Oa,It,ua]),Aa=Ca,Ua=O=>{H(O),ie(""),K(!0)},Te=()=>{switch(ae){case"creditLimit":return"Credit Limit";case"wagerLimit":return"Wager Limit";case"settleFigure":return"Settle Figure";case"status":return"Status";default:return""}},Za=O=>{const te=(O||"").toString().toLowerCase();return te==="active"?"Active":te==="read_only"||te==="readonly"?"Read Only":"Disabled"},$t=async O=>{O.preventDefault();const te=localStorage.getItem("token")||sessionStorage.getItem("token");if(!te){x("Please login to update players.");return}if(Aa.length===0){x("No players available for bulk update.");return}let Y=null;if(ae==="status")Y={status:G||"active"};else{const re=Number(G);if(Number.isNaN(re)||re<0){x("Please enter a valid non-negative number.");return}ae==="creditLimit"&&(Y={creditLimit:re}),ae==="wagerLimit"&&(Y={wagerLimit:re,maxBet:re}),ae==="settleFigure"&&(Y={balanceOwed:re})}try{v("bulk-update"),await Promise.all(Aa.map(re=>{const je=re.id||re._id;return S==="agent"?wa(je,Y,te):bs(je,Y,te)})),c(re=>re.map(je=>je.role!=="user"?je:{...je,...Y})),K(!1),x("")}catch(re){console.error("Bulk update failed:",re),x(re.message||"Failed to update players")}finally{v(null)}},ut=(()=>{const O=r.filter(te=>te.role==="user");return M!=="player"&&M!=="agent"&&M!=="super_agent"?[]:S==="agent"?O:A.agentId?O.filter(te=>String(te.agentId?._id||te.agentId||"")===String(A.agentId)):S==="master_agent"||S==="super_agent"?O.filter(te=>String(te.agentId?._id||te.agentId||"")===String(ea)):O})(),ht=O=>{l&&l("user-details",O.id||O._id)},lt=async O=>{const te=O.role==="agent"||O.role==="master_agent",Y=te?"Agent":"Player";if(window.confirm(`Are you sure you want to PERMANENTLY DELETE ${Y} "${O.username}"?

This action cannot be undone.`))try{const re=localStorage.getItem("token")||sessionStorage.getItem("token");if(!re){x("Please login to delete.");return}v(O.id||O._id),te?await Lp(O.id||O._id,re):await Tp(O.id||O._id,re),c(je=>je.filter(Ne=>(Ne.id||Ne._id)!==(O.id||O._id))),te&&h(je=>je.filter(Ne=>(Ne.id||Ne._id)!==(O.id||O._id))),alert(`${Y} "${O.username}" deleted successfully.`),x("")}catch(re){console.error("Delete failed:",re),alert(`Failed to delete: ${re.message}`)}finally{v(null)}},Ea=O=>{const te=O.id||O._id;return q[te]||{firstName:O.firstName||"",lastName:O.lastName||"",password:"",creditLimit:String(O.creditLimit??0),wagerLimit:String(O.wagerLimit??O.maxBet??0),settleFigure:String(O.balanceOwed??0),status:(O.status||"active").toLowerCase(),sports:O.settings?.sports??!0,casino:O.settings?.casino??!0,racebook:O.settings?.racebook??!0}},sn=O=>{const te=O.id||O._id;Z(Y=>Y===te?null:te),I(Y=>Y===te?null:Y)},Sn=O=>{const te=O.id||O._id;Z(te),I(te),ue(Y=>({...Y,[te]:Ea(O)}))},ha=(O,te,Y)=>{const re=O.id||O._id,je=Ea(O);ue(Ne=>({...Ne,[re]:{...je,...Ne[re]||{},[te]:Y}}))},Ja=async O=>{const te=O.id||O._id,Y=Ea(O),re=localStorage.getItem("token")||sessionStorage.getItem("token");if(!re)return;const je={firstName:Y.firstName.trim(),lastName:Y.lastName.trim(),fullName:`${Y.firstName.trim()} ${Y.lastName.trim()}`.trim(),creditLimit:Number(Y.creditLimit||0),wagerLimit:Number(Y.wagerLimit||0),maxBet:Number(Y.wagerLimit||0),balanceOwed:Number(Y.settleFigure||0),status:Y.status,settings:{...O.settings||{},sports:!!Y.sports,casino:!!Y.casino,racebook:!!Y.racebook}};try{v(te),S==="agent"?await wa(te,je,re):await bs(te,je,re),(Y.password||"").trim()!==""&&(S==="admin"?await Ur(te,Y.password.trim(),re):await wa(te,{password:Y.password.trim()},re)),c(Ne=>Ne.map(De=>(De.id||De._id)===te?{...De,...je,rawPassword:(Y.password||"").trim()?Y.password.trim():De.rawPassword||""}:De)),I(null),ue(Ne=>{const De={...Ne};return delete De[te],De}),x("")}catch(Ne){console.error("Inline save failed:",Ne),x(Ne.message||"Failed to save user details")}finally{v(null)}},za=(O,te)=>{const Y=O.id||O._id;let re="";te==="name"&&(re=`${O.firstName||""} ${O.lastName||""}`.trim()),te==="password"&&(re=O.rawPassword||""),te==="balance"&&(re=String(O.balance??0)),ft({open:!0,type:te,customerId:Y,username:O.username,value:re})},Fa=async O=>{O.preventDefault();const te=localStorage.getItem("token")||sessionStorage.getItem("token");if(!(!te||!_e.customerId))try{if(v(_e.customerId),_e.type==="name"){const Y=_e.value.trim().split(/\s+/).filter(Boolean),re=Y[0]||"",je=Y.slice(1).join(" "),Ne={firstName:re,lastName:je,fullName:_e.value.trim()};S==="agent"?await wa(_e.customerId,Ne,te):await bs(_e.customerId,Ne,te),c(De=>De.map(nt=>(nt.id||nt._id)===_e.customerId?{...nt,...Ne}:nt))}if(_e.type==="password"){const Y=_e.value.trim();if(Y.length<6){x("Password must be at least 6 characters.");return}S==="admin"?await Ur(_e.customerId,Y,te):await wa(_e.customerId,{password:Y},te),c(re=>re.map(je=>(je.id||je._id)===_e.customerId?{...je,rawPassword:Y}:je))}if(_e.type==="balance"){const Y=Number(_e.value);if(Number.isNaN(Y)){x("Balance must be numeric.");return}S==="agent"?await kf(_e.customerId,Y,te):await oi(_e.customerId,{balance:Y},te),c(re=>re.map(je=>(je.id||je._id)===_e.customerId?{...je,balance:Y}:je))}ft({open:!1,type:"",customerId:null,username:"",value:""}),x("")}catch(Y){console.error("Quick edit failed:",Y),x(Y.message||"Failed to update value")}finally{v(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsxs("div",{className:"header-icon-title",children:[e.jsx("div",{className:"glow-accent"}),e.jsx("h2",{children:"Administration Console"})]}),e.jsxs("div",{className:"agent-search-picker header-agent-picker",onFocus:()=>Ce(!0),onBlur:()=>setTimeout(()=>Ce(!1),120),tabIndex:0,children:[e.jsxs("div",{className:"agent-search-head",children:[e.jsx("span",{className:"agent-search-label",children:"Agents"}),e.jsx("input",{type:"text",value:me,onChange:O=>{ve(O.target.value),Ce(!0)},placeholder:"Search agent..."})]}),we&&e.jsxs("div",{className:"agent-search-list",children:[e.jsx("button",{type:"button",className:`agent-search-item ${Le?"":"selected"}`,onClick:()=>{Re(""),ve(""),Ce(!1)},children:e.jsx("span",{children:"All Agents"})}),an.map(O=>{const te=O.id||O._id,Y=O.role==="master_agent"||O.role==="super_agent";return e.jsxs("button",{type:"button",className:`agent-search-item ${String(Le||"")===String(te)?"selected":""}`,onClick:()=>{Re(te),ve(O.username||""),Ce(!1)},children:[e.jsx("span",{children:O.username}),e.jsx("span",{className:`agent-type-badge ${Y?"master":"agent"}`,children:Y?"M":"A"})]},te)}),an.length===0&&e.jsx("div",{className:"agent-search-empty",children:"No matching agents"})]})]})]}),e.jsxs("div",{className:"view-content",children:[p&&e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("span",{children:"Loading Entries..."})]}),w&&e.jsx("div",{className:"error-state",children:w}),!p&&!w&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"20px",alignItems:"end"},children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type"}),e.jsx("div",{className:"s-wrapper",children:e.jsxs("select",{value:M,onChange:O=>pt(O.target.value),children:[e.jsx("option",{value:"player",children:"Player"}),(S==="admin"||S==="super_agent"||S==="master_agent")&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"agent",children:"Agent"}),e.jsx("option",{value:"super_agent",children:"Master Agent"})]})]})})]}),(M==="agent"||M==="super_agent")&&(S!=="super_agent"&&S!=="master_agent"||M==="super_agent")&&e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",value:A.agentPrefix,onChange:O=>Ya(O.target.value),placeholder:"Enter prefix",maxLength:5})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Username"}),e.jsx("input",{type:"text",value:A.username,placeholder:"Auto-generated",readOnly:!0,className:"readonly-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",value:A.firstName,onChange:O=>Ba(O.target.value),placeholder:"Enter first name"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",value:A.lastName,onChange:O=>ws(O.target.value),placeholder:"Enter last name"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:A.phoneNumber,onChange:O=>hl(O.target.value),placeholder:"User contact"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"text",value:A.password.toUpperCase(),onChange:O=>N(te=>({...te,password:O.target.value.toUpperCase()})),placeholder:"Set password"})]}),(M==="player"||M==="agent"||M==="super_agent")&&(S==="admin"||S==="super_agent"||S==="master_agent")&&e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:M==="player"?"Assign to Agent":"Assign to Master Agent"}),e.jsxs("div",{className:"agent-search-picker",onFocus:()=>vt(!0),onBlur:()=>setTimeout(()=>vt(!1),120),tabIndex:0,children:[e.jsxs("div",{className:"agent-search-head",children:[e.jsx("span",{className:"agent-search-label",children:"Agents"}),e.jsx("input",{type:"text",value:at,onChange:O=>{Je(O.target.value),vt(!0)},placeholder:"Search agent..."})]}),mt&&e.jsxs("div",{className:"agent-search-list",children:[e.jsx("button",{type:"button",className:`agent-search-item ${A.agentId?"":"selected"}`,onClick:()=>{Va(""),vt(!1)},children:e.jsx("span",{children:M==="player"?"Direct (Under Me)":"Direct (Created By Me)"})}),Sa.map(O=>{const te=O.id||O._id,Y=O.role==="master_agent"||O.role==="super_agent";return(M==="agent"||M==="super_agent")&&!Y?null:e.jsxs("button",{type:"button",className:`agent-search-item ${String(A.agentId||"")===String(te)?"selected":""}`,onClick:()=>{Va(te),vt(!1)},children:[e.jsx("span",{children:O.username}),e.jsx("span",{className:`agent-type-badge ${Y?"master":"agent"}`,children:Y?"M":"A"})]},te)}),Sa.length===0&&e.jsx("div",{className:"agent-search-empty",children:"No matching agents"})]})]})]}),(M==="player"||M==="agent"||M==="super_agent")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Referred By Player"}),e.jsx("div",{className:"s-wrapper",children:e.jsxs("select",{value:A.referredByUserId,onChange:O=>N(te=>({...te,referredByUserId:O.target.value})),children:[e.jsx("option",{value:"",children:"No referral"}),ut.map(O=>e.jsxs("option",{value:O.id||O._id,children:[(O.username||"").toUpperCase(),O.fullName?` - ${O.fullName}`:""]},O.id||O._id))]})})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Min bet:"}),e.jsx("input",{type:"number",value:A.minBet,onChange:O=>N(te=>({...te,minBet:O.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Max bet:"}),e.jsx("input",{type:"number",value:A.maxBet,onChange:O=>N(te=>({...te,maxBet:O.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Credit limit:"}),e.jsx("input",{type:"number",value:A.creditLimit,onChange:O=>N(te=>({...te,creditLimit:O.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Settle limit:"}),e.jsx("input",{type:"number",value:A.balanceOwed,onChange:O=>N(te=>({...te,balanceOwed:O.target.value}))})]})]}),(M==="agent"||M==="super_agent")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Min bet: (Standard)"}),e.jsx("input",{type:"number",value:A.defaultMinBet,onChange:O=>N(te=>({...te,defaultMinBet:O.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Max bet: (Standard)"}),e.jsx("input",{type:"number",value:A.defaultMaxBet,onChange:O=>N(te=>({...te,defaultMaxBet:O.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Credit limit: (Standard)"}),e.jsx("input",{type:"number",value:A.defaultCreditLimit,onChange:O=>N(te=>({...te,defaultCreditLimit:O.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Settle limit: (Standard)"}),e.jsx("input",{type:"number",value:A.defaultSettleLimit,onChange:O=>N(te=>({...te,defaultSettleLimit:O.target.value}))})]})]}),e.jsxs("div",{className:"filter-group",style:{display:"flex",gap:"10px"},children:[e.jsx("button",{className:"btn-primary",style:{flex:1},onClick:ul,disabled:!Tt,children:f?"Deploying...":`Create ${M==="player"?"Player":M==="agent"?"Agent":"Master Agent"}`}),e.jsx("button",{type:"button",className:"btn-secondary",style:{backgroundColor:"#17a2b8",color:"white",flex:.5},onClick:()=>{const O=A.password||"N/A";let te="";M==="player"?te=`Heres your account info. PLEASE READ ALL RULES THOROUGHLY.

Login: ${A.username}
Password: ${O}
Min bet: $${A.minBet||25}
Max bet: $${A.maxBet||200}
Credit: $${A.creditLimit||1e3}


PAYOUTS
PAY-INS are Tuesday and PAY-OUTS are Tuesday/Wednesday by end of day. Week starts Tuesday and ends Monday night. Settle ups are +/-$200 so anything under $200 will push to the following week. You must bet $500 of your own money to collect your FIRST payout. If your account is inactive for 2 weeks youll be required to settle your balance even if its under $200. Max weekly payouts are 2-3x your credit limit depending on size. Balance will still be paid out but will roll to the following week.

All we ask for is communication when it comes to payouts so we can get everyone paid quickly and as smoothly as possible. If you cant pay right away let us know and we can set up a payment schedule. We accept Venmo, Cashapp and Apple Pay. You are REQUIRED to have multiple apps to send or receive payment on. PLEASE DO NOT SEND MONEY without asking where to send first and DO NOT LABEL anything to do with sports or gambling. We will let you know Tuesday where to send. 

We kick back 20% freeplay of all losses if you pay ON TIME and in FULL and 30% if you pay in CASH. If you are a hassle to collect from and dont respond or dont pay on time or in full then you will be shown the same reciprocation when it comes to payouts. 

REFFERALS
$200 freeplay bonuses for any ACTIVE  and TRUSTWORTHY referrals. YOU are responsible for your referrals debt if they DO NOT PAY and vise versa. In order for you to get your free play bonus your refferal must go through one settle up of $200.

RULES
NO BOTS OR SHARP PLAY. We have IT monitoring to make sure there is no cheating. If we find out you are using a VPN and there are multiple people using your IP address or someone is logging into the same account, or you are using a system to place bets for you, you will be automatically kicked off and we reserve the right to not pay. No excuses. Weve heard them all so dont waste your time. 

FREEPLAY
I start all NEW players off with $200 in freeplay. In order to collect your winnings you have to place $500 of bets with your own money. (This is to prevent everyone who abuses the free play to win free money and leave). When you place a bet you have to click Use your freeplay balance $ (If you dont youre using your own money). Since we are very generous with freeplay unfortunately it is limited to straight bets only and no parlays. I offer 20% free play to anyone above settle to roll your balance to limit transactions. If you chose to roll for free play you must be actively betting with your own money or your free play will not count. 

I need active players so if you could do me a solid and place a bet today even if its with freeplay. Good luck! Lmk that youve read all the rules and or if you have any questions and need me to adjust anything!
`:te=`Welcome to the team! Heres your ${M==="agent"?"Agent":"Master Agent"} administrative account info.

Login: ${A.username}
Password: ${O}

Standard Min bet: $${A.defaultMinBet||25}
Standard Max bet: $${A.defaultMaxBet||200}
Standard Credit: $${A.defaultCreditLimit||1e3}

Please ensure you manage your sectors responsibly and maintain clear communication with your assigned accounts. Good luck!
`,navigator.clipboard.writeText(te).then(()=>alert("Copied to clipboard!"))},children:"Copy Info"})]})]}),e.jsx("div",{className:"table-container",children:e.jsx("div",{className:"scroll-wrapper",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Password"}),e.jsx("th",{children:"Name"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>Ua("creditLimit"),children:"Credit Limit"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>Ua("wagerLimit"),children:"Wager Limit"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>Ua("settleFigure"),children:"Settle Figure"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{className:"clickable-col-head",onClick:()=>Ua("status"),children:"Status"}),e.jsx("th",{children:"Sportsbook"}),e.jsx("th",{children:"Casino"}),e.jsx("th",{children:"Horses"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:Cs.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"empty-msg",children:"No records found."})}):Cs.map((O,te)=>{if(O.type==="group")return e.jsx("tr",{className:"agent-group-row",children:e.jsx("td",{colSpan:12,children:O.label})},`group-${O.label}-${te}`);const Y=O.player,re=Y.id||Y._id,je=tn(Y),Ne=!!_[re],De=se===re,nt=J===re,Gt=Ea(Y);return e.jsxs(ys.Fragment,{children:[e.jsxs("tr",{className:`customer-row role-${Y.role}`,children:[e.jsxs("td",{className:"user-cell",children:[e.jsx("button",{className:"user-link-btn",onClick:()=>ht(Y),children:e.jsx("span",{children:Y.username.toUpperCase()})}),Y.role==="user"&&e.jsx("button",{className:"row-expand-btn",type:"button",onClick:()=>sn(Y),children:De?"":""})]}),e.jsx("td",{className:"pass-cell",children:Y.rawPassword||""}),e.jsx("td",{children:Y.role==="user"?`${Y.firstName||""} ${Y.lastName||""}`.trim()||"":Y.fullName||""}),e.jsx("td",{className:"highlight-cell",children:Number(Y.creditLimit||1e3).toLocaleString()}),e.jsx("td",{children:Number(Y.wagerLimit??Y.maxBet??0).toLocaleString()}),e.jsx("td",{className:"highlight-cell",children:Number(Y.balanceOwed||0).toLocaleString()}),e.jsx("td",{className:`balance-cell ${Number(Y.balance)<0?"neg":"pos"}`,children:Dt(Y.balance)}),e.jsx("td",{children:Za(Y.status)}),e.jsx("td",{children:Y.role==="user"?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!je.sports,onChange:()=>Ss(Y,"sports")}),e.jsx("span",{className:"slider-mini"})]}):""}),e.jsx("td",{children:Y.role==="user"?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!je.casino,onChange:()=>Ss(Y,"casino")}),e.jsx("span",{className:"slider-mini"})]}):""}),e.jsx("td",{children:Y.role==="user"?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!je.racebook,onChange:()=>Ss(Y,"racebook")}),e.jsx("span",{className:"slider-mini"})]}):""}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons-cell",style:{display:"flex",gap:"8px"},children:[Y.role==="user"?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:`btn-secondary ${Ne?"btn-save-dirty":"btn-save-clean"}`,type:"button",onClick:()=>ks(Y),disabled:!Ne||g===re,children:"Save"}),e.jsx("button",{className:"btn-secondary",type:"button",onClick:()=>nt?Ja(Y):Sn(Y),disabled:g===re,children:nt?"SAVE":"EDIT"})]}):e.jsx("button",{className:"btn-icon",title:"Edit Customer",onClick:()=>Ra(Y),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),S==="admin"&&e.jsx("button",{className:"btn-icon delete-btn",title:"Delete Customer",onClick:()=>lt(Y),style:{color:"#ff4d4d"},children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]}),Y.role==="user"&&De&&e.jsx("tr",{className:"expanded-detail-row",children:e.jsx("td",{colSpan:12,children:e.jsxs("div",{className:`expanded-detail-grid ${nt?"is-editing":""}`,children:[e.jsxs("div",{className:"detail-card",children:[e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Password"}),e.jsxs("span",{children:[Y.rawPassword||""," ",e.jsx("button",{type:"button",className:"link-edit-btn",onClick:()=>za(Y,"password"),children:"change"})]})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Name"}),e.jsxs("span",{children:[`${Y.firstName||""} ${Y.lastName||""}`.trim()||""," ",e.jsx("button",{type:"button",className:"link-edit-btn",onClick:()=>za(Y,"name"),children:"change"})]})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Credit Limit"}),e.jsx("span",{children:nt?e.jsx("input",{type:"number",value:Gt.creditLimit,onChange:ma=>ha(Y,"creditLimit",ma.target.value)}):`$${Number(Y.creditLimit||0).toLocaleString()}`})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Wager Limit"}),e.jsx("span",{children:nt?e.jsx("input",{type:"number",value:Gt.wagerLimit,onChange:ma=>ha(Y,"wagerLimit",ma.target.value)}):`$${Number(Y.wagerLimit??Y.maxBet??0).toLocaleString()}`})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Settle Figure"}),e.jsx("span",{children:nt?e.jsx("input",{type:"number",value:Gt.settleFigure,onChange:ma=>ha(Y,"settleFigure",ma.target.value)}):`$${Number(Y.balanceOwed||0).toLocaleString()}`})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Balance"}),e.jsxs("span",{className:Number(Y.balance)<0?"neg":"pos",children:[Dt(Y.balance)," ",e.jsx("button",{type:"button",className:"link-edit-btn",onClick:()=>za(Y,"balance"),children:"change"})]})]})]}),e.jsxs("div",{className:"detail-card",children:[e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Pending"}),e.jsx("span",{children:Dt(Y.pendingBalance||0)})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Available"}),e.jsx("span",{children:Dt(Y.availableBalance??Y.balance??0)})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"FP Balance"}),e.jsx("span",{children:Dt(Y.freeplayBalance||0)})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Parlay Max Wager"}),e.jsx("span",{children:"$0"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Parlay Max Payout"}),e.jsx("span",{children:"$6,000"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Status"}),e.jsx("span",{children:nt?e.jsxs("select",{value:Gt.status,onChange:ma=>ha(Y,"status",ma.target.value),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"read_only",children:"Read Only"})]}):Za(Y.status)})]})]}),e.jsxs("div",{className:"detail-card",children:[e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Max Contest Wager"}),e.jsx("span",{children:"$0"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Max Contest Payout"}),e.jsx("span",{children:"$5,000"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Max Soccer Wager"}),e.jsx("span",{children:"$0"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Sportsbook"}),e.jsx("span",{children:nt?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!Gt.sports,onChange:()=>ha(Y,"sports",!Gt.sports)}),e.jsx("span",{className:"slider-mini"})]}):Y.settings?.sports??!0?"On":"Off"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Casino"}),e.jsx("span",{children:nt?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!Gt.casino,onChange:()=>ha(Y,"casino",!Gt.casino)}),e.jsx("span",{className:"slider-mini"})]}):Y.settings?.casino??!0?"On":"Off"})]}),e.jsxs("div",{className:"detail-line",children:[e.jsx("span",{children:"Horses"}),e.jsx("span",{children:nt?e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:!!Gt.racebook,onChange:()=>ha(Y,"racebook",!Gt.racebook)}),e.jsx("span",{className:"slider-mini"})]}):Y.settings?.racebook??!0?"On":"Off"})]})]})]})})})]},re)})})]})})}),y&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("h3",{children:["Edit ",$?.role==="user"?"Player":$?.role==="agent"?"Agent":"Master Agent",": ",$?.username]}),e.jsxs("form",{onSubmit:Xa,children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",value:B.firstName,onChange:O=>ce({...B,firstName:O.target.value}),placeholder:$?.firstName||"First name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",value:B.lastName,onChange:O=>ce({...B,lastName:O.target.value}),placeholder:$?.lastName||"Last name"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:B.phoneNumber,onChange:O=>ce({...B,phoneNumber:O.target.value}),placeholder:$?.phoneNumber||"Phone number"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Min bet:"}),e.jsx("input",{type:"number",value:B.minBet,onChange:O=>ce({...B,minBet:O.target.value}),placeholder:`${$?.minBet??25}`})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Max bet:"}),e.jsx("input",{type:"number",value:B.maxBet,onChange:O=>ce({...B,maxBet:O.target.value}),placeholder:`${$?.maxBet??200}`})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Credit limit:"}),e.jsx("input",{type:"number",value:B.creditLimit,onChange:O=>ce({...B,creditLimit:O.target.value}),placeholder:`${$?.creditLimit??1e3}`})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Settle Limit:"}),e.jsx("input",{type:"number",value:B.balanceOwed,onChange:O=>ce({...B,balanceOwed:O.target.value}),placeholder:`${$?.balanceOwed??0}`})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"New Password (leave blank to keep)"}),e.jsx("input",{type:"password",value:B.password,onChange:O=>ce({...B,password:O.target.value})})]}),e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn-icon",title:"View Details",onClick:()=>ht($),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"btn-icon",title:"Detailed View (Edit)",onClick:()=>Ra($),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),e.jsx("button",{className:"btn-icon",title:"Adjust Balance / Settle",onClick:()=>da($),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),e.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})}),e.jsx("button",{className:"btn-icon",title:"Reset Password",onClick:()=>Qa($),children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),e.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),S==="admin"&&e.jsx("button",{className:"btn-icon delete-btn",title:"Delete Customer",onClick:()=>lt($),style:{color:"#ff4d4d"},children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"3 6 5 6 21 6"}),e.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]}),e.jsxs("div",{className:"payment-apps-section",children:[e.jsx("h4",{className:"section-title",style:{color:"#0d3b5c",marginBottom:"15px"},children:"Payment Apps"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Venmo"}),e.jsx("input",{type:"text",value:B.apps.venmo,onChange:O=>ce({...B,apps:{...B.apps,venmo:O.target.value}}),placeholder:"@username"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cashapp"}),e.jsx("input",{type:"text",value:B.apps.cashapp,onChange:O=>ce({...B,apps:{...B.apps,cashapp:O.target.value}}),placeholder:"$cashtag"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Apple Pay"}),e.jsx("input",{type:"text",value:B.apps.applePay,onChange:O=>ce({...B,apps:{...B.apps,applePay:O.target.value}}),placeholder:"Phone/Email"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Zelle"}),e.jsx("input",{type:"text",value:B.apps.zelle,onChange:O=>ce({...B,apps:{...B.apps,zelle:O.target.value}}),placeholder:"Phone/Email"})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>k(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-secondary",style:{marginLeft:"auto",backgroundColor:"#17a2b8",color:"white"},onClick:()=>{const O=$.rawPassword||B.password||"N/A",te=`Heres your account info. PLEASE READ ALL RULES THOROUGHLY.

Login: ${B.username||$.username}
Password: ${O}
Min bet: $${B.minBet}
Max bet: $${B.maxBet}
Credit: $${B.creditLimit}


PAYOUTS
PAY-INS are Tuesday and PAY-OUTS are Tuesday/Wednesday by end of day. Week starts Tuesday and ends Monday night. Settle ups are +/-$200 so anything under $200 will push to the following week. You must bet $500 of your own money to collect your FIRST payout. If your account is inactive for 2 weeks youll be required to settle your balance even if its under $200. Max weekly payouts are 2-3x your credit limit depending on size. Balance will still be paid out but will roll to the following week.

All we ask for is communication when it comes to payouts so we can get everyone paid quickly and as smoothly as possible. If you cant pay right away let us know and we can set up a payment schedule. We accept Venmo, Cashapp and Apple Pay. You are REQUIRED to have multiple apps to send or receive payment on. PLEASE DO NOT SEND MONEY without asking where to send first and DO NOT LABEL anything to do with sports or gambling. We will let you know Tuesday where to send. 

We kick back 20% freeplay of all losses if you pay ON TIME and in FULL and 30% if you pay in CASH. If you are a hassle to collect from and dont respond or dont pay on time or in full then you will be shown the same reciprocation when it comes to payouts. 

REFFERALS
$200 freeplay bonuses for any ACTIVE  and TRUSTWORTHY referrals. YOU are responsible for your referrals debt if they DO NOT PAY and vise versa. In order for you to get your free play bonus your refferal must go through one settle up of $200.

RULES
NO BOTS OR SHARP PLAY. We have IT monitoring to make sure there is no cheating. If we find out you are using a VPN and there are multiple people using your IP address or someone is logging into the same account, or you are using a system to place bets for you, you will be automatically kicked off and we reserve the right to not pay. No excuses. Weve heard them all so dont waste your time. 

FREEPLAY
I start all NEW players off with $200 in freeplay. In order to collect your winnings you have to place $500 of bets with your own money. (This is to prevent everyone who abuses the free play to win free money and leave). When you place a bet you have to click Use your freeplay balance $ (If you dont youre using your own money). Since we are very generous with freeplay unfortunately it is limited to straight bets only and no parlays. I offer 20% free play to anyone above settle to roll your balance to limit transactions. If you chose to roll for free play you must be actively betting with your own money or your free play will not count. 

I need active players so if you could do me a solid and place a bet today even if its with freeplay. Good luck! Lmk that youve read all the rules and or if you have any questions and need me to adjust anything!
`;navigator.clipboard.writeText(te).then(()=>alert("Copied to clipboard!"))},children:"Copy Info"})]})]})]})}),ye&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content bulk-edit-modal",children:[e.jsxs("h3",{children:["Edit ",Te()]}),e.jsxs("form",{onSubmit:$t,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:Te()}),ae==="status"?e.jsxs("select",{value:G,onChange:O=>ie(O.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"read_only",children:"Read Only"})]}):e.jsx("input",{type:"number",step:"1",min:"0",value:G,onChange:O=>ie(O.target.value),placeholder:"Enter amount",required:!0})]}),e.jsx("p",{className:"bulk-edit-hint",children:"This updates all players shown in the current list."}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:g==="bulk-update",children:g==="bulk-update"?"Saving...":"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>K(!1),children:"Cancel"})]})]})]})}),_e.open&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content bulk-edit-modal",children:[e.jsxs("h3",{children:["Edit ",_e.type==="name"?"Name":_e.type==="password"?"Password":"Balance",": ",_e.username]}),e.jsxs("form",{onSubmit:Fa,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:_e.type==="name"?"Name":_e.type==="password"?"Password":"Balance"}),e.jsx("input",{type:_e.type==="balance"?"number":"text",value:_e.value,onChange:O=>ft(te=>({...te,value:O.target.value})),autoFocus:!0,required:!0})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:g===_e.customerId,children:g===_e.customerId?"Saving...":"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>ft({open:!1,type:"",customerId:null,username:"",value:""}),children:"Cancel"})]})]})]})}),F&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-glass-content",children:[e.jsxs("h3",{children:["Adjust Balance: ",P.username]}),e.jsxs("form",{onSubmit:Nt,children:[e.jsxs("div",{className:"premium-field-info",children:[e.jsx("label",{children:"Current Net Balance"}),e.jsx("div",{className:`large-val ${P.currentBalance<0?"neg":"pos"}`,children:Dt(P.currentBalance)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"New Net Balance"}),e.jsxs("div",{className:"input-with-symbol",children:[e.jsx("span",{className:"sym",children:"$"}),e.jsx("input",{type:"number",step:"0.01",value:P.nextBalance,onChange:O=>D({...P,nextBalance:O.target.value}),autoFocus:!0,required:!0})]}),e.jsx("small",{className:"field-hint",children:"Setting a new net balance will adjust the credit/owed amount accordingly."})]}),e.jsxs("div",{className:"modal-premium-actions",children:[e.jsx("button",{type:"submit",className:"btn-save-premium",disabled:g!==null,children:g!==null?"Updating...":"Confirm Adjustment"}),e.jsx("button",{type:"button",className:"btn-cancel-premium",onClick:()=>C(!1),children:"Cancel"})]})]})]})}),e.jsx("style",{children:`
        .premium-admin-theme { 
          background: #0f172a; 
          min-height: 100vh; color: #f8fafc; 
          font-family: 'Inter', sans-serif;
          padding: 24px;
        }
        .view-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px; border: none; padding: 0; }
        .header-icon-title { display: flex; align-items: center; gap: 16px; }
        .glow-accent { width: 8px; height: 32px; background: #3b82f6; border-radius: 4px; box-shadow: 0 0 15px #3b82f6; }
        .view-header h2 { font-size: 28px; font-weight: 800; margin: 0; color: #0f172a; }
        
        .btn-create-premium {
          background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
          color: white; border: none; padding: 12px 24px; border-radius: 12px;
          font-weight: 700; display: flex; align-items: center; gap: 10px;
          cursor: pointer; box-shadow: 0 10px 20px rgba(37,99,235,0.2);
          transition: all 0.2s;
        }
        .btn-create-premium:hover { transform: translateY(-2px); box-shadow: 0 15px 30px rgba(37,99,235,0.3); }

        .premium-toolbar {
          background: rgba(30, 41, 59, 0.5); border: 1px solid rgba(255,255,255,0.1);
          border-radius: 20px; padding: 24px; display: flex; flex-direction: column; gap: 20px;
          margin-bottom: 32px; backdrop-filter: blur(10px);
        }
        .toolbar-section { display: flex; gap: 20px; flex-wrap: wrap; align-items: flex-end; }
        .t-group { display: flex; flex-direction: column; gap: 8px; flex: 1; min-width: 150px; }
        .t-group.small { flex: 0 1 100px; min-width: 80px; }
        .t-group label { font-size: 11px; text-transform: uppercase; font-weight: 800; color: #64748b; letter-spacing: 0.5px; }
        .t-group input, .t-group select {
          background: #0f172a; border: 1px solid rgba(255,255,255,0.1); color: white;
          padding: 10px 14px; border-radius: 8px; font-size: 14px; outline: none; transition: all 0.2s;
        }
        .t-group input:focus { border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59,130,246,0.1); }
        .readonly-input { background: rgba(0,0,0,0.2) !important; color: #64748b !important; }

        .btn-submit-premium {
          background: #f8fafc; color: #0f172a; border: none; padding: 12px 24px;
          border-radius: 10px; font-weight: 700; cursor: pointer; transition: all 0.2s;
        }
        .btn-submit-premium:hover { background: #fff; transform: scale(1.02); }

        .agent-search-picker {
          position: relative;
          border: 1px solid #cbd5e1;
          border-radius: 8px;
          background: #f8fafc;
        }
        .header-agent-picker {
          min-width: 320px;
          max-width: 420px;
        }
        .agent-search-head {
          display: grid;
          grid-template-columns: auto 1fr;
          align-items: center;
        }
        .agent-search-label {
          padding: 8px 10px;
          border-right: 1px solid #cbd5e1;
          color: #334155;
          font-size: 13px;
          font-weight: 600;
          white-space: nowrap;
        }
        .agent-search-head input {
          border: none !important;
          background: transparent !important;
          padding: 8px 10px !important;
          outline: none;
        }
        .agent-search-list {
          position: absolute;
          z-index: 30;
          left: 0;
          right: 0;
          top: calc(100% + 4px);
          max-height: 220px;
          overflow-y: auto;
          border: 1px solid #cbd5e1;
          border-radius: 8px;
          background: #ffffff;
          box-shadow: 0 12px 22px rgba(15, 23, 42, 0.15);
        }
        .agent-search-item {
          width: 100%;
          border: none;
          background: #fff;
          padding: 8px 10px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          cursor: pointer;
          font-size: 13px;
          color: #1e293b;
          border-bottom: 1px solid #e2e8f0;
        }
        .agent-search-item:hover,
        .agent-search-item.selected {
          background: #e2f2ff;
        }
        .agent-type-badge {
          font-weight: 800;
          font-size: 13px;
          line-height: 1;
        }
        .agent-type-badge.master { color: #0f8a0f; }
        .agent-type-badge.agent { color: #dc2626; }
        .agent-search-empty {
          padding: 10px;
          color: #64748b;
          font-size: 12px;
        }

        .table-glass-container {
          background: rgba(30, 41, 59, 0.3); border: 1px solid rgba(255,255,255,0.05);
          border-radius: 24px; padding: 20px;
        }
        .table-actions { margin-bottom: 20px; display: flex; justify-content: space-between; }
        .clickable-col-head { cursor: pointer; text-decoration: underline; text-decoration-style: dotted; }
        .clickable-col-head:hover { color: #3b82f6; }

        .scroll-wrapper { overflow-x: auto; }
        .row-expand-btn {
          border: none;
          background: transparent;
          color: #475569;
          font-size: 20px;
          line-height: 1;
          cursor: pointer;
          margin-left: 8px;
        }
        .user-cell {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 6px;
        }
        .expanded-detail-row td {
          background: #f0f6b3;
          padding: 12px 16px;
        }
        .expanded-detail-grid {
          display: grid;
          grid-template-columns: repeat(3, minmax(0, 1fr));
          gap: 12px;
        }
        .detail-card {
          background: #f8fafc;
          border: 1px solid #cbd5e1;
          border-radius: 6px;
        }
        .detail-line {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 10px;
          padding: 12px 14px;
          border-bottom: 1px solid #e2e8f0;
          font-size: 15px;
          color: #1e293b;
        }
        .detail-line:last-child {
          border-bottom: none;
        }
        .detail-line input,
        .detail-line select {
          width: 140px;
          border: 1px solid #94a3b8;
          border-radius: 4px;
          padding: 4px 8px;
          font-size: 14px;
          color: #0f172a;
          background: #fff;
        }
        .link-edit-btn {
          border: none;
          background: transparent;
          color: #2563eb;
          text-decoration: underline;
          cursor: pointer;
          margin-left: 8px;
          font-size: 12px;
          text-transform: uppercase;
        }
        .premium-table { width: 100%; border-collapse: separate; border-spacing: 0 8px; }
        .premium-table th { text-align: left; padding: 12px 16px; font-size: 11px; text-transform: uppercase; color: #64748b; font-weight: 800; }
        .customer-row { background: rgba(255,255,255,0.02); transition: all 0.2s; }
        .customer-row:hover { background: rgba(255,255,255,0.05); transform: translateY(-1px); }
        .customer-row td { padding: 16px; border-top: 1px solid rgba(255,255,255,0.02); border-bottom: 1px solid rgba(255,255,255,0.02); }
        .customer-row td:first-child { border-left: 1px solid rgba(255,255,255,0.02); border-radius: 12px 0 0 12px; }
        .customer-row td:last-child { border-right: 1px solid rgba(255,255,255,0.02); border-radius: 0 12px 12px 0; }
        .agent-group-row td {
          background: #073b53;
          color: #e8f5ff;
          font-weight: 700;
          letter-spacing: 0.3px;
          padding: 9px 12px;
        }

        .user-link-btn {
          background: none; border: none; display: flex; align-items: center; gap: 12px;
          color: #3b82f6; font-weight: 700; cursor: pointer; padding: 0;
        }
        .btn-save-clean {
          background: #94a3b8 !important;
          color: #fff !important;
          opacity: 0.7;
        }
        .btn-save-dirty {
          background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%) !important;
          color: #fff !important;
          box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.2);
        }
        .btn-save-dirty:hover {
          filter: brightness(1.05);
        }
        .avatar-small {
          width: 32px; height: 32px; background: #334155; color: white;
          border-radius: 50%; display: flex; align-items: center; justify-content: center;
          font-size: 12px; font-weight: 800; border: 2px solid rgba(59,130,246,0.3);
        }
        
        .highlight-cell { color: #10b981; font-weight: 700; }
        .balance-cell button {
          background: none; border: none; font-weight: 800; cursor: pointer;
          color: inherit; text-decoration: underline; text-decoration-style: dotted;
        }
        .balance-cell.pos { color: #10b981; }
        .balance-cell.neg { color: #ef4444; }

        .status-select {
          background: none; border: none; color: white; font-weight: 700;
          text-transform: uppercase; font-size: 10px; cursor: pointer; padding: 4px 8px;
          border-radius: 6px; min-width: 90px;
        }
        .status-select.active { background: rgba(16,185,129,0.1); color: #10b981; }
        .status-select.disabled, .status-select.suspended { background: rgba(239,68,68,0.1); color: #ef4444; }

        .switch-mini {
          position: relative;
          display: inline-block;
          width: 52px;
          height: 28px;
        }
        .switch-mini input { opacity: 0; width: 0; height: 0; }
        .slider-mini {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #94a3b8;
          transition: .2s;
          border-radius: 999px;
        }
        .slider-mini:before {
          position: absolute;
          content: "";
          height: 20px;
          width: 20px;
          left: 4px;
          top: 4px;
          background-color: white;
          transition: .2s;
          border-radius: 50%;
        }
        .switch-mini input:checked + .slider-mini { background-color: #10b981; }
        .switch-mini input:checked + .slider-mini:before { transform: translateX(24px); }

        .bulk-edit-modal { max-width: 560px; }
        .bulk-edit-hint { margin-top: 8px; color: #64748b; font-size: 13px; }

        @media (max-width: 1200px) {
          .expanded-detail-grid { grid-template-columns: 1fr; }
        }

        .capability-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px; }
        .cap-tag {
          border: none; border-radius: 4px; padding: 2px 4px; font-size: 9px;
          font-weight: 800; cursor: pointer; transition: all 0.2s;
        }
        .cap-tag.on { background: #10b981; color: white; }
        .cap-tag.off { background: rgba(255,255,255,0.05); color: #64748b; }

        .loading-state { padding: 40px; text-align: center; display: flex; flex-direction: column; align-items: center; gap: 16px; }
        .spinner { width: 40px; height: 40px; border: 4px solid rgba(59,130,246,0.1); border-top-color: #3b82f6; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* Modal Enhancements */
        .modal-overlay { position: fixed; inset: 0; background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(8px); display: flex; align-items: center; justify-content: center; z-index: 1000; padding: 20px; }
        .modal-glass-content { background: #1e293b; border: 1px solid rgba(255,255,255,0.1); border-radius: 24px; padding: 32px; width: 100%; max-width: 650px; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); }
        .modal-glass-content h3 { margin: 0 0 24px 0; font-size: 20px; font-weight: 800; color: #fff; }
        
        .p-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .p-field { display: flex; flex-direction: column; gap: 8px; margin-bottom: 20px; }
        .p-field label { font-size: 11px; text-transform: uppercase; font-weight: 800; color: #64748b; letter-spacing: 0.5px; }
        .p-field input { background: #0f172a; border: 1px solid rgba(255,255,255,0.1); color: white; padding: 12px 16px; border-radius: 12px; font-size: 14px; outline: none; }
        .p-field input:focus { border-color: #3b82f6; }
        
        .modal-premium-actions { display: flex; gap: 12px; margin-top: 32px; }
        .btn-save-premium { flex: 2; background: #3b82f6; color: white; border: none; padding: 14px; border-radius: 12px; font-weight: 700; cursor: pointer; transition: all 0.2s; }
        .btn-save-premium:hover { background: #2563eb; transform: translateY(-1px); }
        .btn-cancel-premium { flex: 1; background: rgba(255,255,255,0.05); color: #94a3b8; border: none; padding: 14px; border-radius: 12px; font-weight: 700; cursor: pointer; }
        
        .premium-field-info { background: rgba(0,0,0,0.2); border-radius: 16px; padding: 20px; margin-bottom: 24px; text-align: center; }
        .premium-field-info label { display: block; font-size: 11px; text-transform: uppercase; color: #64748b; margin-bottom: 8px; font-weight: 800; }
        .large-val { font-size: 32px; font-weight: 900; }
        .input-with-symbol { position: relative; }
        .input-with-symbol .sym { position: absolute; left: 16px; top: 50%; transform: translateY(-50%); color: #64748b; font-weight: 700; }
        .input-with-symbol input { padding-left: 32px; width: 100%; font-size: 18px; font-weight: 800; }
        .field-hint { font-size: 12px; color: #64748b; margin-top: 4px; }

        /* Role Colors & Badges */
        .role-user { border-left: 3px solid #3b82f6; }
        .role-agent { border-left: 3px solid #10b981; }
        .role-super_agent { border-left: 3px solid #eab308; }

        .avatar-small.role-agent { border-color: #10b981; background: rgba(16,185,129,0.1); }
        .avatar-small.role-super_agent { border-color: #eab308; background: rgba(234,179,8,0.1); }

        .role-badge {
          display: inline-block; padding: 2px 8px; border-radius: 6px;
          font-size: 10px; font-weight: 800; text-transform: uppercase;
          margin-bottom: 4px;
        }
        .role-badge.user { background: rgba(59,130,246,0.1); color: #3b82f6; }
        .role-badge.agent { background: rgba(16,185,129,0.1); color: #10b981; }
        .role-badge.super_agent { background: rgba(234,179,8,0.1); color: #eab308; }

        .hierarchy-info { display: flex; flex-direction: column; gap: 4px; }
        .capability-mini-grid { display: flex; gap: 4px; }
        .cap-dot { width: 6px; height: 6px; border-radius: 50%; background: #10b981; }

      `})]})]})]})}const Xv=[{value:"deposit",label:"Deposit"},{value:"withdrawal",label:"Withdraw"},{value:"credit_adj",label:"Credit Adj"},{value:"debit_adj",label:"Debit Adj"},{value:"fp_deposit",label:"FP Deposit"}],Zv=10,Jv=(l=new Date)=>{const r=new Date(l);if(Number.isNaN(r.getTime()))return"";const c=r.getFullYear(),d=String(r.getMonth()+1).padStart(2,"0"),h=String(r.getDate()).padStart(2,"0");return`${c}-${d}-${h}`},zr={deposit:"Customer Deposit",withdrawal:"Customer Withdrawal",credit_adj:"Customer Credit Adjustment",debit_adj:"Customer Debit Adjustment",fp_deposit:"Customer Freeplay Deposit"},id=(l,r="")=>({id:l,agentId:r,searchQuery:"",selectedUserId:"",type:"deposit",amount:"",figureDate:Jv(),description:zr.deposit,searchOpen:!1,busy:!1,error:""});function Kv(){const[l,r]=u.useState("admin"),[c,d]=u.useState([]),[h,p]=u.useState([]),[b,w]=u.useState("manual"),[x,g]=u.useState(""),[v,f]=u.useState({}),[j,A]=u.useState(()=>Array.from({length:Zv},(q,ue)=>id(`manual-${ue+1}`))),[N,M]=u.useState({}),[R,S]=u.useState({totalDeposits:0,totalWithdrawals:0,pendingCount:0}),[z,L]=u.useState([]),[E,y]=u.useState([]),[k,$]=u.useState(!0),[V,B]=u.useState(!1),[ce,F]=u.useState(""),[C,P]=u.useState(""),D=u.useMemo(()=>{const q=new Map;for(const ue of c){const me=String(ue.id||ue._id||"");me&&q.set(me,ue)}return q},[c]),ae=u.useMemo(()=>{const q=x.trim().toLowerCase();return q?h.filter(ue=>{const me=String(ue.username||"").toLowerCase(),ve=String(ue.phoneNumber||"").toLowerCase();return me.includes(q)||ve.includes(q)}):h},[h,x]),H=async(q,ue)=>{if(ue==="admin")try{const me=await Jy(q);S({totalDeposits:Number(me?.totalDeposits||0),totalWithdrawals:Number(me?.totalWithdrawals||0),pendingCount:Number(me?.pendingCount||0)})}catch{}},G=async(q,ue)=>{if(ue!=="admin"){L(E);return}try{const me=await ll({user:"",type:"all",status:"all",time:"30d",limit:30},q);L(Array.isArray(me?.transactions)?me.transactions:[])}catch{L(E)}},ie=async()=>{const q=localStorage.getItem("token");if(!q){F("Please login to view cashier data."),$(!1);return}try{$(!0),F("");const ue=await en(q),me=String(ue?.role||"admin");r(me);let ve=[];if(me==="admin"?ve=await il(q):ve=await dd(q),d(Array.isArray(ve)?ve:[]),me==="admin"||me==="master_agent"||me==="super_agent")try{const we=await hi(q),Ce=Array.isArray(we)?we:[];p(Ce),f(Le=>{const Re={...Le};for(const at of Ce){const Je=String(at.id||at._id||"");Je&&typeof Re[Je]!="boolean"&&(Re[Je]=!1)}return Re}),M(Le=>{const Re={...Le};for(const at of Ce){const Je=String(at.id||at._id||"");Je&&!Re[Je]&&(Re[Je]=id(Je,Je))}return Re})}catch{p([])}else p([]);await Promise.all([H(q,me),G(q,me)])}catch(ue){F(ue.message||"Failed to load cashier data")}finally{$(!1)}};u.useEffect(()=>{ie()},[]),u.useEffect(()=>{l!=="admin"&&L(E)},[E,l]);const ye=q=>{if(q==null)return"";const ue=Number(q);return Number.isNaN(ue)?"":`$${ue.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`},K=q=>{const ue=String(q.searchQuery||"").trim().toLowerCase();return c.filter(we=>q.agentId?String(we?.agentId?._id||we?.agentId||"")===String(q.agentId):!0).filter(we=>{if(!ue)return!0;const Ce=String(we.username||"").toLowerCase(),Le=String(we.fullName||`${we.firstName||""} ${we.lastName||""}`).toLowerCase(),Re=String(we.phoneNumber||"").toLowerCase();return Ce.includes(ue)||Le.includes(ue)||Re.includes(ue)}).slice(0,12)},_=q=>{const ue=String(q?.reason||"").toUpperCase(),me=String(q?.type||"").toLowerCase();return ue==="FREEPLAY_ADJUSTMENT"?"FP Deposit":ue==="CASHIER_DEPOSIT"||me==="deposit"?"Deposit":ue==="CASHIER_WITHDRAWAL"||me==="withdrawal"?"Withdraw":ue==="CASHIER_CREDIT_ADJUSTMENT"?"Credit Adj":ue==="CASHIER_DEBIT_ADJUSTMENT"?"Debit Adj":"Adjustment"},Q=q=>q==="deposit"||q==="credit_adj",se=(q,ue,me=!1)=>{if(me){M(ve=>{const we=ve[q];return we?{...ve,[q]:ue(we)}:ve});return}A(ve=>ve.map(we=>we.id===q?ue(we):we))},Z=async(q,ue=!1)=>{const me=localStorage.getItem("token");if(!me){F("Please login to continue.");return}const ve=Number(q.amount||0),we=String(q.selectedUserId||""),Ce=D.get(we);if(!Ce){se(q.id,mt=>({...mt,error:"Select a customer first."}),ue);return}if(!Number.isFinite(ve)||ve<=0){se(q.id,mt=>({...mt,error:"Enter a valid amount."}),ue);return}const Le=Number(Ce.balance||0),Re=Number(Ce.freeplayBalance||0),at=(q.description||"").trim()||zr[q.type],Je=q.figureDate?`${at} (Figure Date: ${q.figureDate})`:at;se(q.id,mt=>({...mt,busy:!0,error:""}),ue),B(!0),F(""),P("");try{let mt=Le,vt=Re,_e="CASHIER_CREDIT_ADJUSTMENT",ft="adjustment";q.type==="fp_deposit"?(vt=Re+ve,await kp(we,vt,me,Je)):(mt=Q(q.type)?Le+ve:Math.max(0,Le-ve),q.type==="deposit"?(_e="CASHIER_DEPOSIT",ft="deposit"):q.type==="withdrawal"?(_e="CASHIER_WITHDRAWAL",ft="withdrawal"):q.type==="credit_adj"?(_e="CASHIER_CREDIT_ADJUSTMENT",ft="adjustment"):(_e="CASHIER_DEBIT_ADJUSTMENT",ft="adjustment"),await oi(we,{balance:mt,type:ft,reason:_e,description:Je},me)),d(Ut=>Ut.map(ea=>String(ea.id||ea._id||"")!==we?ea:{...ea,balance:mt,freeplayBalance:vt}));const qt={id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,type:q.type==="deposit"?"deposit":q.type==="withdrawal"?"withdrawal":"adjustment",user:Ce.username,userId:we,amount:ve,date:new Date().toISOString(),status:"completed",reason:q.type==="fp_deposit"?"FREEPLAY_ADJUSTMENT":_e,description:Je};y(Ut=>[qt,...Ut].slice(0,30)),await Promise.all([H(me,l),G(me,l)]),se(q.id,Ut=>({...Ut,amount:"",description:zr[Ut.type],busy:!1,error:""}),ue),P(`Transaction applied for ${Ce.username}.`)}catch(mt){se(q.id,vt=>({...vt,busy:!1,error:mt.message||"Failed to apply transaction."}),ue)}finally{B(!1)}},J=(q,ue,me)=>{const ve=K(q);return e.jsxs("div",{className:"cashier-customer-cell",children:[e.jsx("button",{type:"button",className:"cashier-find-btn",children:"Find"}),e.jsxs("div",{className:"cashier-customer-search",children:[e.jsx("input",{type:"text",placeholder:"Search ...",value:q.searchQuery,onFocus:()=>ue({...q,searchOpen:!0}),onBlur:()=>setTimeout(()=>ue({...q,searchOpen:!1}),120),onChange:we=>ue({...q,searchQuery:we.target.value,searchOpen:!0,selectedUserId:""})}),q.searchOpen&&e.jsx("div",{className:"cashier-search-dropdown",children:ve.length===0?e.jsx("div",{className:"cashier-search-empty",children:"No matching users"}):ve.map(we=>{const Ce=String(we.id||we._id||"");return e.jsxs("button",{type:"button",className:"cashier-search-item",onMouseDown:()=>me(we),children:[e.jsx("span",{children:String(we.username||"").toUpperCase()}),e.jsx("small",{children:we.fullName||`${we.firstName||""} ${we.lastName||""}`})]},Ce)})})]})]})},I=(q,ue=!1)=>{const me=D.get(String(q.selectedUserId||"")),ve=Number(me?.balanceOwed||0),we=Number(me?.balance||0),Ce=Le=>{se(q.id,()=>Le,ue)};return e.jsxs("tr",{children:[e.jsx("td",{children:J(q,Ce,Le=>{const Re=String(Le.id||Le._id||"");Ce({...q,selectedUserId:Re,searchQuery:Le.username||"",searchOpen:!1,error:""})})}),e.jsx("td",{className:"cashier-num",children:me?ye(ve):"--"}),e.jsx("td",{className:"cashier-num",children:me?ye(we):"--"}),e.jsx("td",{children:e.jsx("select",{value:q.type,onChange:Le=>Ce({...q,type:Le.target.value,description:zr[Le.target.value]||q.description}),children:Xv.map(Le=>e.jsx("option",{value:Le.value,children:Le.label},Le.value))})}),e.jsx("td",{children:e.jsxs("div",{className:"cashier-amount-wrap",children:[e.jsx("input",{type:"number",min:"0",step:"0.01",placeholder:"Amount",value:q.amount,onChange:Le=>Ce({...q,amount:Le.target.value})}),e.jsx("button",{type:"button",className:"cashier-zero-btn",onClick:()=>Ce({...q,amount:"0"}),children:"Zero"})]})}),e.jsx("td",{children:e.jsx("input",{type:"date",value:q.figureDate,onChange:Le=>Ce({...q,figureDate:Le.target.value})})}),e.jsx("td",{children:e.jsx("input",{type:"text",placeholder:"Description",value:q.description,onChange:Le=>Ce({...q,description:Le.target.value})})}),e.jsxs("td",{children:[e.jsx("button",{type:"button",className:"cashier-continue-btn",disabled:q.busy||V,onClick:()=>Z(q,ue),children:q.busy?"Saving...":"Continue"}),q.error&&e.jsx("div",{className:"cashier-row-error",children:q.error})]})]},q.id)};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Cashier"})}),e.jsxs("div",{className:"view-content cashier-v2",children:[k&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading cashier data..."}),!k&&e.jsxs(e.Fragment,{children:[ce&&e.jsx("div",{className:"alert error",children:ce}),C&&e.jsx("div",{className:"alert success",children:C}),e.jsxs("div",{className:"cashier-summary",children:[e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total Deposits (Today)"}),e.jsx("p",{className:"amount",children:ye(R.totalDeposits)})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total Withdrawals (Today)"}),e.jsx("p",{className:"amount",children:ye(R.totalWithdrawals)})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Pending Transactions"}),e.jsx("p",{className:"amount",children:Number(R.pendingCount||0)})]})]}),e.jsxs("div",{className:"cashier-top-filters",children:[e.jsxs("div",{className:"cashier-agent-filter",children:[e.jsx("span",{children:"Agents"}),e.jsx("input",{type:"text",placeholder:"Search ...",value:x,onChange:q=>g(q.target.value)})]}),e.jsxs("select",{value:b,onChange:q=>w(q.target.value),children:[e.jsx("option",{value:"manual",children:"Manual Mode"}),e.jsx("option",{value:"agent",children:"Agent Mode"})]})]}),b==="manual"?e.jsx("div",{className:"cashier-grid-wrap",children:e.jsxs("table",{className:"data-table cashier-entry-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Settle"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Transaction"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Figure Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:j.map(q=>I(q,!1))})]})}):e.jsx("div",{className:"cashier-agent-mode",children:ae.length===0?e.jsx("div",{className:"cashier-empty",children:"No agents found."}):ae.map(q=>{const ue=String(q.id||q._id||""),me=N[ue]||id(ue,ue),ve=!!v[ue];return e.jsxs("div",{className:"cashier-agent-card",children:[e.jsxs("button",{type:"button",className:"cashier-agent-head",onClick:()=>f(we=>({...we,[ue]:!we[ue]})),children:[e.jsx("span",{children:ve?"":"+"}),e.jsx("span",{children:String(q.username||"").toUpperCase()})]}),ve&&e.jsx("div",{className:"cashier-agent-body",children:e.jsxs("table",{className:"data-table cashier-entry-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Settle"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Transaction"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Figure Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:I(me,!0)})]})})]},ue)})}),e.jsxs("div",{className:"table-container",children:[e.jsx("h3",{children:"Recent Transactions"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:z.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"empty-msg",children:"No recent transactions."})}):z.map(q=>{const ue=_(q),me=ue==="Deposit"||ue==="Credit Adj"||ue==="FP Deposit";return e.jsxs("tr",{children:[e.jsx("td",{children:ue}),e.jsx("td",{children:q.user||"Unknown"}),e.jsx("td",{className:me?"positive":"negative",children:ye(q.amount)}),e.jsx("td",{children:q.date?new Date(q.date).toLocaleString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${q.status||"completed"}`,children:q.status||"completed"})}),e.jsx("td",{children:q.description||""})]},q.id)})})]})]})]})]})]})}const Ff="admin_add_customer_recent_v2",If={sports:!0,casino:!0,racebook:!0,live:!0,props:!0,liveCasino:!0},$f=()=>new Date().toLocaleString(),e0=()=>{const l="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let r="";for(let c=0;c<4;c+=1)r+=l[Math.floor(Math.random()*l.length)];return r},Pf=l=>{const r=String(l||"").match(/(\d+)/g);return!r||!r.length?"":r[r.length-1]},t0=(l,r)=>{const c=String(l||"").replace(/\D/g,"");if(c.length<7)return"";const d=Number(c);return Number.isNaN(d)?"":String(d+Number(r||0)).padStart(c.length,"0")};function a0({onBack:l}){const[r,c]=u.useState(""),[d,h]=u.useState(!0),[p,b]=u.useState(!1),[w,x]=u.useState(!0),[g,v]=u.useState(""),[f,j]=u.useState(""),[A,N]=u.useState([]),[M,R]=u.useState(null),[S,z]=u.useState([]),[L,E]=u.useState({count:1,agentId:"",prefix:"",startingAccount:"",startPhone:"",firstName:"PLAYER",lastName:"USER",manualPasswordBase:"",randomPasswordEnabled:!0,minBet:"",maxBet:"",creditLimit:"1000",balanceOwed:"0",freeplayBalance:"200",settings:{...If}}),[y,k]=u.useState({fullName:"",phoneNumber:"",password:"",prefix:"",username:"",parentMasterId:"",inheritFromId:"",defaultMinBet:"25",defaultMaxBet:"200",defaultCreditLimit:"1000",defaultSettleLimit:"0",settings:{...If}}),$=u.useMemo(()=>A.filter(I=>(I.role||"").toLowerCase()==="agent"),[A]),V=u.useMemo(()=>A.filter(I=>["master_agent","super_agent"].includes((I.role||"").toLowerCase())),[A]);u.useEffect(()=>{(async()=>{try{const q=localStorage.getItem("token");if(!q)return;const[ue,me]=await Promise.all([hi(q),en(q)]),ve=Array.isArray(ue)?ue:[];N(ve),R(me||null);const we=localStorage.getItem(Ff);if(we){const Ce=JSON.parse(we);Array.isArray(Ce)&&z(Ce)}}catch(q){v(q.message||"Failed to load add customer context.")}finally{x(!1)}})()},[]);const B=I=>{z(I),localStorage.setItem(Ff,JSON.stringify(I))},ce=I=>{const q=[...I,...S].slice(0,100);B(q)},F=()=>{v(""),j("")},C=async I=>{if(F(),c(I),h(!1),I==="player"&&!L.startingAccount){const ue=($.find(me=>(me.id||me._id)===L.agentId)?.username||M?.username||"").toUpperCase();if(ue)try{const me=localStorage.getItem("token"),ve=await Ga(ue,me,{type:"player"}),we=Pf(ve?.nextUsername||"");E(Ce=>({...Ce,prefix:ue,startingAccount:we||Ce.startingAccount}))}catch{E(me=>({...me,prefix:ue}))}}},P=async(I,q)=>{if(F(),I==="agentId"){const me=($.find(ve=>(ve.id||ve._id)===q)?.username||"").toUpperCase();if(E(ve=>({...ve,agentId:q,prefix:me})),me)try{const ve=localStorage.getItem("token"),we=await Ga(me,ve,{type:"player"}),Ce=Pf(we?.nextUsername||"");Ce&&E(Le=>({...Le,startingAccount:Ce}))}catch(ve){console.error("Failed to preload next player account:",ve)}return}E(ue=>({...ue,[I]:q}))},D=async(I,q,ue=r)=>{if(F(),I==="inheritFromId"){const me=V.find(ve=>(ve.id||ve._id)===q);if(me){k(ve=>({...ve,inheritFromId:q,defaultMinBet:String(me.defaultMinBet??ve.defaultMinBet),defaultMaxBet:String(me.defaultMaxBet??ve.defaultMaxBet),defaultCreditLimit:String(me.defaultCreditLimit??ve.defaultCreditLimit),defaultSettleLimit:String(me.defaultSettleLimit??ve.defaultSettleLimit)}));return}}if(I==="prefix"){const me=String(q||"").toUpperCase().replace(/[^A-Z0-9]/g,"");if(k(ve=>({...ve,prefix:me,username:""})),me.length>=2)try{const ve=localStorage.getItem("token"),Ce=await Ga(me,ve,ue==="master"?{suffix:"MA",type:"agent"}:{type:"agent"});k(Le=>({...Le,username:Ce?.nextUsername||""}))}catch(ve){console.error("Failed to preload next agent username:",ve)}return}k(me=>({...me,[I]:q}))},ae=I=>{E(q=>({...q,settings:{...q.settings,[I]:!q.settings[I]}}))},H=I=>{k(q=>({...q,settings:{...q.settings,[I]:!q.settings[I]}}))},G=async()=>{const I=localStorage.getItem("token");if(!I)throw new Error("No authentication token found.");const q=Math.max(1,Math.min(20,Number(L.count||1)));if(!L.agentId)throw new Error("Select an agent first.");if(!L.prefix.trim())throw new Error("Prefix is required.");if(!L.startingAccount||Number(L.startingAccount)<=0)throw new Error("Starting account number must be greater than zero.");const ue=$.find(Re=>(Re.id||Re._id)===L.agentId),me=ue?.id||ue?._id||"";if(!me)throw new Error("Invalid agent selection.");const ve=Number(L.startingAccount),we=[];let Ce=0,Le=0;for(let Re=0;Re<q;Re+=1){const at=`${L.prefix.toUpperCase()}${ve+Re}`,mt=t0(L.startPhone,Re)||`${Date.now().toString().slice(-7)}${Re}`,vt=L.randomPasswordEnabled?e0():`${(L.manualPasswordBase||"PASS").toUpperCase()}${ve+Re}`,_e={username:at,phoneNumber:mt,password:vt,firstName:q>1?`${L.firstName}${Re+1}`:L.firstName,lastName:L.lastName,agentId:me,minBet:Number(L.minBet||1),maxBet:Number(L.maxBet||5e3),creditLimit:Number(L.creditLimit||1e3),balanceOwed:Number(L.balanceOwed||0),freeplayBalance:Number(L.freeplayBalance||200),apps:{sportsbook:!!L.settings.sports,casino:!!L.settings.casino,racebook:!!L.settings.racebook,live:!!L.settings.live,props:!!L.settings.props,liveCasino:!!L.settings.liveCasino}};try{const ft=await Sp(_e,I);Ce+=1,we.push({id:`recent_${Date.now()}_${Re}`,type:"Player",username:ft?.user?.username||at,parent:ue?.username||"DIRECT",createdAt:$f(),entityId:ft?.user?.id||"",entityType:"user"})}catch{Le+=1}}if(we.length&&ce(we),Ce===0)throw new Error("No player account was created. Check prefix/phone/username conflicts.");j(`Created ${Ce} player account(s).${Le?` ${Le} failed due to validation/conflict.`:""}`)},ie=async I=>{const q=localStorage.getItem("token");if(!q)throw new Error("No authentication token found.");if(!y.fullName.trim())throw new Error("Agent name is required.");if(!y.phoneNumber.trim())throw new Error("Phone number is required.");if(!y.password.trim())throw new Error("Password is required.");if(!y.prefix.trim())throw new Error("Prefix is required.");if(!y.username.trim())throw new Error("Username is required. Use Prefix first.");const ue={username:y.username.toUpperCase(),phoneNumber:y.phoneNumber,password:y.password,fullName:y.fullName,role:I==="master"?"master_agent":"agent",defaultMinBet:Number(y.defaultMinBet||25),defaultMaxBet:Number(y.defaultMaxBet||200),defaultCreditLimit:Number(y.defaultCreditLimit||1e3),defaultSettleLimit:Number(y.defaultSettleLimit||0)},me=await Ir(ue,q);ce([{id:`recent_${Date.now()}_agent`,type:I==="master"?"Master Agent":"Agent",username:me?.agent?.username||ue.username,parent:I==="master"?M?.username||"ADMIN":V.find(ve=>(ve.id||ve._id)===y.parentMasterId)?.username||M?.username||"ADMIN",createdAt:$f(),entityId:me?.agent?.id||"",entityType:"agent"}]),j(`${I==="master"?"Master agent":"Agent"} created successfully.`)},ye=async()=>{F(),b(!0);try{if(r==="player")await G();else if(r==="agent"||r==="master")await ie(r);else throw new Error("Choose account type first.")}catch(I){v(I.message||"Creation failed.")}finally{b(!1)}},K=async I=>{const q=localStorage.getItem("token");F(),b(!0);try{I.entityId&&q&&(I.entityType==="user"?await Tp(I.entityId,q):I.entityType==="agent"&&await Lp(I.entityId,q));const ue=S.filter(me=>me.id!==I.id);B(ue),j(`${I.username} deleted successfully.`)}catch(ue){v(ue.message||"Delete failed.")}finally{b(!1)}},_=()=>e.jsx("div",{className:"picker-overlay",onClick:()=>h(!1),children:e.jsxs("div",{className:"picker-modal",onClick:I=>I.stopPropagation(),children:[e.jsxs("div",{className:"picker-header",children:[e.jsx("span",{children:"Add Customer"}),e.jsx("button",{type:"button",onClick:()=>h(!1),children:""})]}),e.jsxs("button",{type:"button",className:"picker-option",onClick:()=>C("player"),children:[e.jsx("i",{className:"fa-solid fa-user-plus"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Player"}),e.jsx("p",{children:"Add one or many players under an agent account."})]})]}),e.jsxs("button",{type:"button",className:"picker-option",onClick:()=>C("agent"),children:[e.jsx("i",{className:"fa-solid fa-user-gear"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Agent"}),e.jsx("p",{children:"Create a new agent account. Agents can own player accounts."})]})]}),e.jsxs("button",{type:"button",className:"picker-option",onClick:()=>C("master"),children:[e.jsx("i",{className:"fa-solid fa-user-tie"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Master"}),e.jsx("p",{children:"Create a master agent account that can manage sub-agents."})]})]})]})}),Q=(I,q)=>e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:"Market Capabilities"}),e.jsx("div",{className:"capabilities-premium-grid",children:[{key:"sports",label:"Sportsbook",desc:"Standard sports betting markets"},{key:"casino",label:"LV Casino",desc:"Las Vegas style virtual casino"},{key:"racebook",label:"Racebook",desc:"Global horse and greyhound racing"},{key:"live",label:"Dynamic Live",desc:"Real-time in-game betting"},{key:"props",label:"Prop Plus",desc:"Advanced player and game props"},{key:"liveCasino",label:"Dealer Live",desc:"Live dealer tables and streams"}].map(ue=>e.jsxs("button",{type:"button",className:`cap-card ${I[ue.key]?"active":""}`,onClick:()=>q(ue.key),children:[e.jsxs("div",{className:"cap-meta",children:[e.jsx("span",{className:"cap-label",children:ue.label}),e.jsx("p",{className:"cap-desc",children:ue.desc})]}),e.jsx("div",{className:"cap-toggle-ui",children:e.jsx("div",{className:"toggle-dot"})})]},ue.key))})]}),se=()=>e.jsxs("div",{className:"form-sections",children:[e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:"Player Creation"}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"How many accounts to add?"}),e.jsx("input",{type:"number",min:"1",max:"20",value:L.count,onChange:I=>P("count",I.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Under which agent?"}),e.jsxs("select",{value:L.agentId,onChange:I=>P("agentId",I.target.value),children:[e.jsx("option",{value:"",children:"Select agent"}),$.map(I=>e.jsx("option",{value:I.id||I._id,children:I.username},I.id||I._id))]})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",maxLength:"8",value:L.prefix,onChange:I=>P("prefix",I.target.value.toUpperCase())})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Starting Account #"}),e.jsx("input",{type:"number",min:"1",value:L.startingAccount,onChange:I=>P("startingAccount",I.target.value)})]})]}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Base phone number"}),e.jsx("input",{type:"tel",value:L.startPhone,onChange:I=>P("startPhone",I.target.value),placeholder:"For multiple accounts auto-increment"})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{type:"text",value:L.firstName,onChange:I=>P("firstName",I.target.value.toUpperCase())})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Last Name"}),e.jsx("input",{type:"text",value:L.lastName,onChange:I=>P("lastName",I.target.value.toUpperCase())})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Password Base"}),e.jsx("input",{type:"text",value:L.manualPasswordBase,onChange:I=>P("manualPasswordBase",I.target.value),disabled:L.randomPasswordEnabled,placeholder:"Used when random password is OFF"})]})]}),e.jsx("div",{className:"inline-controls-row",children:e.jsxs("label",{className:"switch-label",children:[e.jsx("span",{children:"Generate random password (ex: A7B3)"}),e.jsxs("label",{className:"switch-mini",children:[e.jsx("input",{type:"checkbox",checked:L.randomPasswordEnabled,onChange:I=>P("randomPasswordEnabled",I.target.checked)}),e.jsx("span",{className:"slider-mini"})]})]})})]}),e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:"Operational Limits"}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Min bet"}),e.jsx("input",{type:"number",value:L.minBet,onChange:I=>P("minBet",I.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Max bet"}),e.jsx("input",{type:"number",value:L.maxBet,onChange:I=>P("maxBet",I.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Credit limit"}),e.jsx("input",{type:"number",value:L.creditLimit,onChange:I=>P("creditLimit",I.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Settle limit"}),e.jsx("input",{type:"number",value:L.balanceOwed,onChange:I=>P("balanceOwed",I.target.value)})]})]})]}),Q(L.settings,ae)]}),Z=()=>e.jsxs("div",{className:"form-sections",children:[e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:r==="master"?"Master Agent Setup":"Agent Setup"}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Agent Name"}),e.jsx("input",{type:"text",value:y.fullName,onChange:I=>D("fullName",I.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:I=>D("phoneNumber",I.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Agent Password"}),e.jsx("input",{type:"text",value:y.password,onChange:I=>D("password",I.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:r==="master"?"Master Prefix":"Agent Prefix"}),e.jsx("input",{type:"text",maxLength:"6",value:y.prefix,onChange:I=>D("prefix",I.target.value,r)})]})]}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Generated Username"}),e.jsx("input",{type:"text",value:y.username,readOnly:!0,className:"readonly-input"})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Under which Master Agent?"}),e.jsxs("select",{value:y.parentMasterId,onChange:I=>D("parentMasterId",I.target.value),children:[e.jsx("option",{value:"",children:"Select master (reference)"}),V.map(I=>e.jsx("option",{value:I.id||I._id,children:I.username},I.id||I._id))]})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Inherit Settings?"}),e.jsxs("select",{value:y.inheritFromId,onChange:I=>D("inheritFromId",I.target.value),children:[e.jsx("option",{value:"",children:"No inheritance"}),V.map(I=>e.jsx("option",{value:I.id||I._id,children:I.username},I.id||I._id))]})]}),e.jsxs("div",{className:"p-field helper-note-block",children:[e.jsx("label",{children:"Behavior"}),e.jsx("p",{children:r==="master"?"Master agents can manage sub-agents but not direct players.":"Agents can manage players. Hierarchy assignment can be adjusted later in Agent Management."})]})]})]}),e.jsxs("div",{className:"f-section",children:[e.jsx("h4",{className:"section-tag",children:"Default Limits"}),e.jsxs("div",{className:"input-row grid-4",children:[e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Default Min Bet"}),e.jsx("input",{type:"number",value:y.defaultMinBet,onChange:I=>D("defaultMinBet",I.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Default Max Bet"}),e.jsx("input",{type:"number",value:y.defaultMaxBet,onChange:I=>D("defaultMaxBet",I.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Default Credit Limit"}),e.jsx("input",{type:"number",value:y.defaultCreditLimit,onChange:I=>D("defaultCreditLimit",I.target.value)})]}),e.jsxs("div",{className:"p-field",children:[e.jsx("label",{children:"Default Settle Limit"}),e.jsx("input",{type:"number",value:y.defaultSettleLimit,onChange:I=>D("defaultSettleLimit",I.target.value)})]})]})]}),Q(y.settings,H)]}),J=r==="player"?"Add Player":r==="agent"?"Add Agent":r==="master"?"Add Master Agent":"Add Customer";return e.jsxs("div",{className:"admin-view premium-admin-theme",children:[e.jsxs("div",{className:"view-header",children:[e.jsxs("button",{className:"btn-back-premium",onClick:()=>l?l():c(""),children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),e.jsx("polyline",{points:"12 19 5 12 12 5"})]}),"Back to Dashboard"]}),e.jsx("div",{className:"header-copy",children:e.jsxs("div",{className:"header-icon-title",children:[e.jsx("div",{className:"glow-accent"}),e.jsx("h2",{children:J})]})}),e.jsx("button",{className:"btn-type-switch",type:"button",onClick:()=>h(!0),children:"Choose Type"})]}),e.jsx("div",{className:"view-content central-card",children:e.jsxs("div",{className:"premium-card glass-effect",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{children:r?"Configuration Panel":"Choose Account Type"}),e.jsx("p",{children:r?"Define functionality, limits, and hierarchy rules before continue.":"Select Player, Agent, or Master to continue."})]}),e.jsx("div",{className:"premium-form",children:w?e.jsx("div",{className:"status-msg",children:"Loading context..."}):e.jsxs(e.Fragment,{children:[!r&&e.jsxs("div",{className:"inline-type-grid",children:[e.jsx("button",{type:"button",onClick:()=>C("player"),children:"Player"}),e.jsx("button",{type:"button",onClick:()=>C("agent"),children:"Agent"}),e.jsx("button",{type:"button",onClick:()=>C("master"),children:"Master"})]}),r==="player"&&se(),(r==="agent"||r==="master")&&Z(),g&&e.jsx("div",{className:"premium-error-msg",children:g}),f&&e.jsx("div",{className:"premium-success-msg",children:f}),r&&e.jsx("div",{className:"form-footer-premium",children:e.jsx("button",{type:"button",className:"btn-deploy-premium",onClick:ye,disabled:p,children:p?"Processing...":"Continue"})}),e.jsxs("div",{className:"recent-section",children:[e.jsx("h4",{children:"Recently Added Customers"}),S.length===0?e.jsx("div",{className:"status-msg",children:"No records yet."}):e.jsx("div",{className:"recent-table-wrap",children:e.jsxs("table",{className:"recent-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Username"}),e.jsx("th",{children:"Parent"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:S.map(I=>e.jsxs("tr",{children:[e.jsx("td",{children:I.type}),e.jsx("td",{children:I.username}),e.jsx("td",{children:I.parent||"-"}),e.jsx("td",{children:I.createdAt}),e.jsx("td",{children:e.jsx("button",{type:"button",className:"btn-delete-mini",disabled:p,onClick:()=>K(I),children:"Delete"})})]},I.id))})]})})]})]})})]})}),d&&_(),e.jsx("style",{children:`
        .premium-admin-theme {
          background: #d3d3d3;
          min-height: 100vh;
          color: #2f343a;
          font-family: 'Segoe UI', Tahoma, sans-serif;
          padding: 16px;
        }
        .view-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 24px; gap: 16px; }
        .btn-back-premium {
          background: #f4f4f4; color: #2f343a; border: 1px solid #b8b8b8;
          padding: 10px 16px; border-radius: 3px; font-weight: 600;
          display: flex; align-items: center; gap: 8px; cursor: pointer; white-space: nowrap;
        }
        .btn-back-premium:hover { background: #ffffff; }
        .header-copy { flex: 1; min-width: 0; }
        .header-icon-title { display: flex; align-items: center; gap: 12px; }
        .glow-accent { width: 6px; height: 28px; background: #0b4f6c; border-radius: 2px; }
        .header-icon-title h2 { margin: 0; font-size: 28px; font-weight: 700; color: #0b4f6c; }
        .btn-type-switch {
          background: #0b4f6c; color: #fff; border: 1px solid #07384d; border-radius: 3px;
          padding: 10px 14px; font-weight: 600; cursor: pointer;
        }
        .btn-type-switch:hover { background: #0a455e; }

        .central-card { display: flex; justify-content: center; }
        .premium-card {
          background: #efefef;
          width: 100%;
          max-width: 100%;
          border-radius: 0;
          border: 1px solid #c6c6c6;
          overflow: hidden;
          box-shadow: none;
        }

        .card-header { padding: 10px 14px; background: #0b4f6c; border-bottom: 1px solid #07384d; }
        .card-header h3 { margin: 0 0 3px; font-size: 17px; font-weight: 700; color: #fff; }
        .card-header p { margin: 0; color: #d5e6ee; font-size: 12px; }

        .premium-form { padding: 14px; }
        .form-sections { display: flex; flex-direction: column; gap: 24px; }
        .f-section { background: #efefef; border: 1px solid #d3d3d3; border-radius: 0; padding: 4px 0 0; }
        .section-tag {
          font-size: 15px;
          text-transform: uppercase;
          font-weight: 600;
          color: #2f343a;
          letter-spacing: 0.5px;
          margin: 0 0 12px;
          border-left: 0;
          padding-left: 0;
        }

        .input-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 14px; }
        .input-row.grid-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }

        .p-field { display: flex; flex-direction: column; gap: 6px; }
        .p-field label {
          font-size: 15px;
          text-transform: none;
          font-weight: 500;
          color: #3f4348;
          letter-spacing: 0;
        }
        .p-field input, .p-field select {
          background: #ffffff;
          border: 1px solid #bfc7cd;
          color: #2f343a;
          padding: 9px 10px;
          border-radius: 2px;
          font-size: 14px;
          outline: none;
          transition: border-color 0.2s ease, box-shadow 0.2s ease;
          height: 42px;
        }
        .p-field input:focus, .p-field select:focus { border-color: #53a6d6; box-shadow: none; }
        .readonly-input { background: #edf1f4 !important; color: #5b6671 !important; }

        .helper-note-block p {
          margin: 0;
          background: #f3f3f3;
          border: 1px solid #d4d7da;
          color: #39424a;
          border-radius: 2px;
          padding: 10px;
          min-height: 44px;
          font-size: 14px;
        }

        .inline-controls-row { margin-top: 8px; }
        .switch-label {
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 14px;
          padding: 10px 12px;
          border-radius: 2px;
          background: #efefef;
          border: 0;
          color: #2f343a;
        }

        .switch-mini {
          position: relative;
          width: 44px;
          height: 24px;
          display: inline-block;
          cursor: pointer;
        }
        .switch-mini input {
          opacity: 0;
          width: 0;
          height: 0;
        }
        .slider-mini {
          position: absolute;
          inset: 0;
          border-radius: 16px;
          background: #9da8b2;
          transition: 0.2s;
        }
        .slider-mini:before {
          content: '';
          position: absolute;
          height: 18px;
          width: 18px;
          left: 3px;
          top: 3px;
          border-radius: 50%;
          background: #fff;
          transition: 0.2s;
        }
        .switch-mini input:checked + .slider-mini {
          background: #0ea44b;
        }
        .switch-mini input:checked + .slider-mini:before {
          transform: translateX(20px);
          background: #fff;
        }

        .capabilities-premium-grid { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 14px; }
        .cap-card {
          border: 1px solid #b8cde2;
          background: #f8fbff;
          color: inherit;
          border-radius: 8px;
          padding: 14px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          gap: 8px;
          text-align: left;
          cursor: pointer;
          transition: border-color 0.2s ease, background-color 0.2s ease;
        }
        .cap-card:hover { border-color: #6aa8d5; background: #f4f9ff; }
        .cap-card.active { border-color: #4298d4; background: #edf6ff; }
        .cap-meta { display: flex; flex-direction: column; gap: 3px; }
        .cap-label { font-size: 16px; font-weight: 700; color: #263746; }
        .cap-desc { margin: 0; font-size: 13px; color: #637687; }
        .cap-toggle-ui { width: 44px; height: 24px; border-radius: 20px; background: #2f80ed; position: relative; flex-shrink: 0; }
        .toggle-dot { width: 18px; height: 18px; border-radius: 999px; background: #fff; position: absolute; top: 3px; left: 23px; }
        .cap-card:not(.active) .cap-toggle-ui { background: #a8b2bc; }
        .cap-card:not(.active) .toggle-dot { left: 3px; background: #fff; }

        .premium-error-msg {
          margin-top: 12px;
          background: #ffe9e9;
          border: 1px solid #efb7b7;
          color: #ab3434;
          padding: 10px;
          border-radius: 2px;
          font-weight: 600;
          font-size: 13px;
        }
        .premium-success-msg {
          margin-top: 12px;
          background: #e8f8ec;
          border: 1px solid #afdec0;
          color: #257747;
          padding: 10px;
          border-radius: 2px;
          font-weight: 600;
          font-size: 13px;
        }

        .form-footer-premium { margin-top: 14px; }
        .btn-deploy-premium {
          width: 100%;
          background: #37b24d;
          border: 1px solid #2f9e44;
          color: #fff;
          font-weight: 600;
          padding: 10px;
          border-radius: 2px;
          cursor: pointer;
          font-size: 14px;
        }
        .btn-deploy-premium:disabled { opacity: 0.65; cursor: not-allowed; }

        .recent-section {
          margin-top: 18px;
          border: 1px solid #cfd4d9;
          border-radius: 2px;
          overflow: hidden;
          background: #fff;
        }
        .recent-section h4 {
          margin: 0;
          padding: 12px;
          font-size: 14px;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          color: #30424f;
          background: #e9eef2;
        }
        .status-msg { padding: 12px; color: #6f7a84; }
        .recent-table-wrap { overflow: auto; }
        .recent-table { width: 100%; border-collapse: collapse; }
        .recent-table thead { background: #f2f5f7; }
        .recent-table th, .recent-table td {
          border-top: 1px solid #dbe1e6;
          padding: 10px;
          font-size: 13px;
          text-align: left;
          white-space: nowrap;
          color: #2f343a;
        }
        .recent-table tbody tr:nth-child(even) { background: #fafcfe; }
        .btn-delete-mini {
          border: 0;
          border-radius: 2px;
          background: #dc2626;
          color: #fff;
          font-size: 12px;
          font-weight: 700;
          padding: 7px 10px;
          cursor: pointer;
        }

        .inline-type-grid {
          display: grid;
          gap: 12px;
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
        .inline-type-grid button {
          border: 1px solid #bfd1df;
          background: #ffffff;
          color: #244153;
          border-radius: 2px;
          padding: 16px;
          font-weight: 600;
          font-size: 15px;
          cursor: pointer;
        }
        .inline-type-grid button:hover { background: #f6fbff; border-color: #8fb5cd; }

        .picker-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0,0,0,0.4);
          display: flex;
          align-items: flex-start;
          justify-content: center;
          z-index: 1200;
          padding-top: 95px;
        }
        .picker-modal {
          width: 100%;
          max-width: 560px;
          background: #fff;
          border-radius: 2px;
          box-shadow: 0 8px 24px rgba(0,0,0,0.3);
          overflow: hidden;
        }
        .picker-header {
          background: #0b4f6c;
          color: #fff;
          padding: 12px 14px;
          display: flex;
          align-items: center;
          justify-content: space-between;
          font-weight: 700;
        }
        .picker-header button {
          background: transparent;
          border: 0;
          color: #fff;
          font-size: 20px;
          cursor: pointer;
        }
        .picker-option {
          width: 100%;
          border: 0;
          border-top: 1px solid #d8dee4;
          background: #fff;
          padding: 14px;
          display: grid;
          grid-template-columns: 44px 1fr;
          gap: 10px;
          text-align: left;
          cursor: pointer;
          transition: background-color 0.2s ease;
        }
        .picker-option:hover { background: #f7fafc; }
        .picker-option i { color: #334155; font-size: 20px; margin-top: 3px; }
        .picker-option p { margin: 4px 0 0; color: #4b5563; font-size: 13px; }

        @media (max-width: 1100px) {
          .input-row.grid-4, .capabilities-premium-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        }
        @media (max-width: 760px) {
          .premium-admin-theme { padding: 12px; }
          .view-header { flex-wrap: wrap; align-items: stretch; }
          .input-row, .input-row.grid-4, .capabilities-premium-grid, .inline-type-grid { grid-template-columns: 1fr; }
          .btn-type-switch { width: 100%; }
          .picker-overlay { padding: 40px 10px 10px; }
        }
      `})]})}function s0(){const[l,r]=u.useState(""),[c,d]=u.useState("all"),[h,p]=u.useState("all"),[b,w]=u.useState([]),[x,g]=u.useState(!0),[v,f]=u.useState(""),[j,A]=u.useState(null),[N,M]=u.useState({dailyLimit:"",monthlyLimit:"",used:"",status:"active"}),[R,S]=u.useState({provider:"",dailyLimit:0,monthlyLimit:0,used:0,status:"active"}),[z,L]=u.useState(!1),E=D=>`$${Number(D||0).toLocaleString()}`,y=D=>{const ae=D.monthlyLimit||1;return Math.min(D.used/ae*100,100)},k=D=>D>=85?"critical":D>=65?"warning":"normal",$=u.useMemo(()=>b.reduce((D,ae)=>(D.daily+=ae.dailyLimit,D.monthly+=ae.monthlyLimit,D.used+=ae.used,D),{daily:0,monthly:0,used:0}),[b]),V=async()=>{try{g(!0);const D=localStorage.getItem("token");if(!D){w([]),f("Please login to load limits.");return}const ae=await Ky(D);w(ae),f("")}catch(D){console.error("Error loading third party limits:",D),f(D.message||"Failed to load limits")}finally{g(!1)}};u.useEffect(()=>{V();const D=setInterval(()=>{document.hidden||V()},12e4);return()=>clearInterval(D)},[]);const B=b.filter(D=>{const ae=D.provider.toLowerCase().includes(l.toLowerCase()),H=c==="all"||D.status===c,G=y(D),ie=h==="all"||h==="over-80"&&G>=80||h==="60-80"&&G>=60&&G<80||h==="under-60"&&G<60;return ae&&H&&ie}),ce=D=>{A(D.id),M({dailyLimit:D.dailyLimit,monthlyLimit:D.monthlyLimit,used:D.used,status:D.status})},F=()=>{A(null),M({dailyLimit:"",monthlyLimit:"",used:"",status:"active"})},C=async D=>{try{const ae=localStorage.getItem("token");if(!ae){f("Please login to update limits.");return}const H={dailyLimit:Number(N.dailyLimit)||0,monthlyLimit:Number(N.monthlyLimit)||0,used:Number(N.used)||0,status:N.status},G=await ej(D,H,ae);w(ie=>ie.map(ye=>ye.id===D?{...ye,...G.limit}:ye)),F(),f("")}catch(ae){console.error("Error updating limit:",ae),f(ae.message||"Failed to update limit")}},P=async()=>{try{L(!0);const D=localStorage.getItem("token");if(!D){f("Please login to create limits.");return}const ae={provider:R.provider.trim(),dailyLimit:Number(R.dailyLimit)||0,monthlyLimit:Number(R.monthlyLimit)||0,used:Number(R.used)||0,status:R.status},H=await tj(ae,D);w(G=>[...G,H.limit]),S({provider:"",dailyLimit:0,monthlyLimit:0,used:0,status:"active"}),f("")}catch(D){console.error("Error creating limit:",D),f(D.message||"Failed to create limit")}finally{L(!1)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"3rd Party Limits"}),e.jsxs("span",{className:"count",children:[B.length," providers"]})]}),e.jsxs("div",{className:"view-content",children:[x&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading limits..."}),v&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:v}),!x&&!v&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Provider"}),e.jsx("input",{type:"text",placeholder:"Provider name",value:R.provider,onChange:D=>S(ae=>({...ae,provider:D.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Daily Limit"}),e.jsx("input",{type:"number",value:R.dailyLimit,onChange:D=>S(ae=>({...ae,dailyLimit:D.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Monthly Limit"}),e.jsx("input",{type:"number",value:R.monthlyLimit,onChange:D=>S(ae=>({...ae,monthlyLimit:D.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Used"}),e.jsx("input",{type:"number",value:R.used,onChange:D=>S(ae=>({...ae,used:D.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:R.status,onChange:D=>S(ae=>({...ae,status:D.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"paused",children:"Paused"})]})]}),e.jsx("button",{className:"btn-primary",onClick:P,disabled:z||!R.provider.trim(),children:z?"Saving...":"Add Provider"})]}),e.jsxs("div",{className:"stats-container limits-summary",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Providers"}),e.jsx("div",{className:"amount",children:b.length}),e.jsxs("p",{className:"change",children:["Active: ",b.filter(D=>D.status==="active").length]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Daily Limit Total"}),e.jsx("div",{className:"amount",children:E($.daily)}),e.jsx("p",{className:"change",children:"Across all providers"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Monthly Limit Total"}),e.jsx("div",{className:"amount",children:E($.monthly)}),e.jsx("p",{className:"change",children:"Capacity for the month"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Used This Month"}),e.jsx("div",{className:"amount",children:E($.used)}),e.jsxs("p",{className:"change",children:["Utilization: ",($.used/($.monthly||1)*100).toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Provider"}),e.jsx("input",{type:"text",placeholder:"Search provider",value:l,onChange:D=>r(D.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:c,onChange:D=>d(D.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"paused",children:"Paused"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Utilization"}),e.jsxs("select",{value:h,onChange:D=>p(D.target.value),children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"over-80",children:"Over 80%"}),e.jsx("option",{value:"60-80",children:"60% - 80%"}),e.jsx("option",{value:"under-60",children:"Under 60%"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Provider"}),e.jsx("th",{children:"Daily Limit"}),e.jsx("th",{children:"Monthly Limit"}),e.jsx("th",{children:"Used"}),e.jsx("th",{children:"Utilization"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last Sync"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:B.map(D=>{const ae=y(D);return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:D.provider})}),e.jsx("td",{children:j===D.id?e.jsx("input",{type:"number",value:N.dailyLimit,onChange:H=>M(G=>({...G,dailyLimit:H.target.value})),className:"inline-input"}):E(D.dailyLimit)}),e.jsx("td",{children:j===D.id?e.jsx("input",{type:"number",value:N.monthlyLimit,onChange:H=>M(G=>({...G,monthlyLimit:H.target.value})),className:"inline-input"}):E(D.monthlyLimit)}),e.jsx("td",{children:j===D.id?e.jsx("input",{type:"number",value:N.used,onChange:H=>M(G=>({...G,used:H.target.value})),className:"inline-input"}):E(D.used)}),e.jsx("td",{children:e.jsxs("div",{className:"usage-meter",children:[e.jsx("div",{className:"usage-bar",children:e.jsx("div",{className:`usage-fill ${k(ae)}`,style:{width:`${ae}%`}})}),e.jsxs("span",{className:"usage-text",children:[ae.toFixed(1),"%"]})]})}),e.jsx("td",{children:j===D.id?e.jsxs("select",{value:N.status,onChange:H=>M(G=>({...G,status:H.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"paused",children:"Paused"})]}):e.jsx("span",{className:`badge ${D.status}`,children:D.status})}),e.jsx("td",{children:D.lastSync?new Date(D.lastSync).toLocaleString():""}),e.jsx("td",{children:e.jsx("div",{className:"table-actions",children:j===D.id?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn-small",onClick:()=>C(D.id),children:"Save"}),e.jsx("button",{className:"btn-small",onClick:F,children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn-small",onClick:()=>ce(D),children:"Edit"}),e.jsx("button",{className:"btn-small",children:"View"})]})})})]},D.id)})})]})})]})]})]})}function n0(){const[l,r]=u.useState("agents"),[c,d]=u.useState(""),[h,p]=u.useState(""),[b,w]=u.useState("any"),[x,g]=u.useState("today"),[v,f]=u.useState("all-types"),[j,A]=u.useState([]),[N,M]=u.useState(!0),[R,S]=u.useState(""),[z,L]=u.useState(""),[E,y]=u.useState([]),[k,$]=u.useState([]),[V,B]=u.useState(!1),[ce,F]=u.useState(null),[C,P]=u.useState({userId:"",matchId:"",amount:50,odds:1.9,type:"straight",selection:"",status:"pending"}),D=J=>Number(String(J).replace(/[^0-9.-]+/g,""))||0,ae=J=>`$${Number(J||0).toLocaleString()}`,H=(J,I)=>I==="any"?!0:I==="under-100"?J<100:I==="100-500"?J>=100&&J<=500:I==="500-1000"?J>500&&J<=1e3:I==="over-1000"?J>1e3:!0,G=J=>{if(J?.type)return J.type;const I=(J?.description||"").toLowerCase();return I.includes("parlay")?"parlay":I.includes("teaser")?"teaser":"straight"},ie=j.filter(J=>{const I=J.agent.toLowerCase().includes(c.toLowerCase()),q=J.customer.toLowerCase().includes(h.toLowerCase()),ue=D(J.risk),me=v==="all-types"||G(J)===v;return I&&q&&me&&H(ue,b)}).sort((J,I)=>l==="agents"?J.agent.localeCompare(I.agent):J.customer.localeCompare(I.customer)),ye=ie.reduce((J,I)=>(J.risk+=D(I.risk),J.toWin+=D(I.toWin),J),{risk:0,toWin:0}),K=()=>{d(""),p(""),w("any"),g("today"),f("all-types")},_=async J=>{try{M(!0);const I=localStorage.getItem("token");if(!I){A([]),S("Please login to load bets.");return}const ue=(await Cd(J,I)).bets.map(me=>({...me,risk:Number(me.risk||0),toWin:Number(me.toWin||0),accepted:new Date(me.accepted).toLocaleString()}));A(ue),S("")}catch(I){console.error("Error loading bets:",I),S(I.message||"Failed to load bets")}finally{M(!1)}};u.useEffect(()=>{_({time:x,type:v,amount:b}),(async()=>{try{const q=localStorage.getItem("token");if(!q)return;const[ue,me]=await Promise.all([il(q),dl(q)]);y(ue||[]),$(me||[])}catch(q){console.error("Error loading reference data:",q)}})();const I=setInterval(()=>{document.hidden||_({agent:c,customer:h,amount:b,time:x,type:v})},9e4);return()=>clearInterval(I)},[c,h,b,x,v]);const Q=async()=>{try{B(!0),L("");const J=localStorage.getItem("token");if(!J){S("Please login to create bets.");return}const I={userId:C.userId,matchId:C.matchId,amount:Number(C.amount)||0,odds:Number(C.odds)||0,type:C.type,selection:C.selection.trim(),status:C.status};if(I.amount<=0||I.odds<=0)throw new Error("Amount and odds must be greater than 0");await xj(I,J),P({userId:"",matchId:"",amount:50,odds:1.9,type:"straight",selection:"",status:"pending"}),S(""),L("Bet created successfully."),_({agent:c,customer:h,amount:b,time:x,type:v})}catch(J){console.error("Error creating bet:",J),S(J.message||"Failed to create bet")}finally{B(!1)}},se=async J=>{const I=localStorage.getItem("token");if(!I){S("Please login to delete bets.");return}if(window.confirm("Delete this bet? This cannot be undone."))try{L(""),F(J),await gj(J,I),S(""),L("Bet deleted successfully."),await _({agent:c,customer:h,amount:b,time:x,type:v})}catch(q){S(q.message||"Failed to delete bet")}finally{F(null)}},Z=()=>{L(""),_({agent:c,customer:h,amount:b,time:x,type:v})};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Props / Betting Management"})}),e.jsxs("div",{className:"view-content",children:[N&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading bets..."}),R&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:R}),z&&e.jsx("div",{style:{padding:"12px 20px",color:"#15803d",textAlign:"center",fontWeight:600},children:z}),!N&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Customer"}),e.jsxs("select",{value:C.userId,onChange:J=>P(I=>({...I,userId:J.target.value})),children:[e.jsx("option",{value:"",children:"Select customer"}),E.map(J=>e.jsx("option",{value:J.id||J._id,children:J.username},J.id||J._id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Match"}),e.jsxs("select",{value:C.matchId,onChange:J=>P(I=>({...I,matchId:J.target.value})),children:[e.jsx("option",{value:"",children:"Select match"}),k.map(J=>e.jsxs("option",{value:J.id,children:[J.homeTeam," vs ",J.awayTeam]},J.id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",min:"0.01",value:C.amount,onChange:J=>P(I=>({...I,amount:J.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Odds"}),e.jsx("input",{type:"number",step:"0.01",min:"0.01",value:C.odds,onChange:J=>P(I=>({...I,odds:J.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:C.type,onChange:J=>P(I=>({...I,type:J.target.value})),children:[e.jsx("option",{value:"straight",children:"Straight"}),e.jsx("option",{value:"parlay",children:"Parlay"}),e.jsx("option",{value:"teaser",children:"Teaser"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Selection"}),e.jsx("input",{type:"text",placeholder:"Selection",value:C.selection,onChange:J=>P(I=>({...I,selection:J.target.value}))})]}),e.jsx("button",{className:"btn-primary",onClick:Q,disabled:V||!C.userId||!C.matchId||!C.selection.trim()||Number(C.amount)<=0||Number(C.odds)<=0,children:V?"Saving...":"Create Bet"}),!C.userId||!C.matchId||!C.selection.trim()?e.jsx("div",{style:{alignSelf:"end",color:"#9a3412",fontSize:"12px"},children:"Select customer, match, and selection to create bet."}):null]}),e.jsxs("div",{className:"stats-container",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Tickets"}),e.jsx("div",{className:"amount",children:ie.length}),e.jsx("p",{className:"change",children:"Filtered by current criteria"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Risk"}),e.jsxs("div",{className:"amount",children:["$",ye.risk.toLocaleString()]}),e.jsx("p",{className:"change",children:"Across all tickets"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total To Win"}),e.jsxs("div",{className:"amount",children:["$",ye.toWin.toLocaleString()]}),e.jsx("p",{className:"change",children:"Potential payouts"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Average Risk"}),e.jsxs("div",{className:"amount",children:["$",(ie.length?ye.risk/ie.length:0).toFixed(0)]}),e.jsx("p",{className:"change",children:"Per ticket"})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Agents"}),e.jsx("input",{type:"text",placeholder:"Search",value:c,onChange:J=>d(J.target.value),className:"search-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Players"}),e.jsx("input",{type:"text",placeholder:"Search",value:h,onChange:J=>p(J.target.value),className:"search-input"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Amount"}),e.jsxs("select",{value:b,onChange:J=>w(J.target.value),children:[e.jsx("option",{value:"any",children:"Any Amount"}),e.jsx("option",{value:"under-100",children:"Under $100"}),e.jsx("option",{value:"100-500",children:"$100 - $500"}),e.jsx("option",{value:"500-1000",children:"$500 - $1000"}),e.jsx("option",{value:"over-1000",children:"Over $1000"})]})]}),e.jsx("button",{className:"btn-primary",onClick:Z,children:"Search"}),e.jsx("button",{className:"btn-secondary",onClick:K,children:"Reset Filters"})]}),e.jsxs("div",{className:"tabs-container",children:[e.jsx("button",{className:`tab ${l==="agents"?"active":""}`,onClick:()=>r("agents"),children:"Agents"}),e.jsx("button",{className:`tab ${l==="players"?"active":""}`,onClick:()=>r("players"),children:"Players"})]}),e.jsxs("div",{className:"additional-filters",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Time"}),e.jsxs("select",{value:x,onChange:J=>g(J.target.value),children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"this-week",children:"This Week"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:v,onChange:J=>f(J.target.value),children:[e.jsx("option",{value:"all-types",children:"All Types"}),e.jsx("option",{value:"straight",children:"Straight"}),e.jsx("option",{value:"parlay",children:"Parlay"}),e.jsx("option",{value:"teaser",children:"Teaser"})]})]})]}),e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"data-table betting-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agent"}),e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Accepted (EST)"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Risk"}),e.jsx("th",{children:"To Win"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:ie.map(J=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:J.agent})}),e.jsx("td",{children:e.jsx("strong",{children:J.customer})}),e.jsx("td",{children:J.accepted}),e.jsx("td",{children:e.jsx("span",{className:`badge ${G(J)}`,children:G(J)})}),e.jsx("td",{className:"description-cell",children:J.description.split(`
`).map((I,q)=>e.jsx("div",{children:I},q))}),e.jsx("td",{children:e.jsx("span",{className:"amount-risk",children:ae(J.risk)})}),e.jsx("td",{children:e.jsx("span",{className:"amount-towin",children:ae(J.toWin)})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${J.status}`,children:J.status})}),e.jsx("td",{children:e.jsx("button",{className:"btn-delete",onClick:()=>se(J.id),disabled:ce===J.id||J.status!=="pending",title:J.status==="pending"?"Delete bet":"Only pending bets can be deleted",children:ce===J.id?"...":""})})]},J.id))})]})}),e.jsxs("div",{className:"summary-footer",children:[e.jsxs("span",{children:["Total Records: ",ie.length]}),e.jsxs("span",{className:"risk-summary",children:["Risking: ",e.jsxs("span",{className:"amount-risk",children:["$",ye.risk.toLocaleString()]}),"To Win: ",e.jsxs("span",{className:"amount-towin",children:["$",ye.toWin.toLocaleString()]})]})]})]})]})]})}function l0(){const[l,r]=u.useState(""),[c,d]=u.useState("all"),[h,p]=u.useState("revenue"),[b,w]=u.useState("30d"),[x,g]=u.useState([]),[v,f]=u.useState({revenue:0,customers:0,avgWinRate:0,upAgents:0}),[j,A]=u.useState(!0),[N,M]=u.useState(""),[R,S]=u.useState(!1),[z,L]=u.useState(!1),[E,y]=u.useState(""),[k,$]=u.useState(null),V=C=>`$${Number(C||0).toLocaleString(void 0,{maximumFractionDigits:0})}`,B=x.filter(C=>{const P=C.name.toLowerCase().includes(l.toLowerCase()),D=c==="all"||C.trend===c;return P&&D}).sort((C,P)=>h==="customers"?P.customers-C.customers:h==="winRate"?P.winRate-C.winRate:P.revenue-C.revenue),ce=async()=>{try{A(!0);const C=localStorage.getItem("token");if(!C){g([]),M("Please login to load performance.");return}const P=await yj({period:b},C),D=(P.agents||[]).map(ae=>({...ae,lastActive:ae.lastActive?new Date(ae.lastActive).toLocaleString():""}));g(D),f(P.summary||{revenue:0,customers:0,avgWinRate:0,upAgents:0}),M("")}catch(C){console.error("Error loading agent performance:",C),M(C.message||"Failed to load agent performance")}finally{A(!1)}};u.useEffect(()=>{ce();const C=setInterval(()=>{document.hidden||ce()},12e4);return()=>clearInterval(C)},[b]);const F=async C=>{try{S(!0),L(!0),y(""),$(null);const P=localStorage.getItem("token");if(!P)throw new Error("Please login to view details.");const D=await jj(C.id,{period:b},P);$(D)}catch(P){y(P.message||"Failed to load details")}finally{L(!1)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Agent Performance"}),e.jsxs("span",{className:"count",children:[B.length," agents"]})]}),e.jsxs("div",{className:"view-content",children:[j&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading performance..."}),N&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:N}),!j&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"stats-container",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Total Revenue"}),e.jsx("div",{className:"amount",children:V(v.revenue)}),e.jsx("p",{className:"change",children:"Across filtered agents"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Active Customers"}),e.jsx("div",{className:"amount",children:v.customers}),e.jsx("p",{className:"change",children:"1+ bets in last 7 days"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Avg. Win Rate"}),e.jsxs("div",{className:"amount",children:[Number(v.avgWinRate||0).toFixed(1),"%"]}),e.jsx("p",{className:"change",children:"Active-customer settled bets"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Trending Up"}),e.jsx("div",{className:"amount",children:v.upAgents}),e.jsx("p",{className:"change",children:"Agents improving"})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Agent"}),e.jsx("input",{type:"text",placeholder:"Search agent",value:l,onChange:C=>r(C.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Trend"}),e.jsxs("select",{value:c,onChange:C=>d(C.target.value),children:[e.jsx("option",{value:"all",children:"All Trends"}),e.jsx("option",{value:"up",children:"Trending Up"}),e.jsx("option",{value:"stable",children:"Stable"}),e.jsx("option",{value:"down",children:"Trending Down"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Sort By"}),e.jsxs("select",{value:h,onChange:C=>p(C.target.value),children:[e.jsx("option",{value:"revenue",children:"Revenue"}),e.jsx("option",{value:"customers",children:"Active Customers"}),e.jsx("option",{value:"winRate",children:"Win Rate"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Period"}),e.jsxs("select",{value:b,onChange:C=>w(C.target.value),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"all",children:"All Time"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agent"}),e.jsx("th",{children:"Tier"}),e.jsx("th",{children:"Revenue"}),e.jsx("th",{children:"Active / Total Customers"}),e.jsx("th",{children:"Win Rate"}),e.jsx("th",{children:"Trend"}),e.jsx("th",{children:"Last Active"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:B.map(C=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:C.name})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${C.tier}`,children:C.tier})}),e.jsx("td",{children:V(C.revenue)}),e.jsxs("td",{children:[C.customers," / ",C.totalCustomers||0]}),e.jsx("td",{children:e.jsxs("div",{className:"win-rate",children:[e.jsx("div",{className:"win-rate-bar",children:e.jsx("div",{className:"win-rate-fill",style:{width:`${Math.min(C.winRate,100)}%`}})}),e.jsxs("span",{className:"win-rate-value",children:[Number(C.winRate||0).toFixed(1),"%"]})]})}),e.jsx("td",{children:e.jsx("span",{className:`trend ${C.trend}`,children:C.trend==="up"?"":C.trend==="down"?"":""})}),e.jsx("td",{children:C.lastActive}),e.jsx("td",{children:e.jsx("div",{className:"table-actions",children:e.jsx("button",{className:"btn-small",onClick:()=>F(C),children:"View Details"})})})]},C.id))})]})})]})]}),R&&e.jsx("div",{className:"modal-overlay",onClick:()=>S(!1),children:e.jsxs("div",{className:"modal-content",style:{width:"min(980px, 95vw)",maxHeight:"86vh",overflowY:"auto"},onClick:C=>C.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsx("h3",{style:{margin:0},children:"Agent Details"}),e.jsx("button",{className:"btn-secondary",onClick:()=>S(!1),children:"Close"})]}),z&&e.jsx("div",{style:{padding:"12px"},children:"Loading details..."}),E&&e.jsx("div",{style:{padding:"12px",color:"red"},children:E}),k&&!z&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"14px",fontWeight:700},children:[k.agent?.name," | Period: ",k.summary?.period?.toUpperCase()]}),e.jsxs("div",{className:"stats-container",style:{marginBottom:"16px"},children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Active Customers"}),e.jsxs("div",{className:"amount",children:[k.summary.activeCustomers," / ",k.summary.totalCustomers]}),e.jsx("p",{className:"change",children:"1+ bets in last 7 days"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Win Rate"}),e.jsxs("div",{className:"amount",children:[Number(k.summary.winRate||0).toFixed(1),"%"]}),e.jsx("p",{className:"change",children:"Settled bets only"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Handle / GGR"}),e.jsxs("div",{className:"amount",children:[V(k.summary.totalRisk)," / ",V(k.summary.ggr)]}),e.jsxs("p",{className:"change",children:["Hold: ",Number(k.summary.holdPct||0).toFixed(1),"%"]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Bets"}),e.jsx("div",{className:"amount",children:k.summary.betsPlaced}),e.jsxs("p",{className:"change",children:["Settled: ",k.summary.settledBets," | Pending: ",k.summary.pendingBets]})]})]}),e.jsxs("div",{className:"table-container",style:{marginBottom:"14px"},children:[e.jsx("h4",{style:{margin:"0 0 8px 0"},children:"Top Customers"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Bets"}),e.jsx("th",{children:"Risk"}),e.jsx("th",{children:"Win Rate"})]})}),e.jsxs("tbody",{children:[(k.topCustomers||[]).map(C=>e.jsxs("tr",{children:[e.jsx("td",{children:C.username}),e.jsx("td",{children:C.bets}),e.jsx("td",{children:V(C.risk)}),e.jsxs("td",{children:[Number(C.winRate||0).toFixed(1),"%"]})]},C.userId)),(!k.topCustomers||k.topCustomers.length===0)&&e.jsx("tr",{children:e.jsx("td",{colSpan:"4",children:"No customer performance data for this period."})})]})]})]}),e.jsxs("div",{className:"table-container",children:[e.jsx("h4",{style:{margin:"0 0 8px 0"},children:"Recent Bets"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Accepted"}),e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Selection"}),e.jsx("th",{children:"Risk"}),e.jsx("th",{children:"To Win"}),e.jsx("th",{children:"Status"})]})}),e.jsxs("tbody",{children:[(k.recentBets||[]).map(C=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(C.accepted).toLocaleString()}),e.jsx("td",{children:C.customer}),e.jsx("td",{children:C.type}),e.jsx("td",{children:C.selection}),e.jsx("td",{children:V(C.risk)}),e.jsx("td",{children:V(C.toWin)}),e.jsx("td",{children:e.jsx("span",{className:`badge ${C.status}`,children:C.status})})]},C.id)),(!k.recentBets||k.recentBets.length===0)&&e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"No bets in this period."})})]})]})]})]})]})})]})}function i0(){return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Analysis"})}),e.jsx("div",{className:"view-content",children:e.jsxs("div",{className:"analysis-container",children:[e.jsxs("div",{className:"analysis-card",children:[e.jsx("h3",{children:"Betting Trends"}),e.jsx("p",{children:"Track and analyze betting patterns across all sports and markets."}),e.jsx("button",{className:"btn-small",children:"View Details"})]}),e.jsxs("div",{className:"analysis-card",children:[e.jsx("h3",{children:"Customer Analytics"}),e.jsx("p",{children:"Analyze customer behavior, retention rates, and spending patterns."}),e.jsx("button",{className:"btn-small",children:"View Details"})]}),e.jsxs("div",{className:"analysis-card",children:[e.jsx("h3",{children:"Revenue Analysis"}),e.jsx("p",{children:"Comprehensive revenue breakdown by sport, market, and time period."}),e.jsx("button",{className:"btn-small",children:"View Details"})]}),e.jsxs("div",{className:"analysis-card",children:[e.jsx("h3",{children:"Risk Analysis"}),e.jsx("p",{children:"Identify and assess potential risk factors in betting operations."}),e.jsx("button",{className:"btn-small",children:"View Details"})]})]})})]})}function r0({canManage:l=!0}){const[r,c]=u.useState([]),[d,h]=u.useState(!0),[p,b]=u.useState(""),[w,x]=u.useState(""),[g,v]=u.useState("all"),[f,j]=u.useState(null),[A,N]=u.useState(null),[M,R]=u.useState(!1),S=async()=>{const k=localStorage.getItem("token");if(!k){b("Please login to view IP tracker."),h(!1);return}try{h(!0);const $=await aj({search:w,status:g},k);c($.logs||[]),b("")}catch($){console.error("Failed to load IP tracker:",$),b($.message||"Failed to load IP tracker")}finally{h(!1)}};u.useEffect(()=>{S()},[w,g]);const z=async k=>{const $=localStorage.getItem("token");if(!$){b("Please login to block IPs.");return}if(!l){b("You do not have permission to manage IP actions.");return}try{j(k),await sj(k,$),c(V=>V.map(B=>B.id===k?{...B,status:"blocked"}:B))}catch(V){b(V.message||"Failed to block IP")}finally{j(null)}},L=async k=>{const $=localStorage.getItem("token");if(!$){b("Please login to unblock IPs.");return}if(!l){b("You do not have permission to manage IP actions.");return}try{j(k),await nj(k,$),c(V=>V.map(B=>B.id===k?{...B,status:"active"}:B))}catch(V){b(V.message||"Failed to unblock IP")}finally{j(null)}},E=async k=>{const $=localStorage.getItem("token");if(!$){b("Please login to whitelist IPs.");return}if(!l){b("You do not have permission to manage IP actions.");return}try{j(k),await uj(k,$),c(V=>V.map(B=>B.id===k?{...B,status:"whitelisted"}:B))}catch(V){b(V.message||"Failed to whitelist IP")}finally{j(null)}},y=k=>{N(k),R(!0)};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"IP Tracker"})}),e.jsxs("div",{className:"view-content",children:[d&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading IP logs..."}),p&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:p}),!d&&!p&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Search"}),e.jsx("input",{type:"text",value:w,onChange:k=>x(k.target.value),placeholder:"User or IP"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:g,onChange:k=>v(k.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"blocked",children:"Blocked"})]})]})]}),!l&&e.jsx("div",{style:{marginBottom:"12px",color:"#f59e0b",fontWeight:600},children:"View-only mode: IP actions are disabled by your permissions."}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"IP Address"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Country"}),e.jsx("th",{children:"City"}),e.jsx("th",{children:"Last Active"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:r.map(k=>e.jsxs("tr",{children:[e.jsx("td",{className:"monospace",children:k.ip}),e.jsx("td",{children:k.user}),e.jsx("td",{children:k.country||"Unknown"}),e.jsx("td",{children:k.city||"Unknown"}),e.jsx("td",{children:k.lastActive?new Date(k.lastActive).toLocaleString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${k.status}`,children:k.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>y(k),children:"View"}),k.status==="blocked"?e.jsx("button",{className:"btn-small",onClick:()=>L(k.id),disabled:f===k.id||!l,children:f===k.id?"Working...":"Unblock"}):k.status==="whitelisted"?e.jsx("button",{className:"btn-small",onClick:()=>L(k.id),disabled:f===k.id||!l,children:f===k.id?"Working...":"Un-whitelist"}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn-small btn-danger",onClick:()=>z(k.id),disabled:f===k.id||!l,children:f===k.id?"Working...":"Block"}),e.jsx("button",{className:"btn-small btn-primary",onClick:()=>E(k.id),disabled:f===k.id||!l,style:{marginLeft:"4px",backgroundColor:"#3b82f6"},children:f===k.id?"...":"Whitelist"})]})]})]},k.id))})]})})]})]}),M&&A&&e.jsx("div",{className:"modal-overlay",onClick:()=>R(!1),children:e.jsxs("div",{className:"modal-content",onClick:k=>k.stopPropagation(),children:[e.jsx("h3",{children:"IP Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"IP:"})," ",A.ip]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",A.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Country:"})," ",A.country||"Unknown"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"City:"})," ",A.city||"Unknown"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",A.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Active:"})," ",A.lastActive?new Date(A.lastActive).toLocaleString():""]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User Agent:"})," ",A.userAgent||""]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>R(!1),children:"Close"})})]})})]})}function o0(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(""),[x,g]=u.useState("all"),[v,f]=u.useState("all"),[j,A]=u.useState("30d"),[N,M]=u.useState(null),[R,S]=u.useState(!1),z=async()=>{const y=localStorage.getItem("token");if(!y){p("Please login to view transaction history."),d(!1);return}try{d(!0);const k=await ll({user:b,type:x,status:v,time:j,limit:200},y);r(k.transactions||[]),p("")}catch(k){console.error("Failed to load transaction history:",k),p(k.message||"Failed to load transaction history")}finally{d(!1)}};u.useEffect(()=>{z()},[b,x,v,j]);const L=y=>{if(y==null)return"";const k=Number(y);return Number.isNaN(k)?"":`$${k.toFixed(2)}`},E=y=>{M(y),S(!0)};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Transactions History"})}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading transactions..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"User"}),e.jsx("input",{type:"text",value:b,onChange:y=>w(y.target.value),placeholder:"Search user"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:x,onChange:y=>g(y.target.value),children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"deposit",children:"Deposit"}),e.jsx("option",{value:"withdrawal",children:"Withdrawal"}),e.jsx("option",{value:"bet_placed",children:"Bet Placed"}),e.jsx("option",{value:"bet_won",children:"Bet Won"}),e.jsx("option",{value:"bet_refund",children:"Bet Refund"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:v,onChange:y=>f(y.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"failed",children:"Failed"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Time"}),e.jsxs("select",{value:j,onChange:y=>A(y.target.value),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:y.type}),e.jsx("td",{children:y.user}),e.jsx("td",{className:y.type==="withdrawal"||y.type==="bet_placed"?"negative":"positive",children:L(y.amount)}),e.jsx("td",{children:y.date?new Date(y.date).toLocaleString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${y.status}`,children:y.status})}),e.jsx("td",{children:e.jsx("button",{className:"btn-small",onClick:()=>E(y),children:"View"})})]},y.id))})]})})]})]}),R&&N&&e.jsx("div",{className:"modal-overlay",onClick:()=>S(!1),children:e.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[e.jsx("h3",{children:"Transaction Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",N.type]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",N.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",L(N.amount)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",N.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",N.date?new Date(N.date).toLocaleString():""]}),N.description&&e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",N.description]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>S(!1),children:"Close"})})]})})]})}function c0(){const[l,r]=u.useState([]),[c,d]=u.useState({totalOutstanding:0}),[h,p]=u.useState(!0),[b,w]=u.useState(""),[x,g]=u.useState(null),[v,f]=u.useState([]),[j,A]=u.useState({user:"",status:"all",overdue:"0"}),[N,M]=u.useState(!1),[R,S]=u.useState({userId:"",amount:"",dueDate:"",notes:""}),[z,L]=u.useState(null),[E,y]=u.useState(!1),k=async()=>{const F=localStorage.getItem("token");if(!F){w("Please login to view collections."),p(!1);return}try{p(!0);const C=await lj({user:j.user,status:j.status,overdue:j.overdue,limit:200},F);r(C.collections||[]),d(C.summary||{totalOutstanding:0}),w("")}catch(C){console.error("Failed to load collections:",C),w(C.message||"Failed to load collections")}finally{p(!1)}};u.useEffect(()=>{k()},[j]),u.useEffect(()=>{(async()=>{const C=localStorage.getItem("token");if(C)try{const P=await il(C);f(Array.isArray(P)?P:[])}catch(P){console.error("Failed to load customers:",P)}})()},[]);const $=async()=>{const F=localStorage.getItem("token");if(!F){w("Please login to create collections.");return}try{M(!0),await fj({userId:R.userId,amount:Number(R.amount)||0,dueDate:R.dueDate||null,notes:R.notes.trim()||null},F),S({userId:"",amount:"",dueDate:"",notes:""}),w(""),k()}catch(C){w(C.message||"Failed to create collection")}finally{M(!1)}},V=async F=>{const C=localStorage.getItem("token");if(!C){w("Please login to collect.");return}try{g(F),await pj(F,C),r(P=>P.map(D=>D.id===F?{...D,status:"collected",attempts:(D.attempts||0)+1,lastAttemptAt:new Date().toISOString()}:D))}catch(P){w(P.message||"Failed to collect")}finally{g(null)}},B=F=>{L(F),y(!0)},ce=F=>{if(F==null)return"";const C=Number(F);return Number.isNaN(C)?"":`$${C.toFixed(2)}`};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Collections"}),e.jsxs("p",{className:"count",children:["Total Outstanding: ",ce(c.totalOutstanding)]})]}),e.jsxs("div",{className:"view-content",children:[h&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading collections..."}),b&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:b}),!h&&!b&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"User"}),e.jsx("input",{type:"text",value:j.user,onChange:F=>A(C=>({...C,user:F.target.value})),placeholder:"Search user"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:j.status,onChange:F=>A(C=>({...C,status:F.target.value})),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"overdue",children:"Overdue"}),e.jsx("option",{value:"collected",children:"Collected"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Overdue Only"}),e.jsxs("select",{value:j.overdue,onChange:F=>A(C=>({...C,overdue:F.target.value})),children:[e.jsx("option",{value:"0",children:"No"}),e.jsx("option",{value:"1",children:"Yes"})]})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Customer"}),e.jsxs("select",{value:R.userId,onChange:F=>S(C=>({...C,userId:F.target.value})),children:[e.jsx("option",{value:"",children:"Select customer"}),v.map(F=>e.jsx("option",{value:F.id||F._id,children:F.username},F.id||F._id))]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:R.amount,onChange:F=>S(C=>({...C,amount:F.target.value})),placeholder:"0.00"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Due Date"}),e.jsx("input",{type:"date",value:R.dueDate,onChange:F=>S(C=>({...C,dueDate:F.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:R.notes,onChange:F=>S(C=>({...C,notes:F.target.value})),placeholder:"Optional"})]}),e.jsx("button",{className:"btn-primary",onClick:$,disabled:N||!R.userId||!R.amount,children:N?"Saving...":"Create Collection"})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Due Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Attempts"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(F=>e.jsxs("tr",{children:[e.jsx("td",{children:F.user}),e.jsx("td",{children:ce(F.amount)}),e.jsx("td",{children:F.dueDate?new Date(F.dueDate).toLocaleDateString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${F.status}`,children:F.status})}),e.jsx("td",{children:F.attempts||0}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>V(F.id),disabled:F.status==="collected"||x===F.id,children:x===F.id?"Working...":"Collect"}),e.jsx("button",{className:"btn-small",onClick:()=>B(F),children:"View"})]})]},F.id))})]})})]})]}),E&&z&&e.jsx("div",{className:"modal-overlay",onClick:()=>y(!1),children:e.jsxs("div",{className:"modal-content",onClick:F=>F.stopPropagation(),children:[e.jsx("h3",{children:"Collection Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",z.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",ce(z.amount)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Due Date:"})," ",z.dueDate?new Date(z.dueDate).toLocaleDateString():""]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",z.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Attempts:"})," ",z.attempts||0]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Attempt:"})," ",z.lastAttemptAt?new Date(z.lastAttemptAt).toLocaleString():""]}),z.notes&&e.jsxs("p",{children:[e.jsx("strong",{children:"Notes:"})," ",z.notes]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>y(!1),children:"Close"})})]})})]})}function d0(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState({user:"",sport:"all",status:"all",time:"30d"}),[x,g]=u.useState(null),[v,f]=u.useState(null),[j,A]=u.useState(!1),N=async()=>{const z=localStorage.getItem("token");if(!z){p("Please login to view deleted wagers."),d(!1);return}try{d(!0);const L=await ij(b,z);r(L.wagers||[]),p("")}catch(L){console.error("Failed to load deleted wagers:",L),p(L.message||"Failed to load deleted wagers")}finally{d(!1)}};u.useEffect(()=>{N()},[b]);const M=async z=>{const L=localStorage.getItem("token");if(!L){p("Please login to restore wagers.");return}try{g(z),await rj(z,L),r(E=>E.map(y=>y.id===z?{...y,status:"restored",restoredAt:new Date().toISOString()}:y))}catch(E){p(E.message||"Failed to restore wager")}finally{g(null)}},R=z=>{f(z),A(!0)},S=z=>{if(z==null)return"";const L=Number(z);return Number.isNaN(L)?"":`$${L.toFixed(2)}`};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Deleted Wagers"})}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading deleted wagers..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"User"}),e.jsx("input",{type:"text",value:b.user,onChange:z=>w(L=>({...L,user:z.target.value})),placeholder:"Search user"})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Sport"}),e.jsxs("select",{value:b.sport,onChange:z=>w(L=>({...L,sport:z.target.value})),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"NBA",children:"NBA"}),e.jsx("option",{value:"NFL",children:"NFL"}),e.jsx("option",{value:"MLB",children:"MLB"}),e.jsx("option",{value:"NHL",children:"NHL"}),e.jsx("option",{value:"Soccer",children:"Soccer"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:b.status,onChange:z=>w(L=>({...L,status:z.target.value})),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"deleted",children:"Deleted"}),e.jsx("option",{value:"restored",children:"Restored"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Time"}),e.jsxs("select",{value:b.time,onChange:z=>w(L=>({...L,time:z.target.value})),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"User"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Sport"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Reason"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(z=>e.jsxs("tr",{children:[e.jsx("td",{children:z.user}),e.jsx("td",{children:S(z.amount)}),e.jsx("td",{children:z.sport}),e.jsx("td",{children:z.deletedAt?new Date(z.deletedAt).toLocaleDateString():""}),e.jsx("td",{children:z.reason}),e.jsx("td",{children:e.jsx("span",{className:`badge ${z.status}`,children:z.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>R(z),children:"View"}),e.jsx("button",{className:"btn-small",onClick:()=>M(z.id),disabled:z.status==="restored"||x===z.id,children:x===z.id?"Working...":"Restore"})]})]},z.id))})]})})]})]}),j&&v&&e.jsx("div",{className:"modal-overlay",onClick:()=>A(!1),children:e.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),children:[e.jsx("h3",{children:"Deleted Wager Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",v.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",S(v.amount)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sport:"})," ",v.sport]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Reason:"})," ",v.reason]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",v.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Deleted At:"})," ",v.deletedAt?new Date(v.deletedAt).toLocaleString():""]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Restored At:"})," ",v.restoredAt?new Date(v.restoredAt).toLocaleString():""]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>A(!1),children:"Close"})})]})})]})}function u0(){const[l,r]=u.useState("game"),[c,d]=u.useState("all"),[h,p]=u.useState([]),[b,w]=u.useState(!1),[x,g]=u.useState([]),[v,f]=u.useState(!0),[j,A]=u.useState(""),[N,M]=u.useState(""),[R,S]=u.useState(!1),[z,L]=u.useState({homeTeam:"",awayTeam:"",startTime:"",sport:"basketball",status:"scheduled"}),E=600,y=[{id:"nfl",label:"NFL",icon:""},{id:"nba",label:"NBA",icon:""},{id:"mlb",label:"MLB",icon:""},{id:"nhl",label:"NHL",icon:""},{id:"soccer",label:"Soccer",icon:""},{id:"tennis",label:"Tennis",icon:""},{id:"golf",label:"Golf",icon:""},{id:"boxing",label:"Boxing",icon:""},{id:"esports",label:"Esports",icon:""},{id:"props",label:"Props",icon:""},{id:"futures",label:"Futures",icon:""},{id:"contests",label:"Contests",icon:""}],k=G=>{p(ie=>ie.includes(G)?ie.filter(ye=>ye!==G):[...ie,G])},$=[{header:"Period",key:"period"},{header:"Game",key:"game"},{header:"Time",key:"time"},{header:"Event",key:"event"},{header:"Spread",key:"spread"},{header:"Moneyline",key:"moneyline"},{header:"Total",key:"total"},{header:"Team Total",key:"teamTotal"},{header:"OS",key:"os"},{header:"US",key:"us"}],V=async()=>{const G=localStorage.getItem("token");if(!G){A("Please login to load games."),f(!1);return}try{f(!0);const ie=await dl(G);g(ie||[]),A("")}catch(ie){console.error("Failed to load matches:",ie),A(ie.message||"Failed to load matches")}finally{f(!1)}};u.useEffect(()=>{V()},[]);const B=G=>{if(!G?.startTime)return c==="all";if(c==="all")return!0;const ie=new Date(G.startTime),ye=new Date,K=new Date(ye.getFullYear(),ye.getMonth(),ye.getDate()),_=new Date(K.getTime()+1440*60*1e3),Q=new Date(_.getTime()+1440*60*1e3),se=new Date(K.getTime()+10080*60*1e3);return c==="today"?ie>=K&&ie<_:c==="tomorrow"?ie>=_&&ie<Q:c==="this-week"?ie>=K&&ie<se:!0},ce=G=>l==="game"?!0:G?.status===l,F=G=>{if(!h.length)return!0;const ie=String(G?.sport||"").toLowerCase();return h.includes(ie)},C=x.filter(B).filter(ce).filter(F);u.useEffect(()=>{!v&&C.length===0&&w(!0)},[v,C.length]);const P=async()=>{const G=localStorage.getItem("token");if(!G){A("Please login to add games.");return}try{M("add"),await jp({homeTeam:z.homeTeam.trim(),awayTeam:z.awayTeam.trim(),startTime:z.startTime,sport:z.sport,status:z.status},G),L({homeTeam:"",awayTeam:"",startTime:"",sport:"basketball",status:"scheduled"}),S(!1),V()}catch(ie){A(ie.message||"Failed to add game")}finally{M("")}},D=async()=>{const G=localStorage.getItem("token");if(!G){A("Please login to update odds.");return}try{const ie=Date.now();M("odds"),await Np(G),V()}catch(ie){A(ie.message||"Failed to update odds")}finally{const ie=Date.now()-startedAt;ie<E&&await new Promise(ye=>setTimeout(ye,E-ie)),M("")}},ae=async()=>{const G=localStorage.getItem("token");if(!G){A("Please login to clear cache.");return}try{M("cache"),await mj(G)}catch(ie){A(ie.message||"Failed to clear cache")}finally{M("")}},H=async G=>{const ie=localStorage.getItem("token");if(!ie){A("Please login to settle matches.");return}const ye=window.prompt(`Set winner for ${G.homeTeam} vs ${G.awayTeam}. Type "home" or "away":`,"home");if(!ye)return;const K=ye.trim().toLowerCase();if(K!=="home"&&K!=="away"){A('Winner must be "home" or "away".');return}const _=K==="home"?G.homeTeam:G.awayTeam;try{M(`settle-${G.id||G._id}`),await bj({matchId:G.id||G._id,winner:_},ie),await V(),A(""),alert("Match settled successfully.")}catch(Q){A(Q.message||"Failed to settle match")}finally{M("")}};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Games & Events Management"})}),N==="odds"&&Sd.createPortal(e.jsx("div",{className:"admin-loading-overlay",children:e.jsxs("div",{className:"admin-loading-card",children:[e.jsx("div",{className:"admin-spinner"}),e.jsx("div",{children:"Refreshing odds & scores..."})]})}),document.body),e.jsxs("div",{className:"view-content",children:[v&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading games..."}),j&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:j}),!v&&!j&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"games-controls",children:[e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Period:"}),e.jsxs("select",{value:l,onChange:G=>r(G.target.value),children:[e.jsx("option",{value:"game",children:"Game"}),e.jsx("option",{value:"live",children:"Live"}),e.jsx("option",{value:"finished",children:"Finished"}),e.jsx("option",{value:"scheduled",children:"Scheduled"})]})]}),e.jsxs("div",{className:"control-group",children:[e.jsx("label",{children:"Games to show:"}),e.jsxs("select",{value:c,onChange:G=>d(G.target.value),children:[e.jsx("option",{value:"all",children:"All Games"}),e.jsx("option",{value:"today",children:"Today Only"}),e.jsx("option",{value:"tomorrow",children:"Tomorrow"}),e.jsx("option",{value:"this-week",children:"This Week"})]})]})]}),e.jsx("div",{className:"sports-icons-container",children:y.map(G=>e.jsxs("button",{className:`sport-icon-btn ${h.includes(G.id)?"active":""}`,onClick:()=>k(G.id),title:G.label,children:[e.jsx("span",{className:"icon",children:G.icon}),e.jsx("span",{className:"dropdown-arrow",children:""})]},G.id))}),!b&&e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"data-table events-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[$.map(G=>e.jsx("th",{children:G.header},G.key)),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:C.map(G=>e.jsxs("tr",{children:[e.jsx("td",{children:G.status||"scheduled"}),e.jsxs("td",{children:[G.homeTeam," vs ",G.awayTeam]}),e.jsx("td",{children:G.startTime?new Date(G.startTime).toLocaleString():""}),e.jsx("td",{children:G.sport||""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:""}),e.jsx("td",{children:e.jsx("button",{className:"btn-small",onClick:()=>H(G),disabled:N===`settle-${G.id||G._id}`,children:N===`settle-${G.id||G._id}`?"Settling...":"Settle"})})]},G.id||G._id))})]})}),b&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content no-events-modal",children:[e.jsx("button",{className:"modal-close",onClick:()=>w(!1),children:""}),e.jsx("h3",{children:"Today there aren't any event's"}),e.jsx("p",{children:"There are no games for today, would you like to view the Full Board?"}),e.jsxs("div",{className:"modal-buttons",children:[e.jsx("button",{className:"btn-success",onClick:()=>{w(!1),d("all")},children:"Yes"}),e.jsx("button",{className:"btn-danger",onClick:()=>w(!1),children:"No"})]})]})}),e.jsxs("div",{className:"game-status-legend",children:[e.jsx("h4",{children:"Status Legend:"}),e.jsxs("div",{className:"legend-items",children:[e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"status-badge live",children:"Live"}),e.jsx("span",{children:"Game is currently in progress"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"status-badge scheduled",children:"Scheduled"}),e.jsx("span",{children:"Game is scheduled for future date"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("span",{className:"status-badge finished",children:"Finished"}),e.jsx("span",{children:"Game has ended"})]})]})]}),e.jsxs("div",{className:"quick-actions",children:[e.jsx("h4",{children:"Quick Actions:"}),e.jsx("button",{className:"btn-primary",onClick:()=>S(!0),children:"Add Game"}),e.jsx("button",{className:"btn-secondary",onClick:D,disabled:N==="odds",children:N==="odds"?e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{className:"admin-inline-spinner"})," Working..."]}):"Import Games"}),e.jsx("button",{className:"btn-secondary",onClick:D,disabled:N==="odds",children:N==="odds"?e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{className:"admin-inline-spinner"})," Working..."]}):"Update Odds"}),e.jsx("button",{className:"btn-danger",onClick:ae,disabled:N==="cache",children:N==="cache"?"Working...":"Clear Cache"})]})]})]}),R&&e.jsx("div",{className:"modal-overlay",onClick:()=>S(!1),children:e.jsxs("div",{className:"modal-content",onClick:G=>G.stopPropagation(),children:[e.jsx("h3",{children:"Add Game"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Home Team"}),e.jsx("input",{type:"text",value:z.homeTeam,onChange:G=>L(ie=>({...ie,homeTeam:G.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Away Team"}),e.jsx("input",{type:"text",value:z.awayTeam,onChange:G=>L(ie=>({...ie,awayTeam:G.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Start Time"}),e.jsx("input",{type:"datetime-local",value:z.startTime,onChange:G=>L(ie=>({...ie,startTime:G.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Sport"}),e.jsxs("select",{value:z.sport,onChange:G=>L(ie=>({...ie,sport:G.target.value})),children:[e.jsx("option",{value:"basketball",children:"Basketball"}),e.jsx("option",{value:"football",children:"Football"}),e.jsx("option",{value:"baseball",children:"Baseball"}),e.jsx("option",{value:"hockey",children:"Hockey"}),e.jsx("option",{value:"soccer",children:"Soccer"}),e.jsx("option",{value:"tennis",children:"Tennis"}),e.jsx("option",{value:"golf",children:"Golf"}),e.jsx("option",{value:"boxing",children:"Boxing"}),e.jsx("option",{value:"esports",children:"Esports"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:z.status,onChange:G=>L(ie=>({...ie,status:G.target.value})),children:[e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"live",children:"Live"}),e.jsx("option",{value:"finished",children:"Finished"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>S(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:P,disabled:N==="add"||!z.homeTeam.trim()||!z.awayTeam.trim()||!z.startTime,children:N==="add"?"Saving...":"Add Game"})]})]})})]})}function h0(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(!1),[x,g]=u.useState(null),[v,f]=u.useState(null),[j,A]=u.useState({name:"",url:"",status:"active",notes:""}),[N,M]=u.useState(!1),R=async()=>{const k=localStorage.getItem("token");if(!k){p("Please login to view sportsbook links."),d(!1);return}try{d(!0);const $=await oj(k);r($.links||[]),p("")}catch($){console.error("Failed to load sportsbook links:",$),p($.message||"Failed to load sportsbook links")}finally{d(!1)}};u.useEffect(()=>{R()},[]);const S=()=>{g(null),A({name:"",url:"",status:"active",notes:""}),w(!0)},z=k=>{g(k),A({name:k.name,url:k.url,status:k.status,notes:k.notes||""}),w(!0)},L=k=>{g(k),M(!0)},E=async()=>{const k=localStorage.getItem("token");if(!k){p("Please login to save links.");return}try{f(x?.id||"new"),x?await dj(x.id,j,k):await cj(j,k),w(!1),R()}catch($){p($.message||"Failed to save link")}finally{f(null)}},y=async k=>{const $=localStorage.getItem("token");if(!$){p("Please login to test links.");return}try{f(k);const V=await hj(k,$);r(B=>B.map(ce=>ce.id===k?{...ce,lastSync:V.lastSync}:ce))}catch(V){p(V.message||"Failed to test link")}finally{f(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Sportsbook Links"}),e.jsx("button",{className:"btn-primary",onClick:S,children:"Add New Link"})]}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading links..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Provider Name"}),e.jsx("th",{children:"API URL"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last Sync"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(k=>e.jsxs("tr",{children:[e.jsx("td",{children:k.name}),e.jsx("td",{className:"monospace",children:k.url}),e.jsx("td",{children:e.jsx("span",{className:`badge ${k.status}`,children:k.status})}),e.jsx("td",{children:k.lastSync?new Date(k.lastSync).toLocaleString():""}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>z(k),children:"Edit"}),e.jsx("button",{className:"btn-small",onClick:()=>y(k.id),disabled:v===k.id,children:v===k.id?"Working...":"Test"}),e.jsx("button",{className:"btn-small",onClick:()=>L(k),children:"View"})]})]},k.id))})]})})]}),b&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:k=>k.stopPropagation(),children:[e.jsx("h3",{children:x?"Edit Link":"Add Link"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",value:j.name,onChange:k=>A($=>({...$,name:k.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"URL"}),e.jsx("input",{type:"text",value:j.url,onChange:k=>A($=>({...$,url:k.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:j.status,onChange:k=>A($=>({...$,status:k.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:j.notes,onChange:k=>A($=>({...$,notes:k.target.value})),placeholder:"Optional"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:E,disabled:v||!j.name.trim()||!j.url.trim(),children:v?"Saving...":"Save"})]})]})}),N&&x&&e.jsx("div",{className:"modal-overlay",onClick:()=>M(!1),children:e.jsxs("div",{className:"modal-content",onClick:k=>k.stopPropagation(),children:[e.jsx("h3",{children:"Link Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",x.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"URL:"})," ",x.url]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",x.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Sync:"})," ",x.lastSync?new Date(x.lastSync).toLocaleString():""]}),x.notes&&e.jsxs("p",{children:[e.jsx("strong",{children:"Notes:"})," ",x.notes]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>M(!1),children:"Close"})})]})})]})}function m0(){const[l,r]=u.useState([]),[c,d]=u.useState("all"),[h,p]=u.useState(!0),b=async()=>{try{const x=localStorage.getItem("token");if(!x)return;const g=await Cd({},x);if(g&&Array.isArray(g.bets)){const v=g.bets.map(f=>({id:f._id||f.id,user:f.userId?.username||"Unknown",type:f.matchSnapshot?.status==="live"?"LIVE":"UPCOMING",match:f.description||(f.matchSnapshot?`${f.matchSnapshot.homeTeam} vs ${f.matchSnapshot.awayTeam}`:"Unknown Match"),bet:`${f.selection} @ ${parseFloat(f.odds).toFixed(2)}`,amount:`$${parseFloat(f.amount).toFixed(2)}`,odds:parseFloat(f.odds).toFixed(2),time:new Date(f.createdAt).toLocaleTimeString(),status:f.matchSnapshot?.status==="live"?"LIVE":"UPCOMING",originalStatus:f.status}));r(v)}}catch(x){console.error("Failed to fetch admin bets:",x)}finally{p(!1)}};u.useEffect(()=>{b();const x=setInterval(()=>{document.hidden||b()},45e3);return()=>clearInterval(x)},[]);const w=c==="all"?l:l.filter(x=>x.type.toLowerCase()===c.toLowerCase());return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Live Bet Ticker"}),e.jsxs("div",{className:"ticker-filter",children:[e.jsx("button",{className:c==="all"?"active":"",onClick:()=>d("all"),children:"All Bets"}),e.jsx("button",{className:c==="live"?"active":"",onClick:()=>d("live"),children:" Live"}),e.jsx("button",{className:c==="upcoming"?"active":"",onClick:()=>d("upcoming"),children:" Upcoming"})]})]}),e.jsxs("div",{className:"view-content",children:[e.jsx("div",{className:"ticker-container",children:e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"ticker-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Status"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Match"}),e.jsx("th",{children:"Bet Details"}),e.jsx("th",{children:"Odds"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:h?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"Loading bets..."})}):w.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"20px"},children:"No bets found"})}):w.map(x=>e.jsxs("tr",{className:`ticker-row ${x.status.toLowerCase()}`,children:[e.jsx("td",{children:e.jsx("span",{className:`status-badge ${x.status.toLowerCase()}`,children:x.status==="LIVE"?" LIVE":" UPCOMING"})}),e.jsx("td",{children:e.jsx("strong",{children:x.user})}),e.jsx("td",{className:"match-cell",children:x.match}),e.jsx("td",{className:"bet-cell",children:x.bet}),e.jsx("td",{className:"odds-cell",children:e.jsx("span",{className:"odds-highlight",children:x.odds})}),e.jsx("td",{className:"amount-cell",children:e.jsx("strong",{children:x.amount})}),e.jsx("td",{children:x.time}),e.jsx("td",{children:e.jsx("button",{className:"btn-tiny",children:"Details"})})]},x.id))})]})})}),e.jsxs("div",{className:"ticker-summary",children:[e.jsxs("div",{className:"summary-stat",children:[e.jsx("span",{className:"label",children:"Live Bets"}),e.jsx("span",{className:"value",children:l.filter(x=>x.status==="LIVE").length})]}),e.jsxs("div",{className:"summary-stat",children:[e.jsx("span",{className:"label",children:"Total Wagered"}),e.jsxs("span",{className:"value",children:["$",l.reduce((x,g)=>x+parseFloat(g.amount.replace("$","")),0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{className:"summary-stat",children:[e.jsx("span",{className:"label",children:"Avg Odds"}),e.jsx("span",{className:"value",children:l.length>0?(l.reduce((x,g)=>x+parseFloat(g.odds),0)/l.length).toFixed(2):"0.00"})]})]})]})]})}function f0(){const[l,r]=u.useState({betType:"straight",matchId:"",selection:"",odds:"1.90",amount:"50",userId:""}),[c,d]=u.useState([]),[h,p]=u.useState([]),[b,w]=u.useState(!0),[x,g]=u.useState(""),[v,f]=u.useState(!1),j=N=>{const{name:M,value:R}=N.target;r(S=>({...S,[M]:R}))},A=async N=>{N.preventDefault();const M=localStorage.getItem("token");if(!M){g("Please login to create tickets.");return}try{f(!0),await Cj({userId:l.userId,matchId:l.matchId,amount:Number(l.amount)||0,odds:Number(l.odds)||0,type:l.betType,selection:l.selection.trim(),status:"pending"},M),r({betType:"straight",matchId:"",selection:"",odds:"1.90",amount:"50",userId:""}),g("")}catch(R){console.error("Ticket creation failed:",R),g(R.message||"Failed to create ticket")}finally{f(!1)}};return u.useEffect(()=>{(async()=>{const M=localStorage.getItem("token");if(!M){g("Please login to load ticket data."),w(!1);return}try{w(!0);const[R,S]=await Promise.all([dl(M),il(M)]);d(Array.isArray(R)?R:[]),p(Array.isArray(S)?S:[]),g("")}catch(R){console.error("Failed to load ticket data:",R),g(R.message||"Failed to load ticket data")}finally{w(!1)}})()},[]),e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Ticket Writer"}),e.jsx("p",{className:"subtitle",children:"Create custom betting tickets"})]}),e.jsxs("div",{className:"view-content",children:[b&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading ticket data..."}),x&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:x}),!b&&!x&&e.jsx("div",{className:"form-container",children:e.jsxs("form",{onSubmit:A,className:"admin-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Ticket Details"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer:"}),e.jsxs("select",{name:"userId",value:l.userId,onChange:j,required:!0,children:[e.jsx("option",{value:"",children:"Select customer"}),h.map(N=>e.jsx("option",{value:N.id||N._id,children:N.username},N.id||N._id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bet Type:"}),e.jsxs("select",{name:"betType",value:l.betType,onChange:j,children:[e.jsx("option",{value:"straight",children:"Straight"}),e.jsx("option",{value:"parlay",children:"Parlay"}),e.jsx("option",{value:"teaser",children:"Teaser"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Match:"}),e.jsxs("select",{name:"matchId",value:l.matchId,onChange:j,required:!0,children:[e.jsx("option",{value:"",children:"Select match"}),c.map(N=>e.jsxs("option",{value:N.id||N._id,children:[N.homeTeam," vs ",N.awayTeam]},N.id||N._id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Selection:"}),e.jsx("input",{type:"text",name:"selection",value:l.selection,onChange:j,placeholder:"e.g., Lakers to win",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Odds:"}),e.jsx("input",{type:"number",name:"odds",value:l.odds,onChange:j,placeholder:"e.g., 1.95",step:"0.01",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bet Amount:"}),e.jsx("input",{type:"number",name:"amount",value:l.amount,onChange:j,placeholder:"e.g., 100",step:"0.01",required:!0})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:v,children:v?"Saving...":"Create Ticket"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>r({betType:"straight",matchId:"",selection:"",odds:"1.90",amount:"50",userId:""}),children:"Clear"})]})]})})]})]})}function p0(){const[l,r]=u.useState("all"),[c,d]=u.useState([]),[h,p]=u.useState(!0),[b,w]=u.useState(""),[x,g]=u.useState(null),[v,f]=u.useState(!1),[j,A]=u.useState({scoreHome:"",scoreAway:"",status:"scheduled"}),[N,M]=u.useState(!1),R=async()=>{const y=localStorage.getItem("token");if(!y){w("Please login to view scores."),p(!1);return}try{p(!0);const k=await dl(y);d(k||[]),w("")}catch(k){console.error("Failed to load matches:",k),w(k.message||"Failed to load matches")}finally{p(!1)}};u.useEffect(()=>{R()},[]);const S=l==="all"?c:c.filter(y=>String(y.sport||"").toLowerCase()===l.toLowerCase()),z=y=>{const k=y.score?.score_home??y.score?.scoreHome??"",$=y.score?.score_away??y.score?.scoreAway??"";g(y),A({scoreHome:k===0?0:k,scoreAway:$===0?0:$,status:y.status||"scheduled"}),f(!0)},L=async()=>{const y=localStorage.getItem("token");if(!y){w("Please login to update scores.");return}try{M(!0),await vp(x.id||x._id,{status:j.status,score:{scoreHome:Number(j.scoreHome)||0,scoreAway:Number(j.scoreAway)||0},lastUpdated:new Date},y),f(!1),R()}catch(k){w(k.message||"Failed to update score")}finally{M(!1)}},E=y=>y.status||"scheduled";return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Featured Matches & Scores"}),e.jsxs("div",{className:"sport-filter",children:[e.jsx("button",{className:l==="all"?"active":"",onClick:()=>r("all"),children:"All Sports"}),e.jsx("button",{className:l==="soccer"?"active":"",onClick:()=>r("soccer"),children:" Soccer"}),e.jsx("button",{className:l==="basketball"?"active":"",onClick:()=>r("basketball"),children:" NBA"}),e.jsx("button",{className:l==="tennis"?"active":"",onClick:()=>r("tennis"),children:" Tennis"}),e.jsx("button",{className:l==="football"?"active":"",onClick:()=>r("football"),children:" Football"})]})]}),e.jsxs("div",{className:"view-content",children:[h&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading scores..."}),b&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:b}),!h&&!b&&e.jsx("div",{className:"filtered-matches-section",children:e.jsx("div",{className:"table-container scrollable",children:e.jsxs("table",{className:"data-table live-matches-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Match"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Score"}),e.jsx("th",{children:"Odds"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:S.map(y=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("strong",{children:[y.homeTeam," vs ",y.awayTeam]})}),e.jsx("td",{children:y.startTime?new Date(y.startTime).toLocaleString():""}),e.jsx("td",{children:e.jsx("span",{className:`badge ${E(y)}`,children:E(y)})}),e.jsxs("td",{children:[y.score?.score_home??y.score?.scoreHome??0," - ",y.score?.score_away??y.score?.scoreAway??0]}),e.jsx("td",{children:y.odds?JSON.stringify(y.odds):""}),e.jsx("td",{children:e.jsx("button",{className:"btn-small",onClick:()=>z(y),children:"Update"})})]},y.id||y._id))})]})})})]}),v&&x&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[e.jsx("h3",{children:"Update Score"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Home Score"}),e.jsx("input",{type:"number",value:j.scoreHome,onChange:y=>A(k=>({...k,scoreHome:y.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Away Score"}),e.jsx("input",{type:"number",value:j.scoreAway,onChange:y=>A(k=>({...k,scoreAway:y.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:j.status,onChange:y=>A(k=>({...k,status:y.target.value})),children:[e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"live",children:"Live"}),e.jsx("option",{value:"finished",children:"Finished"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>f(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:L,disabled:N,children:N?"Saving...":"Save"})]})]})})]})}const Hf={updateInfo:!0,suspendWagering:!0,enterDepositsWithdrawals:!0,deleteTransactions:!0,enterBettingAdjustments:!0,moveAccounts:!0,addAccounts:!0,changeCreditLimit:!0,setMinBet:!0,changeWagerLimit:!0,adjustParlayTeaser:!0,setGlobalTeamLimit:!0,maxWagerSetup:!0,allowDeny:!0,juiceSetup:!0,changeTempCredit:!0,changeSettleFigure:!0,views:Object.values(Bp).reduce((l,r)=>(l[r]=!0,l),{}),ipTracker:{manage:!0}},qf={dashboard:"Dashboard",weeklyFigures:"Weekly Figures",pending:"Pending",messaging:"Messaging",gameAdmin:"Game Admin",customerAdmin:"Customer Admin",agentManager:"Agent Management",cashier:"Cashier",addCustomer:"Add Customer",thirdPartyLimits:"3rd Party Limits",props:"Props / Betting",agentPerformance:"Agent Performance",analysis:"Analysis",ipTracker:"IP Tracker",transactionsHistory:"Transactions History",collections:"Collections",deletedWagers:"Deleted Wagers",gamesEvents:"Games & Events",sportsbookLinks:"Sportsbook Links",betTicker:"Bet Ticker",ticketwriter:"TicketWriter",scores:"Scores",masterAgentAdmin:"Master Agent Admin",billing:"Billing",settings:"Settings",monitor:"System Monitor",rules:"Rules",feedback:"Feedback",faq:"FAQ",userManual:"User Manual",profile:"Profile"},Up=(l,r)=>{if(!r||typeof r!="object")return l;const c={...l};return Object.keys(r).forEach(d=>{const h=r[d];h&&typeof h=="object"&&!Array.isArray(h)?c[d]=Up(l[d]||{},h):c[d]=h}),c};function zp({agent:l,onClose:r,onUpdate:c}){const[d,h]=u.useState(Hf),[p,b]=u.useState(!1);u.useEffect(()=>{l&&h(Up(Hf,l.permissions||{}))},[l]);const w=j=>{h(A=>({...A,[j]:!A[j]}))},x=(j,A)=>{h(N=>({...N,[j]:{...N[j]||{},[A]:!N?.[j]?.[A]}}))},g=async()=>{b(!0);try{const j=localStorage.getItem("token");await vj(l.id||l._id,d,j),alert("Permissions updated successfully"),c&&c(),r()}catch(j){console.error("Error updating permissions:",j),alert("Failed to update permissions: "+j.message)}finally{b(!1)}},v=(j,A)=>e.jsx("div",{className:"permission-item",children:e.jsxs("label",{className:"checkbox-container",children:[e.jsx("input",{type:"checkbox",checked:d[j],onChange:()=>w(j)}),e.jsx("span",{className:"checkmark"}),A]})},j),f=(j,A,N)=>e.jsx("div",{className:"permission-item",children:e.jsxs("label",{className:"checkbox-container",children:[e.jsx("input",{type:"checkbox",checked:!!d?.[j]?.[A],onChange:()=>x(j,A)}),e.jsx("span",{className:"checkmark"}),N]})},`${j}.${A}`);return e.jsxs("div",{className:"modal-overlay",children:[e.jsxs("div",{className:"modal-content permission-modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:["Permissions: ",l.username]}),e.jsx("button",{className:"close-btn",onClick:r,children:""})]}),e.jsxs("div",{className:"scrollable-content",children:[e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"General Account Setup"}),v("updateInfo","Update Info"),v("suspendWagering","Suspend Wagering"),v("enterDepositsWithdrawals","Enter Deposits / Withdrawals"),v("deleteTransactions","Delete Transactions"),v("enterBettingAdjustments","Enter Betting Adjustments"),v("moveAccounts","Move Accounts"),v("addAccounts","Add Accounts")]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Limit And Sport Setup"}),v("changeCreditLimit","Change Credit Limit"),v("setMinBet","Set Minimum Bet Amount"),v("changeWagerLimit","Change Wager Limit"),v("adjustParlayTeaser","Adjust Parlay/Teaser Setup"),v("setGlobalTeamLimit","Set Global Team Limit"),v("maxWagerSetup","Max Wager Setup"),v("allowDeny","Allow / Deny"),v("juiceSetup","Juice Setup"),v("changeTempCredit","Change Temp Credit"),v("changeSettleFigure","Change Settle Figure")]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"Dashboard Access"}),Object.keys(qf).map(j=>f("views",j,qf[j]))]}),e.jsxs("div",{className:"section",children:[e.jsx("h4",{children:"IP Tracker Actions"}),f("ipTracker","manage","Allow Block / Unblock / Whitelist")]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn-secondary",onClick:r,disabled:p,children:"Cancel"}),e.jsx("button",{className:"btn-primary",onClick:g,disabled:p,children:p?"Saving...":"Save"})]})]}),e.jsx("style",{children:`
        .permission-modal {
            width: 500px;
            max-width: 90vw;
            display: flex;
            flex-direction: column;
            max-height: 80vh;
        }
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #333;
            padding-bottom: 1rem;
            margin-bottom: 1rem;
        }
        .close-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 1.5rem;
            cursor: pointer;
        }
        .scrollable-content {
            overflow-y: auto;
            flex: 1;
            padding-right: 0.5rem;
        }
        .section {
            margin-bottom: 1.5rem;
        }
        .section h4 {
            color: #ccc;
            border-bottom: 1px solid #444;
            padding-bottom: 0.5rem;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        .permission-item {
            margin-bottom: 0.5rem;
        }
        .checkbox-container {
            display: block;
            position: relative;
            padding-left: 30px;
            margin-bottom: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            user-select: none;
            color: #eee;
        }
        .checkbox-container input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }
        .checkmark {
            position: absolute;
            top: 2px;
            left: 0;
            height: 18px;
            width: 18px;
            background-color: #eee;
            border-radius: 3px;
        }
        .checkbox-container:hover input ~ .checkmark {
            background-color: #ccc;
        }
        .checkbox-container input:checked ~ .checkmark {
            background-color: #e67e22; /* Warning/Orange color often used in betting apps */
        }
        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
        }
        .checkbox-container input:checked ~ .checkmark:after {
            display: block;
        }
        .checkbox-container .checkmark:after {
            left: 6px;
            top: 2px;
            width: 4px;
            height: 9px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }
        .modal-footer {
            border-top: 1px solid #333;
            padding-top: 1rem;
            margin-top: 1rem;
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }
      `})]})}function Gf(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(!1),[b,w]=u.useState(!1),[x,g]=u.useState(!1),[v,f]=u.useState(!1),[j,A]=u.useState(null),[N,M]=u.useState({username:"",phoneNumber:"",password:"",agentPrefix:""}),[R,S]=u.useState({id:"",phoneNumber:"",password:"",agentBillingRate:"",agentBillingStatus:"paid"}),[z,L]=u.useState(null),[E,y]=u.useState("all"),[k,$]=u.useState(!1),V=l.filter(K=>E==="all"?!0:E==="admin"?K.createdByModel==="Admin":E==="master_agent"?K.createdByModel==="Agent":!0),B=K=>{if(K==null||K==="")return"";const _=Number(K);return Number.isNaN(_)?"":`$${_.toFixed(2)}`};ys.useEffect(()=>{ce()},[]);const ce=async()=>{try{const K=localStorage.getItem("token");if(!K)return;const _=await hi(K);r(_||[]),L(null)}catch(K){console.error("Failed to fetch agents:",K),L(K.message||"Failed to fetch agents")}finally{d(!1)}},F=async K=>{const _=K.toUpperCase();if(M(Q=>({...Q,agentPrefix:_})),_.length>=2){const Q=localStorage.getItem("token");try{const{nextUsername:se}=await Ga(_,Q,{suffix:"MA",type:"agent"});M(Z=>({...Z,username:se}))}catch(se){console.error("Failed to get next username from prefix:",se)}}else M(Q=>({...Q,username:""}))},C=async K=>{K.preventDefault();try{const _=localStorage.getItem("token");if(!_)throw new Error("No token found");await Ir(N,_),alert("Master Agent created successfully"),p(!1),M({username:"",phoneNumber:"",password:"",agentPrefix:""}),ce()}catch(_){console.error("Agent creation error:",_),alert("Failed to create agent: "+_.message)}},P=async K=>{const _=K.status==="suspended",Q=_?"unsuspend":"suspend";if(window.confirm(`Are you sure you want to ${Q} ${K.username}?`))try{const se=localStorage.getItem("token");_?await Ap(K.id||K._id,se):await Cp(K.id||K._id,se),ce()}catch(se){alert(`Failed to ${Q} agent: `+se.message)}},D=K=>{S({id:K.id||K._id,phoneNumber:K.phoneNumber||"",password:"",agentBillingRate:K.agentBillingRate??"",agentBillingStatus:K.agentBillingStatus||"paid"}),A(K),w(!0)},ae=async K=>{K.preventDefault();try{const _=localStorage.getItem("token");if(!_)throw new Error("No token found");const Q={phoneNumber:R.phoneNumber,agentBillingRate:R.agentBillingRate,agentBillingStatus:R.agentBillingStatus};R.password&&(Q.password=R.password),await ud(R.id,Q,_),alert("Agent updated successfully"),w(!1),ce()}catch(_){console.error("Update Error:",_),alert("Failed to update agent: "+_.message)}},H=K=>{A(K),g(!0)},G=async K=>{const _=K.id||K._id,Q=K.balance??0,se=window.prompt("Enter new agent balance:",`${Q}`);if(se===null)return;const Z=Number(se);if(Number.isNaN(Z)){alert("Balance must be a valid number.");return}try{const J=localStorage.getItem("token");if(!J)throw new Error("No token found");await ud(_,{balance:Z},J),ce()}catch(J){alert("Failed to update agent balance: "+(J.message||"Unknown error"))}},ie=async K=>{const _=K.id||K._id,Q=window.prompt(`Enter new password for agent ${K.username}:`,"");if(Q!==null){if(Q.length<6){alert("Password must be at least 6 characters long");return}try{const se=localStorage.getItem("token");if(!se)throw new Error("No token found");await Ep(_,Q,se),alert(`Password for agent ${K.username} has been reset successfully.`)}catch(se){console.error("Agent password reset failed:",se),alert(se.message||"Failed to reset agent password")}}},ye=async()=>{if(window.confirm(`Create workflow demo hierarchy now?

This will add:
- 10 master agents created by admin
- 5 master agents under the first master agent
- 10 agents under each master agent
- 10 players under each agent

This action adds many records and cannot be undone automatically.`))try{$(!0);const _=localStorage.getItem("token");if(!_)throw new Error("No token found");const Q=await Nj(_),se=Q?.summary||{};alert(`Workflow seed complete.
Batch: ${Q?.batchTag||"N/A"}
Masters: ${se.totalMasters||0}
Agents: ${se.totalAgents||0}
Players: ${se.totalPlayers||0}`),await ce()}catch(_){alert("Failed to seed workflow hierarchy: "+(_.message||"Unknown error"))}finally{$(!1)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Master Agent Administration"}),e.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e.jsxs("select",{value:E,onChange:K=>y(K.target.value),style:{padding:"0.5rem",borderRadius:"4px",border:"1px solid #444",backgroundColor:"#333",color:"white"},children:[e.jsx("option",{value:"all",children:"Show All Creators"}),e.jsx("option",{value:"admin",children:"Created by Admin"}),e.jsx("option",{value:"master_agent",children:"Created by Master Agent"})]}),e.jsx("button",{className:"btn-secondary",onClick:ye,disabled:k,title:"Create full workflow test hierarchy",children:k?"Seeding...":"Seed Workflow Demo"}),e.jsx("button",{className:"btn-primary",onClick:()=>p(!0),children:"Add Master Agent"})]})]}),h&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"New Master Agent"}),e.jsxs("form",{onSubmit:C,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",value:N.agentPrefix,onChange:K=>F(K.target.value),placeholder:"Enter prefix",maxLength:5,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Username"}),e.jsx("input",{type:"text",value:N.username,readOnly:!0,style:{background:"#222",color:"#888"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:N.phoneNumber,onChange:K=>M({...N,phoneNumber:K.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:N.password,onChange:K=>M({...N,password:K.target.value}),required:!0})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Create"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>p(!1),children:"Cancel"})]})]})]})}),b&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("h3",{children:["Edit Agent: ",j?.username]}),e.jsxs("form",{onSubmit:ae,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:R.phoneNumber,onChange:K=>S({...R,phoneNumber:K.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"New Password (leave blank to keep)"}),e.jsx("input",{type:"password",value:R.password,onChange:K=>S({...R,password:K.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Rate per Customer (Weekly)"}),e.jsx("input",{type:"number",min:"0",value:R.agentBillingRate,onChange:K=>S({...R,agentBillingRate:K.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Status"}),e.jsxs("select",{value:R.agentBillingStatus,onChange:K=>S({...R,agentBillingStatus:K.target.value}),style:{width:"100%",padding:"0.5rem",background:"#333",border:"1px solid #444",color:"#fff",borderRadius:"4px"},children:[e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"unpaid",children:"Unpaid"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Cancel"})]})]})]})}),x&&j&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"Agent Details"}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Username:"})," ",e.jsx("span",{children:j.username})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Phone Number:"})," ",e.jsx("span",{children:j.phoneNumber})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Status:"})," ",e.jsx("span",{className:`badge ${j.status}`,children:j.status})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Created By:"})," ",e.jsx("span",{children:j.createdBy?.username||"System"})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Created At:"})," ",e.jsx("span",{children:new Date(j.createdAt).toLocaleString()})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Customers:"})," ",e.jsx("span",{children:j.userCount})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Active Customers:"})," ",e.jsx("span",{children:j.activeCustomerCount||0})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Balance:"})," ",e.jsx("span",{children:B(j.balance)})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Outstanding Balance:"})," ",e.jsx("span",{children:B(j.balanceOwed)})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Rate per Customer:"})," ",e.jsxs("span",{children:["$",Number(j.agentBillingRate||0).toFixed(2)]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Weekly Charge:"})," ",e.jsxs("span",{children:["$",Number(j.weeklyCharge||0).toFixed(2)]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"Billing Status:"})," ",e.jsx("span",{children:j.agentBillingStatus||"paid"})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("label",{children:"View Only:"})," ",e.jsx("span",{children:j.viewOnly?"Yes":"No"})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>g(!1),children:"Close"})})]})}),v&&j&&e.jsx(zp,{agent:j,onClose:()=>f(!1),onUpdate:ce}),e.jsx("div",{className:"view-content",children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Agent Name"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Phone Number"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created By"}),e.jsx("th",{children:"Sub-Agents"}),e.jsx("th",{children:"Total Users"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Outstanding"}),e.jsx("th",{children:"Rate/Customer"}),e.jsx("th",{children:"Weekly Charge"}),e.jsx("th",{children:"Billing"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:c?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",children:"Loading agents..."})}):z?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",children:z})}):V.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",children:"No agents found matching filter."})}):V.map(K=>e.jsxs("tr",{children:[e.jsx("td",{children:K.username}),e.jsx("td",{children:e.jsx("span",{className:`badge ${K.role==="master_agent"?"btn-primary":"btn-secondary"}`,style:{fontSize:"0.75rem",textTransform:"capitalize"},children:K.role?.replace("_"," ")||"agent"})}),e.jsx("td",{children:K.phoneNumber}),e.jsx("td",{children:e.jsx("span",{className:`badge ${K.status||""}`,children:K.status||"unknown"})}),e.jsx("td",{style:{fontWeight:"bold",color:K.createdBy?"#e67e22":"#999"},children:K.createdBy?e.jsxs(e.Fragment,{children:[e.jsxs("span",{style:{fontSize:"0.8em",color:"#888",marginRight:"4px"},children:["[",K.createdByModel==="Admin"?"Admin":"MA","]"]}),K.createdBy.username]}):"System"}),e.jsx("td",{children:K.role==="master_agent"?K.subAgentCount||0:""}),e.jsx("td",{children:K.role==="master_agent"?K.totalUsersInHierarchy||0:K.userCount||0}),e.jsx("td",{children:B(K.balance)}),e.jsx("td",{children:B(K.balanceOwed)}),e.jsxs("td",{children:["$",Number(K.agentBillingRate||0).toFixed(2)]}),e.jsxs("td",{children:["$",Number(K.weeklyCharge||0).toFixed(2)]}),e.jsx("td",{children:e.jsx("span",{className:`badge ${K.agentBillingStatus==="unpaid"?"warning":"active"}`,children:K.agentBillingStatus||"paid"})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>D(K),children:"Edit"}),e.jsx("button",{className:"btn-small",onClick:()=>H(K),children:"View"}),e.jsx("button",{className:"btn-small",onClick:()=>{A(K),f(!0)},children:"Permissions"}),e.jsx("button",{className:"btn-small",onClick:()=>G(K),children:"Adjust Balance"}),e.jsx("button",{className:`btn-small ${K.status==="suspended"?"btn-success":"btn-danger"}`,onClick:()=>P(K),children:K.status==="suspended"?"Activate":"Deactivate"}),e.jsx("button",{className:"btn-small btn-secondary",onClick:()=>ie(K),children:"Reset Pass"})]})]},K.id||K._id))})]})})}),e.jsx("style",{children:`
        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.7); display: flex; justify-content: center; align-items: center; z-index: 1000;
        }
        .modal-content {
            background: #1e1e1e; padding: 2rem; border-radius: 8px; width: 400px; border: 1px solid #333; color: #fff;
        }
        .form-group { margin-bottom: 1rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; color: #aaa; }
        .form-group input { width: 100%; padding: 0.5rem; background: #333; border: 1px solid #444; color: #fff; border-radius: 4px; }
        .modal-actions { display: flex; gap: 1rem; margin-top: 1.5rem; }
        .detail-row { display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid #333; }
        .detail-row label { color: #888; }
        .btn-success { background-color: #27ae60 !important; }
      `})]})}function x0(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(!1),[b,w]=u.useState(!1),[x,g]=u.useState(!1),[v,f]=u.useState(null),[j,A]=u.useState({username:"",phoneNumber:"",password:"",fullName:"",agentPrefix:"",role:"agent"}),[N,M]=u.useState({id:"",phoneNumber:"",password:""}),[R,S]=u.useState(null),[z,L]=u.useState("");u.useEffect(()=>{y(),E()},[]);const E=async()=>{try{const C=localStorage.getItem("token");if(C){const P=await en(C);L(P?.username||"")}}catch(C){console.error("Failed to fetch profile:",C)}},y=async()=>{try{const C=localStorage.getItem("token");if(!C)return;const P=await Sj(C);r(P||[]),S(null)}catch(C){console.error("Failed to fetch agents:",C),S(C.message||"Failed to fetch agents")}finally{d(!1)}},k=async C=>{const P=C.toUpperCase();if(A(D=>({...D,agentPrefix:P})),P.length>=2){const D=localStorage.getItem("token");try{const{nextUsername:ae}=await Ga(P,D,{type:"agent"});A(H=>({...H,username:ae}))}catch(ae){console.error("Failed to get next username from prefix:",ae)}}else A(D=>({...D,username:""}))},$=async C=>{C.preventDefault();try{const P=localStorage.getItem("token");if(!P)throw new Error("No token found");await hd(j,P),alert("Agent created successfully"),p(!1),A({username:"",phoneNumber:"",password:"",fullName:"",agentPrefix:"",role:"agent"}),y()}catch(P){alert("Failed to create agent: "+P.message)}},V=C=>{M({id:C.id||C._id,phoneNumber:C.phoneNumber||"",password:""}),f(C),w(!0)},B=async C=>{C.preventDefault();try{const P=localStorage.getItem("token"),D={phoneNumber:N.phoneNumber};N.password&&(D.password=N.password),await ud(N.id,D,P),alert("Agent updated successfully"),w(!1),y()}catch(P){alert("Failed to update agent: "+P.message)}},ce=async C=>{const P=C.status==="suspended",D=P?"unsuspend":"suspend";if(window.confirm(`Are you sure you want to ${D} ${C.username}?`))try{const ae=localStorage.getItem("token");P?await Ap(C.id||C._id,ae):await Cp(C.id||C._id,ae),y()}catch(ae){alert(`Failed to ${D} agent: `+ae.message)}},F=async C=>{const P=window.prompt(`Enter new password for agent ${C.username}:`);if(P)try{const D=localStorage.getItem("token");await Ep(C.id||C._id,P,D),alert("Password reset successful")}catch(D){alert("Reset failed: "+D.message)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Agent Management"}),localStorage.getItem("userRole")!=="admin"&&e.jsx("button",{className:"btn-primary",onClick:()=>{p(!0),z&&k(z)},children:"Add Agent"})]}),h&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"New Agent"}),e.jsxs("form",{onSubmit:$,children:[!z&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Prefix"}),e.jsx("input",{type:"text",value:j.agentPrefix,onChange:C=>k(C.target.value),placeholder:"Enter prefix",maxLength:5,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role"}),e.jsxs("select",{value:j.role,onChange:C=>A({...j,role:C.target.value}),style:{width:"100%",padding:"0.5rem",background:"#333",color:"white",marginBottom:"1rem",border:"1px solid #444"},children:[e.jsx("option",{value:"agent",children:"Agent"}),e.jsx("option",{value:"master_agent",children:"Master Agent"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Username"}),e.jsx("input",{type:"text",value:j.username,readOnly:!0,style:{background:"#222",color:"#888"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:j.phoneNumber,onChange:C=>A({...j,phoneNumber:C.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:j.password,onChange:C=>A({...j,password:C.target.value}),required:!0})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Create"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>p(!1),children:"Cancel"})]})]})]})}),b&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("h3",{children:["Edit Sub-Agent: ",v?.username]}),e.jsxs("form",{onSubmit:B,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:N.phoneNumber,onChange:C=>M({...N,phoneNumber:C.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"New Password (leave blank to keep)"}),e.jsx("input",{type:"password",value:N.password,onChange:C=>M({...N,password:C.target.value})})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Cancel"})]})]})]})}),x&&v&&e.jsx(zp,{agent:v,onClose:()=>g(!1),onUpdate:y}),e.jsx("div",{className:"view-content",children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Username"}),e.jsx("th",{children:"Phone Number"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Users"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:c?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"Loading agents..."})}):R?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"error",children:R})}):l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",children:"No agents found."})}):l.map(C=>e.jsxs("tr",{children:[e.jsx("td",{children:C.username}),e.jsx("td",{children:C.phoneNumber}),e.jsx("td",{children:e.jsx("span",{className:"badge",children:C.role==="master_agent"?"Master Agent":"Agent"})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${C.status}`,children:C.status})}),e.jsx("td",{children:C.userCount||0}),e.jsxs("td",{children:["$",Number(C.balance||0).toFixed(2)]}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>V(C),children:"Edit"}),e.jsx("button",{className:"btn-small",onClick:()=>{f(C),g(!0)},children:"Perms"}),e.jsx("button",{className:`btn-small ${C.status==="suspended"?"btn-success":"btn-danger"}`,onClick:()=>ce(C),children:C.status==="suspended"?"Activate":"Deactivate"}),e.jsx("button",{className:"btn-small btn-secondary",onClick:()=>F(C),children:"Reset Path"})]})]},C.id||C._id))})]})})}),e.jsx("style",{children:`
        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.7); display: flex; justify-content: center; align-items: center; z-index: 1000;
        }
        .modal-content {
            background: #1e1e1e; padding: 2rem; border-radius: 8px; width: 400px; border: 1px solid #333; color: #fff;
        }
        .form-group { margin-bottom: 1rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; color: #aaa; }
        .form-group input { width: 100%; padding: 0.5rem; background: #333; border: 1px solid #444; color: #fff; border-radius: 4px; }
        .modal-actions { display: flex; gap: 1rem; margin-top: 1.5rem; }
      `})]})}function g0(){const[l,r]=u.useState([]),[c,d]=u.useState({paid:0,outstanding:0,total:0}),[h,p]=u.useState(!0),[b,w]=u.useState(""),[x,g]=u.useState(!1),[v,f]=u.useState(!1),[j,A]=u.useState(null),[N,M]=u.useState(null),[R,S]=u.useState("all"),[z,L]=u.useState({invoiceNumber:"",amount:"",status:"pending",dueDate:"",notes:""}),E=async()=>{const F=localStorage.getItem("token");if(!F){w("Please login to view billing."),p(!1);return}try{p(!0);const[C,P]=await Promise.all([Aj(F),Ej({status:R,limit:200},F)]);d(C||{paid:0,outstanding:0,total:0}),r(P.invoices||[]),w("")}catch(C){console.error("Failed to load billing:",C),w(C.message||"Failed to load billing")}finally{p(!1)}};u.useEffect(()=>{E()},[R]);const y=F=>{if(F==null)return"";const C=Number(F);return Number.isNaN(C)?"":`$${C.toFixed(2)}`},k=()=>{L({invoiceNumber:"",amount:"",status:"pending",dueDate:"",notes:""}),g(!0)},$=F=>{A(F),f(!0)},V=async()=>{const F=localStorage.getItem("token");if(!F){w("Please login to save invoices.");return}try{M("new"),await Tj({invoiceNumber:z.invoiceNumber.trim(),amount:Number(z.amount)||0,status:z.status,dueDate:z.dueDate||null,notes:z.notes.trim()||null},F),g(!1),E()}catch(C){w(C.message||"Failed to create invoice")}finally{M(null)}},B=async F=>{const C=localStorage.getItem("token");if(!C){w("Please login to update invoices.");return}try{M(F.id),await Lj(F.id,{status:"paid"},C),E()}catch(P){w(P.message||"Failed to update invoice")}finally{M(null)}},ce=F=>{const C=JSON.stringify(F,null,2),P=new Blob([C],{type:"application/json"}),D=URL.createObjectURL(P),ae=document.createElement("a");ae.href=D,ae.download=`${F.invoice||"invoice"}.json`,ae.click(),URL.revokeObjectURL(D)};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Billing Management"}),e.jsx("button",{className:"btn-primary",onClick:k,children:"Create Invoice"})]}),e.jsxs("div",{className:"view-content",children:[h&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading billing..."}),b&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:b}),!h&&!b&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"billing-summary",children:[e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total Paid"}),e.jsx("p",{className:"amount",children:y(c.paid)})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total Outstanding"}),e.jsx("p",{className:"amount",children:y(c.outstanding)})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("h3",{children:"Total All Time"}),e.jsx("p",{className:"amount",children:y(c.total)})]})]}),e.jsx("div",{className:"filter-section",children:e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:R,onChange:F=>S(F.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"overdue",children:"Overdue"})]})]})}),e.jsxs("div",{className:"table-container",children:[e.jsx("h3",{children:"Recent Invoices"}),e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Invoice #"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(F=>e.jsxs("tr",{children:[e.jsx("td",{children:F.invoice}),e.jsx("td",{children:F.date?new Date(F.date).toLocaleDateString():""}),e.jsx("td",{children:y(F.amount)}),e.jsx("td",{children:e.jsx("span",{className:`badge ${F.status}`,children:F.status})}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-small",onClick:()=>ce(F),children:"Download"}),e.jsx("button",{className:"btn-small",onClick:()=>$(F),children:"View"}),F.status!=="paid"&&e.jsx("button",{className:"btn-small",onClick:()=>B(F),disabled:N===F.id,children:N===F.id?"Working...":"Mark Paid"})]})]},F.id))})]})]})]})]}),x&&e.jsx("div",{className:"modal-overlay",onClick:()=>g(!1),children:e.jsxs("div",{className:"modal-content",onClick:F=>F.stopPropagation(),children:[e.jsx("h3",{children:"Create Invoice"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Invoice #"}),e.jsx("input",{type:"text",value:z.invoiceNumber,onChange:F=>L(C=>({...C,invoiceNumber:F.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:z.amount,onChange:F=>L(C=>({...C,amount:F.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:z.status,onChange:F=>L(C=>({...C,status:F.target.value})),children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"overdue",children:"Overdue"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Due Date"}),e.jsx("input",{type:"date",value:z.dueDate,onChange:F=>L(C=>({...C,dueDate:F.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:z.notes,onChange:F=>L(C=>({...C,notes:F.target.value}))})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>g(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:V,disabled:N||!z.invoiceNumber.trim()||!z.amount,children:N?"Saving...":"Save"})]})]})}),v&&j&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content",onClick:F=>F.stopPropagation(),children:[e.jsx("h3",{children:"Invoice Details"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Invoice:"})," ",j.invoice]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",y(j.amount)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",j.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",j.date?new Date(j.date).toLocaleString():""]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Due Date:"})," ",j.dueDate?new Date(j.dueDate).toLocaleDateString():""]}),j.notes&&e.jsxs("p",{children:[e.jsx("strong",{children:"Notes:"})," ",j.notes]})]}),e.jsx("div",{className:"modal-actions",children:e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>f(!1),children:"Close"})})]})})]})}function b0(){const[l,r]=u.useState({platformName:"Sports Betting Platform",dailyBetLimit:"10000",weeklyBetLimit:"50000",maxOdds:"100",minBet:"1",maxBet:"5000",maintenanceMode:!1,smsNotifications:!0,twoFactor:!0}),[c,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(!1);u.useEffect(()=>{(async()=>{const f=localStorage.getItem("token");if(!f){p("Please login to load settings."),d(!1);return}try{d(!0);const j=await Mj(f);r({platformName:j.platformName,dailyBetLimit:j.dailyBetLimit,weeklyBetLimit:j.weeklyBetLimit,maxOdds:j.maxOdds,minBet:j.minBet,maxBet:j.maxBet,maintenanceMode:j.maintenanceMode,smsNotifications:j.smsNotifications,twoFactor:j.twoFactor}),p("")}catch(j){console.error("Failed to load settings:",j),p(j.message||"Failed to load settings")}finally{d(!1)}})()},[]);const x=v=>{const{name:f,value:j,type:A,checked:N}=v.target;r(M=>({...M,[f]:A==="checkbox"?N:j}))},g=async()=>{const v=localStorage.getItem("token");if(!v){p("Please login to save settings.");return}try{w(!0),await Dj(l,v),p("")}catch(f){p(f.message||"Failed to save settings")}finally{w(!1)}};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Platform Settings"})}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading settings..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsx("div",{className:"settings-container",children:e.jsxs("form",{className:"settings-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"General Settings"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Platform Name:"}),e.jsx("input",{type:"text",name:"platformName",value:l.platformName,onChange:x})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Bet Limits"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Daily Bet Limit ($):"}),e.jsx("input",{type:"number",name:"dailyBetLimit",value:l.dailyBetLimit,onChange:x})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Weekly Bet Limit ($):"}),e.jsx("input",{type:"number",name:"weeklyBetLimit",value:l.weeklyBetLimit,onChange:x})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Max Odds:"}),e.jsx("input",{type:"number",name:"maxOdds",value:l.maxOdds,onChange:x,step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Minimum Bet ($):"}),e.jsx("input",{type:"number",name:"minBet",value:l.minBet,onChange:x,step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Maximum Bet ($):"}),e.jsx("input",{type:"number",name:"maxBet",value:l.maxBet,onChange:x})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Security Settings"}),e.jsxs("div",{className:"form-group checkbox",children:[e.jsx("input",{type:"checkbox",name:"twoFactor",checked:l.twoFactor,onChange:x,id:"twoFactor"}),e.jsx("label",{htmlFor:"twoFactor",children:"Require Two-Factor Authentication"})]}),e.jsxs("div",{className:"form-group checkbox",children:[e.jsx("input",{type:"checkbox",name:"maintenanceMode",checked:l.maintenanceMode,onChange:x,id:"maintenanceMode"}),e.jsx("label",{htmlFor:"maintenanceMode",children:"Maintenance Mode"})]}),e.jsxs("div",{className:"form-group checkbox",children:[e.jsx("input",{type:"checkbox",name:"smsNotifications",checked:l.smsNotifications,onChange:x,id:"smsNotifications"}),e.jsx("label",{htmlFor:"smsNotifications",children:"Enable SMS Notifications"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:g,className:"btn-primary",disabled:b,children:b?"Saving...":"Save Settings"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>window.location.reload(),children:"Reset"})]})]})})]})]})}function y0(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(!1),[x,g]=u.useState(null),[v,f]=u.useState({title:"",items:"",status:"active"}),[j,A]=u.useState(null),N=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to view rules."),d(!1);return}try{d(!0);const E=await _j(L);r(E.rules||[]),p("")}catch(E){console.error("Failed to load rules:",E),p(E.message||"Failed to load rules")}finally{d(!1)}};u.useEffect(()=>{N()},[]);const M=()=>{g(null),f({title:"",items:"",status:"active"}),w(!0)},R=L=>{g(L),f({title:L.title,items:(L.items||[]).join(`
`),status:L.status||"active"}),w(!0)},S=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to save rules.");return}try{A(x?.id||"new");const E={title:v.title.trim(),items:v.items.split(`
`).map(y=>y.trim()).filter(Boolean),status:v.status};x?await Rj(x.id||x._id,E,L):await Bj(E,L),w(!1),N()}catch(E){p(E.message||"Failed to save rule")}finally{A(null)}},z=async L=>{const E=localStorage.getItem("token");if(!E){p("Please login to delete rules.");return}try{A(L),await Oj(L,E),r(y=>y.filter(k=>(k.id||k._id)!==L))}catch(y){p(y.message||"Failed to delete rule")}finally{A(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"Rules & Regulations"}),e.jsx("button",{className:"btn-primary",onClick:M,children:"Add New Rule"})]}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading rules..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsx("div",{className:"rules-container",children:l.map(L=>e.jsxs("div",{className:"rule-card",children:[e.jsx("h3",{children:L.title}),e.jsx("ul",{children:(L.items||[]).map((E,y)=>e.jsx("li",{children:E},y))}),e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{className:"btn-small",onClick:()=>R(L),children:"Edit"}),e.jsx("button",{className:"btn-small btn-danger",onClick:()=>z(L.id||L._id),disabled:j===(L.id||L._id),children:j===(L.id||L._id)?"Working...":"Delete"})]})]},L.id||L._id))})]}),b&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[e.jsx("h3",{children:x?"Edit Rule":"Add Rule"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Title"}),e.jsx("input",{type:"text",value:v.title,onChange:L=>f(E=>({...E,title:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Items (one per line)"}),e.jsx("textarea",{rows:"6",value:v.items,onChange:L=>f(E=>({...E,items:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:v.status,onChange:L=>f(E=>({...E,status:L.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:S,disabled:j||!v.title.trim(),children:j?"Saving...":"Save"})]})]})})]})}function j0(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState("all"),[x,g]=u.useState(null),[v,f]=u.useState(""),[j,A]=u.useState(!1),[N,M]=u.useState(null),R=async()=>{const y=localStorage.getItem("token");if(!y){p("Please login to view feedback."),d(!1);return}try{d(!0);const k=await Uj({status:b},y);r(k.feedbacks||[]),p("")}catch(k){console.error("Failed to load feedback:",k),p(k.message||"Failed to load feedback")}finally{d(!1)}};u.useEffect(()=>{R()},[b]);const S=y=>{g(y),f(y.adminReply||""),A(!0)},z=async()=>{const y=localStorage.getItem("token");if(!y){p("Please login to reply.");return}try{M(x.id),await zj(x.id,{reply:v},y),A(!1),R()}catch(k){p(k.message||"Failed to reply")}finally{M(null)}},L=async y=>{const k=localStorage.getItem("token");if(!k){p("Please login to mark reviewed.");return}try{M(y),await Fj(y,k),R()}catch($){p($.message||"Failed to mark reviewed")}finally{M(null)}},E=async y=>{const k=localStorage.getItem("token");if(!k){p("Please login to delete feedback.");return}try{M(y),await Ij(y,k),r($=>$.filter(V=>V.id!==y))}catch($){p($.message||"Failed to delete feedback")}finally{M(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"Customer Feedback"})}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading feedback..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"filter-section",children:e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:b,onChange:y=>w(y.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"reviewed",children:"Reviewed"})]})]})}),e.jsx("div",{className:"feedback-container",children:l.map(y=>e.jsxs("div",{className:"feedback-card",children:[e.jsxs("div",{className:"feedback-header",children:[e.jsx("h4",{children:y.user}),e.jsx("div",{className:"rating",children:"".repeat(y.rating||0)}),e.jsx("span",{className:"date",children:y.date?new Date(y.date).toLocaleDateString():""})]}),e.jsx("p",{className:"feedback-message",children:y.message}),y.adminReply&&e.jsxs("p",{className:"feedback-message",children:[e.jsx("strong",{children:"Reply:"})," ",y.adminReply]}),e.jsxs("div",{className:"feedback-actions",children:[e.jsx("button",{className:"btn-small",onClick:()=>S(y),children:"Reply"}),e.jsx("button",{className:"btn-small",onClick:()=>L(y.id),disabled:N===y.id,children:N===y.id?"Working...":"Mark as Reviewed"}),e.jsx("button",{className:"btn-small btn-danger",onClick:()=>E(y.id),disabled:N===y.id,children:N===y.id?"Working...":"Delete"})]})]},y.id))})]})]}),j&&x&&e.jsx("div",{className:"modal-overlay",onClick:()=>A(!1),children:e.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[e.jsx("h3",{children:"Reply to Feedback"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",x.user]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Message:"})," ",x.message]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Reply"}),e.jsx("textarea",{rows:"4",value:v,onChange:y=>f(y.target.value)})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>A(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:z,disabled:N===x.id||!v.trim(),children:N===x.id?"Saving...":"Save Reply"})]})]})})]})}function v0(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(!1),[x,g]=u.useState(null),[v,f]=u.useState({question:"",answer:"",status:"active",order:0}),[j,A]=u.useState(null),N=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to view FAQs."),d(!1);return}try{d(!0);const E=await $j(L);r(E.faqs||[]),p("")}catch(E){console.error("Failed to load FAQs:",E),p(E.message||"Failed to load FAQs")}finally{d(!1)}};u.useEffect(()=>{N()},[]);const M=()=>{g(null),f({question:"",answer:"",status:"active",order:0}),w(!0)},R=L=>{g(L),f({question:L.question,answer:L.answer,status:L.status||"active",order:L.order||0}),w(!0)},S=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to save FAQs.");return}try{A(x?.id||"new");const E={question:v.question.trim(),answer:v.answer.trim(),status:v.status,order:Number(v.order)||0};x?await Hj(x.id||x._id,E,L):await Pj(E,L),w(!1),N()}catch(E){p(E.message||"Failed to save FAQ")}finally{A(null)}},z=async L=>{const E=localStorage.getItem("token");if(!E){p("Please login to delete FAQs.");return}try{A(L),await qj(L,E),r(y=>y.filter(k=>(k.id||k._id)!==L))}catch(y){p(y.message||"Failed to delete FAQ")}finally{A(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"FAQ Management"}),e.jsx("button",{className:"btn-primary",onClick:M,children:"Add New FAQ"})]}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading FAQs..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&e.jsx("div",{className:"faq-container",children:l.map(L=>e.jsxs("div",{className:"faq-item",children:[e.jsxs("div",{className:"faq-question",children:[e.jsxs("h4",{children:["Q: ",L.question]}),e.jsx("button",{className:"btn-small",onClick:()=>R(L),children:"Edit"}),e.jsx("button",{className:"btn-small btn-danger",onClick:()=>z(L.id||L._id),disabled:j===(L.id||L._id),children:j===(L.id||L._id)?"Working...":"Delete"})]}),e.jsx("div",{className:"faq-answer",children:e.jsxs("p",{children:["A: ",L.answer]})})]},L.id||L._id))})]}),b&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[e.jsx("h3",{children:x?"Edit FAQ":"Add FAQ"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Question"}),e.jsx("input",{type:"text",value:v.question,onChange:L=>f(E=>({...E,question:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Answer"}),e.jsx("textarea",{rows:"4",value:v.answer,onChange:L=>f(E=>({...E,answer:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:v.status,onChange:L=>f(E=>({...E,status:L.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Order"}),e.jsx("input",{type:"number",value:v.order,onChange:L=>f(E=>({...E,order:L.target.value}))})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:S,disabled:j||!v.question.trim()||!v.answer.trim(),children:j?"Saving...":"Save"})]})]})})]})}function N0(){const[l,r]=u.useState([]),[c,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(!1),[x,g]=u.useState(null),[v,f]=u.useState({title:"",content:"",order:0,status:"active"}),[j,A]=u.useState(null),N=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to view manual."),d(!1);return}try{d(!0);const E=await Gj(L);r(E.sections||[]),p("")}catch(E){console.error("Failed to load manual:",E),p(E.message||"Failed to load manual")}finally{d(!1)}};u.useEffect(()=>{N()},[]);const M=()=>{g(null),f({title:"",content:"",order:0,status:"active"}),w(!0)},R=L=>{g(L),f({title:L.title,content:L.content,order:L.order||0,status:L.status||"active"}),w(!0)},S=async()=>{const L=localStorage.getItem("token");if(!L){p("Please login to save manual sections.");return}try{A(x?.id||"new");const E={title:v.title.trim(),content:v.content.trim(),order:Number(v.order)||0,status:v.status};x?await Yj(x.id||x._id,E,L):await Wj(E,L),w(!1),N()}catch(E){p(E.message||"Failed to save section")}finally{A(null)}},z=async L=>{const E=localStorage.getItem("token");if(!E){p("Please login to delete sections.");return}try{A(L),await Vj(L,E),r(y=>y.filter(k=>(k.id||k._id)!==L))}catch(y){p(y.message||"Failed to delete section")}finally{A(null)}};return e.jsxs("div",{className:"admin-view",children:[e.jsxs("div",{className:"view-header",children:[e.jsx("h2",{children:"User Manual"}),e.jsx("button",{className:"btn-primary",onClick:M,children:"Add Section"})]}),e.jsx("div",{className:"view-content",children:e.jsxs("div",{className:"manual-container",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading manual..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&l.map(L=>e.jsxs("section",{className:"manual-section",children:[e.jsx("h3",{children:L.title}),e.jsx("p",{children:L.content}),e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{className:"btn-small",onClick:()=>R(L),children:"Edit"}),e.jsx("button",{className:"btn-small btn-danger",onClick:()=>z(L.id||L._id),disabled:j===(L.id||L._id),children:j===(L.id||L._id)?"Working...":"Delete"})]})]},L.id||L._id))]})}),b&&e.jsx("div",{className:"modal-overlay",onClick:()=>w(!1),children:e.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[e.jsx("h3",{children:x?"Edit Section":"Add Section"}),e.jsxs("div",{className:"view-details",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Title"}),e.jsx("input",{type:"text",value:v.title,onChange:L=>f(E=>({...E,title:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Content"}),e.jsx("textarea",{rows:"6",value:v.content,onChange:L=>f(E=>({...E,content:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Order"}),e.jsx("input",{type:"number",value:v.order,onChange:L=>f(E=>({...E,order:L.target.value}))})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:v.status,onChange:L=>f(E=>({...E,status:L.target.value})),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>w(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn-primary",onClick:S,disabled:j||!v.title.trim()||!v.content.trim(),children:j?"Saving...":"Save"})]})]})})]})}const w0=()=>{const[l,r]=u.useState(null),[c,d]=u.useState(null),[h,p]=u.useState(!0),[b,w]=u.useState(null),x=async()=>{try{const N=localStorage.getItem("token");if(!N)throw new Error("Please login to view system monitor");const[M,R]=await Promise.all([Iy(N),$y(N)]);r(M),d(R),w(new Date),p(!1)}catch(N){console.error("Monitor Error:",N),p(!1)}};if(u.useEffect(()=>{x();const N=setInterval(()=>{document.hidden||x()},6e4);return()=>clearInterval(N)},[]),h&&!l)return e.jsx("div",{className:"admin-content-card",children:"Loading System Monitor..."});const g=l?.counts||{users:0,bets:0,matches:0},v=l?.liveMatches||[],f=c?.items||[],j=c?.summary||{links:0,collections:0,rows:0},A=async()=>{try{const N=localStorage.getItem("token");if(!N)throw new Error("Please login first");const M=await Np(N);alert(`Odds Refreshed! Created: ${M.results?.created||0}, Updated: ${M.results?.updated||0}`),x()}catch(N){console.error("Refresh error:",N),alert(N.message||"Error refreshing odds")}};return e.jsxs("div",{className:"admin-view-container",children:[e.jsxs("div",{className:"admin-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h2",{style:{color:"#fff",margin:0},children:"System Monitor"}),e.jsxs("div",{style:{color:"#aaa",fontSize:"0.9rem"},children:["Last updated: ",b?b.toLocaleTimeString():"Never"]}),e.jsx("button",{onClick:A,style:{background:"#e67e22",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:" Refresh Live Odds"})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon users",children:e.jsx("i",{className:"fa-solid fa-users"})}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h3",{children:"Total Users"}),e.jsx("p",{children:g.users})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon bets",children:e.jsx("i",{className:"fa-solid fa-ticket"})}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h3",{children:"Total Bets"}),e.jsx("p",{children:g.bets})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon matches",children:e.jsx("i",{className:"fa-solid fa-futbol"})}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h3",{children:"Active Matches"}),e.jsx("p",{children:g.matches})]})]})]}),e.jsxs("div",{className:"admin-content-card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{children:[e.jsx("i",{className:"fa-solid fa-satellite-dish"})," Live & Scored Matches (DB View)"]})}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"admin-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Sport"}),e.jsx("th",{children:"Match"}),e.jsx("th",{children:"Scores"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last Updated"})]})}),e.jsx("tbody",{children:v.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center",children:"No live or scored matches found."})}):v.map(N=>e.jsxs("tr",{children:[e.jsx("td",{children:N.sport?.replace("_"," ").toUpperCase()}),e.jsxs("td",{children:[N.homeTeam," ",e.jsx("span",{className:"vs",children:"vs"})," ",N.awayTeam]}),e.jsxs("td",{className:"score-cell",children:[e.jsx("span",{className:"score-badge home",children:N.score?.score_home??N.score?.scoreHome??0}),"-",e.jsx("span",{className:"score-badge away",children:N.score?.score_away??N.score?.scoreAway??0})]}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${N.status}`,children:N.status})}),e.jsx("td",{children:new Date(N.lastUpdated).toLocaleTimeString()})]},N.id||N._id))})]})})]}),e.jsxs("div",{className:"admin-content-card",style:{marginTop:"20px"},children:[e.jsx("div",{className:"card-header",children:e.jsxs("h3",{children:[e.jsx("i",{className:"fa-solid fa-diagram-project"})," Dashboard Link to Entity/Table Map"]})}),e.jsxs("div",{style:{color:"#666",marginBottom:"10px",fontSize:"0.9rem"},children:["Links: ",j.links," | Collections: ",j.collections," | Total Rows: ",j.rows]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"admin-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Dashboard Link"}),e.jsx("th",{children:"Collections"}),e.jsx("th",{children:"Tables / Views"}),e.jsx("th",{children:"API Routes"})]})}),e.jsx("tbody",{children:f.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"text-center",children:"No entity catalog data found."})}):f.map(N=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("strong",{children:N.label}),e.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:N.id})]}),e.jsx("td",{children:(N.collections||[]).map(M=>e.jsxs("div",{style:{marginBottom:"4px"},children:[e.jsx("code",{children:M.collection})," (",M.rows,")"]},`${N.id}-${M.collection}`))}),e.jsx("td",{children:(N.collections||[]).map(M=>e.jsxs("div",{style:{marginBottom:"4px",fontSize:"0.85rem"},children:[e.jsxs("div",{children:[e.jsx("code",{children:M.table})," ",M.exists?"":"(missing)"]}),e.jsxs("div",{children:[e.jsx("code",{children:M.entityView})," | ",e.jsx("code",{children:M.flatTable})]})]},`${N.id}-${M.collection}-table`))}),e.jsx("td",{children:(N.routes||[]).map(M=>e.jsx("div",{style:{marginBottom:"2px",fontSize:"0.85rem"},children:e.jsx("code",{children:M})},`${N.id}-${M}`))})]},N.id))})]})})]}),e.jsx("style",{children:`
                .view-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 2rem;
                }
                .last-updated {
                    font-size: 0.9rem;
                    color: #888;
                    font-family: monospace;
                }
                .stats-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                    gap: 1.5rem;
                    margin-bottom: 2rem;
                }
                .stat-card {
                    background: #1e1e1e;
                    border-radius: 12px;
                    padding: 1.5rem;
                    display: flex;
                    align-items: center;
                    gap: 1.5rem;
                    border: 1px solid #333;
                }
                .stat-icon {
                    width: 50px;
                    height: 50px;
                    border-radius: 10px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.5rem;
                }
                .stat-icon.users { background: rgba(52, 152, 219, 0.2); color: #3498db; }
                .stat-icon.bets { background: rgba(46, 204, 113, 0.2); color: #2ecc71; }
                .stat-icon.matches { background: rgba(231, 76, 60, 0.2); color: #e74c3c; }
                .stat-info h3 { margin: 0; font-size: 0.9rem; color: #888; }
                .stat-info p { margin: 0; font-size: 1.8rem; font-weight: bold; color: #fff; }
                
                .admin-table th {
                    background-color: #333;
                    color: white;
                    padding: 12px;
                    text-align: left;
                }
                .admin-table td {
                    padding: 12px;
                    border-bottom: 1px solid #eee;
                    color: #333; /* Dark text for readability */
                    background-color: #fff; /* Ensure white background */
                }
                .admin-table tr:hover td {
                    background-color: #f5f5f5;
                }
                .score-cell { font-weight: bold; color: #000; }
                .score-badge { 
                    display: inline-block; 
                    padding: 2px 6px; 
                    background: #eee; 
                    color: #333;
                    border: 1px solid #ccc;
                    border-radius: 4px; 
                    margin: 0 4px;
                }
                .vs { color: #555; font-size: 0.8rem; }
            `})]})},li=l=>{const r=Number(l);return Number.isNaN(r)?"":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(r)};function S0(){const[l,r]=u.useState(null),[c,d]=u.useState(!0),[h,p]=u.useState(""),[b,w]=u.useState(!1),x=async g=>{const v=g.target.value;w(!0);try{const f=localStorage.getItem("token");await Dy({dashboardLayout:v},f),r(j=>({...j,dashboardLayout:v})),alert("Layout updated. The page will reload to apply changes."),window.location.reload()}catch(f){alert("Failed to update layout: "+f.message)}finally{w(!1)}};return u.useEffect(()=>{(async()=>{const v=localStorage.getItem("token");if(!v){p("Please login to view profile."),d(!1);return}try{d(!0);const f=await en(v);r(f),p("")}catch(f){p(f.message||"Failed to load profile")}finally{d(!1)}})()},[]),e.jsxs("div",{className:"admin-view",children:[e.jsx("div",{className:"view-header",children:e.jsx("h2",{children:"My Profile"})}),e.jsxs("div",{className:"view-content",children:[c&&e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading profile..."}),h&&e.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:h}),!c&&!h&&l&&e.jsx("div",{className:"settings-container",children:e.jsxs("div",{className:"settings-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Account"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Username:"}),e.jsx("input",{type:"text",value:l.username||"",readOnly:!0})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Preferences"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Dashboard Layout:"}),e.jsxs("select",{value:l.dashboardLayout||"tiles",onChange:x,disabled:b,style:{padding:"8px",borderRadius:"4px",border:"1px solid #ccc"},children:[e.jsx("option",{value:"tiles",children:"Tiles (Default)"}),e.jsx("option",{value:"sidebar",children:"Sidebar Navigation"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number:"}),e.jsx("input",{type:"text",value:l.phoneNumber||"",readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Role:"}),e.jsx("input",{type:"text",value:l.role||"",readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Super Admin:"}),e.jsx("input",{type:"text",value:l.isSuperAdmin?"Yes":"No",readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Unlimited Balance:"}),e.jsx("input",{type:"text",value:l.unlimitedBalance?"Enabled":"Disabled",readOnly:!0})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{children:"Balances"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Balance:"}),e.jsx("input",{type:"text",value:li(l.balance),readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pending Balance:"}),e.jsx("input",{type:"text",value:li(l.pendingBalance),readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Available Balance:"}),e.jsx("input",{type:"text",value:li(l.availableBalance),readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Outstanding (Settle Limit):"}),e.jsx("input",{type:"text",value:li(l.balanceOwed),readOnly:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Credit Limit:"}),e.jsx("input",{type:"text",value:li(l.creditLimit),readOnly:!0})]})]})]})})]})]})}const Wf={password:"",firstName:"",lastName:"",phoneNumber:"",minBet:0,agentId:"",status:"active",creditLimit:0,wagerLimit:0,settleLimit:0,accountType:"credit",zeroBalanceWeekly:"standard",tempCredit:0,expiresOn:"",enableCaptcha:!1,cryptoPromoPct:0,promoType:"promo_credit",playerNotes:"",sportsbook:!0,casino:!0,horses:!0,messaging:!1,dynamicLive:!0,propPlus:!0,liveCasino:!1,freePlayPercent:20,maxFpCredit:0,dlMinStraightBet:25,dlMaxStraightBet:250,dlMaxPerOffering:500,dlMaxBetPerEvent:500,dlMaxWinSingleBet:1e3,dlMaxWinEvent:3e3,dlDelaySec:7,dlMaxFavoriteLine:-1e4,dlMaxDogLine:1e4,dlMinParlayBet:10,dlMaxParlayBet:100,dlMaxWinEventParlay:3e3,dlMaxDogLineParlays:1e3,dlWagerCoolOffSec:30,dlLiveParlays:!1,dlBlockPriorStart:!0,dlBlockHalftime:!0,dlIncludeGradedInLimits:!1,dlUseRiskLimits:!1,casinoDefaultMaxWinDay:1e4,casinoDefaultMaxLossDay:1e4,casinoDefaultMaxWinWeek:1e4,casinoDefaultMaxLossWeek:1e4,casinoAgentMaxWinDay:1e3,casinoAgentMaxLossDay:1e3,casinoAgentMaxWinWeek:5e3,casinoAgentMaxLossWeek:5e3,casinoPlayerMaxWinDay:1e3,casinoPlayerMaxLossDay:1e3,casinoPlayerMaxWinWeek:5e3,casinoPlayerMaxLossWeek:5e3};function k0({userId:l,onBack:r,role:c="admin"}){const[d,h]=u.useState(!0),[p,b]=u.useState(!1),[w,x]=u.useState(""),[g,v]=u.useState(""),[f,j]=u.useState(null),[A,N]=u.useState({}),[M,R]=u.useState([]),[S,z]=u.useState(Wf),[L,E]=u.useState(!1),[y,k]=u.useState("basics"),[$,V]=u.useState([]),[B,ce]=u.useState(!1),[F,C]=u.useState(""),[P,D]=u.useState(""),[ae,H]=u.useState("7d"),[G,ie]=u.useState("all"),[ye,K]=u.useState("all"),[_,Q]=u.useState([]),[se,Z]=u.useState(!1),[J,I]=u.useState("credit"),[q,ue]=u.useState(""),[me,ve]=u.useState(""),[we,Ce]=u.useState("daily"),[Le,Re]=u.useState(!1),[at,Je]=u.useState(""),[mt,vt]=u.useState([]),[_e,ft]=u.useState(""),[qt,Ut]=u.useState([]),[ea,At]=u.useState([]),[ul,Ya]=u.useState(!1),[Va,pt]=u.useState(""),[Ns,Ba]=u.useState(""),[ws,hl]=u.useState("7d"),[Dt,Tt]=u.useState([]),[da,Nt]=u.useState(!1),[tn,Ss]=u.useState(""),[ks,Qa]=u.useState(""),[Ra,Xa]=u.useState(!1),[Lt,xt]=u.useState(""),[Sa,an]=u.useState(""),[ka,ua]=u.useState(!1),[Ft,It]=u.useState(""),[Oa,Ca]=u.useState(""),[Cs,Aa]=u.useState(""),Ua=[{id:"basics",label:"The Basics",icon:""},{id:"transactions",label:"Transactions",icon:""},{id:"pending",label:"Pending",icon:""},{id:"performance",label:"Performance",icon:""},{id:"analysis",label:"Analysis",icon:""},{id:"freeplays",label:"Free Plays",icon:""},{id:"dynamic-live",label:"Dynamic Live",icon:""},{id:"live-casino",label:"Live Casino",icon:""},{id:"crash",label:"Crash",icon:""},{id:"player-info",label:"Player Info",icon:""},{id:"offerings",label:"Offerings",icon:""},{id:"limits",label:"Limits",icon:""},{id:"vig-setup",label:"Vig Setup",icon:""},{id:"parlays",label:"Parlays",icon:""},{id:"teasers",label:"Teasers",icon:"8"},{id:"buying-pts",label:"Buying Pts",icon:""},{id:"risk-mngmt",label:"Risk Mngmt",icon:""},{id:"communication",label:"Communication",icon:""}];u.useEffect(()=>{l&&(async()=>{try{h(!0),x(""),v(""),D(""),C(""),j(null),z(Wf),k("basics");const be=localStorage.getItem("token");if(!be){x("Please login to view details.");return}const[Ae,Ge]=await Promise.all([kj(l,be),["admin","super_agent","master_agent"].includes(c)?hi(be):Promise.resolve([])]),He=Ae?.user,ze=He?.settings||{},Ve=ze.dynamicLiveLimits||{},it=ze.dynamicLiveFlags||{},Pt=ze.liveCasinoLimits||{},Yt=Pt.default||{},ta=Pt.agent||{},Ka=Pt.player||{};if(!He){x("User not found.");return}j(He),N(Ae?.stats||{}),R(Array.isArray(Ge)?Ge:[]),z({password:"",firstName:He.firstName||"",lastName:He.lastName||"",phoneNumber:He.phoneNumber||"",minBet:Number(He.minBet||0),agentId:He.agentId?._id||He.agentId||"",status:(He.status||"active").toLowerCase(),creditLimit:Number(He.creditLimit||0),wagerLimit:Number(He.wagerLimit??He.maxBet??0),settleLimit:Number(He.balanceOwed||0),accountType:ze.accountType||"credit",zeroBalanceWeekly:ze.zeroBalanceWeekly||"standard",tempCredit:Number(ze.tempCredit||0),expiresOn:ze.expiresOn||"",enableCaptcha:!!ze.enableCaptcha,cryptoPromoPct:Number(ze.cryptoPromoPct||0),promoType:ze.promoType||"promo_credit",playerNotes:ze.playerNotes||"",sportsbook:ze.sports??!0,casino:ze.casino??!0,horses:ze.racebook??!0,messaging:ze.messaging??!1,dynamicLive:ze.live??!0,propPlus:ze.props??!0,liveCasino:ze.liveCasino??!1,freePlayPercent:Number(ze.freePlayPercent??20),maxFpCredit:Number(ze.maxFpCredit??0),dlMinStraightBet:Number(Ve.minStraightBet??25),dlMaxStraightBet:Number(Ve.maxStraightBet??250),dlMaxPerOffering:Number(Ve.maxPerOffering??500),dlMaxBetPerEvent:Number(Ve.maxBetPerEvent??500),dlMaxWinSingleBet:Number(Ve.maxWinSingleBet??1e3),dlMaxWinEvent:Number(Ve.maxWinEvent??3e3),dlDelaySec:Number(Ve.delaySec??7),dlMaxFavoriteLine:Number(Ve.maxFavoriteLine??-1e4),dlMaxDogLine:Number(Ve.maxDogLine??1e4),dlMinParlayBet:Number(Ve.minParlayBet??10),dlMaxParlayBet:Number(Ve.maxParlayBet??100),dlMaxWinEventParlay:Number(Ve.maxWinEventParlay??3e3),dlMaxDogLineParlays:Number(Ve.maxDogLineParlays??1e3),dlWagerCoolOffSec:Number(Ve.wagerCoolOffSec??30),dlLiveParlays:!!it.liveParlays,dlBlockPriorStart:it.blockPriorStart??!0,dlBlockHalftime:it.blockHalftime??!0,dlIncludeGradedInLimits:!!it.includeGradedInLimits,dlUseRiskLimits:!!it.useRiskLimits,casinoDefaultMaxWinDay:Number(Yt.maxWinDay??1e4),casinoDefaultMaxLossDay:Number(Yt.maxLossDay??1e4),casinoDefaultMaxWinWeek:Number(Yt.maxWinWeek??1e4),casinoDefaultMaxLossWeek:Number(Yt.maxLossWeek??1e4),casinoAgentMaxWinDay:Number(ta.maxWinDay??1e3),casinoAgentMaxLossDay:Number(ta.maxLossDay??1e3),casinoAgentMaxWinWeek:Number(ta.maxWinWeek??5e3),casinoAgentMaxLossWeek:Number(ta.maxLossWeek??5e3),casinoPlayerMaxWinDay:Number(Ka.maxWinDay??1e3),casinoPlayerMaxLossDay:Number(Ka.maxLossDay??1e3),casinoPlayerMaxWinWeek:Number(Ka.maxWinWeek??5e3),casinoPlayerMaxLossWeek:Number(Ka.maxLossWeek??5e3)})}catch(be){console.error("Failed to load player details:",be),x(be.message||"Failed to load details")}finally{h(!1)}})()},[c,l]),u.useEffect(()=>{(async()=>{if(!(y!=="transactions"||!f))try{ce(!0),C("");const be=localStorage.getItem("token");if(!be){C("Please login to view transactions.");return}const Ae=await ll({user:f.username||"",type:G,status:ye,time:ae,limit:300},be),He=(Array.isArray(Ae?.transactions)?Ae.transactions:[]).filter(ze=>String(ze.userId||"")===String(l));V(He)}catch(be){C(be.message||"Failed to load transactions")}finally{ce(!1)}})()},[y,f,G,ye,ae,l]),u.useEffect(()=>{(async()=>{if(!(y!=="performance"||!f?.username))try{Re(!0),Je("");const be=localStorage.getItem("token");if(!be){Je("Please login to view performance.");return}const Ae=await Cd({customer:f.username,time:"30d",type:"all-types",limit:500},be),Ge=Array.isArray(Ae?.bets)?Ae.bets:[],He=new Map;for(const it of Ge){const Pt=it?.createdAt,Yt=new Date(Pt);if(Number.isNaN(Yt.getTime()))continue;const ta=Yt.getFullYear(),Ka=String(Yt.getMonth()+1).padStart(2,"0"),pi=String(Yt.getDate()).padStart(2,"0"),Ia=`${ta}-${Ka}-${pi}`,xi=Number(it?.amount||0),gi=Number(it?.potentialPayout||0),ml=String(it?.status||"").toLowerCase(),Cn=ml==="won"?Math.max(0,gi-xi):ml==="lost"?-xi:0;He.has(Ia)||He.set(Ia,{date:Yt,net:0,wagers:[]});const bi=He.get(Ia);bi.net+=Cn,bi.wagers.push({id:it.id,label:`${it?.match?.awayTeam||""} vs ${it?.match?.homeTeam||""}`.trim()||it.selection||"Wager",amount:Cn})}const ze=Array.from(He.entries()).map(([it,Pt])=>({key:it,date:Pt.date,periodLabel:Pt.date.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric",weekday:"long"}),net:Pt.net,wagers:Pt.wagers})).sort((it,Pt)=>Pt.key.localeCompare(it.key));vt(ze);const Ve=ze[0]?.key||"";ft(Ve),Ut(ze[0]?.wagers||[])}catch(be){Je(be.message||"Failed to load performance"),vt([]),ft(""),Ut([])}finally{Re(!1)}})()},[y,f?.username]),u.useEffect(()=>{(async()=>{if(!(y!=="freeplays"||!f?.username))try{Ya(!0),pt("");const be=localStorage.getItem("token");if(!be){pt("Please login to view free play.");return}const Ae=await ll({user:f.username,type:"adjustment",status:"all",time:ws,limit:300},be),He=(Array.isArray(Ae?.transactions)?Ae.transactions:[]).filter(ze=>{if(String(ze.userId||"")!==String(l))return!1;const Ve=String(ze.reason||"").toUpperCase(),it=String(ze.description||"").toLowerCase();return Ve==="FREEPLAY_ADJUSTMENT"||it.includes("freeplay")||it.includes("free play")});At(He)}catch(be){pt(be.message||"Failed to load free play")}finally{Ya(!1)}})()},[y,f?.username,ws,l]);const Te=(U,be)=>{z(Ae=>({...Ae,[U]:be}))},Za=u.useMemo(()=>{const U=`${S.firstName||""} ${S.lastName||""}`.trim();return U||(f?.fullName?f.fullName:"")},[S.firstName,S.lastName,f?.fullName]);u.useMemo(()=>Za||f?.username||"Player",[Za,f?.username]);const $t=u.useMemo(()=>{if(!f)return"";if(f.rawPassword)return f.rawPassword;const U=(f.phoneNumber||"").replace(/\D/g,"").slice(-4),be=(f.firstName||"").slice(0,3).toUpperCase(),Ae=(f.lastName||"").slice(0,3).toUpperCase();return`${be}${Ae}${U}`||"Not set"},[f]),ut=u.useMemo(()=>Number(S.creditLimit||0)-Number(f?.pendingBalance||0),[S.creditLimit,f?.pendingBalance]),ht=u.useMemo(()=>{let U=0;for(const be of $)be?.status==="pending"&&String(be?.type||"").toLowerCase().includes("casino")&&(U+=Number(be.amount||0));return{pending:Number(f?.pendingBalance||0),available:Number(ut||0),carry:Number(f?.balance||0),nonPostedCasino:U}},[$,f?.pendingBalance,f?.balance,ut]),lt=U=>Number(U||0).toLocaleString("en-US",{style:"currency",currency:"USD"}),Ea=async()=>{try{const U=localStorage.getItem("token"),be=await Qj(l,U);localStorage.setItem("token",be.token),localStorage.setItem("user",JSON.stringify(be)),window.location.href="/dashboard"}catch(U){x("Impersonation failed: "+U.message)}},sn=async(U,be="Copied")=>{try{const Ae=String(U??"");if(!Ae)return;await navigator.clipboard.writeText(Ae),Aa(`${be} copied`),window.setTimeout(()=>Aa(""),1400)}catch{Aa("Copy failed"),window.setTimeout(()=>Aa(""),1400)}},Sn=async()=>{const U=[`Login: ${f?.username||""}`,`Password: ${$t||""}`,`Min bet: ${Number(f?.minBet??0)}`,`Max bet: ${Number(f?.maxBet??f?.wagerLimit??S.wagerLimit??0)}`,`Credit: ${Number(S.creditLimit||f?.creditLimit||0)}`,`Settle: ${Number(S.settleLimit||f?.balanceOwed||0)}`].join(`
`);await sn(U,"All details")},ha=async()=>{try{b(!0),x(""),v("");const U=localStorage.getItem("token");if(!U){x("Please login again.");return}const be={firstName:S.firstName.trim(),lastName:S.lastName.trim(),phoneNumber:S.phoneNumber.trim(),fullName:Za,status:S.status,minBet:Number(S.minBet||0),creditLimit:Number(S.creditLimit||0),maxBet:Number(S.wagerLimit||0),wagerLimit:Number(S.wagerLimit||0),balanceOwed:Number(S.settleLimit||0),settings:{accountType:S.accountType,zeroBalanceWeekly:S.zeroBalanceWeekly,tempCredit:Number(S.tempCredit||0),expiresOn:S.expiresOn||"",enableCaptcha:!!S.enableCaptcha,cryptoPromoPct:Number(S.cryptoPromoPct||0),promoType:S.promoType,playerNotes:S.playerNotes,sports:!!S.sportsbook,casino:!!S.casino,racebook:!!S.horses,messaging:!!S.messaging,live:!!S.dynamicLive,props:!!S.propPlus,liveCasino:!!S.liveCasino}};["admin","super_agent","master_agent"].includes(c)&&S.agentId&&(be.agentId=S.agentId),c==="agent"?await wa(l,be,U):await bs(l,be,U),(S.password||"").trim()!==""&&(c==="admin"?await Ur(l,S.password.trim(),U):await wa(l,{password:S.password.trim()},U)),j(Ae=>({...Ae,...be,rawPassword:(S.password||"").trim()?S.password.trim():Ae?.rawPassword,settings:{...Ae?.settings||{},...be.settings}})),z(Ae=>({...Ae,password:""})),v("Changes saved successfully.")}catch(U){console.error("Failed to save player details:",U),x(U.message||"Failed to save details")}finally{b(!1)}},Ja=async()=>{try{const U=localStorage.getItem("token");if(!U||!f)return;await oi(l,{balance:Number(f.balance||0)},U),v("Balance updated."),x("")}catch(U){x(U.message||"Failed to update balance")}},za=U=>{if(!U)return"";const be=U?.$date||U,Ae=new Date(be);return Number.isNaN(Ae.getTime())?"":Ae.toLocaleString()},Fa=U=>{const be=String(U?.type||"").toLowerCase();return["withdrawal","bet_placed","bet_lost","fee","debit"].includes(be)},O=U=>{U==="transactions"?(k("transactions"),H("7d"),ie("adjustment"),K("all")):U==="pending"?(k("transactions"),H("7d"),ie("adjustment"),K("pending")):k(U==="performance"?"performance":U==="freeplays"?"freeplays":U==="dynamic-live"?"dynamic-live":U==="live-casino"?"live-casino":"basics"),E(!1),v(""),D(""),x(""),C(""),Je(""),pt(""),Ba(""),xt(""),an(""),It(""),Ca("")},te=u.useMemo(()=>mt.find(U=>U.key===_e)||null,[mt,_e]);u.useEffect(()=>{if(!te){Ut([]);return}Ut(te.wagers||[])},[te]);const Y=u.useMemo(()=>qt.reduce((U,be)=>U+Number(be.amount||0),0),[qt]),re=u.useMemo(()=>ea.filter(U=>String(U.status||"").toLowerCase()==="pending").reduce((U,be)=>U+Number(be.amount||0),0),[ea]),je=Number(f?.freeplayBalance||0),Ne=async()=>{if(f?.username)try{Ya(!0);const U=localStorage.getItem("token");if(!U)return;const be=await ll({user:f.username,type:"adjustment",status:"all",time:ws,limit:300},U),Ae=Array.isArray(be?.transactions)?be.transactions:[];At(Ae.filter(Ge=>{if(String(Ge.userId||"")!==String(l))return!1;const He=String(Ge.reason||"").toUpperCase(),ze=String(Ge.description||"").toLowerCase();return He==="FREEPLAY_ADJUSTMENT"||ze.includes("freeplay")||ze.includes("free play")}))}catch(U){pt(U.message||"Failed to refresh free play")}finally{Ya(!1)}},De=async()=>{try{const U=Number(tn||0);if(U<=0||Number.isNaN(U)){pt("Enter a valid free play amount greater than 0.");return}const be=localStorage.getItem("token");if(!be||!f){pt("Please login again.");return}const Ae=Number(f.freeplayBalance||0)+U;await kp(l,Ae,be,ks.trim()),j(Ge=>({...Ge,freeplayBalance:Ae})),ks.trim()?Ba(`Free play added. Note: "${ks.trim()}"`):Ba("Free play added successfully."),pt(""),Nt(!1),Ss(""),Qa(""),await Ne()}catch(U){pt(U.message||"Failed to add free play")}},nt=U=>{Tt(be=>be.includes(U)?be.filter(Ae=>Ae!==U):[...be,U])},Gt=async()=>{try{if(Dt.length===0)return;const U=localStorage.getItem("token");if(!U){pt("Please login again.");return}const be=await Sf(Dt,U),Ae=Number(be?.deleted||0),Ge=Number(be?.skipped||0);Tt([]),Ba(`Deleted ${Ae} free play transaction(s).${Ge>0?` Skipped ${Ge}.`:""}`),pt(""),await Ne()}catch(U){pt(U.message||"Failed to delete free play transactions")}},ma=async()=>{try{const U=localStorage.getItem("token");if(!U){pt("Please login again.");return}const be={settings:{freePlayPercent:Number(S.freePlayPercent||0),maxFpCredit:Number(S.maxFpCredit||0)}};c==="agent"?await wa(l,be,U):await bs(l,be,U),Ba("Free play settings saved."),pt("")}catch(U){pt(U.message||"Failed to save free play settings")}},fi=async()=>{try{Xa(!0);const U=localStorage.getItem("token");if(!U){xt("Please login again.");return}const be={settings:{dynamicLiveLimits:{minStraightBet:Number(S.dlMinStraightBet||0),maxStraightBet:Number(S.dlMaxStraightBet||0),maxPerOffering:Number(S.dlMaxPerOffering||0),maxBetPerEvent:Number(S.dlMaxBetPerEvent||0),maxWinSingleBet:Number(S.dlMaxWinSingleBet||0),maxWinEvent:Number(S.dlMaxWinEvent||0),delaySec:Number(S.dlDelaySec||0),maxFavoriteLine:Number(S.dlMaxFavoriteLine||0),maxDogLine:Number(S.dlMaxDogLine||0),minParlayBet:Number(S.dlMinParlayBet||0),maxParlayBet:Number(S.dlMaxParlayBet||0),maxWinEventParlay:Number(S.dlMaxWinEventParlay||0),maxDogLineParlays:Number(S.dlMaxDogLineParlays||0),wagerCoolOffSec:Number(S.dlWagerCoolOffSec||0)},dynamicLiveFlags:{liveParlays:!!S.dlLiveParlays,blockPriorStart:!!S.dlBlockPriorStart,blockHalftime:!!S.dlBlockHalftime,includeGradedInLimits:!!S.dlIncludeGradedInLimits,useRiskLimits:!!S.dlUseRiskLimits}}};c==="agent"?await wa(l,be,U):await bs(l,be,U),an("Dynamic Live settings saved."),xt("")}catch(U){xt(U.message||"Failed to save Dynamic Live settings")}finally{Xa(!1)}},Hr=async()=>{try{ua(!0);const U=localStorage.getItem("token");if(!U){It("Please login again.");return}const be={settings:{liveCasinoLimits:{default:{maxWinDay:Number(S.casinoDefaultMaxWinDay||0),maxLossDay:Number(S.casinoDefaultMaxLossDay||0),maxWinWeek:Number(S.casinoDefaultMaxWinWeek||0),maxLossWeek:Number(S.casinoDefaultMaxLossWeek||0)},agent:{maxWinDay:Number(S.casinoAgentMaxWinDay||0),maxLossDay:Number(S.casinoAgentMaxLossDay||0),maxWinWeek:Number(S.casinoAgentMaxWinWeek||0),maxLossWeek:Number(S.casinoAgentMaxLossWeek||0)},player:{maxWinDay:Number(S.casinoPlayerMaxWinDay||0),maxLossDay:Number(S.casinoPlayerMaxLossDay||0),maxWinWeek:Number(S.casinoPlayerMaxWinWeek||0),maxLossWeek:Number(S.casinoPlayerMaxLossWeek||0)}}}};c==="agent"?await wa(l,be,U):await bs(l,be,U),Ca("Live Casino limits saved."),It("")}catch(U){It(U.message||"Failed to save Live Casino limits")}finally{ua(!1)}},nn=async()=>{if(f){ce(!0);try{const U=localStorage.getItem("token");if(!U)return;const be=await ll({user:f.username||"",type:G,status:ye,time:ae,limit:300},U),Ae=Array.isArray(be?.transactions)?be.transactions:[];V(Ae.filter(Ge=>String(Ge.userId||"")===String(l)))}catch(U){C(U.message||"Failed to refresh transactions")}finally{ce(!1)}}},kn=async()=>{try{const U=Number(q||0);if(U<=0||Number.isNaN(U)){C("Enter a valid amount greater than 0.");return}const be=localStorage.getItem("token");if(!be||!f){C("Please login again.");return}const Ae=Number(f.balance||0),Ge=J==="credit"?Ae+U:Math.max(0,Ae-U);await oi(l,{balance:Ge},be),j(He=>({...He,balance:Ge})),D("Transaction saved and balance updated."),C(""),Z(!1),ue(""),ve(""),await nn()}catch(U){C(U.message||"Failed to save transaction")}},Ta=U=>{Q(be=>be.includes(U)?be.filter(Ae=>Ae!==U):[...be,U])},Wt=async()=>{try{if(_.length===0)return;const U=localStorage.getItem("token");if(!U){C("Please login again.");return}const be=await Sf(_,U);Q([]),await nn();const Ae=Number(be?.deleted||0),Ge=Number(be?.skipped||0);D(`Deleted ${Ae} transaction(s).${Ge>0?` Skipped ${Ge} (non-adjustment or invalid).`:""}`),C("")}catch(U){C(U.message||"Failed to delete selected transactions")}};return d?e.jsx("div",{className:"admin-view",children:e.jsx("div",{className:"view-content",children:"Loading player details..."})}):f?e.jsxs("div",{className:"customer-details-v2",children:[e.jsxs("div",{className:"top-panel",children:[e.jsxs("div",{className:"top-left",children:[e.jsx("button",{className:"btn btn-back",onClick:r,children:"Customer Admin"}),e.jsxs("div",{className:"player-card",children:[e.jsxs("div",{className:"player-card-head",children:[e.jsxs("div",{className:"player-title-wrap",children:[e.jsx("h2",{children:f.username||"USER"}),e.jsx("span",{className:"player-badge",children:"PLAYER"})]}),e.jsxs("div",{className:"top-actions",children:[e.jsx("button",{className:"btn btn-user",onClick:Ea,children:"Login User"}),e.jsx("button",{className:"btn btn-copy-all",onClick:Sn,children:"Copy Details"})]})]}),e.jsxs("div",{className:"creds-box",children:[e.jsxs("div",{className:"creds-row",children:[e.jsx("span",{children:"Login:"}),e.jsx("div",{className:"creds-pill",children:f.username||""}),e.jsx("button",{className:"copy-mini",onClick:()=>sn(f.username,"Login"),children:""})]}),e.jsxs("div",{className:"creds-row",children:[e.jsx("span",{children:"Password:"}),e.jsx("div",{className:"creds-pill",children:$t}),e.jsx("button",{className:"copy-mini",onClick:()=>sn($t,"Password"),children:""})]})]}),e.jsxs("div",{className:"limits-box",children:[e.jsxs("div",{className:"limit-item",children:[e.jsx("label",{children:"Min bet:"}),e.jsx("strong",{children:Number(f.minBet??0).toLocaleString()})]}),e.jsxs("div",{className:"limit-item",children:[e.jsx("label",{children:"Max bet:"}),e.jsx("strong",{children:Number(f.maxBet??f.wagerLimit??S.wagerLimit??0).toLocaleString()})]}),e.jsxs("div",{className:"limit-item",children:[e.jsx("label",{children:"Credit:"}),e.jsx("strong",{className:"money-green",children:Number(S.creditLimit||f.creditLimit||0).toLocaleString()})]}),e.jsxs("div",{className:"limit-item",children:[e.jsx("label",{children:"Settle:"}),e.jsx("strong",{className:"money-green",children:Number(S.settleLimit||f.balanceOwed||0).toLocaleString()})]})]})]}),Cs&&e.jsx("div",{className:"copy-notice",children:Cs}),e.jsxs("div",{className:"agent-line",children:["Agent ",f.agentUsername||f.agentId?.username||""]}),e.jsxs("div",{className:"top-actions mobile-only",children:[e.jsx("button",{className:"btn btn-user",onClick:Ea,children:"Login User"}),e.jsx("button",{className:"btn btn-copy-all",onClick:Sn,children:"Copy Details"})]})]}),e.jsxs("div",{className:"top-right",children:[e.jsxs("button",{type:"button",className:`metric ${y==="transactions"?"metric-active":""}`,onClick:()=>O("transactions"),children:[e.jsx("span",{children:"Balance"}),e.jsx("b",{className:Number(f.balance||0)<0?"neg":"pos",children:lt(f.balance||0)})]}),e.jsxs("button",{type:"button",className:`metric ${y==="transactions"&&ye==="pending"?"metric-active":""}`,onClick:()=>O("pending"),children:[e.jsx("span",{children:"Pending"}),e.jsx("b",{className:"neutral",children:lt(f.pendingBalance||0)})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{children:"Available"}),e.jsx("b",{className:"neutral",children:lt(ut)})]}),e.jsxs("button",{type:"button",className:`metric ${y==="freeplays"?"metric-active":""}`,onClick:()=>O("freeplays"),children:[e.jsx("span",{children:"Freeplay"}),e.jsx("b",{className:"neutral",children:lt(f.freeplayBalance||0)})]}),e.jsxs("button",{type:"button",className:`metric ${y==="performance"?"metric-active":""}`,onClick:()=>O("performance"),children:[e.jsx("span",{children:"Lifetime +/-"}),e.jsx("b",{className:Number(A.netProfit||0)<0?"neg":"pos",children:lt(A.netProfit||0)})]})]})]}),e.jsxs("div",{className:"basics-header",children:[e.jsxs("div",{className:"basics-left",children:[e.jsx("button",{type:"button",className:"dot-grid-btn",onClick:()=>E(U=>!U),"aria-label":"Open quick sections menu",children:e.jsxs("div",{className:"dot-grid","aria-hidden":"true",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})}),e.jsx("h3",{children:y==="transactions"?"Transactions":y==="performance"?"Performance":y==="freeplays"?"Free Play":y==="dynamic-live"?"Dynamic Live":y==="live-casino"?"Live Casino":"The Basics"})]}),y==="transactions"?e.jsx("button",{className:"btn btn-back",onClick:()=>Z(!0),children:"New transaction"}):y==="freeplays"?e.jsx("button",{className:"btn btn-back",onClick:()=>Nt(!0),children:"New Free Play"}):y==="dynamic-live"?e.jsx("button",{className:"btn btn-save",onClick:fi,disabled:Ra,children:Ra?"Saving...":"Save"}):y==="live-casino"?e.jsx("button",{className:"btn btn-save",onClick:Hr,disabled:ka,children:ka?"Saving...":"Save"}):y==="performance"?e.jsx("span",{}):e.jsx("button",{className:"btn btn-save",onClick:ha,disabled:p,children:p?"Saving...":"Save"})]}),L&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"menu-backdrop",onClick:()=>E(!1),"aria-label":"Close quick sections menu"}),e.jsxs("div",{className:"basics-quick-menu",children:[e.jsx("button",{type:"button",className:"menu-close",onClick:()=>E(!1),"aria-label":"Close menu",children:"x"}),e.jsx("div",{className:"menu-grid",children:Ua.map(U=>e.jsxs("button",{type:"button",className:"menu-item",onClick:()=>O(U.id),children:[e.jsx("span",{className:"menu-icon",children:U.icon}),e.jsx("span",{className:"menu-label",children:U.label})]},U.id))})]})]}),y==="transactions"?F&&e.jsx("div",{className:"alert error",children:F}):y==="performance"?at&&e.jsx("div",{className:"alert error",children:at}):y==="freeplays"?Va&&e.jsx("div",{className:"alert error",children:Va}):y==="dynamic-live"?Lt&&e.jsx("div",{className:"alert error",children:Lt}):y==="live-casino"?Ft&&e.jsx("div",{className:"alert error",children:Ft}):w&&e.jsx("div",{className:"alert error",children:w}),y==="transactions"?P&&e.jsx("div",{className:"alert success",children:P}):y==="freeplays"?Ns&&e.jsx("div",{className:"alert success",children:Ns}):y==="dynamic-live"?Sa&&e.jsx("div",{className:"alert success",children:Sa}):y==="live-casino"?Oa&&e.jsx("div",{className:"alert success",children:Oa}):g&&e.jsx("div",{className:"alert success",children:g}),y==="transactions"?e.jsxs("div",{className:"transactions-wrap",children:[e.jsxs("div",{className:"tx-controls",children:[e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Display"}),e.jsxs("select",{value:ae,onChange:U=>H(U.target.value),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Filter Transactions"}),e.jsxs("select",{value:G,onChange:U=>ie(U.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"adjustment",children:"Non-Wager"}),e.jsx("option",{value:"deposit",children:"Deposits"}),e.jsx("option",{value:"withdrawal",children:"Withdrawals"}),e.jsx("option",{value:"bet_placed",children:"Wagers"})]})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Pending"}),e.jsx("b",{children:lt(ht.pending)})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Available"}),e.jsx("b",{children:lt(ht.available)})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Carry"}),e.jsx("b",{className:ht.carry<0?"neg":"",children:lt(ht.carry)})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Non-Posted Casino"}),e.jsx("b",{children:lt(ht.nonPostedCasino)})]})]}),e.jsx("div",{className:"tx-table-wrap",children:e.jsxs("table",{className:"tx-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Credit"}),e.jsx("th",{children:"Debit"}),e.jsx("th",{children:"Balance"})]})}),e.jsx("tbody",{children:B?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"tx-empty",children:"Loading transactions..."})}):$.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"tx-empty",children:"No transactions found"})}):$.map(U=>{const be=Fa(U),Ae=Number(U.amount||0),Ge=be?0:Ae,He=be?Ae:0,ze=_.includes(U.id);return e.jsxs("tr",{className:ze?"selected":"",onClick:()=>Ta(U.id),children:[e.jsx("td",{children:za(U.date)}),e.jsx("td",{children:U.description||U.type||"Transaction"}),e.jsx("td",{children:Ge>0?lt(Ge):""}),e.jsx("td",{children:He>0?lt(He):""}),e.jsx("td",{className:Number(f.balance||0)<0?"neg":"",children:lt(f.balance||0)})]},U.id)})})]})}),e.jsx("button",{className:"btn btn-danger",onClick:Wt,disabled:_.length===0,children:"Delete"})]}):y==="performance"?e.jsxs("div",{className:"performance-wrap",children:[e.jsx("div",{className:"perf-controls",children:e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Time"}),e.jsx("select",{value:we,onChange:U=>Ce(U.target.value),children:e.jsx("option",{value:"daily",children:"Daily"})})]})}),e.jsxs("div",{className:"performance-grid",children:[e.jsx("div",{className:"perf-left",children:e.jsxs("table",{className:"perf-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Period"}),e.jsx("th",{children:"Net"})]})}),e.jsx("tbody",{children:Le?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"tx-empty",children:"Loading performance..."})}):mt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"tx-empty",children:"No performance data"})}):mt.map(U=>e.jsxs("tr",{className:_e===U.key?"selected":"",onClick:()=>ft(U.key),children:[e.jsx("td",{children:U.periodLabel}),e.jsx("td",{children:Number(U.net||0).toFixed(2)})]},U.key))})]})}),e.jsxs("div",{className:"perf-right",children:[e.jsxs("div",{className:"perf-title-row",children:[e.jsxs("div",{children:["Wagers: ",e.jsx("b",{children:qt.length})]}),e.jsxs("div",{children:["Result: ",e.jsx("b",{children:lt(Y)})]})]}),e.jsxs("table",{className:"perf-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:te?.periodLabel||"Selected Day"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{children:qt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"tx-empty",children:"No data available in table"})}):qt.map(U=>e.jsxs("tr",{children:[e.jsx("td",{children:U.label||"Wager"}),e.jsx("td",{children:Number(U.amount||0).toFixed(2)})]},U.id))})]})]})]})]}):y==="freeplays"?e.jsxs("div",{className:"transactions-wrap",children:[e.jsxs("div",{className:"tx-controls freeplay-controls",children:[e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Display"}),e.jsxs("select",{value:ws,onChange:U=>hl(U.target.value),children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Balance"}),e.jsx("b",{children:Number(je).toFixed(2)})]}),e.jsxs("div",{className:"tx-stat",children:[e.jsx("label",{children:"Pending"}),e.jsx("b",{children:Number(re).toFixed(2)})]})]}),e.jsx("div",{className:"tx-table-wrap",children:e.jsxs("table",{className:"tx-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Credit"}),e.jsx("th",{children:"Debit"}),e.jsx("th",{children:"Balance"})]})}),e.jsx("tbody",{children:ul?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"tx-empty",children:"Loading free play..."})}):ea.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"tx-empty",children:"No free play transactions found"})}):ea.map(U=>{const be=Number(U.amount||0),Ae=be>0?be:0,Ge=Dt.includes(U.id);return e.jsxs("tr",{className:Ge?"selected":"",onClick:()=>nt(U.id),children:[e.jsx("td",{children:f.username}),e.jsx("td",{children:za(U.date)}),e.jsx("td",{children:U.description||"Free Play Adjustment"}),e.jsx("td",{children:Ae>0?Number(Ae).toFixed(2):""}),e.jsx("td",{children:""}),e.jsx("td",{children:Number(je).toFixed(2)})]},U.id)})})]})}),e.jsxs("div",{className:"freeplay-bottom-row",children:[e.jsx("button",{className:"btn btn-danger",onClick:Gt,disabled:Dt.length===0,children:"Delete"}),e.jsx("button",{className:"btn btn-back freeplay-settings-btn",onClick:ma,children:"Detailed Free Play Settings"}),e.jsxs("div",{className:"freeplay-inputs",children:[e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Free Play %"}),e.jsx("input",{type:"number",value:S.freePlayPercent,onChange:U=>Te("freePlayPercent",U.target.value)})]}),e.jsxs("div",{className:"tx-field",children:[e.jsx("label",{children:"Max FP Credit"}),e.jsx("input",{type:"number",value:S.maxFpCredit,onChange:U=>Te("maxFpCredit",U.target.value)})]})]})]})]}):y==="dynamic-live"?e.jsxs("div",{className:"dynamic-live-wrap",children:[e.jsxs("div",{className:"tx-field dl-top-select",children:[e.jsx("label",{children:"View Settings"}),e.jsx("select",{value:"wagering_limits",readOnly:!0,children:e.jsx("option",{value:"wagering_limits",children:"Wagering Limits"})})]}),e.jsxs("div",{className:"dynamic-live-grid",children:[e.jsxs("div",{className:"dl-col",children:[e.jsx("label",{children:"Min Straight Bet :"}),e.jsx("input",{type:"number",value:S.dlMinStraightBet,onChange:U=>Te("dlMinStraightBet",U.target.value)}),e.jsx("label",{children:"Max Straight Bet :"}),e.jsx("input",{type:"number",value:S.dlMaxStraightBet,onChange:U=>Te("dlMaxStraightBet",U.target.value)}),e.jsx("label",{children:"Max Per Offering :"}),e.jsx("input",{type:"number",value:S.dlMaxPerOffering,onChange:U=>Te("dlMaxPerOffering",U.target.value)}),e.jsx("label",{children:"Max Bet Per Event :"}),e.jsx("input",{type:"number",value:S.dlMaxBetPerEvent,onChange:U=>Te("dlMaxBetPerEvent",U.target.value)}),e.jsx("label",{children:"Max Win for Single Bet :"}),e.jsx("input",{type:"number",value:S.dlMaxWinSingleBet,onChange:U=>Te("dlMaxWinSingleBet",U.target.value)}),e.jsx("label",{children:"Max Win for Event :"}),e.jsx("input",{type:"number",value:S.dlMaxWinEvent,onChange:U=>Te("dlMaxWinEvent",U.target.value)}),e.jsx("label",{children:"Delay (sec) - minimum 5 :"}),e.jsx("input",{type:"number",value:S.dlDelaySec,onChange:U=>Te("dlDelaySec",U.target.value)})]}),e.jsxs("div",{className:"dl-col",children:[e.jsx("label",{children:"Max Favorite Line :"}),e.jsx("input",{type:"number",value:S.dlMaxFavoriteLine,onChange:U=>Te("dlMaxFavoriteLine",U.target.value)}),e.jsx("label",{children:"Max Dog Line :"}),e.jsx("input",{type:"number",value:S.dlMaxDogLine,onChange:U=>Te("dlMaxDogLine",U.target.value)}),e.jsx("label",{children:"Min Parlay Bet :"}),e.jsx("input",{type:"number",value:S.dlMinParlayBet,onChange:U=>Te("dlMinParlayBet",U.target.value)}),e.jsx("label",{children:"Max Parlay Bet :"}),e.jsx("input",{type:"number",value:S.dlMaxParlayBet,onChange:U=>Te("dlMaxParlayBet",U.target.value)}),e.jsx("label",{children:"Max Win for Event(parlay only) :"}),e.jsx("input",{type:"number",value:S.dlMaxWinEventParlay,onChange:U=>Te("dlMaxWinEventParlay",U.target.value)}),e.jsx("label",{children:"Max Dog Line (Parlays) :"}),e.jsx("input",{type:"number",value:S.dlMaxDogLineParlays,onChange:U=>Te("dlMaxDogLineParlays",U.target.value)}),e.jsx("label",{children:"Wager Cool-Off (sec) :"}),e.jsx("input",{type:"number",value:S.dlWagerCoolOffSec,onChange:U=>Te("dlWagerCoolOffSec",U.target.value)})]}),e.jsx("div",{className:"dl-col-toggles",children:[["Live Parlays","dlLiveParlays"],["Block Wagering Prior To Start","dlBlockPriorStart"],["Block Wagering at Halftime","dlBlockHalftime"],["Include Graded Wagers in Limits","dlIncludeGradedInLimits"],["Use Risk (not Volume) for Limits","dlUseRiskLimits"]].map(([U,be])=>e.jsxs("div",{className:"switch-row",children:[e.jsxs("span",{children:[U," :"]}),e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:!!S[be],onChange:Ae=>Te(be,Ae.target.checked)}),e.jsx("span",{className:"slider"})]})]},be))})]})]}):y==="live-casino"?e.jsxs("div",{className:"live-casino-wrap",children:[e.jsxs("div",{className:"live-casino-grid",children:[e.jsx("div",{}),e.jsx("div",{className:"lc-col-head",children:"Default"}),e.jsx("div",{className:"lc-col-head",children:"Agent"}),e.jsx("div",{className:"lc-col-head",children:"Player"}),e.jsx("div",{className:"lc-label",children:"Max Win Per Day"}),e.jsx("input",{type:"number",value:S.casinoDefaultMaxWinDay,onChange:U=>Te("casinoDefaultMaxWinDay",U.target.value)}),e.jsx("input",{type:"number",value:S.casinoAgentMaxWinDay,onChange:U=>Te("casinoAgentMaxWinDay",U.target.value)}),e.jsx("input",{type:"number",value:S.casinoPlayerMaxWinDay,onChange:U=>Te("casinoPlayerMaxWinDay",U.target.value)}),e.jsx("div",{className:"lc-label",children:"Max Loss Per Day"}),e.jsx("input",{type:"number",value:S.casinoDefaultMaxLossDay,onChange:U=>Te("casinoDefaultMaxLossDay",U.target.value)}),e.jsx("input",{type:"number",value:S.casinoAgentMaxLossDay,onChange:U=>Te("casinoAgentMaxLossDay",U.target.value)}),e.jsx("input",{type:"number",value:S.casinoPlayerMaxLossDay,onChange:U=>Te("casinoPlayerMaxLossDay",U.target.value)}),e.jsx("div",{className:"lc-label",children:"Max Win Per Week"}),e.jsx("input",{type:"number",value:S.casinoDefaultMaxWinWeek,onChange:U=>Te("casinoDefaultMaxWinWeek",U.target.value)}),e.jsx("input",{type:"number",value:S.casinoAgentMaxWinWeek,onChange:U=>Te("casinoAgentMaxWinWeek",U.target.value)}),e.jsx("input",{type:"number",value:S.casinoPlayerMaxWinWeek,onChange:U=>Te("casinoPlayerMaxWinWeek",U.target.value)}),e.jsx("div",{className:"lc-label",children:"Max Loss Per Week"}),e.jsx("input",{type:"number",value:S.casinoDefaultMaxLossWeek,onChange:U=>Te("casinoDefaultMaxLossWeek",U.target.value)}),e.jsx("input",{type:"number",value:S.casinoAgentMaxLossWeek,onChange:U=>Te("casinoAgentMaxLossWeek",U.target.value)}),e.jsx("input",{type:"number",value:S.casinoPlayerMaxLossWeek,onChange:U=>Te("casinoPlayerMaxLossWeek",U.target.value)})]}),e.jsx("p",{className:"lc-note",children:"*Players that do not have a limit will be assigned the default limit or agent limit if one exists. Once player limits are assigned they will have to be manually overridden either by changing them individually or by changing an agent and sending through the new default limits they want to apply."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"basics-grid",children:[e.jsxs("div",{className:"col-card",children:[e.jsx("label",{children:"First Name"}),e.jsx("input",{value:S.firstName,placeholder:"Enter first name",onChange:U=>Te("firstName",U.target.value)}),e.jsx("label",{children:"Last Name"}),e.jsx("input",{value:S.lastName,placeholder:"Enter last name",onChange:U=>Te("lastName",U.target.value)}),e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:S.phoneNumber,placeholder:"Enter phone number",onChange:U=>Te("phoneNumber",U.target.value)}),e.jsx("label",{children:"Password"}),e.jsx("input",{value:S.password,placeholder:$t,onChange:U=>Te("password",U.target.value)}),e.jsx("label",{children:"Master Agent"}),["admin","super_agent","master_agent"].includes(c)?e.jsxs("select",{value:S.agentId,onChange:U=>Te("agentId",U.target.value),children:[e.jsx("option",{value:"",children:"None"}),M.map(U=>{const be=U.id||U._id;return e.jsx("option",{value:be,children:U.username},be)})]}):e.jsx("input",{value:f.agentUsername||"",readOnly:!0}),e.jsx("label",{children:"Account Status"}),e.jsxs("select",{value:S.status,onChange:U=>Te("status",U.target.value),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"read_only",children:"Read Only"})]}),e.jsx("div",{className:"switch-list",children:[["Sportsbook","sportsbook"],["LV Casino","casino"],["Racebook","horses"],["Messaging","messaging"],["Dynamic Live","dynamicLive"],["Prop Plus","propPlus"],["Live Casino","liveCasino"]].map(([U,be])=>e.jsxs("div",{className:"switch-row",children:[e.jsx("span",{children:U}),e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:!!S[be],onChange:Ae=>Te(be,Ae.target.checked)}),e.jsx("span",{className:"slider"})]})]},be))})]}),e.jsxs("div",{className:"col-card",children:[e.jsx("label",{children:"Website"}),e.jsx("input",{value:window.location.hostname,readOnly:!0}),e.jsx("label",{children:"Account Type"}),e.jsxs("select",{value:S.accountType,onChange:U=>Te("accountType",U.target.value),children:[e.jsx("option",{value:"credit",children:"Credit"}),e.jsx("option",{value:"post_up",children:"Post Up"})]}),e.jsx("label",{children:"Min bet"}),e.jsx("input",{type:"number",value:S.minBet,onChange:U=>Te("minBet",U.target.value)}),e.jsx("label",{children:"Max bet"}),e.jsx("input",{type:"number",value:S.wagerLimit,onChange:U=>Te("wagerLimit",U.target.value)}),e.jsx("label",{children:"Credit Limit"}),e.jsx("input",{type:"number",value:S.creditLimit,onChange:U=>Te("creditLimit",U.target.value)}),e.jsx("label",{children:"Settle Limit"}),e.jsx("input",{type:"number",value:S.settleLimit,onChange:U=>Te("settleLimit",U.target.value)}),e.jsx("label",{children:"Zero Balance / Weekly"}),e.jsxs("select",{value:S.zeroBalanceWeekly,onChange:U=>Te("zeroBalanceWeekly",U.target.value),children:[e.jsx("option",{value:"standard",children:"Standard"}),e.jsx("option",{value:"zero_balance",children:"Zero Balance"}),e.jsx("option",{value:"weekly",children:"Weekly"})]}),e.jsx("label",{children:"Temporary Credit"}),e.jsx("input",{type:"number",value:S.tempCredit,onChange:U=>Te("tempCredit",U.target.value)})]}),e.jsxs("div",{className:"col-card",children:[e.jsxs("div",{className:"switch-row inline-top",children:[e.jsx("span",{children:"Enable Captcha"}),e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:S.enableCaptcha,onChange:U=>Te("enableCaptcha",U.target.checked)}),e.jsx("span",{className:"slider"})]})]}),e.jsx("label",{children:"Crypto Promo (%)"}),e.jsx("input",{type:"number",value:S.cryptoPromoPct,onChange:U=>Te("cryptoPromoPct",U.target.value)}),e.jsx("label",{children:"Promo Type"}),e.jsxs("select",{value:S.promoType,onChange:U=>Te("promoType",U.target.value),children:[e.jsx("option",{value:"promo_credit",children:"Promo Credit"}),e.jsx("option",{value:"bonus_credit",children:"Bonus Credit"}),e.jsx("option",{value:"none",children:"None"})]}),e.jsx("label",{children:"Expires On"}),e.jsx("input",{type:"date",value:S.expiresOn,onChange:U=>Te("expiresOn",U.target.value)}),e.jsx("label",{children:"Player Notes"}),e.jsx("textarea",{rows:9,placeholder:"For agent reference only",value:S.playerNotes,onChange:U=>Te("playerNotes",U.target.value)}),e.jsx("label",{children:"Balance"}),e.jsx("input",{type:"number",value:f.balance??0,onChange:U=>j(be=>({...be,balance:Number(U.target.value||0)}))}),e.jsx("button",{className:"btn btn-user",onClick:Ja,children:"Update Balance"})]})]}),e.jsxs("div",{className:"bottom-line",children:[e.jsxs("span",{children:["Total Wagered: ",lt(A.totalWagered||0)]}),e.jsxs("span",{children:["Net: ",e.jsx("b",{className:Number(A.netProfit||0)<0?"neg":"pos",children:lt(A.netProfit||0)})]})]})]}),se&&e.jsx("div",{className:"modal-overlay",onClick:()=>Z(!1),children:e.jsxs("div",{className:"modal-card",onClick:U=>U.stopPropagation(),children:[e.jsx("h4",{children:"New transaction"}),e.jsx("label",{children:"Type"}),e.jsxs("select",{value:J,onChange:U=>I(U.target.value),children:[e.jsx("option",{value:"credit",children:"Credit"}),e.jsx("option",{value:"debit",children:"Debit"})]}),e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:q,onChange:U=>ue(U.target.value),placeholder:"0.00"}),e.jsx("label",{children:"Description"}),e.jsx("input",{value:me,onChange:U=>ve(U.target.value),placeholder:"Optional note"}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"btn btn-back",onClick:()=>Z(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-save",onClick:kn,children:"Save"})]})]})}),da&&e.jsx("div",{className:"modal-overlay",onClick:()=>Nt(!1),children:e.jsxs("div",{className:"modal-card",onClick:U=>U.stopPropagation(),children:[e.jsx("h4",{children:"New Free Play"}),e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:tn,onChange:U=>Ss(U.target.value),placeholder:"0.00"}),e.jsx("label",{children:"Description"}),e.jsx("input",{value:ks,onChange:U=>Qa(U.target.value),placeholder:"Optional note"}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"btn btn-back",onClick:()=>Nt(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-save",onClick:De,children:"Save"})]})]})}),e.jsx("style",{children:`
        .customer-details-v2 { background:#f3f4f6; min-height:100vh; padding:16px; color:#1f2937; }
        .top-panel { display:flex; justify-content:space-between; align-items:flex-start; background:#fff; border:1px solid #d1d5db; border-radius:8px; padding:16px; box-shadow:0 1px 6px rgba(15, 23, 42, 0.04); }
        .top-left h2 { margin:0; font-size:18px; line-height:1.2; }
        .agent-line { margin-top:4px; color:#4b5563; font-size:14px; }
        .top-actions { display:flex; gap:8px; }

        .btn { border:none; border-radius:3px; cursor:pointer; font-weight:600; }
        .btn-back { background:#3db3d7; color:#fff; padding:8px 14px; }
        .btn-user { background:#2f7fb6; color:#fff; padding:8px 14px; }
        .btn-copy-all { background:#139cc9; color:#fff; padding:8px 14px; }
        .btn-save { background:#35b49f; color:#fff; padding:9px 20px; min-width:130px; font-size:14px; }

        .player-card {
          margin-top: 10px;
          border: 1px solid #d6e2f3;
          border-radius: 4px;
          padding: 12px;
          background: #fff;
          max-width: 720px;
          box-shadow: none;
        }
        .player-card-head {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 8px;
          margin-bottom: 10px;
        }
        .player-title-wrap {
          display: flex;
          align-items: center;
          gap: 10px;
        }
        .player-badge {
          display: inline-flex;
          align-items: center;
          padding: 5px 10px;
          border-radius: 4px;
          border: 1px solid #9ec4f2;
          color: #1f5fb9;
          font-weight: 700;
          font-size: 13px;
        }
        .creds-box {
          border: 1px solid #d6e2f3;
          border-radius: 4px;
          padding: 10px;
          background: #fff;
        }
        .creds-row {
          display: grid;
          grid-template-columns: 120px 160px 32px;
          align-items: center;
          gap: 8px;
          margin-bottom: 8px;
        }
        .creds-row:last-child { margin-bottom: 0; }
        .creds-row span {
          font-size: 14px;
          font-weight: 700;
          color: #64748b;
        }
        .creds-pill {
          border: none;
          background: transparent;
          border-radius: 0;
          padding: 0;
          font-size: 14px;
          font-weight: 700;
          color: #334155;
          line-height: 1.1;
        }
        .copy-mini {
          border: none;
          background: transparent;
          color: #5b93ed;
          cursor: pointer;
          font-size: 18px;
          line-height: 1;
        }
        .limits-box {
          margin-top: 12px;
          border: 1px solid #d6e2f3;
          border-radius: 4px;
          padding: 12px;
          background: #fff;
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 12px 28px;
        }
        .limit-item label {
          display: block;
          margin: 0 0 4px;
          text-transform: uppercase;
          color: #8aa0bc;
          font-size: 12px;
          font-weight: 700;
          letter-spacing: 0.3px;
        }
        .limit-item strong {
          color: #1e293b;
          font-size: 16px;
          line-height: 1;
        }
        .limit-item .money-green {
          color: #08916a;
        }
        .copy-notice {
          margin-top: 6px;
          color: #1f5fb9;
          font-size: 13px;
          font-weight: 700;
        }
        .mobile-only { display: none; }

        .top-right { text-align:right; display:flex; flex-direction:column; gap:8px; }
        .metric {
          border: none;
          background: transparent;
          text-align: right;
          cursor: pointer;
          padding: 0;
        }
        .metric.metric-active { opacity: 1; }
        .metric:not(.metric-active) { opacity: 0.95; }
        .metric span { display:block; font-size:12px; color:#374151; }
        .metric b { font-size:16px; line-height:1.1; font-weight:700; }
        .metric .neg { color:#dc2626; }
        .metric .pos { color:#15803d; }
        .metric .neutral { color:#111827; }
        .metric-circle { background: transparent; border: none; border-radius: 0; padding: 0; margin-top: 0; }

        .basics-header { margin-top:8px; background:#fff; border:1px solid #d1d5db; border-radius:10px; padding:10px 12px; display:flex; align-items:center; justify-content:space-between; }
        .basics-left { display:flex; align-items:center; gap:10px; }
        .basics-left h3 { margin:0; font-size:22px; line-height:1.1; font-weight:700; }
        .dot-grid { width:20px; display:grid; grid-template-columns:repeat(3, 4px); gap:3px; }
        .dot-grid span { width:4px; height:4px; background:#4b5563; border-radius:50%; display:block; }
        .dot-grid-btn {
          border: none;
          background: transparent;
          padding: 2px;
          cursor: pointer;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          border-radius: 4px;
        }
        .dot-grid-btn:hover { background: #e5e7eb; }

        .menu-backdrop {
          position: fixed;
          inset: 0;
          z-index: 40;
          border: none;
          background: rgba(15, 23, 42, 0.15);
        }
        .basics-quick-menu {
          position: absolute;
          z-index: 50;
          left: 24px;
          top: 245px;
          width: 300px;
          height: 300px;
          max-width: calc(100vw - 48px);
          background: #ffffff;
          border: 1px solid #d1d5db;
          border-radius: 6px;
          box-shadow: 0 14px 28px rgba(0, 0, 0, 0.2);
          padding: 10px 8px 10px;
          overflow: hidden;
        }
        .menu-close {
          border: none;
          background: #374151;
          color: #fff;
          width: 28px;
          height: 28px;
          border-radius: 50%;
          cursor: pointer;
          margin-left: auto;
          display: block;
          font-weight: 700;
        }
        .menu-grid {
          display: grid;
          grid-template-columns: repeat(3, minmax(0, 1fr));
          gap: 14px 10px;
          padding: 8px 2px 2px;
          height: 248px;
          overflow-y: auto;
        }
        .menu-item {
          border: none;
          background: transparent;
          text-align: center;
          cursor: pointer;
          padding: 4px;
          color: #1f2937;
        }
        .menu-item:hover .menu-icon {
          transform: translateY(-1px);
        }
        .menu-icon {
          width: 40px;
          height: 40px;
          border-radius: 8px;
          margin: 0 auto 6px;
          display: grid;
          place-items: center;
          font-size: 20px;
          line-height: 1;
          color: #1f2937;
          background: #f3f4f6;
          transition: transform 0.15s ease;
        }
        .menu-item:nth-child(1) .menu-icon { color:#ef4444; }
        .menu-item:nth-child(2) .menu-icon { color:#65a30d; }
        .menu-item:nth-child(3) .menu-icon { color:#3b82f6; }
        .menu-item:nth-child(4) .menu-icon { color:#a16207; }
        .menu-item:nth-child(5) .menu-icon { color:#0d9488; }
        .menu-item:nth-child(6) .menu-icon { color:#f97316; }
        .menu-item:nth-child(7) .menu-icon { color:#111827; }
        .menu-item:nth-child(8) .menu-icon { color:#1d4ed8; }
        .menu-item:nth-child(9) .menu-icon { color:#4b5563; }
        .menu-item:nth-child(10) .menu-icon { color:#0ea5e9; }
        .menu-item:nth-child(11) .menu-icon { color:#4f46e5; }
        .menu-item:nth-child(12) .menu-icon { color:#b91c1c; }
        .menu-item:nth-child(13) .menu-icon { color:#60a5fa; }
        .menu-item:nth-child(14) .menu-icon { color:#6b7280; }
        .menu-item:nth-child(15) .menu-icon { color:#84a34a; }
        .menu-item:nth-child(16) .menu-icon { color:#c084fc; }
        .menu-item:nth-child(17) .menu-icon { color:#d97706; }
        .menu-item:nth-child(18) .menu-icon { color:#16a34a; }
        .menu-label {
          font-size: 11px;
          font-weight: 600;
          line-height: 1.1;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }

        .alert { margin-top:8px; padding:10px 12px; border-radius:3px; }
        .alert.error { background:#fee2e2; color:#991b1b; border:1px solid #fecaca; }
        .alert.success { background:#dcfce7; color:#166534; border:1px solid #bbf7d0; }

        .transactions-wrap {
          margin-top: 8px;
          background: #fff;
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 12px;
        }
        .tx-controls {
          display: grid;
          grid-template-columns: 1.2fr 1.2fr repeat(4, 1fr);
          gap: 10px;
          margin-bottom: 12px;
        }
        .tx-field label, .tx-stat label {
          display: block;
          color: #4b5563;
          font-size: 12px;
          margin-bottom: 4px;
        }
        .tx-field select {
          width: 100%;
          border: none;
          border-bottom: 1px solid #6b7280;
          background: transparent;
          font-size: 16px;
          padding: 4px 0;
          color: #111827;
          outline: none;
        }
        .tx-field input {
          width: 100%;
          border: none;
          border-bottom: 1px solid #6b7280;
          background: transparent;
          font-size: 16px;
          padding: 4px 0;
          color: #111827;
          outline: none;
        }
        .tx-stat b {
          display: block;
          font-size: 22px;
          line-height: 1.05;
          font-weight: 500;
          color: #111827;
        }
        .tx-stat .neg { color: #dc2626; }
        .tx-table-wrap {
          border: 1px solid #cbd5e1;
          min-height: 360px;
          overflow: auto;
          background: #fff;
        }
        .tx-table {
          width: 100%;
          border-collapse: collapse;
        }
        .tx-table th {
          background: #1f3345;
          color: #fff;
          text-align: left;
          font-size: 16px;
          padding: 10px 12px;
          position: sticky;
          top: 0;
        }
        .tx-table td {
          border-bottom: 1px solid #e5e7eb;
          padding: 8px 12px;
          font-size: 14px;
          color: #1f2937;
        }
        .tx-table tr.selected td { background: #eff6ff; }
        .tx-table tr { cursor: pointer; }
        .tx-empty {
          text-align: center;
          padding: 24px !important;
          color: #6b7280 !important;
        }
        .btn-danger {
          margin-top: 10px;
          background: #dc3f51;
          color: #fff;
          padding: 10px 30px;
        }
        .btn-danger:disabled {
          opacity: 0.45;
          cursor: not-allowed;
        }
        .freeplay-controls {
          grid-template-columns: 1.2fr 1fr 1fr;
        }
        .freeplay-bottom-row {
          margin-top: 10px;
          display: grid;
          grid-template-columns: auto 1fr auto;
          align-items: end;
          gap: 12px;
        }
        .freeplay-settings-btn {
          justify-self: center;
          min-width: 320px;
          text-align: center;
        }
        .freeplay-inputs {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
          min-width: 360px;
        }

        .performance-wrap {
          margin-top: 8px;
          background: #fff;
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 12px;
        }
        .perf-controls {
          display: grid;
          grid-template-columns: 220px;
          gap: 10px;
          margin-bottom: 10px;
        }
        .performance-grid {
          display: grid;
          grid-template-columns: 480px 1fr;
          gap: 16px;
          min-height: 420px;
        }
        .perf-left {
          border: 1px solid #cbd5e1;
          max-height: 420px;
          overflow-y: auto;
        }
        .perf-right {
          border: 1px solid #cbd5e1;
          padding: 0;
        }
        .perf-title-row {
          display: flex;
          justify-content: space-between;
          align-items: center;
          font-size: 18px;
          line-height: 1;
          padding: 8px 0 8px 0;
        }
        .perf-title-row b { font-size: 26px; font-weight: 700; }
        .perf-table {
          width: 100%;
          border-collapse: collapse;
        }
        .perf-table th {
          background: #1f3345;
          color: #fff;
          text-align: left;
          font-size: 14px;
          padding: 8px 10px;
          position: sticky;
          top: 0;
        }
        .perf-table td {
          border-bottom: 1px solid #e5e7eb;
          padding: 8px 10px;
          font-size: 14px;
          color: #1f2937;
        }
        .perf-table tr.selected td { background: #f1f5f9; }

        .dynamic-live-wrap {
          margin-top: 8px;
          background: #fff;
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 12px;
        }
        .dl-top-select {
          width: 220px;
          margin-bottom: 12px;
        }
        .dynamic-live-grid {
          display: grid;
          grid-template-columns: 1fr 1fr 1fr;
          gap: 28px;
        }
        .dl-col, .dl-col-toggles {
          display: flex;
          flex-direction: column;
          gap: 6px;
        }
        .dl-col label {
          font-size: 13px;
          color: #4b5563;
        }
        .dl-col input {
          border: none;
          border-bottom: 1px solid #6b7280;
          background: transparent;
          font-size: 16px;
          line-height: 1;
          color: #111827;
          padding: 2px 0 4px;
          outline: none;
        }
        .dl-col-toggles .switch-row {
          justify-content: space-between;
          font-size: 15px;
          line-height: 1.15;
          padding: 10px 0;
        }

        .live-casino-wrap {
          margin-top: 8px;
          background: #fff;
          border: 1px solid #d1d5db;
          border-radius: 10px;
          padding: 12px 18px 22px;
        }
        .live-casino-grid {
          display: grid;
          grid-template-columns: 220px 130px 130px 130px;
          gap: 10px 20px;
          align-items: center;
          max-width: 760px;
        }
        .lc-col-head {
          font-size: 18px;
          color: #374151;
          font-weight: 700;
        }
        .lc-label {
          font-size: 14px;
          color: #374151;
          font-weight: 600;
        }
        .live-casino-grid input {
          width: 100%;
          border: 1px solid #d1d5db;
          background: #fff;
          border-radius: 4px;
          font-size: 14px;
          line-height: 1;
          padding: 4px 8px;
          color: #111827;
        }
        .lc-note {
          margin-top: 16px;
          max-width: 1200px;
          font-size: 13px;
          line-height: 1.35;
          color: #374151;
        }

        .basics-grid { margin-top:8px; display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; }
        .col-card { background:#fff; border:1px solid #d1d5db; padding:12px; display:flex; flex-direction:column; min-height:560px; }
        .col-card label { color:#4b5563; font-size:13px; margin-top:8px; margin-bottom:4px; }
        .col-card input, .col-card select, .col-card textarea { width:100%; border:none; border-bottom:1px solid #6b7280; background:transparent; font-size:18px; padding:4px 0; color:#111827; outline:none; }
        .col-card textarea { border:1px solid #6b7280; min-height:160px; font-size:16px; padding:6px; }

        .switch-list { margin-top:8px; }
        .switch-row { display:flex; align-items:center; justify-content:space-between; padding:6px 0; font-size:16px; }
        .switch-row.inline-top { margin-top:8px; }
        .switch {
          position:relative;
          display:inline-block;
          width:58px;
          height:32px;
          flex-shrink:0;
        }
        .switch input { opacity:0; width:0; height:0; }
        .slider {
          position:absolute;
          cursor:pointer;
          top:0;
          left:0;
          right:0;
          bottom:0;
          background-color:#b0b7c3;
          transition:.2s;
          border-radius:999px;
        }
        .slider:before {
          position:absolute;
          content:'';
          height:24px;
          width:24px;
          left:4px;
          top:4px;
          background:white;
          transition:.2s;
          border-radius:50%;
        }
        .switch input:checked + .slider { background:#16a34a; }
        .switch input:checked + .slider:before { transform:translateX(26px); }

        .bottom-line { margin-top:10px; font-size:14px; color:#374151; display:flex; gap:22px; }
        .bottom-line .neg { color:#dc2626; }
        .bottom-line .pos { color:#15803d; }

        .modal-overlay {
          position: fixed;
          inset: 0;
          background: rgba(0, 0, 0, 0.35);
          z-index: 120;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .modal-card {
          width: 380px;
          max-width: calc(100vw - 32px);
          border-radius: 8px;
          background: #fff;
          padding: 16px;
          border: 1px solid #d1d5db;
          box-shadow: 0 12px 30px rgba(0,0,0,0.25);
          display: flex;
          flex-direction: column;
          gap: 6px;
        }
        .modal-card h4 { margin: 0 0 6px; font-size: 18px; }
        .modal-card label { font-size: 13px; color: #4b5563; }
        .modal-card input, .modal-card select {
          border: 1px solid #cbd5e1;
          border-radius: 4px;
          padding: 8px 10px;
          font-size: 14px;
          color: #111827;
        }
        .modal-actions {
          margin-top: 8px;
          display: flex;
          justify-content: flex-end;
          gap: 8px;
        }

        @media (max-width: 1300px) {
          .basics-grid { grid-template-columns:1fr; }
          .top-panel { flex-direction:column; gap:12px; }
          .top-right { text-align:left; }
          .player-card { max-width: 100%; }
          .player-card-head { flex-direction: column; align-items: flex-start; }
          .creds-row { grid-template-columns: 90px 1fr 32px; }
          .limits-box { grid-template-columns: 1fr; }
          .top-actions { display: none; }
          .mobile-only { display: flex; margin-top: 8px; }
          .tx-controls { grid-template-columns: 1fr 1fr; }
          .tx-stat b { font-size: 20px; }
          .freeplay-controls { grid-template-columns: 1fr 1fr; }
          .freeplay-bottom-row { grid-template-columns: 1fr; }
          .freeplay-inputs { min-width: 0; grid-template-columns: 1fr; }
          .performance-grid { grid-template-columns: 1fr; }
          .perf-left { max-height: 300px; }
          .perf-title-row { font-size: 20px; }
          .perf-title-row b { font-size: 24px; }
          .dynamic-live-grid { grid-template-columns: 1fr; }
          .dl-col input { font-size: 20px; }
          .dl-col-toggles .switch-row { font-size: 18px; }
          .live-casino-grid { grid-template-columns: 1fr 1fr; max-width: none; }
          .lc-col-head, .lc-label, .live-casino-grid input { font-size: 18px; }
          .lc-note { font-size: 14px; }
        }
      `})]}):e.jsx("div",{className:"admin-view",children:e.jsx("div",{className:"view-content",children:"User not found."})})}class C0 extends ys.Component{constructor(r){super(r),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,c){console.error("Uncaught error:",r,c),this.setState({error:r,errorInfo:c})}render(){return this.state.hasError?e.jsxs("div",{className:"error-boundary p-4 bg-red-100 border border-red-400 text-red-700 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Something went wrong."}),e.jsx("span",{className:"block sm:inline",children:" The view could not be loaded."}),e.jsx("br",{}),e.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),e.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),e.jsx("button",{className:"mt-2 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",onClick:()=>this.setState({hasError:!1}),children:"Try Again"})]}):this.props.children}}const A0=["dashboard","weekly-figures","customer-admin","add-customer","cashier","settings","profile"];function rd({onExit:l,role:r="admin"}){const[c,d]=u.useState("dashboard"),[h,p]=u.useState(!1),[b,w]=u.useState(null),[x,g]=u.useState("tiles"),[v,f]=u.useState(window.innerWidth<=768),[j,A]=u.useState(null),[N,M]=u.useState(r),[R,S]=u.useState(!1);u.useEffect(()=>{(async()=>{try{const k=localStorage.getItem("token");if(k){const $=await en(k);$&&($.dashboardLayout&&g($.dashboardLayout),A($.permissions||null),$.role&&M($.role))}}catch(k){console.error("Failed to fetch layout pref",k)}})()},[]),u.useEffect(()=>{const y=()=>{f(window.innerWidth<=768)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const z=(y,k=null)=>{ii(N,j,y)&&(d(y),k&&w(k),p(!1))};u.useEffect(()=>{if(!ii(N,j,c)){const y=A0.find(k=>ii(N,j,k))||"dashboard";d(y)}},[c,j,N]);const L=()=>{l()},E=()=>{switch(c){case"dashboard":return e.jsx(zf,{onMenuClick:z,onOpenScoreboard:()=>S(!0),role:N,layoutPref:x,isMobile:v,permissions:j});case"user-details":return e.jsx(k0,{userId:b,onBack:()=>d("customer-admin"),role:N});case"weekly-figures":return e.jsx(Gv,{});case"pending":return e.jsx(Wv,{});case"messaging":return e.jsx(Yv,{});case"game-admin":return e.jsx(Vv,{});case"customer-admin":return e.jsx(Qv,{onViewChange:z});case"cashier":return e.jsx(Kv,{});case"add-customer":return e.jsx(a0,{});case"third-party-limits":return e.jsx(s0,{});case"props":return e.jsx(n0,{});case"agent-performance":return e.jsx(l0,{});case"analysis":return e.jsx(i0,{});case"ip-tracker":return e.jsx(r0,{canManage:$v(N,j)});case"transactions-history":return e.jsx(o0,{});case"collections":return e.jsx(c0,{});case"deleted-wagers":return e.jsx(d0,{});case"games-events":return e.jsx(u0,{});case"sportsbook-links":return e.jsx(h0,{});case"bet-ticker":return e.jsx(m0,{});case"ticketwriter":return e.jsx(f0,{});case"scores":return e.jsx(p0,{});case"agent-admin":return e.jsx(Gf,{});case"agent-manager":return e.jsx(x0,{});case"master-agent-admin":return e.jsx(Gf,{});case"billing":return e.jsx(g0,{});case"settings":return e.jsx(b0,{});case"profile":return e.jsx(S0,{});case"rules":return e.jsx(y0,{});case"feedback":return e.jsx(j0,{});case"faq":return e.jsx(v0,{});case"user-manual":return e.jsx(N0,{});case"monitor":return e.jsx(w0,{});default:return e.jsx(zf,{onMenuClick:z,onOpenScoreboard:()=>S(!0),role:N,permissions:j})}};return e.jsxs("div",{className:"admin-panel",children:[e.jsx(Hv,{onMenuToggle:()=>p(!h),onLogout:L,onViewChange:z,role:N}),e.jsxs("div",{className:"admin-container",children:[e.jsx(qv,{activeView:c,onViewChange:z,onOpenScoreboard:()=>S(!0),isOpen:h,role:N,permissions:j}),e.jsx("div",{className:"admin-content",children:e.jsx(C0,{children:E()})})]}),R&&e.jsx(Dp,{onClose:()=>S(!1)})]})}const E0=({onLogin:l,isLoggedIn:r})=>{const[c,d]=u.useState({username:"",password:""}),[h,p]=u.useState(""),[b,w]=u.useState("all");return e.jsxs("div",{className:"landing-page",children:[e.jsx(Zj,{onLogin:l,isLoggedIn:r}),e.jsx(Kj,{activeLeague:b,onSelectLeague:w}),e.jsx(ev,{}),e.jsxs("div",{className:"banner-content-centered",children:[e.jsx("img",{src:"/bgremlogo.png",alt:"betterbet365",className:"banner-logo"}),e.jsx("div",{className:"banner-divider"}),e.jsx("p",{className:"banner-tagline",children:"THE PREMIUM CHOICE FOR WINNERS"})]}),e.jsx("footer",{className:"main-footer",children:e.jsxs("div",{className:"footer-content",children:[e.jsxs("div",{className:"footer-left",children:[e.jsx("img",{src:"/bgremlogo.png",alt:"Logo",className:"footer-logo"}),e.jsx("p",{className:"copyright",children:" 2026 betterbet365 | All Rights Reserved"})]}),e.jsxs("div",{className:"footer-right",children:[e.jsx("span",{children:"RESPONSIBLE GAMING"}),e.jsx("span",{children:"TERMS & CONDITIONS"}),e.jsx("span",{children:"PRIVACY POLICY"})]})]})})]})},Yf={straight:{minLegs:1,maxLegs:1,teaserPointOptions:[],payoutProfile:{multipliers:{}}},parlay:{minLegs:2,maxLegs:12,teaserPointOptions:[],payoutProfile:{multipliers:{}}},teaser:{minLegs:2,maxLegs:6,teaserPointOptions:[6,6.5,7],payoutProfile:{multipliers:{2:1.8,3:2.6,4:4,5:6.5,6:9.5}}},if_bet:{minLegs:2,maxLegs:2,teaserPointOptions:[],payoutProfile:{multipliers:{}}},reverse:{minLegs:2,maxLegs:2,teaserPointOptions:[],payoutProfile:{multipliers:{}}}},Vf=[{id:"straight",label:"STRAIGHT",icon:"S"},{id:"parlay",label:"PARLAY",icon:"P"},{id:"teaser",label:"TEASER",icon:"T"},{id:"if_bet",label:"IF BET",icon:"I"},{id:"reverse",label:"REVERSE",icon:"R"}],Br=l=>{const r=Number(l);return Number.isFinite(r)?r.toFixed(2):"0.00"},T0=(l,r)=>{const c=l?.payoutProfile?.multipliers?.[String(r)],d=Number(c);return Number.isFinite(d)&&d>0?d:1},L0=({user:l,balance:r=0,mode:c,onModeChange:d,selections:h,onSelectionsChange:p,wager:b,onWagerChange:w,teaserPoints:x,onTeaserPointsChange:g,rulesByMode:v,onBetPlaced:f})=>{const[j,A]=u.useState(null),[N,M]=u.useState(!1),[R,S]=u.useState(!1),[z,L]=u.useState(!1);u.useEffect(()=>{const _=window.matchMedia("(max-width: 768px)"),Q=()=>S(_.matches);return Q(),_.addEventListener("change",Q),()=>_.removeEventListener("change",Q)},[]);const E=Js(c),y=v[E]||Yf[E]||Yf.straight,k=h.length,$=Number(b),V=Number(x||0),B=E!=="teaser"||!Array.isArray(y.teaserPointOptions)||y.teaserPointOptions.length===0||y.teaserPointOptions.includes(V),ce=u.useMemo(()=>{const _=[];return(k<y.minLegs||k>y.maxLegs)&&_.push(`${Vf.find(Q=>Q.id===E)?.label||"MODE"} requires ${y.minLegs===y.maxLegs?y.minLegs:`${y.minLegs}-${y.maxLegs}`} selections`),(!Number.isFinite($)||$<=0)&&_.push("Enter a valid wager amount"),B||_.push(`Select teaser points: ${y.teaserPointOptions.join(", ")}`),h.every(Q=>Number.isFinite(Number(Q.odds))&&Number(Q.odds)>0)||_.push("One or more selections have invalid odds"),_},[k,E,y,h,$,B]),F=u.useMemo(()=>{if(!Number.isFinite($)||$<=0||k===0)return 0;if(E==="straight")return $*Number(h[0]?.odds||0);if(E==="parlay"){const _=h.reduce((Q,se)=>Q*Number(se.odds||1),1);return $*_}if(E==="teaser")return $*T0(y,k);if(E==="if_bet"||E==="reverse"){const _=h.slice(0,2).reduce((Q,se)=>Q*Number(se.odds||1),1);return $*_}return 0},[$,k,E,h,y]),C=E==="reverse"?$*2:$,P=ce.length===0&&!N,D=k>0,[ae,H]=u.useState(D);u.useEffect(()=>{D&&H(!0)},[D]);const G=_=>{p(h.filter(Q=>Q.id!==_))},ie=()=>{p([]),w(""),A(null),L(!1)},ye=async()=>{const _=localStorage.getItem("token");if(!_){L(!0),A({type:"error",text:"Please login to place bets"});return}if(L(!0),!P)return;const Q={type:E,amount:$,teaserPoints:E==="teaser"?V:0};if(E==="straight"){const se=h[0];Q.matchId=se.matchId,Q.selection=se.selection,Q.odds=Number(se.odds),Q.type=E}else Q.selections=h.map(se=>({matchId:se.matchId,selection:se.selection,odds:Number(se.odds),type:se.marketType||"straight"}));try{M(!0);const se=await By(Q,_);A({type:"success",text:se?.message||"Bet placed successfully"}),ie(),window.dispatchEvent(new Event("user:refresh")),f&&f()}catch(se){A({type:"error",text:se.message||"Failed to place bet"})}finally{M(!1)}},K=R?{position:"fixed",left:0,right:0,bottom:0,maxHeight:"62vh",zIndex:1200,borderTopLeftRadius:16,borderTopRightRadius:16}:{position:"fixed",right:16,top:150,width:360,maxHeight:"calc(100vh - 170px)",zIndex:1200,borderRadius:14};return ae?e.jsxs("div",{style:{...K,display:"flex",flexDirection:"column",background:"#f8f9fb",border:"1px solid #d9dbe0",overflow:"hidden",boxShadow:"0 8px 24px rgba(0,0,0,0.18)"},children:[e.jsx("div",{style:{background:"#0f5db3",color:"white",padding:"10px 12px"},children:e.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[Vf.map(_=>e.jsxs("button",{onClick:()=>d(_.id),style:{flex:1,border:"none",borderRadius:6,padding:"7px 4px",fontSize:11,fontWeight:700,color:Js(c)===_.id?"#0f5db3":"#ffffff",background:Js(c)===_.id?"#ffffff":"rgba(255,255,255,0.18)",cursor:"pointer"},children:[_.icon," ",_.label]},_.id)),e.jsx("button",{onClick:()=>H(!1),title:"Minimize",style:{border:"none",background:"rgba(255,255,255,0.2)",color:"#fff",borderRadius:6,width:34,height:34,cursor:"pointer",flexShrink:0},children:e.jsx("i",{className:"fa-solid fa-minus"})})]})}),e.jsxs("div",{style:{padding:12,overflowY:"auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[e.jsxs("strong",{children:["Selections (",k,")"]}),e.jsx("button",{onClick:ie,style:{border:"none",background:"transparent",color:"#666",cursor:"pointer"},children:"Clear"})]}),k===0&&e.jsx("div",{style:{fontSize:13,color:"#666",padding:"8px 0"},children:"Click odds from the board to add selections."}),h.map(_=>e.jsxs("div",{style:{border:"1px solid #d7dbe3",borderRadius:8,padding:8,marginBottom:8,background:"#fff"},children:[e.jsx("div",{style:{fontSize:12,color:"#555"},children:_.matchName}),e.jsx("div",{style:{fontSize:13,fontWeight:700},children:_.selection}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:4,fontSize:12},children:[e.jsx("span",{children:_.marketLabel}),e.jsx("span",{children:Br(_.odds)})]}),e.jsx("div",{style:{marginTop:6},children:e.jsx("button",{onClick:()=>G(_.id),style:{border:"none",background:"#f2f3f6",color:"#444",borderRadius:5,padding:"3px 8px",cursor:"pointer",fontSize:11},children:"Remove"})})]},_.id)),e.jsxs("div",{style:{marginTop:10},children:[e.jsx("label",{style:{display:"block",fontSize:12,marginBottom:4},children:"Stake"}),e.jsx("input",{type:"number",min:"0",value:b,onChange:_=>w(_.target.value),placeholder:"0.00",style:{width:"100%",padding:10,borderRadius:8,border:"1px solid #cfd4dd"}}),e.jsxs("div",{style:{fontSize:11,color:"#666",marginTop:4},children:["Balance: $",Br(r)]})]}),E==="teaser"&&Array.isArray(y.teaserPointOptions)&&y.teaserPointOptions.length>0&&e.jsxs("div",{style:{marginTop:10},children:[e.jsx("label",{style:{display:"block",fontSize:12,marginBottom:4},children:"Teaser Points"}),e.jsxs("select",{value:x,onChange:_=>g(_.target.value),style:{width:"100%",padding:10,borderRadius:8,border:"1px solid #cfd4dd"},children:[e.jsx("option",{value:"",children:"Select points"}),y.teaserPointOptions.map(_=>e.jsx("option",{value:_,children:_},_))]})]}),e.jsxs("div",{style:{marginTop:10,padding:10,borderRadius:8,background:"#eef3fa",fontSize:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Total Risk"}),e.jsxs("strong",{children:["$",Br(C)]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:6},children:[e.jsx("span",{children:"Potential Payout"}),e.jsxs("strong",{children:["$",Br(F)]})]})]}),ce.map(_=>z?e.jsx("div",{style:{color:"#a11",fontSize:12,marginTop:7},children:_},_):null).filter(Boolean),j&&e.jsx("div",{style:{color:j.type==="error"?"#a11":"#0b6623",fontSize:12,marginTop:7},children:j.text}),e.jsx("button",{onClick:ye,disabled:!P,style:{width:"100%",marginTop:12,border:"none",borderRadius:8,padding:"12px 10px",fontWeight:800,color:"white",background:P?"#0f5db3":"#9ca5b3",cursor:P?"pointer":"not-allowed"},children:N?"Placing...":"Place Bet"})]})]}):e.jsx("button",{onClick:()=>H(!0),title:"Open Bet Panel",style:{position:"fixed",right:18,bottom:18,width:58,height:58,borderRadius:"50%",border:"none",background:"#0f5db3",color:"#fff",zIndex:1200,boxShadow:"0 8px 20px rgba(0,0,0,0.28)",cursor:"pointer",fontSize:22,fontWeight:900},children:e.jsx("i",{className:"fa-solid fa-ticket"})})},M0={straight:{minLegs:1,maxLegs:1,teaserPointOptions:[],payoutProfile:{multipliers:{}}},parlay:{minLegs:2,maxLegs:12,teaserPointOptions:[],payoutProfile:{multipliers:{}}},teaser:{minLegs:2,maxLegs:6,teaserPointOptions:[6,6.5,7],payoutProfile:{multipliers:{2:1.8,3:2.6,4:4,5:6.5,6:9.5}}},if_bet:{minLegs:2,maxLegs:2,teaserPointOptions:[],payoutProfile:{multipliers:{}}},reverse:{minLegs:2,maxLegs:2,teaserPointOptions:[],payoutProfile:{multipliers:{}}}};function D0(){const l=yd(),[r,c]=u.useState(localStorage.getItem("token")||null),[d,h]=u.useState(!!r),[p,b]=u.useState("all"),[w,x]=u.useState("dashboard"),[g,v]=u.useState([]),[f,j]=u.useState("straight"),[A,N]=u.useState([]),[M,R]=u.useState(""),[S,z]=u.useState(""),[L,E]=u.useState(M0),[y,k]=u.useState(!1),[$,V]=u.useState(!1),[B,ce]=u.useState(!1),F=typeof window<"u"&&window.matchMedia&&window.matchMedia("(max-width: 768px)").matches,[C,P]=u.useState(null);u.useEffect(()=>{window.dispatchEvent(new CustomEvent("matches:refresh")),r?(h(!0),document.body.classList.add("dashboard-mode"),D(r)):(h(!1),document.body.classList.remove("dashboard-mode"))},[r]),u.useEffect(()=>{(async()=>{if(r)try{const Z=((await Ry(r))?.rules||[]).reduce((J,I)=>(J[Js(I.mode)]=I,J),{});Object.keys(Z).length>0&&E(J=>({...J,...Z}))}catch(se){console.warn("Failed to load bet mode rules:",se.message)}})()},[r]),u.useEffect(()=>{const Q=se=>{const Z=se.detail||{};if(!Z.matchId||!Z.selection)return;const J=Js(f),I=`${Z.matchId}-${Z.marketType}-${Z.selection}`;N(q=>{if(q.find(ve=>ve.dedupeKey===I))return q;const me=[...q,{...Z,id:Date.now()+Math.random(),dedupeKey:I}];return J==="straight"?[me[me.length-1]]:me})};return window.addEventListener("betslip:add",Q),()=>window.removeEventListener("betslip:add",Q)},[f]),u.useEffect(()=>{if(C&&(C.role==="admin"||C.role==="agent"||C.role==="super_agent"||C.role==="master_agent")){const Q=C.role==="admin"?"/admin/dashboard":C.role==="super_agent"||C.role==="master_agent"?"/super_agent/dashboard":"/agent/dashboard";l(Q,{replace:!0})}},[C,l]),u.useEffect(()=>{const Q=()=>{r&&D(r)};return window.addEventListener("user:refresh",Q),()=>{window.removeEventListener("user:refresh",Q)}},[r]);const D=async Q=>{try{const se=await en(Q);P(se)}catch(se){console.error("Failed to fetch user data",se),(se?.status===401||se?.status===403)&&H()}},ae=async(Q,se)=>{try{const Z=await Ly(Q,se);if(c(Z.token),localStorage.setItem("token",Z.token),sessionStorage.setItem("token",Z.token),localStorage.setItem("userRole",Z.role),P({username:Z.username,phoneNumber:Z.phoneNumber,balance:Z.balance,pendingBalance:Z.pendingBalance,availableBalance:Z.availableBalance,id:Z.id,role:Z.role,unlimitedBalance:Z.unlimitedBalance}),h(!0),document.body.classList.add("dashboard-mode"),Z.role==="admin"||Z.role==="agent"||Z.role==="super_agent"||Z.role==="master_agent"){const J=Z.role==="admin"?"admin":Z.role==="super_agent"||Z.role==="master_agent"?"super_agent":"agent";sessionStorage.setItem(`${J}Authenticated`,"true"),sessionStorage.setItem(`${J}Username`,Z.username),l(`/${J}/dashboard`)}}catch(Z){throw Z}},H=()=>{c(null),P(null),h(!1),N([]),R(""),z(""),localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("userRole"),document.body.classList.remove("dashboard-mode"),ye()},G=Q=>{x(Q),k(!1)},ie=Q=>{const se=Js(Q);j(se),se==="straight"&&N(Z=>Z.length>0?[Z[Z.length-1]]:[])},ye=()=>{x("dashboard"),v([]),b("all"),ce(!1),k(!1)},K=()=>{ce(!1)},_=Q=>{const se=new Set(["up-next","featured","commercial-live"]);v(Z=>Z.includes(Q)?Z.filter(I=>I!==Q):se.has(Q)?[Q]:[...Z.filter(I=>!se.has(I)),Q])};return e.jsx("div",{className:"app-container",children:d?e.jsxs("div",{className:"dashboard-layout",children:[e.jsx(ov,{username:C?.username||"Guest",balance:C?.balance??null,pendingBalance:C?.pendingBalance??null,availableBalance:C?.availableBalance??C?.balance??null,role:C?.role,unlimitedBalance:C?.unlimitedBalance,onLogout:H,onViewChange:G,activeBetMode:f,onBetModeChange:ie,currentView:w,onToggleSidebar:()=>k(!y),selectedSports:g,onContinue:K,isMobileSportsSelectionMode:B,onHomeClick:ye}),e.jsxs("div",{className:`dashboard-content-area ${B?"mobile-sports-mode":""}`,style:{position:"relative",marginTop:"0"},children:[y&&e.jsx(Dv,{onClose:()=>k(!1),onViewChange:G}),w==="dashboard"&&e.jsx(e.Fragment,{children:F&&B?e.jsx(Tf,{selectedSports:g,onToggleSport:_,betMode:f,isOpen:!0,onCloseSidebar:()=>k(!1),isMobileSportsSelectionMode:B}):F&&g&&g.length>0?e.jsx(_v,{selectedSports:g}):e.jsxs(e.Fragment,{children:[e.jsx(Tf,{selectedSports:g,onToggleSport:_,betMode:f,isOpen:y,onCloseSidebar:()=>k(!1),isMobileSportsSelectionMode:B}),e.jsxs("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column"},children:[$&&e.jsx(Bv,{}),e.jsx("div",{style:{flex:1},children:e.jsx(mv,{selectedSports:g,activeBetMode:f})})]})]})}),w==="prime-live"&&e.jsx(fv,{}),w==="ultra-live"&&e.jsx(yv,{}),w==="casino"&&e.jsx(jv,{}),w==="live-casino"&&e.jsx("div",{style:{flex:1,backgroundColor:"#505050",minHeight:"calc(100vh - 125px)"},children:e.jsx(wv,{})}),w==="props"&&e.jsx(Sv,{}),w==="rules"&&e.jsx(Ev,{}),w==="bonus"&&e.jsx(Mv,{}),w==="tutorials"&&e.jsx(Uv,{}),w==="support"&&e.jsx(zv,{}),w==="my-bets"&&e.jsx(Iv,{})]}),e.jsx(Fv,{}),e.jsx("div",{className:"desktop-feedback-trigger",style:{position:"fixed",bottom:"0",left:"0",width:"260px",background:"#004d26",color:"white",padding:"10px",textAlign:"center",fontWeight:"bold",fontSize:"12px",zIndex:100},children:"FEEDBACK"}),d&&C&&C.role==="user"&&e.jsx(L0,{user:C,balance:C.availableBalance??C.balance,mode:f,onModeChange:ie,selections:A,onSelectionsChange:N,wager:M,onWagerChange:R,teaserPoints:S,onTeaserPointsChange:z,rulesByMode:L,onBetPlaced:()=>D(r)}),e.jsx("div",{style:{position:"fixed",bottom:"40px",left:"20px",width:"50px",height:"50px",background:"#a30000",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",zIndex:21,boxShadow:"0 2px 5px rgba(0,0,0,0.3)",border:"2px solid white"},children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"})})})]}):e.jsx(E0,{onLogin:ae,isLoggedIn:d})})}const _0=({children:l})=>sessionStorage.getItem("adminAuthenticated")==="true"?l:e.jsx(wn,{to:"/admin",replace:!0}),B0=({children:l})=>sessionStorage.getItem("agentAuthenticated")==="true"?l:e.jsx(wn,{to:"/",replace:!0}),R0=({children:l})=>sessionStorage.getItem("super_agentAuthenticated")==="true"?l:e.jsx(wn,{to:"/",replace:!0});Zg.createRoot(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(by,{children:e.jsxs(Vb,{children:[e.jsx(gs,{path:"/",element:e.jsx(D0,{})}),e.jsx(gs,{path:"/admin",element:e.jsx(wn,{to:"/",replace:!0})}),e.jsx(gs,{path:"/agent",element:e.jsx(wn,{to:"/",replace:!0})}),e.jsx(gs,{path:"/super_agent",element:e.jsx(wn,{to:"/",replace:!0})}),e.jsx(gs,{path:"/admin/dashboard",element:e.jsx(_0,{children:e.jsx(rd,{role:"admin",onExit:()=>{sessionStorage.removeItem("adminAuthenticated"),sessionStorage.removeItem("adminUsername"),localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("userRole"),window.location.href="/"}})})}),e.jsx(gs,{path:"/agent/dashboard",element:e.jsx(B0,{children:e.jsx(rd,{role:"agent",onExit:()=>{sessionStorage.removeItem("agentAuthenticated"),sessionStorage.removeItem("agentUsername"),localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("userRole"),window.location.href="/"}})})}),e.jsx(gs,{path:"/super_agent/dashboard",element:e.jsx(R0,{children:e.jsx(rd,{role:"super_agent",onExit:()=>{sessionStorage.removeItem("super_agentAuthenticated"),sessionStorage.removeItem("super_agentUsername"),localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("userRole"),window.location.href="/"}})})}),e.jsx(gs,{path:"*",element:e.jsx(wn,{to:"/",replace:!0})})]})})}));
